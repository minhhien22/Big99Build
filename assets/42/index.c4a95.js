window.__require=function t(e,n,i){function o(s,c){if(!n[s]){if(!e[s]){var a=s.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!c&&l)return l(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+s+"'")}s=a}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){return o(e[s][1][t]||t)},u,u.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<i.length;s++)o(i[s]);return o}({AssetRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"549cchK8LdH8aKU128SdBDe","AssetRungRam");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./SymbolRungRam"),c=cc._decorator,a=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atlasSymbol=null,e.atlasSpecial=null,e.atlasEffect1=null,e.itemSymbolRungRam=null,e.itemEffNearWin=null,e.effectWinSymbol=null,e.itemAddScater=null,e.itemShuffToNormal=null,e.itemSmoke=null,e.poolSymbol=new cc.NodePool(s.default),e.poolAddScater=new cc.NodePool(s.default),e.poolEffNearWin=new cc.NodePool,e.poolWinSymbol=new cc.NodePool,e.poolShuffToNormal=new cc.NodePool,e.poolSmoke=new cc.NodePool,e}return o(e,t),e.prototype.getSymbol=function(){var t=null;return(t=this.poolSymbol.size()>0?this.poolSymbol.get():cc.instantiate(this.itemSymbolRungRam)).active=!0,t},e.prototype.putSymbol=function(t){this.poolSymbol.put(t)},e.prototype.getNearWin=function(){var t=null;return(t=this.poolEffNearWin.size()>0?this.poolEffNearWin.get():cc.instantiate(this.itemEffNearWin)).active=!0,t},e.prototype.putNearWin=function(t){this.poolEffNearWin.put(t)},e.prototype.getWinSymbol=function(){var t=null;return(t=this.poolWinSymbol.size()>0?this.poolWinSymbol.get():cc.instantiate(this.effectWinSymbol)).active=!0,t},e.prototype.putWinSymbol=function(t){this.poolWinSymbol.put(t)},e.prototype.getAddScater=function(){var t=null;return(t=this.poolAddScater.size()>0?this.poolAddScater.get():cc.instantiate(this.itemAddScater)).active=!0,t},e.prototype.putAddScater=function(t){this.poolAddScater.put(t)},e.prototype.getShuffToNormal=function(){var t=null;return(t=this.poolShuffToNormal.size()>0?this.poolShuffToNormal.get():cc.instantiate(this.itemShuffToNormal)).active=!0,t},e.prototype.putShuffToNormal=function(t){this.poolShuffToNormal.put(t)},e.prototype.getSmoke=function(){var t=null;return(t=this.poolSmoke.size()>0?this.poolSmoke.get():cc.instantiate(this.itemSmoke)).active=!0,t},e.prototype.putSmoke=function(t){this.poolSmoke.put(t)},e.prototype.getSfItemSymbol=function(t,e,n){var i=e;return t<11&&(i=1),12!=t&&(i=cc.misc.clampf(i,1,2)),n?this.getAtlas(t).getSpriteFrame("item_"+t+"_"+i+"_blur"):this.getAtlas(t).getSpriteFrame("item_"+t+"_"+i)},e.prototype.getSfKhungSymbol=function(t,e){return e?this.atlasSymbol.getSpriteFrame("khung_"+t+"_blur"):this.atlasSymbol.getSpriteFrame("khung_"+t)},e.prototype.getSfBkg=function(t,e,n){return t<4&&(t=2),t>11&&(t=11),n?this.getAtlas(t).getSpriteFrame("bkg_"+t+"_"+e+"_blur"):this.getAtlas(t).getSpriteFrame("bkg_"+t+"_"+e)},e.prototype.getAtlas=function(t){return t<12?this.atlasSymbol:this.atlasSpecial},e.prototype.onDestroy=function(){this.poolSymbol.clear(),this.poolEffNearWin.clear(),this.poolWinSymbol.clear(),this.poolAddScater.clear(),this.poolShuffToNormal.clear(),this.poolSmoke.clear()},r([l(cc.SpriteAtlas)],e.prototype,"atlasSymbol",void 0),r([l(cc.SpriteAtlas)],e.prototype,"atlasSpecial",void 0),r([l(cc.SpriteAtlas)],e.prototype,"atlasEffect1",void 0),r([l(cc.Node)],e.prototype,"itemSymbolRungRam",void 0),r([l(cc.Node)],e.prototype,"itemEffNearWin",void 0),r([l(cc.Node)],e.prototype,"effectWinSymbol",void 0),r([l(cc.Node)],e.prototype,"itemAddScater",void 0),r([l(cc.Node)],e.prototype,"itemShuffToNormal",void 0),r([l(cc.Node)],e.prototype,"itemSmoke",void 0),r([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./SymbolRungRam":"SymbolRungRam"}],AudioRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"a286fIbi8JHHYoiBsgIm93m","AudioRungRam");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Parent/AudioManager"),c=t("../../../Scritps/Windown"),a=cc._decorator,l=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click=null,e.bgm_bigwin_end=null,e.bgm_bigwin_main=null,e.bgm_fs=null,e.bgm_mg=null,e.bgm_totalwin_end=null,e.bgm_totalwin_main=null,e.fastspin=null,e.fsTrans=null,e.heartbeat=null,e.heartbeatNoise=null,e.heartbeatSlowdrop=null,e.infobarLevelUp=null,e.infobarTotalwinMedEnd=null,e.infobarTotalwinMedMain=null,e.multiplierUp=null,e.prizeInfobarTotalwin=null,e.prizeMultiplierMedwin=null,e.prizeMultiplierSmallwin=null,e.prizeWinHighlight=null,e.scatterWinHighlight=null,e.slider_effect=null,e.spinActiveLoop=null,e.spinBtn=null,e.spinStop1=null,e.spinStop2=null,e.spinStop3=null,e.spinStop4=null,e.spinStop5=null,e.spinStop6=null,e.spinStopQuick=null,e.symCollapse1=null,e.symCollapse2=null,e.symCollapse3=null,e.symCollapse4=null,e.symCollapse5=null,e.symCollapse6=null,e.symRouletteEnd=null,e.symRouletteRolling=null,e.symRouletteStart=null,e.symScatter=null,e.symShrink=null,e.symWild=null,e.uiInfo=null,e.uiStart=null,e.wallet_counting_above=null,e.waysRolling=null,e}return o(e,t),e.prototype.playClick=function(){this.playEffect(this.click)},e.prototype.playMusic=function(){this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.5))},e.prototype.playIndexTakeLine=function(){},e.prototype.playSmalWin=function(){},e.prototype.playBkgfs=function(){this.stopMusic(),this.playEffect(this.bgm_fs,.6,!0)},e.prototype.stopBkgFs=function(){this.stopEffect(this.bgm_fs,!0),this.playMusic()},e.prototype.playSymCollapse=function(){var t=this["symCollapse"+c.Windown.RandomNumber(1,7)];this.playEffectNoStop(t)},e.prototype.playStopAudio=function(){var t=this["spinStop"+c.Windown.RandomNumber(1,7)];this.playEffectNoStop(t,.7)},r([u(cc.AudioClip)],e.prototype,"click",void 0),r([u(cc.AudioClip)],e.prototype,"bgm_bigwin_end",void 0),r([u(cc.AudioClip)],e.prototype,"bgm_bigwin_main",void 0),r([u(cc.AudioClip)],e.prototype,"bgm_fs",void 0),r([u(cc.AudioClip)],e.prototype,"bgm_mg",void 0),r([u(cc.AudioClip)],e.prototype,"bgm_totalwin_end",void 0),r([u(cc.AudioClip)],e.prototype,"bgm_totalwin_main",void 0),r([u(cc.AudioClip)],e.prototype,"fastspin",void 0),r([u(cc.AudioClip)],e.prototype,"fsTrans",void 0),r([u(cc.AudioClip)],e.prototype,"heartbeat",void 0),r([u(cc.AudioClip)],e.prototype,"heartbeatNoise",void 0),r([u(cc.AudioClip)],e.prototype,"heartbeatSlowdrop",void 0),r([u(cc.AudioClip)],e.prototype,"infobarLevelUp",void 0),r([u(cc.AudioClip)],e.prototype,"infobarTotalwinMedEnd",void 0),r([u(cc.AudioClip)],e.prototype,"infobarTotalwinMedMain",void 0),r([u(cc.AudioClip)],e.prototype,"multiplierUp",void 0),r([u(cc.AudioClip)],e.prototype,"prizeInfobarTotalwin",void 0),r([u(cc.AudioClip)],e.prototype,"prizeMultiplierMedwin",void 0),r([u(cc.AudioClip)],e.prototype,"prizeMultiplierSmallwin",void 0),r([u(cc.AudioClip)],e.prototype,"prizeWinHighlight",void 0),r([u(cc.AudioClip)],e.prototype,"scatterWinHighlight",void 0),r([u(cc.AudioClip)],e.prototype,"slider_effect",void 0),r([u(cc.AudioClip)],e.prototype,"spinActiveLoop",void 0),r([u(cc.AudioClip)],e.prototype,"spinBtn",void 0),r([u(cc.AudioClip)],e.prototype,"spinStop1",void 0),r([u(cc.AudioClip)],e.prototype,"spinStop2",void 0),r([u(cc.AudioClip)],e.prototype,"spinStop3",void 0),r([u(cc.AudioClip)],e.prototype,"spinStop4",void 0),r([u(cc.AudioClip)],e.prototype,"spinStop5",void 0),r([u(cc.AudioClip)],e.prototype,"spinStop6",void 0),r([u(cc.AudioClip)],e.prototype,"spinStopQuick",void 0),r([u(cc.AudioClip)],e.prototype,"symCollapse1",void 0),r([u(cc.AudioClip)],e.prototype,"symCollapse2",void 0),r([u(cc.AudioClip)],e.prototype,"symCollapse3",void 0),r([u(cc.AudioClip)],e.prototype,"symCollapse4",void 0),r([u(cc.AudioClip)],e.prototype,"symCollapse5",void 0),r([u(cc.AudioClip)],e.prototype,"symCollapse6",void 0),r([u(cc.AudioClip)],e.prototype,"symRouletteEnd",void 0),r([u(cc.AudioClip)],e.prototype,"symRouletteRolling",void 0),r([u(cc.AudioClip)],e.prototype,"symRouletteStart",void 0),r([u(cc.AudioClip)],e.prototype,"symScatter",void 0),r([u(cc.AudioClip)],e.prototype,"symShrink",void 0),r([u(cc.AudioClip)],e.prototype,"symWild",void 0),r([u(cc.AudioClip)],e.prototype,"uiInfo",void 0),r([u(cc.AudioClip)],e.prototype,"uiStart",void 0),r([u(cc.AudioClip)],e.prototype,"wallet_counting_above",void 0),r([u(cc.AudioClip)],e.prototype,"waysRolling",void 0),r([l],e)}(s.default);n.default=p,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":void 0,"../../../Scritps/Windown":void 0}],BaseItemMutil:[function(t,e,n){"use strict";cc._RF.push(e,"2839aOOabZBdIg2eqqhV/Dr","BaseItemMutil");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Other/LbMonoSpace"),c=cc._decorator,a=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mutilMng=null,e.mutil=1,e.lbMutil=null,e}return o(e,t),r([l(s.default)],e.prototype,"lbMutil",void 0),r([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":void 0}],CachChoiRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"77d46utwjVBaaXoxThsqzEI","CachChoiRungRam");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onClickClose=function(){var t=this;s.Windown.RungRam.audio.playClick(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.node.destroy()})))},r([a],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],DetailHistoryRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"a254cH6SoFDCK1/TuUQArCH","DetailHistoryRungRam");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),c=t("./ItemResultDetailRungRam"),a=cc._decorator,l=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.itemTemplate=null,e.lbTitle=null,e.lbTime=null,e.lbBet=null,e.lbWin=null,e.lbMNUser=null,e.lbCuocCoSo=null,e.isFreeSpin=!1,e}return o(e,t),e.prototype.show=function(t){var e=this;this.node.active=!0,this.node.x=721.812,this.node.stopAllActions(),this.node.opacity=0,this.node.runAction(cc.spawn(cc.moveTo(.3,0,0),cc.fadeIn(.3).easing(cc.easeElasticIn(3))));var n=t.get("date"),i=t.get("infolog"),o=JSON.parse(i);cc.log(i),this.isFreeSpin=o.numFreeSpin>0,0==o.agBet?this.lbTitle.string="Free spin":this.lbTitle.string="Spin normal",this.lbTime.string=s.Windown.formatDate(new Date(n),"dd/MM HH:mm:ss"),this.lbBet.string=s.Windown.formatNumber(20*o.agBet),this.lbWin.string=s.Windown.formatNumber(o.agWin),this.lbMNUser.string=s.Windown.formatNumber(o.agUser),this.lbCuocCoSo.string=s.Windown.formatNumber(o.agBet);for(var r=o.bonusSpin;this.parentItem.childrenCount>0;){var a=this.parentItem.children[0];a.removeFromParent(),a.destroy()}o.views.forEach(function(t,n){var i=e.parentItem.children[n];null==i&&((i=cc.instantiate(e.itemTemplate)).parent=e.parentItem,i.active=!0),i.active=!0;var s=i.getComponent(c.default);o.listItemWin[n]&&(o.listItemWin[n].lsIdItem=JSON.parse(o.listItemWin[n].lsIdItem),o.listItemWin[n].lsstack=JSON.parse(o.listItemWin[n].lsstack),o.listItemWin[n].lsAgWin=JSON.parse(o.listItemWin[n].lsAgWin)),s.init(t,o.listItemWin[n],r[n],o.agBet)});for(var l=o.views.length;l<this.parentItem.childrenCount;l++)this.parentItem.children[l].active=!1},e.prototype.onClickClose=function(){var t=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.3,721.812,0),cc.fadeOut(.3).easing(cc.easeElasticOut(3))),cc.callFunc(function(){t.node.active=!1})))},r([u(cc.Node)],e.prototype,"parentItem",void 0),r([u(cc.Node)],e.prototype,"itemTemplate",void 0),r([u(cc.Label)],e.prototype,"lbTitle",void 0),r([u(cc.Label)],e.prototype,"lbTime",void 0),r([u(cc.Label)],e.prototype,"lbBet",void 0),r([u(cc.Label)],e.prototype,"lbWin",void 0),r([u(cc.Label)],e.prototype,"lbMNUser",void 0),r([u(cc.Label)],e.prototype,"lbCuocCoSo",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":void 0,"./ItemResultDetailRungRam":"ItemResultDetailRungRam"}],EffectRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"174b1iAzOlPdoJMQQg1EUiN","EffectRungRam");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{a(i.next(t))}catch(e){r(e)}}function c(t){try{a(i.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((i=i.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../Scritps/Game/GAME_TYPE"),u=t("../../../Scritps/Network/ConectManager"),p=t("../../../Scritps/Other/LbMonoSpace"),h=t("../../../Scritps/Util"),d=t("../../../Scritps/Windown"),f=t("./Effect/EndFreeSpinRungRam"),m=t("./Effect/StartFreeSpinRungRam"),y=cc._decorator,g=y.ccclass,S=y.property,R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeMask=null,e.lb_Money=null,e.nodeBigWin=null,e.listNodeBoxMoney=[],e.btnFast=null,e.listPromiseIgro=[],e.isClickBtnFast=!1,e.funNext=null,e.funDelayOff=null,e.mapColor=new Map,e}return o(e,t),e.prototype.onLoad=function(){this.funNext=null,cc.find("BigWin/ParentInfo/haoquang",this.node).runAction(cc.repeatForever(cc.rotateBy(1,45))),cc.find("BigWin/BkgMeGa",this.node).runAction(cc.repeatForever(cc.rotateBy(1,-25)))},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){this.unschedule(this.funDelayOff)},e.prototype.initPosMask=function(t){cc.find("mask",this.node).y=t},e.prototype.onClickBtnShowFast=function(){for(this.btnFast.interactable=!1,this.isClickBtnFast=!0;this.listPromiseIgro.length>0;)this.listPromiseIgro.shift().cancle(!0)},e.prototype.showBigWin=function(t,e){var n=this;return new Promise(function(i){return s(n,void 0,void 0,function(){var n,o,r,s,p,f,m,y,g,S=this;return c(this,function(c){switch(c.label){case 0:return c.trys.push([0,7,,8]),this.scheduleOnce(function(){S.btnFast.interactable=!0},1),this.lb_Money.node.active=!0,this.nodeBigWin.active=!0,this.nodeBigWin.opacity=255,this.lb_Money.resetLb(),4,n=e<30?4:e<50?8:12,this.lb_Money.time=n,this.lb_Money.setMoney(t),(o=this.nodeBigWin.getComponent(cc.Animation)).play("BigWin"),o.once(cc.Animation.EventType.FINISHED,function(){cc.log("chay vao player anim bigwinLop"),o.play("BigWinLoop")}),r=cc.find("PaticleShow",this.nodeBigWin).getComponent(cc.ParticleSystem),s=cc.find("particle2",this.nodeBigWin).getComponent(cc.ParticleSystem),r.resetSystem(),s.resetSystem(),d.Windown.RungRam.audio.playEffect(d.Windown.RungRam.audio.bgm_bigwin_main,1),p=d.Windown.RungRam.getMakeDelay(4),this.listPromiseIgro.push(p),[4,p.prosime];case 1:return c.sent(),e>=30?(d.Windown.RungRam.audio.playEffect(d.Windown.RungRam.audio.bgm_bigwin_end,.7),r.resetSystem(),o.stop("BigWin"),o.play("MegaWin"),cc.log("anim megaWin"),this.isClickBtnFast?[3,3]:(f=d.Windown.RungRam.getMakeDelay(4),this.listPromiseIgro.push(f),[4,f.prosime])):[3,3];case 2:c.sent(),c.label=3;case 3:return e>=50?(d.Windown.RungRam.audio.playEffect(d.Windown.RungRam.audio.bgm_bigwin_end,.5),r.resetSystem(),o.stop("MegaWin"),o.play("SuperWin"),cc.log("anim SuperWin"),this.isClickBtnFast?[3,5]:(f=d.Windown.RungRam.getMakeDelay(4),this.listPromiseIgro.push(f),[4,f.prosime])):[3,5];case 4:c.sent(),c.label=5;case 5:return d.Windown.RungRam.audio.stopEffect(d.Windown.RungRam.audio.bgm_bigwin_main),d.Windown.RungRam.audio.playEffect(d.Windown.RungRam.audio.bgm_bigwin_end),this.isClickBtnFast||(o.stop(),o.play("EndBW")),d.Windown.RungRam.dataFinish.get("agWin")>1e4&&((m=u.ConectManager.getIns().getSFSObj()).putInt("gt",l.default.RungRam),m.putInt("mt",d.Windown.RungRam.dataFinish.get("agWin")),m.putUtfString("nn",d.Windown.User.nickName),m.putUtfString("dt","bw"),u.ConectManager.getIns().sendRequest(a.REQUEST_CODE.AddBigWin,m)),this.lb_Money.setMoneyNoTime(t),y=d.Windown.RungRam.getMakeDelay(4),this.listPromiseIgro.push(y),this.btnFast.interactable=!0,[4,y.prosime];case 6:return c.sent(),this.nodeBigWin.stopAllActions(),this.nodeBigWin.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){S.nodeBigWin.active=!1,S.funNext=i,S.onClose()}))),[3,8];case 7:return g=c.sent(),h.Util.ThrowErrProsime(g),[3,8];case 8:return[2]}})})})},e.prototype.swidthFS=function(t,e){t?(this.listNodeBoxMoney.forEach(function(t){t.y=-613}),d.Windown.RungRam.switchBkgGame(!0,e)):(d.Windown.RungRam.switchBkgGame(!1),this.listNodeBoxMoney.forEach(function(t){t.y=-387.117}))},e.prototype.showTakeFreeSpin=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,i,o;return c(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),d.Windown.RungRam.stateSpin.freeSpinCache=t,d.Windown.RungRam.stateSpin.activeAllSymbol(),d.Windown.RungRam.listColum.forEach(function(t){t.getListSymbolResult().forEach(function(t){t.effectNearWinScater(!1)})}),d.Windown.RungRam.itemSlotRungRamNgang.getListSymbolResult().forEach(function(t){t.effectNearWinScater(!1)}),d.Windown.RungRam.audio.playEffect(d.Windown.RungRam.audio.scatterWinHighlight),[4,d.Windown.RungRam.getMakeDelay(1.5).prosime];case 1:return r.sent(),[4,d.Windown.loadRes(l.default.RungRam.toString(),"Frefabs/ShowFreeSpin",cc.Prefab)];case 2:return e=r.sent(),(i=cc.instantiate(e)).parent=this.node,i.zIndex=1,[4,i.getComponent(m.default).show(t,this.listNodeBoxMoney)];case 3:return r.sent(),n(null),[3,5];case 4:return o=r.sent(),h.Util.ThrowErrProsime(o),[3,5];case 5:return[2]}})})})},e.prototype.showEndFree=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,i,o;return c(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),t<1?(d.Windown.RungRam.audio.stopBkgFs(),this.swidthFS(!1),n(null),[2]):[4,d.Windown.loadRes(l.default.RungRam.toString(),"Frefabs/EndFreeSpin",cc.Prefab)];case 1:return e=r.sent(),this.swidthFS(!1),(i=cc.instantiate(e)).parent=this.node,i.zIndex=999,[4,i.getComponent(f.default).show(t)];case 2:return r.sent(),n(null),[3,4];case 3:return o=r.sent(),h.Util.ThrowErrProsime(o),[3,4];case 4:return[2]}})})})},e.prototype.pointsOnCircle=function(t){var e=t.radius,n=t.angle,i=t.cx,o=t.cy;return n*=Math.PI/180,[i+e*Math.sin(n),o+e*Math.cos(n)]},e.prototype.resetView=function(){this.lb_Money.resetLb(),this.lb_Money.node.active=!1,this.node.opacity=255,this.nodeBigWin.active=!1},e.prototype.onClose=function(){var t=this;this.btnFast.interactable=!1,this.unschedule(this.funDelayOff),this.unschedule(this.onClose),this.funNext&&this.funNext(),this.funNext=null,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){t.resetView()}))),this.isClickBtnFast=!1},r([S(cc.Node)],e.prototype,"nodeMask",void 0),r([S(p.default)],e.prototype,"lb_Money",void 0),r([S(cc.Node)],e.prototype,"nodeBigWin",void 0),r([S([cc.Node])],e.prototype,"listNodeBoxMoney",void 0),r([S(cc.Button)],e.prototype,"btnFast",void 0),r([g],e)}(cc.Component);n.default=R,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Game/GAME_TYPE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Other/LbMonoSpace":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./Effect/EndFreeSpinRungRam":"EndFreeSpinRungRam","./Effect/StartFreeSpinRungRam":"StartFreeSpinRungRam"}],EffectSymbolRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"3e915MxAAZIW6rktBA+BSdt","EffectSymbolRungRam");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{a(i.next(t))}catch(e){r(e)}}function c(t){try{a(i.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((i=i.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Util"),l=t("../../../../Scritps/Windown"),u=cc._decorator,p=u.ccclass,h=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.effTakeItem=function(t,e,n){var i=cc.find("khung",this.node),o=cc.find("bui",this.node),r=cc.find("item",this.node),s=cc.find("no",this.node),c=cc.find("bkg",this.node);c.height=n;var a=l.Windown.RungRam.asset.atlasEffect1.getSpriteFrame("item_"+t+"_take");s.active=!1,i.active=!0,i.stopAllActions(),i.opacity=255,i.height=.61*n+10,r.getComponent(cc.Sprite).spriteFrame=a,o.getComponent(cc.Animation).play("wh_vfx_02_add_"+e+"x"),c.opacity=150,r.stopAllActions(),c.stopAllActions(),c.runAction(cc.fadeOut(.2)),r.opacity=255,r.scale=1,r.runAction(cc.spawn(cc.scaleTo(.5,1.2).easing(cc.easeQuarticActionOut()),cc.fadeOut(.5).easing(cc.easeQuarticActionIn())))},e.prototype.effRemoveItem=function(t,e,n){var i=cc.find("khung",this.node),o=cc.find("bui",this.node),r=cc.find("item",this.node),s=cc.find("no",this.node);s.active=!0,s.getComponent(cc.Animation).play("wh_vfx_03_add_"+t+"x"),o.getComponent(cc.Animation).play("wh_vfx_02_add_"+t+"x"),o.once(cc.Animation.EventType.FINISHED,e,n),r.stopAllActions(),r.opacity=50,r.scale=1.3,r.runAction(cc.sequence(cc.delayTime(.15),cc.fadeOut(0))),i.stopAllActions(),i.runAction(cc.fadeOut(.2))},e.prototype.effShuffItem=function(t,e,n,i){var o=this;return new Promise(function(r){return s(o,void 0,void 0,function(){var o,s,u,p,h,d,f,m,y,g,S,R,v,b,w=this;return c(this,function(c){switch(c.label){case 0:c.trys.push([0,6,,7]),o=cc.find("s_2",this.node),s=cc.find("s_3",this.node),o.active=!1,s.active=!1,2==i?(o.active=!0,o.getComponent(cc.Animation).play()):i>2&&(s.active=!0,s.getComponent(cc.Animation).play()),this.node.opacity=255,this.node.height=t,u=cc.find("BkgShuft",this.node),p=cc.find("khung",this.node),h=cc.find("khung_gold",this.node),d=cc.find("MaskVong/vong",this.node),(f=cc.find("MaskVFX/vfx",this.node)).getComponent(cc.Animation).play(),u.getComponent(cc.Animation).play("shuffle_vfx_a_normal"),d.scale=0,d.opacity=255,p.height=t,h.height=t+92,d.parent.height=t,f.parent.height=t,u.height=t/1.69,m=cc.find("edge",this.node).getComponent(cc.Sprite),y=cc.find("item",this.node).getComponent(cc.Sprite),g=l.Windown.RungRam.asset.atlasEffect1.getSpriteFrame("edge_"+e),S=l.Windown.RungRam.asset.getSfItemSymbol(e,i,!1),y.spriteFrame=S,m.spriteFrame=g,h.opacity=255,h.stopAllActions(),h.runAction(cc.sequence(cc.fadeOut(1.4),cc.fadeIn(.15))),d.stopAllActions(),d.runAction(cc.sequence(cc.delayTime(1),cc.spawn(cc.scaleTo(.3,2),cc.sequence(cc.delayTime(.25),cc.fadeOut(.05))))),R=0,c.label=1;case 1:if(!(R<13))return[3,4];for(v=l.Windown.RandomNumber(1,12);e==v||12==R&&v==n;)v=l.Windown.RandomNumber(1,12);return e=v,l.Windown.RungRam.audio.playEffectNoStop(l.Windown.RungRam.audio.symRouletteRolling),g=l.Windown.RungRam.asset.atlasEffect1.getSpriteFrame("edge_"+v),S=l.Windown.RungRam.asset.getSfItemSymbol(v,i,!1),y.spriteFrame=S,m.spriteFrame=g,[4,l.Windown.RungRam.getMakeDelay(.07).prosime];case 2:c.sent(),c.label=3;case 3:return R++,[3,1];case 4:return l.Windown.RungRam.audio.stopEffect(l.Windown.RungRam.audio.symRouletteRolling),l.Windown.RungRam.audio.playEffectNoStop(l.Windown.RungRam.audio.symRouletteEnd),g=l.Windown.RungRam.asset.atlasEffect1.getSpriteFrame("shuff_"+n),S=l.Windown.RungRam.asset.getSfItemSymbol(n,i,!1),y.spriteFrame=S,m.spriteFrame=g,[4,l.Windown.RungRam.getMakeDelay(.2).prosime];case 5:return c.sent(),this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){l.Windown.RungRam.asset.putShuffToNormal(w.node)}))),r(null),[3,7];case 6:return b=c.sent(),a.Util.ThrowErrProsime(b),[3,7];case 7:return[2]}})})})},r([p],e)}(cc.Component));n.default=h,cc._RF.pop()},{"../../../../Scritps/Util":void 0,"../../../../Scritps/Windown":void 0}],EndFreeSpinRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"9d620GIw3dIb4g0KBOPUrvc","EndFreeSpinRungRam");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{a(i.next(t))}catch(e){r(e)}}function c(t){try{a(i.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((i=i.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../../Scritps/Game/GAME_TYPE"),u=t("../../../../Scritps/Network/ConectManager"),p=t("../../../../Scritps/Other/LbMonoSpace"),h=t("../../../../Scritps/Util"),d=t("../../../../Scritps/Windown"),f=cc._decorator,m=f.ccclass,y=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.particle2=null,e.particle1=null,e.particleEnd=null,e.nodeMain=null,e.haoQuang1=null,e.haoQuang2=null,e.bkg=null,e.btnThuThap=null,e}return o(e,t),e.prototype.show=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,i,o,r,s,p=this;return c(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),d.Windown.RungRam.audio.playEffect(d.Windown.RungRam.audio.bgm_totalwin_main),e=[],i=d.Windown.RungRam.getMakeDelay(4.5),e.push(i),this.btnThuThap.active=!1,this.haoQuang1.runAction(cc.repeatForever(cc.rotateBy(2,50))),this.bkg.opacity=0,this.bkg.runAction(cc.fadeIn(.5)),this.nodeMain.scale=0,this.nodeMain.runAction(cc.scaleTo(.3,1)),this.haoQuang2.scale=0,this.haoQuang2.runAction(cc.sequence(cc.delayTime(.3),cc.callFunc(function(){p.particle2.resetSystem()}),cc.scaleTo(.5,3),cc.callFunc(function(){p.haoQuang2.destroy()}))),this.particle1.resetSystem(),this.particle2.stopSystem(),this.label.resetLb(),this.label.time=4.5,this.label.setMoney(t),o=function(){for(;e.length>0;)e.shift().cancle(!1);if(t>1e4){var i=u.ConectManager.getIns().getSFSObj();i.putInt("gt",l.default.RungRam),i.putInt("mt",t),i.putUtfString("nn",d.Windown.User.nickName),i.putUtfString("dt","fs"),u.ConectManager.getIns().sendRequest(a.REQUEST_CODE.AddBigWin,i)}p.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){p.node.destroy(),n(null),d.Windown.RungRam.audio.stopBkgFs()}))),cc.log("nhay vao end ne")},this.scheduleOnce(function(){p.node.once(cc.Node.EventType.TOUCH_END,function(){for(;e.length>0;)e.shift().cancle(!0)})},.5),[4,i.prosime];case 1:return c.sent(),this.node.targetOff(this),r=d.Windown.RungRam.getMakeDelay(6),e.push(r),this.label.setMoneyNoTime(t),this.label.node.parent.runAction(cc.sequence(cc.scaleTo(.15,1.15),cc.callFunc(function(){p.particleEnd.resetSystem()}),cc.scaleTo(.15,1))),this.btnThuThap.active=!0,this.btnThuThap.opacity=0,this.btnThuThap.runAction(cc.fadeIn(.5)),this.btnThuThap.once("click",o),d.Windown.RungRam.audio.stopEffect(d.Windown.RungRam.audio.bgm_totalwin_main),d.Windown.RungRam.audio.playEffect(d.Windown.RungRam.audio.bgm_totalwin_end),this.particle1.stopSystem(),[4,r.prosime];case 2:return c.sent(),o(),[3,4];case 3:return s=c.sent(),h.Util.ThrowErrProsime(s),[3,4];case 4:return[2]}})})})},r([y(p.default)],e.prototype,"label",void 0),r([y(cc.ParticleSystem)],e.prototype,"particle2",void 0),r([y(cc.ParticleSystem)],e.prototype,"particle1",void 0),r([y(cc.ParticleSystem)],e.prototype,"particleEnd",void 0),r([y(cc.Node)],e.prototype,"nodeMain",void 0),r([y(cc.Node)],e.prototype,"haoQuang1",void 0),r([y(cc.Node)],e.prototype,"haoQuang2",void 0),r([y(cc.Node)],e.prototype,"bkg",void 0),r([y(cc.Node)],e.prototype,"btnThuThap",void 0),r([m],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../../Scritps/Game/GAME_TYPE":void 0,"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Other/LbMonoSpace":void 0,"../../../../Scritps/Util":void 0,"../../../../Scritps/Windown":void 0}],InfoBarControllerRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"818bf3Ja5pAyZhtS1x/GIQP","InfoBarControllerRungRam");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{a(i.next(t))}catch(e){r(e)}}function c(t){try{a(i.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((i=i.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbMoney=null,e.spTotalWin=null,e.spWin=null,e.spInfoBar=null,e.listInfoBar=[],e.spMaskInfoBar=[],e.parentOneMore=null,e.parentContent=null,e.parentMoney=null,e.anhSang=null,e.isShowOneMoreScater=!1,e}return o(e,t),e.prototype.onLoad=function(){var t=this;this.showRdContent(),this.parentContent.x=360,this.parentContent.runAction(cc.repeatForever(cc.sequence(cc.moveTo(65,-4779.665,20),cc.callFunc(function(){t.parentContent.x=306.493}))))},e.prototype.showRdContent=function(){this.parentContent.active=!0,this.parentOneMore.active=!1,this.parentMoney.active=!1},e.prototype.showOneMoreScater=function(){this.isShowOneMoreScater||(this.isShowOneMoreScater=!0,this.parentContent.active=!1,this.parentOneMore.active=!0,this.parentMoney.active=!1,this.anhSang.stopAllActions(),this.anhSang.opacity=50,this.anhSang.runAction(cc.repeatForever(cc.sequence(cc.fadeIn(.3).easing(cc.easeSineInOut()),cc.fadeTo(.3,50).easing(cc.easeSineInOut())))),this.parentOneMore.stopAllActions(),this.parentOneMore.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.3,1.15).easing(cc.easeSineInOut()),cc.scaleTo(.3,1).easing(cc.easeSineInOut())))))},e.prototype.effectDropOneMorScater=function(){this.anhSang.stopAllActions(),this.anhSang.opacity=50,this.parentOneMore.stopAllActions(),this.parentOneMore.runAction(cc.sequence(cc.scaleTo(.1,1.18).easing(cc.easeSineOut()),cc.scaleTo(.1,1).easing(cc.easeSineIn()))),this.anhSang.runAction(cc.sequence(cc.fadeIn(.1).easing(cc.easeSineOut()),cc.fadeTo(.1,50).easing(cc.easeSineIn())))},e.prototype.offOneMoreScater=function(){this.parentOneMore.active=!1},e.prototype.offLbMoney=function(){this.parentMoney.active=!1},e.prototype.offAnhSang=function(){this.anhSang.stopAllActions(),this.anhSang.opacity=50},e.prototype.showTakeMoney=function(t){return s(this,void 0,void 0,function(){var e=this;return c(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e;return c(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),u.Windown.RungRam.audio.playEffect(u.Windown.RungRam.audio.prizeWinHighlight),this.offAnhSang(),cc.find("ParrentMOney/info_win",this.node).active=!1,this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.lbMoney.setMoneyNoTime(t),u.Windown.RungRam.stateSpin.isMaxSpeed?[3,2]:[4,u.Windown.RungRam.getMakeDelay(.4).prosime];case 1:return i.sent(),[3,4];case 2:return[4,u.Windown.RungRam.getMakeDelay(.1).prosime];case 3:i.sent(),i.label=4;case 4:return n(null),[3,6];case 5:return e=i.sent(),l.Util.ThrowErrProsime(e),[3,6];case 6:return[2]}})})})]})})},e.prototype.runActiontakeMutil=function(){return s(this,void 0,void 0,function(){var t=this;return c(this,function(){return[2,new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,i;return c(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),u.Windown.RungRam.muitlCtr.currentItemMutil.mutil>1?(u.Windown.RungRam.muitlCtr.currentItemMutil.mutil<4?u.Windown.RungRam.audio.playEffect(u.Windown.RungRam.audio.prizeMultiplierSmallwin):u.Windown.RungRam.audio.playEffect(u.Windown.RungRam.audio.prizeMultiplierMedwin),t=cc.find("mb_vfx_b_screen_00",this.node),n=cc.find("mb_vfx_b_screen_00 copy",this.node),t.getComponent(cc.Animation).play(),n.getComponent(cc.Animation).play(),[4,u.Windown.RungRam.getMakeDelay(.6).prosime]):[3,2];case 1:o.sent(),o.label=2;case 2:return e(null),[3,4];case 3:return i=o.sent(),l.Util.ThrowErrProsime(i),[3,4];case 4:return[2]}})})})]})})},e.prototype.showTakeMoneyTurn=function(t){return s(this,void 0,void 0,function(){var e=this;return c(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e,i,o,r,s,a,p;return c(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,this.runActiontakeMutil()];case 1:return c.sent(),cc.find("ParrentMOney/info_win",this.node).active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spWin,e=cc.find("Ib_Add_Fs",this.node),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.node.stopAllActions(),this.lbMoney.setMoneyNoTime(t),this.node.runAction(cc.sequence(cc.scaleTo(.15,1.15),cc.scaleTo(.15,1),cc.callFunc(n))),u.Windown.RungRam.stateSpin.freeSpinLeft>0&&!e.active&&(e.active=!0,i=e.children[0],o=e.children[1],r=e.children[2],s=e.children[3],i.stopAllActions(),i.opacity=0,r.active=!1,s.active=!1,(a=o.getComponent(cc.Animation)).play("ib_vfx_b_normal"),a.once(cc.Animation.EventType.FINISHED,function(){i.runAction(cc.repeatForever(cc.sequence(cc.fadeTo(.3,150),cc.fadeTo(.3,50)))),r.active=!0,s.active=!0})),[3,3];case 2:return p=c.sent(),l.Util.ThrowErrProsime(p),[3,3];case 3:return[2]}})})})]})})},e.prototype.reset=function(){this.spInfoBar.spriteFrame=this.listInfoBar[0],this.spMaskInfoBar.forEach(function(t){return t.node.active=!0}),this.offAnhSang(),cc.find("Ib_Add_Fs",this.node).active=!1},e.prototype.showTotalMoney=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,i,o;return c(this,function(r){switch(r.label){case 0:this.offAnhSang(),r.label=1;case 1:return r.trys.push([1,10,,11]),0==t?(n(null),[2]):(cc.find("Ib_Add_Fs",this.node).active=!1,this.lbMoney.resetLb(),e=u.Windown.RungRam.curRoomBet*u.Windown.RungRam.totalLineBet,(i=t/e)<7?(this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.parentMoney.scale=0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.parentMoney.runAction(cc.scaleTo(.5,1).easing(cc.easeElasticOut(.3))),this.spInfoBar.spriteFrame=this.listInfoBar[0],cc.log("take money3"),this.lbMoney.setMoneyNoTime(t),u.Windown.RungRam.audio.playEffect(u.Windown.RungRam.audio.prizeInfobarTotalwin),[4,u.Windown.RungRam.getMakeDelay(1).prosime]):[3,3]);case 2:return r.sent(),[3,9];case 3:return i<=15?(u.Windown.RungRam.audio.playEffect(u.Windown.RungRam.audio.infobarTotalwinMedMain),u.Windown.RungRam.audio.playSmalWin(),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.spInfoBar.spriteFrame=this.listInfoBar[1],this.lbMoney.time=1.5,this.lbMoney.setMoney(t),[4,u.Windown.RungRam.getMakeDelay(1.5).prosime]):[3,6];case 4:return r.sent(),u.Windown.RungRam.audio.playEffect(u.Windown.RungRam.audio.infobarTotalwinMedEnd),this.parentMoney.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.2,1))),[4,u.Windown.RungRam.getMakeDelay(.3).prosime];case 5:return r.sent(),[3,9];case 6:return[4,u.Windown.RungRam.effect.showBigWin(t,i)];case 7:return r.sent(),this.parentMoney.scale=0,u.Windown.RungRam.audio.playEffect(u.Windown.RungRam.audio.prizeInfobarTotalwin),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.parentMoney.runAction(cc.scaleTo(.5,1).easing(cc.easeElasticOut(.3))),this.spInfoBar.spriteFrame=this.listInfoBar[2],this.lbMoney.setMoneyNoTime(t),[4,u.Windown.RungRam.getMakeDelay(1).prosime];case 8:r.sent(),r.label=9;case 9:return n(null),[3,11];case 10:return o=r.sent(),l.Util.ThrowErrProsime(o),[3,11];case 11:return[2]}})})})},r([d(a.default)],e.prototype,"lbMoney",void 0),r([d(cc.SpriteFrame)],e.prototype,"spTotalWin",void 0),r([d(cc.SpriteFrame)],e.prototype,"spWin",void 0),r([d(cc.Sprite)],e.prototype,"spInfoBar",void 0),r([d([cc.SpriteFrame])],e.prototype,"listInfoBar",void 0),r([d([cc.Sprite])],e.prototype,"spMaskInfoBar",void 0),r([d(cc.Node)],e.prototype,"parentOneMore",void 0),r([d(cc.Node)],e.prototype,"parentContent",void 0),r([d(cc.Node)],e.prototype,"parentMoney",void 0),r([d(cc.Node)],e.prototype,"anhSang",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0}],ItemAddScaterRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"9684c4W/oZC/onXjyx6oHQN","ItemAddScaterRungRam");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isShow=!1,e}return o(e,t),e.prototype.start=function(){var t=this.node.children[0],e=this.node.children[1],n=this.node.children[2].getComponent(sp.Skeleton),i=this.node.children[3].getComponent(cc.Animation),o=this.node.children[4],r=this.node.children[5].getComponent(cc.ParticleSystem);t.stopAllActions(),e.stopAllActions(),t.runAction(cc.repeatForever(cc.rotateBy(3,360))),e.runAction(cc.repeatForever(cc.rotateBy(3,360))),n.setAnimation(0,"idle",!0),i.play("scatter_vfx_c_add"),cc.log("show vong tron r ne"),o.runAction(cc.repeatForever(cc.sequence(cc.callFunc(function(){o.opacity=150,o.scale=.8}),cc.spawn(cc.scaleTo(.7,1.4),cc.fadeTo(.7,0).easing(cc.easeQuinticActionIn()))))),r.resetSystem()},e.prototype.show=function(){},e.prototype.effectNearWinNoSap=function(t){this.node.children[3].getComponent(cc.Animation).play("scatter_vfx_c_add"),this.node.children[2].getComponent(sp.Skeleton).setAnimation(0,"win",!0),t&&this.node.runAction(cc.repeat(cc.sequence(cc.callFunc(function(){s.Windown.RungRam.audio.playEffectNoStop(s.Windown.RungRam.audio.heartbeat)}),cc.delayTime(1.5)),2))},r([a],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../../Scritps/Windown":void 0}],ItemDetalRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"0f297qivoJMGos6w3BKGd54","ItemDetalRungRam");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return o(e,t),e.prototype.start=function(){},r([a(cc.Label)],e.prototype,"label",void 0),r([a],e.prototype,"text",void 0),r([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],ItemLichSuRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"ed829XOVupMZ6E1gx1H3bHX","ItemLichSuRungRam");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),c=t("../../../Scritps/Network/ConectManager"),a=t("../../../Scritps/Windown"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTime=null,e.lbBet=null,e.lbWin=null,e.data=null,e}return o(e,t),e.prototype.initItem=function(t){try{this.data=t;var e=this.data.get("date"),n=this.data.get("bet"),i=this.data.get("agWin");this.lbTime.string=a.Windown.formatDate(new Date(e),"dd/MM\nHH:mm:ss"),this.lbBet.string=a.Windown.formatNumber(n*a.Windown.RungRam.totalLineBet),this.lbWin.string=a.Windown.formatNumber(i)}catch(o){console.error(o)}},e.prototype.onClick=function(){var t=c.ConectManager.getIns().getSFSObj();t.putInt("id",this.data.get("id")),console.log("id la: "+this.data.get("id")),c.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryChiTietRungRam,t,a.Windown.RungRam.roomSFS),a.Windown.RungRam.audio.playClick(),a.Windown.UIManager.showLoading()},r([p(cc.Label)],e.prototype,"lbTime",void 0),r([p(cc.Label)],e.prototype,"lbBet",void 0),r([p(cc.Label)],e.prototype,"lbWin",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Windown":void 0}],ItemMutilFs:[function(t,e,n){"use strict";cc._RF.push(e,"3707f3FjtNB47je4SDxWJtc","ItemMutilFs");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{a(i.next(t))}catch(e){r(e)}}function c(t){try{a(i.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((i=i.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=t("./BaseItemMutil"),h=cc._decorator,d=h.ccclass,f=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbFade=null,e}return o(e,t),e.prototype.take=function(){return s(this,void 0,void 0,function(){var t,e,n,i=this;return c(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),u.Windown.RungRam.audio.playEffect(u.Windown.RungRam.audio.multiplierUp),t=cc.find("Mask/Paticle",this.node).getComponent(cc.ParticleSystem),e=cc.find("Mask/bkg",this.node),this.lbFade.node.parent.opacity=0,this.lbFade.node.parent.scale=1,this.lbMutil.node.parent.runAction(cc.moveTo(.15,cc.v2(0,-147.301))),[4,u.Windown.RungRam.getMakeDelay(.15).prosime];case 1:return o.sent(),this.mutil+=2,this.lbMutil.node.parent.stopAllActions(),this.lbMutil.node.parent.y=137.108,this.lbMutil.node.parent.runAction(cc.sequence(cc.moveTo(.15,cc.v2(0,0)).easing(cc.easeExponentialOut()),cc.callFunc(function(){i.lbFade.node.parent.opacity=120,i.lbFade.setMoneyNoTime(i.mutil),i.lbFade.node.parent.runAction(cc.sequence(cc.delayTime(.1),cc.spawn(cc.scaleTo(.5,1.4).easing(cc.easeSineOut()),cc.fadeOut(.8).easing(cc.easeSineIn())))),t.resetSystem(),e.opacity=0,e.runAction(cc.sequence(cc.fadeIn(.1),cc.fadeOut(.3)))}),cc.scaleTo(.15,1.1),cc.scaleTo(.15,1))),this.lbMutil.setMoneyNoTime(this.mutil),[3,3];case 2:return n=o.sent(),l.Util.ThrowErrProsime(n),[3,3];case 3:return[2]}})})},e.prototype.resetForNextSpin=function(){},e.prototype.init=function(t){this.mutilMng.currentItemMutil&&(this.mutilMng.currentItemMutil.node.active=!1),this.mutil=t||2,this.lbMutil.setMoneyNoTime(this.mutil),this.node.active=!0,this.mutilMng.currentItemMutil=this,cc.find("Mask/bkg",this.node).opacity=0},r([f(a.default)],e.prototype,"lbFade",void 0),r([d],e)}(p.default);n.default=m,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./BaseItemMutil":"BaseItemMutil"}],ItemMutilNomal:[function(t,e,n){"use strict";cc._RF.push(e,"f96a7oKkxlA7696bQ5oDrwN","ItemMutilNomal");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{a(i.next(t))}catch(e){r(e)}}function c(t){try{a(i.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((i=i.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scritps/Util"),l=t("../../../Scritps/Windown"),u=t("./BaseItemMutil"),p=cc._decorator,h=p.ccclass,d=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.take=function(){return s(this,void 0,void 0,function(){var t,e=this;return c(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),l.Windown.RungRam.audio.playEffect(l.Windown.RungRam.audio.multiplierUp),this.lbMutil.node.parent.runAction(cc.moveTo(.15,cc.v2(0,-82.207))),[4,l.Windown.RungRam.getMakeDelay(.15).prosime];case 1:return n.sent(),this.mutil++,this.lbMutil.node.parent.stopAllActions(),this.lbMutil.node.parent.y=78,this.lbMutil.node.parent.runAction(cc.sequence(cc.moveTo(.15,cc.v2(0,0)).easing(cc.easeExponentialOut()),cc.callFunc(function(){var t=cc.find("Mask/Paticle",e.node).getComponent(cc.ParticleSystem),n=cc.find("bkg",e.node);t.resetSystem(),n.scale=.3,n.opacity=255,n.runAction(cc.spawn(cc.scaleTo(.4,1.4).easing(cc.easeCircleActionOut()),cc.fadeOut(.5).easing(cc.easeQuarticActionIn())))}))),this.lbMutil.setMoneyNoTime(this.mutil),[3,3];case 2:return t=n.sent(),a.Util.ThrowErrProsime(t),[3,3];case 3:return[2]}})})},e.prototype.resetForNextSpin=function(){return s(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),this.mutil>1?(this.lbMutil.node.parent.runAction(cc.moveTo(.15,cc.v2(0,-82.207))),[4,l.Windown.RungRam.getMakeDelay(.3).prosime]):[3,2];case 1:e.sent(),this.mutil=1,this.lbMutil.node.parent.stopAllActions(),this.lbMutil.node.parent.runAction(cc.sequence(cc.moveTo(.15,cc.v2(0,0)).easing(cc.easeExponentialOut()),cc.callFunc(function(){}))),this.lbMutil.setMoneyNoTime(this.mutil),e.label=2;case 2:return[3,4];case 3:return t=e.sent(),a.Util.ThrowErrProsime(t),[3,4];case 4:return[2]}})})},e.prototype.init=function(){this.mutilMng.currentItemMutil&&(this.mutilMng.currentItemMutil.node.active=!1),this.mutil=this.mutilMng.currentItemMutil?this.mutilMng.currentItemMutil.mutil:1,this.lbMutil.setMoneyNoTime(this.mutil),this.node.active=!0,this.mutilMng.currentItemMutil=this,cc.find("bkg",this.node).opacity=0},r([h],e)}(u.default));n.default=d,cc._RF.pop()},{"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./BaseItemMutil":"BaseItemMutil"}],ItemResultDetailRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"64d1eTUkpdD2ruAyhPTtuG/","ItemResultDetailRungRam");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Other/LbMonoSpace"),c=t("../../../Scritps/Windown"),a=cc._decorator,l=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbX=null,e.lbTitleToHopWin=null,e.parentItemResult=null,e.parentItemWin=null,e.colorOf=null,e.playTable=[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[1,1,1,4,4,6,6,8,10,20,30,0,0],[2,2,2,6,6,10,10,15,25,25,40,0,0],[3,3,3,8,8,12,12,20,40,50,60,0,0],[4,4,4,10,10,15,15,30,60,70,80,0,0]],e}return o(e,t),e.prototype.init=function(t,e,n,i){var o=this;if(e){this.lbTitleToHopWin.string="T\u1ed5 h\u1ee3p win",this.parentItemWin.active=!0;for(var r=this.parentItemWin.children[0],s=0,a=e.lsIdItem.length;s<a;s++){var l=e.lsIdItem[s];e.lsAgWin[s],null==(I=this.parentItemWin.children[s])&&((I=cc.instantiate(r)).parent=this.parentItemWin),I.active=!0;var u=this.getArrSf(l+1,1,0);I.children[0].children[0].getComponent(cc.Sprite).spriteFrame=u[0],I.children[0].children[1].getComponent(cc.Sprite).spriteFrame=u[2]}for(s=e.lsIdItem.length;s<this.parentItemWin.childrenCount;s++)this.parentItemWin.children[s].active=!1;this.lbX.node.parent.active=!0}else this.lbTitleToHopWin.string="-------------",this.parentItemWin.active=!1,this.lbX.node.parent.active=!1;var p=this.parentItemResult.children,h=p[0].children[0];if(t.forEach(function(t,e){var n=p[e],i=null;t.forEach(function(t,e){var r=n.children[e],s=t.idItem,c=t.typeItem,a=t.size;null==r&&((r=cc.instantiate(h)).parent=n);var l=o.getArrSf(s+1,a,c);r.children[0].getComponent(cc.Sprite).spriteFrame=l[0],r.children[1].getComponent(cc.Sprite).spriteFrame=l[1],r.children[2].getComponent(cc.Sprite).spriteFrame=l[2],r.children[0].color=o.colorOf,r.children[1].color=o.colorOf,r.children[2].color=o.colorOf,r.children[0].height=105*a,r.children[1].height=105*a,r.height=103*a;var u=i?i.y+i.height/2*.75:-230;r.y=u+r.height/2*.75,i=r})}),e){var d=e.lsIdItem,f=e.lsstack,m=e.lsAgWin;for(s=0,a=d.length;s<a;s++){for(var y="",g=0;g<f[s]+1;g++){for(var S=p[g],R=0,v=0,b=S.childrenCount;v<b;v++)if(t[g][v].idItem==d[s]||11==t[g][v].idItem){var w=S.children[v];w.children[0].color=cc.Color.WHITE,w.children[1].color=cc.Color.WHITE,w.children[2].color=cc.Color.WHITE,R++}y+=R+"x"}var I;y+=this.playTable[f[s]][d[s]]+"x"+c.Windown.formatNumber(i),y+="\nx"+n,(I=this.parentItemWin.children[s]).children[1].getComponent(cc.Label).string=y+"=\n"+c.Windown.formatNumber(m[s]*n)}}this.lbX.string=n.toString()},e.prototype.getArrSf=function(t,e,n){return[c.Windown.RungRam.asset.getSfBkg(t,e),c.Windown.RungRam.asset.getSfKhungSymbol(n),c.Windown.RungRam.asset.getSfItemSymbol(t,e)]},r([u(s.default)],e.prototype,"lbX",void 0),r([u(cc.Label)],e.prototype,"lbTitleToHopWin",void 0),r([u(cc.Node)],e.prototype,"parentItemResult",void 0),r([u(cc.Node)],e.prototype,"parentItemWin",void 0),r([u(cc.Color)],e.prototype,"colorOf",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":void 0,"../../../Scritps/Windown":void 0}],ItemSlotRungRamNgang:[function(t,e,n){"use strict";cc._RF.push(e,"5e41fQ8T41ML66dZLuCuWjt","ItemSlotRungRamNgang");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./ItemSlotRungRam"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.start=function(){},r([a],e)}(s.default));n.default=l,cc._RF.pop()},{"./ItemSlotRungRam":"ItemSlotRungRam"}],ItemSlotRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"aa39bVPx9BNmZq7Hpbf/Ip3","ItemSlotRungRam");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{a(i.next(t))}catch(e){r(e)}}function c(t){try{a(i.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((i=i.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE_MOVE=void 0;var a=t("../../../Scritps/DefineTs/StateReelSlot"),l=t("../../../Scritps/Network/ConectManager"),u=t("../../../Scritps/Util"),p=t("../../../Scritps/Windown"),h=t("./SymbolRungRam");(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD_NEW=1]="ADD_NEW"})(n.TYPE_MOVE||(n.TYPE_MOVE={}));var d=cc._decorator,f=d.ccclass,m=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.sizeSymbol=7,e.parentItemFront=null,e.parentItemActive=null,e.funReject=null,e.resolve=null,e.stateWhel=a.default.WAITING,e.result=[],e.resultTemp=[],e.listIconEff=[],e.nodeEffNearWin=null,e.nodeWildDT=null,e.nodeWildShowDT=null,e.isScater=!1,e.index=-1,e.indexNodeFirt=0,e.isMoveSlowDown=!1,e.deltaSlowDown=0,e.listNumMutilWild=[],e.indexMaxWild=0,e.listItemSymbol=[],e.listProSkip=[],e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.initParent=function(){this.parentItemFront=cc.instantiate(this.parentItem),this.parentItemFront.setPosition(p.Windown.convertNodeInOtherNode(this.parentItem,p.Windown.RungRam.parentItemFront)),this.parentItemFront.parent=p.Windown.RungRam.parentItemFront,this.parentItemActive=cc.instantiate(this.parentItem),this.parentItemActive.setPosition(p.Windown.convertNodeInOtherNode(this.parentItem,p.Windown.RungRam.parentItemActive)),this.parentItemActive.parent=p.Windown.RungRam.parentItemActive,6==this.sizeSymbol&&(this.parentItemFront.angle=-90,this.parentItemActive.angle=-90)},e.prototype.initListSymbol=function(){for(var t=[],e=0,n=this.parentItem.children;e<n.length;e++){var i=n[e].getComponent(h.default);i&&t.push(i)}this.listItemSymbol=t},e.prototype.getListSymbol=function(){return this.listItemSymbol},e.prototype.getListSymbolResult=function(){var t=[],e=this.getListSymbol();return this.result.forEach(function(n,i){t.push(e[i+1])}),t},e.prototype.setResultFirtGame=function(){var t=this.getListRandomResult(),e=t.slice(1,t.length-1);this.setResult(e),this.initParent();for(var n=this.parentItem.children,i=0,o=this.sizeSymbol;i<o;i++){var r=n[i];null==r&&((r=this.getSymbol()).parent=this.parentItem),r.setSiblingIndex(i),r.x=0;var s=r.getComponent(h.default);6==this.sizeSymbol?s.isVectical=!1:s.isVectical=!0,s.setItemColum(this),s.setResult(t[i])}this.initListSymbol(),this.getListSymbol().forEach(function(t){t.initPosStartGame(),t.checkItemFront()})},e.prototype.getListRandomResult=function(){var t=[];if(0==this.index||5==this.index)for(var e=0;e<this.sizeSymbol;e++)t.push(this.getRandomResult());else{t.push(this.getRandomResult());var n=this.getRandomResult();t.push(n);for(var i=n.getInt("size");i<5;)i+(n=this.getRandomResult(p.Windown.RandomNumber(1,6-i))).getInt("size")<=5&&(i+=n.getInt("size"),t.push(n));for(e=t.length;e<this.sizeSymbol;e++)t.push(this.getRandomResult())}return t},e.prototype.activeNodeNearWin=function(){p.Windown.RungRam.activeMask(!0),p.Windown.RungRam.activeMask(!1,6==this.sizeSymbol?6:this.index),null==this.nodeEffNearWin&&(this.nodeEffNearWin=p.Windown.RungRam.asset.getNearWin(),this.nodeEffNearWin.parent=p.Windown.RungRam.parentEffect,this.nodeEffNearWin.setPosition(p.Windown.convertNodeInOtherNode(this.node,p.Windown.RungRam.parentEffect))),this.nodeEffNearWin.opacity=255,this.nodeEffNearWin.active=!0,p.Windown.RungRam.infoBar.showOneMoreScater(),p.Windown.RungRam.audio.playEffect(p.Windown.RungRam.audio.fastspin)},e.prototype.offNearWin=function(){var t=this;p.Windown.RungRam.activeMask(!0,6==this.sizeSymbol?6:this.index),this.nodeEffNearWin&&(this.nodeEffNearWin.stopAllActions(),this.nodeEffNearWin.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.nodeEffNearWin.active=!1})))),5==this.index&&(p.Windown.RungRam.activeMask(!1),p.Windown.RungRam.infoBar.offOneMoreScater(),p.Windown.RungRam.infoBar.showRdContent())},e.prototype.setResult=function(t){this.result=t,this.resultTemp=t.slice(),this.indexMaxWild=this.resultTemp.length},e.prototype.checkAndRemoveItem=function(t,e){var n=!1,i=this.getListSymbol().slice(1,this.result.length+1);6==this.sizeSymbol&&(i.reverse(),i=i.slice(0,e+1)),6==this.sizeSymbol&&i.reverse();for(var o=0;o<i.length;o++)i[o].result-1!=t&&12!=i[o].result||(0==i[o].typeItem?(i[o].removeItem(),this.result[o]=null):(i[o].effectRemoveItem(),i[o].isShuff=!0),n=!0);n&&(this.result=this.result.filter(function(t){return null!=t}))},e.prototype.checkItemWin=function(t,e){this.getListSymbol();var n=this.getListSymbol().slice(1,this.result.length+1);6==this.sizeSymbol&&(n.reverse(),n=n.slice(0,e+1));for(var i=0,o=n;i<o.length;i++){var r=o[i];r.result-1!=t&&12!=r.result||r.takeItem()}},e.prototype.addNewListSymbol=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,i,o,r,s,a,l,d,f,m,y;return c(this,function(c){switch(c.label){case 0:for(c.trys.push([0,4,,5]),p.Windown.RungRam.stateSpin.curentCountScater,(e=this.result.slice()).reverse(),this.setResult(t),i=this.result.length-e.length,e.length=this.result.length,e.reverse(),o=this.getListSymbol(),r=o[0],s=0;s<i;s++)(a=p.Windown.RungRam.asset.getSymbol()).x=0,this.parentItem.addChild(a,0),a.setSiblingIndex(0),m=a.getComponent(h.default),6==this.sizeSymbol?m.isVectical=!1:m.isVectical=!0,m.setItemColum(this),this.getListSymbol().unshift(m);for(l=this.getListSymbol(),d=[],l[0].setResult(this.getRandomResult()),this.result.forEach(function(t,e){var n=l[e+1];t.getInt("typeItem")!=n.typeItem&&n.isShuff?d.push(n.actionRandomNewResultNextKhung(t.getInt("idItem"))):n.setResult(t)}),r.node.y=r.node.height/2,f=r.getIndexOf()-1;f>=0;)(m=l[f]).node.y=r.node.y+r.node.height/2+m.node.height/2,r=m,f--;return[4,Promise.all(d)];case 1:return c.sent(),d.length<1?[4,p.Windown.RungRam.getMakeDelay(.9).prosime]:[3,3];case 2:c.sent(),c.label=3;case 3:return n(null),[3,5];case 4:return y=c.sent(),u.Util.ThrowErrProsime(y),[3,5];case 5:return[2]}})})})},e.prototype.getSymbol=function(){return p.Windown.RungRam.asset.getSymbol()},e.prototype.checkIsNorSap=function(){var t=this.getListSymbol().filter(function(t){return t.checkIsInView()}),e=0;return t.forEach(function(t){e+=t.sizeItem}),this.sizeSymbol-2-e>0},e.prototype.moveAllSymbol=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,i,o,r,s,a,l,h,d,f,m,y,g,S,R,v,b;return c(this,function(c){switch(c.label){case 0:return c.trys.push([0,10,,11]),e=p.Windown.RungRam.stateSpin.curentCountScater>2&&!p.Windown.RungRam.stateSpin.isMaxSpeed,i=e||p.Windown.RungRam.stateSpin.isMaxSpeed?0:.05*p.Windown.RandomNumber(0,5),o=p.Windown.RungRam.stateSpin.isMaxSpeed?3:1,[4,p.Windown.RungRam.getMakeDelay(.2+i).prosime];case 1:if(c.sent(),(r=this.getListSymbol()).forEach(function(t){t.offItem()}),(s=r.filter(function(t){return t.checkIsInView()})).reverse(),s[s.length-1],s.length>0)for(a=s[0],l=-a.size.height*(this.sizeSymbol-2)+a.node.height/2,h=function(t,e){var n=s[t],i=n.node;if(Math.abs(l-i.y)>2){var r=cc.moveTo(.25/o,i.x,l).easing(cc.easeSineIn()),c=cc.sequence(cc.moveBy(.04,0,15).easing(cc.easeSineOut()),cc.moveBy(.04,0,-15).easing(cc.easeSineIn()),cc.callFunc(function(){n.effectSpawnSymbol()}));i.runAction(cc.sequence(r,cc.callFunc(function(){n.isSmoke&&n.showSmoke(),p.Windown.RungRam.audio.playSymCollapse()}),c))}else n.isShuff&&n.effectSpawnSymbol();t<e-1&&(l=l+i.height/2+s[t+1].node.height/2)},d=0,f=s.length;d<f;d++)h(d,f);return m=0,s.forEach(function(t){m+=t.sizeItem}),y=this.sizeSymbol-2-m,e?[4,p.Windown.RungRam.getMakeDelay(.4).prosime]:[3,8];case 2:return c.sent(),p.Windown.RungRam.audio.playEffect(p.Windown.RungRam.audio.heartbeatNoise),p.Windown.RungRam.stateSpin.offAllSymbol(!1),s.forEach(function(t){t.effectNearWinScater(!0)}),p.Windown.RungRam.infoBar.showOneMoreScater(),y>0?[4,p.Windown.RungRam.getMakeDelay(3).prosime]:[3,5];case 3:return c.sent(),p.Windown.RungRam.activeMask(!1),p.Windown.RungRam.stateSpin.offAllEffectSymbolScater(),[4,p.Windown.RungRam.getMakeDelay(.3+.6*t).prosime];case 4:return c.sent(),[3,7];case 5:return[4,p.Windown.RungRam.getMakeDelay(3.5).prosime];case 6:c.sent(),c.label=7;case 7:s.forEach(function(t){t.removeAddScater()}),c.label=8;case 8:return e&&y>0&&!p.Windown.RungRam.stateSpin.isMaxSpeed&&p.Windown.RungRam.audio.playEffectNoStop(p.Windown.RungRam.audio.heartbeatSlowdrop),g=[],S=r,R=r[0].node.height/2,v=!0,S.forEach(function(t,e){var n=r[e],i=n.node;!s.includes(n)&&Math.abs(R-i.y)>1&&g.push(new Promise(function(t){var s=cc.moveTo(.25/o,i.x,R).easing(cc.easeSineIn()),c=cc.sequence(cc.moveBy(.04,0,15).easing(cc.easeSineOut()),cc.moveBy(.04,0,-15).easing(cc.easeSineIn()),cc.callFunc(function(){t(null),r[e].effectSpawnSymbol()}));i.runAction(cc.sequence(s,cc.callFunc(function(){p.Windown.RungRam.audio.playSymCollapse(),n.isSmoke&&n.showSmoke(),v&&(p.Windown.RungRam.stateSpin.effectDropScater(),v=!1)}),c))})),e<S.length-1&&(R=R-i.height/2-r[e+1].node.height/2)}),[4,Promise.all(g)];case 9:return c.sent(),this.reSetResultColum(),n(null),[3,11];case 10:return b=c.sent(),u.Util.ThrowErrProsime(b),[3,11];case 11:return[2]}})})})},e.prototype.reset=function(){},e.prototype.runSpin=function(){this.stateWhel=a.default.RUN,this.getListSymbol().forEach(function(t){t.runSpin()})},e.prototype.stopSpin=function(t,e){var n=this;return new Promise(function(i,o){return s(n,void 0,void 0,function(){var n;return c(this,function(r){switch(r.label){case 0:return r.trys.push([0,6,,7]),this.listProSkip=[],this.setResult(e),this.funReject=o,this.isScater=t,this.resolve=i,t?[3,2]:(this.listProSkip.push(p.Windown.RungRam.getMakeDelay(.07)),[4,this.listProSkip[this.listProSkip.length-1].prosime]);case 1:r.sent(),i(null),r.label=2;case 2:return t?(this.activeNodeNearWin(),this.runSlowDownActicon(),this.listProSkip.push(p.Windown.RungRam.getMakeDelay(1.1)),[4,this.listProSkip[this.listProSkip.length-1].prosime]):[3,4];case 3:return r.sent(),this.stateWhel=a.default.SHOW_EFFECT,[3,5];case 4:this.stateWhel=a.default.STOP,this.recaculateSpeedSpin(!1),r.label=5;case 5:return[3,7];case 6:return n=r.sent(),u.Util.ThrowErrProsime(n),[3,7];case 7:return[2]}})})})},e.prototype.forceStopSpin=function(t,e){return this.listProSkip.forEach(function(t){t.cancle(!1)}),this.funReject&&this.funReject(),t&&(this.offNearWin(),p.Windown.RungRam.audio.stopEffect(p.Windown.RungRam.audio.fastspin),this.isMoveSlowDown=!1),this.stopSpinIsFastSpin(t,e)},e.prototype.stopSpinIsFastSpin=function(t,e){var n=this;return new Promise(function(t){n.stateWhel!=a.default.SHOW_EFFECT?(n.setResult(e),n.stateWhel=a.default.SHOW_EFFECT,n.parentItem.stopAllActions(),n.parentItem.y=n.node.height/2,n.reSetResultColum(),n.sizeSymbol>6&&(p.Windown.RungRam.audio.playStopAudio(),n.index>=1&&n.index<=4?p.Windown.RungRam.updateNewTotalLine(n.result.length+1):p.Windown.RungRam.updateNewTotalLine(n.result.length)),n.isMoveSlowDown=!1,n.parentItem.y+=20,n.parentItem.runAction(cc.sequence(cc.moveBy(.04,0,-20).easing(cc.easeSineOut()),cc.callFunc(function(){n.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()}),t(null)})))):t(null)})},e.prototype.recaculateSpeedSpin=function(t){var e=this.getListSymbol(),n=e[0].node.y,i=-this.node.height-e[0].node.height/2,o=Math.abs(i-n),r=.28;t&&(r=2),e.forEach(function(t){t.stopSpin(cc.moveBy(r,0,-o))})},e.prototype.errSpin=function(){},e.prototype.reSetResultColum=function(){var t=this.getListSymbol();if(t.length>this.sizeSymbol)for(;t.length>this.sizeSymbol;)p.Windown.RungRam.asset.putSymbol(t[t.length-1].node),t.pop();else if(t.length<this.sizeSymbol)for(var e=t.length;e<this.sizeSymbol;e++){var n=this.getSymbol();this.parentItem.addChild(n);var i=n.getComponent(h.default);6==this.sizeSymbol?i.isVectical=!1:i.isVectical=!0,i.setItemColum(this),t.push(i)}this.result.forEach(function(e,n){t[n+1].setResult(e)}),e=this.result.length+1;for(var o=t.length;e<o;e++)t[e].setResult(t[e].objSFS);t.forEach(function(t){t.canRun=!1,t.node.stopAllActions(),t.initPosStartGame()})},e.prototype.effStopSpin=function(){return s(this,void 0,void 0,function(){var t=this;return c(this,function(){try{if(this.stateWhel==a.default.SHOW_EFFECT)return[2];this.stateWhel=a.default.SHOW_EFFECT,this.parentItem.stopAllActions(),this.parentItem.y=this.node.height/2,this.reSetResultColum(),this.sizeSymbol>6&&(p.Windown.RungRam.audio.playStopAudio(),this.index>=1&&this.index<=4?p.Windown.RungRam.updateNewTotalLine(this.result.length+1):p.Windown.RungRam.updateNewTotalLine(this.result.length)),this.funReject=null,this.isMoveSlowDown=!1,this.isScater?(this.offNearWin(),this.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()}),this.resolve&&this.resolve(null)):this.parentItem.runAction(cc.sequence(cc.moveBy(.04,0,10).easing(cc.easeSineOut()),cc.moveBy(.04,0,-10).easing(cc.easeSineIn()),cc.callFunc(function(){t.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()})})))}catch(e){u.Util.ThrowErrProsime(e)}return[2]})})},e.prototype.getIdSymbolResult=function(){return this.stateWhel==a.default.STOP&&this.resultTemp.pop()||this.getRandomResult()},e.prototype.checkLastSymbol=function(t){var e=this.getListSymbol();return e[e.length-1]==t},e.prototype.getRandomResult=function(t){0!=this.index&&5!=this.index||(t=1);var e=null;return e=l.ConectManager.getIns().getSFSObj(),t?(e.putInt("size",t),t>1?e.putInt("idItem",p.Windown.RandomNumber(0,12)):e.putInt("idItem",p.Windown.RandomNumber(0,13))):(e.putInt("idItem",p.Windown.RandomNumber(0,13)),e.getInt("idItem")<12?(p.Windown.RandomNumber(0,100),e.putInt("size",p.Windown.RandomNumber(1,5))):e.putInt("size",1)),1==e.getInt("size")||11==e.getInt("idItem")?e.putInt("typeItem",0):e.putInt("typeItem",p.Windown.RandomNumber(0,3)),e},e.prototype.checkParentItem=function(){},e.prototype.runSlowDownActicon=function(){this.getListSymbol().forEach(function(t){t.node.stopAllActions()}),this.isMoveSlowDown=!0,this.deltaSlowDown=6e3},e.prototype.update=function(t){var e=this;this.isMoveSlowDown&&(this.getListSymbol().forEach(function(n){n.node.y-=t*e.deltaSlowDown}),this.deltaSlowDown>500?this.deltaSlowDown-=1800*t:this.deltaSlowDown<1e3&&(this.stateWhel=a.default.STOP,this.isMoveSlowDown=!1,this.recaculateSpeedSpin(!0)))},r([m(cc.Node)],e.prototype,"parentItem",void 0),r([m(cc.Integer)],e.prototype,"sizeSymbol",void 0),r([f],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./SymbolRungRam":"SymbolRungRam"}],LichSuRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"3fdb0i6oK5ES4RnVwtvnQfl","LichSuRungRam");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),c=t("../../../Scritps/Network/ConectManager"),a=t("../../../Scritps/Popup/PageData/PageData"),l=t("../../../Scritps/Windown"),u=t("./DetailHistoryRungRam"),p=t("./ItemLichSuRungRam"),h=cc._decorator,d=h.ccclass,f=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.detail=null,e.listData=null,e.maxRow=11,e}return o(e,t),e.prototype.show=function(){this.node.active=!0,this.reset(),this.node.y=-1280,this.node.stopAllActions(),this.node.runAction(cc.moveTo(.3,0,0)),c.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryRungRam,null,l.Windown.RungRam.roomSFS),l.Windown.UIManager.showLoading()},e.prototype.responseServer=function(t){l.Windown.UIManager.hideLoading();var e=t.getSFSArray("history");this.initWithListData(e)},e.prototype.responseServerChiTiet=function(t){l.Windown.UIManager.hideLoading(),this.showDetail(t)},e.prototype.initWithListData=function(t){cc.log(l.Windown.SFSArrToJson(t)),this.pageDate.content.children;var e=t.size(),n=Math.floor(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,i=n[0],o=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var c=n[r];if(o<this.listData.size()){null==c&&(c=cc.instantiate(i),e.addChild(c),c.y=-(r+1)*c.height+c.height/2);var a=this.listData.getSFSObject(o);c.getComponent(p.default).initItem(a),c.active=!0,o++}else{if(!c)break;c.active=!1}}},e.prototype.showDetail=function(t){this.detail.show(t)},e.prototype.resetContent=function(){for(var t=this.pageDate.content.children,e=0,n=t.length;e<n;e++)t[e].active=!1},e.prototype.reset=function(){this.pageDate.setTotalPage(1),this.pageDate.reset(),this.resetContent()},e.prototype.onClickClose=function(){var t=this;l.Windown.RungRam.audio.playClick(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.moveTo(.3,0,-1280),cc.callFunc(function(){t.node.active=!1})))},r([f(a.default)],e.prototype,"pageDate",void 0),r([f(u.default)],e.prototype,"detail",void 0),r([d],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Popup/PageData/PageData":void 0,"../../../Scritps/Windown":void 0,"./DetailHistoryRungRam":"DetailHistoryRungRam","./ItemLichSuRungRam":"ItemLichSuRungRam"}],MutilControlRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"549cebcYmlKM4g42jswIo2Q","MutilControlRungRam");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{a(i.next(t))}catch(e){r(e)}}function c(t){try{a(i.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((i=i.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./ItemMutilFs"),l=t("./ItemMutilNomal"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemMutilFS=null,e.itemMutilNormal=null,e.currentItemMutil=null,e}return o(e,t),e.prototype.start=function(){this.itemMutilFS.mutilMng=this,this.itemMutilNormal.mutilMng=this,this.itemMutilNormal.init()},e.prototype.take=function(){this.currentItemMutil.take()},e.prototype.startFreeSpin=function(t){this.itemMutilFS.init(t)},e.prototype.endFreeSpin=function(){this.itemMutilNormal.init()},e.prototype.resetForNextSpin=function(){return s(this,void 0,void 0,function(){return c(this,function(){return this.currentItemMutil.resetForNextSpin(),[2]})})},r([h(a.default)],e.prototype,"itemMutilFS",void 0),r([h(l.default)],e.prototype,"itemMutilNormal",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"./ItemMutilFs":"ItemMutilFs","./ItemMutilNomal":"ItemMutilNomal"}],RungRamView:[function(t,e,n){"use strict";cc._RF.push(e,"51d3fIkJF1B8K5pnH6eAGdz","RungRamView");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{a(i.next(t))}catch(e){r(e)}}function c(t){try{a(i.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((i=i.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scritps/DefineTs/EVENT_MANAGER"),l=t("../../../Scritps/DefineTs/PlayerPP"),u=t("../../../Scritps/DefineTs/REQUEST_CODE"),p=t("../../../Scritps/DefineTs/StateReelSlot"),h=t("../../../Scritps/DefineTs/TextDefine"),d=t("../../../Scritps/Game/GAME_TYPE"),f=t("../../../Scritps/Network/ConectManager"),m=t("../../../Scritps/Obs/LbMoneyChange"),y=t("../../../Scritps/Other/LbMonoSpace"),g=t("../../../Scritps/Other/MakeDelay"),S=t("../../../Scritps/Util"),R=t("../../../Scritps/Windown"),v=t("./AssetRungRam"),b=t("./AudioRungRam"),w=t("./EffectRungRam"),I=t("./InfoBarControllerRungRam"),_=t("./ItemSlotRungRam"),W=t("./ItemSlotRungRamNgang"),A=t("./LichSuRungRam"),O=t("./MutilControlRungRam"),M=t("./SpinNormalRungRam"),C=cc._decorator,E=C.ccclass,F=C.property,k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.asset=null,e.bkgSprite=null,e.itemSlotRungRamNgang=null,e.parentItem=null,e.parentEffect=null,e.parentItemFront=null,e.parentItemActive=null,e.nodeLine=null,e.effect=null,e.labelChipReviceInBox=null,e.lb_totalBet=null,e.lb_FSLeft=null,e.lb_TotalLine=null,e.lb_CountAuto=null,e.infoBar=null,e.muitlCtr=null,e.btnSpin=null,e.parentMask=null,e.nodeChooseAuto=null,e._popupLichSu=null,e.audio=null,e.listNodeDeactive=[],e.nodeBtnPlay=null,e.nodeBtnSeting=null,e.toggleTurbo=null,e.btnStartAuto=null,e.listColum=[],e.listResult=null,e.listResultConvert=[],e.listConfigBet=[],e.gameType=-1,e.sfs=null,e.roomSFS=null,e.stateReel=0,e.totalLineBet=20,e.curRoomBet=50,e.funEnd=null,e.isShowBtnPlay=!0,e.dataFinish=null,e.sfsObjTest=null,e.sfsObjTest2=null,e.stateSpin=null,e.makeDelay=null,e.isDoneStartSpin=!1,e.currentTotalLine=1,e}return o(e,t),e.prototype.onLoad=function(){R.Windown.RungRam=this,this.makeDelay=new g.default(this),cc.log("start RungRam"),this.gameType=d.default.RungRam,this.sfs=f.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(a.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),cc.systemEvent.on(a.EVENT_MANAGER.LOGIN,this.onLogin,this),this.stateReel=p.default.WAITING,this.stateSpin=new M.default,this.sendJoinRoom(),this.activeMask(!1)},e.prototype.onLogin=function(){this.sendJoinRoom()},e.prototype.sendJoinRoom=function(){var t=f.ConectManager.getIns().getSFSObj();t.putInt("gameType",d.default.RungRam),t.putInt("roomType",-1),t.putInt("mark",-1),f.ConectManager.getIns().sendRequest(u.REQUEST_CODE.GetIdJoinRoom,t)},e.prototype.onDisconnect=function(){cc.log("disconnect"),R.Windown.UIManager.hideLoading(),R.Windown.UIManager.hideLoadingData(),cc.director.loadScene("main")},e.prototype.userExitRoom=function(t){cc.log("user exit room"),"SlotRungRam"==t.room.groupId&&t.user.isItMe&&cc.director.loadScene("main")},e.prototype.onCreateError=function(){cc.log("creat errr"),R.Windown.UIManager.hideLoading(),cc.director.loadScene("main"),R.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM)},e.prototype.onJoinRoom=function(t){var e=t.room;if("SlotRungRam"==e.groupId){this.roomSFS=e,R.Windown.UIManager.hideLoadingData();var n=e.getVariable("cf").value;cc.log(n);var i=[],o=JSON.parse(n);for(var r in o){var s=Object.create(null);s.bet=parseInt(r),s.perJp=o[r].percentPot/100,i.push(s)}i.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=i,this.curRoomBet=this.listConfigBet[0].bet,this.lb_totalBet.string=R.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.switchBkgGame=function(t,e){var n=cc.find("Game/BkgGround/FreeSpin",this.node),i=cc.find("Game/Mid/KhungTopFS",this.node),o=cc.find("Game/Line/ways",this.node),r=cc.find("Game/Line/ways_fs",this.node);t?(o.active=!1,r.active=!0,n.active=!0,this.muitlCtr.startFreeSpin(e),R.Windown.RungRam.lb_FSLeft.node.parent.active=!0,i.active=!0,this.lb_TotalLine.tempReplaceAtlas="_yellow"):(o.active=!0,r.active=!1,n.active=!1,i.active=!1,R.Windown.RungRam.lb_FSLeft.node.parent.active=!1,this.muitlCtr.endFreeSpin(),this.lb_TotalLine.tempReplaceAtlas="_blue"),this.lb_TotalLine._updateString()},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),R.Windown.UIManager.hideLoading(),R.Windown.UIManager.hideLoadingData(),R.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM),cc.director.loadScene("main")},e.prototype.activeMask=function(t,e){var n=this.parentMask.children;t?e?(n[e].stopAllActions(),n[e].runAction(cc.fadeTo(.3,150))):n.forEach(function(t){t.stopAllActions(),t.runAction(cc.fadeTo(.3,150))}):e?(n[e].stopAllActions(),n[e].runAction(cc.fadeOut(.3))):n.forEach(function(t){t.stopAllActions(),t.runAction(cc.fadeOut(.3))})},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(e){case u.REQUEST_CODE.SpinRungRam:this.handleFinish(n);break;case u.REQUEST_CODE.HistoryRungRam:this._popupLichSu&&this._popupLichSu.responseServer(n);break;case u.REQUEST_CODE.HistoryChiTietRungRam:this._popupLichSu&&this._popupLichSu.responseServerChiTiet(n);break;case u.REQUEST_CODE.REQUEST_GET_LastSpin_SLOT:this.handleGetLastSpinSlot(n)}},e.prototype.handleGetLastSpinSlot=function(t){var e=t.get("t"),n=t.get("iF");if(e==d.default.RungRam&&n&&null==this.dataFinish){var i=t.get("d"),o=i.get("numFreeSpin");this.stateSpin.lastFreeSpinLeft=o+1,this.stateSpin.freeSpinLeft=o,this.lb_FSLeft.string=this.stateSpin.lastFreeSpinLeft.toString();var r=i.get("bonusSpin");return cc.log(R.Windown.SFSObjToJson(i)),this.dataFinish=i,this.effect.swidthFS(!0,r[r.length-1]),void this.onClickBtnSpin()}e==d.default.RungRam&&this.stateReel==p.default.RUN&&(!t.containsKey("d")||this.dataFinish&&R.Windown.SFSObjToJson(this.dataFinish)==R.Windown.SFSObjToJson(t.get("d"))?this.sendClickSpin():this.handleFinish(t.get("d")))},e.prototype.handleWaitSPin=function(){},e.prototype.handleFinish=function(t){var e=this;if(this.isDoneStartSpin){if(t.containsKey(l.PlayerPP.ERR_MESSAGE))return this.stateSpin.handleErrSpin(),R.Windown.Dialog.showLog(t.get(l.PlayerPP.ERR_MESSAGE)),this.activeAllBtn(),void this.onClickResetCountAuto();this.dataFinish=t,R.Windown.MoneyUser.pushDelayMoney(this.gameType,this.dataFinish.get("agUser"),t.get("agWin")),this.truTienBet(this.dataFinish.get("agBet")*this.totalLineBet,this.dataFinish.get("agUser")),this.listResult=t.get("views");var n=t.get("bonusSpin");this.listResultConvert=this.convertResult(this.listResult,JSON.parse(R.Windown.SFSArrToJson(t.get("listItemWin"))),n),this.stateSpin.isMaxSpeed,this.stateReel=p.default.CAN_STOP;var i=this.stateSpin.isMaxSpeed?0:.5;this.scheduleOnce(this.funEnd=function(){e.stateSpin.onEnd()},i)}else this.scheduleOnce(function(){e.handleFinish(t)},.05)},e.prototype.onDestroy=function(){R.Windown.RungRam=null,this.dataFinish&&(R.Windown.MoneyUser.removeDelay(this.gameType),this.dataFinish=null),R.Windown.MoneyUser.endGameMOney(this.gameType),cc.systemEvent.removeAll(this),this.roomSFS=null,this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),R.Windown.UIManager.changeRotation(),this.clearAllMakeDelay()},e.prototype.start=function(){var t=this;this.setupView(),this.initItem(),cc.sys.isNative||this.scheduleOnce(function(){return s(t,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,R.Windown.loadBundle(d.default.RungRam.toString())];case 1:return t.sent().loadDir("Spine",function(){}),[2]}})})},3)},e.prototype.initItem=function(){for(var t=cc.instantiate(this.parentItem.children[0]),e=t.width,n=0;n<6;n++){var i=this.parentItem.children[n];null==i&&((i=cc.instantiate(t)).parent=this.parentItem);var o=i.getComponent(_.default);this.listColum.push(o),o.index=n,o.node.x=e*n+e/2-6*e/2,o.node.y=0,o.setResultFirtGame()}this.itemSlotRungRamNgang.index=0,this.itemSlotRungRamNgang.setResultFirtGame()},e.prototype.setupView=function(){var t=cc.find("Game",this.node);if(cc.sys.isMobile)t.angle=90,this.bkgSprite.angle=90,this.bkgSprite.scale=1280/720;else{var e=cc.winSize.height/1280;t.angle=0,t.scale=e,this.bkgSprite.angle=0;var n=this.bkgSprite.addComponent(cc.Widget);n.left=0,n.right=0,n.bottom=0,n.top=0}R.Windown.UIManager.changeRotation(!0)},e.prototype.sendClickSpin=function(){if(null!=this.sfsObjTest)return f.ConectManager.getIns().sendRequest("testSpin",this.sfsObjTest,this.roomSFS),this.sfsObjTest=null,void cc.log("send test ne");if(null!=this.sfsObjTest2)return f.ConectManager.getIns().sendRequest("testSpin2",this.sfsObjTest2,this.roomSFS),this.sfsObjTest2=null,void cc.log("send test ne");var t=f.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),f.ConectManager.getIns().sendRequest(u.REQUEST_CODE.SpinRungRam,t,this.roomSFS)},e.prototype.onClickBtnSpin=function(){return s(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),this.stateReel!=p.default.WAITING?[3,2]:(this.audio.playEffect(this.audio.spinBtn),this.stateReel=p.default.RUN,this.setStateEffBtnSpin(),this.offAllBtn(),this.infoBar.reset(),this.sendClickSpin(),this.isDoneStartSpin=!1,[4,this.stateSpin.onStart()]);case 1:return e.sent(),this.isDoneStartSpin=!0,[3,3];case 2:this.stateReel==p.default.CAN_STOP?this.stateSpin.isMaxSpeed||(cc.log("nhay vao forestop ne"),this.stateReel=p.default.RUN,this.unschedule(this.funEnd),this.stateSpin.onForceEnd()):this.stateReel==p.default.STOP||this.stateReel==p.default.SHOW_EFFECT&&(this.stateSpin.resetForNextNextSpin(),this.onClickBtnSpin()),e.label=3;case 3:return[3,5];case 4:return t=e.sent(),S.Util.ThrowErrProsime(t),[3,5];case 5:return[2]}})})},e.prototype.showContentTip=function(){},e.prototype.updateNewTotalLine=function(t){this.currentTotalLine*=t,this.lb_TotalLine.string=this.currentTotalLine.toString()},e.prototype.resetForNewGame=function(){this.stateReel=p.default.WAITING,this.setStateEffBtnSpin()},e.prototype.resetLbTotalLine=function(){this.currentTotalLine=1,this.lb_TotalLine.string="..."},e.prototype.setStateEffBtnSpin=function(){var t=cc.find("Paticle",this.btnSpin).getComponent(cc.ParticleSystem),e=cc.find("sb_arrow",this.btnSpin),n=cc.find("sb_arrow_blur",this.btnSpin);if(this.stateReel!=p.default.STOP){var i=cc.Material.getBuiltinMaterial("2d-sprite");e.getComponent(cc.Sprite).setMaterial(0,i)}if(this.stateReel==p.default.WAITING||this.stateReel==p.default.SHOW_EFFECT)n.active=!1,e.active=!0,e.stopAllActions(),e.runAction(cc.repeatForever(cc.rotateBy(3,-360)));else if(this.stateReel==p.default.RUN)cc.log("play anim"),t.resetSystem(),n.active=!0,n.stopAllActions(),n.runAction(cc.repeatForever(cc.rotateBy(.3,-360))),e.active=!1,this.infoBar.showRdContent();else if(this.stateReel==p.default.STOP){e.active=!0,e.stopAllActions(),n.active=!1;var o=cc.Material.getBuiltinMaterial("2d-gray-sprite");e.getComponent(cc.Sprite).setMaterial(0,o)}},e.prototype.setLbFreeSpinLeft=function(t){var e=this.lb_FSLeft.node.parent;this.lb_FSLeft.string=t,t<1?(cc.find("last_spin",e).active=!0,cc.find("remaining_spin",e).active=!1,this.lb_FSLeft.node.active=!1):(cc.find("last_spin",e).active=!1,cc.find("remaining_spin",e).active=!0,this.lb_FSLeft.node.active=!0)},e.prototype.setCountAuto=function(t){this.lb_CountAuto.node.parent.active=!(t<1),this.lb_CountAuto.string=t.toString()},e.prototype.showMoneyAllWin=function(t){cc.log("money win: "+t),this.labelChipReviceInBox.setMoney(t),R.Windown.MoneyUser.removeDelay(this.gameType)},e.prototype.offLbFree=function(){this.lb_FSLeft.node.parent.active=!1},e.prototype.onClickSendObjTest=function(){var t=f.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),t.putUtfString("arr",'[[{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":12},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":1}],\n            [{"size":2,"typeItem":1,"idItem":0},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":11},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":0}],\n            [{"size":1,"typeItem":0,"idItem":12},{"size":2,"typeItem":1,"idItem":0},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":11}],\n            [{"size":1,"typeItem":0,"idItem":12},{"size":3,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":12}],\n            [{"size":4,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":4}],\n            [{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":2}]]'),this.sfsObjTest=t,this.onClickBtnSpin(),cc.log("onClickSendObjTest")},e.prototype.onClickSendFixData=function(){var t=f.ConectManager.getIns().getSFSObj();t.putUtfString("data",'{"agWin":3100,"bonusSpin":[1,2,3,4],"numFreeSpin":0,"listItemWin":[{"lsIdItem":"[7,3]","lsstack":"[2,2]","lsAgWin":"[1600,400]"},{"lsIdItem":"[0]","lsstack":"[2]","lsAgWin":"[100]"},{"lsIdItem":"[1]","lsstack":"[4]","lsAgWin":"[300]"}],"agUser":85520,"Scarter4":false,"agBet":50,"views":[[[{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":4}],[{"size":1,"typeItem":0,"idItem":7},{"size":2,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":4}],[{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":3}],[{"size":3,"typeItem":0,"idItem":1},{"size":2,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":0}],[{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":10}],[{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":10}]],[[{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":0}],[{"size":1,"typeItem":0,"idItem":1},{"size":2,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":10},{"size":1,"typeItem":0,"idItem":4}],[{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":0},{"size":2,"typeItem":1,"idItem":9},{"size":1,"typeItem":0,"idItem":0}],[{"size":3,"typeItem":0,"idItem":1},{"size":2,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":10}],[{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":4}],[{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":10}]],[[{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":2}],[{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":10},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":4}],[{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":6},{"size":2,"typeItem":1,"idItem":9},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":10}],[{"size":3,"typeItem":0,"idItem":1},{"size":2,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":4}],[{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":5}],[{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":10}]],[[{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":1}],[{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":10},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":4}],[{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":6},{"size":2,"typeItem":1,"idItem":9},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":10}],[{"size":2,"typeItem":0,"idItem":5},{"size":3,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":4}],[{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":5}],[{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":10}]]]}\n'),this.sfsObjTest2=t,this.onClickBtnSpin()},e.prototype.onClickTest=function(){return s(this,void 0,void 0,function(){var t;return c(this,function(){return(t=f.ConectManager.getIns().getSFSObj()).putInt("bet",this.curRoomBet),t.putUtfString("arr",'[[{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":1}],[{"size":1,"typeItem":0,"idItem":12},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":0}],[{"size":1,"typeItem":0,"idItem":8},{"size":3,"typeItem":1,"idItem":2},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":2}],[{"size":3,"typeItem":1,"idItem":0},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":9}],[{"size":1,"typeItem":0,"idItem":12},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":3}],[{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":7}]]'),this.sfsObjTest=t,this.onClickBtnSpin(),[2]})})},e.prototype.onClickResetCountAuto=function(){this.stateSpin.countAutoSpin=0,this.lb_CountAuto.node.parent.active=!1,R.Windown.RungRam.audio.playClick()},e.prototype.onClickItemAutoSpin=function(t){R.Windown.RungRam.audio.playClick(),this.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer).allowSwitchOff=!1;var e=t.node.name,n=Number(e);this.stateSpin.countAutoSpin=n,this.btnStartAuto.interactable=!0,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#FF8E26")},e.prototype.onClickStartAutoSpin=function(){this.onClickBtnSpin(),this.onClickCloseListAuto(),R.Windown.RungRam.stateSpin.countAutoSpin>0&&R.Windown.RungRam.setCountAuto(R.Windown.RungRam.stateSpin.countAutoSpin)},e.prototype.onClickShowListAuto=function(){R.Windown.RungRam.audio.playClick(),this.nodeChooseAuto.active=!0,this.nodeChooseAuto.opacity=0,this.nodeChooseAuto.runAction(cc.fadeIn(.3)),this.btnStartAuto.interactable=!1,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")},e.prototype.onClickCloseListAuto=function(){var t=this;R.Windown.RungRam.audio.playClick(),this.nodeChooseAuto.stopAllActions(),this.nodeChooseAuto.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){var e=t.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer);e.allowSwitchOff=!0,e.toggleItems.forEach(function(t){t.isChecked&&t.uncheck()}),t.nodeChooseAuto.active=!1,t.btnStartAuto.interactable=!1,t.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")})))},e.prototype.convertResult=function(t,e,n){var i=this,o=[];return R.Windown.foreachSFSArray(t,function(t,r){var s=Object.create(null);s.listSFSObj=[],s.listSFSObjNgang=[],s.mutil=cc.misc.clampf(n[r],1,9999999),s.agWin=0,R.Windown.foreachSFSArray(t,function(n,i){var o=[];if(R.Windown.foreachSFSArray(n,function(t,e){e==n.size()-1&&i>0&&i<5?s.listSFSObjNgang.push(t):o.push(t)}),o.reverse(),s.listSFSObj.push(o),i==t.size()-1){var r=e.shift();r&&(r.lsIdItem=JSON.parse(r.lsIdItem),r.lsstack=JSON.parse(r.lsstack),r.lsAgWin=JSON.parse(r.lsAgWin),r.lsAgWin.length>0&&(s.listItemWin=r,s.isNoSap=!0),r.lsAgWin.forEach(function(t){s.agWin+=t}))}}),s.countScater=i.getCountScater(s.listSFSObj,s.listSFSObjNgang),s.listSFSObjNgang.reverse(),o.push(s)}),o},e.prototype.setResult=function(){},e.prototype.getListActiveScaster=function(t,e){var n=[],i=0;e.forEach(function(t){12==t.getInt("idItem")&&i++});for(var o=0;o<t.length;o++)i>2?n.push(!0):n.push(!1),t[o].forEach(function(t){12==t.getInt("idItem")&&i++});return n},e.prototype.onClickChangeBet=function(t,e){if(R.Windown.RungRam.audio.playClick(),this.listConfigBet.length<1)R.Windown.Dialog.showLog(h.TextDefine.Error);else{var n=-1;for(var i in this.listConfigBet)if(this.listConfigBet[i].bet==this.curRoomBet){n=parseInt(i);break}0==e?n--:n++,n<0&&(n=this.listConfigBet.length-1),n>this.listConfigBet.length-1&&(n=0),this.curRoomBet=this.listConfigBet[n].bet,this.lb_totalBet.string=R.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.onClickCachChoi=function(){return s(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return R.Windown.RungRam.audio.playClick(),R.Windown.UIManager.showLoading(),[4,R.Windown.loadRes(this.gameType.toString(),"Frefabs/CachChoi",cc.Prefab)];case 1:return t=e.sent(),cc.instantiate(t).parent=R.Windown.RungRam.node.getChildByName("Game"),R.Windown.UIManager.hideLoading(),[2]}})})},e.prototype.onClickBackToLobby=function(){R.Windown.RungRam.audio.playClick(),this.roomSFS?f.ConectManager.getIns().sendLeaveRoom(this.roomSFS):cc.director.loadScene("main")},e.prototype.onClickTurbo=function(){R.Windown.RungRam.audio.playClick();var t=this.toggleTurbo.isChecked;this.toggleTurbo.node.children[1].active=!t,this.stateSpin.isMaxSpeed=t,t?R.Windown.UIManager.showAlertMini("\u0110\xe3 b\u1eadt Auto"):R.Windown.UIManager.showAlertMini("T\u1eaft Auto")},e.prototype.onClickSeting=function(){if(R.Windown.RungRam.audio.playClick(),cc.log("click onClickSeting"),this.isShowBtnPlay=!this.isShowBtnPlay,this.isShowBtnPlay)t=cc.v2(0,-750),this.nodeBtnPlay.runAction(cc.fadeIn(.4)),this.nodeBtnSeting.runAction(cc.spawn(cc.fadeOut(.3),cc.moveTo(.3,t)));else{this.nodeBtnPlay.stopAllActions(),this.nodeBtnSeting.stopAllActions();var t=cc.v2(0,-525.279);this.nodeBtnPlay.runAction(cc.fadeOut(.3)),this.nodeBtnSeting.opacity=0,this.nodeBtnSeting.runAction(cc.spawn(cc.fadeIn(.4),cc.moveTo(.4,t)))}},e.prototype.getCountScater=function(t,e){var n=0;return t.forEach(function(t){t.forEach(function(t){12==t.getInt("idItem")&&n++})}),e.forEach(function(t){12==t.getInt("idItem")&&n++}),n},e.prototype.getMakeDelay=function(t){return this.makeDelay.getDelay(t)},e.prototype.clearAllMakeDelay=function(){this.makeDelay.clear()},e.prototype.activeAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!0,t.node.children.forEach(function(t){t.color=cc.Color.fromHEX(new cc.Color,"#FFD500")})})},e.prototype.offAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!1,t.node.children.forEach(function(t){t.color=cc.Color.fromHEX(new cc.Color,"#999999")})})},e.prototype.truTienBet=function(t,e){0!=t&&R.Windown.MoneyUser.subMoney(t,e)},e.prototype.effectShake=function(t,e){void 0===t&&(t=.2),void 0===e&&(e=10)},e.prototype.onClickLichSu=function(){return s(this,void 0,void 0,function(){var t=this;return c(this,function(){return R.Windown.RungRam.audio.playClick(),R.Windown.UIManager.showLoading(),cc.assetManager.getBundle("42").load("Frefabs/LichSu",cc.Prefab,function(e,n){var i=n;t._popupLichSu=cc.instantiate(i).getComponent(A.default),t._popupLichSu.node.parent=R.Windown.RungRam.node.getChildByName("Game"),t._popupLichSu.show()}),[2]})})},e.prototype.update=function(){},r([F(v.default)],e.prototype,"asset",void 0),r([F(cc.Node)],e.prototype,"bkgSprite",void 0),r([F(W.default)],e.prototype,"itemSlotRungRamNgang",void 0),r([F(cc.Node)],e.prototype,"parentItem",void 0),r([F(cc.Node)],e.prototype,"parentEffect",void 0),r([F(cc.Node)],e.prototype,"parentItemFront",void 0),r([F(cc.Node)],e.prototype,"parentItemActive",void 0),r([F(cc.Node)],e.prototype,"nodeLine",void 0),r([F(w.default)],e.prototype,"effect",void 0),r([F(m.default)],e.prototype,"labelChipReviceInBox",void 0),r([F(cc.Label)],e.prototype,"lb_totalBet",void 0),r([F(cc.Label)],e.prototype,"lb_FSLeft",void 0),r([F(y.default)],e.prototype,"lb_TotalLine",void 0),r([F(cc.Label)],e.prototype,"lb_CountAuto",void 0),r([F(I.default)],e.prototype,"infoBar",void 0),r([F(O.default)],e.prototype,"muitlCtr",void 0),r([F(cc.Node)],e.prototype,"btnSpin",void 0),r([F(cc.Node)],e.prototype,"parentMask",void 0),r([F(cc.Node)],e.prototype,"nodeChooseAuto",void 0),r([F(b.default)],e.prototype,"audio",void 0),r([F([cc.Button])],e.prototype,"listNodeDeactive",void 0),r([F(cc.Node)],e.prototype,"nodeBtnPlay",void 0),r([F(cc.Node)],e.prototype,"nodeBtnSeting",void 0),r([F(cc.Toggle)],e.prototype,"toggleTurbo",void 0),r([F(cc.Button)],e.prototype,"btnStartAuto",void 0),r([E],e)}(cc.Component);n.default=k,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":void 0,"../../../Scritps/DefineTs/PlayerPP":void 0,"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/DefineTs/StateReelSlot":void 0,"../../../Scritps/DefineTs/TextDefine":void 0,"../../../Scritps/Game/GAME_TYPE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Obs/LbMoneyChange":void 0,"../../../Scritps/Other/LbMonoSpace":void 0,"../../../Scritps/Other/MakeDelay":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./AssetRungRam":"AssetRungRam","./AudioRungRam":"AudioRungRam","./EffectRungRam":"EffectRungRam","./InfoBarControllerRungRam":"InfoBarControllerRungRam","./ItemSlotRungRam":"ItemSlotRungRam","./ItemSlotRungRamNgang":"ItemSlotRungRamNgang","./LichSuRungRam":"LichSuRungRam","./MutilControlRungRam":"MutilControlRungRam","./SpinNormalRungRam":"SpinNormalRungRam"}],SpinNormalRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"35b8epwyL5EBaBDt2QI4Jtm","SpinNormalRungRam");var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{a(i.next(t))}catch(e){r(e)}}function c(t){try{a(i.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((i=i.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Scritps/DefineTs/StateReelSlot"),s=t("../../../Scritps/Util"),c=t("../../../Scritps/Windown"),a=function(){function t(){this.listFunShowOceLine=[],this.funShowOceLine=null,this.listColum=[],this.effect=null,this.isMaxSpeed=!1,this.isAutoSpin=!1,this.lastAutoSpin=!1,this.countAutoSpin=0,this.lastFreeSpinLeft=0,this.freeSpinLeft=0,this.freeSpinCache=0,this.moneyTotalFs=0,this.curentCountScater=0,this.isShowNearWin=!1,this.itemRungRamNang=null,this.listColum=c.Windown.RungRam.listColum,this.itemRungRamNang=c.Windown.RungRam.itemSlotRungRamNgang,this.effect=c.Windown.RungRam.effect}return t.prototype.onStart=function(){var t=this;return new Promise(function(e){return i(t,void 0,void 0,function(){var t,n;return o(this,function(i){switch(i.label){case 0:i.trys.push([0,5,,6]),this.removeAllMutilAdded(),this.itemRungRamNang.runSpin(),t=0,i.label=1;case 1:return t<this.listColum.length?(this.listColum[t].runSpin(),this.isMaxSpeed?[3,3]:[4,c.Windown.RungRam.getMakeDelay(.025).prosime]):[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return c.Windown.RungRam.audio.playEffect(c.Windown.RungRam.audio.spinActiveLoop,.5,!0),[3,6];case 5:return n=i.sent(),s.Util.ThrowErrProsime(n),[3,6];case 6:return e(null),[2]}})})})},t.prototype.onEnd=function(){return i(this,void 0,void 0,function(){var t,e,n,i,a,l,u,p,h,d;return o(this,function(o){switch(o.label){case 0:for(o.trys.push([0,15,,16]),cc.log("onend:========"),t=c.Windown.RungRam.listResultConvert,e=c.Windown.RungRam.getListActiveScaster(t[0].listSFSObj,t[0].listSFSObjNgang),n=0,i=[],this.isShowNearWin=!1,a=0,l=e;a<l.length;a++)if(h=l[a]){this.isShowNearWin=!0;break}return this.curentCountScater=t[0].countScater,this.isMaxSpeed?[3,2]:(this.itemRungRamNang.stopSpin(!1,t[0].listSFSObjNgang),[4,c.Windown.RungRam.getMakeDelay(.3).prosime]);case 1:return o.sent(),[3,3];case 2:this.itemRungRamNang.stopSpinIsFastSpin(!1,t[0].listSFSObjNgang),o.label=3;case 3:c.Windown.RungRam.audio.stopEffect(c.Windown.RungRam.audio.spinActiveLoop),u=0,p=this.listColum,o.label=4;case 4:return u<p.length?(h=p[u],this.isMaxSpeed?[3,6]:[4,h.stopSpin(e[n],t[0].listSFSObj[n])]):[3,9];case 5:return o.sent(),[3,7];case 6:i.push(h.stopSpinIsFastSpin(e[n],t[0].listSFSObj[n])),o.label=7;case 7:n++,o.label=8;case 8:return u++,[3,4];case 9:return this.isMaxSpeed?[4,Promise.all(i)]:[3,12];case 10:return o.sent(),[4,c.Windown.RungRam.getMakeDelay(.1).prosime];case 11:return o.sent(),[3,14];case 12:return[4,c.Windown.RungRam.getMakeDelay(.5).prosime];case 13:o.sent(),o.label=14;case 14:return c.Windown.RungRam.stateReel!=r.default.RUN&&this.handleStopAllColum(),[3,16];case 15:return d=o.sent(),s.Util.ThrowErrProsime(d),[3,16];case 16:return[2]}})})},t.prototype.handleErrSpin=function(){return i(this,void 0,void 0,function(){var t,e,n;return o(this,function(i){switch(i.label){case 0:c.Windown.RungRam.audio.stopEffect(c.Windown.RungRam.audio.spinActiveLoop),this.itemRungRamNang.stopSpin(!1,this.itemRungRamNang.result),t=0,e=this.listColum,i.label=1;case 1:return t<e.length?(n=e[t],this.isMaxSpeed?[3,3]:[4,n.stopSpin(!1,n.result)]):[3,5];case 2:return i.sent(),[3,4];case 3:n.stopSpin(!1,n.result),i.label=4;case 4:return t++,[3,1];case 5:return c.Windown.RungRam.resetForNewGame(),[2]}})})},t.prototype.onForceEnd=function(){return i(this,void 0,void 0,function(){var t,e,n,i,r,a,l,u;return o(this,function(o){switch(o.label){case 0:cc.log("onForceEnd"),o.label=1;case 1:for(o.trys.push([1,4,,5]),c.Windown.RungRam.clearAllMakeDelay(),t=c.Windown.RungRam.listResultConvert,e=c.Windown.RungRam.getListActiveScaster(t[0].listSFSObj,t[0].listSFSObjNgang),n=[],i=0,this.itemRungRamNang.forceStopSpin(!1,t[0].listSFSObjNgang),r=0,a=this.listColum;r<a.length;r++)l=a[r],n.push(l.forceStopSpin(e[i],t[0].listSFSObj[i])),i++;return c.Windown.RungRam.audio.playEffect(c.Windown.RungRam.audio.spinStopQuick),[4,Promise.all(n)];case 2:return o.sent(),[4,c.Windown.RungRam.getMakeDelay(.25).prosime];case 3:return o.sent(),this.handleStopAllColum(),[3,5];case 4:return u=o.sent(),s.Util.ThrowErrProsime(u),[3,5];case 5:return[2]}})})},t.prototype.handleStopAllColum=function(){return i(this,void 0,void 0,function(){var t,e,n,i,a;return o(this,function(o){switch(o.label){case 0:if(o.trys.push([0,12,,13]),c.Windown.RungRam.stateReel==r.default.STOP)return[2];c.Windown.RungRam.stateReel=r.default.STOP,c.Windown.RungRam.setStateEffBtnSpin(),t=c.Windown.RungRam.listResultConvert,this.offAllEffectSymbolScater(),this.activeAllSymbol(),c.Windown.RungRam.infoBar.offOneMoreScater(),c.Windown.RungRam.infoBar.showRdContent(),e=0,n=t.length,o.label=1;case 1:return e<n?(i=t[e],this.curentCountScater=i.countScater,i.listItemWin?[4,this.checkAndShowLineAn(i.listItemWin,i.agWin)]:[3,7]):[3,9];case 2:return o.sent(),[4,c.Windown.RungRam.infoBar.showTakeMoneyTurn(i.agWin*i.mutil)];case 3:return o.sent(),this.checkAndRemoveSymbol(i.listItemWin),i.isNoSap?[4,this.addNewSymbol(t[e+1])]:[3,6];case 4:return o.sent(),c.Windown.RungRam.infoBar.isShowOneMoreScater=!1,[4,this.moveAllSymbol()];case 5:o.sent(),o.label=6;case 6:this.takeMutil(),o.label=7;case 7:c.Windown.RungRam.infoBar.offOneMoreScater(),o.label=8;case 8:return e++,[3,1];case 9:return[4,this.showMoneyTotalRevice()];case 10:return o.sent(),[4,this.checkAndShowEffect()];case 11:return o.sent(),this.resetForNextNextSpin(),[3,13];case 12:return a=o.sent(),s.Util.ThrowErrProsime(a),[3,13];case 13:return[2]}})})},t.prototype.checkIsNearFS=function(){return this.isShowNearWin},t.prototype.removeAllMutilAdded=function(){var t=this;return new Promise(function(e){c.Windown.RungRam.resetLbTotalLine(),c.Windown.RungRam.muitlCtr.resetForNextSpin(),t.listColum.forEach(function(t){t.getListSymbol().forEach(function(t){t.removeMutilWhenSpin()})}),t.itemRungRamNang.getListSymbol().forEach(function(t){t.removeMutilWhenSpin()}),e(null)})},t.prototype.checkAndRemoveSymbol=function(t){this.activeAllSymbol();for(var e=t.lsIdItem,n=t.lsstack,i=0,o=e.length;i<o;i++){this.itemRungRamNang.checkAndRemoveItem(e[i],n[i]);for(var r=0;r<n[i]+1;r++)this.listColum[r].checkAndRemoveItem(e[i],null)}},t.prototype.addNewSymbol=function(t){var e=this;return new Promise(function(n){return i(e,void 0,void 0,function(){var e,i,r;return o(this,function(o){switch(o.label){case 0:for(i in o.trys.push([0,2,,3]),(e=[]).push(this.itemRungRamNang.addNewListSymbol(t.listSFSObjNgang)),this.listColum)e.push(this.listColum[i].addNewListSymbol(t.listSFSObj[i]));return[4,Promise.all(e)];case 1:return o.sent(),n(null),[3,3];case 2:return r=o.sent(),s.Util.ThrowErrProsime(r),[3,3];case 3:return[2]}})})})},t.prototype.moveAllSymbol=function(){var t=this;return new Promise(function(e){return i(t,void 0,void 0,function(){var t,n,i,r;return o(this,function(o){switch(o.label){case 0:for(i in o.trys.push([0,2,,3]),t=0,(n=[]).push(this.itemRungRamNang.moveAllSymbol(t)),this.itemRungRamNang.checkIsNorSap()&&t++,this.listColum)n.push(this.listColum[i].moveAllSymbol(t)),this.listColum[i].checkIsNorSap()&&t++;return[4,Promise.all(n)];case 1:return o.sent(),e(null),[3,3];case 2:return r=o.sent(),s.Util.ThrowErrProsime(r),[3,3];case 3:return[2]}})})})},t.prototype.takeMutil=function(){c.Windown.RungRam.muitlCtr.take()},t.prototype.offAllSymbol=function(t){void 0===t&&(t=!0),c.Windown.RungRam.activeMask(!0)},t.prototype.activeAllSymbol=function(){c.Windown.RungRam.activeMask(!1)},t.prototype.checkAndShowLineAn=function(t,e){var n=this;return new Promise(function(r){return i(n,void 0,void 0,function(){var n,i,a,l,u,p,h;return o(this,function(o){switch(o.label){case 0:for(o.trys.push([0,2,,3]),this.offAllSymbol(),n=t.lsIdItem,i=t.lsstack,a=t.lsAgWin,l=0,u=n.length;l<u;l++){for(this.itemRungRamNang.checkItemWin(n[l],i[l]),p=0;p<i[l]+1;p++)this.listColum[p].checkItemWin(n[l],null);a[l]}return[4,c.Windown.RungRam.infoBar.showTakeMoney(e)];case 1:return o.sent(),r(null),[3,3];case 2:return h=o.sent(),s.Util.ThrowErrProsime(h),[3,3];case 3:return[2]}})})})},t.prototype.effectDropScater=function(){cc.log("effectDropScater"),c.Windown.RungRam.infoBar.effectDropOneMorScater(),this.itemRungRamNang.getListSymbolResult().forEach(function(t){t.effectDropScater()}),this.listColum.forEach(function(t){t.getListSymbolResult().forEach(function(t){t.effectDropScater()})})},t.prototype.offAllEffectSymbolScater=function(){this.itemRungRamNang.getListSymbolResult().forEach(function(t){return t.removeAddScater()}),this.listColum.forEach(function(t){t.getListSymbolResult().forEach(function(t){t.removeAddScater()})})},t.prototype.resetForNextNextSpin=function(){var t=this;this.itemRungRamNang.getListSymbolResult().forEach(function(t){return t.removeAddScater(!0)}),this.listColum.forEach(function(t){t.getListSymbolResult().forEach(function(t){t.removeAddScater(!0)})}),c.Windown.RungRam.resetForNewGame(),this.freeSpinLeft>0?c.Windown.RungRam.scheduleOnce(function(){c.Windown.RungRam.setLbFreeSpinLeft(t.freeSpinLeft-1),c.Windown.RungRam.onClickBtnSpin()},.5):this.countAutoSpin>0?c.Windown.RungRam.scheduleOnce(function(){t.countAutoSpin--,c.Windown.RungRam.setCountAuto(t.countAutoSpin),c.Windown.RungRam.onClickBtnSpin()},.5):c.Windown.RungRam.activeAllBtn()},t.prototype.checkAndShowEffect=function(){var t=this;return new Promise(function(e){return i(t,void 0,void 0,function(){var t,n,i;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),t=c.Windown.RungRam.dataFinish.getBool("Scarter4"),n=c.Windown.RungRam.dataFinish.get("numFreeSpin"),this.freeSpinLeft=n,!t&&this.lastFreeSpinLeft<1?(e(null),[2]):t?[4,c.Windown.RungRam.effect.showTakeFreeSpin(n)]:[3,2];case 1:o.sent(),o.label=2;case 2:return 1==this.lastFreeSpinLeft&&this.freeSpinLeft<1?[4,this.effect.showEndFree(this.moneyTotalFs)]:[3,4];case 3:o.sent(),this.moneyTotalFs=0,o.label=4;case 4:return this.lastFreeSpinLeft=this.freeSpinLeft,e(null),[3,6];case 5:return i=o.sent(),s.Util.ThrowErrProsime(i),[3,6];case 6:return[2]}})})})},t.prototype.showMoneyTotalRevice=function(){var t=this;return new Promise(function(e){return i(t,void 0,void 0,function(){var t,n;return o(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),t=c.Windown.RungRam.dataFinish.get("agWin"),this.lastFreeSpinLeft>0&&(this.moneyTotalFs+=t),c.Windown.RungRam.activeMask(!1),t<1?(e(null),[2]):[4,c.Windown.RungRam.infoBar.showTotalMoney(t)];case 1:return i.sent(),c.Windown.RungRam.showMoneyAllWin(t),e(null),[3,3];case 2:return n=i.sent(),s.Util.ThrowErrProsime(n),[3,3];case 3:return[2]}})})})},t}();n.default=a,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0}],StartFreeSpinRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"47d361ViE1M7ZdSM2x5/Uvv","StartFreeSpinRungRam");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),c=cc._decorator,a=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.btnBatDau=null,e.main=null,e.bkg=null,e.vong=null,e.particel=null,e}return o(e,t),e.prototype.show=function(t){var e=this;return new Promise(function(n){s.Windown.RungRam.audio.playBkgfs(),s.Windown.RungRam.audio.playEffect(s.Windown.RungRam.audio.fsTrans),s.Windown.RungRam.audio.playEffect(s.Windown.RungRam.audio.fsTrans),e.label.string=t.toString(),e.bkg.opacity=0,e.bkg.runAction(cc.fadeIn(.5)),e.main.scale=2,e.main.opacity=0,e.btnBatDau.interactable=!1,e.btnBatDau.node.opacity=0,e.main.runAction(cc.spawn(cc.scaleTo(.5,1),cc.fadeIn(.5))),e.vong.scale=3,e.vong.opacity=0,e.vong.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){e.particel.resetSystem(),e.vong.opacity=255}),cc.spawn(cc.scaleTo(1,5).easing(cc.easeElasticOut(3)),cc.sequence(cc.delayTime(.5),cc.fadeOut(.6)))));var i=function(){e.node.runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){e.node.destroy()}))),n(null)};e.scheduleOnce(function(){s.Windown.RungRam.effect.swidthFS(!0),e.btnBatDau.interactable=!0;var t=e.btnBatDau;t.node.opacity=0,t.node.runAction(cc.sequence(cc.fadeIn(1),cc.callFunc(function(){t.node.once("click",i)}),cc.delayTime(5),cc.callFunc(i)))},1)})},r([l(cc.Label)],e.prototype,"label",void 0),r([l(cc.Button)],e.prototype,"btnBatDau",void 0),r([l(cc.Node)],e.prototype,"main",void 0),r([l(cc.Node)],e.prototype,"bkg",void 0),r([l(cc.Node)],e.prototype,"vong",void 0),r([l(cc.ParticleSystem)],e.prototype,"particel",void 0),r([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":void 0}],SymbolRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"7615aXa/fpK5bAGKWJbdFr0","SymbolRungRam");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{a(i.next(t))}catch(e){r(e)}}function c(t){try{a(i.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((i=i.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE_ITEM=void 0;var a,l=t("../../../Scritps/DefineTs/BUNDLE"),u=t("../../../Scritps/DefineTs/StateReelSlot"),p=t("../../../Scritps/Util"),h=t("../../../Scritps/Windown"),d=t("./Effect/EffectSymbolRungRam"),f=t("./Effect/ItemAddScaterRungRam"),m=t("./ItemSlotRungRam"),y=cc._decorator,g=y.ccclass,S=y.property;(function(t){t[t.NONE=0]="NONE",t[t.BAC=1]="BAC",t[t.VANG=2]="VANG"})(a=n.TYPE_ITEM||(n.TYPE_ITEM={}));var R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.spriteBkg=null,e.spriteKhung=null,e.skeletonItem=null,e.listColorBkg=[null,null],e.isVectical=!0,e.nodeScater=null,e.sizeBkg=new cc.Size(120,100),e.size=new cc.Size(124,100),e.itemColum=null,e.result=-1,e.objSFS=null,e.typeItem=a.NONE,e.sizeItem=0,e.canRun=!1,e.efWin=null,e.lastPos=null,e.isShuff=!1,e.isSmoke=!1,e.isShowEffectSpawn=!1,e}return o(e,t),e.prototype.setItemColum=function(t){this.itemColum=t,this.isVectical?(this.node.angle=0,this.size.height=100):(this.size.height=122,this.node.angle=90)},e.prototype.setResult=function(t){null!=t&&(this.result!=t.getInt("idItem")+1||this.typeItem!=t.getInt("typeItem")||this.sizeItem!=t.getInt("size")?(this.objSFS=t,this.result=t.getInt("idItem")+1,this.typeItem=t.getInt("typeItem"),this.sizeItem=t.getInt("size"),this.setSize(),this.skeletonItem.node.active=!1,this.itemColum.stateWhel==u.default.RUN?this.setImgResult(!0):this.setImgResult(!1),this.isShuff=!1,this.isShowEffectSpawn=!1,13==this.result?this.node.zIndex=100:12==this.result?this.node.zIndex=50:this.node.zIndex=0):this.itemColum.stateWhel==u.default.RUN?this.setImgResult(!0):this.setImgResult(!1))},e.prototype.setSize=function(){this.spriteBkg.node.height=this.sizeBkg.height*this.sizeItem,this.spriteKhung.node.height=this.sizeBkg.height*this.sizeItem,this.node.height=this.size.height*this.sizeItem},e.prototype.setImgResult=function(t){this.sprite.spriteFrame=this.getSpItem(t),this.spriteBkg.spriteFrame=this.getSpBkg(t),null==this.spriteBkg.spriteFrame&&cc.log("null me bkg blur: "+this.result+"=="+this.sizeItem),this.spriteKhung.spriteFrame=this.getSpKhung(t),this.spriteKhung.node.height=this.node.height,this.spriteBkg.node.color=this.getColorBkg(),t?(this.sprite.node.scale=1.4,this.spriteKhung.node.scale=1.05,this.sizeItem>1?this.spriteBkg.node.scaleY=1.1:this.spriteBkg.node.scaleY=1.2,this.spriteBkg.node.scaleX=1.07):(this.sprite.node.scale=1,this.spriteBkg.node.scale=1,this.spriteKhung.node.scale=1)},e.prototype.checkItemFront=function(){!this.checkIsInView()||12!=this.result&&13!=this.result?this.node.parent=this.itemColum.parentItem:this.node.parent=this.itemColum.parentItemFront},e.prototype.offItemFront=function(){this.node.parent=this.itemColum.parentItem},e.prototype.getSpKhung=function(t){return h.Windown.RungRam.asset.getSfKhungSymbol(this.typeItem,t)},e.prototype.getSpBkg=function(t){return h.Windown.RungRam.asset.getSfBkg(this.result,this.sizeItem,t)},e.prototype.getSpItem=function(t){var e=this.sizeItem;return this.result<11&&(e=1),12!=this.result&&(e=cc.misc.clampf(e,1,2)),h.Windown.RungRam.asset.getSfItemSymbol(this.result,e,t)},e.prototype.getAtlas=function(){return this.result<12?h.Windown.RungRam.asset.atlasSymbol:h.Windown.RungRam.asset.atlasSpecial},e.prototype.getSpin=function(){var t=this.convertNameSpineById()+this.convertNameSizeSpine();return h.Windown.loadRes(l.BUNDLE.RungRam,"Spine/"+t,sp.SkeletonData)},e.prototype.getIndexOf=function(){return this.itemColum.getListSymbol().indexOf(this)},e.prototype.getColorBkg=function(){return this.result<4?this.listColorBkg[this.result-1]:this.listColorBkg[3]},e.prototype.showSkeleton=function(t){return s(this,void 0,void 0,function(){var e=this;return c(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e,i;return c(this,function(o){switch(o.label){case 0:e=null,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.getSpin()];case 2:return e=o.sent(),[3,4];case 3:return i=o.sent(),cc.error(i),[3,4];case 4:return e&&(this.skeletonItem.node.active=!0,this.skeletonItem.skeletonData=e,this.skeletonItem.setAnimation(0,"spawn",!1),t&&this.skeletonItem.addAnimation(0,"idle",!0)),n(null),[2]}})})})]})})},e.prototype.hideSkeleton=function(){this.skeletonItem.node.active=!1},e.prototype.convertNameSpineById=function(){switch(this.result){case 12:return"s_wild";case 13:return"s_scatter"}},e.prototype.convertNameSize=function(){switch(this.sizeItem){case 1:return"_a_atlas_symbols";case 2:return"_b_atlas_symbols";case 3:return this.result<11||13==this.result?"_b_atlas_symbols":11==this.result?"_cd_atlas_symbols":"_c_atlas_symbols";case 4:return this.result<11||13==this.result?"_b_atlas_symbols":11==this.result?"_cd_atlas_symbols":"_d_atlas_symbols"}},e.prototype.convertNameSizeSpine=function(){switch(this.sizeItem){case 1:return"_a_atlas_symbols";case 2:return"_b_atlas_symbols";case 3:return 12==this.result?"_c_atlas_symbols":"_b_atlas_symbols";case 4:return 12==this.result?"_d_atlas_symbols":"_b_atlas_symbols"}},e.prototype.removeAddScater=function(t){null!=this.nodeScater&&(t?(this.nodeScater&&h.Windown.RungRam.asset.putAddScater(this.nodeScater.node),this.nodeScater=null):this.nodeScater.node.active=!1,this.skeletonItem.node.active=!0,this.offItem())},e.prototype.effectScaterShowFS=function(){13==this.result&&this.checkIsInView()&&(null==this.nodeScater&&(this.nodeScater=h.Windown.RungRam.asset.getAddScater().getComponent(f.default),this.nodeScater.node.parent=this.node,this.nodeScater.node.setPosition(0,0)),this.activeItem(),this.nodeScater.node.active=!0,this.skeletonItem.node.active=!1,this.nodeScater.show())},e.prototype.effectNearWinScater=function(t){13==this.result&&(null==this.nodeScater&&(this.nodeScater=h.Windown.RungRam.asset.getAddScater().getComponent(f.default),this.nodeScater.node.parent=this.node,this.nodeScater.node.setPosition(0,0)),this.activeItem(),this.nodeScater.node.active=!0,this.nodeScater.node.stopAllActions(),this.nodeScater.effectNearWinNoSap(t),this.skeletonItem.node.active=!1)},e.prototype.effectDropScater=function(){13==this.result&&this.nodeScater&&!h.Windown.RungRam.stateSpin.isMaxSpeed&&(this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.scaleTo(.1,1.18).easing(cc.easeSineOut()),cc.scaleTo(.1,1).easing(cc.easeSineIn()))))},e.prototype.showSmoke=function(){this.isSmoke=!1;var t=h.Windown.RungRam.asset.getSmoke();t.parent=h.Windown.RungRam.parentEffect,t.setPosition(h.Windown.convertPosInOtherNode(cc.v2(0,-this.node.height/2),this.node,h.Windown.RungRam.parentEffect));var e=t.getComponent(cc.Animation);e.stop(),e.once(cc.Animation.EventType.FINISHED,function(){h.Windown.RungRam.asset.putSmoke(t)}),e.play()},e.prototype.checkIsInView=function(){return this.node.y<0&&this.node.y>-this.size.height*(this.itemColum.sizeSymbol-2)},e.prototype.offItem=function(){this.node.parent!=this.itemColum.parentItem&&this.checkItemFront()},e.prototype.activeItem=function(t){void 0===t&&(t=.3),this.node.parent=this.itemColum.parentItemActive},e.prototype.runSpin=function(){this.offItemFront();var t=cc.repeatForever(cc.moveBy(h.Windown.RungRam.stateSpin.isMaxSpeed?.5:1,0,-2500));this.node.stopAllActions(),this.node.runAction(t),this.canRun=!0},e.prototype.stopSpin=function(t){var e=this;this.node.stopAllActions(),this.getIndexOf(),this.node.runAction(cc.sequence(t,cc.callFunc(function(){e.itemColum.effStopSpin()})))},e.prototype.initPosStartGame=function(){var t,e=this.getIndexOf(),n=this.itemColum.getListSymbol()[e-1],i=null==n?void 0:n.node.y;t=n?i-this.node.height/2-n.node.height/2:this.node.height/2,this.node.y=t},e.prototype.setPos=function(t){this.node.setPosition(t)},e.prototype.getPos=function(){return this.node.getPosition()},e.prototype.moveWhenListChange=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=null);var i=this.getIndexOf(),o=this.itemColum.getListSymbol()[i+1],r=o.getPos(),s=r.y,c=null;t==m.TYPE_MOVE.NORMAL&&(c=s+this.node.height/2+o.node.height/2,r.y=c,this.setPos(r))},e.prototype.takeItem=function(){var t=h.Windown.RungRam.asset.getWinSymbol(this.sizeItem);t.parent=h.Windown.RungRam.parentEffect,t.setPosition(h.Windown.convertNodeInOtherNode(this.node,h.Windown.RungRam.parentEffect)),this.removeEfWin(),t.getComponent(d.default).effTakeItem(this.result,this.sizeItem,this.node.height),this.activeItem(0),this.efWin=t,t.zIndex=cc.macro.MAX_ZINDEX},e.prototype.removeEfWin=function(){this.efWin&&h.Windown.RungRam.asset.putWinSymbol(this.efWin),this.efWin=null},e.prototype.removeNodeClone=function(){},e.prototype.removeItem=function(){var t=this,e=this.getIndexOf();if(this.itemColum.sizeSymbol>6){var n=this.itemColum.getListSymbol()[e-1];n&&(n.isSmoke=!0)}e>-1&&this.itemColum.getListSymbol().splice(e,1),this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){h.Windown.RungRam.asset.putSymbol(t.node)}))),h.Windown.RungRam.audio.playEffect(h.Windown.RungRam.audio.symShrink),this.effectRemoveItem()},e.prototype.effectRemoveItem=function(){this.efWin&&this.efWin.getComponent(d.default).effRemoveItem(this.sizeItem,this.removeEfWin,this)},e.prototype.actionRandomNewResultNextKhung=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,i;return c(this,function(o){switch(o.label){case 0:return o.trys.push([0,8,,9]),this.isShowEffectSpawn=!1,this.typeItem++,this.typeItem=this.typeItem%3,this.spriteKhung.spriteFrame=this.getSpKhung(!1),h.Windown.RungRam.audio.playEffectNoStop(h.Windown.RungRam.audio.symRouletteStart),11!=t?[3,2]:(this.sprite.node.opacity=255,this.result=t+1,this.sprite.spriteFrame=this.getSpItem(!1),this.spriteBkg.spriteFrame=this.getSpBkg(!1),this.isShowEffectSpawn=!1,this.effectSpawnSymbol(),[4,h.Windown.RungRam.getMakeDelay(.4)]);case 1:return o.sent(),n(null),[3,7];case 2:return h.Windown.RungRam.stateSpin.isMaxSpeed?[3,4]:((e=h.Windown.RungRam.asset.getShuffToNormal()).parent=h.Windown.RungRam.parentEffect,e.setPosition(h.Windown.convertNodeInOtherNode(this.node,h.Windown.RungRam.parentEffect)),[4,e.getComponent(d.default).effShuffItem(this.node.height,this.result,t+1,this.sizeItem)]);case 3:o.sent(),o.label=4;case 4:return this.spriteBkg.node.active=!0,this.result=t+1,this.sprite.spriteFrame=this.getSpItem(!1),this.spriteBkg.spriteFrame=this.getSpBkg(!1),h.Windown.RungRam.stateSpin.isMaxSpeed?[4,h.Windown.RungRam.getMakeDelay(.4)]:[3,6];case 5:o.sent(),o.label=6;case 6:n(null),o.label=7;case 7:return[3,9];case 8:return i=o.sent(),p.Util.ThrowErrProsime(i),[3,9];case 9:return[2]}})})})},e.prototype.removeMutilWhenSpin=function(){this.removeEfWin()},e.prototype.effectSpawnSymbol=function(){return s(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return e.trys.push([0,6,,7]),this.isShowEffectSpawn||!this.checkIsInView()?[2]:(this.checkItemFront(),13!=this.result?[3,2]:(h.Windown.RungRam.audio.playEffectNoStop(h.Windown.RungRam.audio.symScatter),this.isShowEffectSpawn=!0,[4,this.showSkeleton(!0)]));case 1:return e.sent(),h.Windown.RungRam.stateSpin.checkIsNearFS()&&this.effectScaterShowFS(),[3,5];case 2:return 12!=this.result?[3,4]:(this.isShowEffectSpawn=!0,this.showSkeleton(!0),[4,h.Windown.RungRam.audio.playEffectNoStop(h.Windown.RungRam.audio.symWild)]);case 3:return e.sent(),[3,5];case 4:11==this.result&&(this.isShowEffectSpawn=!0),e.label=5;case 5:return[3,7];case 6:return t=e.sent(),p.Util.ThrowErrProsime(t),[3,7];case 7:return[2]}})})},e.prototype.unuse=function(){this.skeletonItem.node.active=!1,this.itemColum=null,this.isShowEffectSpawn=!1,this.isShuff=!1,this.result=-1,this.node.opacity=255,this.sprite.node.opacity=255,this.node.x=0,this.node.scale=1,this.node.stopAllActions(),this.removeAddScater(!0),this.isSmoke=!1},e.prototype.checkEndCot=function(){if(0==this.getIndexOf()){var t=this.node.height/2;if(this.node.y<=t){var e=this.itemColum.getIdSymbolResult(),n=this.itemColum.getListSymbol(),i=n.pop();n.unshift(i),i.node.zIndex=0,i.setResult(e),i.moveWhenListChange(m.TYPE_MOVE.NORMAL)}}},e.prototype.update=function(){this.canRun&&this.checkEndCot()},r([S(cc.Sprite)],e.prototype,"sprite",void 0),r([S(cc.Sprite)],e.prototype,"spriteBkg",void 0),r([S(cc.Sprite)],e.prototype,"spriteKhung",void 0),r([S(sp.Skeleton)],e.prototype,"skeletonItem",void 0),r([S([cc.Color])],e.prototype,"listColorBkg",void 0),r([g],e)}(cc.Component);n.default=R,cc._RF.pop()},{"../../../Scritps/DefineTs/BUNDLE":void 0,"../../../Scritps/DefineTs/StateReelSlot":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./Effect/EffectSymbolRungRam":"EffectSymbolRungRam","./Effect/ItemAddScaterRungRam":"ItemAddScaterRungRam","./ItemSlotRungRam":"ItemSlotRungRam"}]},{},["AssetRungRam","AudioRungRam","BaseItemMutil","CachChoiRungRam","DetailHistoryRungRam","EffectRungRam","EffectSymbolRungRam","EndFreeSpinRungRam","ItemAddScaterRungRam","StartFreeSpinRungRam","InfoBarControllerRungRam","ItemDetalRungRam","ItemLichSuRungRam","ItemMutilFs","ItemMutilNomal","ItemResultDetailRungRam","ItemSlotRungRam","ItemSlotRungRamNgang","LichSuRungRam","MutilControlRungRam","RungRamView","SpinNormalRungRam","SymbolRungRam"]);