window.__require=function t(e,n,o){function i(a,c){if(!n[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){return i(e[a][1][t]||t)},u,u.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<o.length;a++)i(o[a]);return i}({EffectItemMuaDong:[function(t,e,n){"use strict";cc._RF.push(e,"b8853puXHNAeZ4fBGw2Okb8","EffectItemMuaDong");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Util"),l=t("../../../Scritps/Windown"),u=cc._decorator,p=u.ccclass,d=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.take=function(){return a(this,void 0,void 0,function(){var t,e,n,o,i,r,a,u;return c(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),t=l.Windown.MuaDongVoTan.stateSpin.isMaxSpeed?.15:.3,e=this.node.children[1].getComponent(cc.Animation),n=this.node.children[2].getComponent(cc.Animation),o=this.node.children[3].getComponent(cc.Animation),this.node.children[4].active=!1,e.node.active=!1,o.node.active=!1,i=n.play(),.15==t&&(i.speed=2),[4,l.Windown.MuaDongVoTan.getMakeDelay(t).prosime];case 1:return c.sent(),e.node.active=!0,o.node.active=!0,r=e.play(),.15==t&&(r.speed=2),a=o.play(),.15==t&&(a.speed=2),[3,3];case 2:return u=c.sent(),s.Util.ThrowErrProsime(u),[3,3];case 3:return[2]}})})},e.prototype.win=function(){this.node.children[4].active=!0,this.node.children[4].getComponent(cc.Animation).play()},r([p],e)}(cc.Component));n.default=d,cc._RF.pop()},{"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0}],MuaDongCachChoi:[function(t,e,n){"use strict";cc._RF.push(e,"becefMQV7xBELQ2MGLp9b9C","MuaDongCachChoi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scritps/Windown"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onClickClose=function(){var t=this;a.Windown.MuaDongVoTan.audio.playClick(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.node.destroy()})))},r([s],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],MuaDongEffectScater:[function(t,e,n){"use strict";cc._RF.push(e,"31eadPRFeFMYKLcRfnGA+xF","MuaDongEffectScater");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){this.node.children[0].active=!1,this.node.children[1].active=!1,this.node.children[2].scale=0,this.node.children[3].scale=0,this.node.children[this.node.children.length-2].active=!1,this.node.children[this.node.children.length-1].active=!1},e.prototype.show=function(){var t=this.node.children[2],e=this.node.children[3];t.scale=0,e.scale=0,t.runAction(cc.scaleTo(.3,.75).easing(cc.easeBackOut())),e.runAction(cc.scaleTo(.3,.75).easing(cc.easeBackOut())),this.node.children[4].getComponent(sp.Skeleton).setAnimation(0,"spawn",!1),this.node.children[4].getComponent(sp.Skeleton).addAnimation(0,"idle",!0)},e.prototype.showNearFS=function(){this.node.children[0].active=!0,this.node.children[1].active=!0,this.node.children[4].getComponent(sp.Skeleton).setAnimation(0,"win",!1),this.node.children[4].getComponent(sp.Skeleton).addAnimation(0,"idle",!0);var t=this.node.children[this.node.children.length-1].getComponent(cc.Animation),e=this.node.children[this.node.children.length-2].getComponent(cc.Animation);t.node.active=!0,t.play(),t.once(cc.Animation.EventType.FINISHED,function(){e.node.active=!0,e.play()})},r([c],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],MuaDongItemTakeFS:[function(t,e,n){"use strict";cc._RF.push(e,"8b57bGMrbFKO6qLcrraxNT4","MuaDongItemTakeFS");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scritps/Windown"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.take=function(){var t=this;return new Promise(function(e){t.node.opacity=0;var n=t.node.children[1],o=t.node.children[2],i=t.node.children[0],r=a.Windown.MuaDongVoTan.lb_FSLeft;n.active=!1,o.active=!1,a.Windown.MuaDongVoTan.audio.playEffectNoStop(a.Windown.MuaDongVoTan.audio.fsGetFreespinSpawn),a.Windown.MuaDongVoTan.audio.playEffectNoStop(a.Windown.MuaDongVoTan.audio.fsGetFreespinFly),t.node.runAction(cc.sequence(cc.fadeIn(.2),cc.moveTo(1.5,a.Windown.convertNodeInOtherNode(r.node,t.node.parent)).easing(cc.easeQuarticActionIn()),cc.callFunc(function(){i.runAction(cc.fadeOut(.3)),r.setMoneyNoTime(r._monney+1),r.node.stopAllActions(),r.node.runAction(cc.sequence(cc.scaleTo(.3,1.8),cc.scaleTo(.3,1.5))),n.active=!0,n.opacity=150,n.scale=.45,n.runAction(cc.spawn(cc.fadeOut(.6).easing(cc.easeQuinticActionIn()),cc.scaleTo(.5,.868).easing(cc.easeQuadraticActionOut()))),o.active=!0,o.getComponent(cc.Animation).play(),a.Windown.MuaDongVoTan.audio.playEffectNoStop(a.Windown.MuaDongVoTan.audio.fsGetFreespinReach),e(null)})))})},e.prototype.takeMutil=function(){var t=this;return new Promise(function(e){t.node.opacity=0;var n=t.node.children[1],o=t.node.children[2],i=t.node.children[0];n.active=!1,o.active=!1,a.Windown.MuaDongVoTan.audio.playEffectNoStop(a.Windown.MuaDongVoTan.audio.fsGetMultiSpawn),a.Windown.MuaDongVoTan.audio.playEffectNoStop(a.Windown.MuaDongVoTan.audio.fsGetMultiFly),t.node.runAction(cc.sequence(cc.fadeIn(.2),cc.moveTo(1.6,a.Windown.convertNodeInOtherNode(a.Windown.MuaDongVoTan.topWin.multiple1.node,t.node.parent)).easing(cc.easeQuarticActionIn()),cc.callFunc(function(){i.runAction(cc.fadeOut(.3)),a.Windown.MuaDongVoTan.topWin.takeMutilItem(),n.active=!0,n.opacity=150,n.scale=.45,n.runAction(cc.spawn(cc.fadeOut(.6).easing(cc.easeQuinticActionIn()),cc.scaleTo(.5,.868).easing(cc.easeQuadraticActionOut()))),o.active=!0,o.getComponent(cc.Animation).play(),e(null)})))})},r([s],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],MuaDongVoTanAsset:[function(t,e,n){"use strict";cc._RF.push(e,"5fdb1sfiEBKTbdBGLGrO/lO","MuaDongVoTanAsset");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./MuaDongVoTanSymbol"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemMuaDongVoTanSymbol=null,e.atlasSymbol=null,e.atlasSymbolBlur=null,e.atlasTxt=null,e.atlasTxtBlur=null,e.effectTakeItem=null,e.effectTakeItemWild=null,e.effectNearFS=null,e.nodeAddReel=null,e.nodeAddMutil=null,e.nodeAddFs=null,e.nodeEffectScater=null,e.bigWild=null,e.poolSymbol=new cc.NodePool(a.default),e.poolAddScater=new cc.NodePool(a.default),e.poolEffNearWin=new cc.NodePool,e.poolBkgShuffSymbol=new cc.NodePool,e.poolWinSymbol1=new cc.NodePool,e.poolWinSymbol2=new cc.NodePool,e.poolWinSymbol3=new cc.NodePool,e.poolWinSymbol4=new cc.NodePool,e.poolNearWinNoSap=new cc.NodePool,e.poolXu=new cc.NodePool,e.poolShuffToWild=new cc.NodePool,e.poolShuffToNormal=new cc.NodePool,e.poolAddReel=new cc.NodePool,e}return i(e,t),e.prototype.getSymbol=function(){var t=null;return(t=this.poolSymbol.size()>0?this.poolSymbol.get():cc.instantiate(this.itemMuaDongVoTanSymbol)).active=!0,t},e.prototype.putSymbol=function(t){this.poolSymbol.put(t)},e.prototype.getEffTakeItem=function(){var t=cc.instantiate(this.effectTakeItem);return t.active=!0,t},e.prototype.getEffTakeItemWild=function(){var t=cc.instantiate(this.effectTakeItemWild);return t.active=!0,t},e.prototype.getAddReel=function(){var t=cc.instantiate(this.nodeAddReel);return t.active=!0,t},e.prototype.getNearFs=function(){var t=cc.instantiate(this.effectNearFS);return t.active=!0,t},e.prototype.getAddMutil=function(){var t=cc.instantiate(this.nodeAddMutil);return t.active=!0,t},e.prototype.getAddFs=function(){var t=cc.instantiate(this.nodeAddFs);return t.active=!0,t},e.prototype.getEffectScater=function(){var t=cc.instantiate(this.nodeEffectScater);return t.active=!0,t},e.prototype.getBigWild=function(){var t=cc.instantiate(this.bigWild);return t.active=!0,t},e.prototype.onDestroy=function(){this.poolSymbol.clear(),this.poolEffNearWin.clear(),this.poolBkgShuffSymbol.clear(),this.poolNearWinNoSap.clear(),this.poolXu.clear(),this.poolWinSymbol1.clear(),this.poolWinSymbol2.clear(),this.poolWinSymbol3.clear(),this.poolWinSymbol4.clear(),this.poolAddScater.clear(),this.poolShuffToWild.clear(),this.poolShuffToNormal.clear()},r([l(cc.Node)],e.prototype,"itemMuaDongVoTanSymbol",void 0),r([l(cc.SpriteAtlas)],e.prototype,"atlasSymbol",void 0),r([l(cc.SpriteAtlas)],e.prototype,"atlasSymbolBlur",void 0),r([l(cc.SpriteAtlas)],e.prototype,"atlasTxt",void 0),r([l(cc.SpriteAtlas)],e.prototype,"atlasTxtBlur",void 0),r([l(cc.Node)],e.prototype,"effectTakeItem",void 0),r([l(cc.Node)],e.prototype,"effectTakeItemWild",void 0),r([l(cc.Node)],e.prototype,"effectNearFS",void 0),r([l(cc.Node)],e.prototype,"nodeAddReel",void 0),r([l(cc.Node)],e.prototype,"nodeAddMutil",void 0),r([l(cc.Node)],e.prototype,"nodeAddFs",void 0),r([l(cc.Node)],e.prototype,"nodeEffectScater",void 0),r([l(cc.Node)],e.prototype,"bigWild",void 0),r([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./MuaDongVoTanSymbol":"MuaDongVoTanSymbol"}],MuaDongVoTanAudio:[function(t,e,n){"use strict";cc._RF.push(e,"8fcbbXFReNLdZvixOvU8u7b","MuaDongVoTanAudio");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scritps/Parent/AudioManager"),c=t("../../../Scritps/Windown"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click=null,e.GeneralAudio=null,e.bgm_fs=null,e.bgmBigwinEnd=null,e.bgmBigwinMain=null,e.bgmTotalwinEnd=null,e.bgmTotalwinMain=null,e.fastspin=null,e.featureBuyBtn=null,e.featureBuyCancel=null,e.featureBuyHover=null,e.featureBuyStart=null,e.fsGetFreespinFly=null,e.fsGetFreespinReach=null,e.fsGetFreespinSpawn=null,e.fsGetMultiFly=null,e.fsGetMultiReach=null,e.fsGetMultiSpawn=null,e.fsSpin=null,e.fsTrans=null,e.fsWonRemainingIncrease=null,e.fsWonTitle=null,e.multiplierFly=null,e.list_item_click=null,e.menu_icon_press=null,e.multiplierUp=null,e.multiplierUpCombo=null,e.prizeInfobarTotalwin=null,e.prize_smallwin=null,e.slider_effect=null,e.prizeMedwinEnd=null,e.prizeMedwinMain=null,e.prizeSmallwin=null,e.prizeWinHighlight=null,e.wallet_counting_above=null,e.spinBtn=null,e.spinStop1=null,e.spinStop2=null,e.spinStop3=null,e.spinStopQuick=null,e.symScatter=null,e.symWild=null,e.uiCollect=null,e.uiInfo=null,e.uiStart=null,e.reelExpand1=null,e.reelExpand2=null,e.reelReset=null,e.reelSlower=null,e.reelStop=null,e.scatterWinHighlight=null,e.spinActiveLoop=null,e}return i(e,t),e.prototype.playClick=function(){this.playEffect(this.click)},e.prototype.stopBkgFs=function(){this.stopEffect(this.bgm_fs,!0),this.playMusic()},e.prototype.playMusic=function(){this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.6))},e.prototype.playMusicFreeSpin=function(){this.stopMusic(),this.playEffect(this.bgm_fs,.6,!0)},e.prototype.playStopReel=function(){var t=this["spinStop"+c.Windown.RandomNumber(1,4)];this.playEffectNoStop(t,.5)},r([u(cc.AudioClip)],e.prototype,"click",void 0),r([u(cc.AudioClip)],e.prototype,"GeneralAudio",void 0),r([u(cc.AudioClip)],e.prototype,"bgm_fs",void 0),r([u(cc.AudioClip)],e.prototype,"bgmBigwinEnd",void 0),r([u(cc.AudioClip)],e.prototype,"bgmBigwinMain",void 0),r([u(cc.AudioClip)],e.prototype,"bgmTotalwinEnd",void 0),r([u(cc.AudioClip)],e.prototype,"bgmTotalwinMain",void 0),r([u(cc.AudioClip)],e.prototype,"fastspin",void 0),r([u(cc.AudioClip)],e.prototype,"featureBuyBtn",void 0),r([u(cc.AudioClip)],e.prototype,"featureBuyCancel",void 0),r([u(cc.AudioClip)],e.prototype,"featureBuyHover",void 0),r([u(cc.AudioClip)],e.prototype,"featureBuyStart",void 0),r([u(cc.AudioClip)],e.prototype,"fsGetFreespinFly",void 0),r([u(cc.AudioClip)],e.prototype,"fsGetFreespinReach",void 0),r([u(cc.AudioClip)],e.prototype,"fsGetFreespinSpawn",void 0),r([u(cc.AudioClip)],e.prototype,"fsGetMultiFly",void 0),r([u(cc.AudioClip)],e.prototype,"fsGetMultiReach",void 0),r([u(cc.AudioClip)],e.prototype,"fsGetMultiSpawn",void 0),r([u(cc.AudioClip)],e.prototype,"fsSpin",void 0),r([u(cc.AudioClip)],e.prototype,"fsTrans",void 0),r([u(cc.AudioClip)],e.prototype,"fsWonRemainingIncrease",void 0),r([u(cc.AudioClip)],e.prototype,"fsWonTitle",void 0),r([u(cc.AudioClip)],e.prototype,"multiplierFly",void 0),r([u(cc.AudioClip)],e.prototype,"list_item_click",void 0),r([u(cc.AudioClip)],e.prototype,"menu_icon_press",void 0),r([u(cc.AudioClip)],e.prototype,"multiplierUp",void 0),r([u(cc.AudioClip)],e.prototype,"multiplierUpCombo",void 0),r([u(cc.AudioClip)],e.prototype,"prizeInfobarTotalwin",void 0),r([u(cc.AudioClip)],e.prototype,"prize_smallwin",void 0),r([u(cc.AudioClip)],e.prototype,"slider_effect",void 0),r([u(cc.AudioClip)],e.prototype,"prizeMedwinEnd",void 0),r([u(cc.AudioClip)],e.prototype,"prizeMedwinMain",void 0),r([u(cc.AudioClip)],e.prototype,"prizeSmallwin",void 0),r([u(cc.AudioClip)],e.prototype,"prizeWinHighlight",void 0),r([u(cc.AudioClip)],e.prototype,"wallet_counting_above",void 0),r([u(cc.AudioClip)],e.prototype,"spinBtn",void 0),r([u(cc.AudioClip)],e.prototype,"spinStop1",void 0),r([u(cc.AudioClip)],e.prototype,"spinStop2",void 0),r([u(cc.AudioClip)],e.prototype,"spinStop3",void 0),r([u(cc.AudioClip)],e.prototype,"spinStopQuick",void 0),r([u(cc.AudioClip)],e.prototype,"symScatter",void 0),r([u(cc.AudioClip)],e.prototype,"symWild",void 0),r([u(cc.AudioClip)],e.prototype,"uiCollect",void 0),r([u(cc.AudioClip)],e.prototype,"uiInfo",void 0),r([u(cc.AudioClip)],e.prototype,"uiStart",void 0),r([u(cc.AudioClip)],e.prototype,"reelExpand1",void 0),r([u(cc.AudioClip)],e.prototype,"reelExpand2",void 0),r([u(cc.AudioClip)],e.prototype,"reelReset",void 0),r([u(cc.AudioClip)],e.prototype,"reelSlower",void 0),r([u(cc.AudioClip)],e.prototype,"reelStop",void 0),r([u(cc.AudioClip)],e.prototype,"scatterWinHighlight",void 0),r([u(cc.AudioClip)],e.prototype,"spinActiveLoop",void 0),r([l],e)}(a.default);n.default=p,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":void 0,"../../../Scritps/Windown":void 0}],MuaDongVoTanDetailHistory:[function(t,e,n){"use strict";cc._RF.push(e,"e0aa6TDDVRHL4cJSqqgfPVF","MuaDongVoTanDetailHistory");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scritps/Windown"),c=t("./MuaDongVoTanItemSlot"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.itemTemplate=null,e.lbTitle=null,e.lbTime=null,e.lbBet=null,e.lbSonhan=null,e.lbWin=null,e.lbMNUser=null,e.lbCuocCoSo=null,e.listColum=[],e.content=null,e.leftTemp=null,e.rightTemp=null,e.listLineWin=null,e.lineTemp=null,e.listSpriteItem=[],e.listItemSlot=[],e.isFreeSpin=!1,e}return i(e,t),e.prototype.show=function(t){var e=this;this.node.active=!0,this.node.x=721.812,this.node.stopAllActions(),this.node.opacity=0,this.node.runAction(cc.spawn(cc.moveTo(.3,0,0),cc.fadeIn(.3).easing(cc.easeElasticIn(3))));var n=t.get("date"),o=t.get("infolog"),i=JSON.parse(o);for(cc.log(o),this.isFreeSpin=i.numFreeSpin>0,0==i.agBet?this.lbTitle.string="Free spin":this.lbTitle.string="Spin normal",this.lbTime.string=a.Windown.formatDate(new Date(n),"dd/MM HH:mm:ss"),this.lbBet.string=a.Windown.formatNumber(20*i.agBet),this.lbWin.string=a.Windown.formatNumber(i.agWin),this.lbMNUser.string=a.Windown.formatNumber(i.agUser),this.lbCuocCoSo.string=a.Windown.formatNumber(i.agBet),this.listItemSlot=[];this.content.childrenCount>2;)(g=this.content.children[2]).removeFromParent(),g.destroy();var r=i.views[0].concat(i.viewAdd),s=cc.instantiate(this.leftTemp);s.active=!0,s.position.y=0;for(var l=0;l<r.length;l++){var u=r[l];(g=cc.instantiate(this.itemTemplate)).active=!0,g.setPosition(cc.v2(0,0));var p=g.getComponent(c.default);p.setResultFirtGame(!0),p.setResultHistory(u),p.node.x=187*l+93.5+5*l+117,this.listItemSlot.push(p),this.content.addChild(g)}this.content.width=132+187*r.length;var d=cc.instantiate(this.rightTemp);d.active=!0,d.position.y=0,this.lbSonhan.string="S\u1ed1 nh\xe2n chi\u1ebfn th\u1eafng: "+i.bonus;var h=i.listItemWin;this.listLineWin.destroyAllChildren();for(var f=0;f<i.listItemWin.length;f++){var g,y=i.listItemWin[f];y&&((g=cc.instantiate(this.lineTemp)).getChildByName("lineSprite").getComponent(cc.Sprite).spriteFrame=this.getAtlas().getSpriteFrame(this.convertNameSpineById(y.symbol+1)),g.getChildByName("lineid").getComponent(cc.Label).string=this.getSizeSymbol(y.symbol,h),g.getChildByName("agWinsmall").getComponent(cc.Label).string="\u0111"+a.Windown.formatNumber(y.agWin,!1)+(i.bonus>0?" x "+i.bonus:""),g.getChildByName("agWin").getComponent(cc.Label).string="\u0111"+a.Windown.formatNumber(y.agWin*i.bonus,!1),g.active=!0,this.listLineWin.addChild(g))}for(var m=0;m<this.listItemSlot.length;m++)this.listItemSlot[m].getListSymbolResult().forEach(function(t){var e=t.getItemId();11==e||100==e||101==e?t.activeItem(0):t.offItem(0)});var S=function(t){var n=v.listItemSlot[t],o=n.getListSymbolResult();if(o.map(function(t){return t.getItemId()}).includes(10)&&v.checkIdWildWin(t,h))return n.showBigWild(),n.showBigWildTake(),"continue";o.forEach(function(n){e.checkIdWin(n.getItemId(),t,h)&&n.takeItem()})},v=this;for(m=0;m<this.listItemSlot.length;m++)S(m)},e.prototype.checkIdWin=function(t,e,n){for(var o=0,i=n;o<i.length;o++){var r=i[o],a=t==r.symbol&&e<=r.stack;if(a)return a}return!1},e.prototype.checkIdWildWin=function(t,e){for(var n=0,o=e;n<o.length;n++){var i=t<=o[n].stack;if(i)return i}return!1},e.prototype.getSizeSymbol=function(t,e){for(var n=0,o=0,i=e;o<i.length;o++){var r=i[o],a=r.symbol;if(a==t){for(var c=0;c<=r.stack;c++){var s=this.listItemSlot[c],l=s.getListSymbolResult().map(function(t){return t.getItemId()});n+=s.getSumItemId(a,l)}break}}return n<10?"0"+n:n.toString()},e.prototype.onClickClose=function(){var t=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.3,721.812,0),cc.fadeOut(.3).easing(cc.easeElasticOut(3))),cc.callFunc(function(){t.node.active=!1})))},e.prototype.getAtlas=function(){return a.Windown.MuaDongVoTan.asset.atlasSymbol},e.prototype.convertNameSpineById=function(t){switch(t){case 0:return"h_blank";case 1:return"l_9";case 2:return"l_10";case 3:return"l_j";case 4:return"l_q";case 5:return"l_k";case 6:return"l_a";case 7:return"h_sball";case 8:return"h_staff";case 9:return"h_owl";case 10:return"h_jack";case 11:return"s_wild_a_block";case 12:return"s_fspins_block";case 100:return"s_mul_block";case 101:return"s_plus_block"}},r([u(cc.Node)],e.prototype,"parentItem",void 0),r([u(cc.Node)],e.prototype,"itemTemplate",void 0),r([u(cc.Label)],e.prototype,"lbTitle",void 0),r([u(cc.Label)],e.prototype,"lbTime",void 0),r([u(cc.Label)],e.prototype,"lbBet",void 0),r([u(cc.Label)],e.prototype,"lbSonhan",void 0),r([u(cc.Label)],e.prototype,"lbWin",void 0),r([u(cc.Label)],e.prototype,"lbMNUser",void 0),r([u(cc.Label)],e.prototype,"lbCuocCoSo",void 0),r([u([cc.Node])],e.prototype,"listColum",void 0),r([u(cc.Node)],e.prototype,"content",void 0),r([u(cc.Node)],e.prototype,"leftTemp",void 0),r([u(cc.Node)],e.prototype,"rightTemp",void 0),r([u(cc.Node)],e.prototype,"listLineWin",void 0),r([u(cc.Node)],e.prototype,"lineTemp",void 0),r([u([cc.SpriteFrame])],e.prototype,"listSpriteItem",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":void 0,"./MuaDongVoTanItemSlot":"MuaDongVoTanItemSlot"}],MuaDongVoTanEffect:[function(t,e,n){"use strict";cc._RF.push(e,"84ac6kcqjNCLqCBA6LcIx4T","MuaDongVoTanEffect");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../Scritps/Game/GAME_TYPE"),u=t("../../../Scritps/Network/ConectManager"),p=t("../../../Scritps/Other/LbMonoSpace"),d=t("../../../Scritps/Util"),h=t("../../../Scritps/Windown"),f=t("./MuaDongVoTanPopupFreespin"),g=t("./MuaDongVoTanTotalWin"),y=cc._decorator,m=y.ccclass,S=y.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeMask=null,e.lb_Money=null,e.nodeBigWin=null,e.nodeThangCucLon=null,e.nodeThangSieuLon=null,e.btnFast=null,e.particle=null,e.listNodeBoxMoney=[],e.listPromiseIgro=[],e.isClickBtnFast=!1,e.funNext=null,e.funDelayOff=null,e.mapColor=new Map,e.isThangCucLon=!1,e.isThangSieuLon=!1,e._moneyRevice=0,e.isClosing=!1,e._isSkip=!0,e}return i(e,t),e.prototype.onLoad=function(){this.funNext=null},e.prototype.start=function(){this.nodeBigWin.active=!1,this.nodeThangCucLon.active=!1,this.nodeThangSieuLon.active=!1,this.btnFast.node.active=!1},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){this.unschedule(this.funDelayOff)},e.prototype.initPosMask=function(t){cc.find("mask",this.node).y=t},e.prototype.onClickBtnShowFast=function(){for(this.btnFast.node.active=!1,this.isClickBtnFast=!0;this.listPromiseIgro.length>0;)this.listPromiseIgro.shift().cancle(!0)},e.prototype.showBigWin=function(t,e){var n=this;return new Promise(function(o){return a(n,void 0,void 0,function(){var n,i,r,a,p,f,g,y=this;return c(this,function(c){switch(c.label){case 0:return c.trys.push([0,7,,8]),this.scheduleOnce(function(){y.btnFast.node.active=!0},1),this.lb_Money.node.active=!0,this.lb_Money.resetLb(),4,this.isClickBtnFast=!1,n=e<30?4:e<50?8:12,this.lb_Money.time=n,this.lb_Money.setMoney(t),this.effectBigWin(),h.Windown.MuaDongVoTan.audio.playEffect(h.Windown.MuaDongVoTan.audio.bgmBigwinMain,1),i=h.Windown.MuaDongVoTan.getMakeDelay(4),this.listPromiseIgro.push(i),[4,i.prosime];case 1:return c.sent(),e>=30?(this.effectMegaWin(),h.Windown.MuaDongVoTan.audio.playEffect(h.Windown.MuaDongVoTan.audio.bgmTotalwinEnd,1),this.isClickBtnFast?[3,3]:(r=h.Windown.MuaDongVoTan.getMakeDelay(4),this.listPromiseIgro.push(r),[4,r.prosime])):[3,3];case 2:c.sent(),c.label=3;case 3:return e>=50?(h.Windown.MuaDongVoTan.audio.playEffect(h.Windown.MuaDongVoTan.audio.bgmTotalwinEnd,2),this.effectSuperWin(),this.isClickBtnFast?[3,5]:(r=h.Windown.MuaDongVoTan.getMakeDelay(4),this.listPromiseIgro.push(r),[4,r.prosime])):[3,5];case 4:c.sent(),c.label=5;case 5:return h.Windown.MuaDongVoTan.audio.stopEffect(h.Windown.MuaDongVoTan.audio.bgmBigwinMain),h.Windown.MuaDongVoTan.audio.playEffect(h.Windown.MuaDongVoTan.audio.bgmTotalwinEnd),(a=this.lb_Money.node).stopAllActions(),a.runAction(cc.sequence(cc.scaleTo(.3,1.15),cc.scaleTo(.3,1))),this.particle.resetSystem(),h.Windown.MuaDongVoTan.dataFinish&&h.Windown.MuaDongVoTan.dataFinish.get("agWin")>1e4&&((p=u.ConectManager.getIns().getSFSObj()).putInt("gt",l.default.MuaDong),p.putInt("mt",h.Windown.MuaDongVoTan.dataFinish.get("agWin")),p.putUtfString("nn",h.Windown.User.nickName),p.putUtfString("dt","bw"),u.ConectManager.getIns().sendRequest(s.REQUEST_CODE.AddBigWin,p)),this.lb_Money.setMoneyNoTime(t),f=h.Windown.MuaDongVoTan.getMakeDelay(4),this.listPromiseIgro.push(f),this.btnFast.node.active=!0,[4,f.prosime];case 6:return c.sent(),this.funNext=o,this.funNext(),this.onClose(),[3,8];case 7:return g=c.sent(),d.Util.ThrowErrProsime(g),[3,8];case 8:return[2]}})})})},e.prototype.effectBigWin=function(){var t=this;this.stopAllActionEff(),this.nodeBigWin.active=!0,this.nodeBigWin.getComponent(cc.Animation).play("BigWin"),this.scheduleOnce(function(){cc.find("phun1",t.nodeBigWin).getComponent(cc.Animation).play(),cc.find("phun2",t.nodeBigWin).getComponent(cc.Animation).play()},.5),this.lb_Money.node.stopAllActions(),this.lb_Money.node.scale=0,this.lb_Money.node.runAction(cc.sequence(cc.delayTime(.3),cc.scaleTo(.5,1).easing(cc.easeBackOut())))},e.prototype.effectMegaWin=function(){var t=this;this.stopAllActionEff(),this.nodeThangCucLon.active=!0,this.nodeThangCucLon.getComponent(cc.Animation).play("MegaWin"),cc.find("phun1",this.nodeThangCucLon).getComponent(cc.Sprite).spriteFrame=null,cc.find("phun2",this.nodeThangCucLon).getComponent(cc.Sprite).spriteFrame=null,this.scheduleOnce(function(){cc.find("phun1",t.nodeThangCucLon).getComponent(cc.Animation).play(),cc.find("phun2",t.nodeThangCucLon).getComponent(cc.Animation).play()},.5)},e.prototype.effectSuperWin=function(){var t=this;this.stopAllActionEff(),this.nodeThangSieuLon.active=!0,this.nodeThangSieuLon.getComponent(cc.Animation).play("SuperWin"),cc.find("phun1",this.nodeThangSieuLon).getComponent(cc.Sprite).spriteFrame=null,cc.find("phun2",this.nodeThangSieuLon).getComponent(cc.Sprite).spriteFrame=null,this.scheduleOnce(function(){cc.find("phun1",t.nodeThangSieuLon).getComponent(cc.Animation).play(),cc.find("phun2",t.nodeThangSieuLon).getComponent(cc.Animation).play()},.5)},e.prototype.stopAllActionEff=function(){this.nodeBigWin.active=!1,this.nodeThangCucLon.active=!1,this.nodeThangSieuLon.active=!1},e.prototype.showStartFs=function(t){var e=this;return new Promise(function(n){return a(e,void 0,void 0,function(){var e,o,i;return c(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),h.Windown.MuaDongVoTan.stateSpin.freeSpinCache=t,h.Windown.MuaDongVoTan.stateSpin.activeAllSymbol(),h.Windown.MuaDongVoTan.listColum.forEach(function(t){t.getListSymbolResult().forEach(function(t){t.effectScaterShowFS()})}),h.Windown.MuaDongVoTan.audio.playEffect(h.Windown.MuaDongVoTan.audio.scatterWinHighlight),[4,h.Windown.MuaDongVoTan.getMakeDelay(.8).prosime];case 1:return r.sent(),h.Windown.MuaDongVoTan.audio.playMusicFreeSpin(),[4,h.Windown.loadRes(l.default.MuaDong.toString(),"Frefabs/StartFreeSpin",cc.Prefab)];case 2:return e=r.sent(),(o=cc.instantiate(e)).parent=this.node,o.zIndex=1,[4,o.getComponent(f.default).show(t,this.listNodeBoxMoney)];case 3:return r.sent(),n(null),[3,5];case 4:return i=r.sent(),d.Util.ThrowErrProsime(i),[3,5];case 5:return[2]}})})})},e.prototype.switchFS=function(t){t?(this.listNodeBoxMoney.forEach(function(t){t.y=-630}),h.Windown.MuaDongVoTan.setBackgroundGame(!0)):(h.Windown.MuaDongVoTan.setBackgroundGame(!1),this.listNodeBoxMoney.forEach(function(t){t.y=-397.701}))},e.prototype.showEndFree=function(t){var e=this;return new Promise(function(n){return a(e,void 0,void 0,function(){var e,o,i;return c(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),t<1?(h.Windown.MuaDongVoTan.audio.stopBkgFs(),this.switchFS(!1),n(null),[2]):[4,h.Windown.loadRes(l.default.MuaDong.toString(),"Frefabs/EndFreeSpin",cc.Prefab)];case 1:return e=r.sent(),this.switchFS(!1),(o=cc.instantiate(e)).parent=this.node,o.zIndex=999,[4,o.getComponent(g.default).show(t)];case 2:return r.sent(),n(null),[3,4];case 3:return i=r.sent(),d.Util.ThrowErrProsime(i),[3,4];case 4:return[2]}})})})},e.prototype.update=function(){},e.prototype.resetView=function(){this.lb_Money.node.getComponent(p.default).resetLb(),this.lb_Money.node.active=!1,this.node.opacity=255,this.nodeBigWin.active=!1,this.nodeThangCucLon.active=!1,this.nodeThangSieuLon.active=!1,this.isClickBtnFast=!1},e.prototype.onClose=function(){var t=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){t.resetView()})))},r([S(cc.Node)],e.prototype,"nodeMask",void 0),r([S(p.default)],e.prototype,"lb_Money",void 0),r([S(cc.Node)],e.prototype,"nodeBigWin",void 0),r([S(cc.Node)],e.prototype,"nodeThangCucLon",void 0),r([S(cc.Node)],e.prototype,"nodeThangSieuLon",void 0),r([S(cc.Button)],e.prototype,"btnFast",void 0),r([S(cc.ParticleSystem)],e.prototype,"particle",void 0),r([S([cc.Node])],e.prototype,"listNodeBoxMoney",void 0),r([m],e)}(cc.Component);n.default=v,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Game/GAME_TYPE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Other/LbMonoSpace":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./MuaDongVoTanPopupFreespin":"MuaDongVoTanPopupFreespin","./MuaDongVoTanTotalWin":"MuaDongVoTanTotalWin"}],MuaDongVoTanInfoBarController:[function(t,e,n){"use strict";cc._RF.push(e,"dd27euogNNNVboWYDWIBBfB","MuaDongVoTanInfoBarController");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentContent=null,e.lbTotalWin=null,e.spWin=null,e.listSfSpWin=[],e.spKhungWin=[],e.listSfSpKhungWin=[],e.parrentMoney=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.parentContent.x=277.406,this.parentContent.runAction(cc.repeatForever(cc.sequence(cc.moveTo(80,-8733.728,0),cc.callFunc(function(){t.parentContent.x=277.406})))),this.showRdContent()},e.prototype.showRdContent=function(){this.parentContent.active=!0,this.parrentMoney.active=!1,this.node.getChildByName("ib_vfx_b_loop_00").active=!1,this.node.getChildByName("ib_vfx_a").active=!1,this.node.getChildByName("ib_vfx_d_00").active=!1},e.prototype.reset=function(){var t=this;this.spWin.spriteFrame=this.listSfSpWin[0],this.spKhungWin.forEach(function(e){return e.spriteFrame=u.Windown.MuaDongVoTan.stateSpin.freeSpinLeft>0?t.listSfSpKhungWin[1]:t.listSfSpKhungWin[0]}),this.node.getChildByName("ib_vfx_b_loop_00").active=!1,this.node.getChildByName("buiNo").active=!1,this.node.getChildByName("ib_vfx_a").opacity=0,this.node.getChildByName("ib_vfx_d_00").active=!1},e.prototype.showTakeMoney=function(t){return a(this,void 0,void 0,function(){var e=this;return c(this,function(){return[2,new Promise(function(n){return a(e,void 0,void 0,function(){var e,o=this;return c(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),t<1?(n(null),[2]):(cc.log("money: "+t),this.parentContent.active=!1,this.parrentMoney.active=!0,this.lbTotalWin.resetLb(),this.lbTotalWin.setMoneyNoTime(t),this.node.getComponent(cc.Animation).play(),u.Windown.MuaDongVoTan.audio.playEffect(u.Windown.MuaDongVoTan.audio.prizeSmallwin),this.node.getComponent(cc.Animation).once(cc.Animation.EventType.FINISHED,function(){o.node.getChildByName("ib_vfx_b_loop_00").active=!0,o.node.getChildByName("ib_vfx_b_loop_00").getComponent(cc.Animation).play()}),[4,u.Windown.MuaDongVoTan.getMakeDelay(1).prosime]);case 1:return i.sent(),n(null),[3,3];case 2:return e=i.sent(),l.Util.ThrowErrProsime(e),[3,3];case 3:return[2]}})})})]})})},e.prototype.checkAnhShowTakeMutil=function(){u.Windown.MuaDongVoTan.dataFinish.get("bonus")>1&&(this.node.getChildByName("buiNo").active=!0,this.node.getChildByName("buiNo").getComponent(cc.Animation).play())},e.prototype.showTotalMoney=function(t){var e=this;return new Promise(function(n){return a(e,void 0,void 0,function(){var e,o,i,r=this;return c(this,function(a){switch(a.label){case 0:return a.trys.push([0,8,,9]),0==t?(n(null),[2]):(this.parentContent.active=!1,this.parrentMoney.active=!0,this.checkAnhShowTakeMutil(),this.spWin.spriteFrame=this.listSfSpWin[1],e=u.Windown.MuaDongVoTan.curRoomBet*u.Windown.MuaDongVoTan.totalLineBet,(o=t/e)<7?(this.lbTotalWin.setMoneyNoTime(t),[3,6]):[3,1]);case 1:return o<15?(this.lbTotalWin.resetLb(),this.lbTotalWin.time=2,this.lbTotalWin.setMoney(t),[4,u.Windown.MuaDongVoTan.audio.playEffectSync(u.Windown.MuaDongVoTan.audio.prizeMedwinMain)]):[3,3];case 2:return a.sent(),u.Windown.MuaDongVoTan.audio.playEffect(u.Windown.MuaDongVoTan.audio.prizeMedwinEnd),this.parrentMoney.runAction(cc.sequence(cc.scaleTo(.3,1.15),cc.scaleTo(.3,1))),this.scheduleOnce(function(){r.spKhungWin.forEach(function(t){return t.spriteFrame=r.listSfSpKhungWin[2]})},.3),this.node.getChildByName("ib_vfx_d_00").active=!0,this.node.getChildByName("ib_vfx_d_00").getComponent(cc.Animation).play(),[3,6];case 3:return[4,u.Windown.MuaDongVoTan.getMakeDelay(.2).prosime];case 4:return a.sent(),[4,u.Windown.MuaDongVoTan.effect.showBigWin(t,o)];case 5:a.sent(),this.lbTotalWin.setMoneyNoTime(t),this.spKhungWin.forEach(function(t){return t.spriteFrame=r.listSfSpKhungWin[3]}),a.label=6;case 6:return[4,u.Windown.MuaDongVoTan.getMakeDelay(.5).prosime];case 7:return a.sent(),n(null),[3,9];case 8:return i=a.sent(),l.Util.ThrowErrProsime(i),[3,9];case 9:return[2]}})})})},r([h(cc.Node)],e.prototype,"parentContent",void 0),r([h(s.default)],e.prototype,"lbTotalWin",void 0),r([h(cc.Sprite)],e.prototype,"spWin",void 0),r([h([cc.SpriteFrame])],e.prototype,"listSfSpWin",void 0),r([h([cc.Sprite])],e.prototype,"spKhungWin",void 0),r([h([cc.SpriteFrame])],e.prototype,"listSfSpKhungWin",void 0),r([h(cc.Node)],e.prototype,"parrentMoney",void 0),r([d],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0}],MuaDongVoTanItemLichSu:[function(t,e,n){"use strict";cc._RF.push(e,"926b2g45HZJzpHX9bvLaO/n","MuaDongVoTanItemLichSu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scritps/DefineTs/REQUEST_CODE"),c=t("../../../Scritps/Network/ConectManager"),s=t("../../../Scritps/Windown"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTime=null,e.lbBet=null,e.lbWin=null,e.data=null,e}return i(e,t),e.prototype.initItem=function(t){try{this.data=t;var e=this.data.get("date"),n=this.data.get("bet"),o=this.data.get("agWin");this.lbTime.string=s.Windown.formatDate(new Date(e),"dd/MM\nHH:mm:ss"),this.lbBet.string=s.Windown.formatNumber(n*s.Windown.MuaDongVoTan.totalLineBet),this.lbWin.string=s.Windown.formatNumber(o)}catch(i){console.error(i)}},e.prototype.onClick=function(){var t=c.ConectManager.getIns().getSFSObj();t.putInt("id",this.data.get("id")),console.log("id la: "+this.data.get("id")),c.ConectManager.getIns().sendRequest(a.REQUEST_CODE.HistoryChiTietMuaDong,t,s.Windown.MuaDongVoTan.roomSFS),s.Windown.MuaDongVoTan.audio.playClick(),s.Windown.UIManager.showLoading()},r([p(cc.Label)],e.prototype,"lbTime",void 0),r([p(cc.Label)],e.prototype,"lbBet",void 0),r([p(cc.Label)],e.prototype,"lbWin",void 0),r([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Windown":void 0}],MuaDongVoTanItemSlot:[function(t,e,n){"use strict";cc._RF.push(e,"c1572/BPqNKL4MYHdVoz7ex","MuaDongVoTanItemSlot");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE_MOVE=void 0;var s=t("../../../Scritps/DefineTs/StateReelSlot"),l=t("../../../Scritps/Network/ConectManager"),u=t("../../../Scritps/Util"),p=t("../../../Scritps/Windown"),d=t("./EffectItemMuaDong"),h=t("./MuaDongVoTanSymbol");(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD_NEW=1]="ADD_NEW"})(n.TYPE_MOVE||(n.TYPE_MOVE={}));var f=cc._decorator,g=f.ccclass,y=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.parentItemFront=null,e.sizeSymbol=6,e.funReject=null,e.resolve=null,e.stateWhel=s.default.WAITING,e.result=[],e.resultTemp=[],e.listIconEff=[],e.nodeEffNearWin=null,e.nodeBigWild=null,e.effBigWild=null,e.isScater=!1,e.index=-1,e.indexNodeFirt=0,e.isMoveSlowDown=!1,e.deltaSlowDown=0,e.indexMaxWild=0,e.listIdActive=[],e.listItemSymbol=[],e.listProSkip=[],e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.initParent=function(){this.parentItemFront=cc.instantiate(this.parentItem),this.parentItemFront.setPosition(p.Windown.convertNodeInOtherNode(this.parentItem,p.Windown.MuaDongVoTan.parentItemFront)),this.parentItemFront.parent=p.Windown.MuaDongVoTan.parentItemFront},e.prototype.initListSymbol=function(){for(var t=[],e=0,n=this.parentItem.children;e<n.length;e++){var o=n[e].getComponent(h.default);o&&t.push(o)}this.listItemSymbol=t},e.prototype.getListSymbol=function(){return this.listItemSymbol},e.prototype.getListResultId=function(){return this.result.map(function(t){return t.get("idItem")})},e.prototype.getListSymbolResult=function(){var t=[],e=this.getListSymbol();return this.result.forEach(function(n,o){t.push(e[o+1])}),t},e.prototype.onDestroy=function(){cc.isValid(this.nodeBigWild)&&this.nodeBigWild.destroy()},e.prototype.setResultFirtGame=function(t){var e=this.getListRandomResult(),n=e.slice(1,e.length-1);this.setResult(n),null==t&&this.initParent();for(var o=this.parentItem.children,i=0,r=this.sizeSymbol;i<r;i++){var a=o[i];null==a&&((a=this.getSymbol()).parent=this.parentItem);var c=a.getComponent(h.default);c.setItemColum(this),c.setResult(e[i])}0==this.index&&cc.log(this.parentItem.childrenCount),this.parentItem.sortAllChildren(),this.initListSymbol(),this.getListSymbol().forEach(function(t){return t.initPosStartGame()})},e.prototype.getListRandomResult=function(){for(var t=[],e=0;e<this.sizeSymbol;e++)t.push(this.getRandomResult());return t},e.prototype.setResult=function(t){this.result=t,this.resultTemp=t.slice(),this.indexMaxWild=this.resultTemp.length},e.prototype.getSymbol=function(){return p.Windown.MuaDongVoTan.asset.getSymbol()},e.prototype.offAllSymbol=function(){this.getListSymbol().forEach(function(t){t.offItem()})},e.prototype.activeAllSymbol=function(){this.getListSymbol().forEach(function(t){t.activeItem()})},e.prototype.reset=function(){this.listIdActive=[]},e.prototype.runSpin=function(){var t=this;this.stateWhel=s.default.RUN,this.getListSymbol().forEach(function(t){t.runSpin()}),this.nodeBigWild&&(p.Windown.MuaDongVoTan.stateSpin.isMaxSpeed?(this.nodeBigWild.destroy(),this.nodeBigWild=null):(this.nodeBigWild.parent=this.node,this.nodeBigWild.setPosition(0,0),this.nodeBigWild.stopAllActions(),this.nodeBigWild.runAction(cc.sequence(cc.moveBy(1,0,-2500),cc.callFunc(function(){t.nodeBigWild.destroy(),t.nodeBigWild=null})))))},e.prototype.stopSpin=function(t,e){var n=this;return new Promise(function(o,i){return a(n,void 0,void 0,function(){var n;return c(this,function(r){switch(r.label){case 0:return r.trys.push([0,8,,9]),this.listProSkip=[],t=this.checkFreeSpin(this.index)>=2,this.setResult(e),this.funReject=i,this.isScater=t,this.resolve=o,!t&&this.index<3?(this.listProSkip.push(p.Windown.MuaDongVoTan.getMakeDelay(.25)),[4,this.listProSkip[this.listProSkip.length-1].prosime]):[3,2];case 1:r.sent(),this.index<p.Windown.MuaDongVoTan.listColum.length-1&&(o(null),this.resolve=null),r.label=2;case 2:return t?this.index<3?(this.listProSkip.push(p.Windown.MuaDongVoTan.getMakeDelay(.25*this.index)),[4,this.listProSkip[this.listProSkip.length-1].prosime]):[3,4]:[3,6];case 3:r.sent(),r.label=4;case 4:return this.showNearFS(),this.runSlowDownActicon(),this.listProSkip.push(p.Windown.MuaDongVoTan.getMakeDelay(.7)),[4,this.listProSkip[this.listProSkip.length-1].prosime];case 5:return r.sent(),this.stateWhel=s.default.SHOW_EFFECT,[3,7];case 6:this.stateWhel=s.default.STOP,this.recaculateSpeedSpin(!1),r.label=7;case 7:return[3,9];case 8:return n=r.sent(),u.Util.ThrowErrProsime(n),[3,9];case 9:return[2]}})})})},e.prototype.forceStopSpin=function(t,e){return this.listProSkip.forEach(function(t){t.cancle(!1)}),this.funReject&&this.funReject(),(t=this.checkFreeSpin(this.index)>=2)&&(this.offNearWin(),p.Windown.MuaDongVoTan.audio.stopEffect(p.Windown.MuaDongVoTan.audio.fastspin),this.isMoveSlowDown=!1),this.stopSpinIsFastSpin(t,e)},e.prototype.stopSpinIsFastSpin=function(t,e){var n=this;return new Promise(function(t){n.stateWhel!=s.default.SHOW_EFFECT?(n.setResult(e),n.stateWhel=s.default.SHOW_EFFECT,n.parentItem.stopAllActions(),n.parentItem.y=n.node.height/2,n.reSetResultColum(),p.Windown.MuaDongVoTan.audio.playStopReel(),n.isMoveSlowDown=!1,n.parentItem.y+=20,n.parentItem.runAction(cc.sequence(cc.moveBy(.04,0,-20).easing(cc.easeSineOut()),cc.callFunc(function(){n.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()}),t(null)})))):t(null)})},e.prototype.recaculateSpeedSpin=function(t){var e=this.getListSymbol(),n=e[0].node.y,o=-this.node.height-e[0].node.height/2,i=Math.abs(o-n),r=.35;t&&(r=2),e.forEach(function(t){t.stopSpin(cc.moveBy(r,0,-i))})},e.prototype.errSpin=function(){},e.prototype.setResultHistory=function(t){var e=this.getListSymbolResult();t.forEach(function(t,n){e[n].setResultHistory(t.idItem)})},e.prototype.reSetResultColum=function(){var t=this.getListSymbol();this.result.forEach(function(e,n){t[n+1].setResult(e)});for(var e=this.result.length+1,n=t.length;e<n;e++)t[e].setResult(t[e].objSFS);t.forEach(function(t){t.canRun=!1,t.node.stopAllActions(),t.initPosStartGame()})},e.prototype.effStopSpin=function(){var t=this;this.stateWhel!=s.default.SHOW_EFFECT&&(this.funReject=null,p.Windown.MuaDongVoTan.audio.playStopReel(),this.stateWhel=s.default.SHOW_EFFECT,this.parentItem.stopAllActions(),this.parentItem.y=this.node.height/2,this.reSetResultColum(),this.setItemActiveWithListIdActive(),this.isMoveSlowDown=!1,this.isScater?(this.offNearWin(),this.parentItem.runAction(cc.sequence(cc.moveBy(.15,0,-30).easing(cc.easeSineOut()),cc.moveBy(.2,0,30).easing(cc.easeSineIn()),cc.callFunc(function(){t.resolve&&t.resolve(null),t.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()})})))):this.parentItem.runAction(cc.sequence(cc.moveBy(.15,0,-15).easing(cc.easeSineOut()),cc.moveBy(.15,0,15).easing(cc.easeSineIn()),cc.callFunc(function(){t.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()}),cc.log("end roi ne"),t.resolve&&t.resolve(null)}))))},e.prototype.getIdSymbolResult=function(){return this.stateWhel==s.default.STOP&&this.resultTemp.pop()||this.getRandomResult()},e.prototype.checkLastSymbol=function(t){var e=this.getListSymbol();return e[e.length-1]==t},e.prototype.getRandomResult=function(){var t=null;return(t=l.ConectManager.getIns().getSFSObj()).putInt("size",1),this.index>0?t.putInt("idItem",p.Windown.RandomNumber(-1,11)):t.putInt("idItem",p.Windown.RandomNumber(-1,9)),t.putInt("typeItem",0),t},e.prototype.checkAnItem=function(){},e.prototype.runSlowDownActicon=function(){this.getListSymbol().forEach(function(t){t.node.stopAllActions()}),this.isMoveSlowDown=!0,this.deltaSlowDown=5e3},e.prototype.update=function(t){var e=this;this.isMoveSlowDown&&(this.getListSymbol().forEach(function(n){n.node.y-=t*e.deltaSlowDown}),this.deltaSlowDown>1e3?this.deltaSlowDown-=2e3*t:this.deltaSlowDown<=1e3&&(this.stateWhel=s.default.STOP,this.isMoveSlowDown=!1,this.recaculateSpeedSpin(!0)))},e.prototype.runEffectEndGameWin=function(){var t=this;this.effBigWild&&this.effBigWild.runAction(cc.repeatForever(cc.sequence(cc.callFunc(function(){t.effBigWild.opacity=0,p.Windown.MuaDongVoTan.audio.playEffect(p.Windown.MuaDongVoTan.audio.prizeWinHighlight)}),cc.fadeIn(.3),cc.delayTime(2)))),this.getListSymbolResult().forEach(function(t){t.runEffectEndGameWin()})},e.prototype.resetState=function(){var t=this.getListSymbol();this.effBigWild&&this.effBigWild.destroy(),this.effBigWild=null,t.forEach(function(t){t.resetState()})},e.prototype.getSumItemId=function(t,e){if(null==e&&(e=this.result.map(function(t){return t.get("idItem")})),e.includes(10)&&11!=t)return 4;var n=0;return e.forEach(function(e){e==t&&n++}),n},e.prototype.setItemActiveWithListIdActive=function(){p.Windown.MuaDongVoTan.stateSpin.setListIdActive(this.index);for(var t=function(t){var e=p.Windown.MuaDongVoTan.listColum[t];e.getListSymbolResult().forEach(function(t){e.listIdActive.includes(t.result)||10==t.result||11==t.result||100==t.result||101==t.result?t.activeItem():t.offItem()})},e=this.index;e>=0;e--)t(e)},e.prototype.countFreeSpin=function(){var t=this,e=0;return p.Windown.MuaDongVoTan.stateSpin.listColum.forEach(function(n,o){o<=t.index&&n.getListSymbol().forEach(function(t,n){n>0&&n<5&&11==t.getItemId()&&e++})}),e},e.prototype.showBigWild=function(){var t=this;return new Promise(function(e){if(t.nodeBigWild)e(null);else{p.Windown.MuaDongVoTan.audio.playEffect(p.Windown.MuaDongVoTan.audio.symWild);var n=t.getListSymbolResult();for(var o in n){var i=n[o];if(10==i.getItemId()){var r=p.Windown.MuaDongVoTan.asset.getBigWild();r.position=cc.v3(0,0),t.node.parent.addChild(r),r.active=!0;var a=r.getComponent(cc.Animation).play();p.Windown.MuaDongVoTan.stateSpin.isMaxSpeed&&(a.speed=2),r.getComponent(cc.Animation).once(cc.Animation.EventType.FINISHED,e),r.setPosition(t.node.getPosition());var c=cc.find("wild_vfx_a",r);c.setPosition(p.Windown.convertNodeInOtherNode(i.node,c.parent)),t.nodeBigWild=r;break}}}})},e.prototype.showSymbolWin=function(t){var e=this,n=this.getListSymbolResult();this.result.map(function(t){return t.get("idItem")}).includes(10)&&p.Windown.MuaDongVoTan.checkIdWildWin(this.index,t)?this.showBigWildWin():n.forEach(function(n){p.Windown.MuaDongVoTan.checkIdWin(n.getItemId(),e.index,t)&&n.winItem()})},e.prototype.showSymbolTake=function(t){var e=this;this.result.map(function(t){return t.get("idItem")}).includes(10)&&p.Windown.MuaDongVoTan.checkIdWildWin(this.index,t)?this.showBigWildTake():this.getListSymbolResult().forEach(function(n){p.Windown.MuaDongVoTan.checkIdWin(n.getItemId(),e.index,t)&&n.takeItem()})},e.prototype.showBigWildTake=function(){if(null!=this.nodeBigWild&&null==this.effBigWild){this.effBigWild=p.Windown.MuaDongVoTan.asset.getEffTakeItemWild(),this.effBigWild.parent=this.nodeBigWild,this.effBigWild.scale=this.effBigWild.scale/this.nodeBigWild.scale,this.effBigWild.getComponent(d.default).take(),this.effBigWild.setPosition(0,0);var t=cc.find("skeleton",this.nodeBigWild);t.active=!0,t.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){t.getComponent(sp.Skeleton).setAnimation(0,"idle",!0)})))}},e.prototype.showBigWildWin=function(){this.effBigWild&&cc.isValid(this.effBigWild,!0)&&this.effBigWild.getComponent(d.default).win()},e.prototype.showNearFS=function(){p.Windown.MuaDongVoTan.audio.playEffect(p.Windown.MuaDongVoTan.audio.fastspin),null==this.nodeEffNearWin&&(this.nodeEffNearWin=p.Windown.MuaDongVoTan.asset.getNearFs(),this.nodeEffNearWin.parent=p.Windown.MuaDongVoTan.parentEffect,this.nodeEffNearWin.setPosition(p.Windown.convertNodeInOtherNode(this.node,p.Windown.MuaDongVoTan.parentEffect)))},e.prototype.offNearWin=function(){var t=this;this.nodeEffNearWin&&(this.nodeEffNearWin.stopAllActions(),this.nodeEffNearWin.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.nodeEffNearWin.destroy(),t.nodeEffNearWin=null}))))},e.prototype.showNewCol=function(t,e){var n=this;return new Promise(function(o){return a(n,void 0,void 0,function(){var n,i,r,a,s;return c(this,function(c){switch(c.label){case 0:return c.trys.push([0,7,,8]),n=null,(i=this.checkFreeSpin(e)>=2)||((n=p.Windown.MuaDongVoTan.asset.getAddReel()).parent=p.Windown.MuaDongVoTan.parentEffect,n.setPosition(p.Windown.convertNodeInOtherNode(this.node,p.Windown.MuaDongVoTan.parentEffect)),r=n.getComponentsInChildren(cc.Animation),a=[r[0].play(),r[1].play(),r[2].play()],p.Windown.MuaDongVoTan.stateSpin.isMaxSpeed&&a.forEach(function(t){return t.speed=2})),this.getListSymbol().forEach(function(t){t.node.y+=900}),this.runSpin(e),this.node.runAction(cc.fadeIn(.2)),i?[3,2]:[4,p.Windown.MuaDongVoTan.getMakeDelay(p.Windown.MuaDongVoTan.stateSpin.isMaxSpeed?.5:1).prosime];case 1:c.sent(),c.label=2;case 2:return p.Windown.MuaDongVoTan.stateSpin.isMaxSpeed?[4,this.stopSpinIsFastSpin(i,t)]:[3,4];case 3:return c.sent(),[3,6];case 4:return[4,this.stopSpin(i,t)];case 5:c.sent(),c.label=6;case 6:return n&&n.destroy(),this.offNearWin(),o(null),[3,8];case 7:return s=c.sent(),u.Util.ThrowErrProsime(s),[3,8];case 8:return[2]}})})})},e.prototype.checkFreeSpin=function(t){if(p.Windown.MuaDongVoTan.listResultConvert[0]){for(var e=p.Windown.MuaDongVoTan.listResultConvert[0].listSFSObj.concat(p.Windown.MuaDongVoTan.listResultConvert[0].listViewAdd),n=0,o=0;o<t;o++)for(var i=e[o],r=0;r<i.length;r++)11==i[r].getInt("idItem")&&n++;return n}},e.prototype.removeEfWin=function(){this.getListSymbol().forEach(function(t){t.removeEfWin()})},r([y(cc.Node)],e.prototype,"parentItem",void 0),r([y(cc.Integer)],e.prototype,"sizeSymbol",void 0),r([g],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./EffectItemMuaDong":"EffectItemMuaDong","./MuaDongVoTanSymbol":"MuaDongVoTanSymbol"}],MuaDongVoTanLichSu:[function(t,e,n){"use strict";cc._RF.push(e,"dae2e02c5BHgr/tEVrdprg6","MuaDongVoTanLichSu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scritps/DefineTs/REQUEST_CODE"),c=t("../../../Scritps/Network/ConectManager"),s=t("../../../Scritps/Popup/PageData/PageData"),l=t("../../../Scritps/Windown"),u=t("./MuaDongVoTanDetailHistory"),p=t("./MuaDongVoTanItemLichSu"),d=cc._decorator,h=d.ccclass,f=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.detail=null,e.listData=null,e.maxRow=11,e}return i(e,t),e.prototype.show=function(){this.node.active=!0,this.reset(),this.node.y=-1280,this.node.stopAllActions(),this.node.runAction(cc.moveTo(.3,0,0)),c.ConectManager.getIns().sendRequest(a.REQUEST_CODE.HistoryMuaDong,null,l.Windown.MuaDongVoTan.roomSFS),l.Windown.UIManager.showLoading()},e.prototype.responseServer=function(t){l.Windown.UIManager.hideLoading();var e=t.getSFSArray("history");this.initWithListData(e)},e.prototype.responseServerChiTiet=function(t){l.Windown.UIManager.hideLoading(),this.showDetail(t)},e.prototype.initWithListData=function(t){cc.log(l.Windown.SFSArrToJson(t)),this.pageDate.content.children;var e=t.size(),n=Math.floor(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,a=this.maxRow;r<a;r++){var c=n[r];if(i<this.listData.size()){null==c&&(c=cc.instantiate(o),e.addChild(c),c.y=-(r+1)*c.height+c.height/2);var s=this.listData.getSFSObject(i);c.getComponent(p.default).initItem(s),c.active=!0,i++}else{if(!c)break;c.active=!1}}},e.prototype.showDetail=function(t){console.log(l.Windown.SFSObjToJson(t)),this.detail.show(t)},e.prototype.resetContent=function(){for(var t=this.pageDate.content.children,e=0,n=t.length;e<n;e++)t[e].active=!1},e.prototype.reset=function(){this.pageDate.setTotalPage(1),this.pageDate.reset(),this.resetContent()},e.prototype.onClickClose=function(){var t=this;l.Windown.MuaDongVoTan.audio.playClick(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.moveTo(.3,0,-1280),cc.callFunc(function(){l.Windown.MuaDongVoTan._popupLichSu=null,t.node.destroy()})))},r([f(s.default)],e.prototype,"pageDate",void 0),r([f(u.default)],e.prototype,"detail",void 0),r([h],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Popup/PageData/PageData":void 0,"../../../Scritps/Windown":void 0,"./MuaDongVoTanDetailHistory":"MuaDongVoTanDetailHistory","./MuaDongVoTanItemLichSu":"MuaDongVoTanItemLichSu"}],MuaDongVoTanPopupFreespin:[function(t,e,n){"use strict";cc._RF.push(e,"ff187D6NrlKsJdAJb5t/lFQ","MuaDongVoTanPopupFreespin");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scritps/Other/LbMonoSpace"),c=t("../../../Scritps/Windown"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnStart=null,e.lbNum=null,e}return i(e,t),e.prototype.show=function(t){var e=this;return new Promise(function(n){c.Windown.MuaDongVoTan.effect.switchFS(!0),e.lbNum.string=t.toString(),c.Windown.MuaDongVoTan.audio.playEffect(c.Windown.MuaDongVoTan.audio.fsTrans);var o=function(){c.Windown.MuaDongVoTan.audio.playClick(),e.btnStart.interactable=!1,e.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){n(null),e.node.destroy()})))};e.btnStart.node.once("click",o),e.scheduleOnce(o,5)})},r([u(cc.Button)],e.prototype,"btnStart",void 0),r([u(a.default)],e.prototype,"lbNum",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":void 0,"../../../Scritps/Windown":void 0}],MuaDongVoTanSpinNormal:[function(t,e,n){"use strict";cc._RF.push(e,"e162aZK75RGcZm5sCWlnTaG","MuaDongVoTanSpinNormal");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Scritps/DefineTs/StateReelSlot"),a=t("../../../Scritps/Util"),c=t("../../../Scritps/Windown"),s=t("./MuaDongVoTanItemSlot"),l=function(){function t(){this.listFunShowOceLine=[],this.funShowOceLine=null,this.listColum=[],this.isMaxSpeed=!1,this.isAutoSpin=!1,this.lastAutoSpin=!1,this.countAutoSpin=0,this.lastFreeSpinLeft=0,this.freeSpinLeft=0,this.freeSpinCache=0,this.moneyTotalFs=0,this.currentMutilFs=1,this._totalFreeSpin=0,this.listIdItemActive=[],this.listColum=c.Windown.MuaDongVoTan.listColum}return t.prototype.onStart=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,6,,7]),[4,this.removeAllMutilAdded()];case 1:o.sent(),c.Windown.MuaDongVoTan.audio.playEffect(c.Windown.MuaDongVoTan.audio.spinActiveLoop,1,!0),t=0,o.label=2;case 2:return t<this.listColum.length?(this.listColum[t].runSpin(t),this.isMaxSpeed?[3,4]:[4,c.Windown.MuaDongVoTan.getMakeDelay(.04).prosime]):[3,5];case 3:o.sent(),o.label=4;case 4:return t++,[3,2];case 5:return e(null),[3,7];case 6:return n=o.sent(),a.Util.ThrowErrProsime(n),[3,7];case 7:return[2]}})})})},t.prototype.onEnd=function(){return o(this,void 0,void 0,function(){var t,e,n,o,r,s,l;return i(this,function(i){switch(i.label){case 0:cc.log("end me roi nay"),t=c.Windown.MuaDongVoTan.listResultConvert,i.label=1;case 1:i.trys.push([1,11,,12]),e=0,n=[],c.Windown.MuaDongVoTan.audio.stopEffect(c.Windown.MuaDongVoTan.audio.spinActiveLoop),o=0,r=this.listColum,i.label=2;case 2:return o<r.length?(s=r[o],this.isMaxSpeed?[3,4]:[4,s.stopSpin(!1,t[0].listSFSObj[e])]):[3,7];case 3:return i.sent(),[3,5];case 4:n.push(s.stopSpinIsFastSpin(!1,t[0].listSFSObj[e])),i.label=5;case 5:e++,i.label=6;case 6:return o++,[3,2];case 7:return this.isMaxSpeed?[4,Promise.all(n)]:[3,10];case 8:return i.sent(),[4,c.Windown.MuaDongVoTan.getMakeDelay(.1).prosime];case 9:return i.sent(),[3,10];case 10:return this.handleStopAllColum(),[3,12];case 11:return l=i.sent(),a.Util.ThrowErrProsime(l),[3,12];case 12:return[2]}})})},t.prototype.onForceEnd=function(){return o(this,void 0,void 0,function(){var t,e,n,o,r,s,l;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,3,,4]),c.Windown.MuaDongVoTan.clearAllMakeDelay(),c.Windown.MuaDongVoTan.audio.stopEffect(c.Windown.MuaDongVoTan.audio.spinActiveLoop),t=c.Windown.MuaDongVoTan.listResultConvert,e=[],n=0,o=0,r=this.listColum;o<r.length;o++)s=r[o],e.push(s.forceStopSpin(!1,t[0].listSFSObj[n])),n++;return c.Windown.MuaDongVoTan.audio.playEffect(c.Windown.MuaDongVoTan.audio.spinStopQuick),[4,Promise.all(e)];case 1:return i.sent(),[4,c.Windown.MuaDongVoTan.getMakeDelay(.25).prosime];case 2:return i.sent(),this.handleStopAllColum(),[3,4];case 3:return l=i.sent(),a.Util.ThrowErrProsime(l),[3,4];case 4:return[2]}})})},t.prototype.handleErrSpin=function(){return o(this,void 0,void 0,function(){var t,e,n,o;return i(this,function(i){switch(i.label){case 0:i.trys.push([0,6,,7]),c.Windown.MuaDongVoTan.audio.stopEffect(c.Windown.MuaDongVoTan.audio.spinActiveLoop),c.Windown.MuaDongVoTan.audio.stopEffect(c.Windown.MuaDongVoTan.audio.reelReset),c.Windown.MuaDongVoTan.audio.playEffect(c.Windown.MuaDongVoTan.audio.reelStop),t=0,e=this.listColum,i.label=1;case 1:return t<e.length?(n=e[t],this.isMaxSpeed?[3,3]:[4,n.stopSpin(!1,n.result)]):[3,5];case 2:return i.sent(),[3,4];case 3:n.stopSpin(!1,n.result),i.label=4;case 4:return t++,[3,1];case 5:return c.Windown.MuaDongVoTan.resetForNewGame(),[3,7];case 6:return o=i.sent(),a.Util.ThrowErrProsime(o),[3,7];case 7:return[2]}})})},t.prototype.removeAllMutilAdded=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o,r,s;return i(this,function(i){switch(i.label){case 0:if(i.trys.push([0,2,,3]),c.Windown.MuaDongVoTan.topWin.cleanData(),this.activeAllSymbol(),c.Windown.MuaDongVoTan.parentItem.stopAllActions(),this.listColum.forEach(function(t){t.resetState()}),null==c.Windown.MuaDongVoTan.listResultConvert[0]||this.listColum.length<4)return e(null),[2];for(t=this.isMaxSpeed?.1:.3,c.Windown.MuaDongVoTan.audio.playEffect(c.Windown.MuaDongVoTan.audio.reelReset),cc.tween(c.Windown.MuaDongVoTan.parentItem).to(t,{position:cc.v3(-286,-4),width:576}).start(),n=function(){var e=o.listColum.pop();e.node.runAction(cc.sequence(cc.fadeOut(t),cc.callFunc(function(){e.node.parent=null,e.node.destroy()})))},o=this,r=this.listColum.length-1;r>2;r--)n();return[4,c.Windown.MuaDongVoTan.getMakeDelay(t).prosime];case 1:return i.sent(),e(null),[3,3];case 2:return s=i.sent(),a.Util.ThrowErrProsime(s),[3,3];case 3:return[2]}})})})},t.prototype.setListIdActive=function(t){var e=this;this.listIdItemActive=[];var n=this.listColum[0];n.result.forEach(function(t){var n=t.get("idItem");-1!=n&&100!=n&&101!=n&&e.listIdItemActive.push(n)}),n.listIdActive=this.listIdItemActive.slice();for(var o=function(t,n){e.listColum.forEach(function(e,o){o<n&&(e.listIdActive=e.listIdActive.filter(function(e){return e!=t}))})},i=function(t,n){var o=0;return e.listColum.forEach(function(e,i){i<=n&&(o+=e.getSumItemId(t))}),o},r=function(t,e){var n=[];return t.includes(10)?n=e.slice():t.forEach(function(t){e.includes(t)&&n.push(t)}),n},a=1;a<=t;a++){for(var s,l=this.listColum[a],u=l.getListResultId(),p=n.listIdActive,d=r(u,p),h=function(t){var e=p[t];!d.includes(e)&&i(e,a)<5&&(o(e,a),p=p.filter(function(t){return t!=e}),t=-1),s=t},f=0;f<p.length;f++)h(f),f=s;(n=l).listIdActive=d}c.Windown.MuaDongVoTan.topWin.resetData(),this.listColum.forEach(function(e,n){if(n<=t)if(e.getListResultId().includes(10)){var o=[];e.listIdActive.forEach(function(t){o.includes(t)||o.push(t)});for(var i=0;i<4;i++)c.Windown.MuaDongVoTan.topWin.setData(o)}else c.Windown.MuaDongVoTan.topWin.setData(e.listIdActive)})},t.prototype.setEndListIdActive=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o,r,s,l,u;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),this.listColum.forEach(function(t){t.offAllSymbol()}),c.Windown.MuaDongVoTan.topWin.resetData(),t=[],this.listColum.forEach(function(e){e.getListSymbolResult().forEach(function(e){11==e.getItemId()&&t.push(11)})}),n=c.Windown.MuaDongVoTan.listResultConvert[0],this.listColum[this.listColum.length-1].listIdActive.length>0&&c.Windown.MuaDongVoTan.agWin<1?[4,c.Windown.MuaDongVoTan.getMakeDelay(.3).prosime]:[3,2];case 1:i.sent(),i.label=2;case 2:for(o=function(e){for(var o=n.listItemWin[e],i=o.symbol,a=o.stack,c=0,s=0;s<a;s++){var l=r.listColum[s];null==l.nodeBigWild&&l.getListSymbolResult().forEach(function(t){t.getItemId()==i&&t.activeItem()}),c+=l.getSumItemId(i)}for(;c>0;)t.push(i),c--},r=this,s=0,l=n.listItemWin.length;s<l;s++)o(s);return c.Windown.MuaDongVoTan.topWin.setData(t),e(null),[3,4];case 3:return u=i.sent(),a.Util.ThrowErrProsime(u),[3,4];case 4:return[2]}})})})},t.prototype.checkAndShowWild=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=[],this.listColum.forEach(function(e){e.result.map(function(t){return t.get("idItem")}).includes(10)&&c.Windown.MuaDongVoTan.checkIdWildWin(e.index)&&t.push(e.showBigWild())}),[4,Promise.all(t)];case 1:return o.sent(),cc.log("xong check wild ne"),e(null),[3,3];case 2:return n=o.sent(),a.Util.ThrowErrProsime(n),[3,3];case 3:return[2]}})})})},t.prototype.checkAndShowTakeSymbol=function(t){var e=this;return new Promise(function(n){return o(e,void 0,void 0,function(){var e;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),[4,this.checkAndShowWild()];case 1:return o.sent(),this.showTakeAllSymbol(t),c.Windown.MuaDongVoTan.agWin>0?[4,c.Windown.MuaDongVoTan.getMakeDelay(.4).prosime]:[3,3];case 2:o.sent(),o.label=3;case 3:return n(null),[3,5];case 4:return e=o.sent(),a.Util.ThrowErrProsime(e),[3,5];case 5:return[2]}})})})},t.prototype.checkAndShowViewAdd=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o,r,s,l;return i(this,function(i){switch(i.label){case 0:if(i.trys.push([0,8,,9]),t=c.Windown.MuaDongVoTan.listResultConvert[0],n=t.listViewAdd,o=[],!(n.length>0))return[3,6];r=0,i.label=1;case 1:return r<n.length?[4,this.initItemViewAdd(n[r],r)]:[3,6];case 2:return i.sent(),this.lastFreeSpinLeft>0?((s=[]).push(this.checkAndShowTakeMutilFS(r+3)),s.push(this.checkAndShowTakePlusFS(r+3)),[4,Promise.all(s)]):[3,4];case 3:i.sent(),i.label=4;case 4:o.push(this.checkAndShowTakeSymbol(r+3)),i.label=5;case 5:return r++,[3,1];case 6:return[4,Promise.all(o)];case 7:return i.sent(),e(null),[3,9];case 8:return l=i.sent(),a.Util.ThrowErrProsime(l),[3,9];case 9:return[2]}})})})},t.prototype.checkAndShowTakeMutilFS=function(t){var e=this;return new Promise(function(n){return o(e,void 0,void 0,function(){var e,o,r,s,l,u,p,d,h,f;return i(this,function(i){switch(i.label){case 0:i.trys.push([0,10,,11]),e=0,o=[],r=0,s=this.listColum,i.label=1;case 1:if(!(r<s.length))return[3,6];if(l=s[r],t&&l.index!=t)return[3,5];u=l.getListSymbolResult(),p=0,d=u,i.label=2;case 2:return p<d.length?100!=(h=d[p]).getItemId()?[3,4]:[4,c.Windown.MuaDongVoTan.getMakeDelay(.3*e).prosime]:[3,5];case 3:i.sent(),o.push(h.effectTakeMutil()),e++,i.label=4;case 4:return p++,[3,2];case 5:return r++,[3,1];case 6:return[4,Promise.all(o)];case 7:return i.sent(),o.length>0?[4,c.Windown.MuaDongVoTan.getMakeDelay(.3).prosime]:[3,9];case 8:i.sent(),i.label=9;case 9:return n(null),[3,11];case 10:return f=i.sent(),a.Util.ThrowErrProsime(f),[3,11];case 11:return[2]}})})})},t.prototype.checkAndShowTakePlusFS=function(t){var e=this;return new Promise(function(n){return o(e,void 0,void 0,function(){var e,o,r,s,l,u,p,d,h,f;return i(this,function(i){switch(i.label){case 0:i.trys.push([0,10,,11]),e=0,o=[],r=0,s=this.listColum,i.label=1;case 1:if(!(r<s.length))return[3,6];if(l=s[r],t&&l.index!=t)return[3,5];u=l.getListSymbolResult(),p=0,d=u,i.label=2;case 2:return p<d.length?101!=(h=d[p]).getItemId()?[3,4]:[4,c.Windown.MuaDongVoTan.getMakeDelay(.3*e).prosime]:[3,5];case 3:i.sent(),o.push(h.effectTakeFs()),e++,i.label=4;case 4:return p++,[3,2];case 5:return r++,[3,1];case 6:return[4,Promise.all(o)];case 7:return i.sent(),o.length>0?[4,c.Windown.MuaDongVoTan.getMakeDelay(.3).prosime]:[3,9];case 8:i.sent(),i.label=9;case 9:return n(null),[3,11];case 10:return f=i.sent(),a.Util.ThrowErrProsime(f),[3,11];case 11:return[2]}})})})},t.prototype.handleStopAllColum=function(){return o(this,void 0,void 0,function(){var t,e,n;return i(this,function(o){switch(o.label){case 0:cc.log("handleStopAllColum"),o.label=1;case 1:return o.trys.push([1,10,,11]),c.Windown.MuaDongVoTan.stateReel==r.default.STOP?[2]:(c.Windown.MuaDongVoTan.stateReel=r.default.STOP,c.Windown.MuaDongVoTan.setStateEffBtnSpin(),c.Windown.MuaDongVoTan.infoBar.showRdContent(),c.Windown.MuaDongVoTan.listResultConvert[0],this.freeSpinLeft=c.Windown.MuaDongVoTan.freeSpinNumber,this.lastFreeSpinLeft>0?((t=[]).push(this.checkAndShowTakeMutilFS()),t.push(this.checkAndShowTakePlusFS()),[4,Promise.all(t)]):[3,3]);case 2:o.sent(),o.label=3;case 3:return(e=[]).push(this.checkAndShowTakeSymbol(2)),e.push(this.checkAndShowViewAdd()),[4,Promise.all(e)];case 4:return o.sent(),this.showAllSymbolWin(),[4,this.setEndListIdActive()];case 5:return o.sent(),[4,c.Windown.MuaDongVoTan.infoBar.showTakeMoney(c.Windown.MuaDongVoTan.agWin/c.Windown.MuaDongVoTan.dataFinish.get("bonus"))];case 6:return o.sent(),[4,c.Windown.MuaDongVoTan.topWin.effectTakeMoney()];case 7:return o.sent(),[4,this.showMoneyTotalRevice()];case 8:return o.sent(),[4,this.checkAndShowEffect()];case 9:return o.sent(),this.resetForNextNextSpin(),[3,11];case 10:return n=o.sent(),a.Util.ThrowErrProsime(n),[3,11];case 11:return[2]}})})},t.prototype.showAllSymbolWin=function(){for(var t=0,e=this.listColum;t<e.length;t++)e[t].showSymbolWin()},t.prototype.showTakeAllSymbol=function(t){for(var e=0,n=this.listColum;e<n.length;e++){var o=n[e];o.index<=t&&o.showSymbolTake()}},t.prototype.activeAllSymbol=function(){this.listColum.forEach(function(t){t.activeAllSymbol()})},t.prototype.initItemViewAdd=function(t,e){var n=this;return new Promise(function(r){c.Windown.MuaDongVoTan.topWin.takeMutilAddReel();var l=c.Windown.MuaDongVoTan.itemSlotTemplate;c.Windown.MuaDongVoTan.audio.playEffectNoStop(c.Windown.MuaDongVoTan.audio.reelExpand1),cc.tween(c.Windown.MuaDongVoTan.parentItem).by(.4,{position:cc.v3(0==e?-96:-192,0,0)}).call(function(){return o(n,void 0,void 0,function(){var n,o,u;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),c.Windown.MuaDongVoTan.audio.playEffectNoStop(c.Windown.MuaDongVoTan.audio.reelExpand2),(n=cc.instantiate(l)).parent=c.Windown.MuaDongVoTan.parentItem,o=n.getComponent(s.default),this.listColum.push(o),o.index=e+3,o.setResultFirtGame(),o.node.x=187*(e+3)+93.5+5*(e+3),o.node.y=0,n.opacity=0,[4,o.showNewCol(t,e+3)];case 1:return i.sent(),r(null),[3,3];case 2:return u=i.sent(),a.Util.ThrowErrProsime(u),[3,3];case 3:return[2]}})})}).start();var u=187*(n.listColum.length+1)+5*n.listColum.length+1;cc.tween(c.Windown.MuaDongVoTan.parentItem).to(.2,{width:u}).start()})},t.prototype.offAllSymbol=function(){this.listColum.forEach(function(t){t.offAllSymbol()}),c.Windown.MuaDongVoTan.activeMask(!0)},t.prototype.checkAndShowEffect=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),t=c.Windown.MuaDongVoTan.isScatter3,n=c.Windown.MuaDongVoTan.dataFinish.get("FreeSpin"),this.freeSpinLeft=n,!t&&this.lastFreeSpinLeft<1?(e(null),[2]):t?[4,c.Windown.MuaDongVoTan.effect.showStartFs(n)]:[3,2];case 1:i.sent(),c.Windown.MuaDongVoTan.topWin.resetMutil(),i.label=2;case 2:return 1==this.lastFreeSpinLeft&&this.freeSpinLeft<1?[4,c.Windown.MuaDongVoTan.effect.showEndFree(this.moneyTotalFs)]:[3,4];case 3:i.sent(),this.moneyTotalFs=0,i.label=4;case 4:return this.lastFreeSpinLeft=this.freeSpinLeft,e(null),[3,6];case 5:return o=i.sent(),a.Util.ThrowErrProsime(o),[3,6];case 6:return[2]}})})})},t.prototype.resetForNextNextSpin=function(){var t=this;return cc.log("chay vao resetForNextNextSpin"),new Promise(function(){if(c.Windown.MuaDongVoTan.agWin<=0||t.freeSpinLeft>0||t.countAutoSpin>0)t.activeAllSymbol();else{t.listColum.forEach(function(t){return t.runEffectEndGameWin()});var e=c.Windown.MuaDongVoTan.parentItem,n=e.width/250;e.runAction(cc.repeatForever(cc.sequence(cc.moveTo(n,-286,-4).easing(cc.easeInOut(2)),cc.moveTo(n,-286-(187*(t.listColum.length-3)+5*(t.listColum.length-3)),-4).easing(cc.easeInOut(2)))))}c.Windown.MuaDongVoTan.resetForNewGame(),t.freeSpinLeft>0?c.Windown.MuaDongVoTan.scheduleOnce(function(){c.Windown.MuaDongVoTan.setLbFreeSpinLeft(t.freeSpinLeft-1),c.Windown.MuaDongVoTan.onClickBtnSpin()},.5):t.countAutoSpin>0?c.Windown.MuaDongVoTan.scheduleOnce(function(){t.countAutoSpin--,c.Windown.MuaDongVoTan.setCountAuto(t.countAutoSpin),c.Windown.MuaDongVoTan.onClickBtnSpin()},.5):c.Windown.MuaDongVoTan.activeAllBtn()})},t.prototype.showMoneyTotalRevice=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=c.Windown.MuaDongVoTan.agWin,this.lastFreeSpinLeft>0&&(this.moneyTotalFs+=t),t<1?(e(null),[2]):[4,c.Windown.MuaDongVoTan.infoBar.showTotalMoney(t)];case 1:return o.sent(),c.Windown.MuaDongVoTan.showMoneyAllWin(t),e(null),[3,3];case 2:return n=o.sent(),a.Util.ThrowErrProsime(n),[3,3];case 3:return[2]}})})})},t}();n.default=l,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./MuaDongVoTanItemSlot":"MuaDongVoTanItemSlot"}],MuaDongVoTanSymbol:[function(t,e,n){"use strict";cc._RF.push(e,"ce84e1ixm1H5pN8td7E25Ha","MuaDongVoTanSymbol");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scritps/DefineTs/StateReelSlot"),c=t("../../../Scritps/Windown"),s=t("./EffectItemMuaDong"),l=t("./MuaDongEffectScater"),u=t("./MuaDongItemTakeFS"),p=t("./MuaDongVoTanItemSlot"),d=cc._decorator,h=d.ccclass,f=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.spriteTxt=null,e.listSpineWin=[],e.efScater=null,e.ske=null,e.size=new cc.Size(190,160),e.itemColum=null,e.result=-100,e.objSFS=null,e.sizeItem=0,e.canRun=!1,e.efWin=null,e.nodeMutil=null,e.lastPos=null,e.isShuff=!1,e.isShowEffectSpawn=!1,e}return i(e,t),e.prototype.setItemColum=function(t){this.itemColum=t},e.prototype.setResult=function(t,e){void 0===e&&(e=null),null!=t&&(this.objSFS=t,this.result=t.getInt("idItem"),this.sizeItem=t.getInt("size"),this.itemColum.stateWhel==a.default.RUN?this.setImgResult(!0):this.setImgResult(!1),this.isShuff=!1,this.isShowEffectSpawn=!1)},e.prototype.setResultHistory=function(t){this.result=t,this.setImgResult(!1)},e.prototype.setImgResult=function(t){this.sprite.spriteFrame=this.getSpItem(t),null==this.sprite.spriteFrame&&cc.log("id null: "+this.result),this.spriteTxt.spriteFrame=this.getSpTxt(t),t?(this.sprite.node.scale=1.45,this.spriteTxt.node.scale=1.45):(this.sprite.node.scale=.73,this.spriteTxt.node.scale=.73)},e.prototype.checkItemFront=function(){this.checkIsInView()&&11==this.result?this.node.parent=this.itemColum.parentItemFront:this.node.parent=this.itemColum.parentItem},e.prototype.getSpItem=function(t){return t?this.getAtlasBlur().getSpriteFrame(this.convertNameSpriteById()+"_blur"):this.getAtlas().getSpriteFrame(this.convertNameSpriteById())},e.prototype.getSpTxt=function(t){var e=this.convertNameTxtById();return null==e?null:t?this.getAtlasTxtBlur().getSpriteFrame(e+"_blur"):this.getAtlasTxt().getSpriteFrame(e)},e.prototype.getAtlas=function(){return c.Windown.MuaDongVoTan.asset.atlasSymbol},e.prototype.getAtlasBlur=function(){return c.Windown.MuaDongVoTan.asset.atlasSymbolBlur},e.prototype.getAtlasTxt=function(){return c.Windown.MuaDongVoTan.asset.atlasTxt},e.prototype.getAtlasTxtBlur=function(){return c.Windown.MuaDongVoTan.asset.atlasTxtBlur},e.prototype.getIndexOf=function(){return this.itemColum.getListSymbol().indexOf(this)},e.prototype.convertNameSpriteById=function(){switch(this.result){case-1:return"h_blank";case 0:return"l_9";case 1:return"l_10";case 2:return"l_j";case 3:return"l_q";case 4:return"l_k";case 5:return"l_a";case 6:return"h_sball";case 7:return"h_staff";case 8:return"h_owl";case 9:return"h_jack";case 10:return"s_wild_a_block";case 11:return"s_fspins_block";case 100:return"s_mul_block";case 101:return"s_plus_block"}},e.prototype.convertNameTxtById=function(){switch(this.result){case-1:case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:return null;case 10:return"s_wild_a";case 11:return"s_fspins";case 100:return"s_mul";case 101:return"s_plus"}},e.prototype.checkIsInView=function(){return this.node.y<0&&this.node.y>-this.size.height*(this.itemColum.sizeSymbol-2)},e.prototype.offItem=function(t){void 0===t&&(t=.15),this.node.children.forEach(function(e){e.stopActionByTag(999),t<=0?e.color=cc.Color.GRAY:cc.tween(e).to(t,{color:cc.Color.GRAY}).tag(999).start()})},e.prototype.activeItem=function(t){void 0===t&&(t=.15),c.Windown.MuaDongVoTan.stateSpin.isMaxSpeed&&(t/=2),this.node.children.forEach(function(e){e.stopActionByTag(999),t<=0?e.color=cc.Color.WHITE:cc.tween(e).to(t,{color:cc.Color.WHITE}).tag(999).start()})},e.prototype.runEffectEndGameWin=function(){var t=this;this.efWin&&this.efWin.runAction(cc.repeatForever(cc.sequence(cc.callFunc(function(){t.efWin.opacity=0,t.ske.setAnimation(0,"win",!1)}),cc.fadeIn(.3),cc.delayTime(2))))},e.prototype.resetState=function(){this.activeItem(),this.removeEfWin()},e.prototype.runSpin=function(){this.node.parent=this.itemColum.parentItem;var t=cc.repeatForever(cc.moveBy(c.Windown.MuaDongVoTan.stateSpin.isMaxSpeed?.5:1,0,-2500));this.node.stopAllActions(),this.node.runAction(t),this.canRun=!0,this.efScater&&this.efScater.destroy(),this.efScater=null,this.resetState()},e.prototype.stopSpin=function(t){var e=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(t,cc.callFunc(function(){e.itemColum.effStopSpin()})))},e.prototype.initPosStartGame=function(){var t,e=this.getIndexOf(),n=this.itemColum.getListSymbol()[e-1],o=null==n?void 0:n.node.y;t=n?o-this.node.height/2-n.node.height/2:this.node.height/2,this.node.y=t},e.prototype.moveWhenListChange=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=null);var o=this.getIndexOf(),i=this.itemColum.getListSymbol()[o+1],r=i.node.y,a=null;t==p.TYPE_MOVE.NORMAL&&(a=r+this.node.height/2+i.node.height/2,this.node.y=a)},e.prototype.takeItem=function(){null==this.efWin&&(this.efWin=c.Windown.MuaDongVoTan.asset.getEffTakeItem(),this.efWin.parent=this.node,this.efWin.getComponent(s.default).take(),this.efWin.setPosition(0,0),this.activeItem())},e.prototype.winItem=function(){this.efWin&&(this.efWin.getComponent(s.default).win(),this.ske.node.active=!0,this.ske.skeletonData=this.listSpineWin[this.getItemId()],this.ske.setAnimation(0,"win",!1))},e.prototype.removeEfWin=function(){this.efWin&&this.efWin.destroy(),this.efWin=null,this.ske.node&&(this.ske.node.active=!1)},e.prototype.effectScater=function(){null==this.efScater&&(this.efScater=c.Windown.MuaDongVoTan.asset.getEffectScater(),this.efScater.parent=this.node,this.efScater.setPosition(0,0)),this.efScater.getComponent(l.default).show();for(var t=0;t<this.itemColum.index;t++)c.Windown.MuaDongVoTan.listColum[t].getListSymbolResult().forEach(function(t){11==t.getItemId()&&t.effectScaterShowFS()})},e.prototype.effectScaterShowFS=function(){this.efScater&&this.efScater.getComponent(l.default).showNearFS()},e.prototype.effectSpawnSymbol=function(){!this.isShowEffectSpawn&&this.checkIsInView()&&(this.checkItemFront(),11==this.result?(c.Windown.MuaDongVoTan.audio.playEffectNoStop(c.Windown.MuaDongVoTan.audio.symScatter),this.isShowEffectSpawn=!0,this.effectScater()):10==this.result?this.isShowEffectSpawn=!0:11==this.result&&(this.isShowEffectSpawn=!0))},e.prototype.effectTakeMutil=function(){var t=c.Windown.MuaDongVoTan.asset.getAddMutil();return t.parent=c.Windown.MuaDongVoTan.node,t.setPosition(c.Windown.convertNodeInOtherNode(this.node,t.parent)),this.offItem(),t.getComponent(u.default).takeMutil()},e.prototype.effectTakeFs=function(){var t=c.Windown.MuaDongVoTan.asset.getAddFs();return t.parent=c.Windown.MuaDongVoTan.node,t.setPosition(c.Windown.convertNodeInOtherNode(this.node,t.parent)),this.offItem(),t.getComponent(u.default).take()},e.prototype.unuse=function(){this.itemColum=null,this.isShowEffectSpawn=!1,this.isShuff=!1,this.result=-2,this.node.opacity=255,this.sprite.node.scale=1,this.sprite.node.y=1,this.sprite.node.opacity=255,this.node.stopAllActions()},e.prototype.checkEndCot=function(){if(0==this.getIndexOf()){var t=this.node.height/2;if(this.node.y<=t){var e=this.itemColum.getIdSymbolResult(),n=this.itemColum.getListSymbol(),o=n.pop();n.unshift(o),o.node.zIndex=0,o.setResult(e),o.moveWhenListChange(p.TYPE_MOVE.NORMAL)}}},e.prototype.getItemId=function(){return this.result},e.prototype.onDestroy=function(){this.resetState(),this.efScater&&this.efScater.destroy(),this.efScater=null},e.prototype.update=function(){this.canRun&&this.checkEndCot()},r([f(cc.Sprite)],e.prototype,"sprite",void 0),r([f(cc.Sprite)],e.prototype,"spriteTxt",void 0),r([f([sp.SkeletonData])],e.prototype,"listSpineWin",void 0),r([f(cc.Node)],e.prototype,"efScater",void 0),r([f(sp.Skeleton)],e.prototype,"ske",void 0),r([h],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":void 0,"../../../Scritps/Windown":void 0,"./EffectItemMuaDong":"EffectItemMuaDong","./MuaDongEffectScater":"MuaDongEffectScater","./MuaDongItemTakeFS":"MuaDongItemTakeFS","./MuaDongVoTanItemSlot":"MuaDongVoTanItemSlot"}],MuaDongVoTanTopWin:[function(t,e,n){"use strict";cc._RF.push(e,"85c13ag5stOYbT3oeb9Q/ny","MuaDongVoTanTopWin");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Windown"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.topRight=null,e.topLeft=null,e.itemTemp=null,e.nodeTitle=null,e.multiple1=null,e.multiple2=null,e.lightWinMulti=null,e._multiple=1,e}return i(e,t),e.prototype.start=function(){this.cleanData(),this.itemTemp.active=!1,this.multiple2.node.opacity=0},e.prototype.setEndData=function(){},e.prototype.setData=function(t){var e=this;t.forEach(function(t){var n;if(t<11){if(10!=t){null==(n=e.topRight.getChildByName(t.toString()))&&((n=cc.instantiate(e.itemTemp)).parent=e.topRight,n.x=0),n.name=t.toString(),n.active=!0;var o=n.getComponentInChildren(s.default);n.children[1].getComponent(cc.Sprite).spriteFrame=e.getAtlas().getSpriteFrame(e.convertNameSpineById(t));var i=parseInt(o.string);o.string=(i+1).toString(),o.string!=t.toString()&&(o.node.stopAllActions(),o.node.scale=.1,o.node.runAction(cc.scaleTo(.2,.5).easing(cc.easeBackOut())))}}else(n=e.topLeft.children[0]).active=!0,o=n.getComponentInChildren(s.default),i=parseInt(o.string),o.setMoneyNoTime((i+1).toString()),o.string!=t.toString()&&(o.node.stopAllActions(),o.node.scale=.1,o.node.runAction(cc.scaleTo(.2,.5).easing(cc.easeBackOut())))})},e.prototype.resetData=function(){this.topRight.children.forEach(function(t){t.active=!1,t.getComponentInChildren(s.default).setMoneyNoTime(0)}),this.topLeft.children.forEach(function(t){t.getComponentInChildren(s.default).setMoneyNoTime("0"),t.active=!1})},e.prototype.cleanData=function(){this.topRight.destroyAllChildren(),this.topLeft.children.forEach(function(t){t.getComponentInChildren(s.default).setMoneyNoTime("0"),t.active=!1}),this.resetMutil()},e.prototype.resetMutil=function(){var t=this,e=l.Windown.MuaDongVoTan.stateSpin.lastFreeSpinLeft;console.log("current lastFree: "+e),e&&e>0||(cc.log("nhay me vao reset mutik"),this._multiple=1,this.multiple1.node.stopAllActions(),this.multiple1.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.nodeTitle.active=!0}))))},e.prototype.getAtlas=function(){return l.Windown.MuaDongVoTan.asset.atlasSymbol},e.prototype.convertNameSpineById=function(t){switch(t+1){case 1:return"l_9";case 2:return"l_10";case 3:return"l_j";case 4:return"l_q";case 5:return"l_k";case 6:return"l_a";case 7:return"h_sball";case 8:return"h_staff";case 9:return"h_owl";case 10:return"h_jack"}},e.prototype.initCurrentMutil=function(t){this._multiple=t||1,this.multiple1.string="x"+this._multiple,this.multiple2.string="x"+this._multiple,this._multiple>1&&(this.multiple1.node.stopAllActions(),this.multiple1.node.opacity=255,this.nodeTitle.active=!1),cc.log("mutil la: "+this._multiple)},e.prototype.getMultiple=function(){return this._multiple},e.prototype.takeMutilItem=function(){var t=this;this._multiple++;var e=this.multiple1.node;this.nodeTitle.active=!1,l.Windown.MuaDongVoTan.audio.playEffectNoStop(l.Windown.MuaDongVoTan.audio.fsGetMultiReach),e.runAction(cc.fadeIn(.1)),e.runAction(cc.sequence(cc.scaleTo(.15,1),cc.callFunc(function(){t.multiple1.string="x"+t._multiple,t.multiple2.string="x"+t._multiple}),cc.scaleTo(.15,.85)))},e.prototype.takeMutilAddReel=function(){l.Windown.MuaDongVoTan.audio.playEffect(l.Windown.MuaDongVoTan.audio.multiplierUp),this.nodeTitle.active=!1,this._multiple++,this.multiple1.string="x"+this._multiple,this.multiple2.string="x"+this._multiple;var t=this.multiple1.node;t.opacity=0,t.y=-184.905,t.stopAllActions(),t.runAction(cc.spawn(cc.moveTo(.4,0,-22.909).easing(cc.easeQuarticActionOut()),cc.fadeIn(.15).easing(cc.easeQuarticActionIn())))},e.prototype.effectTakeMoney=function(){var t=this;return new Promise(function(e){if(t._multiple<2||l.Windown.MuaDongVoTan.agWin<1)e(null);else{var n=l.Windown.MuaDongVoTan.stateSpin.isMaxSpeed?2:1;l.Windown.MuaDongVoTan.audio.playEffect(l.Windown.MuaDongVoTan.audio.multiplierFly);var o=t.multiple2.node;o.setPosition(l.Windown.convertNodeInOtherNode(t.multiple1.node,o.parent)),o.scale=.85,o.opacity=150,o.stopAllActions(),o.runAction(cc.sequence(cc.spawn(cc.moveTo(.5/n,0,346.03),cc.scaleTo(.5/n,.6)),cc.callFunc(function(){return a(t,void 0,void 0,function(){return c(this,function(){return l.Windown.MuaDongVoTan.audio.playEffect(l.Windown.MuaDongVoTan.audio.prizeInfobarTotalwin),e(null),[2]})})}),cc.spawn(cc.scaleTo(.2/n,2).easing(cc.easeQuarticActionOut()),cc.fadeOut(.25/n).easing(cc.easeQuarticActionIn()))))}})},r([d(cc.Node)],e.prototype,"topRight",void 0),r([d(cc.Node)],e.prototype,"topLeft",void 0),r([d(cc.Node)],e.prototype,"itemTemp",void 0),r([d(cc.Node)],e.prototype,"nodeTitle",void 0),r([d(s.default)],e.prototype,"multiple1",void 0),r([d(s.default)],e.prototype,"multiple2",void 0),r([d(cc.Node)],e.prototype,"lightWinMulti",void 0),r([p],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":void 0,"../../../Scritps/Windown":void 0}],MuaDongVoTanTotalWin:[function(t,e,n){"use strict";cc._RF.push(e,"51794UTzcpE6IpdQPFnvb9L","MuaDongVoTanTotalWin");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../Scritps/Game/GAME_TYPE"),u=t("../../../Scritps/Network/ConectManager"),p=t("../../../Scritps/Other/LbMonoSpace"),d=t("../../../Scritps/Util"),h=t("../../../Scritps/Windown"),f=cc._decorator,g=f.ccclass,y=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.particleEnd=null,e.btnThuThap=null,e}return i(e,t),e.prototype.show=function(t){var e=this;return new Promise(function(n){return a(e,void 0,void 0,function(){var e,o,i,r,a,p=this;return c(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),h.Windown.MuaDongVoTan.audio.playEffect(h.Windown.MuaDongVoTan.audio.bgmTotalwinMain),e=[],o=h.Windown.MuaDongVoTan.getMakeDelay(3.4),e.push(o),i=function(){for(;e.length>0;)e.shift().cancle(!1);if(t>1e4){var o=u.ConectManager.getIns().getSFSObj();o.putInt("gt",l.default.MuaDong),o.putInt("mt",t),o.putUtfString("nn",h.Windown.User.nickName),o.putUtfString("dt","fs"),u.ConectManager.getIns().sendRequest(s.REQUEST_CODE.AddBigWin,o)}p.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){p.node.destroy(),n(null),h.Windown.MuaDongVoTan.audio.stopBkgFs()}))),h.Windown.MuaDongVoTan.audio.playClick()},this.scheduleOnce(function(){p.node.once(cc.Node.EventType.TOUCH_END,function(){for(;e.length>0;)e.shift().cancle(!0)})},.5),this.label.time=3.4,this.label.setMoney(t),[4,o.prosime];case 1:return c.sent(),this.node.targetOff(this),r=h.Windown.MuaDongVoTan.getMakeDelay(6),e.push(r),this.label.setMoneyNoTime(t),this.label.node.parent.runAction(cc.sequence(cc.scaleTo(.15,1.1),cc.callFunc(function(){p.particleEnd.resetSystem()}),cc.scaleTo(.15,.95))),this.btnThuThap.active=!0,this.btnThuThap.opacity=0,this.btnThuThap.runAction(cc.fadeIn(.5)),this.btnThuThap.once("click",i),h.Windown.MuaDongVoTan.audio.stopEffect(h.Windown.MuaDongVoTan.audio.bgmTotalwinMain),h.Windown.MuaDongVoTan.audio.playEffect(h.Windown.MuaDongVoTan.audio.bgmTotalwinEnd),[4,r.prosime];case 2:return c.sent(),i(),[3,4];case 3:return a=c.sent(),d.Util.ThrowErrProsime(a),[3,4];case 4:return[2]}})})})},r([y(p.default)],e.prototype,"label",void 0),r([y(cc.ParticleSystem)],e.prototype,"particleEnd",void 0),r([y(cc.Node)],e.prototype,"btnThuThap",void 0),r([g],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Game/GAME_TYPE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Other/LbMonoSpace":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0}],MuaDongVoTanView:[function(t,e,n){"use strict";cc._RF.push(e,"ad1c2baurhGsbsovbOXjqRK","MuaDongVoTanView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{s(o.next(t))}catch(e){r(e)}}function c(t){try{s(o.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/EVENT_MANAGER"),l=t("../../../Scritps/DefineTs/PlayerPP"),u=t("../../../Scritps/DefineTs/REQUEST_CODE"),p=t("../../../Scritps/DefineTs/StateReelSlot"),d=t("../../../Scritps/DefineTs/TextDefine"),h=t("../../../Scritps/Game/GAME_TYPE"),f=t("../../../Scritps/Network/ConectManager"),g=t("../../../Scritps/Obs/LbMoneyChange"),y=t("../../../Scritps/Other/LbMonoSpace"),m=t("../../../Scritps/Other/MakeDelay"),S=t("../../../Scritps/Util"),v=t("../../../Scritps/Windown"),w=t("./MuaDongVoTanAsset"),b=t("./MuaDongVoTanAudio"),T=t("./MuaDongVoTanEffect"),M=t("./MuaDongVoTanInfoBarController"),W=t("./MuaDongVoTanItemSlot"),_=t("./MuaDongVoTanLichSu"),D=t("./MuaDongVoTanSpinNormal"),C=t("./MuaDongVoTanTopWin"),I=cc._decorator,A=I.ccclass,E=I.property,V=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.asset=null,e.bkgSprite=null,e.effect=null,e.parentItem=null,e.itemSlotTemplate=null,e.parentItemFront=null,e.parentEffect=null,e.labelChipReviceInBox=null,e.lb_totalBet=null,e.lb_FSLeft=null,e.lb_TotalLine=null,e.lb_CountAuto=null,e.infoBar=null,e.btnSpin=null,e.mask=null,e.nodeChooseAuto=null,e.audio=null,e.listNodeDeactive=[],e.nodeBtnPlay=null,e.nodeBtnSeting=null,e.toggleTurbo=null,e.btnStartAuto=null,e.leftBar=null,e.rightBar=null,e.ui_bg_top=null,e.ui_bg_bottom=null,e.ib_bar_a_bns=null,e.topWin=null,e.popupFreeSpin=null,e.nodeFreeSpin=null,e.snow=null,e.listColum=[],e.listResult=null,e.listViewAdd=null,e.listResultConvert=[],e.listConfigBet=[],e.gameType=-1,e.sfs=null,e.roomSFS=null,e.stateReel=0,e.totalLineBet=10,e.curRoomBet=50,e.funEnd=null,e.isShowBtnPlay=!0,e.dataFinish=null,e.sfsObjTest=null,e.stateSpin=null,e.makeDelay=null,e.currentTotalLine=1,e.agWin=0,e.freeSpinNumber=0,e._isFreeSpin=!1,e._popupLichSu=null,e}return i(e,t),e.prototype.onLoad=function(){v.Windown.MuaDongVoTan=this,this.makeDelay=new m.default(this),cc.log("start slot ai cap"),this.gameType=h.default.MuaDong,this.sfs=f.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(s.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),cc.systemEvent.on(s.EVENT_MANAGER.LOGIN,this.onLogin,this),this.stateReel=p.default.WAITING,this.stateSpin=new D.default,this.sendJoinRoom(),this.activeMask(!1),this.setBackgroundGame(!1),this.initSnow()},e.prototype.onLogin=function(){this.sendJoinRoom()},e.prototype.sendJoinRoom=function(){var t=f.ConectManager.getIns().getSFSObj();t.putInt("gameType",h.default.MuaDong),t.putInt("roomType",-1),t.putInt("mark",-1),f.ConectManager.getIns().sendRequest(u.REQUEST_CODE.GetIdJoinRoom,t)},e.prototype.onDisconnect=function(){cc.log("disconnect"),v.Windown.UIManager.hideLoading(),v.Windown.UIManager.hideLoadingData(),cc.director.loadScene("main")},e.prototype.userExitRoom=function(t){cc.log("user exit room"),"SlotMD"==t.room.groupId&&t.user.isItMe&&cc.director.loadScene("main")},e.prototype.onCreateError=function(){cc.log("creat errr"),v.Windown.UIManager.hideLoading(),cc.director.loadScene("main"),v.Windown.Dialog.showLog(d.TextDefine.ERR_JOIN_ROOM)},e.prototype.onJoinRoom=function(t){var e=t.room;if("SlotMD"==e.groupId){this.roomSFS=e,v.Windown.UIManager.hideLoadingData();var n=e.getVariable("cf").value;cc.log(n);var o=[],i=JSON.parse(n);for(var r in i){var a=Object.create(null);a.bet=parseInt(r),a.perJp=i[r].percentPot/100,o.push(a)}o.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=o,this.curRoomBet=this.listConfigBet[0].bet,this.lb_totalBet.string=v.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),v.Windown.UIManager.hideLoading(),v.Windown.UIManager.hideLoadingData(),v.Windown.Dialog.showLog(d.TextDefine.ERR_JOIN_ROOM),cc.director.loadScene("main")},e.prototype.activeMask=function(){},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(cc.log("extResponse",e),e){case u.REQUEST_CODE.SpinMuaDong:cc.log(v.Windown.SFSObjToJson(n)),this.handleFinish(n);break;case u.REQUEST_CODE.HistoryMuaDong:this._popupLichSu&&this._popupLichSu.responseServer(n);break;case u.REQUEST_CODE.HistoryChiTietMuaDong:this._popupLichSu&&this._popupLichSu.responseServerChiTiet(n);break;case u.REQUEST_CODE.REQUEST_GET_LastSpin_SLOT:this.handleGetLastSpinSlot(n)}},e.prototype.handleGetLastSpinSlot=function(t){var e=t.get("t"),n=t.get("iF");if(e==h.default.MuaDong&&n&&null==this.dataFinish){var o=t.get("d"),i=o.get("FreeSpin");return console.log("curren mutil: "+o.get("bonus")),this.stateSpin.lastFreeSpinLeft=i,this.stateSpin.freeSpinLeft=i-1,this.lb_FSLeft.setMoneyNoTime(this.stateSpin.freeSpinLeft),this.effect.switchFS(!0),console.log(v.Windown.SFSObjToJson(o)),this.topWin.initCurrentMutil(o.get("bonus")),void this.onClickBtnSpin()}e==h.default.MuaDong&&this.stateReel==p.default.RUN&&(!t.containsKey("d")||this.dataFinish&&v.Windown.SFSObjToJson(this.dataFinish)==v.Windown.SFSObjToJson(t.get("d"))?this.sendClickSpin():this.handleFinish(t.get("d")))},e.prototype.handleFinish=function(t){var e=this;if(t.containsKey(l.PlayerPP.ERR_MESSAGE))return this.stateSpin.handleErrSpin(),v.Windown.Dialog.showLog(t.get(l.PlayerPP.ERR_MESSAGE)),this.activeAllBtn(),void this.onClickResetCountAuto();this.dataFinish=t,this.agWin=this.dataFinish.get("agWin"),this.isScatter3=this.dataFinish.get("isScatter3"),this.freeSpinNumber=this.dataFinish.get("FreeSpin"),v.Windown.MoneyUser.pushDelayMoney(this.gameType,this.dataFinish.get("agUser"),this.agWin),this.truTienBet(this.dataFinish.get("agBet")*this.totalLineBet,this.dataFinish.get("agUser")),this.listResult=t.get("views"),this.listViewAdd=t.get("viewAdd"),this.listResultConvert=this.convertResult(this.listResult,this.listViewAdd,JSON.parse(v.Windown.SFSArrToJson(t.get("listItemWin")))),this.stateReel=p.default.CAN_STOP;var n=this.stateSpin.isMaxSpeed?0:.2;this.scheduleOnce(this.funEnd=function(){e.stateSpin.onEnd()},n)},e.prototype.checkIdWin=function(t,e,n){if(null==n&&(n=this.listResultConvert),null==n[0])return!1;for(var o=0,i=n[0].listItemWin;o<i.length;o++){var r=i[o],a=t==r.symbol&&e<=r.stack;if(a)return a}return!1},e.prototype.checkIdWildWin=function(t,e){if(null==e&&(e=this.listResultConvert),null==e[0])return!1;for(var n=0,o=e[0].listItemWin;n<o.length;n++){var i=t<=o[n].stack;if(i)return i}return!1},e.prototype.onDestroy=function(){v.Windown.MuaDongVoTan=null,this.dataFinish&&(v.Windown.MoneyUser.removeDelay(this.gameType),this.dataFinish=null),v.Windown.MoneyUser.endGameMOney(this.gameType),cc.systemEvent.removeAll(this),this.roomSFS=null,this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),v.Windown.UIManager.changeRotation()},e.prototype.start=function(){var t=this;this.setupView(),this.initItem(),cc.sys.isNative||this.scheduleOnce(function(){return a(t,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,v.Windown.loadBundle(h.default.MuaDong.toString())];case 1:return t.sent().loadDir("Spine",function(){}),[2]}})})},3),this.parentItem.on(cc.Node.EventType.POSITION_CHANGED,function(){t.parentEffect.setPosition(t.parentItem.position),t.parentItemFront.setPosition(t.parentItem.position)}),this.parentEffect.setPosition(this.parentItem.position),this.parentItemFront.setPosition(this.parentItem.position)},e.prototype.initSnow=function(){for(var t=this,e=0;e<8;e++){var n=v.Windown.RandomNumber(5,8),o=cc.instantiate(this.snow);o.parent=this.snow.parent,o.position=cc.v3(v.Windown.RandomNumber(-390,300),1300,0),o.runAction(cc.sequence(cc.delayTime(e),cc.moveTo(n,cc.v2(o.position.x+190,-680)),cc.removeSelf()))}this.schedule(function(){for(var e=0;e<8;e++){var n=v.Windown.RandomNumber(5,8),o=cc.instantiate(t.snow);o.parent=t.snow.parent,o.scale=(.15,.25,.1*Math.random()+.15),o.position=cc.v3(v.Windown.RandomNumber(-390,300),1300,0),o.runAction(cc.sequence(cc.delayTime(v.Windown.RandomNumber(0,8)),cc.moveTo(n,cc.v2(o.position.x+190,-680)),cc.removeSelf()))}},8)},e.prototype.initItem=function(){this.itemSlotTemplate=cc.instantiate(this.parentItem.children[2]);for(var t=0;t<3;t++){var e=this.parentItem.children[t+2];null==e&&((e=cc.instantiate(this.itemSlotTemplate)).parent=this.parentItem);var n=e.getComponent(W.default);this.listColum.push(n),n.index=t,n.node.x=187*t+93.5+5*t,n.node.y=0,n.setResultFirtGame()}this.parentItem.width=576,cc.log("wild la: "+this.parentItem.width)},e.prototype.setupView=function(){var t=cc.find("Game",this.node);if(cc.sys.isMobile)t.angle=90,this.bkgSprite.angle=90,this.bkgSprite.scale=1280/720;else{var e=cc.winSize.height/1280;t.angle=0,t.scale=e,this.bkgSprite.angle=0;var n=this.bkgSprite.addComponent(cc.Widget);n.left=0,n.right=0,n.bottom=0,n.top=0}v.Windown.UIManager.changeRotation(!0)},e.prototype.sendClickSpin=function(){if(null!=this.sfsObjTest)return f.ConectManager.getIns().sendRequest("testSpin",this.sfsObjTest,this.roomSFS),this.sfsObjTest=null,void cc.log("send test ne");var t=f.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),f.ConectManager.getIns().sendRequest(u.REQUEST_CODE.SpinMuaDong,t,this.roomSFS)},e.prototype.onClickBtnSpin=function(){return a(this,void 0,void 0,function(){var t,e;return c(this,function(n){switch(n.label){case 0:if(n.trys.push([0,7,,8]),this.stateReel!=p.default.WAITING)return[3,5];this.audio.playEffect(this.audio.spinBtn),this.stateReel=p.default.RUN,this.setStateEffBtnSpin(),this.offAllBtn(),this.btnSpin.getComponent(cc.Animation).play(),this.infoBar.reset(),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.stateSpin.onStart()];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),S.Util.ThrowErrProsime(t),[3,4];case 4:return this.sendClickSpin(),[3,6];case 5:this.stateReel==p.default.CAN_STOP&&(this.stateSpin.isMaxSpeed||(this.unschedule(this.funEnd),this.stateSpin.onForceEnd(),this.stateReel=p.default.RUN)),n.label=6;case 6:return[3,8];case 7:return e=n.sent(),S.Util.ThrowErrProsime(e),[3,8];case 8:return[2]}})})},e.prototype.showContentTip=function(){},e.prototype.resetForNewGame=function(){this.stateReel=p.default.WAITING,this.setStateEffBtnSpin()},e.prototype.resetLbTotalLine=function(){},e.prototype.clearAllMakeDelay=function(){this.makeDelay.clear()},e.prototype.setStateEffBtnSpin=function(){var t=cc.find("sb_button_frame/sb_arrow",this.btnSpin);if(this.stateReel!=p.default.STOP){var e=cc.Material.getBuiltinMaterial("2d-sprite");t.getComponent(cc.Sprite).setMaterial(0,e)}if(this.stateReel==p.default.WAITING||this.stateReel==p.default.SHOW_EFFECT)t.stopAllActions(),t.runAction(cc.repeatForever(cc.rotateBy(3,-360)));else if(this.stateReel==p.default.RUN)cc.log("play anim"),t.stopAllActions(),t.runAction(cc.repeatForever(cc.rotateBy(.3,-360))),this.infoBar.showRdContent();else if(this.stateReel==p.default.STOP){t.stopAllActions();var n=cc.Material.getBuiltinMaterial("2d-gray-sprite");t.getComponent(cc.Sprite).setMaterial(0,n)}},e.prototype.setLbFreeSpinLeft=function(t){var e=this.lb_FSLeft.node.parent;this.lb_FSLeft.setMoneyNoTime(t),t<1?(cc.find("last_spin",e).active=!0,cc.find("remaining_spin",e).active=!1,this.lb_FSLeft.node.active=!1):(cc.find("last_spin",e).active=!1,cc.find("remaining_spin",e).active=!0,this.lb_FSLeft.node.active=!0)},e.prototype.setCountAuto=function(t){this.lb_CountAuto.node.parent.active=!(t<1),this.lb_CountAuto.setMoneyNoTime(t)},e.prototype.setBackgroundGame=function(t){void 0===t&&(t=!1),this.ui_bg_top.children[0].active=t,this.leftBar.children[0].active=t,this.rightBar.children[0].active=t,this.ui_bg_top.children[0].active=t,this.ui_bg_bottom.children[0].active=t,this.nodeFreeSpin.active=t,this.nodeBtnPlay.position=cc.v3(0,t?-240:0,0),this._isFreeSpin=t},e.prototype.showMoneyAllWin=function(t){cc.log("money win: "+t),this.labelChipReviceInBox.setMoney(t),v.Windown.MoneyUser.removeDelay(this.gameType)},e.prototype.offLbFree=function(){this.lb_FSLeft.node.parent.active=!1},e.prototype.onClickSendObjTest=function(){var t=f.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),t.putUtfString("arr",JSON.stringify([[{size:1,typeItem:0,idItem:11},{size:1,typeItem:0,idItem:-1},{size:1,typeItem:0,idItem:1},{size:1,typeItem:0,idItem:-1}],[{size:1,typeItem:0,idItem:8},{size:1,typeItem:0,idItem:-1},{size:1,typeItem:0,idItem:11},{size:1,typeItem:0,idItem:7}],[{size:1,typeItem:0,idItem:11},{size:1,typeItem:0,idItem:4},{size:1,typeItem:0,idItem:1},{size:1,typeItem:0,idItem:1}]])),this.sfsObjTest=t,this.onClickBtnSpin()},e.prototype.onClickTest=function(){var t=f.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),t.putUtfString("arr",JSON.stringify({agWin:96e3,bonus:4,FreeSpin:0,listItemWin:[{symbol:2,agWin:12e3,sizeSymBol:12},{symbol:2,agWin:12e3,sizeSymBol:12}],agUser:339600,isScatter3:!1,agBet:100,views:[[[{size:1,typeItem:0,idItem:3},{size:1,typeItem:0,idItem:2},{size:1,typeItem:0,idItem:2},{size:1,typeItem:0,idItem:3}],[{size:1,typeItem:0,idItem:2},{size:1,typeItem:0,idItem:1},{size:1,typeItem:0,idItem:8},{size:1,typeItem:0,idItem:0}],[{size:1,typeItem:0,idItem:7},{size:1,typeItem:0,idItem:5},{size:1,typeItem:0,idItem:2},{size:1,typeItem:0,idItem:10}]]],viewAdd:[[[{size:1,typeItem:0,idItem:3},{size:1,typeItem:0,idItem:2},{size:1,typeItem:0,idItem:2},{size:1,typeItem:0,idItem:3}],[{size:1,typeItem:0,idItem:2},{size:1,typeItem:0,idItem:1},{size:1,typeItem:0,idItem:8},{size:1,typeItem:0,idItem:0}],[{size:1,typeItem:0,idItem:7},{size:1,typeItem:0,idItem:5},{size:1,typeItem:0,idItem:2},{size:1,typeItem:0,idItem:10}]]]})),this.sfsObjTest=t,this.onClickBtnSpin()},e.prototype.onClickResetCountAuto=function(){this.stateSpin.countAutoSpin=0,this.lb_CountAuto.node.parent.active=!1,v.Windown.MuaDongVoTan.audio.playClick()},e.prototype.onClickItemAutoSpin=function(t){v.Windown.MuaDongVoTan.audio.playClick(),this.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer).allowSwitchOff=!1;var e=t.node.name,n=Number(e);this.stateSpin.countAutoSpin=n,this.btnStartAuto.interactable=!0,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#FF8E26")},e.prototype.onClickStartAutoSpin=function(){this.onClickBtnSpin(),this.onClickCloseListAuto(),v.Windown.MuaDongVoTan.stateSpin.countAutoSpin>0&&v.Windown.MuaDongVoTan.setCountAuto(v.Windown.MuaDongVoTan.stateSpin.countAutoSpin)},e.prototype.onClickShowListAuto=function(){v.Windown.MuaDongVoTan.audio.playClick(),this.nodeChooseAuto.active=!0,this.nodeChooseAuto.opacity=0,this.nodeChooseAuto.runAction(cc.fadeIn(.3)),this.btnStartAuto.interactable=!1,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#E79CCF")},e.prototype.onClickCloseListAuto=function(){var t=this;v.Windown.MuaDongVoTan.audio.playClick(),this.nodeChooseAuto.stopAllActions(),this.nodeChooseAuto.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){var e=t.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer);e.allowSwitchOff=!0,e.toggleItems.forEach(function(t){t.isChecked&&t.uncheck()}),t.nodeChooseAuto.active=!1,t.btnStartAuto.interactable=!1,t.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#E79CCF")})))},e.prototype.convertResult=function(t,e,n){var o=[];return v.Windown.foreachSFSArray(t,function(i){var r=Object.create(null);r.listSFSObj=[],r.listItemWin=[],r.listViewAdd=[],v.Windown.foreachSFSArray(i,function(e,o){var i=[];if(v.Windown.foreachSFSArray(e,function(t){i.push(t)}),r.listSFSObj.push(i),o==t.size()-1)for(var a=0;a<n.length;a++){var c=n[a];c&&(c.stack=JSON.parse(c.stack),c.agWin=JSON.parse(c.agWin),c.symbol=JSON.parse(c.symbol),r.listItemWin.push(c))}}),v.Windown.foreachSFSArray(e,function(t){var e=[];v.Windown.foreachSFSArray(t,function(t){e.push(t)}),r.listViewAdd.push(e)}),o.push(r)}),o},e.prototype.onClickChangeBet=function(t,e){if(v.Windown.MuaDongVoTan.audio.playClick(),this.listConfigBet.length<1)v.Windown.Dialog.showLog(d.TextDefine.Error);else{var n=-1;for(var o in this.listConfigBet)if(this.listConfigBet[o].bet==this.curRoomBet){n=parseInt(o);break}0==e?n--:n++,n<0&&(n=this.listConfigBet.length-1),n>this.listConfigBet.length-1&&(n=0),this.curRoomBet=this.listConfigBet[n].bet,this.lb_totalBet.string=v.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.onClickCachChoi=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return v.Windown.MuaDongVoTan.audio.playClick(),v.Windown.UIManager.showLoading(),[4,v.Windown.loadRes(this.gameType.toString(),"Frefabs/CachChoi",cc.Prefab)];case 1:return t=e.sent(),cc.instantiate(t).parent=v.Windown.MuaDongVoTan.node.getChildByName("Game"),v.Windown.UIManager.hideLoading(),[2]}})})},e.prototype.onClickBackToLobby=function(){v.Windown.MuaDongVoTan.audio.playClick(),this.roomSFS?f.ConectManager.getIns().sendLeaveRoom(this.roomSFS):cc.director.loadScene("main")},e.prototype.onClickTurbo=function(){v.Windown.MuaDongVoTan.audio.playClick();var t=this.toggleTurbo.isChecked;this.toggleTurbo.node.children[1].active=!t,this.stateSpin.isMaxSpeed=t,t?v.Windown.UIManager.showAlertMini("B\u1eadt T\u0103ng T\u1ed1c"):v.Windown.UIManager.showAlertMini("T\u1eaft T\u0103ng T\u1ed1c")},e.prototype.onClickSeting=function(){if(v.Windown.MuaDongVoTan.audio.playClick(),cc.log("click onClickSeting"),this.isShowBtnPlay=!this.isShowBtnPlay,this.isShowBtnPlay)t=cc.v2(0,-750),this.nodeBtnPlay.runAction(cc.fadeIn(.4)),this.nodeBtnSeting.runAction(cc.spawn(cc.fadeOut(.3),cc.moveTo(.3,t)));else{this.nodeBtnPlay.stopAllActions(),this.nodeBtnSeting.stopAllActions();var t=cc.v2(0,-525.279);this.nodeBtnPlay.runAction(cc.fadeOut(.3)),this.nodeBtnSeting.opacity=0,this.nodeBtnSeting.runAction(cc.spawn(cc.fadeIn(.4),cc.moveTo(.4,t)))}},e.prototype.getMakeDelay=function(t){return this.makeDelay.getDelay(t)},e.prototype.activeAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!0,t.node.children.forEach(function(t){t.color=cc.Color.fromHEX(new cc.Color,"#E79CCF")})})},e.prototype.offAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!1,t.node.children.forEach(function(t){t.color=cc.Color.fromHEX(new cc.Color,"#999999")})})},e.prototype.truTienBet=function(t,e){0!=t&&v.Windown.MoneyUser.subMoney(t,e)},e.prototype.effectShake=function(t,e){void 0===t&&(t=.2),void 0===e&&(e=10)},e.prototype.onClickLichSu=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return v.Windown.MuaDongVoTan.audio.playClick(),v.Windown.UIManager.showLoading(),[4,v.Windown.loadRes(this.gameType.toString(),"Frefabs/LichSu",cc.Prefab)];case 1:return t=e.sent(),this._popupLichSu=cc.instantiate(t).getComponent(_.default),this._popupLichSu.node.parent=v.Windown.MuaDongVoTan.node.getChildByName("Game"),this._popupLichSu.show(),[2]}})})},e.prototype.update=function(){},e.prototype.activeLightHover=function(){},r([E(w.default)],e.prototype,"asset",void 0),r([E(cc.Node)],e.prototype,"bkgSprite",void 0),r([E(T.default)],e.prototype,"effect",void 0),r([E(cc.Node)],e.prototype,"parentItem",void 0),r([E(cc.Node)],e.prototype,"parentItemFront",void 0),r([E(cc.Node)],e.prototype,"parentEffect",void 0),r([E(g.default)],e.prototype,"labelChipReviceInBox",void 0),r([E(cc.Label)],e.prototype,"lb_totalBet",void 0),r([E(y.default)],e.prototype,"lb_FSLeft",void 0),r([E(cc.Label)],e.prototype,"lb_TotalLine",void 0),r([E(y.default)],e.prototype,"lb_CountAuto",void 0),r([E(M.default)],e.prototype,"infoBar",void 0),r([E(cc.Node)],e.prototype,"btnSpin",void 0),r([E(cc.Node)],e.prototype,"mask",void 0),r([E(cc.Node)],e.prototype,"nodeChooseAuto",void 0),r([E(b.default)],e.prototype,"audio",void 0),r([E([cc.Button])],e.prototype,"listNodeDeactive",void 0),r([E(cc.Node)],e.prototype,"nodeBtnPlay",void 0),r([E(cc.Node)],e.prototype,"nodeBtnSeting",void 0),r([E(cc.Toggle)],e.prototype,"toggleTurbo",void 0),r([E(cc.Button)],e.prototype,"btnStartAuto",void 0),r([E(cc.Node)],e.prototype,"leftBar",void 0),r([E(cc.Node)],e.prototype,"rightBar",void 0),r([E(cc.Node)],e.prototype,"ui_bg_top",void 0),r([E(cc.Node)],e.prototype,"ui_bg_bottom",void 0),r([E(cc.Node)],e.prototype,"ib_bar_a_bns",void 0),r([E(C.default)],e.prototype,"topWin",void 0),r([E(cc.Node)],e.prototype,"popupFreeSpin",void 0),r([E(cc.Node)],e.prototype,"nodeFreeSpin",void 0),r([E(cc.Node)],e.prototype,"snow",void 0),r([A],e)}(cc.Component);n.default=V,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":void 0,"../../../Scritps/DefineTs/PlayerPP":void 0,"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/DefineTs/StateReelSlot":void 0,"../../../Scritps/DefineTs/TextDefine":void 0,"../../../Scritps/Game/GAME_TYPE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Obs/LbMoneyChange":void 0,"../../../Scritps/Other/LbMonoSpace":void 0,"../../../Scritps/Other/MakeDelay":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./MuaDongVoTanAsset":"MuaDongVoTanAsset","./MuaDongVoTanAudio":"MuaDongVoTanAudio","./MuaDongVoTanEffect":"MuaDongVoTanEffect","./MuaDongVoTanInfoBarController":"MuaDongVoTanInfoBarController","./MuaDongVoTanItemSlot":"MuaDongVoTanItemSlot","./MuaDongVoTanLichSu":"MuaDongVoTanLichSu","./MuaDongVoTanSpinNormal":"MuaDongVoTanSpinNormal","./MuaDongVoTanTopWin":"MuaDongVoTanTopWin"}]},{},["EffectItemMuaDong","MuaDongCachChoi","MuaDongEffectScater","MuaDongItemTakeFS","MuaDongVoTanAsset","MuaDongVoTanAudio","MuaDongVoTanDetailHistory","MuaDongVoTanEffect","MuaDongVoTanInfoBarController","MuaDongVoTanItemLichSu","MuaDongVoTanItemSlot","MuaDongVoTanLichSu","MuaDongVoTanPopupFreespin","MuaDongVoTanSpinNormal","MuaDongVoTanSymbol","MuaDongVoTanTopWin","MuaDongVoTanTotalWin","MuaDongVoTanView"]);