window.__require=function t(e,n,o){function i(s,c){if(!n[s]){if(!e[s]){var a=s.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!c&&l)return l(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+s+"'")}s=a}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){return i(e[s][1][t]||t)},u,u.exports,t,e,n,o)}return n[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<o.length;s++)i(o[s]);return i}({AsgardView:[function(t,e,n){"use strict";cc._RF.push(e,"1320a+H4cxEAZFNkw8nJX2C","AsgardView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{a(o.next(t))}catch(e){r(e)}}function c(t){try{a(o.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scritps/DefineTs/EVENT_MANAGER"),l=t("../../../Scritps/DefineTs/PlayerPP"),u=t("../../../Scritps/DefineTs/REQUEST_CODE"),p=t("../../../Scritps/DefineTs/StateReelSlot"),d=t("../../../Scritps/DefineTs/TextDefine"),f=t("../../../Scritps/Game/GAME_TYPE"),h=t("../../../Scritps/Network/ConectManager"),g=t("../../../Scritps/Obs/LbMoneyChange"),y=t("../../../Scritps/Other/LbMonoSpace"),m=t("../../../Scritps/Util"),S=t("../../../Scritps/Windown"),v=t("./AssetAsgard"),b=t("./AudioAsgard"),w=t("./EffectAsgard"),A=t("./InfoBarControllerAsgard"),_=t("./ItemSlotAsgard"),W=t("./ItemSlotAsgardNgang"),I=t("./LichSuAsgard"),O=t("./MutilControlAsgard"),C=t("./SpinNormalAsgard"),E=cc._decorator,M=E.ccclass,R=E.property,k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.asset=null,e.bkgSprite=null,e.itemSlotAsgardNgang=null,e.parentItem=null,e.parentEffect=null,e.parentItemFront=null,e.parentItemActive=null,e.nodeLine=null,e.effect=null,e.labelChipReviceInBox=null,e.lb_totalBet=null,e.lb_FSLeft=null,e.lb_TotalLine=null,e.lb_CountAuto=null,e.infoBar=null,e.muitlCtr=null,e.btnSpin=null,e.parentMask=null,e.nodeChooseAuto=null,e._popupLichSu=null,e.audio=null,e.listNodeDeactive=[],e.nodeBtnPlay=null,e.nodeBtnSeting=null,e.nearWinNoSap=null,e.toggleTurbo=null,e.btnStartAuto=null,e.listColum=[],e.listResult=null,e.listResultConvert=[],e.listConfigBet=[],e.gameType=-1,e.sfs=null,e.roomSFS=null,e.stateReel=0,e.totalLineBet=20,e.curRoomBet=50,e.funEnd=null,e.isShowBtnPlay=!0,e.dataFinish=null,e.sfsObjTest=null,e.sfsObjTest2=null,e.stateSpin=null,e.isDoneStartSpin=!1,e.currentTotalLine=1,e}return i(e,t),e.prototype.onLoad=function(){S.Windown.Asgard=this,cc.log("start dieu thuyen"),this.gameType=f.default.Asgard,this.sfs=h.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(a.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),this.stateReel=p.default.WAITING,this.stateSpin=new C.default,this.sendJoinRoom(),this.activeMask(!1)},e.prototype.sendJoinRoom=function(){var t=h.ConectManager.getIns().getSFSObj();t.putInt("gameType",f.default.Asgard),t.putInt("roomType",-1),t.putInt("mark",-1),h.ConectManager.getIns().sendRequest(u.REQUEST_CODE.GetIdJoinRoom,t)},e.prototype.onDisconnect=function(){cc.log("disconnect"),S.Windown.UIManager.hideLoading(),S.Windown.UIManager.hideLoadingData(),cc.director.loadScene("main")},e.prototype.userExitRoom=function(t){cc.log("user exit room"),"SlotCB"==t.room.groupId&&t.user.isItMe&&cc.director.loadScene("main")},e.prototype.onCreateError=function(){cc.log("creat errr"),S.Windown.UIManager.hideLoading(),cc.director.loadScene("main"),S.Windown.Dialog.showLog(d.TextDefine.ERR_JOIN_ROOM)},e.prototype.onJoinRoom=function(t){cc.log("onJoinRoom "+t.room.groupId);var e=t.room;if("SlotCB"==e.groupId){this.roomSFS=e,S.Windown.UIManager.hideLoadingData();var n=e.getVariable("cf").value;cc.log(n);var o=[],i=JSON.parse(n);for(var r in i){var s=Object.create(null);s.bet=parseInt(r),s.perJp=i[r].percentPot/100,o.push(s)}o.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=o,this.curRoomBet=this.listConfigBet[0].bet,this.lb_totalBet.string=S.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.switchBkgGame=function(t,e){var n=cc.find("Game/BkgGround/FreeSpin",this.node),o=cc.find("Game/Mid/56/32",this.node),i=cc.find("Game/Mid/BkgFs",this.node),r=[];r.push(cc.find("Game/Line/ways",this.node)),r.push.apply(r,cc.find("Game/Line/Lb",this.node).children.map(function(t){return t.children[0]})),r.push.apply(r,cc.find("Game/Line/Lb",this.node).children),r.push(cc.find("Game/Line/Lb",this.node)),cc.log("length list color: "+r.length),t?(n.active=!0,this.muitlCtr.startFreeSpin(e),S.Windown.Asgard.lb_FSLeft.node.parent.active=!0,o.active=!0,i.active=!0,r.forEach(function(t){t.color=(new cc.Color).fromHEX("#FF3C0BE6")})):(n.active=!1,o.active=!1,i.active=!1,S.Windown.Asgard.lb_FSLeft.node.parent.active=!1,this.muitlCtr.endFreeSpin(),r.forEach(function(t){t.color=(new cc.Color).fromHEX("#8ECDD8E6")})),this.lb_TotalLine._updateString()},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),S.Windown.UIManager.hideLoading(),S.Windown.UIManager.hideLoadingData(),S.Windown.Dialog.showLog(d.TextDefine.ERR_JOIN_ROOM),cc.director.loadScene("main")},e.prototype.activeMask=function(t,e){var n=this.parentMask.children;t?e?(n[e].stopAllActions(),n[e].runAction(cc.fadeTo(.3,150))):n.forEach(function(t){t.stopAllActions(),t.runAction(cc.fadeTo(.3,150))}):e?(n[e].stopAllActions(),n[e].runAction(cc.fadeOut(.3))):n.forEach(function(t){t.stopAllActions(),t.runAction(cc.fadeOut(.3))})},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(e){case u.REQUEST_CODE.SpinAsgard:cc.log(S.Windown.SFSObjToJson(n)),this.handleFinish(n);break;case u.REQUEST_CODE.HistoryAsgard:this._popupLichSu&&this._popupLichSu.responseServer(n);break;case u.REQUEST_CODE.HistoryChiTietAsgard:this._popupLichSu&&this._popupLichSu.responseServerChiTiet(n)}},e.prototype.handleWaitSPin=function(){},e.prototype.handleFinish=function(t){var e=this;if(this.isDoneStartSpin){if(t.containsKey(l.PlayerPP.ERR_MESSAGE))return this.stateSpin.handleErrSpin(),S.Windown.Dialog.showLog(t.get(l.PlayerPP.ERR_MESSAGE)),this.activeAllBtn(),void this.onClickResetCountAuto();this.dataFinish=t,S.Windown.MoneyUser.pushDelayMoney(this.gameType,this.dataFinish.get("agUser"),t.get("agWin")),this.truTienBet(this.dataFinish.get("agBet")*this.totalLineBet,this.dataFinish.get("agUser")),this.listResult=t.get("views");var n=t.get("arrBonus");n="[]"==n?"[0,0,0,0,0,0]":n,this.listResultConvert=this.convertResult(this.listResult,JSON.parse(S.Windown.SFSArrToJson(t.get("listItemWin"))),JSON.parse(n)),this.stateSpin.isMaxSpeed,this.stateReel=p.default.CAN_STOP;var o=this.stateSpin.isMaxSpeed?0:.5;this.scheduleOnce(this.funEnd=function(){e.stateSpin.onEnd()},o)}else this.scheduleOnce(function(){e.handleFinish(t)},.05)},e.prototype.onDestroy=function(){S.Windown.Asgard=null,this.dataFinish&&(S.Windown.MoneyUser.removeDelay(this.gameType),this.dataFinish=null),S.Windown.MoneyUser.endGameMOney(this.gameType),cc.systemEvent.removeAll(this),this.roomSFS=null,this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),S.Windown.UIManager.changeRotation(),this.clearAllMakeDelay()},e.prototype.start=function(){var t=this;this.setupView(),this.initItem(),this.switchBkgGame(!1),cc.sys.isNative||this.scheduleOnce(function(){return s(t,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,S.Windown.loadBundle(f.default.Asgard.toString())];case 1:return t.sent().loadDir("Spine",function(){}),[2]}})})},3)},e.prototype.initItem=function(){for(var t,e=this.getRdViewFirtGame(),n=this.getRdViewForLoop(0),o=cc.instantiate(this.parentItem.children[0]),i=o.width,r=0;r<7;r++){var s=n[r].pop();e[r].unshift(s),e[r].push(s);var c=null;if(r>0){var a=this.parentItem.children[r];null==a&&((a=cc.instantiate(o)).parent=this.parentItem),(c=a.getComponent(_.default)).node.x=i*(r-1)+i/2-6*i/2,c.node.y=0}else c=this.itemSlotAsgardNgang;c.index=r,this.listColum.push(c),n[r].length>0&&(t=c.listResultRandomCache).unshift.apply(t,n[r]),c.setResultFirtGame(e[r])}},e.prototype.setupView=function(){var t=cc.find("Game",this.node);if(cc.sys.isMobile)t.angle=90,this.bkgSprite.angle=90,this.bkgSprite.scale=1280/720;else{var e=cc.winSize.height/1280;t.angle=0,t.scale=e,this.bkgSprite.angle=0;var n=this.bkgSprite.addComponent(cc.Widget);n.left=0,n.right=0,n.bottom=0,n.top=0}S.Windown.UIManager.changeRotation(!0)},e.prototype.sendClickSpin=function(){if(null!=this.sfsObjTest)return h.ConectManager.getIns().sendRequest("testSpin",this.sfsObjTest,this.roomSFS),this.sfsObjTest=null,void cc.log("send test ne");if(null!=this.sfsObjTest2)return h.ConectManager.getIns().sendRequest("testSpin2",this.sfsObjTest2,this.roomSFS),this.sfsObjTest2=null,void cc.log("send test ne");var t=h.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),h.ConectManager.getIns().sendRequest(u.REQUEST_CODE.SpinAsgard,t,this.roomSFS)},e.prototype.onClickBtnSpin=function(){return s(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),this.stateReel!=p.default.WAITING?[3,2]:(this.audio.playEffect(this.audio.spinBtn),this.stateReel=p.default.RUN,this.setStateEffBtnSpin(),this.offAllBtn(),this.infoBar.reset(),this.isDoneStartSpin=!1,this.sendClickSpin(),[4,S.Windown.Asgard.getPromise(this.stateSpin.onStart())]);case 1:return e.sent(),this.isDoneStartSpin=!0,[3,3];case 2:this.stateReel==p.default.CAN_STOP?this.stateSpin.isMaxSpeed||(cc.log("nhay vao forestop ne"),this.stateReel=p.default.RUN,this.unschedule(this.funEnd),this.stateSpin.onForceEnd()):this.stateReel==p.default.STOP||this.stateReel==p.default.SHOW_EFFECT&&(this.stateSpin.resetForNextNextSpin(),this.onClickBtnSpin()),e.label=3;case 3:return[3,5];case 4:return t=e.sent(),m.Util.ThrowErrProsime(t),[3,5];case 5:return[2]}})})},e.prototype.showContentTip=function(){},e.prototype.updateNewTotalLine=function(t){this.currentTotalLine*=t,this.lb_TotalLine.string=this.currentTotalLine.toString()},e.prototype.resetForNewGame=function(){this.stateReel=p.default.WAITING,this.setStateEffBtnSpin()},e.prototype.resetLbTotalLine=function(){this.currentTotalLine=1,this.lb_TotalLine.string="..."},e.prototype.setStateEffBtnSpin=function(){var t=cc.find("sb_arrow",this.btnSpin),e=cc.find("sb_arrow_blur",this.btnSpin);if(this.stateReel!=p.default.STOP){var n=cc.Material.getBuiltinMaterial("2d-sprite");t.getComponent(cc.Sprite).setMaterial(0,n)}if(this.stateReel==p.default.WAITING||this.stateReel==p.default.SHOW_EFFECT)e.active=!1,t.active=!0,t.stopAllActions(),t.runAction(cc.repeatForever(cc.rotateBy(3,-360)));else if(this.stateReel==p.default.RUN)this.btnSpin.getComponent(cc.Animation).play("Start"),e.active=!0,e.stopAllActions(),e.runAction(cc.repeatForever(cc.rotateBy(.3,-360))),t.active=!1,this.infoBar.showRdContent();else if(this.stateReel==p.default.STOP){t.active=!0,t.stopAllActions(),e.active=!1;var o=cc.Material.getBuiltinMaterial("2d-gray-sprite");t.getComponent(cc.Sprite).setMaterial(0,o)}},e.prototype.setLbFreeSpinLeft=function(t){var e=this.lb_FSLeft.node.parent;this.lb_FSLeft.string=t.toString(),t<1?(cc.find("last_spin",e).active=!0,cc.find("remaining_spin",e).active=!1,this.lb_FSLeft.node.active=!1):(cc.find("last_spin",e).active=!1,cc.find("remaining_spin",e).active=!0,this.lb_FSLeft.node.active=!0)},e.prototype.setCountAuto=function(t){this.lb_CountAuto.node.parent.active=!(t<1),this.lb_CountAuto.string=t.toString()},e.prototype.showMoneyAllWin=function(t){cc.log("money win: "+t),this.labelChipReviceInBox.setMoney(t),S.Windown.MoneyUser.removeDelay(this.gameType)},e.prototype.offLbFree=function(){this.lb_FSLeft.node.parent.active=!1},e.prototype.onClickSendObjTest=function(){var t=h.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),t.putUtfString("arr",'[[{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":12},{"s":1,"t":0,"i":3},{"s":1,"t":0,"i":1}],\n            [{"s":2,"t":1,"i":0},{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":11},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":0}],\n            [{"s":1,"t":0,"i":12},{"s":2,"t":1,"i":0},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":11}],\n            [{"s":1,"t":0,"i":12},{"s":3,"t":0,"i":0},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":12}],\n            [{"s":4,"t":0,"i":1},{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":4}],\n            [{"s":1,"t":0,"i":6},{"s":1,"t":0,"i":6},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":8},{"s":1,"t":0,"i":2}]]'),this.sfsObjTest=t,this.onClickBtnSpin(),cc.log("onClickSendObjTest")},e.prototype.onClickSendFixData=function(){var t=h.ConectManager.getIns().getSFSObj();t.putUtfString("data",'{"agWin":3100,"bonusSpin":[1,2,3,4],"numFreeSpin":0,"listItemWin":[{"lsIdItem":"[7,3]","lsstack":"[2,2]","lsAgWin":"[1600,400]"},{"lsIdItem":"[0]","lsstack":"[2]","lsAgWin":"[100]"},{"lsIdItem":"[1]","lsstack":"[4]","lsAgWin":"[300]"}],"agUser":85520,"Scarter4":false,"agBet":50,"views":[[[{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":7},{"s":1,"t":0,"i":3},{"s":1,"t":0,"i":5},{"s":1,"t":0,"i":4}],[{"s":1,"t":0,"i":7},{"s":2,"t":0,"i":3},{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":7},{"s":1,"t":0,"i":4}],[{"s":1,"t":0,"i":9},{"s":1,"t":0,"i":7},{"s":1,"t":0,"i":6},{"s":1,"t":0,"i":3},{"s":1,"t":0,"i":7},{"s":1,"t":0,"i":3}],[{"s":3,"t":0,"i":1},{"s":2,"t":0,"i":5},{"s":1,"t":0,"i":0}],[{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":4},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":6},{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":10}],[{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":3},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":10}]],[[{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":5},{"s":1,"t":0,"i":4},{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":0}],[{"s":1,"t":0,"i":1},{"s":2,"t":0,"i":0},{"s":1,"t":0,"i":5},{"s":1,"t":0,"i":10},{"s":1,"t":0,"i":4}],[{"s":1,"t":0,"i":9},{"s":1,"t":0,"i":6},{"s":1,"t":0,"i":0},{"s":2,"t":1,"i":9},{"s":1,"t":0,"i":0}],[{"s":3,"t":0,"i":1},{"s":2,"t":0,"i":5},{"s":1,"t":0,"i":10}],[{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":4},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":6},{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":4}],[{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":3},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":10}]],[[{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":5},{"s":1,"t":0,"i":4},{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":2}],[{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":5},{"s":1,"t":0,"i":10},{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":8},{"s":1,"t":0,"i":4}],[{"s":1,"t":0,"i":9},{"s":1,"t":0,"i":6},{"s":2,"t":1,"i":9},{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":10}],[{"s":3,"t":0,"i":1},{"s":2,"t":0,"i":5},{"s":1,"t":0,"i":4}],[{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":4},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":6},{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":5}],[{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":3},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":10}]],[[{"s":1,"t":0,"i":5},{"s":1,"t":0,"i":4},{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":3},{"s":1,"t":0,"i":1}],[{"s":1,"t":0,"i":5},{"s":1,"t":0,"i":10},{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":8},{"s":1,"t":0,"i":9},{"s":1,"t":0,"i":4}],[{"s":1,"t":0,"i":9},{"s":1,"t":0,"i":6},{"s":2,"t":1,"i":9},{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":10}],[{"s":2,"t":0,"i":5},{"s":3,"t":0,"i":2},{"s":1,"t":0,"i":4}],[{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":4},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":6},{"s":1,"t":0,"i":4},{"s":1,"t":0,"i":5}],[{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":3},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":10}]]]}\n'),this.sfsObjTest2=t,this.onClickBtnSpin()},e.prototype.onClickTest=function(){return s(this,void 0,void 0,function(){var t;return c(this,function(){return(t=h.ConectManager.getIns().getSFSObj()).putInt("bet",this.curRoomBet),t.putUtfString("arr",'[[{"s":1,"t":0,"i":4},{"s":1,"t":0,"i":6},{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":7},{"s":1,"t":0,"i":1}],[{"s":1,"t":0,"i":12},{"s":1,"t":0,"i":3},{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":0}],[{"s":1,"t":0,"i":8},{"s":3,"t":1,"i":2},{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":2}],[{"s":3,"t":1,"i":0},{"s":1,"t":0,"i":6},{"s":1,"t":0,"i":5},{"s":1,"t":0,"i":9}],[{"s":1,"t":0,"i":12},{"s":1,"t":0,"i":3},{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":9},{"s":1,"t":0,"i":3}],[{"s":1,"t":0,"i":7},{"s":1,"t":0,"i":5},{"s":1,"t":0,"i":5},{"s":1,"t":0,"i":3},{"s":1,"t":0,"i":7}]]'),this.sfsObjTest=t,this.onClickBtnSpin(),[2]})})},e.prototype.onClickResetCountAuto=function(){this.stateSpin.countAutoSpin=0,this.lb_CountAuto.node.parent.active=!1,S.Windown.Asgard.audio.playClick()},e.prototype.onClickItemAutoSpin=function(t){S.Windown.Asgard.audio.playClick(),this.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer).allowSwitchOff=!1;var e=t.node.name,n=Number(e);this.stateSpin.countAutoSpin=n,this.btnStartAuto.interactable=!0,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#FF8E26")},e.prototype.onClickStartAutoSpin=function(){this.onClickBtnSpin(),this.onClickCloseListAuto(),S.Windown.Asgard.stateSpin.countAutoSpin>0&&S.Windown.Asgard.setCountAuto(S.Windown.Asgard.stateSpin.countAutoSpin)},e.prototype.onClickShowListAuto=function(){S.Windown.Asgard.audio.playClick(),this.nodeChooseAuto.active=!0,this.nodeChooseAuto.opacity=0,this.nodeChooseAuto.runAction(cc.fadeIn(.3)),this.btnStartAuto.interactable=!1,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")},e.prototype.onClickCloseListAuto=function(){var t=this;S.Windown.Asgard.audio.playClick(),this.nodeChooseAuto.stopAllActions(),this.nodeChooseAuto.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){var e=t.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer);e.allowSwitchOff=!0,e.toggleItems.forEach(function(t){t.isChecked&&t.uncheck()}),t.nodeChooseAuto.active=!1,t.btnStartAuto.interactable=!1,t.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")})))},e.prototype.convertResult=function(t,e,n){var o=this,i=[];return S.Windown.foreachSFSArray(t,function(t,r){var s=Object.create(null);s.listSFSObj=[[]];for(var c=0,a=0;a<4;a++)c+=n[r][a];s.mutil=cc.misc.clampf(c,1,9999999),s.agWin=0,s.listReelMul=n[r],S.Windown.foreachSFSArray(t,function(n,o){var i=[];if(S.Windown.foreachSFSArray(n,function(t,e){e==n.size()-1&&o>0&&o<5?s.listSFSObj[0].push(t):i.push(t)}),i.reverse(),s.listSFSObj.push(i),o==t.size()-1){var r=e.shift();r&&(r.lsIdItem=JSON.parse(r.lsIdItem),r.lsstack=JSON.parse(r.lsstack),r.lsAgWin=JSON.parse(r.lsAgWin),r.lsAgWin.length>0&&(s.listItemWin=r,s.isNoSap=!0),r.lsAgWin.forEach(function(t){s.agWin+=t}))}}),s.countScater=o.getCountScater(s.listSFSObj),s.listSFSObj[0].reverse(),i.push(s)}),i},e.prototype.setResult=function(){},e.prototype.getListActiveScaster=function(t){for(var e=[],n=0,o=0;o<t.length;o++)n>2?e.push(!0):e.push(!1),t[o].forEach(function(t){12==t.getInt("i")&&n++});return e},e.prototype.onClickChangeBet=function(t,e){if(S.Windown.Asgard.audio.playClick(),this.listConfigBet.length<1)S.Windown.Dialog.showLog(d.TextDefine.Error);else{var n=-1;for(var o in this.listConfigBet)if(this.listConfigBet[o].bet==this.curRoomBet){n=parseInt(o);break}0==e?n--:n++,n<0&&(n=this.listConfigBet.length-1),n>this.listConfigBet.length-1&&(n=0),this.curRoomBet=this.listConfigBet[n].bet,this.lb_totalBet.string=S.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.onClickCachChoi=function(){return s(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return S.Windown.Asgard.audio.playClick(),S.Windown.UIManager.showLoading(),[4,S.Windown.loadRes(this.gameType.toString(),"Frefabs/CachChoi",cc.Prefab)];case 1:return t=e.sent(),cc.instantiate(t).parent=S.Windown.Asgard.node.getChildByName("Game"),S.Windown.UIManager.hideLoading(),[2]}})})},e.prototype.onClickBackToLobby=function(){S.Windown.Asgard.audio.playClick(),this.roomSFS?(cc.log("Vao day"),h.ConectManager.getIns().sendLeaveRoom(this.roomSFS)):cc.director.loadScene("main")},e.prototype.getRdViewForLoop=function(t){for(var e,n=[],o=0,i=7-t;o<i;o++){var r=t>1&&6!=t&&S.Windown.RandomNumber(0,100)<20?S.Windown.RandomNumber(3,5):S.Windown.RandomNumber(1,3);n.push([{i:(void 0,e=S.Windown.RandomNumber(0,100),e<5?12:e<10?11:S.Windown.RandomNumber(0,11)),s:r,t:r>1&&S.Windown.RandomNumber(0,100)<30?1:0}])}var s=0;for(var c in n.forEach(function(t){var e=t[0].s||1;e>s&&(s=e)}),n.forEach(function(t){for(var e=t[0].s||1,n=0,o=s-e;n<o;n++)t.unshift({i:S.Windown.RandomNumber(0,12),t:0,s:1})}),n)n[c]=n[c].map(function(t){return S.Windown.JsonToSFSObj(JSON.stringify(t))});return n},e.prototype.getRdViewFirtGame=function(){for(var t,e,n=[],o=0,i=function(){var t=S.Windown.RandomNumber(0,100);return t<10?4:t<30?3:2},r=0;r<7;r++){for(var s=[],c=0;c<(0==r?4:5);c++)(l=Object.create(null)).i=(t=r,void 0,(e=S.Windown.RandomNumber(0,100))<3&&o<3?(o++,12):e<10&&t>0?11:S.Windown.RandomNumber(0,11)),l.t=0,l.s=1,s.push(l);n.push(s)}var a=function(t,e,n,o){if(!(n+o<=5))return!1;for(var i=n;i<o+n;i++){var r=t[e][i];if(1!=r.s||12==r.i)return!1}return!0};for(n.forEach(function(t,e){t.forEach(function(t,o){if(e>1&&e<6&&12!=t.i&&1==t.s&&S.Windown.RandomNumber(0,100)<30){var r=i();if(a(n,e,o,r))for(var s=t.i,c=S.Windown.RandomNumber(0,100)<50?0:1,l=o;l<r+o;l++)n[e][l].i=s,n[e][l].s=r,n[e][l].t=c}})}),r=0;r<n.length;r++)for(s=n[r],c=0;c<s.length;c++){var l;if((l=s[c])&&1!=l.s)for(var u=c+1,p=c+1+l.s-1;u<p;u++)s[u]=null}for(var d in n)n[d]=n[d].filter(function(t){return null!=t});for(var d in n)n[d]=n[d].map(function(t){return S.Windown.JsonToSFSObj(JSON.stringify(t))});return n},e.prototype.initRandomResult=function(){for(var t=0,e=0,n=this.listColum;e<n.length;e++){var o=n[e];o.stateWhel!=p.default.RUN&&(t=o.index+1)}var i=this.getRdViewForLoop(t);this.listColum.forEach(function(e,n){var o;e.index>=t&&(o=e.listResultRandomCache).unshift.apply(o,i[n-t])})},e.prototype.onClickTurbo=function(){S.Windown.Asgard.audio.playClick();var t=this.toggleTurbo.isChecked;this.toggleTurbo.node.children[1].active=!t,this.stateSpin.isMaxSpeed=t,t?S.Windown.UIManager.showAlertMini("\u0110\xe3 b\u1eadt quay nhanh"):S.Windown.UIManager.showAlertMini("\u0110\xe3 t\u1eaft quay nhanh")},e.prototype.onClickSeting=function(){if(S.Windown.Asgard.audio.playClick(),cc.log("click onClickSeting"),this.isShowBtnPlay=!this.isShowBtnPlay,this.isShowBtnPlay)t=cc.v2(0,-750),this.nodeBtnPlay.runAction(cc.fadeIn(.4)),this.nodeBtnSeting.runAction(cc.spawn(cc.fadeOut(.3),cc.moveTo(.3,t)));else{this.nodeBtnPlay.stopAllActions(),this.nodeBtnSeting.stopAllActions();var t=cc.v2(0,-525.279);this.nodeBtnPlay.runAction(cc.fadeOut(.3)),this.nodeBtnSeting.opacity=0,this.nodeBtnSeting.runAction(cc.spawn(cc.fadeIn(.4),cc.moveTo(.4,t)))}},e.prototype.getCountScater=function(t){var e=0;return t.forEach(function(t){t.forEach(function(t){12==t.getInt("i")&&e++})}),e},e.prototype.getMakeDelay=function(t){return S.Windown.CpPromise.getDelay(t,this)},e.prototype.getPromise=function(t){return S.Windown.CpPromise.getDelayByPromise(t,this).prosime},e.prototype.getPromiseAll=function(t){return S.Windown.CpPromise.getDelayPromiseAll(t,this).prosime},e.prototype.clearAllMakeDelay=function(){S.Windown.CpPromise.targetOff(this)},e.prototype.activeAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!0,t.node.children.forEach(function(t){t.color=cc.Color.fromHEX(new cc.Color,"#FFD500")})})},e.prototype.offAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!1,t.node.children.forEach(function(t){t.color=cc.Color.fromHEX(new cc.Color,"#999999")})})},e.prototype.truTienBet=function(t,e){0!=t&&S.Windown.MoneyUser.subMoney(t,e)},e.prototype.effectShake=function(){var t=this;this.unschedule(this.shake),this.schedule(this.shake=function(){t.camera.setPosition(S.Windown.RandomNumber(-3,4),S.Windown.RandomNumber(-3,4))},0,S.Windown.RandomNumber(10,15))},e.prototype.onClickLichSu=function(){return s(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return S.Windown.Asgard.audio.playClick(),S.Windown.UIManager.showLoading(),[4,S.Windown.loadRes(this.gameType.toString(),"Frefabs/LichSu",cc.Prefab)];case 1:return t=e.sent(),this._popupLichSu=cc.instantiate(t).getComponent(I.default),this._popupLichSu.node.parent=S.Windown.Asgard.node.getChildByName("Game"),this._popupLichSu.show(),[2]}})})},e.prototype.update=function(){},r([R(cc.Node)],e.prototype,"camera",void 0),r([R(v.default)],e.prototype,"asset",void 0),r([R(cc.Node)],e.prototype,"bkgSprite",void 0),r([R(W.default)],e.prototype,"itemSlotAsgardNgang",void 0),r([R(cc.Node)],e.prototype,"parentItem",void 0),r([R(cc.Node)],e.prototype,"parentEffect",void 0),r([R(cc.Node)],e.prototype,"parentItemFront",void 0),r([R(cc.Node)],e.prototype,"parentItemActive",void 0),r([R(cc.Node)],e.prototype,"nodeLine",void 0),r([R(w.default)],e.prototype,"effect",void 0),r([R(g.default)],e.prototype,"labelChipReviceInBox",void 0),r([R(cc.Label)],e.prototype,"lb_totalBet",void 0),r([R(y.default)],e.prototype,"lb_FSLeft",void 0),r([R(y.default)],e.prototype,"lb_TotalLine",void 0),r([R(y.default)],e.prototype,"lb_CountAuto",void 0),r([R(A.default)],e.prototype,"infoBar",void 0),r([R(O.default)],e.prototype,"muitlCtr",void 0),r([R(cc.Node)],e.prototype,"btnSpin",void 0),r([R(cc.Node)],e.prototype,"parentMask",void 0),r([R(cc.Node)],e.prototype,"nodeChooseAuto",void 0),r([R(b.default)],e.prototype,"audio",void 0),r([R([cc.Button])],e.prototype,"listNodeDeactive",void 0),r([R(cc.Node)],e.prototype,"nodeBtnPlay",void 0),r([R(cc.Node)],e.prototype,"nodeBtnSeting",void 0),r([R(cc.Node)],e.prototype,"nearWinNoSap",void 0),r([R(cc.Toggle)],e.prototype,"toggleTurbo",void 0),r([R(cc.Button)],e.prototype,"btnStartAuto",void 0),r([M],e)}(cc.Component);n.default=k,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":void 0,"../../../Scritps/DefineTs/PlayerPP":void 0,"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/DefineTs/StateReelSlot":void 0,"../../../Scritps/DefineTs/TextDefine":void 0,"../../../Scritps/Game/GAME_TYPE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Obs/LbMoneyChange":void 0,"../../../Scritps/Other/LbMonoSpace":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./AssetAsgard":"AssetAsgard","./AudioAsgard":"AudioAsgard","./EffectAsgard":"EffectAsgard","./InfoBarControllerAsgard":"InfoBarControllerAsgard","./ItemSlotAsgard":"ItemSlotAsgard","./ItemSlotAsgardNgang":"ItemSlotAsgardNgang","./LichSuAsgard":"LichSuAsgard","./MutilControlAsgard":"MutilControlAsgard","./SpinNormalAsgard":"SpinNormalAsgard"}],AssetAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"cfca70L5H9GJZOWbBUvZX2p","AssetAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./SymbolAsgard"),c=cc._decorator,a=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atlasSymbol=null,e.atlasSpecial=null,e.atlasSymbolBlur=null,e.atlasSpecialBlur=null,e.listSpine=[],e.listSpineWild=[],e.itemSymbolAsgard=null,e.itemShuffToNormal=null,e.bkgTakeSymbol=null,e.listEfTakeSymbol=[],e.effRemoveItem=null,e.nodeAddScater=null,e.nearFS=null,e.coin=null,e.poolSymbol=new cc.NodePool(s.default),e.poolEffNearWin=new cc.NodePool,e.poolWinSymbol=new cc.NodePool,e.poolSmoke=new cc.NodePool,e}return i(e,t),e.prototype.getSymbol=function(){var t=null;return(t=this.poolSymbol.size()>0?this.poolSymbol.get():cc.instantiate(this.itemSymbolAsgard)).active=!0,t},e.prototype.putSymbol=function(t){this.poolSymbol.put(t)},e.prototype.getSfItemSymbol=function(t,e,n){return 12==t?n?this.getAtlasBlur(t).getSpriteFrame(t+"_"+e):this.getAtlas(t).getSpriteFrame(t+"_"+e):n?this.getAtlasBlur(t).getSpriteFrame(""+t):this.getAtlas(t).getSpriteFrame(""+t)},e.prototype.getSfKhungSymbol=function(t,e,n){return n?this.atlasSymbolBlur.getSpriteFrame("k_"+t+"_"+e):this.atlasSymbol.getSpriteFrame("k_"+t+"_"+e)},e.prototype.getSfBkg=function(t,e,n){return t<6&&(t=1),n?this.getAtlasBlur(t).getSpriteFrame("bkg_"+t+"_"+e):this.getAtlas(t).getSpriteFrame("bkg_"+t+"_"+e)},e.prototype.getSpine=function(t,e){return 12!=t?this.listSpine[t-1]:this.listSpineWild[e-1]},e.prototype.getAtlas=function(t){return t<12?this.atlasSymbol:this.atlasSpecial},e.prototype.getAtlasBlur=function(t){return t<12?this.atlasSymbolBlur:this.atlasSpecialBlur},e.prototype.onDestroy=function(){this.poolSymbol.clear(),this.poolEffNearWin.clear(),this.poolWinSymbol.clear(),this.poolSmoke.clear()},r([l(cc.SpriteAtlas)],e.prototype,"atlasSymbol",void 0),r([l(cc.SpriteAtlas)],e.prototype,"atlasSpecial",void 0),r([l(cc.SpriteAtlas)],e.prototype,"atlasSymbolBlur",void 0),r([l(cc.SpriteAtlas)],e.prototype,"atlasSpecialBlur",void 0),r([l([sp.SkeletonData])],e.prototype,"listSpine",void 0),r([l([sp.SkeletonData])],e.prototype,"listSpineWild",void 0),r([l(cc.Prefab)],e.prototype,"itemSymbolAsgard",void 0),r([l(cc.Prefab)],e.prototype,"itemShuffToNormal",void 0),r([l(cc.Prefab)],e.prototype,"bkgTakeSymbol",void 0),r([l([cc.Prefab])],e.prototype,"listEfTakeSymbol",void 0),r([l(cc.Prefab)],e.prototype,"effRemoveItem",void 0),r([l(cc.Prefab)],e.prototype,"nodeAddScater",void 0),r([l(cc.Prefab)],e.prototype,"nearFS",void 0),r([l(cc.Prefab)],e.prototype,"coin",void 0),r([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./SymbolAsgard":"SymbolAsgard"}],AudioAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"3d31eqIRW1FDbZS58CxRkZo","AudioAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Parent/AudioManager"),c=cc._decorator,a=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click=null,e.bgm_fs=null,e.bgmBigwinEnd=null,e.bgmBigwinEndCoins=null,e.bgmBigwinMain=null,e.bgmTotalwinEnd=null,e.bgmTotalwinMain=null,e.fastspinEnd=null,e.fastspinStart=null,e.featureBuyBtn=null,e.featureBuyCancel=null,e.featureBuyHover=null,e.featureBuyStart=null,e.fsIntro=null,e.fsSpin=null,e.fsTrans=null,e.fsWonRemainingIncrease=null,e.fsWonTitle=null,e.heartbeat=null,e.heartbeatNoise=null,e.heartbeatSlowdrop=null,e.list_item_click=null,e.menu_icon_press=null,e.multiCombine=null,e.prizeInfobarTotalwin=null,e.prizeInfobarTotalwinMedEnd=null,e.prizeInfobarTotalwinMedMain=null,e.prizeInfobarUpgrade=null,e.prizeSmallwin=null,e.prizeSmallwinMultiplied=null,e.rouletteEnd=null,e.rouletteLoop=null,e.rouletteStart=null,e.scatterWinHighligh=null,e.slider_effect=null,e.spinActiveLoop=null,e.spinBtn=null,e.spinStop=null,e.spinStopQuick=null,e.symCollapse=null,e.symScatter=null,e.symShrink=null,e.symWild=null,e.uiCollect=null,e.uiInfo=null,e.uiStart=null,e.listSound=[],e.objKey={},e}return i(e,t),e.prototype.onChangeMusic=function(e){t.prototype.onChangeMusic.call(this,e),this.isActiveSound=e},e.prototype.playClick=function(){this.playEffect(this.click)},e.prototype.playMusic=function(){this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.5))},e.prototype.playIndexTakeLine=function(){},e.prototype.playSmalWin=function(){},e.prototype.playBkgfs=function(){this.stopMusic(),this.playEffect(this.bgm_fs,.6,!0)},e.prototype.stopBkgFs=function(){this.stopEffect(this.bgm_fs,!0),this.playMusic()},e.prototype.playSymCollapse=function(){this.playEffect(this.symCollapse)},e.prototype.playStopAudio=function(){var t=this.spinStop;this.playEffect(t)},r([l(cc.AudioClip)],e.prototype,"click",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_fs",void 0),r([l(cc.AudioClip)],e.prototype,"bgmBigwinEnd",void 0),r([l(cc.AudioClip)],e.prototype,"bgmBigwinEndCoins",void 0),r([l(cc.AudioClip)],e.prototype,"bgmBigwinMain",void 0),r([l(cc.AudioClip)],e.prototype,"bgmTotalwinEnd",void 0),r([l(cc.AudioClip)],e.prototype,"bgmTotalwinMain",void 0),r([l(cc.AudioClip)],e.prototype,"fastspinEnd",void 0),r([l(cc.AudioClip)],e.prototype,"fastspinStart",void 0),r([l(cc.AudioClip)],e.prototype,"featureBuyBtn",void 0),r([l(cc.AudioClip)],e.prototype,"featureBuyCancel",void 0),r([l(cc.AudioClip)],e.prototype,"featureBuyHover",void 0),r([l(cc.AudioClip)],e.prototype,"featureBuyStart",void 0),r([l(cc.AudioClip)],e.prototype,"fsIntro",void 0),r([l(cc.AudioClip)],e.prototype,"fsSpin",void 0),r([l(cc.AudioClip)],e.prototype,"fsTrans",void 0),r([l(cc.AudioClip)],e.prototype,"fsWonRemainingIncrease",void 0),r([l(cc.AudioClip)],e.prototype,"fsWonTitle",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeat",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeatNoise",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeatSlowdrop",void 0),r([l(cc.AudioClip)],e.prototype,"list_item_click",void 0),r([l(cc.AudioClip)],e.prototype,"menu_icon_press",void 0),r([l(cc.AudioClip)],e.prototype,"multiCombine",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwin",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwinMedEnd",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwinMedMain",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarUpgrade",void 0),r([l(cc.AudioClip)],e.prototype,"prizeSmallwin",void 0),r([l(cc.AudioClip)],e.prototype,"prizeSmallwinMultiplied",void 0),r([l(cc.AudioClip)],e.prototype,"rouletteEnd",void 0),r([l(cc.AudioClip)],e.prototype,"rouletteLoop",void 0),r([l(cc.AudioClip)],e.prototype,"rouletteStart",void 0),r([l(cc.AudioClip)],e.prototype,"scatterWinHighligh",void 0),r([l(cc.AudioClip)],e.prototype,"slider_effect",void 0),r([l(cc.AudioClip)],e.prototype,"spinActiveLoop",void 0),r([l(cc.AudioClip)],e.prototype,"spinBtn",void 0),r([l(cc.AudioClip)],e.prototype,"spinStop",void 0),r([l(cc.AudioClip)],e.prototype,"spinStopQuick",void 0),r([l(cc.AudioClip)],e.prototype,"symCollapse",void 0),r([l(cc.AudioClip)],e.prototype,"symScatter",void 0),r([l(cc.AudioClip)],e.prototype,"symShrink",void 0),r([l(cc.AudioClip)],e.prototype,"symWild",void 0),r([l(cc.AudioClip)],e.prototype,"uiCollect",void 0),r([l(cc.AudioClip)],e.prototype,"uiInfo",void 0),r([l(cc.AudioClip)],e.prototype,"uiStart",void 0),r([a],e)}(s.default);n.default=u,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":void 0}],BaseItemMutilAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"97b1ap7EDFPWYkC1UAT0nhH","BaseItemMutilAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Other/LbMonoSpace"),c=cc._decorator,a=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mutilMng=null,e.mutil=1,e.lbMutil=null,e}return i(e,t),r([l(s.default)],e.prototype,"lbMutil",void 0),r([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":void 0}],BigwinAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"ede81s5ZHNHtKcf30/GR7+E","BigwinAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{a(o.next(t))}catch(e){r(e)}}function c(t){try{a(o.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../../Scritps/Game/GAME_TYPE"),u=t("../../../../Scritps/Network/ConectManager"),p=t("../../../../Scritps/Other/LbMonoSpace"),d=t("../../../../Scritps/Util"),f=t("../../../../Scritps/Windown"),h=cc._decorator,g=h.ccclass,y=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lb_Money=null,e.btnFast=null,e.listPromiseIgro=[],e.isClickBtnFast=!1,e.bigWin=null,e.megaWin=null,e.superWin=null,e.animTake1=null,e.animTake2=null,e.listColor=[],e}return i(e,t),e.prototype.init=function(t,e){var n=this;return this.bigWin.node.active=!1,this.megaWin.node.active=!1,this.superWin.node.active=!1,new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s,p,h,g,y,m=this;return c(this,function(c){switch(c.label){case 0:return c.trys.push([0,7,,8]),this.btnFast.interactable=!1,this.scheduleOnce(function(){m.btnFast.interactable=!0},1),this.lb_Money.node.active=!0,this.node.opacity=255,this.lb_Money.resetLb(),4,n=e<30?4:e<50?8:12,this.lb_Money.time=n,this.lb_Money.setMoney(t),this.animTake1.play("BigWin2"),this.animTake2.play("BigWin3"),this.animTake1.node.color=this.listColor[0],this.animTake2.node.color=this.listColor[0],this.bigWin.node.active=!0,this.bigWin.play("BigWin1"),this.bigWin.playAdditive("BigWinLoop1"),f.Windown.Asgard.audio.playEffect(f.Windown.Asgard.audio.bgmBigwinMain),i=f.Windown.Asgard.getMakeDelay(4),this.listPromiseIgro.push(i),[4,i.prosime];case 1:return c.sent(),e>=30?(this.bigWin.node.active=!1,this.megaWin.node.active=!0,this.megaWin.play("MegaWin3"),this.megaWin.playAdditive("MegaWinLoop2"),f.Windown.Asgard.audio.playEffect(f.Windown.Asgard.audio.bgmBigwinEnd),this.animTake1.play("BigWin2"),this.animTake2.play("BigWin3"),this.animTake1.node.color=this.listColor[1],this.animTake2.node.color=this.listColor[1],r=cc.find("ParentCoint",this.megaWin.node),this.megaWin.schedule(function(){if(f.Windown.RandomNumber(0,100)<30){var t=cc.instantiate(f.Windown.Asgard.asset.coin);t.parent=r,t.getComponent(cc.Animation).play("Coind").time=f.Windown.RandomNumber(0,100),t.setPosition(f.Windown.RandomNumber(-350,350),640),t.runAction(cc.sequence(cc.moveBy(1.5,0,-1280),cc.callFunc(function(){t.destroy()})))}},.016),this.isClickBtnFast?[3,3]:(p=f.Windown.Asgard.getMakeDelay(4),this.listPromiseIgro.push(p),[4,p.prosime])):[3,3];case 2:c.sent(),c.label=3;case 3:return e>=50?(this.megaWin.node.active=!1,this.superWin.node.active=!0,this.superWin.play("SuperWin1"),this.superWin.playAdditive("SuperWinLoop2"),f.Windown.Asgard.audio.playEffect(f.Windown.Asgard.audio.bgmBigwinEnd),this.animTake1.play("BigWin2"),this.animTake2.play("BigWin3"),this.animTake1.node.color=this.listColor[2],this.animTake2.node.color=this.listColor[2],s=cc.find("ParentCoint",this.superWin.node),this.superWin.schedule(function(){if(f.Windown.RandomNumber(0,100)<60){var t=cc.instantiate(f.Windown.Asgard.asset.coin);t.parent=s,t.getComponent(cc.Animation).play("Coind").time=f.Windown.RandomNumber(0,100),t.setPosition(f.Windown.RandomNumber(-350,350),640),t.runAction(cc.sequence(cc.moveBy(1.5,0,-1280),cc.callFunc(function(){t.destroy()})))}},.016),this.isClickBtnFast?[3,5]:(p=f.Windown.Asgard.getMakeDelay(4),this.listPromiseIgro.push(p),[4,p.prosime])):[3,5];case 4:c.sent(),c.label=5;case 5:return f.Windown.Asgard.audio.stopEffect(f.Windown.Asgard.audio.bgmBigwinMain),f.Windown.Asgard.audio.playEffect(f.Windown.Asgard.audio.bgmBigwinEnd),f.Windown.Asgard.dataFinish.get("agWin")>1e4&&((h=u.ConectManager.getIns().getSFSObj()).putInt("gt",l.default.Asgard),h.putInt("mt",f.Windown.Asgard.dataFinish.get("agWin")),h.putUtfString("nn",f.Windown.User.nickName),h.putUtfString("dt","bw"),u.ConectManager.getIns().sendRequest(a.REQUEST_CODE.AddBigWin,h)),this.animTake1.play("BigWin2"),this.animTake2.play("BigWin3"),this.lb_Money.setMoneyNoTime(t),this.lb_Money.node.runAction(cc.sequence(cc.scaleTo(.2,1.3),cc.scaleTo(.2,1))),g=f.Windown.Asgard.getMakeDelay(4),this.listPromiseIgro.push(g),this.btnFast.interactable=!0,[4,g.prosime];case 6:return c.sent(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){o(null),m.node.destroy()}))),[3,8];case 7:return y=c.sent(),o(null),this.node.destroy(),cc.log(y.stack),d.Util.ThrowErrProsime(y),[3,8];case 8:return[2]}})})})},e.prototype.onClickBtnShowFast=function(){for(this.btnFast.interactable=!1,this.isClickBtnFast=!0;this.listPromiseIgro.length>0;)this.listPromiseIgro.shift().cancle(!0)},r([y(p.default)],e.prototype,"lb_Money",void 0),r([y(cc.Button)],e.prototype,"btnFast",void 0),r([y(cc.Animation)],e.prototype,"bigWin",void 0),r([y(cc.Animation)],e.prototype,"megaWin",void 0),r([y(cc.Animation)],e.prototype,"superWin",void 0),r([y(cc.Animation)],e.prototype,"animTake1",void 0),r([y(cc.Animation)],e.prototype,"animTake2",void 0),r([y([cc.Color])],e.prototype,"listColor",void 0),r([g],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../../Scritps/Game/GAME_TYPE":void 0,"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Other/LbMonoSpace":void 0,"../../../../Scritps/Util":void 0,"../../../../Scritps/Windown":void 0}],BkgFs:[function(t,e,n){"use strict";cc._RF.push(e,"923c90e409JMLgAQ2C576Tw","BkgFs");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),c=cc._decorator,a=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node1=null,e.node2=null,e.parentEff=null,e.parentCoin=null,e}return i(e,t),e.prototype.start=function(){var t=this,e=!1;this.schedule(function(){var n=cc.instantiate(t.node1),o=cc.instantiate(t.node2);n.parent=t.parentEff,o.parent=t.parentEff,e&&(n.position=t.node2.position,o.position=t.node1.position,n.y-=40,o.y-=40),e=!e,n.setSiblingIndex(0),o.setSiblingIndex(0),n.runAction(cc.sequence(cc.moveBy(6,0,-150).easing(cc.easeQuadraticActionIn()),cc.callFunc(function(){n.destroy()}))),o.runAction(cc.sequence(cc.moveBy(6,0,-150).easing(cc.easeQuadraticActionIn()),cc.callFunc(function(){o.destroy()})))},1)},e.prototype.update=function(){if(s.Windown.RandomNumber(0,100)<7){var t=cc.instantiate(s.Windown.Asgard.asset.coin);t.parent=this.parentCoin,t.scale=.4,t.angle=s.Windown.RandomNumber(0,360),t.getComponent(cc.Animation).play("Coind").time=s.Windown.RandomNumber(0,100),t.setPosition(s.Windown.RandomNumber(-344,-183),-223),t.runAction(cc.sequence(cc.moveBy(3,0,-400),cc.callFunc(function(){t.destroy()})))}if(s.Windown.RandomNumber(0,100)<7){var e=cc.instantiate(s.Windown.Asgard.asset.coin);e.parent=this.parentCoin,e.scale=.4,e.angle=s.Windown.RandomNumber(0,360),e.getComponent(cc.Animation).play("Coind").time=s.Windown.RandomNumber(0,100),e.setPosition(s.Windown.RandomNumber(183,344),-223),e.runAction(cc.sequence(cc.moveBy(3,0,-400),cc.callFunc(function(){e.destroy()})))}},r([l(cc.Node)],e.prototype,"node1",void 0),r([l(cc.Node)],e.prototype,"node2",void 0),r([l(cc.Node)],e.prototype,"parentEff",void 0),r([l(cc.Node)],e.prototype,"parentCoin",void 0),r([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":void 0}],CachChoiAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"98fd4Arq5pI+qX2TxKeGNlB","CachChoiAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onClickClose=function(){var t=this;s.Windown.Asgard.audio.playClick(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.node.destroy()})))},r([a],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],DetailHistoryAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"21d51yJUkhENb4XDjEekJUG","DetailHistoryAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),c=t("./ItemResultDetailAsgard"),a=cc._decorator,l=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.itemTemplate=null,e.lbTitle=null,e.lbTime=null,e.lbBet=null,e.lbWin=null,e.lbMNUser=null,e.lbCuocCoSo=null,e.isFreeSpin=!1,e}return i(e,t),e.prototype.show=function(t){var e=this;this.node.active=!0,this.node.x=721.812,this.node.stopAllActions(),this.node.opacity=0,this.node.runAction(cc.spawn(cc.moveTo(.3,0,0),cc.fadeIn(.3).easing(cc.easeElasticIn(3))));var n=t.get("date"),o=t.get("infolog"),i=JSON.parse(o);cc.log(o),this.isFreeSpin=i.numFreeSpin>0,0==i.agBet?this.lbTitle.string="Free spin":this.lbTitle.string="Spin normal",this.lbTime.string=s.Windown.formatDate(new Date(n),"dd/MM HH:mm:ss"),this.lbBet.string=s.Windown.formatNumber(20*i.agBet),this.lbWin.string=s.Windown.formatNumber(i.agWin),this.lbMNUser.string=s.Windown.formatNumber(i.agUser),this.lbCuocCoSo.string=s.Windown.formatNumber(i.agBet);for(var r=JSON.parse(i.arrBonus);this.parentItem.childrenCount>0;){var a=this.parentItem.children[0];a.removeFromParent(),a.destroy()}i.views.forEach(function(t,n){var o=e.parentItem.children[n];null==o&&((o=cc.instantiate(e.itemTemplate)).parent=e.parentItem,o.active=!0),o.active=!0;var s=o.getComponent(c.default);i.listItemWin[n]&&(i.listItemWin[n].lsIdItem=JSON.parse(i.listItemWin[n].lsIdItem),i.listItemWin[n].lsstack=JSON.parse(i.listItemWin[n].lsstack),i.listItemWin[n].lsAgWin=JSON.parse(i.listItemWin[n].lsAgWin)),s.init(t,i.listItemWin[n],r[n],i.agBet)});for(var l=i.views.length;l<this.parentItem.childrenCount;l++)this.parentItem.children[l].active=!1},e.prototype.onClickClose=function(){var t=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.3,721.812,0),cc.fadeOut(.3).easing(cc.easeElasticOut(3))),cc.callFunc(function(){t.node.active=!1})))},r([u(cc.Node)],e.prototype,"parentItem",void 0),r([u(cc.Node)],e.prototype,"itemTemplate",void 0),r([u(cc.Label)],e.prototype,"lbTitle",void 0),r([u(cc.Label)],e.prototype,"lbTime",void 0),r([u(cc.Label)],e.prototype,"lbBet",void 0),r([u(cc.Label)],e.prototype,"lbWin",void 0),r([u(cc.Label)],e.prototype,"lbMNUser",void 0),r([u(cc.Label)],e.prototype,"lbCuocCoSo",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":void 0,"./ItemResultDetailAsgard":"ItemResultDetailAsgard"}],EffectAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"618ebJ9bbtAVpzURRjM5Pu5","EffectAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{a(o.next(t))}catch(e){r(e)}}function c(t){try{a(o.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scritps/Game/GAME_TYPE"),l=t("../../../Scritps/Other/LbMonoSpace"),u=t("../../../Scritps/Util"),p=t("../../../Scritps/Windown"),d=t("./Effect/BigwinAsgard"),f=t("./Effect/EndFreeSpinAsgard"),h=t("./Effect/NearFsAsgard"),g=t("./Effect/StartFreeSpinAsgard"),y=cc._decorator,m=y.ccclass,S=y.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeMask=null,e.lb_Money=null,e.nodeBigWin=null,e.listNodeBoxMoney=[],e.btnFast=null,e.listPromiseIgro=[],e.isClickBtnFast=!1,e.funNext=null,e.funDelayOff=null,e.mapColor=new Map,e.nodeEffNearWin=null,e}return i(e,t),e.prototype.onLoad=function(){this.funNext=null},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){this.unschedule(this.funDelayOff)},e.prototype.initPosMask=function(t){cc.find("mask",this.node).y=t},e.prototype.onClickBtnShowFast=function(){for(this.btnFast.interactable=!1,this.isClickBtnFast=!0;this.listPromiseIgro.length>0;)this.listPromiseIgro.shift().cancle(!0)},e.prototype.showBigWin=function(t,e){var n=this;return new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r;return c(this,function(s){switch(s.label){case 0:return[4,p.Windown.loadRes(a.default.Asgard.toString(),"Frefabs/Bigwin",cc.Prefab)];case 1:return n=s.sent(),(i=cc.instantiate(n)).parent=this.node,i.zIndex=1,r=i.getComponent(d.default),[4,p.Windown.Asgard.getPromise(r.init(t,e))];case 2:return s.sent(),o(null),[2]}})})})},e.prototype.activeNodeNearWin=function(t){p.Windown.Asgard.activeMask(!0);for(var e=t;e<7;e++)p.Windown.Asgard.activeMask(!1,e);if(null==this.nodeEffNearWin)for(this.nodeEffNearWin=cc.instantiate(p.Windown.Asgard.asset.nearFS),this.nodeEffNearWin.parent=p.Windown.Asgard.parentEffect,p.Windown.Asgard.infoBar.showOneMoreScater(),e=0;e<t;e++)p.Windown.Asgard.listColum[e].getListSymbolResult().forEach(function(t){return t.effectScaterShowFS()});this.nodeEffNearWin.getComponent(h.default).init(t)},e.prototype.offNearWin=function(){p.Windown.Asgard.activeMask(!1),p.Windown.Asgard.audio.stopEffect(p.Windown.Asgard.audio.fastspinStart),this.nodeEffNearWin&&this.nodeEffNearWin.getComponent(h.default).effOff(),this.nodeEffNearWin=null;for(var t=0,e=p.Windown.Asgard.listColum;t<e.length;t++)for(var n=0,o=e[t].getListSymbolResult();n<o.length;n++){var i=o[n];i.checkIsInView()&&i.effectScaterIdle()}},e.prototype.swidthFS=function(t,e){t?(this.listNodeBoxMoney.forEach(function(t){t.y=-613}),p.Windown.Asgard.switchBkgGame(!0,e)):(p.Windown.Asgard.switchBkgGame(!1),this.listNodeBoxMoney.forEach(function(t){t.y=-387.117}))},e.prototype.activeNearWinNoSap=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r,s,a,l,d,f,h,g,y,m,S,v,b,w;return c(this,function(c){switch(c.label){case 0:if(c.trys.push([0,5,,6]),t=p.Windown.Asgard.stateSpin.curentCountScater>2&&!p.Windown.Asgard.stateSpin.isMaxSpeed,p.Windown.Asgard.nearWinNoSap.active||!t)return e(null),[2];for(p.Windown.Asgard.nearWinNoSap.opacity=255,p.Windown.Asgard.nearWinNoSap.active=!0,p.Windown.Asgard.audio.playEffect(p.Windown.Asgard.audio.heartbeatNoise),n=!1,p.Windown.Asgard.stateSpin.offAllSymbol(!1),o=0,i=p.Windown.Asgard.listColum;o<i.length;o++){for(m=i[o],r=0,s=m.getListSymbolResult();r<s.length;r++)if(!(b=s[r]).checkIsInView()){n=!0;break}if(n)break}if(!n)return e(null),[2];for(a=0,l=p.Windown.Asgard.listColum;a<l.length;a++)for(m=l[a],d=0,f=m.getListSymbolResult();d<f.length;d++)(b=f[d]).checkIsInView()&&b.effectNearWinScater(!0);p.Windown.Asgard.infoBar.showOneMoreScater(),h=0,c.label=1;case 1:return h<4?(p.Windown.Asgard.audio.playEffectNoStop(p.Windown.Asgard.audio.heartbeat),[4,p.Windown.Asgard.getMakeDelay(.9).prosime]):[3,4];case 2:c.sent(),c.label=3;case 3:return h++,[3,1];case 4:for(p.Windown.Asgard.activeMask(!1),g=0,y=p.Windown.Asgard.listColum;g<y.length;g++)for(m=y[g],S=0,v=m.getListSymbolResult();S<v.length;S++)(b=v[S]).checkIsInView()&&b.effectScaterIdle();return e(null),[3,6];case 5:return w=c.sent(),u.Util.ThrowErrProsime(w),[3,6];case 6:return[2]}})})})},e.prototype.offNearWinNoSap=function(){p.Windown.Asgard.nearWinNoSap.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){p.Windown.Asgard.nearWinNoSap.active=!1})))},e.prototype.showTakeFreeSpin=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r;return c(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),p.Windown.Asgard.stateSpin.freeSpinCache=t,p.Windown.Asgard.stateSpin.activeAllSymbol(),p.Windown.Asgard.listColum.forEach(function(t){t.getListSymbolResult().forEach(function(t){t.effectScaterShowFS()})}),p.Windown.Asgard.audio.playEffect(p.Windown.Asgard.audio.scatterWinHighligh),p.Windown.loadRes(a.default.Asgard.toString(),"Frefabs/ShowFreeSpin",cc.Prefab),[4,p.Windown.Asgard.getMakeDelay(1.5).prosime];case 1:return s.sent(),p.Windown.UIManager.showLoading(),[4,p.Windown.loadRes(a.default.Asgard.toString(),"Frefabs/ShowFreeSpin",cc.Prefab)];case 2:return e=s.sent(),p.Windown.UIManager.hideLoading(),(o=cc.instantiate(e)).parent=this.node,o.zIndex=1,i=o.getComponent(g.default),[4,p.Windown.Asgard.getPromise(i.show(t,this.listNodeBoxMoney))];case 3:return s.sent(),p.Windown.Asgard.effect.swidthFS(!0),[4,p.Windown.Asgard.getMakeDelay(1).prosime];case 4:return s.sent(),n(null),[3,6];case 5:return r=s.sent(),u.Util.ThrowErrProsime(r),[3,6];case 6:return[2]}})})})},e.prototype.showEndFree=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r;return c(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),t<1?(p.Windown.Asgard.audio.stopBkgFs(),this.swidthFS(!1),n(null),[2]):[4,p.Windown.loadRes(a.default.Asgard.toString(),"Frefabs/EndFreeSpin",cc.Prefab)];case 1:return e=s.sent(),this.swidthFS(!1),(o=cc.instantiate(e)).parent=this.node,o.zIndex=999,i=o.getComponent(f.default),[4,p.Windown.Asgard.getPromise(i.show(t))];case 2:return s.sent(),n(null),[3,4];case 3:return r=s.sent(),u.Util.ThrowErrProsime(r),[3,4];case 4:return[2]}})})})},e.prototype.pointsOnCircle=function(t){var e=t.radius,n=t.angle,o=t.cx,i=t.cy;return n*=Math.PI/180,[o+e*Math.sin(n),i+e*Math.cos(n)]},e.prototype.resetView=function(){this.lb_Money.resetLb(),this.lb_Money.node.active=!1,this.node.opacity=255,this.nodeBigWin.active=!1},e.prototype.onClose=function(){var t=this;this.btnFast.interactable=!1,this.unschedule(this.funDelayOff),this.unschedule(this.onClose),this.funNext&&this.funNext(),this.funNext=null,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){t.resetView()}))),this.isClickBtnFast=!1},r([S(cc.Node)],e.prototype,"nodeMask",void 0),r([S(l.default)],e.prototype,"lb_Money",void 0),r([S(cc.Node)],e.prototype,"nodeBigWin",void 0),r([S([cc.Node])],e.prototype,"listNodeBoxMoney",void 0),r([S(cc.Button)],e.prototype,"btnFast",void 0),r([m],e)}(cc.Component);n.default=v,cc._RF.pop()},{"../../../Scritps/Game/GAME_TYPE":void 0,"../../../Scritps/Other/LbMonoSpace":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./Effect/BigwinAsgard":"BigwinAsgard","./Effect/EndFreeSpinAsgard":"EndFreeSpinAsgard","./Effect/NearFsAsgard":"NearFsAsgard","./Effect/StartFreeSpinAsgard":"StartFreeSpinAsgard"}],EffectSymbolAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"7d6dbRl5F1BZ6dkSn7B1AqZ","EffectSymbolAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._bkgEffectTake=null,e}return i(e,t),e.prototype.effTakeItem=function(t,e){this.node.opacity=0,this.node.runAction(cc.fadeIn(.2));var n=s.Windown.Asgard.stateSpin.isMaxSpeed?2:1,o=cc.find("spine",this.node).getComponent(sp.Skeleton),i=cc.find("item",this.node).getComponent(cc.Sprite);o.skeletonData=s.Windown.Asgard.asset.listSpine[t-1],i.spriteFrame=s.Windown.Asgard.asset.getSfItemSymbol(t,e,!1),12==t&&(o.skeletonData=s.Windown.Asgard.asset.listSpineWild[e-1]),t>5?(o.node.active=!0,i.node.active=!1,o.setAnimation(0,"win",!1)):(o.node.active=!1,i.node.active=!0,i.node.runAction(cc.speed(cc.sequence(cc.scaleTo(.2,.54),cc.delayTime(0)),n)));for(var r=0;r<4;r++)this.node.children[0].opacity=0,this.node.children[0].runAction(cc.speed(cc.fadeIn(.3),n));var c=cc.instantiate(s.Windown.Asgard.asset.bkgTakeSymbol);c.parent=this.node.parent,c.zIndex=cc.macro.MIN_ZINDEX,c.setPosition(this.node.getPosition()),c.opacity=0,c.runAction(cc.fadeIn(.2)),c.height=118*e,this._bkgEffectTake=c},e.prototype.effectRemoveTakeItem=function(){var t=this,e=s.Windown.Asgard.stateSpin.isMaxSpeed?2:1;if(this._bkgEffectTake){var n=this._bkgEffectTake;n.runAction(cc.sequence(cc.fadeOut(.3/e),cc.callFunc(function(){n.destroy()})))}this._bkgEffectTake=null,this.node.runAction(cc.sequence(cc.fadeOut(.3/e),cc.callFunc(function(){t.node.destroy()})))},e.prototype.effRemoveItem=function(){var t=this,e=s.Windown.Asgard.stateSpin.isMaxSpeed?2:1,n=this.getComponent(cc.Animation);n.once(cc.Animation.EventType.FINISHED,function(){t.node.destroy()}),n.play("Remove").speed=e},e.prototype.onDestroy=function(){this._bkgEffectTake&&this._bkgEffectTake.destroy(),this._bkgEffectTake=null},r([a],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../../Scritps/Windown":void 0}],EndFreeSpinAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"1a58cSEzltMLrqZca9BLdvp","EndFreeSpinAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{a(o.next(t))}catch(e){r(e)}}function c(t){try{a(o.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../../Scritps/Game/GAME_TYPE"),u=t("../../../../Scritps/Network/ConectManager"),p=t("../../../../Scritps/Other/LbMonoSpace"),d=t("../../../../Scritps/Util"),f=t("../../../../Scritps/Windown"),h=cc._decorator,g=h.ccclass,y=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.btnThuThap=null,e}return i(e,t),e.prototype.show=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,p,h=this;return c(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),f.Windown.Asgard.audio.playEffect(f.Windown.Asgard.audio.bgmTotalwinMain),(e=this.getComponent(cc.Animation)).play("EndFs2"),e.playAdditive("EndFs3Loop"),o=[],i=f.Windown.Asgard.getMakeDelay(6),o.push(i),this.btnThuThap.active=!1,this.label.resetLb(),this.label.time=6,this.label.setMoney(t),r=function(){for(;o.length>0;)o.shift().cancle(!1);if(t>1e4){var e=u.ConectManager.getIns().getSFSObj();e.putInt("gt",l.default.Asgard),e.putInt("mt",t),e.putUtfString("nn",f.Windown.User.nickName),e.putUtfString("dt","fs"),u.ConectManager.getIns().sendRequest(a.REQUEST_CODE.AddBigWin,e)}h.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){h.node.destroy(),n(null),f.Windown.Asgard.audio.stopBkgFs()}))),cc.log("nhay vao end ne")},this.scheduleOnce(function(){h.node.once(cc.Node.EventType.TOUCH_END,function(){for(;o.length>0;)o.shift().cancle(!0)})},.5),[4,i.prosime];case 1:return c.sent(),e.playAdditive("EndFs4"),this.node.targetOff(this),s=f.Windown.Asgard.getMakeDelay(6),o.push(s),this.label.setMoneyNoTime(t),this.label.node.parent.runAction(cc.sequence(cc.scaleTo(.15,1.15),cc.scaleTo(.15,1))),this.btnThuThap.active=!0,this.btnThuThap.opacity=0,this.btnThuThap.runAction(cc.fadeIn(.5)),this.btnThuThap.once("click",r),f.Windown.Asgard.audio.stopEffect(f.Windown.Asgard.audio.bgmTotalwinMain),f.Windown.Asgard.audio.playEffect(f.Windown.Asgard.audio.bgmTotalwinEnd),[4,s.prosime];case 2:return c.sent(),r(),[3,4];case 3:return p=c.sent(),d.Util.ThrowErrProsime(p),[3,4];case 4:return[2]}})})})},r([y(p.default)],e.prototype,"label",void 0),r([y(cc.Node)],e.prototype,"btnThuThap",void 0),r([g],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../../Scritps/Game/GAME_TYPE":void 0,"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Other/LbMonoSpace":void 0,"../../../../Scritps/Util":void 0,"../../../../Scritps/Windown":void 0}],InfoBarControllerAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"177fbb9ZJ1E3rxIKIDRpP3m","InfoBarControllerAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{a(o.next(t))}catch(e){r(e)}}function c(t){try{a(o.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbMoney=null,e.spTotalWin=null,e.spWin=null,e.spInfoBar=null,e.listInfoBar=[],e.spMaskInfoBar=[],e.parentOneMore=null,e.parentContent=null,e.parentMoney=null,e.anhSang=null,e.smallWin=null,e.isShowOneMoreScater=!1,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.showRdContent(),this.parentContent.x=360,this.parentContent.runAction(cc.repeatForever(cc.sequence(cc.moveTo(65,-4779.665,20),cc.callFunc(function(){t.parentContent.x=306.493}))))},e.prototype.showRdContent=function(){this.parentContent.active=!0,this.parentOneMore.active=!1,this.parentMoney.active=!1},e.prototype.showOneMoreScater=function(){this.isShowOneMoreScater||(this.isShowOneMoreScater=!0,this.parentContent.active=!1,this.parentOneMore.active=!0,this.parentMoney.active=!1,this.anhSang.stopAllActions(),this.anhSang.opacity=50,this.anhSang.runAction(cc.repeatForever(cc.sequence(cc.fadeIn(.3).easing(cc.easeSineInOut()),cc.fadeTo(.3,50).easing(cc.easeSineInOut())))),this.parentOneMore.stopAllActions(),this.parentOneMore.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.3,1.15).easing(cc.easeSineInOut()),cc.scaleTo(.3,1).easing(cc.easeSineInOut())))))},e.prototype.effectDropOneMorScater=function(){this.anhSang.stopAllActions(),this.anhSang.opacity=50,this.parentOneMore.stopAllActions(),this.parentOneMore.runAction(cc.sequence(cc.scaleTo(.1,1.18).easing(cc.easeSineOut()),cc.scaleTo(.1,1).easing(cc.easeSineIn()))),this.anhSang.runAction(cc.sequence(cc.fadeIn(.1).easing(cc.easeSineOut()),cc.fadeTo(.1,50).easing(cc.easeSineIn())))},e.prototype.offOneMoreScater=function(){this.parentOneMore.active=!1,this.offAnhSang()},e.prototype.offLbMoney=function(){this.parentMoney.active=!1},e.prototype.offAnhSang=function(){this.anhSang.stopAllActions(),this.anhSang.opacity=50},e.prototype.showTakeMoney=function(t){return s(this,void 0,void 0,function(){var e=this;return c(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e,o;return c(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),u.Windown.Asgard.audio.playEffect(u.Windown.Asgard.audio.prizeSmallwin),this.offAnhSang(),cc.find("ParrentMOney/info_win",this.node).active=!1,this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.lbMoney.setMoneyNoTime(t),(e=this.lbMoney.node.parent).stopAllActions(),e.scale=3,e.opacity=50,e.runAction(cc.spawn(cc.fadeIn(.3),cc.scaleTo(.5,1).easing(cc.easeBackOut()))),u.Windown.Asgard.stateSpin.isMaxSpeed?[3,2]:[4,u.Windown.Asgard.getMakeDelay(1).prosime];case 1:return i.sent(),[3,4];case 2:return[4,u.Windown.Asgard.getMakeDelay(.5).prosime];case 3:i.sent(),i.label=4;case 4:return n(null),[3,6];case 5:return o=i.sent(),l.Util.ThrowErrProsime(o),[3,6];case 6:return[2]}})})})]})})},e.prototype.showTakeMoneyTurn=function(t){return s(this,void 0,void 0,function(){var e=this;return c(this,function(){return[2,new Promise(function(){return s(e,void 0,void 0,function(){var e,n;return c(this,function(){try{cc.find("ParrentMOney/info_win",this.node).active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spWin,e=u.Windown.Asgard.stateSpin.isMaxSpeed?2:1,this.getComponent(cc.Animation).play("Take1").speed=e,this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.node.stopAllActions(),this.lbMoney.setMoneyNoTime(t),(n=this.lbMoney.node.parent).stopAllActions(),n.scale=3,n.opacity=50,n.runAction(cc.spawn(cc.fadeIn(.3/e),cc.scaleTo(.5/e,1).easing(cc.easeBackOut()))),u.Windown.Asgard.stateSpin.freeSpinLeft}catch(o){l.Util.ThrowErrProsime(o)}return[2]})})})]})})},e.prototype.reset=function(){this.spMaskInfoBar.forEach(function(t){return t.node.active=!0}),this.smallWin.active=!1,this.offAnhSang()},e.prototype.showTotalMoney=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r;return c(this,function(s){switch(s.label){case 0:this.offAnhSang(),s.label=1;case 1:return s.trys.push([1,10,,11]),0==t?(n(null),[2]):(this.lbMoney.resetLb(),e=u.Windown.Asgard.stateSpin.isMaxSpeed?2:1,o=u.Windown.Asgard.curRoomBet*u.Windown.Asgard.totalLineBet,(i=t/o)<7?(this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.parentMoney.scale=0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.parentMoney.runAction(cc.scaleTo(.5,1).easing(cc.easeElasticOut(.3))),cc.log("take money3"),this.lbMoney.setMoneyNoTime(t),u.Windown.Asgard.audio.playEffect(u.Windown.Asgard.audio.prizeInfobarTotalwin),[4,u.Windown.Asgard.getMakeDelay(1/e).prosime]):[3,3]);case 2:return s.sent(),[3,9];case 3:return i<=15?(u.Windown.Asgard.audio.playEffect(u.Windown.Asgard.audio.prizeInfobarTotalwinMedMain),u.Windown.Asgard.audio.playSmalWin(),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.node.getComponent(cc.Animation).play("TakeBig"),this.lbMoney.time=2,this.lbMoney.setMoney(t),[4,u.Windown.Asgard.getMakeDelay(2).prosime]):[3,6];case 4:return s.sent(),u.Windown.Asgard.audio.stopEffect(u.Windown.Asgard.audio.prizeInfobarTotalwinMedMain),u.Windown.Asgard.audio.playEffect(u.Windown.Asgard.audio.prizeInfobarTotalwinMedEnd),this.parentMoney.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.2,1))),[4,u.Windown.Asgard.getMakeDelay(.3).prosime];case 5:return s.sent(),[3,9];case 6:return[4,u.Windown.Asgard.getPromise(u.Windown.Asgard.effect.showBigWin(t,i))];case 7:return s.sent(),this.node.getComponent(cc.Animation).play("TakeBig"),this.parentMoney.scale=0,u.Windown.Asgard.audio.playEffect(u.Windown.Asgard.audio.prizeInfobarTotalwin),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.parentMoney.runAction(cc.scaleTo(.5,1).easing(cc.easeElasticOut(.3))),this.lbMoney.setMoneyNoTime(t),[4,u.Windown.Asgard.getMakeDelay(1).prosime];case 8:s.sent(),s.label=9;case 9:return n(null),[3,11];case 10:return r=s.sent(),l.Util.ThrowErrProsime(r),[3,11];case 11:return[2]}})})})},r([f(a.default)],e.prototype,"lbMoney",void 0),r([f(cc.SpriteFrame)],e.prototype,"spTotalWin",void 0),r([f(cc.SpriteFrame)],e.prototype,"spWin",void 0),r([f(cc.Sprite)],e.prototype,"spInfoBar",void 0),r([f([cc.SpriteFrame])],e.prototype,"listInfoBar",void 0),r([f([cc.Sprite])],e.prototype,"spMaskInfoBar",void 0),r([f(cc.Node)],e.prototype,"parentOneMore",void 0),r([f(cc.Node)],e.prototype,"parentContent",void 0),r([f(cc.Node)],e.prototype,"parentMoney",void 0),r([f(cc.Node)],e.prototype,"anhSang",void 0),r([f(cc.Node)],e.prototype,"smallWin",void 0),r([d],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0}],ItemAddScaterAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"3bf6dw8FKxEH7NPfR8A0Tta","ItemAddScaterAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bkg=null,e.ske=null,e.isShow=!1,e._symbol=null,e}return i(e,t),e.prototype.start=function(){this.node.opacity=0,this.node.runAction(cc.fadeIn(.15)),this.bkg.opacity=0,this.bkg.runAction(cc.fadeTo(.15,200))},e.prototype.init=function(t){this._symbol=t,this._symbol.node.on(cc.Node.EventType.POSITION_CHANGED,this.changePos,this),this.changParent(),this.node.angle=this._symbol.node.angle,this.bkg.angle=this._symbol.node.angle,this.ske.setAnimation(0,"spawn",!1),this.ske.addAnimation(0,"idle",!0)},e.prototype.changParent=function(){this.node.parent=this._symbol.node.parent,this.node.zIndex=1e3,this.bkg.parent=this._symbol.node.parent,this.bkg.zIndex=500,this.bkg.zIndex=cc.macro.MIN_ZINDEX,this.changePos()},e.prototype.changePos=function(){this.node.setPosition(this._symbol.node.getPosition()),this.bkg.setPosition(this._symbol.node.getPosition())},e.prototype.showFS=function(){this.node.runAction(cc.sequence(cc.scaleTo(.3,1.3),cc.scaleTo(.3,1)))},e.prototype.idle=function(){this.ske.setAnimation(0,"idle",!0)},e.prototype.effectNearWinNoSap=function(){this.ske.setAnimation(0,"win_idle",!0)},e.prototype.remove=function(t){var e=this;void 0===t&&(t=.2),this._symbol.node.targetOff(this),this.bkg.runAction(cc.sequence(cc.fadeOut(t),cc.callFunc(function(){e.bkg.destroy()}))),this.node.runAction(cc.sequence(cc.fadeOut(t),cc.callFunc(function(){e.node.destroy()})))},r([a(cc.Node)],e.prototype,"bkg",void 0),r([a(sp.Skeleton)],e.prototype,"ske",void 0),r([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],ItemDetalAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"44bf8DEjxhOLLTDnbd/GvE2","ItemDetalAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},r([a(cc.Label)],e.prototype,"label",void 0),r([a],e.prototype,"text",void 0),r([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],ItemLichSuAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"e482aNwn7ZIPL01n+MfDm5s","ItemLichSuAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),c=t("../../../Scritps/Network/ConectManager"),a=t("../../../Scritps/Windown"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTime=null,e.lbBet=null,e.lbWin=null,e.data=null,e}return i(e,t),e.prototype.initItem=function(t){try{this.data=t;var e=this.data.get("date"),n=this.data.get("bet"),o=this.data.get("agWin");this.lbTime.string=a.Windown.formatDate(new Date(e),"dd/MM\nHH:mm:ss"),this.lbBet.string=a.Windown.formatNumber(n*a.Windown.Asgard.totalLineBet),this.lbWin.string=a.Windown.formatNumber(o)}catch(i){console.error(i)}},e.prototype.onClick=function(){var t=c.ConectManager.getIns().getSFSObj();t.putInt("id",this.data.get("id")),console.log("id la: "+this.data.get("id")),c.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryChiTietAsgard,t,a.Windown.Asgard.roomSFS),a.Windown.Asgard.audio.playClick(),a.Windown.UIManager.showLoading()},r([p(cc.Label)],e.prototype,"lbTime",void 0),r([p(cc.Label)],e.prototype,"lbBet",void 0),r([p(cc.Label)],e.prototype,"lbWin",void 0),r([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Windown":void 0}],ItemMutilFsAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"ca295Rctt9AuqY0jSjjP0ja","ItemMutilFsAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{a(o.next(t))}catch(e){r(e)}}function c(t){try{a(o.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=t("./BaseItemMutilAsgard"),d=cc._decorator,f=d.ccclass,h=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbFade=null,e}return i(e,t),e.prototype.take=function(){return s(this,void 0,void 0,function(){return c(this,function(){try{u.Windown.Asgard.audio.playEffect(u.Windown.Asgard.audio.multiplierUp),this.lbMutil.setMoneyNoTime(this.mutil)}catch(t){l.Util.ThrowErrProsime(t)}return[2]})})},e.prototype.resetForNextSpin=function(){},e.prototype.init=function(t){this.mutilMng.currentItemMutil&&(this.mutilMng.currentItemMutil.node.active=!1),this.mutil=t||2,this.lbMutil.setMoneyNoTime(this.mutil),this.node.active=!0,this.mutilMng.currentItemMutil=this},r([h(a.default)],e.prototype,"lbFade",void 0),r([f],e)}(p.default);n.default=g,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./BaseItemMutilAsgard":"BaseItemMutilAsgard"}],ItemMutilNomalAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"17bd39WHUhBa7B2goXhtT9O","ItemMutilNomalAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{a(o.next(t))}catch(e){r(e)}}function c(t){try{a(o.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scritps/Util"),l=t("../../../Scritps/Windown"),u=t("./BaseItemMutilAsgard"),p=cc._decorator,d=p.ccclass,f=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.take=function(){return s(this,void 0,void 0,function(){return c(this,function(){try{l.Windown.Asgard.audio.playEffect(l.Windown.Asgard.audio.multiplierUp),this.lbMutil.setMoneyNoTime(this.mutil)}catch(t){a.Util.ThrowErrProsime(t)}return[2]})})},e.prototype.resetForNextSpin=function(){return s(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),this.mutil>1?(this.lbMutil.node.parent.runAction(cc.moveTo(.15,cc.v2(0,-82.207))),[4,l.Windown.Asgard.getMakeDelay(.3).prosime]):[3,2];case 1:e.sent(),this.mutil=1,this.lbMutil.node.parent.stopAllActions(),this.lbMutil.node.parent.runAction(cc.sequence(cc.moveTo(.15,cc.v2(0,0)).easing(cc.easeExponentialOut()),cc.callFunc(function(){}))),this.lbMutil.setMoneyNoTime(this.mutil),e.label=2;case 2:return[3,4];case 3:return t=e.sent(),a.Util.ThrowErrProsime(t),[3,4];case 4:return[2]}})})},e.prototype.init=function(){this.mutilMng.currentItemMutil&&(this.mutilMng.currentItemMutil.node.active=!1),this.mutil=this.mutilMng.currentItemMutil?this.mutilMng.currentItemMutil.mutil:1,this.lbMutil.setMoneyNoTime(this.mutil),this.node.active=!0,this.mutilMng.currentItemMutil=this},r([d],e)}(u.default));n.default=f,cc._RF.pop()},{"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./BaseItemMutilAsgard":"BaseItemMutilAsgard"}],ItemResultDetailAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"e2369gAndRFE7db6+9LijTf","ItemResultDetailAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Other/LbMonoSpace"),c=t("../../../Scritps/Windown"),a=cc._decorator,l=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentMul=null,e.lbTitleToHopWin=null,e.parentItemResult=null,e.parentItemWin=null,e.colorOf=null,e.playTable=[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[1,1,1,2,2,5,5,8,10,20,30,0,0],[2,2,2,3,3,8,8,10,15,25,35,0,0],[3,3,3,5,5,10,10,15,20,30,40,0,0],[4,4,4,10,10,15,15,20,30,40,50,0,0]],e}return i(e,t),e.prototype.init=function(t,e,n,o){var i=this,r=0;if(n.forEach(function(t){r+=t}),r=cc.misc.clampf(r,1,9999),e){this.lbTitleToHopWin.string="T\u1ed5 h\u1ee3p win",this.parentItemWin.active=!0;for(var a=this.parentItemWin.children[0],l=0,u=e.lsIdItem.length;l<u;l++){var p=e.lsIdItem[l];e.lsAgWin[l],null==(I=this.parentItemWin.children[l])&&((I=cc.instantiate(a)).parent=this.parentItemWin),I.active=!0;var d=this.getArrSf(p+1,1,0);I.children[0].children[0].getComponent(cc.Sprite).spriteFrame=d[0],I.children[0].children[1].getComponent(cc.Sprite).spriteFrame=d[2]}for(l=e.lsIdItem.length;l<this.parentItemWin.childrenCount;l++)this.parentItemWin.children[l].active=!1}else this.lbTitleToHopWin.string="-------------",this.parentItemWin.active=!1;var f=this.parentItemResult.children,h=f[0].children[0];if(t.forEach(function(t,e){var n=f[e],o=null;t.forEach(function(t,e){var r=n.children[e],s=t.i,c=t.t||0,a=t.s||1;null==r&&((r=cc.instantiate(h)).parent=n);var l=i.getArrSf(s+1,a,c);r.children[0].getComponent(cc.Sprite).spriteFrame=l[0],r.children[1].getComponent(cc.Sprite).spriteFrame=l[1],r.children[2].getComponent(cc.Sprite).spriteFrame=l[2],r.children[0].color=i.colorOf,r.children[1].color=i.colorOf,r.children[2].color=i.colorOf,r.children[0].height=105*a,r.children[1].height=105*a,r.height=103*a;var u=o?o.y+o.height/2*.75:-230;r.y=u+r.height/2*.75,o=r})}),e){var g=e.lsIdItem,y=e.lsstack,m=e.lsAgWin;for(l=0,u=g.length;l<u;l++){for(var S="",v=0;v<y[l]+1;v++){for(var b=f[v],w=0,A=0,_=b.childrenCount;A<_;A++)if(t[v][A].i==g[l]||11==t[v][A].i){var W=b.children[A];W.children[0].color=cc.Color.WHITE,W.children[1].color=cc.Color.WHITE,W.children[2].color=cc.Color.WHITE,w++}S+=w+"x"}var I;S+=this.playTable[y[l]][g[l]]+"x"+c.Windown.formatNumber(o),S+="\nx"+r,(I=this.parentItemWin.children[l]).children[1].getComponent(cc.Label).string=S+"=\n"+c.Windown.formatNumber(m[l]*r)}}cc.log(r),this.parentMul.children.forEach(function(t,e){t.getComponentInChildren(s.default).string=n[e].toString()})},e.prototype.getArrSf=function(t,e,n){return[c.Windown.Asgard.asset.getSfBkg(t,e),c.Windown.Asgard.asset.getSfKhungSymbol(n,e),c.Windown.Asgard.asset.getSfItemSymbol(t,e)]},r([u(cc.Node)],e.prototype,"parentMul",void 0),r([u(cc.Label)],e.prototype,"lbTitleToHopWin",void 0),r([u(cc.Node)],e.prototype,"parentItemResult",void 0),r([u(cc.Node)],e.prototype,"parentItemWin",void 0),r([u(cc.Color)],e.prototype,"colorOf",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":void 0,"../../../Scritps/Windown":void 0}],ItemSlotAsgardNgang:[function(t,e,n){"use strict";cc._RF.push(e,"5335cxsF/xJ4a2/AfmVDt8A","ItemSlotAsgardNgang");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./ItemSlotAsgard"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.start=function(){},r([a],e)}(s.default));n.default=l,cc._RF.pop()},{"./ItemSlotAsgard":"ItemSlotAsgard"}],ItemSlotAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"c8597VeN81O8IX6OAvw29kh","ItemSlotAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{a(o.next(t))}catch(e){r(e)}}function c(t){try{a(o.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE_MOVE=void 0;var a=t("../../../Scritps/DefineTs/StateReelSlot"),l=t("../../../Scritps/Network/ConectManager"),u=t("../../../Scritps/Util"),p=t("../../../Scritps/Windown"),d=t("./SymbolAsgard");(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD_NEW=1]="ADD_NEW"})(n.TYPE_MOVE||(n.TYPE_MOVE={}));var f=cc._decorator,h=f.ccclass,g=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.sizeSymbol=7,e.parentItemFront=null,e.parentItemActive=null,e.funReject=null,e.resolve=null,e.stateWhel=a.default.WAITING,e.result=[],e.resultTemp=[],e.listResultRandomCache=[],e.listIconEff=[],e.nodeWildDT=null,e.nodeWildShowDT=null,e.isScater=!1,e.index=-1,e.indexNodeFirt=0,e.isMoveSlowDown=!1,e.deltaSlowDown=0,e.listNumMutilWild=[],e.indexMaxWild=0,e.listItemSymbol=[],e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.initParent=function(){this.parentItemFront=cc.instantiate(this.parentItem),this.parentItemFront.setPosition(p.Windown.convertNodeInOtherNode(this.parentItem,p.Windown.Asgard.parentItemFront)),this.parentItemFront.parent=p.Windown.Asgard.parentItemFront,this.parentItemActive=cc.instantiate(this.parentItem),this.parentItemActive.setPosition(p.Windown.convertNodeInOtherNode(this.parentItem,p.Windown.Asgard.parentItemActive)),this.parentItemActive.parent=p.Windown.Asgard.parentItemActive,6==this.sizeSymbol&&(this.parentItemFront.angle=-90,this.parentItemActive.angle=-90)},e.prototype.initListSymbol=function(){for(var t=[],e=0,n=this.parentItem.children;e<n.length;e++){var o=n[e].getComponent(d.default);o&&t.push(o)}this.listItemSymbol=t},e.prototype.getListSymbol=function(){return this.listItemSymbol},e.prototype.getListSymbolResult=function(){var t=[],e=this.getListSymbol();return this.result.forEach(function(n,o){t.push(e[o+1])}),t},e.prototype.setResultFirtGame=function(t){var e=t.slice(1,t.length-1);this.setResult(e),this.initParent();for(var n=this.parentItem.children,o=0,i=this.sizeSymbol;o<i;o++){var r=n[o];null==r&&((r=this.getSymbol()).parent=this.parentItem),r.setSiblingIndex(o),r.x=0;var s=r.getComponent(d.default);6==this.sizeSymbol?s.isVectical=!1:s.isVectical=!0,s.setItemColum(this),s.setResult(t[o])}this.initListSymbol(),this.getListSymbol().forEach(function(t){t.initPosStartGame(),t.checkItemFront(),t.effectSpawnSymbol(!1)})},e.prototype.activeNodeNearWin=function(){p.Windown.Asgard.effect.activeNodeNearWin(this.index)},e.prototype.offNearWin=function(){6==this.index&&p.Windown.Asgard.effect.offNearWin()},e.prototype.setResult=function(t){this.result=t,this.resultTemp=t.slice()},e.prototype.checkAndRemoveItem=function(t,e){var n=!1,o=this.getListSymbol().slice(1,this.result.length+1);6==this.sizeSymbol&&(o.reverse(),o=o.slice(0,e+1)),6==this.sizeSymbol&&o.reverse();for(var i=0;i<o.length;i++)o[i].result-1!=t&&12!=o[i].result||(0==o[i].typeItem?(o[i].removeItem(),this.result[i]=null):(o[i].effectRemoveItem(),o[i].isShuff=!0),n=!0);n&&(this.result=this.result.filter(function(t){return null!=t}))},e.prototype.checkItemWin=function(t,e){return s(this,void 0,void 0,function(){var n,o,i,r,s,a,l,d;return c(this,function(c){switch(c.label){case 0:return c.trys.push([0,6,,7]),n=this.getListSymbolResult(),o=p.Windown.Asgard.stateSpin.isMaxSpeed?0:.03,[4,p.Windown.Asgard.getMakeDelay(this.index*o).prosime];case 1:c.sent(),i=this.index>1&&this.index<6,6==this.sizeSymbol&&(n.reverse(),n=n.slice(0,e+1),i=!0),r=1,s=0,a=n,c.label=2;case 2:return s<a.length?(l=a[s],r++,l.result-1!=t&&12!=l.result||(l.takeItem(),i&&(6==this.sizeSymbol?p.Windown.Asgard.muitlCtr.effectActiveReel(r):(p.Windown.Asgard.muitlCtr.effectActiveReel(this.index),i=!1))),6!=this.sizeSymbol?[3,4]:[4,p.Windown.Asgard.getMakeDelay(o).prosime]):[3,5];case 3:c.sent(),c.label=4;case 4:return s++,[3,2];case 5:return[3,7];case 6:return d=c.sent(),u.Util.ThrowErrProsime(d),[3,7];case 7:return[2]}})})},e.prototype.addNewListSymbol=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,a,l,f,h,g,y,m;return c(this,function(c){switch(c.label){case 0:for(c.trys.push([0,6,,7]),p.Windown.Asgard.stateSpin.curentCountScater,e=p.Windown.Asgard.stateSpin.isMaxSpeed?3:1,(o=this.result.slice()).reverse(),this.setResult(t),i=this.result.length-o.length,o.length=this.result.length,o.reverse(),r=this.getListSymbol(),s=r[0],a=0;a<i;a++)(l=p.Windown.Asgard.asset.getSymbol()).x=0,this.parentItem.addChild(l,0),l.setSiblingIndex(0),y=l.getComponent(d.default),6==this.sizeSymbol?y.isVectical=!1:y.isVectical=!0,y.setItemColum(this),this.getListSymbol().unshift(y);for(f=this.getListSymbol(),h=[],f[0].setResult(this.getRandomResult()),this.result.forEach(function(t,e){var n=f[e+1];t.getInt("t")!=n.typeItem&&n.isShuff?h.push(n.actionRandomNewResultNextKhung(t.getInt("i"))):n.setResult(t)}),s.node.y=s.node.height/2,g=s.getIndexOf()-1;g>=0;)(y=f[g]).node.y=s.node.y+s.node.height/2+y.node.height/2,s=y,g--;return h.length<1?1!=e?[3,2]:[4,p.Windown.Asgard.getMakeDelay(.7).prosime]:[3,3];case 1:c.sent(),c.label=2;case 2:return[3,5];case 3:return[4,p.Windown.Asgard.getPromiseAll(h)];case 4:c.sent(),c.label=5;case 5:return n(null),[3,7];case 6:return m=c.sent(),u.Util.ThrowErrProsime(m),[3,7];case 7:return[2]}})})})},e.prototype.getSymbol=function(){return p.Windown.Asgard.asset.getSymbol()},e.prototype.checkIsNorSap=function(){var t=this.getListSymbol().filter(function(t){return t.checkIsInView()}),e=0;return t.forEach(function(t){e+=t.sizeItem}),this.sizeSymbol-2-e>0},e.prototype.getListYByListResult=function(){var t=[],e=this.getListSymbol()[0].size.height,n=this.getListSymbol().slice(1,this.result.length+1),o=-n[0].sizeItem*e/2;t.push(o);for(var i=1;i<n.length;i++)o-=n[i-1].sizeItem*e/2+n[i].sizeItem*e/2,t.push(o);return t},e.prototype.moveSymbolInView=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r,s,a,l,d,f;return c(this,function(){try{if(t=p.Windown.Asgard.stateSpin.isMaxSpeed?3:1,this.getListSymbol().forEach(function(t){t.offItem()}),(n=this.getListSymbol().filter(function(t){return t.checkIsInView()})).reverse(),o=this.getListYByListResult(),n.length>0)for(i=0,r=n.length;i<r;i++)s=n[i],a=s.getIndexOf()-1,l=o[a],Math.abs(l-s.node.y)>2&&(d=cc.moveTo(.25/t,s.node.x,l).easing(cc.easeSineIn()),f=cc.sequence(cc.moveBy(.04/t,0,15).easing(cc.easeSineOut()),cc.moveBy(.04/t,0,-15).easing(cc.easeSineIn()),cc.callFunc(function(){})),s.node.runAction(cc.sequence(d,cc.callFunc(function(){p.Windown.Asgard.audio.playSymCollapse()}),f)));e(null)}catch(c){u.Util.ThrowErrProsime(c)}return[2]})})})},e.prototype.moveSymbolNew=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r,s,a,l,d=this;return c(this,function(c){switch(c.label){case 0:return c.trys.push([0,4,,5]),t=this.getListSymbol().filter(function(t){return t.checkIsInView()}),n=p.Windown.Asgard.stateSpin.isMaxSpeed?3:1,o=this.getListSymbolResult(),i=[],r=o.reverse(),(s=this.getListYByListResult()).reverse(),a=0,r.forEach(function(e,o){var r=e.node,c=s[o];!t.includes(e)&&Math.abs(c-r.y)>2&&i.push(new Promise(function(t){var i=cc.moveTo(.25/n,r.x,c).easing(cc.easeSineIn()),s=cc.sequence(cc.moveBy(.04,0,15).easing(cc.easeSineOut()),cc.moveBy(.04,0,-15).easing(cc.easeSineIn()),cc.callFunc(function(){t(null),e.effectSpawnSymbol()}));6==d.sizeSymbol&&(a=0),r.runAction(cc.sequence(cc.delayTime(a),i,cc.callFunc(function(){p.Windown.Asgard.audio.playSymCollapse()}),s)),1==n&&(a+=p.Windown.RandomNumber(0,4)<2?0:.05*o)}))}),i.length>0&&1==n&&p.Windown.Asgard.nearWinNoSap.active?(p.Windown.Asgard.audio.playEffectNoStop(p.Windown.Asgard.audio.heartbeatSlowdrop),[4,p.Windown.Asgard.getMakeDelay(.5).prosime]):[3,2];case 1:c.sent(),c.label=2;case 2:return[4,p.Windown.Asgard.getPromiseAll(i)];case 3:return c.sent(),t.forEach(function(t){t.offItem()}),this.reSetResultColum(),e(null),[3,5];case 4:return l=c.sent(),u.Util.ThrowErrProsime(l),[3,5];case 5:return[2]}})})})},e.prototype.reset=function(){},e.prototype.runSpin=function(){this.stateWhel=a.default.RUN,this.getListSymbol().forEach(function(t){t.runSpin()})},e.prototype.stopSpin=function(t,e){var n=this;return new Promise(function(o,i){return s(n,void 0,void 0,function(){var n;return c(this,function(r){switch(r.label){case 0:return r.trys.push([0,6,,7]),this.setResult(e),this.funReject=i,this.isScater=t,this.resolve=o,t?[3,2]:[4,p.Windown.Asgard.getMakeDelay(.07).prosime];case 1:r.sent(),o(null),r.label=2;case 2:return t?(this.activeNodeNearWin(),this.runSlowDownActicon(),[4,p.Windown.Asgard.getMakeDelay(1.1).prosime]):[3,4];case 3:return r.sent(),this.stateWhel=a.default.SHOW_EFFECT,[3,5];case 4:this.stateWhel=a.default.STOP,this.recaculateSpeedSpin(!1),r.label=5;case 5:return[3,7];case 6:return n=r.sent(),u.Util.ThrowErrProsime(n),[3,7];case 7:return[2]}})})})},e.prototype.forceStopSpin=function(t,e){return this.funReject&&this.funReject(),t&&(this.offNearWin(),p.Windown.Asgard.audio.stopEffect(p.Windown.Asgard.audio.fastspinEnd),this.isMoveSlowDown=!1),this.stopSpinIsFastSpin(t,e)},e.prototype.stopSpinIsFastSpin=function(t,e){var n=this;return new Promise(function(t){n.stateWhel!=a.default.END?(n.setResult(e),n.stateWhel=a.default.END,n.parentItem.stopAllActions(),n.parentItem.y=n.node.height/2,n.reSetResultColum(),n.sizeSymbol>6&&(p.Windown.Asgard.audio.playStopAudio(),n.index>=2&&n.index<=5?p.Windown.Asgard.updateNewTotalLine(n.result.length+1):p.Windown.Asgard.updateNewTotalLine(n.result.length)),n.isMoveSlowDown=!1,n.parentItem.y+=20,n.parentItem.runAction(cc.sequence(cc.moveBy(.04,0,-20).easing(cc.easeSineOut()),cc.callFunc(function(){n.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()}),t(null)})))):t(null)})},e.prototype.recaculateSpeedSpin=function(t){var e=this.getListSymbol(),n=e[0].node.y,o=-this.node.height-e[0].node.height/2,i=Math.abs(o-n),r=.28;t&&(r=2),e.forEach(function(t){t.stopSpin(cc.moveBy(r,0,-i))})},e.prototype.errSpin=function(){},e.prototype.reSetResultColum=function(){var t=this.getListSymbol();if(t.length>this.sizeSymbol)for(;t.length>this.sizeSymbol;)p.Windown.Asgard.asset.putSymbol(t[t.length-1].node),t.pop();else if(t.length<this.sizeSymbol)for(var e=t.length;e<this.sizeSymbol;e++){var n=this.getSymbol();this.parentItem.addChild(n);var o=n.getComponent(d.default);6==this.sizeSymbol?o.isVectical=!1:o.isVectical=!0,o.setItemColum(this),t.push(o)}this.result.forEach(function(e,n){t[n+1].setResult(e)}),e=this.result.length+1;for(var i=t.length;e<i;e++)t[e].setResult(t[e].objSFS);t.forEach(function(t){t.canRun=!1,t.node.stopAllActions(),t.initPosStartGame()})},e.prototype.effStopSpin=function(){return s(this,void 0,void 0,function(){var t=this;return c(this,function(){try{if(this.stateWhel==a.default.END)return[2];this.stateWhel=a.default.END,this.parentItem.stopAllActions(),this.parentItem.y=this.node.height/2,this.reSetResultColum(),this.sizeSymbol>6&&(p.Windown.Asgard.audio.playStopAudio(),this.index>=2&&this.index<=5?p.Windown.Asgard.updateNewTotalLine(this.result.length+1):p.Windown.Asgard.updateNewTotalLine(this.result.length)),this.funReject=null,this.isMoveSlowDown=!1,this.isScater?(this.offNearWin(),this.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()}),this.resolve&&this.resolve(null),this.resolve=null):this.parentItem.runAction(cc.sequence(cc.moveBy(.04,0,10).easing(cc.easeSineOut()),cc.moveBy(.04,0,-10).easing(cc.easeSineIn()),cc.callFunc(function(){t.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()})})))}catch(e){u.Util.ThrowErrProsime(e)}return[2]})})},e.prototype.getIdSymbolResult=function(){return this.stateWhel==a.default.STOP&&this.resultTemp.pop()||this.getRandomResult()},e.prototype.checkLastSymbol=function(t){var e=this.getListSymbol();return e[e.length-1]==t},e.prototype.getRandomResult=function(t){(this.index<2||6==this.index)&&(t=1);var e=null;return e=l.ConectManager.getIns().getSFSObj(),t?(e.putInt("s",t),t>1?e.putInt("i",p.Windown.RandomNumber(0,12)):e.putInt("i",p.Windown.RandomNumber(0,13))):(e.putInt("i",p.Windown.RandomNumber(0,13)),e.getInt("i")<12?(p.Windown.RandomNumber(0,100),e.putInt("s",p.Windown.RandomNumber(1,5))):e.putInt("s",1)),1==e.getInt("s")||11==e.getInt("i")?e.putInt("t",0):e.putInt("t",p.Windown.RandomNumber(0,3)),e},e.prototype.checkParentItem=function(){},e.prototype.runSlowDownActicon=function(){this.getListSymbol().forEach(function(t){t.node.stopAllActions()}),this.isMoveSlowDown=!0,this.deltaSlowDown=6e3},e.prototype.update=function(t){var e=this;this.isMoveSlowDown&&(this.getListSymbol().forEach(function(n){n.node.y-=t*e.deltaSlowDown}),this.deltaSlowDown>500?this.deltaSlowDown-=1800*t:this.deltaSlowDown<1e3&&(this.stateWhel=a.default.STOP,this.isMoveSlowDown=!1,this.recaculateSpeedSpin(!0)))},r([g(cc.Node)],e.prototype,"parentItem",void 0),r([g(cc.Integer)],e.prototype,"sizeSymbol",void 0),r([h],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./SymbolAsgard":"SymbolAsgard"}],LichSuAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"cac4aXBcIxD5pfLJiRpMVjH","LichSuAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),c=t("../../../Scritps/Network/ConectManager"),a=t("../../../Scritps/Popup/PageData/PageData"),l=t("../../../Scritps/Windown"),u=t("./DetailHistoryAsgard"),p=t("./ItemLichSuAsgard"),d=cc._decorator,f=d.ccclass,h=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.detail=null,e.listData=null,e.maxRow=11,e}return i(e,t),e.prototype.show=function(){this.node.active=!0,this.reset(),this.node.y=-1280,this.node.stopAllActions(),this.node.runAction(cc.moveTo(.3,0,0)),c.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryAsgard,null,l.Windown.Asgard.roomSFS),l.Windown.UIManager.showLoading()},e.prototype.responseServer=function(t){l.Windown.UIManager.hideLoading();var e=t.getSFSArray("history");this.initWithListData(e)},e.prototype.responseServerChiTiet=function(t){l.Windown.UIManager.hideLoading(),this.showDetail(t)},e.prototype.initWithListData=function(t){cc.log(l.Windown.SFSArrToJson(t)),this.pageDate.content.children;var e=t.size(),n=Math.floor(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var c=n[r];if(i<this.listData.size()){null==c&&(c=cc.instantiate(o),e.addChild(c),c.y=-(r+1)*c.height+c.height/2);var a=this.listData.getSFSObject(i);c.getComponent(p.default).initItem(a),c.active=!0,i++}else{if(!c)break;c.active=!1}}},e.prototype.showDetail=function(t){this.detail.show(t)},e.prototype.resetContent=function(){for(var t=this.pageDate.content.children,e=0,n=t.length;e<n;e++)t[e].active=!1},e.prototype.reset=function(){this.pageDate.setTotalPage(1),this.pageDate.reset(),this.resetContent()},e.prototype.onClickClose=function(){var t=this;l.Windown.Asgard.audio.playClick(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.moveTo(.3,0,-1280),cc.callFunc(function(){t.node.active=!1})))},r([h(a.default)],e.prototype,"pageDate",void 0),r([h(u.default)],e.prototype,"detail",void 0),r([f],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Popup/PageData/PageData":void 0,"../../../Scritps/Windown":void 0,"./DetailHistoryAsgard":"DetailHistoryAsgard","./ItemLichSuAsgard":"ItemLichSuAsgard"}],MutilControlAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"7e088UpPspB3JqyTI9wgfzL","MutilControlAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{a(o.next(t))}catch(e){r(e)}}function c(t){try{a(o.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=cc._decorator,d=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentItemMutil=null,e.lbMutil=null,e.listLbMutil=[],e.parentLightActive=null,e.parentLightReelActive=null,e.parentHaoQuangActive=null,e.nodeHaoQuangStart=null,e._isFs=!1,e}return i(e,t),e.prototype.start=function(){this.parentLightActive.children.forEach(function(t){return t.active=!1}),this.parentLightReelActive.children.forEach(function(t){return t.active=!1}),this.parentHaoQuangActive.children.forEach(function(t){return t.active=!1}),this.listLbMutil.forEach(function(t){t.string="0",t.node.parent.active=!1}),this._isFs=!1,this.nodeHaoQuangStart.active=!1},e.prototype.startFreeSpin=function(){var t=this;this._isFs=!0,this.nodeHaoQuangStart.active=!0,this.nodeHaoQuangStart.opacity=0,u.Windown.Asgard.audio.playEffectNoStop(u.Windown.Asgard.audio.fsIntro),this.nodeHaoQuangStart.runAction(cc.sequence(cc.fadeIn(.3),cc.callFunc(function(){t.listLbMutil.forEach(function(e,n){var o=e;o.node.parent.runAction(cc.fadeIn(.3)),o.string="2";var i=o.node.parent;i.active=!0,i.opacity=0,i.scale=0,i.stopAllActions(),i.runAction(cc.spawn(cc.fadeIn(.3),cc.scaleTo(.3,1).easing(cc.easeBackOut())));var r=t.parentHaoQuangActive.children[n];r.active=!0,r.opacity=255,r.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){r.active=!1}))),i.y=21,i.runAction(cc.repeatForever(cc.sequence(cc.moveBy(1.4,0,-5),cc.moveBy(1.4,0,5))))})}),cc.fadeOut(.7)))},e.prototype.endFreeSpin=function(){this._isFs=!1},e.prototype.mutilUpReel=function(t){var e=this;this.parentLightActive.children.forEach(function(t){t.active&&(t.stopAllActions(),t.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.active=!1}))))}),this.parentLightReelActive.children.forEach(function(t){t.active&&(t.stopAllActions(),t.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.active=!1}))))}),this.listLbMutil.forEach(function(t){var e=t.node.parent;e.y=21,e.stopAllActions(),e.runAction(cc.repeatForever(cc.sequence(cc.moveBy(1.4,0,-5),cc.moveBy(1.4,0,5))))}),t.forEach(function(t,n){var o=e.listLbMutil[n];if(o.node.parent.runAction(cc.fadeIn(.3)),o.string!=t.toString()){o.string=t.toString();var i=o.node.parent;i.active=!0,i.opacity=0,i.scale=0,i.runAction(cc.spawn(cc.fadeIn(.3),cc.scaleTo(.3,1).easing(cc.easeBackOut())));var r=e.parentHaoQuangActive.children[n];r.active=!0,r.opacity=255,r.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){r.active=!1})))}})},e.prototype.effectActiveReel=function(t){var e=this.parentLightActive.children,n=this.parentLightReelActive.children,o=e[t-2],i=n[t-2];o.getNumberOfRunningActions()>0||(o.opacity=0,i.opacity=0,o.active=!0,i.active=!0,o.stopAllActions(),i.stopAllActions(),o.runAction(cc.fadeIn(.2)),i.runAction(cc.fadeIn(.2)))},e.prototype.effectTake=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i;return c(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),t<2?(n(null),[2]):(e=u.Windown.Asgard.stateSpin.isMaxSpeed?2:1,this.listLbMutil.forEach(function(t){if("0"!=t.string){var n=cc.instantiate(t.node.parent);n.parent=t.node.parent.parent,n.runAction(cc.speed(cc.sequence(cc.moveTo(.3,0,n.y).easing(cc.easeSineIn()),cc.callFunc(function(){n.destroy()})),e)),t.node.parent.opacity=80}}),[4,u.Windown.Asgard.getMakeDelay(.2/e).prosime]);case 1:return r.sent(),u.Windown.Asgard.audio.playEffect(u.Windown.Asgard.audio.multiCombine),(o=this.lbMutil.node.parent.parent).active=!0,o.y=0,o.getComponent(cc.Animation).play("EfMulTake").speed=e,this.lbMutil.string=t.toString(),[4,u.Windown.Asgard.getMakeDelay(.5/e).prosime];case 2:return r.sent(),this.lbMutil.node.parent.parent.runAction(cc.sequence(cc.moveTo(.3,cc.v2(0,-153.417)).easing(cc.easeQuadraticActionIn()),cc.callFunc(function(){u.Windown.Asgard.audio.playEffect(u.Windown.Asgard.audio.prizeSmallwinMultiplied),o.active=!1,n(null)}))),[3,4];case 3:return i=r.sent(),l.Util.ThrowErrProsime(i),[3,4];case 4:return[2]}})})})},e.prototype.resetForNextSpin=function(){return s(this,void 0,void 0,function(){return c(this,function(){return this._isFs?this.listLbMutil.forEach(function(t){t.string="2"}):this.listLbMutil.forEach(function(t){var e=t.node.parent;e.runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){t.string="0",e.active=!1})))}),[2]})})},r([f(a.default)],e.prototype,"lbMutil",void 0),r([f([a.default])],e.prototype,"listLbMutil",void 0),r([f(cc.Node)],e.prototype,"parentLightActive",void 0),r([f(cc.Node)],e.prototype,"parentLightReelActive",void 0),r([f(cc.Node)],e.prototype,"parentHaoQuangActive",void 0),r([f(cc.Node)],e.prototype,"nodeHaoQuangStart",void 0),r([d],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0}],NearFsAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"fcc8fSesE5BNKnQLxlORo2i","NearFsAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),c=cc._decorator,a=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item=null,e._curItem=null,e}return i(e,t),e.prototype.init=function(t){if(this._curItem){var e=this._curItem;e.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){e.destroy()})))}s.Windown.Asgard.audio.playEffect(s.Windown.Asgard.audio.fastspinStart);var n=s.Windown.Asgard.listColum[t],o=cc.instantiate(this.item);o.parent=this.node,o.setPosition(s.Windown.convertNodeInOtherNode(n.node,this.node)),this._curItem=o},e.prototype.effOff=function(){if(this._curItem){var t=this._curItem;t.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.destroy()})))}},r([l(cc.Prefab)],e.prototype,"item",void 0),r([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":void 0}],ShuffItemAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"d4604AQ3otCcIwLhC/2Xiw1","ShuffItemAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{a(o.next(t))}catch(e){r(e)}}function c(t){try{a(o.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Util"),l=t("../../../../Scritps/Windown"),u=cc._decorator,p=u.ccclass,d=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.effShuffItem=function(t,e,n){var o=this;return new Promise(function(i){return s(o,void 0,void 0,function(){var o,r,s,u,p,d,f,h,g,y,m,S=this;return c(this,function(v){switch(v.label){case 0:v.trys.push([0,6,,7]),o=cc.find("wild_vfx_a_add_05",this.node),r=cc.find("wild_vfx_g_screen_00",this.node),s=cc.find("wild_vfx_d_add_00",this.node),u=cc.find("khung",this.node),2==n?(o.scaleY=1.916,r.scaleY=1.943,s.scaleY=1.943):3==n?(o.scaleY=2.928,r.scaleY=2.907,s.scaleY=2.907):(o.scaleY=3.959,r.scaleY=3.868,s.scaleY=3.868),u.getComponent(cc.Sprite).spriteFrame=l.Windown.Asgard.asset.getSfKhungSymbol(2,n),p=cc.find("item",this.node),d=function(o){var i,r,s;return c(this,function(c){switch(c.label){case 0:for((i=cc.instantiate(p)).parent=f.node,i.active=!0,r=l.Windown.RandomNumber(1,12);t==r||12==o&&r==e;)r=l.Windown.RandomNumber(1,12);return t=r,s=l.Windown.Asgard.asset.getSfItemSymbol(r,n,!1),i.opacity=150,i.getComponent(cc.Sprite).spriteFrame=s,i.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){i.destroy()}))),l.Windown.Asgard.audio.playEffectNoStop(l.Windown.Asgard.audio.rouletteLoop,1),[4,l.Windown.Asgard.getMakeDelay(.13).prosime];case 1:return c.sent(),[2]}})},f=this,h=0,v.label=1;case 1:return h<13?[5,d(h)]:[3,4];case 2:v.sent(),v.label=3;case 3:return h++,[3,1];case 4:return l.Windown.Asgard.audio.stopEffect(l.Windown.Asgard.audio.rouletteLoop),l.Windown.Asgard.audio.playEffectNoStop(l.Windown.Asgard.audio.rouletteEnd),(g=cc.instantiate(p)).parent=this.node,g.active=!0,y=l.Windown.Asgard.asset.getSfItemSymbol(e,n,!1),g.getComponent(cc.Sprite).spriteFrame=y,this.node.getComponent(cc.Animation).play("Shuff4"),[4,l.Windown.Asgard.getMakeDelay(.2).prosime];case 5:return v.sent(),this.node.runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){S.node.destroy()}))),i(null),[3,7];case 6:return m=v.sent(),a.Util.ThrowErrProsime(m),[3,7];case 7:return[2]}})})})},r([p],e)}(cc.Component));n.default=d,cc._RF.pop()},{"../../../../Scritps/Util":void 0,"../../../../Scritps/Windown":void 0}],SpinNormalAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"7bebeSUC8hI8JqKn9BPI2MV","SpinNormalAsgard");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{a(o.next(t))}catch(e){r(e)}}function c(t){try{a(o.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Scritps/DefineTs/StateReelSlot"),s=t("../../../Scritps/Util"),c=t("../../../Scritps/Windown"),a=function(){function t(){this.listFunShowOceLine=[],this.funShowOceLine=null,this.listColum=[],this.effect=null,this.isMaxSpeed=!1,this.isAutoSpin=!1,this.lastAutoSpin=!1,this.countAutoSpin=0,this.lastFreeSpinLeft=0,this.freeSpinLeft=0,this.freeSpinCache=0,this.moneyTotalFs=0,this.curentCountScater=0,this.isShowNearWin=!1,this.listColum=c.Windown.Asgard.listColum,this.effect=c.Windown.Asgard.effect}return t.prototype.onStart=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t;return i(this,function(){try{for(this.removeAllMutilAdded(),t=0;t<this.listColum.length;t++)this.listColum[t].runSpin();c.Windown.Asgard.audio.playEffect(c.Windown.Asgard.audio.spinActiveLoop,.3,!0)}catch(n){s.Util.ThrowErrProsime(n)}return e(null),[2]})})})},t.prototype.onEnd=function(){return o(this,void 0,void 0,function(){var t,e,n,o,a,l,u,p,d,f;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,12,,13]),cc.log("onend:========"),t=c.Windown.Asgard.listResultConvert,e=c.Windown.Asgard.getListActiveScaster(t[0].listSFSObj),n=0,o=[],this.isShowNearWin=!1,a=0,l=e;a<l.length;a++)if(d=l[a]){this.isShowNearWin=!0;break}this.curentCountScater=t[0].countScater,c.Windown.Asgard.audio.stopEffect(c.Windown.Asgard.audio.spinActiveLoop),u=0,p=this.listColum,i.label=1;case 1:return u<p.length?(d=p[u],this.isMaxSpeed?[3,3]:[4,c.Windown.Asgard.getPromise(d.stopSpin(e[n],t[0].listSFSObj[n]))]):[3,6];case 2:return i.sent(),[3,4];case 3:o.push(d.stopSpinIsFastSpin(e[n],t[0].listSFSObj[n])),i.label=4;case 4:n++,i.label=5;case 5:return u++,[3,1];case 6:return this.isMaxSpeed?[4,c.Windown.Asgard.getPromiseAll(o)]:[3,9];case 7:return i.sent(),[4,c.Windown.Asgard.getMakeDelay(.1).prosime];case 8:return i.sent(),[3,11];case 9:return[4,c.Windown.Asgard.getMakeDelay(.5).prosime];case 10:i.sent(),i.label=11;case 11:return c.Windown.Asgard.stateReel!=r.default.RUN&&this.handleStopAllColum(),[3,13];case 12:return f=i.sent(),s.Util.ThrowErrProsime(f),[3,13];case 13:return[2]}})})},t.prototype.handleErrSpin=function(){return o(this,void 0,void 0,function(){var t,e,n;return i(this,function(o){switch(o.label){case 0:c.Windown.Asgard.audio.stopEffect(c.Windown.Asgard.audio.spinActiveLoop),t=0,e=this.listColum,o.label=1;case 1:return t<e.length?(n=e[t],this.isMaxSpeed?[3,3]:[4,c.Windown.Asgard.getPromise(n.stopSpin(!1,n.result))]):[3,5];case 2:return o.sent(),[3,4];case 3:n.stopSpin(!1,n.result),o.label=4;case 4:return t++,[3,1];case 5:return c.Windown.Asgard.resetForNewGame(),[2]}})})},t.prototype.onForceEnd=function(){return o(this,void 0,void 0,function(){var t,e,n,o,r,a,l,u;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,3,,4]),c.Windown.Asgard.audio.stopEffect(c.Windown.Asgard.audio.spinActiveLoop),c.Windown.Asgard.clearAllMakeDelay(),t=c.Windown.Asgard.listResultConvert,e=c.Windown.Asgard.getListActiveScaster(t[0].listSFSObj),n=[],o=0,r=0,a=this.listColum;r<a.length;r++)l=a[r],n.push(l.forceStopSpin(e[o],t[0].listSFSObj[o])),o++;return c.Windown.Asgard.audio.playEffect(c.Windown.Asgard.audio.spinStopQuick),[4,c.Windown.Asgard.getPromiseAll(n)];case 1:return i.sent(),[4,c.Windown.Asgard.getMakeDelay(.25).prosime];case 2:return i.sent(),this.handleStopAllColum(),[3,4];case 3:return u=i.sent(),s.Util.ThrowErrProsime(u),[3,4];case 4:return[2]}})})},t.prototype.handleStopAllColum=function(){return o(this,void 0,void 0,function(){var t,e,n,o,a;return i(this,function(i){switch(i.label){case 0:if(i.trys.push([0,12,,13]),c.Windown.Asgard.stateReel==r.default.STOP)return[2];c.Windown.Asgard.stateReel=r.default.STOP,c.Windown.Asgard.setStateEffBtnSpin(),t=c.Windown.Asgard.listResultConvert,this.activeAllSymbol(),c.Windown.Asgard.infoBar.offOneMoreScater(),c.Windown.Asgard.infoBar.showRdContent(),e=0,n=t.length,i.label=1;case 1:return e<n?(o=t[e],this.curentCountScater=o.countScater,o.listItemWin?[4,c.Windown.Asgard.getPromise(this.checkAndShowLineAn(o.listItemWin,o.agWin))]:[3,8]):[3,9];case 2:return i.sent(),[4,c.Windown.Asgard.getPromise(c.Windown.Asgard.muitlCtr.effectTake(o.mutil))];case 3:return i.sent(),c.Windown.Asgard.muitlCtr.mutilUpReel(t[e+1].listReelMul),c.Windown.Asgard.infoBar.showTakeMoneyTurn(o.agWin*o.mutil),this.checkAndRemoveSymbol(o.listItemWin),o.isNoSap?[4,c.Windown.Asgard.getPromise(this.addNewSymbol(t[e+1]))]:[3,8];case 4:return i.sent(),[4,c.Windown.Asgard.getPromise(this.moveSymbolInView())];case 5:return i.sent(),[4,c.Windown.Asgard.getPromise(c.Windown.Asgard.effect.activeNearWinNoSap())];case 6:return i.sent(),c.Windown.Asgard.infoBar.isShowOneMoreScater=!1,[4,c.Windown.Asgard.getPromise(this.moveSymbolNew())];case 7:i.sent(),i.label=8;case 8:return e++,[3,1];case 9:return[4,c.Windown.Asgard.getPromise(this.showMoneyTotalRevice())];case 10:return i.sent(),[4,c.Windown.Asgard.getPromise(this.checkAndShowEffect())];case 11:return i.sent(),this.resetForNextNextSpin(),[3,13];case 12:return a=i.sent(),s.Util.ThrowErrProsime(a),[3,13];case 13:return[2]}})})},t.prototype.checkIsNearFS=function(){return this.isShowNearWin},t.prototype.removeAllMutilAdded=function(){var t=this;return new Promise(function(e){c.Windown.Asgard.resetLbTotalLine(),c.Windown.Asgard.muitlCtr.resetForNextSpin(),t.listColum.forEach(function(t){t.getListSymbol().forEach(function(t){t.removeAddScater(0)})}),e(null)})},t.prototype.checkAndRemoveSymbol=function(t){this.activeAllSymbol();var e=t.lsIdItem,n=t.lsstack;n.length>0&&c.Windown.Asgard.effectShake();for(var o=0,i=e.length;o<i;o++){this.listColum[0].checkAndRemoveItem(e[o],n[o]);for(var r=1;r<n[o]+2;r++)this.listColum[r].checkAndRemoveItem(e[o],null)}},t.prototype.addNewSymbol=function(t){var e=this;return new Promise(function(n){return o(e,void 0,void 0,function(){var e,o,r;return i(this,function(i){switch(i.label){case 0:for(o in i.trys.push([0,2,,3]),e=[],this.listColum)e.push(this.listColum[o].addNewListSymbol(t.listSFSObj[o]));return[4,c.Windown.Asgard.getPromiseAll(e)];case 1:return i.sent(),n(null),[3,3];case 2:return r=i.sent(),s.Util.ThrowErrProsime(r),[3,3];case 3:return[2]}})})})},t.prototype.moveSymbolInView=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:for(n in i.trys.push([0,2,,3]),t=[],this.listColum)t.push(this.listColum[n].moveSymbolInView());return[4,c.Windown.Asgard.getPromiseAll(t)];case 1:return i.sent(),e(null),[3,3];case 2:return o=i.sent(),s.Util.ThrowErrProsime(o),[3,3];case 3:return[2]}})})})},t.prototype.moveSymbolNew=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o,r,a,l;return i(this,function(i){switch(i.label){case 0:for(o in i.trys.push([0,7,,8]),t=[],n=[],this.listColum)n.push(o);r=0,i.label=1;case 1:return r<n.length?(a=n[r],c.Windown.Asgard.nearWinNoSap.active?[4,c.Windown.Asgard.getPromise(this.listColum[a].moveSymbolNew())]:[3,3]):[3,5];case 2:return i.sent(),[3,4];case 3:t.push(this.listColum[a].moveSymbolNew()),i.label=4;case 4:return r++,[3,1];case 5:return[4,c.Windown.Asgard.getPromiseAll(t)];case 6:return i.sent(),c.Windown.Asgard.nearWinNoSap.active=!1,e(null),[3,8];case 7:return l=i.sent(),s.Util.ThrowErrProsime(l),[3,8];case 8:return[2]}})})})},t.prototype.offAllSymbol=function(t){void 0===t&&(t=!0),c.Windown.Asgard.activeMask(!0)},t.prototype.activeAllSymbol=function(){c.Windown.Asgard.activeMask(!1)},t.prototype.checkAndShowLineAn=function(t,e){var n=this;return new Promise(function(r){return o(n,void 0,void 0,function(){var n,o,a,l,u,p,d;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,2,,3]),this.offAllSymbol(),n=t.lsIdItem,o=t.lsstack,a=t.lsAgWin,l=0,u=n.length;l<u;l++){for(this.listColum[0].checkItemWin(n[l],o[l]),p=1;p<o[l]+2;p++)this.listColum[p].checkItemWin(n[l],null);a[l]}return[4,c.Windown.Asgard.getPromise(c.Windown.Asgard.infoBar.showTakeMoney(e))];case 1:return i.sent(),r(null),[3,3];case 2:return d=i.sent(),s.Util.ThrowErrProsime(d),[3,3];case 3:return[2]}})})})},t.prototype.resetForNextNextSpin=function(){var t=this;if(c.Windown.Asgard.resetForNewGame(),this.freeSpinLeft>0)c.Windown.Asgard.scheduleOnce(function(){c.Windown.Asgard.setLbFreeSpinLeft(t.freeSpinLeft-1),c.Windown.Asgard.onClickBtnSpin()},.5);else if(this.countAutoSpin>0){var e=c.Windown.Asgard.stateSpin.isMaxSpeed?2:1;c.Windown.Asgard.scheduleOnce(function(){t.countAutoSpin--,c.Windown.Asgard.setCountAuto(t.countAutoSpin),c.Windown.Asgard.onClickBtnSpin()},.5/e)}else c.Windown.Asgard.activeAllBtn()},t.prototype.checkAndShowEffect=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),t=c.Windown.Asgard.dataFinish.get("Scarter4"),n=c.Windown.Asgard.dataFinish.get("numFreeSpin"),this.freeSpinLeft=n,!t&&this.lastFreeSpinLeft<1?(e(null),[2]):t?[4,c.Windown.Asgard.getPromise(c.Windown.Asgard.effect.showTakeFreeSpin(n))]:[3,2];case 1:i.sent(),i.label=2;case 2:return 1==this.lastFreeSpinLeft&&this.freeSpinLeft<1?[4,c.Windown.Asgard.getPromise(this.effect.showEndFree(this.moneyTotalFs))]:[3,4];case 3:i.sent(),this.moneyTotalFs=0,i.label=4;case 4:return this.lastFreeSpinLeft=this.freeSpinLeft,e(null),[3,6];case 5:return o=i.sent(),s.Util.ThrowErrProsime(o),[3,6];case 6:return[2]}})})})},t.prototype.showMoneyTotalRevice=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=c.Windown.Asgard.dataFinish.get("agWin"),this.lastFreeSpinLeft>0&&(this.moneyTotalFs+=t),c.Windown.Asgard.activeMask(!1),t<1?(e(null),[2]):[4,c.Windown.Asgard.getPromise(c.Windown.Asgard.infoBar.showTotalMoney(t))];case 1:return o.sent(),c.Windown.Asgard.showMoneyAllWin(t),e(null),[3,3];case 2:return n=o.sent(),s.Util.ThrowErrProsime(n),[3,3];case 3:return[2]}})})})},t}();n.default=a,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0}],StartFreeSpinAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"2ed2b/LVTtMvaxApWyarzqB","StartFreeSpinAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Other/LbMonoSpace"),c=t("../../../../Scritps/Windown"),a=cc._decorator,l=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.btnBatDau=null,e}return i(e,t),e.prototype.show=function(t){var e=this;return new Promise(function(n){cc.find("loopHaoQuang",e.node).runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.6,3),cc.scaleTo(.4,1.5)))),c.Windown.Asgard.audio.playBkgfs(),c.Windown.Asgard.audio.playEffect(c.Windown.Asgard.audio.fsTrans),e.label.string=t.toString();var o=function(){c.Windown.Asgard.audio.stopEffect(c.Windown.Asgard.audio.fsTrans),e.node.runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){e.node.destroy()}))),n(null)};e.btnBatDau.interactable=!1,e.scheduleOnce(function(){e.btnBatDau.interactable=!0,e.btnBatDau.node.once("click",o),e.btnBatDau.node.runAction(cc.sequence(cc.delayTime(5),cc.callFunc(o)))},1)})},r([u(s.default)],e.prototype,"label",void 0),r([u(cc.Button)],e.prototype,"btnBatDau",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../../Scritps/Other/LbMonoSpace":void 0,"../../../../Scritps/Windown":void 0}],SymbolAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"94594KGpu1PJ5YwbZMOf591","SymbolAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{a(o.next(t))}catch(e){r(e)}}function c(t){try{a(o.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}a((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE_ITEM=void 0;var a,l=t("../../../Scritps/DefineTs/StateReelSlot"),u=t("../../../Scritps/Util"),p=t("../../../Scritps/Windown"),d=t("./Effect/EffectSymbolAsgard"),f=t("./Effect/ItemAddScaterAsgard"),h=t("./Effect/ShuffItemAsgard"),g=t("./ItemSlotAsgard"),y=cc._decorator,m=y.ccclass,S=y.property;(function(t){t[t.NONE=0]="NONE",t[t.BAC=1]="BAC",t[t.VANG=2]="VANG"})(a=n.TYPE_ITEM||(n.TYPE_ITEM={}));var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.spriteBkg=null,e.spriteKhung=null,e.skeletonItem=null,e.isVectical=!0,e.nodeScater=null,e.sizeBkg=new cc.Size(118,116),e.size=new cc.Size(118,116),e.itemColum=null,e.result=-1,e.objSFS=null,e.typeItem=a.NONE,e.sizeItem=0,e.canRun=!1,e.efWin=null,e.lastPos=null,e.isShuff=!1,e.isShowEffectSpawn=!1,e}return i(e,t),e.prototype.setItemColum=function(t){this.itemColum=t,this.isVectical?(this.node.angle=0,this.size.height=116.4):(this.size.height=116.5,this.node.angle=90)},e.prototype.setResult=function(t){null!=t?(null==t.get("t")&&t.putInt("t",0),null==t.get("s")&&t.putInt("s",1),this.result!=t.getInt("i")+1||this.typeItem!=t.getInt("t")||this.sizeItem!=t.getInt("s")?(this.objSFS=t,this.result=t.getInt("i")+1,this.typeItem=t.getInt("t")||0,this.sizeItem=t.getInt("s")||1,this.setSize(),this.skeletonItem.node.active=!1,this.itemColum.stateWhel==l.default.RUN?this.setImgResult(!0):this.setImgResult(!1),this.isShuff=!1,this.isShowEffectSpawn=!1,13==this.result?this.node.zIndex=100:12==this.result?this.node.zIndex=50:this.node.zIndex=0):this.itemColum.stateWhel==l.default.RUN?this.setImgResult(!0):this.setImgResult(!1)):cc.log("null re sult symbol: "+this.itemColum.index)},e.prototype.setSize=function(){this.node.height=this.size.height*this.sizeItem},e.prototype.setImgResult=function(t){this.sprite.spriteFrame=this.getSpItem(t),this.spriteBkg.spriteFrame=this.getSpBkg(t),this.spriteBkg.spriteFrame,this.spriteKhung.spriteFrame=this.getSpKhung(t),this.node.scale=t?1.32:.66},e.prototype.checkItemFront=function(){!this.checkIsInView()||12!=this.result&&13!=this.result?this.setParentNode(this.itemColum.parentItem):this.setParentNode(this.itemColum.parentItemFront)},e.prototype.offItemFront=function(){this.setParentNode(this.itemColum.parentItem)},e.prototype.getSpKhung=function(t){return 12==this.result?null:p.Windown.Asgard.asset.getSfKhungSymbol(this.typeItem,this.sizeItem,t)},e.prototype.getSpBkg=function(t){return p.Windown.Asgard.asset.getSfBkg(this.result,this.sizeItem,t)},e.prototype.getSpItem=function(t){return p.Windown.Asgard.asset.getSfItemSymbol(this.result,this.sizeItem,t)},e.prototype.getAtlas=function(){return this.result<12?p.Windown.Asgard.asset.atlasSymbol:p.Windown.Asgard.asset.atlasSpecial},e.prototype.getSpin=function(){return p.Windown.Asgard.asset.getSpine(this.result,this.sizeItem)},e.prototype.getIndexOf=function(){return this.itemColum.getListSymbol().indexOf(this)},e.prototype.showSkeleton=function(t){var e;this.result<6||(e=this.getSpin())&&(this.skeletonItem.node.active=!0,this.skeletonItem.skeletonData=e,this.skeletonItem.setAnimation(0,"spawn",!1),t&&this.skeletonItem.addAnimation(0,"idle",!0))},e.prototype.convertNameSpineById=function(){switch(this.result){case 12:return"s_wild";case 13:return"s_scatter"}},e.prototype.convertNameSize=function(){switch(this.sizeItem){case 1:return"_a_atlas_symbols";case 2:return"_b_atlas_symbols";case 3:return this.result<11||13==this.result?"_b_atlas_symbols":11==this.result?"_cd_atlas_symbols":"_c_atlas_symbols";case 4:return this.result<11||13==this.result?"_b_atlas_symbols":11==this.result?"_cd_atlas_symbols":"_d_atlas_symbols"}},e.prototype.convertNameSizeSpine=function(){switch(this.sizeItem){case 1:return"_a_atlas_symbols";case 2:return"_b_atlas_symbols";case 3:return 12==this.result?"_c_atlas_symbols":"_b_atlas_symbols";case 4:return 12==this.result?"_d_atlas_symbols":"_b_atlas_symbols"}},e.prototype.removeAddScater=function(t){null!=this.nodeScater&&(this.nodeScater.remove(t),this.skeletonItem.node.active=!0,this.nodeScater=null)},e.prototype.effectActiveScater=function(){13==this.result&&this.checkIsInView()&&(this.nodeScater=cc.instantiate(p.Windown.Asgard.asset.nodeAddScater).getComponent(f.default),this.nodeScater.init(this),this.nodeScater.node.active=!0,this.skeletonItem.node.active=!1)},e.prototype.effectScaterIdle=function(){13==this.result&&this.checkIsInView()&&this.nodeScater&&(this.nodeScater.node.active=!0,this.skeletonItem.node.active=!1,this.nodeScater.idle())},e.prototype.effectScaterShowFS=function(){13==this.result&&this.checkIsInView()&&this.nodeScater&&(this.activeItem(),this.nodeScater.node.active=!0,this.skeletonItem.node.active=!1,this.nodeScater.showFS())},e.prototype.effectNearWinScater=function(t){13==this.result&&this.checkIsInView()&&this.nodeScater&&(this.activeItem(),this.nodeScater.node.active=!0,this.nodeScater.node.stopAllActions(),this.nodeScater.effectNearWinNoSap(t),this.skeletonItem.node.active=!1)},e.prototype.checkIsInView=function(){return this.node.y<0&&this.node.y>-this.size.height*(this.itemColum.sizeSymbol-2)},e.prototype.offItem=function(){this.node.parent!=this.itemColum.parentItem&&this.checkItemFront()},e.prototype.activeItem=function(t){void 0===t&&(t=.3),this.setParentNode(this.itemColum.parentItemActive)},e.prototype.setParentNode=function(t){this.node.parent=t,this.nodeScater&&this.nodeScater.changParent()},e.prototype.runSpin=function(){this.offItemFront();var t=cc.repeatForever(cc.moveBy(p.Windown.Asgard.stateSpin.isMaxSpeed?.5:1,0,-2500));this.node.stopAllActions(),this.node.runAction(t),this.canRun=!0},e.prototype.stopSpin=function(t){var e=this;this.node.stopAllActions(),this.getIndexOf(),this.node.runAction(cc.sequence(t,cc.callFunc(function(){e.itemColum.effStopSpin()})))},e.prototype.initPosStartGame=function(){var t,e=this.getIndexOf(),n=this.itemColum.getListSymbol()[e-1],o=null==n?void 0:n.node.y;t=n?o-this.node.height/2-n.node.height/2:this.node.height/2,this.node.y=t},e.prototype.setPos=function(t){this.node.setPosition(t)},e.prototype.getPos=function(){return this.node.getPosition()},e.prototype.moveWhenListChange=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=null);var o=this.getIndexOf(),i=this.itemColum.getListSymbol()[o+1],r=i.getPos(),s=r.y,c=null;t==g.TYPE_MOVE.NORMAL&&(c=s+this.node.height/2+i.node.height/2,r.y=c,this.setPos(r))},e.prototype.takeItem=function(){if(!this.efWin){this.skeletonItem.node.active=!1;var t=cc.instantiate(p.Windown.Asgard.asset.listEfTakeSymbol[this.sizeItem-1]);t.parent=p.Windown.Asgard.parentEffect,t.setPosition(p.Windown.convertNodeInOtherNode(this.node,p.Windown.Asgard.parentEffect)),t.getComponent(d.default).effTakeItem(this.result,this.sizeItem,this.node.height),this.activeItem(0),this.efWin=t,t.zIndex=cc.macro.MAX_ZINDEX}},e.prototype.removeItem=function(){var t=this,e=this.getIndexOf();e>-1&&this.itemColum.getListSymbol().splice(e,1),this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){p.Windown.Asgard.asset.putSymbol(t.node)}))),p.Windown.Asgard.audio.playEffect(p.Windown.Asgard.audio.symShrink),this.effectRemoveItem()},e.prototype.effectRemoveItem=function(){if(this.efWin){var t=cc.instantiate(p.Windown.Asgard.asset.effRemoveItem);t.parent=p.Windown.Asgard.parentEffect,t.setPosition(p.Windown.convertNodeInOtherNode(this.node,p.Windown.Asgard.parentEffect)),t.getComponent(d.default).effRemoveItem(this.sizeItem),this.efWin.getComponent(d.default).effectRemoveTakeItem()}this.efWin=null},e.prototype.actionRandomNewResultNextKhung=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i;return c(this,function(r){switch(r.label){case 0:return r.trys.push([0,8,,9]),this.isShowEffectSpawn=!1,this.typeItem++,this.typeItem=this.typeItem%3,this.spriteKhung.spriteFrame=this.getSpKhung(!1),e=p.Windown.Asgard.stateSpin.isMaxSpeed?2:1,p.Windown.Asgard.audio.playEffectNoStop(p.Windown.Asgard.audio.rouletteStart),11!=t?[3,3]:(this.sprite.node.opacity=255,this.result=t+1,this.sprite.spriteFrame=this.getSpItem(!1),this.spriteBkg.spriteFrame=this.getSpBkg(!1),this.isShowEffectSpawn=!1,this.effectSpawnSymbol(),1!=e?[3,2]:[4,p.Windown.Asgard.getMakeDelay(.4).prosime]);case 1:r.sent(),r.label=2;case 2:return p.Windown.Asgard.audio.playEffectNoStop(p.Windown.Asgard.audio.rouletteEnd),n(null),[3,7];case 3:return this.node.opacity=0,p.Windown.Asgard.stateSpin.isMaxSpeed?[3,5]:((o=cc.instantiate(p.Windown.Asgard.asset.itemShuffToNormal)).parent=p.Windown.Asgard.parentEffect,o.setPosition(p.Windown.convertNodeInOtherNode(this.node,p.Windown.Asgard.parentEffect)),[4,p.Windown.Asgard.getPromise(o.getComponent(h.default).effShuffItem(this.result,t+1,this.sizeItem))]);case 4:r.sent(),r.label=5;case 5:return this.node.opacity=255,this.result=t+1,this.sprite.spriteFrame=this.getSpItem(!1),this.spriteBkg.spriteFrame=this.getSpBkg(!1),[4,p.Windown.Asgard.getMakeDelay(.2/e).prosime];case 6:r.sent(),n(null),r.label=7;case 7:return[3,9];case 8:return i=r.sent(),u.Util.ThrowErrProsime(i),[3,9];case 9:return[2]}})})})},e.prototype.effectSpawnSymbol=function(t){return void 0===t&&(t=!0),s(this,void 0,void 0,function(){return c(this,function(){try{if(this.isShowEffectSpawn||!this.checkIsInView())return[2];this.isShowEffectSpawn=!0,this.checkItemFront(),13==this.result?(t&&p.Windown.Asgard.audio.playEffectNoStop(p.Windown.Asgard.audio.symScatter),this.effectActiveScater(),p.Windown.Asgard.stateSpin.checkIsNearFS()&&this.effectNearWinScater(!0)):12==this.result?(this.showSkeleton(!0),t&&p.Windown.Asgard.audio.playEffectNoStop(p.Windown.Asgard.audio.symWild)):this.showSkeleton(!0)}catch(e){u.Util.ThrowErrProsime(e)}return[2]})})},e.prototype.unuse=function(){this.skeletonItem.node.active=!1,this.isShowEffectSpawn=!1,this.isShuff=!1,this.result=-1,this.node.opacity=255,this.sprite.node.opacity=255,this.node.x=0,this.node.stopAllActions(),this.removeAddScater(!0)},e.prototype.checkEndCot=function(){if(0==this.getIndexOf()){var t=this.node.height/2;if(this.node.y<=t){var e=this.itemColum.getIdSymbolResult(),n=this.itemColum.getListSymbol(),o=n.pop();n.unshift(o),o.node.zIndex=0,o.setResult(e),o.moveWhenListChange(g.TYPE_MOVE.NORMAL)}}},e.prototype.update=function(){this.canRun&&this.checkEndCot()},r([S(cc.Sprite)],e.prototype,"sprite",void 0),r([S(cc.Sprite)],e.prototype,"spriteBkg",void 0),r([S(cc.Sprite)],e.prototype,"spriteKhung",void 0),r([S(sp.Skeleton)],e.prototype,"skeletonItem",void 0),r([m],e)}(cc.Component);n.default=v,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./Effect/EffectSymbolAsgard":"EffectSymbolAsgard","./Effect/ItemAddScaterAsgard":"ItemAddScaterAsgard","./Effect/ShuffItemAsgard":"ShuffItemAsgard","./ItemSlotAsgard":"ItemSlotAsgard"}]},{},["AsgardView","AssetAsgard","AudioAsgard","BaseItemMutilAsgard","CachChoiAsgard","DetailHistoryAsgard","EffectAsgard","BigwinAsgard","BkgFs","EffectSymbolAsgard","EndFreeSpinAsgard","ItemAddScaterAsgard","NearFsAsgard","ShuffItemAsgard","StartFreeSpinAsgard","InfoBarControllerAsgard","ItemDetalAsgard","ItemLichSuAsgard","ItemMutilFsAsgard","ItemMutilNomalAsgard","ItemResultDetailAsgard","ItemSlotAsgard","ItemSlotAsgardNgang","LichSuAsgard","MutilControlAsgard","SpinNormalAsgard","SymbolAsgard"]);