window.__require=function t(e,n,o){function i(r,a){if(!n[r]){if(!e[r]){var s=r.split("/");if(s=s[s.length-1],!e[s]){var u="function"==typeof __require&&__require;if(!a&&u)return u(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var l=n[r]={exports:{}};e[r][0].call(l.exports,function(t){return i(e[r][1][t]||t)},l,l.exports,t,e,n,o)}return n[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({AssetMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"55535sFirRFx78ntIwg4lDB","AssetMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,o){var i,c=arguments.length,r=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,n,r):i(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./SymbolMatChuoc"),a=cc._decorator,s=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atlasSymbol=null,e.atlasSpecial=null,e.atlasSymbolBlur=null,e.atlasSpecialBlur=null,e.atlasMultiCtr=null,e.atlasInfoBar=null,e.itemSymbolMatChuoc=null,e.itemShuffToNormal=null,e.bkgTakeSymbol=null,e.efTakeSymbol=null,e.effRemoveItem=null,e.nodeAddScater=null,e.nearFS=null,e.dragonFS=null,e.coin=null,e.bgDragonFS=null,e.bgMaskNormal=null,e.bgMaskFS=null,e.poolSymbol=new cc.NodePool,e.poolEffNearWin=new cc.NodePool,e.poolWinSymbol=new cc.NodePool,e.poolSmoke=new cc.NodePool,e}return i(e,t),e.prototype.getSymbol=function(){var t=null;return(t=this.poolSymbol.size()>0?this.poolSymbol.get():cc.instantiate(this.itemSymbolMatChuoc)).active=!0,t},e.prototype.putSymbol=function(t){this.poolSymbol.put(t)},e.prototype.getSfItemSymbol=function(t,e){return 9==t?e?this.getAtlasBlur(t).getSpriteFrame("wild_a_blur"):this.getAtlas(t).getSpriteFrame("wild_a"):10==t?e?this.getAtlasBlur(t).getSpriteFrame("s_scatter_blur"):this.getAtlas(t).getSpriteFrame("s_scatter"):t>=0&&t<=5?e?this.getAtlasBlur(t).getSpriteFrame("low_payout_0"+(t+1)+"_blur"):this.getAtlas(t).getSpriteFrame("low_payout_0"+(t+1)):t>=6&&t<=8?e?this.getAtlasBlur(t).getSpriteFrame("high_payout_0"+(t-5)+"_blur"):this.getAtlas(t).getSpriteFrame("high_payout_0"+(t-5)):void 0},e.prototype.getSfBkg=function(t,e,n){return t<9?n?this.getAtlasBlur(t).getSpriteFrame(e==r.TYPE_ITEM.NONE?"symbol_bg_blur":"symbol_base_gold_blur"):this.getAtlas(t).getSpriteFrame(e==r.TYPE_ITEM.NONE?"symbol_bg":"symbol_base_gold"):null},e.prototype.getAtlas=function(t){return t<10?this.atlasSymbol:this.atlasSpecial},e.prototype.getAtlasBlur=function(t){return t<10?this.atlasSymbolBlur:this.atlasSpecialBlur},e.prototype.getBgInfoBar=function(t){return this.atlasInfoBar.getSpriteFrame(1==t?"infoboard_lv01_bonus":"infoboard_lv01")},e.prototype.getBgMaskInfoBar=function(t){return this.atlasInfoBar.getSpriteFrame(1==t?"infoboard_lv01_bonus_mask":"infoboard_lv01_mask")},e.prototype.onDestroy=function(){this.poolSymbol.clear(),this.poolEffNearWin.clear(),this.poolWinSymbol.clear(),this.poolSmoke.clear()},c([u(cc.SpriteAtlas)],e.prototype,"atlasSymbol",void 0),c([u(cc.SpriteAtlas)],e.prototype,"atlasSpecial",void 0),c([u(cc.SpriteAtlas)],e.prototype,"atlasSymbolBlur",void 0),c([u(cc.SpriteAtlas)],e.prototype,"atlasSpecialBlur",void 0),c([u(cc.SpriteAtlas)],e.prototype,"atlasMultiCtr",void 0),c([u(cc.SpriteAtlas)],e.prototype,"atlasInfoBar",void 0),c([u(cc.Prefab)],e.prototype,"itemSymbolMatChuoc",void 0),c([u(cc.Prefab)],e.prototype,"itemShuffToNormal",void 0),c([u(cc.Prefab)],e.prototype,"bkgTakeSymbol",void 0),c([u(cc.Prefab)],e.prototype,"efTakeSymbol",void 0),c([u(cc.Prefab)],e.prototype,"effRemoveItem",void 0),c([u(cc.Prefab)],e.prototype,"nodeAddScater",void 0),c([u(cc.Prefab)],e.prototype,"nearFS",void 0),c([u(cc.Prefab)],e.prototype,"dragonFS",void 0),c([u(cc.Prefab)],e.prototype,"coin",void 0),c([u(cc.Node)],e.prototype,"bgDragonFS",void 0),c([u(cc.SpriteFrame)],e.prototype,"bgMaskNormal",void 0),c([u(cc.SpriteFrame)],e.prototype,"bgMaskFS",void 0),c([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./SymbolMatChuoc":"SymbolMatChuoc"}],AudioMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"29996n/F39A+YUQDZDdJcl3","AudioMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,o){var i,c=arguments.length,r=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,n,r):i(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Scritps/Parent/AudioManager"),a=cc._decorator,s=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.voxRandom=[],e.voxMulti=[],e.voxMultiFS=[],e.voxSymbol=[],e.voxInfoBoard=[],e.voxIsScatter=null,e.multiUpupup=null,e.reelQuickStop=null,e.reelStopSingle=null,e.fsDragonFly=null,e.fsMultiplyRefresh=null,e.click=null,e.bgm_fs=null,e.bgmBigwinEnd=null,e.bgmBigwinEndCoins=null,e.bgmBigwinMain=null,e.bgmTotalwinEnd=null,e.bgmTotalwinMain=null,e.fastspinEnd=null,e.fastspinStart=null,e.featureBuyBtn=null,e.featureBuyCancel=null,e.featureBuyHover=null,e.featureBuyStart=null,e.fsIntro=null,e.fsSpin=null,e.fsTrans=null,e.fsWonRemainingIncrease=null,e.fsWonTitle=null,e.heartbeat=null,e.heartbeatNoise=null,e.heartbeatSlowdrop=null,e.list_item_click=null,e.menu_icon_press=null,e.multiCombine=null,e.prizeInfobarTotalwin=null,e.prizeInfobarTotalwinMedEnd=null,e.prizeInfobarTotalwinMedMain=null,e.prizeInfobarUpgrade=null,e.prizeSmallwin=null,e.prizeSmallwinMultiplied=null,e.rouletteEnd=null,e.rouletteLoop=null,e.rouletteStart=null,e.scatterWinHighligh=null,e.slider_effect=null,e.spinActiveLoop=null,e.spinBtn=null,e.spinStop=null,e.spinStopQuick=null,e.symCollapse=null,e.symScatter=null,e.symShrink=null,e.symWild=null,e.uiCollect=null,e.uiInfo=null,e.uiStart=null,e.objKey={},e}return i(e,t),e.prototype.onChangeMusic=function(e){t.prototype.onChangeMusic.call(this,e),this.isActiveSound=e},e.prototype.playClick=function(){this.playEffect(this.click)},e.prototype.playMusic=function(){this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.5))},e.prototype.playIndexTakeLine=function(){},e.prototype.playSmalWin=function(){},e.prototype.playBkgfs=function(){this.stopMusic(),this.playEffect(this.bgm_fs,.6,!0)},e.prototype.stopBkgFs=function(){this.stopEffect(this.bgm_fs,!0),this.playMusic()},e.prototype.playSymCollapse=function(){this.playEffect(this.symCollapse)},e.prototype.playStopAudio=function(){var t=this.spinStop;this.playEffect(t)},c([u([cc.AudioClip])],e.prototype,"voxRandom",void 0),c([u([cc.AudioClip])],e.prototype,"voxMulti",void 0),c([u([cc.AudioClip])],e.prototype,"voxMultiFS",void 0),c([u([cc.AudioClip])],e.prototype,"voxSymbol",void 0),c([u([cc.AudioClip])],e.prototype,"voxInfoBoard",void 0),c([u(cc.AudioClip)],e.prototype,"voxIsScatter",void 0),c([u(cc.AudioClip)],e.prototype,"multiUpupup",void 0),c([u(cc.AudioClip)],e.prototype,"reelQuickStop",void 0),c([u(cc.AudioClip)],e.prototype,"reelStopSingle",void 0),c([u(cc.AudioClip)],e.prototype,"fsDragonFly",void 0),c([u(cc.AudioClip)],e.prototype,"fsMultiplyRefresh",void 0),c([u(cc.AudioClip)],e.prototype,"click",void 0),c([u(cc.AudioClip)],e.prototype,"bgm_fs",void 0),c([u(cc.AudioClip)],e.prototype,"bgmBigwinEnd",void 0),c([u(cc.AudioClip)],e.prototype,"bgmBigwinEndCoins",void 0),c([u(cc.AudioClip)],e.prototype,"bgmBigwinMain",void 0),c([u(cc.AudioClip)],e.prototype,"bgmTotalwinEnd",void 0),c([u(cc.AudioClip)],e.prototype,"bgmTotalwinMain",void 0),c([u(cc.AudioClip)],e.prototype,"fastspinEnd",void 0),c([u(cc.AudioClip)],e.prototype,"fastspinStart",void 0),c([u(cc.AudioClip)],e.prototype,"featureBuyBtn",void 0),c([u(cc.AudioClip)],e.prototype,"featureBuyCancel",void 0),c([u(cc.AudioClip)],e.prototype,"featureBuyHover",void 0),c([u(cc.AudioClip)],e.prototype,"featureBuyStart",void 0),c([u(cc.AudioClip)],e.prototype,"fsIntro",void 0),c([u(cc.AudioClip)],e.prototype,"fsSpin",void 0),c([u(cc.AudioClip)],e.prototype,"fsTrans",void 0),c([u(cc.AudioClip)],e.prototype,"fsWonRemainingIncrease",void 0),c([u(cc.AudioClip)],e.prototype,"fsWonTitle",void 0),c([u(cc.AudioClip)],e.prototype,"heartbeat",void 0),c([u(cc.AudioClip)],e.prototype,"heartbeatNoise",void 0),c([u(cc.AudioClip)],e.prototype,"heartbeatSlowdrop",void 0),c([u(cc.AudioClip)],e.prototype,"list_item_click",void 0),c([u(cc.AudioClip)],e.prototype,"menu_icon_press",void 0),c([u(cc.AudioClip)],e.prototype,"multiCombine",void 0),c([u(cc.AudioClip)],e.prototype,"prizeInfobarTotalwin",void 0),c([u(cc.AudioClip)],e.prototype,"prizeInfobarTotalwinMedEnd",void 0),c([u(cc.AudioClip)],e.prototype,"prizeInfobarTotalwinMedMain",void 0),c([u(cc.AudioClip)],e.prototype,"prizeInfobarUpgrade",void 0),c([u(cc.AudioClip)],e.prototype,"prizeSmallwin",void 0),c([u(cc.AudioClip)],e.prototype,"prizeSmallwinMultiplied",void 0),c([u(cc.AudioClip)],e.prototype,"rouletteEnd",void 0),c([u(cc.AudioClip)],e.prototype,"rouletteLoop",void 0),c([u(cc.AudioClip)],e.prototype,"rouletteStart",void 0),c([u(cc.AudioClip)],e.prototype,"scatterWinHighligh",void 0),c([u(cc.AudioClip)],e.prototype,"slider_effect",void 0),c([u(cc.AudioClip)],e.prototype,"spinActiveLoop",void 0),c([u(cc.AudioClip)],e.prototype,"spinBtn",void 0),c([u(cc.AudioClip)],e.prototype,"spinStop",void 0),c([u(cc.AudioClip)],e.prototype,"spinStopQuick",void 0),c([u(cc.AudioClip)],e.prototype,"symCollapse",void 0),c([u(cc.AudioClip)],e.prototype,"symScatter",void 0),c([u(cc.AudioClip)],e.prototype,"symShrink",void 0),c([u(cc.AudioClip)],e.prototype,"symWild",void 0),c([u(cc.AudioClip)],e.prototype,"uiCollect",void 0),c([u(cc.AudioClip)],e.prototype,"uiInfo",void 0),c([u(cc.AudioClip)],e.prototype,"uiStart",void 0),c([s],e)}(r.default);n.default=l,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":void 0}],BigwinMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"46e54WPV/FAhpmc2paFsDFI","BigwinMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,o){var i,c=arguments.length,r=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,n,r):i(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,c){function r(t){try{s(o.next(t))}catch(e){c(e)}}function a(t){try{s(o.throw(t))}catch(e){c(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,a)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,c,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(t){return function(e){return s([t,e])}}function s(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&c[0]?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(6===c[0]&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(a){c=[6,a],o=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,u=s.ccclass,l=s.property,p=t("../../../../Scritps/DefineTs/REQUEST_CODE"),h=t("../../../../Scritps/Game/GAME_TYPE"),d=t("../../../../Scritps/Network/ConectManager"),f=t("../../../../Scritps/Other/LbMonoSpace"),y=t("../../../../Scritps/Util"),m=t("../../../../Scritps/Windown"),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lb_Money=null,e.btnFast=null,e.listPromiseIgro=[],e.isClickBtnFast=!1,e.bigWin=null,e.megaWin=null,e.superWin=null,e.animTake1=null,e.animTake2=null,e.nodeLoopCoinMega=null,e.nodeLoopCoinSuperWin=null,e.listColor=[],e}return i(e,t),e.prototype.init=function(t,e){var n=this;return this.bigWin.node.active=!1,this.megaWin.node.active=!1,this.superWin.node.active=!1,new Promise(function(o){return r(n,void 0,void 0,function(){var n,i,c,r,s,u,l=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,7,,8]),this.btnFast.interactable=!1,this.scheduleOnce(function(){l.btnFast.interactable=!0},1),this.lb_Money.node.active=!0,this.node.opacity=0,this.nodeLoopCoinMega.opacity=0,this.nodeLoopCoinSuperWin.opacity=0,this.node.runAction(cc.fadeIn(.3)),this.lb_Money.resetLb(),4,n=e<15?4:e<30?8:12,this.lb_Money.time=n,this.lb_Money.setMoney(t),this.animTake1.play("BigWin2"),this.animTake2.play("BigWin3"),this.bigWin.node.active=!0,this.bigWin.play("BigWin1"),m.Windown.MatChuoc.audio.playEffect(m.Windown.MatChuoc.audio.bgmBigwinMain),i=m.Windown.MatChuoc.getMakeDelay(4),this.listPromiseIgro.push(i),[4,i.prosime];case 1:return a.sent(),e>=30?(this.bigWin.node.active=!1,this.megaWin.node.active=!0,this.nodeLoopCoinMega.runAction(cc.fadeIn(.4)),this.megaWin.play("MegaWin1"),m.Windown.MatChuoc.audio.playEffect(m.Windown.MatChuoc.audio.bgmBigwinEnd),this.animTake1.play("BigWin2"),this.animTake2.play("BigWin3"),this.isClickBtnFast?[3,3]:(c=m.Windown.MatChuoc.getMakeDelay(4),this.listPromiseIgro.push(c),[4,c.prosime])):[3,3];case 2:a.sent(),a.label=3;case 3:return e>=50?(this.megaWin.node.active=!1,this.superWin.node.active=!0,this.superWin.play("SuperWin1"),this.nodeLoopCoinSuperWin.runAction(cc.fadeIn(.4)),m.Windown.MatChuoc.audio.playEffect(m.Windown.MatChuoc.audio.bgmBigwinEnd),this.animTake1.play("BigWin2"),this.animTake2.play("BigWin3"),cc.find("ParentCoint",this.superWin.node),this.isClickBtnFast?[3,5]:(c=m.Windown.MatChuoc.getMakeDelay(4),this.listPromiseIgro.push(c),[4,c.prosime])):[3,5];case 4:a.sent(),a.label=5;case 5:return m.Windown.MatChuoc.audio.stopEffect(m.Windown.MatChuoc.audio.bgmBigwinMain),m.Windown.MatChuoc.audio.playEffect(m.Windown.MatChuoc.audio.bgmBigwinEnd),m.Windown.MatChuoc.dataFinish.agWin>1e4&&((r=d.ConectManager.getIns().getSFSObj()).putInt("gt",h.default.MatChuoc),r.putInt("mt",m.Windown.MatChuoc.dataFinish.agWin),r.putUtfString("nn",m.Windown.User.nickName),r.putUtfString("dt","bw"),d.ConectManager.getIns().sendRequest(p.REQUEST_CODE.AddBigWin,r)),this.animTake1.play("BigWin2"),this.animTake2.play("BigWin3"),this.lb_Money.setMoneyNoTime(t),this.lb_Money.node.runAction(cc.sequence(cc.scaleTo(.2,1.3),cc.scaleTo(.2,1))),s=m.Windown.MatChuoc.getMakeDelay(4),this.listPromiseIgro.push(s),this.btnFast.interactable=!0,[4,s.prosime];case 6:return a.sent(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){o(null),l.node.destroy()}))),[3,8];case 7:return u=a.sent(),o(null),this.node.destroy(),cc.log(u.stack),y.Util.ThrowErrProsime(u),[3,8];case 8:return[2]}})})})},e.prototype.onClickBtnShowFast=function(){for(this.btnFast.interactable=!1,this.isClickBtnFast=!0;this.listPromiseIgro.length>0;)this.listPromiseIgro.shift().cancle(!0)},c([l(f.default)],e.prototype,"lb_Money",void 0),c([l(cc.Button)],e.prototype,"btnFast",void 0),c([l(cc.Animation)],e.prototype,"bigWin",void 0),c([l(cc.Animation)],e.prototype,"megaWin",void 0),c([l(cc.Animation)],e.prototype,"superWin",void 0),c([l(cc.Animation)],e.prototype,"animTake1",void 0),c([l(cc.Animation)],e.prototype,"animTake2",void 0),c([l(cc.Node)],e.prototype,"nodeLoopCoinMega",void 0),c([l(cc.Node)],e.prototype,"nodeLoopCoinSuperWin",void 0),c([l([cc.Color])],e.prototype,"listColor",void 0),c([u],e)}(cc.Component);n.default=S,cc._RF.pop()},{"../../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../../Scritps/Game/GAME_TYPE":void 0,"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Other/LbMonoSpace":void 0,"../../../../Scritps/Util":void 0,"../../../../Scritps/Windown":void 0}],CachChoiMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"4b538+4ftVLpb71leELKQdH","CachChoiMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,o){var i,c=arguments.length,r=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,n,r):i(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Scritps/Windown"),a=cc._decorator,s=a.ccclass,u=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onClickClose=function(){var t=this;r.Windown.MatChuoc.audio.playClick(),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).call(function(){cc.tween(t.node).to(.3,{opacity:0}).start()}).call(function(){t.node.destroy()}).start()},c([s],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],DetailHistoryMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"3460boap1RJ2rrp4p2T+4vS","DetailHistoryMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,o){var i,c=arguments.length,r=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,n,r):i(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,u=t("../../../Scritps/Windown"),l=t("./ItemResultDetailMatChuoc"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.itemTemplate=null,e.lbTitle=null,e.lbTime=null,e.lbBet=null,e.lbWin=null,e.lbMNUser=null,e.lbCuocCoSo=null,e.isFreeSpin=!1,e}return i(e,t),e.prototype.show=function(t){var e=this;console.log("DetailHistoryMatChuoc: "+JSON.stringify(t)),this.node.active=!0,this.node.position.x=721.812,this.node.stopAllActions(),this.node.opacity=0,this.node.runAction(cc.spawn(cc.moveTo(.3,cc.v2(0,0)),cc.fadeIn(.3).easing(cc.easeElasticIn(3))));var n=t.date,o=t.infolog,i=JSON.parse(o);cc.log(o),this.isFreeSpin=i.numFreeSpin>0,0==i.agBet?this.lbTitle.string="Free spin":this.lbTitle.string="Spin normal",this.lbTime.string=u.Windown.formatDate(new Date(n),"dd/MM HH:mm:ss"),this.lbBet.string=u.Windown.formatNumber(20*i.agBet),this.lbWin.string=u.Windown.formatNumber(i.agWin),this.lbMNUser.string=u.Windown.formatNumber(i.agUser),this.lbCuocCoSo.string=u.Windown.formatNumber(i.agBet);var c=JSON.parse(i.arrBonus);for(0!=i.agBet?c.unshift(1):c.unshift(2);this.parentItem.children.length>0;){var r=this.parentItem.children[0];r.removeFromParent(),r.destroy()}i.views.forEach(function(t,n){var o=e.parentItem.children[n];null==o&&((o=cc.instantiate(e.itemTemplate)).parent=e.parentItem,o.active=!0),o.active=!0;var r=o.getComponent(l.default);i.listItemWin[n]&&(i.listItemWin[n].lsIdItem=JSON.parse(i.listItemWin[n].lsIdItem),i.listItemWin[n].lsstack=JSON.parse(i.listItemWin[n].lsstack),i.listItemWin[n].lsAgWin=JSON.parse(i.listItemWin[n].lsAgWin)),r.init(t,i.listItemWin[n],c[n],i.agBet)});for(var a=i.views.length;a<this.parentItem.children.length;a++)this.parentItem.children[a].active=!1},e.prototype.onClickClose=function(){var t=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.3,cc.v2(721.812,0)),cc.fadeOut(.3).easing(cc.easeElasticOut(3))),cc.callFunc(function(){t.node.active=!1})))},c([s(cc.Node)],e.prototype,"parentItem",void 0),c([s(cc.Node)],e.prototype,"itemTemplate",void 0),c([s(cc.Label)],e.prototype,"lbTitle",void 0),c([s(cc.Label)],e.prototype,"lbTime",void 0),c([s(cc.Label)],e.prototype,"lbBet",void 0),c([s(cc.Label)],e.prototype,"lbWin",void 0),c([s(cc.Label)],e.prototype,"lbMNUser",void 0),c([s(cc.Label)],e.prototype,"lbCuocCoSo",void 0),c([a],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":void 0,"./ItemResultDetailMatChuoc":"ItemResultDetailMatChuoc"}],EffectDragonFS:[function(t,e,n){"use strict";cc._RF.push(e,"d1c2eYXxEZHEIK0yqVnpNzU","EffectDragonFS");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,o){var i,c=arguments.length,r=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,n,r):i(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.EffectDragonFS=void 0;var r=t("../../../../Scritps/Windown"),a=cc._decorator,s=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dragonAnim=null,e}return i(e,t),e.prototype.showDragon=function(){r.Windown.MatChuoc.audio.playEffect(r.Windown.MatChuoc.audio.fsDragonFly),this.dragonAnim.play("dragon")},c([u(cc.Animation)],e.prototype,"dragonAnim",void 0),c([s],e)}(cc.Component);n.EffectDragonFS=l,cc._RF.pop()},{"../../../../Scritps/Windown":void 0}],EffectMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"2ba98URDlBD6786r7iORldn","EffectMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,o){var i,c=arguments.length,r=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,n,r):i(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,c){function r(t){try{s(o.next(t))}catch(e){c(e)}}function a(t){try{s(o.throw(t))}catch(e){c(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,a)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,c,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(t){return function(e){return s([t,e])}}function s(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&c[0]?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(6===c[0]&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(a){c=[6,a],o=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,u=s.ccclass,l=s.property,p=t("../../../Scritps/Game/GAME_TYPE"),h=t("../../../Scritps/Other/LbMonoSpace"),d=t("./Effect/BigwinMatChuoc"),f=t("./Effect/EndFreeSpinMatChuoc"),y=t("./Effect/NearFsMatChuoc"),m=t("./Effect/StartFreeSpinMatChuoc"),S=t("../../../Scritps/Windown"),v=t("../../../Scritps/Util"),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeMask=null,e.lb_Money=null,e.nodeBigWin=null,e.listNodeBoxMoney=[],e.btnFast=null,e.listPromiseIgro=[],e.isClickBtnFast=!1,e.funNext=null,e.funDelayOff=null,e.mapColor=new Map,e.nodeEffNearWin=null,e}return i(e,t),e.prototype.onLoad=function(){this.funNext=null},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){this.unschedule(this.funDelayOff)},e.prototype.initPosMask=function(t){cc.find("mask",this.node).setPosition(cc.v3(this.node.getPosition().x,t,0))},e.prototype.onClickBtnShowFast=function(){for(this.btnFast.interactable=!1,this.isClickBtnFast=!0;this.listPromiseIgro.length>0;)this.listPromiseIgro.shift().cancle(!0)},e.prototype.showBigWin=function(t,e){var n=this;return new Promise(function(o){return r(n,void 0,void 0,function(){var n,i,c;return a(this,function(r){switch(r.label){case 0:return[4,S.Windown.loadRes(p.default.MatChuoc.toString(),"Frefabs/Bigwin",cc.Prefab)];case 1:return n=r.sent(),(i=cc.instantiate(n)).parent=this.node,c=i.getComponent(d.default),[4,S.Windown.MatChuoc.getPromise(c.init(t,e))];case 2:return r.sent(),o(null),[2]}})})})},e.prototype.activeNodeNearWin=function(t){S.Windown.MatChuoc.activeMask(!0);for(var e=t;e<5;e++)S.Windown.MatChuoc.activeMask(!1,e);if(null==this.nodeEffNearWin)for(this.nodeEffNearWin=cc.instantiate(S.Windown.MatChuoc.asset.nearFS),this.nodeEffNearWin.parent=S.Windown.MatChuoc.parentEffect,e=0;e<t;e++)S.Windown.MatChuoc.listColum[e].getListSymbolResult().forEach(function(t){return t.effectScaterShowFS()});this.nodeEffNearWin.getComponent(y.default).init(t)},e.prototype.offNearWin=function(){S.Windown.MatChuoc.activeMask(!1),S.Windown.MatChuoc.audio.stopEffect(S.Windown.MatChuoc.audio.fastspinStart),this.nodeEffNearWin&&this.nodeEffNearWin.getComponent(y.default).effOff(),this.nodeEffNearWin=null;for(var t=0,e=S.Windown.MatChuoc.listColum;t<e.length;t++){var n=e[t];console.log("index "+n.index+" : "+n.getListSymbolResult());for(var o=0,i=n.getListSymbolResult();o<i.length;o++){var c=i[o];c&&c.checkIsInView()&&c.effectScaterIdle()}}},e.prototype.swidthFS=function(t,e){t?(this.listNodeBoxMoney.forEach(function(t){t.setPosition(cc.v3(t.getPosition().x,-550))}),S.Windown.MatChuoc.switchBkgGame(!0,e)):(S.Windown.MatChuoc.switchBkgGame(!1),this.listNodeBoxMoney.forEach(function(t){t.setPosition(cc.v3(t.getPosition().x,-381.5))}))},e.prototype.activeNearWinNoSap=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,c,r,s,u,l,p,h,d,f,y,m,g,w;return a(this,function(a){switch(a.label){case 0:if(a.trys.push([0,5,,6]),!(S.Windown.MatChuoc.stateSpin.curentCountScater>2)||S.Windown.MatChuoc.stateSpin.isMaxSpeed)return e(null),[2];for(S.Windown.MatChuoc.audio.playEffect(S.Windown.MatChuoc.audio.heartbeatNoise),t=!1,S.Windown.MatChuoc.stateSpin.offAllSymbol(!1),n=0,o=S.Windown.MatChuoc.listColum;n<o.length;n++){for(f=o[n],i=0,c=f.getListSymbolResult();i<c.length;i++)if(!(g=c[i]).checkIsInView()){t=!0;break}if(t)break}if(!t)return e(null),[2];for(r=0,s=S.Windown.MatChuoc.listColum;r<s.length;r++)for(f=s[r],u=0,l=f.getListSymbolResult();u<l.length;u++)(g=l[u]).checkIsInView()&&g.effectNearWinScater(!0);S.Windown.MatChuoc.infoBar.showOneMoreScater(),p=0,a.label=1;case 1:return p<4?(S.Windown.MatChuoc.audio.playEffectNoStop(S.Windown.MatChuoc.audio.heartbeat),[4,S.Windown.MatChuoc.getMakeDelay(.9).prosime]):[3,4];case 2:a.sent(),a.label=3;case 3:return p++,[3,1];case 4:for(S.Windown.MatChuoc.activeMask(!1),h=0,d=S.Windown.MatChuoc.listColum;h<d.length;h++)for(f=d[h],y=0,m=f.getListSymbolResult();y<m.length;y++)(g=m[y]).checkIsInView()&&g.effectScaterIdle();return e(null),[3,6];case 5:return w=a.sent(),v.Util.ThrowErrProsime(w),[3,6];case 6:return[2]}})})})},e.prototype.showTakeFreeSpin=function(t){var e=this;return new Promise(function(n){return r(e,void 0,void 0,function(){var e,o,i,c;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),S.Windown.MatChuoc.stateSpin.freeSpinCache=t,S.Windown.MatChuoc.audio.playEffect(S.Windown.MatChuoc.audio.voxIsScatter),S.Windown.MatChuoc.stateSpin.activeAllSymbol(),S.Windown.MatChuoc.listColum.forEach(function(t){t.getListSymbolResult().forEach(function(t){t.effectScaterShowFS()})}),S.Windown.MatChuoc.audio.playEffect(S.Windown.MatChuoc.audio.scatterWinHighligh),S.Windown.loadRes(p.default.MatChuoc.toString(),"Frefabs/ShowFreeSpin",cc.Prefab),[4,S.Windown.MatChuoc.getMakeDelay(1.5).prosime];case 1:return r.sent(),S.Windown.UIManager.showLoading(),[4,S.Windown.loadRes(p.default.MatChuoc.toString(),"Frefabs/ShowFreeSpin",cc.Prefab)];case 2:return e=r.sent(),S.Windown.UIManager.hideLoading(),(o=cc.instantiate(e)).parent=this.node,i=o.getComponent(m.default),[4,S.Windown.MatChuoc.getPromise(i.show(t))];case 3:return r.sent(),S.Windown.MatChuoc.effect.swidthFS(!0),S.Windown.MatChuoc.setLbFreeSpinLeft(t),[4,S.Windown.MatChuoc.getMakeDelay(1).prosime];case 4:return r.sent(),n(null),[3,6];case 5:return c=r.sent(),v.Util.ThrowErrProsime(c),[3,6];case 6:return[2]}})})})},e.prototype.showEndFree=function(t){var e=this;return new Promise(function(n){return r(e,void 0,void 0,function(){var e,o,i,c;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),t<1?(S.Windown.MatChuoc.audio.stopBkgFs(),this.swidthFS(!1),n(null),[2]):[4,S.Windown.loadRes(p.default.MatChuoc.toString(),"Frefabs/EndFreeSpin",cc.Prefab)];case 1:return e=r.sent(),this.swidthFS(!1),(o=cc.instantiate(e)).parent=this.node,i=o.getComponent(f.default),[4,S.Windown.MatChuoc.getPromise(i.show(t))];case 2:return r.sent(),n(null),[3,4];case 3:return c=r.sent(),v.Util.ThrowErrProsime(c),[3,4];case 4:return[2]}})})})},e.prototype.pointsOnCircle=function(t){var e=t.radius,n=t.angle,o=t.cx,i=t.cy;return n*=Math.PI/180,[o+e*Math.sin(n),i+e*Math.cos(n)]},e.prototype.resetView=function(){this.lb_Money.resetLb(),this.lb_Money.node.active=!1,this.node.opacity=255,this.nodeBigWin.active=!1},e.prototype.onClose=function(){var t=this;this.btnFast.interactable=!1,this.unschedule(this.funDelayOff),this.unschedule(this.onClose),this.funNext&&this.funNext(),this.funNext=null,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){t.resetView()}))),this.isClickBtnFast=!1},c([l(cc.Node)],e.prototype,"nodeMask",void 0),c([l(h.default)],e.prototype,"lb_Money",void 0),c([l(cc.Node)],e.prototype,"nodeBigWin",void 0),c([l([cc.Node])],e.prototype,"listNodeBoxMoney",void 0),c([l(cc.Button)],e.prototype,"btnFast",void 0),c([u],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../Scritps/Game/GAME_TYPE":void 0,"../../../Scritps/Other/LbMonoSpace":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./Effect/BigwinMatChuoc":"BigwinMatChuoc","./Effect/EndFreeSpinMatChuoc":"EndFreeSpinMatChuoc","./Effect/NearFsMatChuoc":"NearFsMatChuoc","./Effect/StartFreeSpinMatChuoc":"StartFreeSpinMatChuoc"}],EffectSymbolMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"480a1P2LhZJtp/dQdAeRauJ","EffectSymbolMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,o){var i,c=arguments.length,r=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,n,r):i(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Windown"),a=t("../SymbolMatChuoc"),s=cc._decorator,u=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._bkgEffectTake=null,e.resultTake=0,e.typeItem=0,e}return i(e,t),e.prototype.effTakeItem=function(t,e,n){this.node.opacity=0,this.resultTake=t,this.typeItem=e,this.node.runAction(cc.fadeIn(.2));var o=cc.find("item",this.node).getComponent(cc.Sprite),i=cc.find("bkg",this.node).getComponent(cc.Sprite),c=cc.find("buiSang",this.node),s=cc.find("wild_b",this.node);o.spriteFrame=r.Windown.MatChuoc.asset.getSfItemSymbol(t,!1),i.spriteFrame=r.Windown.MatChuoc.asset.getSfBkg(t,e),i.node.setPosition(cc.v3(0,0,0)),t<9?e==a.TYPE_ITEM.VANG&&(c.active=!0,s.active=!0):9==t?(c.active=!0,s.active=!0,s.opacity=255):c.active=!0,this.node.getComponent(cc.Animation).getAnimationState("takeSymbol").speed*=r.Windown.MatChuoc.getDelta(),this.node.getComponent(cc.Animation).play("takeSymbol");var u=cc.instantiate(r.Windown.MatChuoc.asset.bkgTakeSymbol);u.parent=r.Windown.MatChuoc.parentBkgEffect,u.zIndex=0,u.setSiblingIndex(0),u.setPosition(n),u.opacity=0,u.runAction(cc.fadeIn(.2)),this._bkgEffectTake=u},e.prototype.effectRemoveTakeItem=function(t){var e=this,n=r.Windown.MatChuoc.stateSpin.isMaxSpeed?2:1;if(this._bkgEffectTake){var o=this._bkgEffectTake;o.runAction(cc.sequence(cc.delayTime(.3/n),cc.callFunc(function(){o.destroy()})))}this._bkgEffectTake=null,this.resultTake<9?(r.Windown.MatChuoc.audio.playEffect(r.Windown.MatChuoc.audio.symShrink),t==a.TYPE_ITEM.VANG?(this.node.getComponent(cc.Animation).getAnimationState("takeSymbol2").speed*=r.Windown.MatChuoc.getDelta(),this.node.getComponent(cc.Animation).on(cc.Animation.EventType.FINISHED,function(){e.node.getComponent(cc.Animation).play("takeSymbol2"),e.node.getComponent(cc.Animation).once(cc.Animation.EventType.FINISHED,function(){e.node.destroy()})})):(this.node.getComponent(cc.Animation).getAnimationState("takeSymbol1").speed*=r.Windown.MatChuoc.getDelta(),this.node.getComponent(cc.Animation).on(cc.Animation.EventType.FINISHED,function(){e.node.getComponent(cc.Animation).play("takeSymbol1"),e.node.getComponent(cc.Animation).once(cc.Animation.EventType.FINISHED,function(){e.node.destroy()})}))):(r.Windown.MatChuoc.audio.playEffectNoStop(r.Windown.MatChuoc.audio.symWild),this.node.getComponent(cc.Animation).getAnimationState("takeSymbolWild").speed*=r.Windown.MatChuoc.getDelta(),this.node.getComponent(cc.Animation).on(cc.Animation.EventType.FINISHED,function(){e.node.getComponent(cc.Animation).play("takeSymbolWild"),e.node.getComponent(cc.Animation).once(cc.Animation.EventType.FINISHED,function(){e.node.destroy()})}))},e.prototype.effRemoveItem=function(){var t=this,e=this.getComponent(cc.Animation);e.once(cc.Animation.EventType.FINISHED,function(){t.node.destroy()}),e.getComponent(cc.Animation).getAnimationState("remove").speed*=r.Windown.MatChuoc.getDelta(),e.play("remove"),cc.log("effectRemoveItem")},e.prototype.onDestroy=function(){cc.log("onDestroy"),this._bkgEffectTake&&this._bkgEffectTake.destroy(),this._bkgEffectTake=null},c([u],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"../SymbolMatChuoc":"SymbolMatChuoc"}],EndFreeSpinMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"a274fVFJXdMBILbjrm/GfWz","EndFreeSpinMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,o){var i,c=arguments.length,r=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,n,r):i(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,c){function r(t){try{s(o.next(t))}catch(e){c(e)}}function a(t){try{s(o.throw(t))}catch(e){c(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,a)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,c,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(t){return function(e){return s([t,e])}}function s(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&c[0]?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(6===c[0]&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(a){c=[6,a],o=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,u=s.ccclass,l=s.property,p=t("../../../../Scritps/DefineTs/REQUEST_CODE"),h=t("../../../../Scritps/Game/GAME_TYPE"),d=t("../../../../Scritps/Network/ConectManager"),f=t("../../../../Scritps/Other/LbMonoSpace"),y=t("../../../../Scritps/Util"),m=t("../../../../Scritps/Windown"),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.btnThuThap=null,e.animBig=null,e.atlas=null,e}return i(e,t),e.prototype.show=function(t){var e=this;return new Promise(function(n){return r(e,void 0,void 0,function(){var e,o,i,c,r,s=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),m.Windown.MatChuoc.audio.playEffect(m.Windown.MatChuoc.audio.bgmTotalwinMain),this.getComponent(cc.Animation),e=[],o=m.Windown.MatChuoc.getMakeDelay(6),e.push(o),this.btnThuThap.active=!1,this.label.resetLb(),this.label.time=6,this.label.setMoney(t),i=function(){for(;e.length>0;)e.shift().cancle(!1);if(s.animBig.play("BigWin2"),s.btnThuThap.getChildByName("collect").getComponent(cc.Sprite).spriteFrame=s.atlas.getSpriteFrame("collect_pressed"),m.Windown.MatChuoc.stateSpin.isShowingDragon=!1,t>1e4){var o=d.ConectManager.getIns().getSFSObj();o.putInt("gt",h.default.MatChuoc),o.putInt("mt",t),o.putUtfString("nn",m.Windown.User.nickName),o.putUtfString("dt","fs"),d.ConectManager.getIns().sendRequest(p.REQUEST_CODE.AddBigWin,o)}s.node.runAction(cc.sequence(cc.delayTime(1),cc.fadeOut(.3),cc.callFunc(function(){s.node.destroy(),n(null),m.Windown.MatChuoc.audio.stopBkgFs()}))),cc.log("nhay vao end ne")},this.scheduleOnce(function(){s.node.once(cc.Node.EventType.TOUCH_END,function(){for(;e.length>0;)e.shift().cancle(!0)})},.5),[4,o.prosime];case 1:return a.sent(),this.animBig.play("BigWin2"),this.node.targetOff(this),c=m.Windown.MatChuoc.getMakeDelay(6),e.push(c),this.label.setMoneyNoTime(t),this.animBig.play("BigWin2"),this.label.node.parent.runAction(cc.sequence(cc.scaleTo(.15,1.15),cc.scaleTo(.15,1))),this.btnThuThap.active=!0,this.btnThuThap.opacity=0,this.btnThuThap.runAction(cc.sequence(cc.fadeIn(.5),cc.callFunc(function(){s.btnThuThap.getComponent(cc.Animation).play("btnEndFS")}))),this.btnThuThap.once("click",i),m.Windown.MatChuoc.audio.stopEffect(m.Windown.MatChuoc.audio.bgmTotalwinMain),m.Windown.MatChuoc.audio.playEffect(m.Windown.MatChuoc.audio.bgmTotalwinEnd),[4,c.prosime];case 2:return a.sent(),i(),[3,4];case 3:return r=a.sent(),y.Util.ThrowErrProsime(r),[3,4];case 4:return[2]}})})})},c([l(f.default)],e.prototype,"label",void 0),c([l(cc.Node)],e.prototype,"btnThuThap",void 0),c([l(cc.Animation)],e.prototype,"animBig",void 0),c([l(cc.SpriteAtlas)],e.prototype,"atlas",void 0),c([u],e)}(cc.Component);n.default=S,cc._RF.pop()},{"../../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../../Scritps/Game/GAME_TYPE":void 0,"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Other/LbMonoSpace":void 0,"../../../../Scritps/Util":void 0,"../../../../Scritps/Windown":void 0}],InfoBarControllerMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"212ea3xQbNCJoA09DGyCL5i","InfoBarControllerMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,o){var i,c=arguments.length,r=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,n,r):i(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,c){function r(t){try{s(o.next(t))}catch(e){c(e)}}function a(t){try{s(o.throw(t))}catch(e){c(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,a)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,c,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(t){return function(e){return s([t,e])}}function s(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&c[0]?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(6===c[0]&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(a){c=[6,a],o=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s,u=cc._decorator,l=u.ccclass,p=u.property,h=t("../../../Scritps/Other/LbMonoSpace"),d=t("../../../Scritps/Util"),f=t("../../../Scritps/Windown");(function(t){t[t.NORMAL=0]="NORMAL",t[t.BIGWIN=1]="BIGWIN",t[t.TOTALWIN=2]="TOTALWIN"})(s||(s={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbMoney=null,e.spTotalWin=null,e.spWin=null,e.spInfoBar=null,e.listInfoBar=[],e.spMaskInfoBar=[],e.parentOneMore=null,e.parentContent=null,e.parentMoney=null,e.anhSang=null,e.takeBigWin=null,e.takeTotalSuperWin=null,e.nodeTakeMoney=null,e.lapLanh1=null,e.lapLanh2=null,e.isShowOneMoreScater=!1,e.stateBar=s.NORMAL,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.showRdContent(),this.parentContent.setPosition(cc.v3(360,this.parentContent.getPosition().y,0)),this.parentContent.runAction(cc.repeatForever(cc.sequence(cc.moveTo(65,cc.v2(-4779.665)),cc.callFunc(function(){t.parentContent.setPosition(306.493,t.parentContent.getPosition().y)}))))},e.prototype.showRdContent=function(){this.parentContent.active=!0,this.parentOneMore.active=!1,this.parentMoney.active=!1},e.prototype.showOneMoreScater=function(){this.isShowOneMoreScater||(this.isShowOneMoreScater=!0,this.parentContent.active=!1,this.parentOneMore.active=!0,this.parentMoney.active=!1,this.anhSang.stopAllActions(),this.anhSang.opacity=50,this.anhSang.runAction(cc.repeatForever(cc.sequence(cc.fadeIn(.3).easing(cc.easeSineInOut()),cc.fadeTo(.3,50).easing(cc.easeSineInOut())))),this.parentOneMore.stopAllActions(),this.parentOneMore.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.3,1.15).easing(cc.easeSineInOut()),cc.scaleTo(.3,1).easing(cc.easeSineInOut())))))},e.prototype.effectDropOneMorScater=function(){this.anhSang.stopAllActions(),this.anhSang.opacity=50,this.parentOneMore.stopAllActions(),this.parentOneMore.runAction(cc.sequence(cc.scaleTo(.1,1.18).easing(cc.easeSineOut()),cc.scaleTo(.1,1).easing(cc.easeSineIn()))),this.anhSang.runAction(cc.sequence(cc.fadeIn(.1).easing(cc.easeSineOut()),cc.fadeTo(.1,50).easing(cc.easeSineIn())))},e.prototype.offOneMoreScater=function(){this.parentOneMore.active=!1,this.offAnhSang()},e.prototype.offLbMoney=function(){this.parentMoney.active=!1},e.prototype.offAnhSang=function(){this.anhSang.stopAllActions()},e.prototype.showTakeMoney=function(t){return r(this,void 0,void 0,function(){var e=this;return a(this,function(){return[2,new Promise(function(n){return r(e,void 0,void 0,function(){var e,o,i,c;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),console.log("Infobar showTakeMoney: "+t),f.Windown.MatChuoc.audio.playEffect(f.Windown.MatChuoc.audio.prizeSmallwin),this.offAnhSang(),cc.find("ParrentMOney/info_win",this.node).active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spWin,this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.lbMoney.setMoneyNoTime(t),e=this.lbMoney.node.parent,o=f.Windown.MatChuoc.curRoomBet*f.Windown.MatChuoc.totalLineBet,i=t/o,console.log("Infobar showTotalMoney: "+i),i<2?(this.getComponent(cc.Animation).play("Take1"),this.nodeTakeMoney.play("TakeMoney")):(this.takeBigWin.getComponent(cc.Animation).play("TakeBig"),this.nodeTakeMoney.play("TakeMoney")),this.lapLanh1.node.runAction(cc.fadeIn(.3)),this.lapLanh1.node.runAction(cc.sequence(cc.delayTime(1.5),cc.fadeOut(.4))),e.setScale(0,0,0),e.opacity=50,e.runAction(cc.spawn(cc.fadeIn(.3),cc.scaleTo(.3,1).easing(cc.easeBackOut()))),f.Windown.MatChuoc.stateSpin.isMaxSpeed?[3,2]:[4,f.Windown.MatChuoc.getMakeDelay(1).prosime];case 1:return r.sent(),[3,4];case 2:return[4,f.Windown.MatChuoc.getMakeDelay(.5).prosime];case 3:r.sent(),r.label=4;case 4:return n(null),[3,6];case 5:return c=r.sent(),d.Util.ThrowErrProsime(c),[3,6];case 6:return[2]}})})})]})})},e.prototype.showTakeMoneyTurn=function(t,e){return r(this,void 0,void 0,function(){var n=this;return a(this,function(){return[2,new Promise(function(o){return r(n,void 0,void 0,function(){var n,i,c;return a(this,function(){try{console.log("Infobar showTakeMoneyTurn: "+t+" : x "+e),cc.find("ParrentMOney/info_win",this.node).active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spWin,n=f.Windown.MatChuoc.curRoomBet*f.Windown.MatChuoc.totalLineBet,i=t/n,1!=e&&f.Windown.MatChuoc.audio.playEffectNoStop(f.Windown.MatChuoc.audio.prizeSmallwin),i<10?(console.log("Infobar take1"),this.getComponent(cc.Animation).play("Take1"),this.nodeTakeMoney.play("TakeMoney"),f.Windown.MatChuoc.audio.playEffect(f.Windown.MatChuoc.audio.voxInfoBoard[0])):(this.takeBigWin.active=!0,0==this.takeBigWin.opacity&&(console.log("Infobar showTakeBig"),this.takeBigWin.runAction(cc.fadeIn(.2)),this.takeBigWin.getComponent(cc.Animation).play("TakeBig")),this.nodeTakeMoney.play("TakeMoney"),f.Windown.MatChuoc.audio.playEffect(f.Windown.MatChuoc.audio.voxInfoBoard[1])),this.lapLanh1.node.runAction(cc.fadeIn(.3)),this.lapLanh1.node.runAction(cc.sequence(cc.delayTime(1.5),cc.fadeOut(.4))),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.lbMoney.setMoneyNoTime(t),(c=this.lbMoney.node.parent).setScale(.1,.1,.1),c.opacity=50,c.runAction(cc.spawn(cc.fadeIn(.3),cc.scaleTo(.3,1).easing(cc.easeBackOut()))),f.Windown.MatChuoc.stateSpin.freeSpinLeft,o(null)}catch(r){d.Util.ThrowErrProsime(r)}return[2]})})})]})})},e.prototype.reset=function(){this.spMaskInfoBar.forEach(function(t){return t.node.active=!0}),this.takeBigWin.runAction(cc.fadeOut(.4)),this.takeTotalSuperWin.runAction(cc.fadeOut(.4)),this.offAnhSang()},e.prototype.showTotalMoney=function(t){var e=this;return new Promise(function(n){return r(e,void 0,void 0,function(){var e,o,i,c;return a(this,function(r){switch(r.label){case 0:this.offAnhSang(),r.label=1;case 1:return r.trys.push([1,10,,11]),0==t?(this.lbMoney.resetLb(),n(null),[2]):(e=f.Windown.MatChuoc.stateSpin.isMaxSpeed?2:1,o=f.Windown.MatChuoc.curRoomBet*f.Windown.MatChuoc.totalLineBet,i=t/o,console.log("Infobar showTotalMoney: "+i),i<5?(this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.parentMoney.setScale(.1),cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.node.getComponent(cc.Animation).play("Take1"),this.nodeTakeMoney.play("TakeMoney"),this.parentMoney.runAction(cc.scaleTo(.3,1).easing(cc.easeBackOut())),this.lapLanh1.node.runAction(cc.fadeIn(.3)),this.lbMoney.setMoneyNoTime(t),f.Windown.MatChuoc.audio.playEffect(f.Windown.MatChuoc.audio.prizeInfobarTotalwin),[4,f.Windown.MatChuoc.getMakeDelay(1).prosime]):[3,3]);case 2:return r.sent(),[3,9];case 3:return i<=10?(f.Windown.MatChuoc.audio.playEffect(f.Windown.MatChuoc.audio.prizeInfobarTotalwinMedMain),f.Windown.MatChuoc.audio.playSmalWin(),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.node.getComponent(cc.Animation).play("TakeBig"),this.lbMoney.time=.5,this.lbMoney.setMoney(t),[4,f.Windown.MatChuoc.getMakeDelay(.5).prosime]):[3,6];case 4:return r.sent(),f.Windown.MatChuoc.audio.stopEffect(f.Windown.MatChuoc.audio.prizeInfobarTotalwinMedMain),f.Windown.MatChuoc.audio.playEffect(f.Windown.MatChuoc.audio.prizeInfobarTotalwinMedEnd),this.parentMoney.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.2,1))),this.nodeTakeMoney.play("TakeMoney"),[4,f.Windown.MatChuoc.getMakeDelay(.5).prosime];case 5:return r.sent(),[3,9];case 6:return[4,f.Windown.MatChuoc.getPromise(f.Windown.MatChuoc.effect.showBigWin(t,i))];case 7:return r.sent(),console.log("Infobar TakeTotalWin: "),this.takeTotalSuperWin.active=!0,this.takeTotalSuperWin.runAction(cc.fadeIn(.2)),this.takeTotalSuperWin.getComponent(cc.Animation).play("TakeTotalWin"),this.parentMoney.setScale(cc.v3(.1,.1,.1)),f.Windown.MatChuoc.audio.playEffect(f.Windown.MatChuoc.audio.prizeInfobarTotalwin),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.nodeTakeMoney.play("TakeMoney"),this.parentMoney.runAction(cc.scaleTo(.3,1).easing(cc.easeElasticOut(.3))),this.lbMoney.setMoneyNoTime(t),[4,f.Windown.MatChuoc.getMakeDelay(1).prosime];case 8:r.sent(),r.label=9;case 9:return this.lapLanh1.node.runAction(cc.sequence(cc.delayTime(2/e),cc.fadeOut(.4))),n(null),[3,11];case 10:return c=r.sent(),d.Util.ThrowErrProsime(c),[3,11];case 11:return[2]}})})})},e.prototype.changInfoBarFS=function(t){this.spInfoBar.spriteFrame=f.Windown.MatChuoc.asset.getBgInfoBar(t);for(var e=0;e<this.spMaskInfoBar.length;e++)this.spMaskInfoBar[e].spriteFrame=f.Windown.MatChuoc.asset.getBgMaskInfoBar(t);t?(this.spMaskInfoBar[0].node.setPosition(cc.v3(-323,-10)),this.spMaskInfoBar[1].node.setPosition(cc.v3(323,-10))):(this.spMaskInfoBar[0].node.setPosition(cc.v3(-312,-4)),this.spMaskInfoBar[1].node.setPosition(cc.v3(312,-4)))},c([p(h.default)],e.prototype,"lbMoney",void 0),c([p(cc.SpriteFrame)],e.prototype,"spTotalWin",void 0),c([p(cc.SpriteFrame)],e.prototype,"spWin",void 0),c([p(cc.Sprite)],e.prototype,"spInfoBar",void 0),c([p([cc.SpriteFrame])],e.prototype,"listInfoBar",void 0),c([p([cc.Sprite])],e.prototype,"spMaskInfoBar",void 0),c([p(cc.Node)],e.prototype,"parentOneMore",void 0),c([p(cc.Node)],e.prototype,"parentContent",void 0),c([p(cc.Node)],e.prototype,"parentMoney",void 0),c([p(cc.Node)],e.prototype,"anhSang",void 0),c([p(cc.Node)],e.prototype,"takeBigWin",void 0),c([p(cc.Node)],e.prototype,"takeTotalSuperWin",void 0),c([p(cc.Animation)],e.prototype,"nodeTakeMoney",void 0),c([p(cc.Animation)],e.prototype,"lapLanh1",void 0),c([p(cc.Animation)],e.prototype,"lapLanh2",void 0),c([l],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0}],ItemAddScaterMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"f0c00E+NP1Mw6s1JQii42tc","ItemAddScaterMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,o){var i,c=arguments.length,r=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,n,r):i(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,u=t("../../../../Scritps/Windown"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bkgNode=null,e.effecSF=null,e.isShow=!1,e._symbol=null,e}return i(e,t),e.prototype.start=function(){this.node.opacity=0,this.node.runAction(cc.fadeIn(.15/u.Windown.MatChuoc.getDelta()))},e.prototype.init=function(t){this._symbol=t,this._symbol.node.on(cc.Node.EventType.POSITION_CHANGED,this.changePos,this),this.changParent(),this.node.angle=this._symbol.node.angle,this.node.getComponent(cc.Animation).play("effectScatter"),u.Windown.MatChuoc.audio.playEffectNoStop(u.Windown.MatChuoc.audio.symScatter)},e.prototype.changParent=function(){this.node.setParent(this._symbol.node.parent),this.node.setSiblingIndex(1e3),this.changePos()},e.prototype.changePos=function(){this.node.setPosition(this._symbol.node.getPosition())},e.prototype.winFS=function(){},e.prototype.showFS=function(){var t=this;this.effecSF.node.active=!0,u.Windown.MatChuoc.stateSpin.isMaxSpeed||(this.node.getComponent(cc.Animation).play("effectScatter"),this.node.getComponent(cc.Animation).once(cc.Animation.EventType.FINISHED,function(){t.effecSF.play("effBgFs")}))},e.prototype.idle=function(){this.node.getComponent(cc.Animation).play("effectScatter"),u.Windown.MatChuoc.audio.playEffectNoStop(u.Windown.MatChuoc.audio.symScatter),this.effecSF.node.active=!1},e.prototype.effectNearWinNoSap=function(){},e.prototype.remove=function(t){var e=this;void 0===t&&(t=.2),this._symbol.node.targetOff(this),this.node.runAction(cc.sequence(cc.fadeOut(t),cc.callFunc(function(){e.node.destroy()})))},c([s(cc.Node)],e.prototype,"bkgNode",void 0),c([s(cc.Animation)],e.prototype,"effecSF",void 0),c([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../../../Scritps/Windown":void 0}],ItemLichSuMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"18c5a3UnNZCf5uufSji71To","ItemLichSuMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,o){var i,c=arguments.length,r=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,n,r):i(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,u=t("../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../Scritps/Network/ConectManager"),p=t("../../../Scritps/Windown"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTime=null,e.lbBet=null,e.lbWin=null,e.data=null,e}return i(e,t),e.prototype.initItem=function(t){try{this.data=t;var e=this.data.date,n=this.data.bet,o=this.data.agWin;this.lbTime.string=p.Windown.formatDate(new Date(e),"dd/MM\nHH:mm:ss"),this.lbBet.string=p.Windown.formatNumber(n*p.Windown.MatChuoc.totalLineBet),this.lbWin.string=p.Windown.formatNumber(o)}catch(i){console.error(i)}},e.prototype.onClick=function(){var t=l.ConectManager.getIns().getSFSObj();t.putInt("id",this.data.id),l.ConectManager.getIns().sendRequest(u.REQUEST_CODE.HistoryChiTietMatChuoc,t,p.Windown.MatChuoc.roomSFS),p.Windown.MatChuoc.audio.playClick(),p.Windown.UIManager.showLoading()},c([s(cc.Label)],e.prototype,"lbTime",void 0),c([s(cc.Label)],e.prototype,"lbBet",void 0),c([s(cc.Label)],e.prototype,"lbWin",void 0),c([a],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Windown":void 0}],ItemResultDetailMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"ba88c/vGTRNCoi/R6vsF3gX","ItemResultDetailMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,o){var i,c=arguments.length,r=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,n,r):i(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,u=t("./SymbolMatChuoc"),l=t("./MutilControlMatChuoc"),p=t("../../../Scritps/Windown"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentMul=null,e.lbTitleToHopWin=null,e.parentItemResult=null,e.parentItemWin=null,e.colorOf=null,e.parentMultiControl=null,e.playTable=[[0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0],[1,1,2,3,3,5,6,8,10,0,0],[3,3,4,5,5,10,15,20,25,0,0],[6,6,10,12,12,15,30,40,50,0,0]],e}return i(e,t),e.prototype.init=function(t,e,n,o){var i;if(i=n,e){this.lbTitleToHopWin.node.active=!1,this.parentItemWin.active=!0;for(var c=this.parentItemWin.children[0],r=0,a=e.lsIdItem.length;r<a;r++){var s=e.lsIdItem[r];e.lsAgWin[r],null==(M=this.parentItemWin.children[r])&&((M=cc.instantiate(c)).parent=this.parentItemWin),M.active=!0,M.children[0].getComponent(u.default).result=s,M.children[0].getComponent(u.default).typeItem=0,M.children[0].getComponent(u.default).setImgResult(!1),M.children[0].setScale(.4)}for(r=e.lsIdItem.length;r<this.parentItemWin.children.length;r++)this.parentItemWin.children[r].active=!1}else this.lbTitleToHopWin.node.active=!0,this.parentItemWin.active=!1;var l=this.parentItemResult.children,h=l[0].children[0];if(t.forEach(function(t,e){var n=l[e];t.pop(),t.forEach(function(t,e){var o=n.children[e],i=t.i,c=t.t||0;null==o&&((o=cc.instantiate(h)).parent=n),o.getComponent(u.default).result=i,o.getComponent(u.default).typeItem=c,o.getComponent(u.default).setImgResult(!1),o.setPosition(cc.v3(0,138*e-320,0)),o.zIndex=6-e})}),e){var d=e.lsIdItem,f=e.lsstack,y=e.lsAgWin;for(r=0,a=d.length;r<a;r++){for(var m="",S=1,v=0;v<f[r]+1;v++){for(var g=0,w=0,C=l[v].children.length;w<C;w++)t[v][w].i!=d[r]&&9!=t[v][w].i||g++;m+=g+"x",g>=1&&(S*=g)}var M;m+=this.playTable[f[r]][d[r]]+"x"+p.Windown.formatNumber(o),m+="x"+i,(M=this.parentItemWin.children[r]).children[1].getComponent(cc.Label).string="B\u1ed9 "+(f[r]+1),M.children[2].getComponent(cc.Label).string=S+" \u0111\u01b0\u1eddng",M.children[3].getComponent(cc.Label).string=m+"= "+p.Windown.formatNumber(y[r]*i)}}this.parentMul.children[0].children[1].getComponent(cc.Label).string=n.toString(),this.parentMultiControl.setDetailHistory(o,i)},c([s(cc.Node)],e.prototype,"parentMul",void 0),c([s(cc.Label)],e.prototype,"lbTitleToHopWin",void 0),c([s(cc.Node)],e.prototype,"parentItemResult",void 0),c([s(cc.Node)],e.prototype,"parentItemWin",void 0),c([s(cc.Color)],e.prototype,"colorOf",void 0),c([s(l.default)],e.prototype,"parentMultiControl",void 0),c([a],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/Windown":void 0,"./MutilControlMatChuoc":"MutilControlMatChuoc","./SymbolMatChuoc":"SymbolMatChuoc"}],ItemSlotMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"516a6fWkLJNcZYTSx65Hx7f","ItemSlotMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,o){var i,c=arguments.length,r=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,n,r):i(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,c){function r(t){try{s(o.next(t))}catch(e){c(e)}}function a(t){try{s(o.throw(t))}catch(e){c(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,a)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,c,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(t){return function(e){return s([t,e])}}function s(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&c[0]?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(6===c[0]&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(a){c=[6,a],o=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE_MOVE=void 0;var s=cc._decorator,u=s.ccclass,l=s.property,p=t("../../../Scritps/DefineTs/StateReelSlot"),h=t("../../../Scritps/Util"),d=t("../../../Scritps/Windown"),f=t("./SymbolMatChuoc");(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD_NEW=1]="ADD_NEW"})(n.TYPE_MOVE||(n.TYPE_MOVE={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.sizeSymbol=8,e.parentItemFront=null,e.parentItemActive=null,e.funReject=null,e.resolve=null,e.stateWhel=p.default.WAITING,e.result=[],e.resultTemp=[],e.listResultRandomCache=[],e.listIconEff=[],e.nodeWildDT=null,e.nodeWildShowDT=null,e.isScater=!1,e.index=-1,e.indexNodeFirt=0,e.isMoveSlowDown=!1,e.deltaSlowDown=0,e.listNumMutilWild=[],e.indexMaxWild=0,e.listItemSymbol=[],e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.initParent=function(){this.parentItemFront=cc.instantiate(this.parentItem),this.parentItemFront.setPosition(d.Windown.convertNodeInOtherNode(this.parentItem,d.Windown.MatChuoc.parentItemFront)),this.parentItemFront.parent=d.Windown.MatChuoc.parentItemFront,this.parentItemActive=cc.instantiate(this.parentItem),this.parentItemActive.setPosition(d.Windown.convertNodeInOtherNode(this.parentItem,d.Windown.MatChuoc.parentItemActive)),this.parentItemActive.parent=d.Windown.MatChuoc.parentItemActive},e.prototype.initListSymbol=function(){for(var t=[],e=0,n=this.parentItem.children;e<n.length;e++){var o=n[e].getComponent(f.default);o&&t.push(o)}this.listItemSymbol=t},e.prototype.getListSymbol=function(){return this.listItemSymbol},e.prototype.getListSymbolResult=function(){var t=[],e=this.getListSymbol();return this.result.forEach(function(n,o){t.push(e[o+1])}),t},e.prototype.setResultFirtGame=function(t){0==this.index||4==this.index?this.sizeSymbol=8:this.sizeSymbol=9,t.push({i:d.Windown.RandomNumber(0,9)});var e=t.slice(1,t.length-1);this.setResult(e),this.initParent();for(var n=this.parentItem.children,o=0,i=this.sizeSymbol;o<i;o++){var c=n[o];null==c&&((c=this.getSymbol()).parent=this.parentItem),c.setSiblingIndex(o),c.setPosition(cc.v3(0,0,0));var r=c.getComponent(f.default);r.setItemColum(this),r.setResult(t[o])}this.initListSymbol(),this.getListSymbol().forEach(function(t){t.initPosStartGame()})},e.prototype.activeNodeNearWin=function(){d.Windown.MatChuoc.effect.activeNodeNearWin(this.index)},e.prototype.offNearWin=function(){4==this.index&&d.Windown.MatChuoc.effect.offNearWin()},e.prototype.setResult=function(t){this.result=t,this.resultTemp=t.slice()},e.prototype.checkAndRemoveItem=function(t){return r(this,void 0,void 0,function(){var e,n,o;return a(this,function(){for(e=!1,n=this.getListSymbol().slice(2,this.result.length+1),o=0;o<n.length;o++)n[o].result!=t&&9!=n[o].result||(n[o].typeItem==f.TYPE_ITEM.NONE?(n[o].removeItem(f.TYPE_ITEM.NONE),this.result[o]=null):(n[o].effectRemoveItem(n[o].typeItem),n[o].isShuff=!0),e=!0);return e&&(this.result=this.result.filter(function(t){return null!=t})),[2]})})},e.prototype.checkItemWin=function(t){return r(this,void 0,void 0,function(){var e,n,o,i,c,r;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),this.getListSymbol(),e=d.Windown.MatChuoc.stateSpin.isMaxSpeed?0:.07,d.Windown.MatChuoc.stateSpin.isMaxSpeed?[3,2]:[4,d.Windown.MatChuoc.getMakeDelay(e*this.index).prosime];case 1:a.sent(),a.label=2;case 2:for(n=this.getListSymbol().slice(2,this.result.length+1),o=0,i=n;o<i.length;o++)(c=i[o]).result!=t&&9!=c.result||c.takeItem(this.index,n.indexOf(c));return[3,4];case 3:return r=a.sent(),h.Util.ThrowErrProsime(r),[3,4];case 4:return[2]}})})},e.prototype.addNewListSymbol=function(t){var e=this;return new Promise(function(n){return r(e,void 0,void 0,function(){var e,o,i,c,r,s,u,l,p,y,m,S;return a(this,function(a){switch(a.label){case 0:for(a.trys.push([0,6,,7]),d.Windown.MatChuoc.stateSpin.curentCountScater,e=d.Windown.MatChuoc.stateSpin.isMaxSpeed?3:1,(o=this.result.slice()).reverse(),this.setResult(t),i=this.result.length-o.length,o.length=this.result.length,o.reverse(),c=this.getListSymbol(),r=c[0],s=0;s<i;s++)u=d.Windown.MatChuoc.asset.getSymbol(),this.parentItem.addChild(u),u.setSiblingIndex(0),(m=u.getComponent(f.default)).setItemColum(this),this.getListSymbol().unshift(m);for(this.parentItem.children.forEach(function(t,e){t.setSiblingIndex(e)}),l=this.getListSymbol(),p=[],l[0].setResult(this.getRandomResult()),this.result.forEach(function(t,e){var n=l[e+1];t.t!=n.typeItem&&n.isShuff?p.push(n.setResult(t)):n.setResult(t)}),r.node.setPosition(0,r.node.height/2,0),y=r.getIndexOf()-1;y>=0;)(m=l[y]).node.setPosition(cc.v3(0,r.node.getPosition().y+r.node.height/2+m.node.height/2,0)),r=m,y--;return p.length<1?1!=e?[3,2]:[4,d.Windown.MatChuoc.getMakeDelay(.7).prosime]:[3,3];case 1:a.sent(),a.label=2;case 2:return[3,5];case 3:return[4,d.Windown.MatChuoc.getPromiseAll(p)];case 4:a.sent(),a.label=5;case 5:return n(null),[3,7];case 6:return S=a.sent(),h.Util.ThrowErrProsime(S),[3,7];case 7:return[2]}})})})},e.prototype.getSymbol=function(){return d.Windown.MatChuoc.asset.getSymbol()},e.prototype.checkIsNorSap=function(){var t=this.getListSymbol().filter(function(t){return t.checkIsInView()}),e=0;return t.forEach(function(t){e+=t.sizeItem}),this.sizeSymbol-2-e>0},e.prototype.getListYByListResult=function(){var t=[],e=this.getListSymbol()[0].node.height,n=this.getListSymbol().slice(1,this.result.length+1),o=-n[0].sizeItem*e/2;t.push(o);for(var i=1;i<n.length;i++)o-=n[i-1].sizeItem*e/2+n[i].sizeItem*e/2,t.push(o);return t},e.prototype.moveSymbolInView=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,c,r,s,u;return a(this,function(){try{if(t=d.Windown.MatChuoc.stateSpin.isMaxSpeed?3:1,this.getListSymbol().forEach(function(t){t.offItem()}),(n=this.getListSymbol().filter(function(t){return t.checkIsInView()})).reverse(),o=this.getListYByListResult(),n.length>0)for(i=0,c=n.length;i<c;i++)r=n[i],s=r.getIndexOf()-1,u=o[s],Math.abs(u-r.node.getPosition().y)>2&&(cc.moveTo(.2/t,cc.v2(r.node.getPosition().x,u)).easing(cc.easeSineIn(.01)),cc.sequence(cc.moveBy(.04/t,cc.v2(0,15)).easing(cc.easeSineOut(.01)),cc.moveBy(.04/t,cc.v2(0,-15)).easing(cc.easeSineIn(.05)),cc.callFunc(function(){})),cc.tween(r.node).to(.2/t,{y:u},{easing:cc.easing.sineIn}).call(function(){d.Windown.MatChuoc.audio.playSymCollapse()}).by(.04/t,{y:15},{easing:cc.easing.sineOut}).by(.04/t,{y:-15},{easing:cc.easing.sineIn}).start());e(null)}catch(a){h.Util.ThrowErrProsime(a)}return[2]})})})},e.prototype.moveSymbolNew=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,c,r,s,u;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),t=this.getListSymbol().filter(function(t){return t.checkIsInView()}),n=d.Windown.MatChuoc.stateSpin.isMaxSpeed?3:1,o=this.getListSymbolResult(),i=[],c=o.reverse(),(r=this.getListYByListResult()).reverse(),s=0,c.forEach(function(e,o){var c=e.node,a=r[o];!t.includes(e)&&Math.abs(a-c.getPosition().y)>2&&i.push(new Promise(function(t){var i=cc.moveTo(.2/n,cc.v2(c.getPosition().x,a)).easing(cc.easeSineIn(.03)),r=cc.sequence(cc.moveBy(.04,cc.v2(0,15)).easing(cc.easeSineIn()),cc.moveBy(.04,cc.v2(0,-15)).easing(cc.easeSineIn()),cc.callFunc(function(){t(null),e.effectSpawnSymbol()}));c.runAction(cc.sequence(cc.delayTime(s),i,cc.callFunc(function(){d.Windown.MatChuoc.audio.playSymCollapse()}),r)),1==n&&(s+=d.Windown.RandomNumber(0,4)<2?0:.05*o)}))}),i.length>0&&1==n&&d.Windown.MatChuoc.nearWinNoSap.active?(d.Windown.MatChuoc.audio.playEffectNoStop(d.Windown.MatChuoc.audio.symCollapse),[4,d.Windown.MatChuoc.getMakeDelay(.2).prosime]):[3,2];case 1:a.sent(),a.label=2;case 2:return[4,d.Windown.MatChuoc.getPromiseAll(i)];case 3:return a.sent(),t.forEach(function(t){t.offItem()}),this.reSetResultColum(),e(null),[3,5];case 4:return u=a.sent(),h.Util.ThrowErrProsime(u),[3,5];case 5:return[2]}})})})},e.prototype.reset=function(){},e.prototype.runSpin=function(){var t=this;this.stateWhel=p.default.RUN,this.getListSymbol().forEach(function(t){t.offItemFront()}),d.Windown.MatChuoc.stateSpin.isMaxSpeed?this.getListSymbol().forEach(function(t){t.runSpin()}):this.node.runAction(cc.sequence(cc.moveBy(.09,cc.v2(0,50)).easing(cc.easeSineOut()),cc.moveBy(.06,cc.v2(0,-50)),cc.callFunc(function(){t.getListSymbol().forEach(function(t){t.runSpin()})})))},e.prototype.stopSpin=function(t,e){var n=this;return new Promise(function(o,i){return r(n,void 0,void 0,function(){var n;return a(this,function(c){switch(c.label){case 0:return c.trys.push([0,6,,7]),this.setResult(e),this.funReject=i,this.isScater=t,this.resolve=o,t?[3,2]:[4,d.Windown.MatChuoc.getMakeDelay(.1-.01*this.index).prosime];case 1:c.sent(),o(null),c.label=2;case 2:return t?(this.activeNodeNearWin(),this.runSlowDownActicon(),[4,d.Windown.MatChuoc.getMakeDelay(1.5).prosime]):[3,4];case 3:return c.sent(),this.stateWhel=p.default.SHOW_EFFECT,[3,5];case 4:this.stateWhel=p.default.STOP,this.recaculateSpeedSpin(!1),c.label=5;case 5:return[3,7];case 6:return n=c.sent(),h.Util.ThrowErrProsime(n),[3,7];case 7:return[2]}})})})},e.prototype.forceStopSpin=function(t,e){return this.funReject&&this.funReject(),t&&(this.offNearWin(),d.Windown.MatChuoc.audio.stopEffect(d.Windown.MatChuoc.audio.fastspinEnd),this.isMoveSlowDown=!1),this.stopSpinIsFastSpin(t,e)},e.prototype.stopSpinIsFastSpin=function(t,e){var n=this;return new Promise(function(t){if(n.stateWhel==p.default.END)return console.log("stopSpinIsFastSpin0: "+e),void t(null);n.setResult(e),n.stateWhel=p.default.END,n.parentItem.stopAllActions(),n.parentItem.setPosition(cc.v3(n.parentItem.getPosition().x,n.node.height/2,0)),n.reSetResultColum(),n.isMoveSlowDown=!1,n.parentItem.runAction(cc.sequence(cc.moveBy(.04,cc.v2(0,10)).easing(cc.easeSineOut(.03)),cc.moveBy(.04,cc.v2(0,-10)).easing(cc.easeSineIn(.03)),cc.callFunc(function(){console.log("stopSpinIsFastSpin1: "+e),d.Windown.MatChuoc.audio.playEffect(d.Windown.MatChuoc.audio.reelQuickStop),n.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()}),t(null)})))})},e.prototype.recaculateSpeedSpin=function(t){var e=this.getListSymbol(),n=e[0].node.getPosition().y,o=this.node.height;0!=this.index&&4!=this.index||(o-=139);var i=-o-e[0].node.height/2,c=Math.abs(i-n),r=.3;t&&(r=2),e.forEach(function(t){t.stopSpin(cc.moveBy(r,cc.v2(0,-c)).easing(cc.easeSineOut(.05)))})},e.prototype.errSpin=function(){},e.prototype.reSetResultColum=function(){var t=this.getListSymbol();if(t.length>this.sizeSymbol)for(;t.length>this.sizeSymbol;)d.Windown.MatChuoc.asset.putSymbol(t[t.length-1].node),t.pop();else if(t.length<this.sizeSymbol)for(var e=t.length;e<this.sizeSymbol;e++){var n=this.getSymbol();this.parentItem.addChild(n);var o=n.getComponent(f.default);o.setItemColum(this),t.push(o)}this.result.forEach(function(e,n){t[n+1].setResult(e)}),e=this.result.length+1;for(var i=t.length;e<i;e++)t[e].setResult(t[e].objSFS);t.forEach(function(t){t.canRun=!1,t.node.stopAllActions(),t.initPosStartGame()})},e.prototype.effStopSpin=function(){return r(this,void 0,void 0,function(){var t=this;return a(this,function(){try{if(this.stateWhel==p.default.END)return[2];this.stateWhel=p.default.END,this.parentItem.stopAllActions(),this.reSetResultColum(),this.funReject=null,this.isMoveSlowDown=!1,this.isScater?(this.offNearWin(),d.Windown.MatChuoc.audio.playEffect(d.Windown.MatChuoc.audio.reelStopSingle),this.parentItem.runAction(cc.sequence(cc.moveBy(.1,cc.v2(0,-10)).easing(cc.easeSineOut(.04)),cc.moveBy(.1,cc.v2(0,10)).easing(cc.easeSineIn(.04)),cc.callFunc(function(){t.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()})}))),console.log("effStopSpin scatter"),this.resolve&&this.resolve(null),this.resolve=null):this.parentItem.runAction(cc.sequence(cc.moveBy(.05,cc.v2(0,10)).easing(cc.easeSineIn(.04)),cc.moveBy(.06,cc.v2(0,-10)).easing(cc.easeSineOut(.04)),cc.callFunc(function(){d.Windown.MatChuoc.audio.playEffect(d.Windown.MatChuoc.audio.reelStopSingle),t.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()})})))}catch(e){h.Util.ThrowErrProsime(e)}return[2]})})},e.prototype.getIdSymbolResult=function(){return this.stateWhel==p.default.STOP&&this.resultTemp.pop()||this.getRandomResult()},e.prototype.checkLastSymbol=function(t){var e=this.getListSymbol();return e[e.length-1]==t},e.prototype.getRandomResult=function(){var t=Object.create(null);return t.i=d.Windown.RandomNumber(0,11),9==t.i&&(t.i=d.Windown.RandomNumber(0,8)),10==t.i&&(t.i=d.Windown.RandomNumber(0,3)%3==0?10:d.Windown.RandomNumber(0,8)),t.t=d.Windown.RandomNumber(0,8)%8==0?2:0,2==this.index&&d.Windown.MatChuoc.stateSpin.isShowingDragon&&(10==t.i&&(t.i=d.Windown.RandomNumber(0,8)),t.t=2),t},e.prototype.checkParentItem=function(){},e.prototype.runSlowDownActicon=function(){this.getListSymbol().forEach(function(t){t.node.stopAllActions()}),this.isMoveSlowDown=!0,this.deltaSlowDown=6e3},e.prototype.update=function(t){var e=this;this.isMoveSlowDown&&(this.getListSymbol().forEach(function(n){n.node.setPosition(cc.v3(0,n.node.getPosition().y-t*e.deltaSlowDown,0))}),this.deltaSlowDown>500?this.deltaSlowDown-=1800*t:this.deltaSlowDown<1e3&&(this.stateWhel=p.default.STOP,this.isMoveSlowDown=!1,this.recaculateSpeedSpin(!0)))},c([l(cc.Node)],e.prototype,"parentItem",void 0),c([l],e.prototype,"sizeSymbol",void 0),c([u],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./SymbolMatChuoc":"SymbolMatChuoc"}],LichSuMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"95cf6ezmD5Cq4sGW2tQiIAZ","LichSuMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,o){var i,c=arguments.length,r=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,n,r):i(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,u=t("../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../Scritps/Network/ConectManager"),p=t("../../../Scritps/Popup/PageData/PageData"),h=t("../../../Scritps/Windown"),d=t("./DetailHistoryMatChuoc"),f=t("./ItemLichSuMatChuoc"),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.detail=null,e.listData=null,e.maxRow=11,e}return i(e,t),e.prototype.show=function(){this.node.active=!0,this.reset(),this.node.setPosition(this.node.getPosition().x,-1280,0),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.3,{position:cc.v3(0,0,0)}).start(),l.ConectManager.getIns().sendRequest(u.REQUEST_CODE.HistoryMatChuoc,null,h.Windown.MatChuoc.roomSFS),h.Windown.UIManager.showLoading()},e.prototype.responseServer=function(t){h.Windown.UIManager.hideLoading(),console.log("Reponse History M: "+h.Windown.SFSObjToJson(t));var e=JSON.parse(h.Windown.SFSObjToJson(t));if(e.errorMessage)h.Windown.Dialog.showLog(e.errorMessage);else{var n=e.history;this.initWithListData(n)}},e.prototype.responseServerChiTiet=function(t){var e=JSON.parse(h.Windown.SFSObjToJson(t));h.Windown.UIManager.hideLoading(),this.showDetail(e)},e.prototype.initWithListData=function(t){this.pageDate.content.children;var e=t.length,n=Math.floor(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,o=n[0],i=(t-1)*this.maxRow,c=0,r=this.maxRow;c<r;c++){var a=n[c];if(i<this.listData.length){null==a&&(a=cc.instantiate(o),e.addChild(a),a.setPosition(cc.v3(a.getPosition().x,-(c+1)*a.height+a.height/2,0)));var s=this.listData[i];a.getComponent(f.default).initItem(s),a.active=!0,i++}else{if(!a)break;a.active=!1}}},e.prototype.showDetail=function(t){this.detail.show(t)},e.prototype.resetContent=function(){for(var t=this.pageDate.content.children,e=0,n=t.length;e<n;e++)t[e].active=!1},e.prototype.reset=function(){this.pageDate.setTotalPage(1),this.pageDate.reset(),this.resetContent()},e.prototype.onClickClose=function(){var t=this;h.Windown.MatChuoc.audio.playClick(),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.3,{position:cc.v3(0,-1280,0)}).call(function(){t.node.active=!1}).start()},c([s(p.default)],e.prototype,"pageDate",void 0),c([s(d.default)],e.prototype,"detail",void 0),c([a],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Popup/PageData/PageData":void 0,"../../../Scritps/Windown":void 0,"./DetailHistoryMatChuoc":"DetailHistoryMatChuoc","./ItemLichSuMatChuoc":"ItemLichSuMatChuoc"}],MatChuocView:[function(t,e,n){"use strict";cc._RF.push(e,"dec8cHykF5LF4V3Dtx3o8bz","MatChuocView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,o){var i,c=arguments.length,r=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,n,r):i(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,c){function r(t){try{s(o.next(t))}catch(e){c(e)}}function a(t){try{s(o.throw(t))}catch(e){c(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,a)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,c,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(t){return function(e){return s([t,e])}}function s(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&c[0]?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(6===c[0]&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(a){c=[6,a],o=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,u=s.ccclass,l=s.property,p=t("../../../Scritps/DefineTs/EVENT_MANAGER"),h=t("../../../Scritps/DefineTs/TextDefine"),d=t("../../../Scritps/Game/GAME_TYPE"),f=t("../../../Scritps/Obs/LbMoneyChange"),y=t("../../../Scritps/Other/LbMonoSpace"),m=t("./AssetMatChuoc"),S=t("./AudioMatChuoc"),v=t("./EffectMatChuoc"),g=t("./InfoBarControllerMatChuoc"),w=t("./ItemSlotMatChuoc"),C=t("./LichSuMatChuoc"),M=t("./MutilControlMatChuoc"),b=t("./SpinNormalMatChuoc"),W=t("../../../Scritps/DefineTs/StateReelSlot"),_=t("../../../Scritps/Windown"),I=t("../../../Scritps/Network/ConectManager"),E=t("../../../Scritps/DefineTs/REQUEST_CODE"),A=t("../../../Scritps/Util"),O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.asset=null,e.bkgSprite=null,e.parentItem=null,e.parentEffect=null,e.parentBkgEffect=null,e.parentItemFront=null,e.parentItemActive=null,e.nodeLine=null,e.effect=null,e.labelChipReviceInBox=null,e.lb_totalBet=null,e.lb_FSLeft=null,e.lb_CountAuto=null,e.infoBar=null,e.muitlCtr=null,e.btnSpin=null,e.parentMask=null,e.nodeChooseAuto=null,e._popupLichSu=null,e.audio=null,e.listNodeDeactive=[],e.listLbDeactive=[],e.nodeBtnPlay=null,e.nodeBtnSeting=null,e.nearWinNoSap=null,e.nearDragonFS=null,e.toggleTurbo=null,e.btnStartAuto=null,e.listColum=[],e.listResult=null,e.listResultConvert=[],e.listConfigBet=[],e.gameType=-1,e.stateReel=0,e.totalLineBet=20,e.curRoomBet=50,e.funEnd=null,e.isShowBtnPlay=!0,e.dataFinish=null,e.sfsObjTest=null,e.sfsObjTest2=null,e.stateSpin=null,e.sfs=null,e.roomSFS=null,e.isDoneStartSpin=!1,e.currentTotalLine=1,e.isMouseEnterSpin=!1,e.indexFinish=0,e}return i(e,t),e.prototype.onLoad=function(){var t=this;_.Windown.MatChuoc=this,cc.log("start mat chuoc"),this.gameType=d.default.MatChuoc,this.sfs=I.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(p.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),this.stateReel=W.default.WAITING,this.stateSpin=new b.default,this.sendJoinRoom(),this.activeMask(!1),this.registerBtnSpinEffect(),this.schedule(function(){t.stateReel==W.default.WAITING&&_.Windown.MatChuoc.audio.playEffect(_.Windown.MatChuoc.audio.voxRandom[_.Windown.RandomNumber(0,12)])},12)},e.prototype.registerBtnSpinEffect=function(){var t=this;this.btnSpin.on(cc.Node.EventType.MOUSE_ENTER,function(){var e=t.btnSpin.getChildByName("cirle");if(t.isMouseEnterSpin=!0,e.scaleX>=1.8&&t.stateReel==W.default.WAITING){var n=cc.tween(e).set({scale:1.5}).call(function(){e.opacity=0}).call(function(){cc.tween(e).to(.75,{opacity:255}).start()}).to(.75,{scale:2.2},{easing:"sineOut"}).call(function(){cc.tween(e).to(.1,{opacity:0}).start()}).call(function(){t.isMouseEnterSpin&&n.start()});n.start()}}),this.btnSpin.on(cc.Node.EventType.MOUSE_LEAVE,function(){t.isMouseEnterSpin=!1})},e.prototype.sendJoinRoom=function(){var t=I.ConectManager.getIns().getSFSObj();t.putInt("gameType",d.default.MatChuoc),t.putInt("roomType",-1),t.putInt("mark",-1),I.ConectManager.getIns().sendRequest(E.REQUEST_CODE.GetIdJoinRoom,t)},e.prototype.onJoinRoom=function(t){cc.log("onJoinRoom "+t.room.groupId);var e=t.room;if("SlotMC"==e.groupId){this.roomSFS=e,_.Windown.UIManager.hideLoadingData();var n=e.getVariable("cf").value;cc.log(n);var o=[],i=JSON.parse(n);for(var c in i){var r=Object.create(null);r.bet=parseInt(c),r.perJp=i[c].percentPot/100,o.push(r)}o.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=o,this.curRoomBet=this.listConfigBet[0].bet,this.lb_totalBet.string=_.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),_.Windown.UIManager.hideLoading(),_.Windown.UIManager.hideLoadingData(),_.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM),cc.director.loadScene("main")},e.prototype.userExitRoom=function(t){cc.log("user exit room"),"SlotMC"==t.room.groupId&&t.user.isItMe&&cc.director.loadScene("main")},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(e){case E.REQUEST_CODE.SpinMatChuoc:this.handleFinish(n);break;case E.REQUEST_CODE.HistoryMatChuoc:this._popupLichSu&&this._popupLichSu.responseServer(n);break;case E.REQUEST_CODE.HistoryChiTietMatChuoc:this._popupLichSu&&this._popupLichSu.responseServerChiTiet(n)}},e.prototype.onCreateError=function(){cc.log("creat errr"),_.Windown.UIManager.hideLoading(),cc.director.loadScene("main"),_.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM)},e.prototype.onJoinGame=function(t){var e=[],n=t;for(var o in n){var i=Object.create(null);i.bet=parseInt(o),i.perJp=n[o].percentPot/100,e.push(i)}e.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=e,this.curRoomBet=this.listConfigBet[0].bet,this.lb_totalBet.string=_.Windown.formatNumber(this.totalLineBet*this.curRoomBet)},e.prototype.handleHistoryM=function(t){this._popupLichSu&&this._popupLichSu.responseServer(t)},e.prototype.handleHistoryInfoM=function(t){this._popupLichSu&&this._popupLichSu.responseServerChiTiet(t)},e.prototype.handleResponse=function(t,e){cc.log("handleResponse: "+t),cc.log("handleResponse: "+e)},e.prototype.onDisconnect=function(){cc.log("disconnect"),_.Windown.UIManager.hideLoading(),_.Windown.UIManager.hideLoadingData(),cc.director.loadScene("main")},e.prototype.switchBkgGame=function(t){var e=cc.find("Game/BkgGround/FreeSpin",this.node),n=cc.find("Game/Mid/BkgFs",this.node);t?(e.active=!0,this.muitlCtr.startFreeSpin(t),_.Windown.MatChuoc.lb_FSLeft.node.parent.active=!0,this.nodeBtnPlay.active=!1,n.active=!0):(e.active=!1,n.active=!1,this.nodeBtnPlay.active=!0,_.Windown.MatChuoc.lb_FSLeft.node.parent.active=!1,this.muitlCtr.endFreeSpin()),this.infoBar.changInfoBarFS(t)},e.prototype.activeMask=function(t,e,n,o){void 0===n&&(n=180),void 0===o&&(o=!1);var i=this.parentMask.children;o?i.forEach(function(t){t.getComponent(cc.Sprite).spriteFrame=_.Windown.MatChuoc.asset.bgMaskFS}):i.forEach(function(t){t.getComponent(cc.Sprite).spriteFrame=_.Windown.MatChuoc.asset.bgMaskNormal}),t?e?(i[e].stopAllActions(),i[e].runAction(cc.fadeTo(.3,n))):i.forEach(function(t){t.stopAllActions(),t.runAction(cc.fadeTo(.3,n))}):e?(i[e].stopAllActions(),i[e].runAction(cc.fadeOut(.3))):i.forEach(function(t){t.stopAllActions(),t.runAction(cc.fadeOut(.3))})},e.prototype.handleWaitSPin=function(){},e.prototype.handleFinish=function(t){var e=this,n=JSON.parse(_.Windown.SFSObjToJson(t));if(this.isDoneStartSpin){if(cc.log("HandleFinish stringtify: "+_.Windown.SFSObjToJson(t)),n.errorMessage)return this.stateSpin.handleErrSpin(),_.Windown.Dialog.showLog(n.errorMessage),this.activeAllBtn(),void this.onClickResetCountAuto();this.dataFinish=n,_.Windown.MoneyUser.pushDelayMoney(this.gameType,this.dataFinish.agUser,n.agWin),this.truTienBet(this.dataFinish.agBet*this.totalLineBet,this.dataFinish.agUser),this.listResult=n.views;var o=n.arrBonus;o="[]"==o?"[0,0,0,0,0,0]":o,this.listResultConvert=this.convertResult(this.listResult,n.listItemWin,JSON.parse(o)),this.stateSpin.isMaxSpeed,this.stateReel=W.default.CAN_STOP;var i=this.stateSpin.isMaxSpeed?0:.5;this.scheduleOnce(this.funEnd=function(){e.stateSpin.onEnd()},i)}else this.scheduleOnce(function(){e.handleFinish(t)},.05)},e.prototype.onDestroy=function(){_.Windown.MatChuoc=null,this.dataFinish&&(_.Windown.MoneyUser.removeDelay(this.gameType),this.dataFinish=null),_.Windown.MoneyUser.endGameMOney(this.gameType),cc.systemEvent.removeAll(this),this.roomSFS=null,this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),this.clearAllMakeDelay()},e.prototype.start=function(){var t=this;this.setupView(),this.initItem(),this.switchBkgGame(!1),cc.sys.isNative||this.scheduleOnce(function(){return r(t,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,_.Windown.loadBundle(d.default.MatChuoc.toString())];case 1:return t.sent().loadDir("Spine",function(){}),[2]}})})},3)},e.prototype.initItem=function(){for(var t=cc.instantiate(this.parentItem.children[0]),e=t.width,n=(t.height,[[{t:0,i:5},{t:0,i:3},{t:0,i:4},{t:0,i:3},{t:0,i:1},{t:0,i:0},{t:0,i:1},{t:0,i:8}],[{t:0,i:5},{t:0,i:7},{t:0,i:2},{t:2,i:7},{t:0,i:10},{t:2,i:6},{t:0,i:5},{t:0,i:8},{t:0,i:8}],[{t:0,i:5},{t:0,i:6},{t:0,i:4},{t:0,i:9},{t:2,i:8},{t:0,i:9},{t:0,i:0},{t:0,i:6},{t:0,i:8}],[{t:0,i:5},{t:0,i:7},{t:0,i:2},{t:2,i:7},{t:0,i:10},{t:2,i:6},{t:0,i:5},{t:0,i:8},{t:0,i:8}],[{t:0,i:5},{t:0,i:3},{t:0,i:4},{t:0,i:3},{t:0,i:1},{t:0,i:0},{t:0,i:1},{t:0,i:8}]]),o=0;o<5;o++){var i=null,c=this.parentItem.children[o];null==c&&((c=cc.instantiate(t)).parent=this.parentItem),(i=c.getComponent(w.default)).node.setPosition(cc.v3(e*(o-1)+e/2-3*e/2,i.node.getPosition().y,0)),o>0&&o<4?i.node.setPosition(cc.v3(i.node.getPosition().x,89.6)):i.node.setPosition(cc.v3(i.node.getPosition().x,14)),i.index=o,this.listColum.push(i),i.setResultFirtGame(n[o])}},e.prototype.onClickTestActionDragon=function(){this.stateSpin.showDragonFS()},e.prototype.setupView=function(){var t=cc.find("Game",this.node);if(cc.sys.isMobile)e=1280/720;else{var e=cc.view.getDesignResolutionSize().height/1280;t.setScale(e,e,e),this.bkgSprite.setContentSize(cc.winSize),_.Windown.UIManager.changeRotation(!0)}},e.prototype.sendClickSpin=function(){if(null!=this.sfsObjTest)return I.ConectManager.getIns().sendRequest("testSpin",this.sfsObjTest,this.roomSFS),this.sfsObjTest=null,void cc.log("send test ne");if(null!=this.sfsObjTest2)return I.ConectManager.getIns().sendRequest("testSpin2",this.sfsObjTest2,this.roomSFS),this.sfsObjTest2=null,void cc.log("send test ne");var t=I.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),I.ConectManager.getIns().sendRequest(E.REQUEST_CODE.SpinMatChuoc,t,this.roomSFS)},e.prototype.onClickBtnSpin=function(){return r(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),this.stateReel!=W.default.WAITING?[3,2]:(this.audio.playEffect(this.audio.spinBtn),this.stateReel=W.default.RUN,this.setStateEffBtnSpin(),this.offAllBtn(),this.infoBar.reset(),this.isDoneStartSpin=!1,this.sendClickSpin(),[4,_.Windown.MatChuoc.getPromise(this.stateSpin.onStart())]);case 1:return e.sent(),this.isDoneStartSpin=!0,[3,3];case 2:this.stateReel==W.default.CAN_STOP?this.stateSpin.isMaxSpeed||(cc.log("nhay vao forestop ne"),this.stateReel=W.default.RUN,this.unschedule(this.funEnd),this.stateSpin.onForceEnd()):this.stateReel==W.default.STOP||this.stateReel==W.default.SHOW_EFFECT&&(this.stateSpin.resetForNextNextSpin(),this.onClickBtnSpin()),e.label=3;case 3:return[3,5];case 4:return t=e.sent(),A.Util.ThrowErrProsime(t),[3,5];case 5:return[2]}})})},e.prototype.showContentTip=function(){},e.prototype.updateNewTotalLine=function(t){this.currentTotalLine*=t},e.prototype.resetForNewGame=function(){this.stateReel=W.default.WAITING,this.setStateEffBtnSpin()},e.prototype.resetLbTotalLine=function(){this.currentTotalLine=1},e.prototype.setStateEffBtnSpin=function(){var t=this.btnSpin.getComponent(cc.Animation),e=cc.find("sb_arrow",this.btnSpin),n=cc.find("sb_arrow_blur",this.btnSpin);if(this.stateReel!=W.default.STOP){var o=cc.Material.getBuiltinMaterial("2d-sprite");e.getComponent(cc.Sprite).setMaterial(0,o)}if(this.stateReel==W.default.WAITING||this.stateReel==W.default.SHOW_EFFECT)n.active=!1,e.active=!0,e.stopAllActions(),e.runAction(cc.repeatForever(cc.rotateBy(3,-360)));else if(this.stateReel==W.default.RUN)t.play("Btn_Click"),n.active=!0,n.stopAllActions(),n.runAction(cc.repeatForever(cc.rotateBy(.3,-360))),e.active=!1,this.infoBar.showRdContent();else if(this.stateReel==W.default.STOP){e.active=!0,n.active=!1,n.stopAllActions(),e.stopAllActions();var i=cc.Material.getBuiltinMaterial("2d-gray-sprite");e.getComponent(cc.Sprite).setMaterial(0,i)}},e.prototype.setLbFreeSpinLeft=function(t){var e=this.lb_FSLeft.node.parent;this.lb_FSLeft.string=t.toString(),t<1?(cc.find("last_spin",e).active=!0,cc.find("remaining_spin",e).active=!1,this.lb_FSLeft.node.active=!1):(cc.find("last_spin",e).active=!1,cc.find("remaining_spin",e).active=!0,this.lb_FSLeft.node.active=!0)},e.prototype.setCountAuto=function(t){this.lb_CountAuto.node.parent.active=!(t<1),this.lb_CountAuto.string=t.toString()},e.prototype.showMoneyAllWin=function(t){this.labelChipReviceInBox.setMoney(t),_.Windown.MoneyUser.removeDelay(this.gameType)},e.prototype.offLbFree=function(){this.lb_FSLeft.node.parent.active=!1},e.prototype.onClickSendObjTest=function(){var t=Object.create(null);t.bet=this.curRoomBet,t.arr=[[{t:0,i:1},{t:0,i:0},{t:0,i:7},{t:0,i:3},{t:0,i:1}],[{t:2,i:0},{t:0,i:1},{t:0,i:8},{t:0,i:0},{t:0,i:0}],[{t:0,i:7},{t:2,i:0},{t:0,i:0},{t:0,i:0},{t:0,i:8}],[{t:0,i:7},{t:0,i:0},{t:0,i:0},{t:0,i:7}],[{t:0,i:1},{t:0,i:1},{t:0,i:4}],[{t:0,i:6},{t:0,i:6},{t:0,i:0},{t:0,i:8},{t:0,i:2}]],this.sfsObjTest=t,this.onClickBtnSpin(),cc.log("onClickSendObjTest")},e.prototype.onClickSendFixData=function(){var t=Object.create(null);t.view=[[{i:0},{i:0},{i:1},{i:4},{i:2}],[{i:1},{i:1},{i:10},{i:0},{i:5},{i:3}],[{i:8,t:2},{i:5},{i:6,t:2},{i:7,t:2},{i:10},{i:5}],[{i:6},{i:3},{i:7},{i:3},{i:10,t:2},{i:5}],[{i:0},{i:1},{i:2},{i:6},{i:5}]],t.bet=this.curRoomBet,this.sfsObjTest=t,this.onClickBtnSpin()},e.prototype.onClickTest=function(){return r(this,void 0,void 0,function(){var t;return a(this,function(){return(t=Object.create(null)).bet=this.curRoomBet,t.arr=[[{s:1,t:0,i:4},{s:1,t:0,i:6},{s:1,t:0,i:1},{s:1,t:0,i:7},{s:1,t:0,i:1}],[{s:1,t:0,i:7},{s:1,t:0,i:3},{s:1,t:0,i:2},{s:1,t:0,i:2},{s:1,t:0,i:2},{s:1,t:0,i:0}],[{s:1,t:0,i:8},{s:1,t:2,i:2},{s:1,t:0,i:2},{s:1,t:0,i:2}],[{s:1,t:2,i:0},{s:1,t:0,i:6},{s:1,t:0,i:5},{s:1,t:0,i:7}],[{s:1,t:0,i:7},{s:1,t:0,i:3},{s:1,t:0,i:2},{s:1,t:0,i:2},{s:1,t:0,i:7},{s:1,t:0,i:3}],[{s:1,t:0,i:7},{s:1,t:0,i:5},{s:1,t:0,i:5},{s:1,t:0,i:3},{s:1,t:0,i:7}]],this.sfsObjTest=t,this.onClickBtnSpin(),[2]})})},e.prototype.onClickResetCountAuto=function(){this.stateSpin.countAutoSpin=0,this.lb_CountAuto.node.parent.active=!1,_.Windown.MatChuoc.audio.playClick()},e.prototype.onClickItemAutoSpin=function(t){_.Windown.MatChuoc.audio.playClick(),this.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer).allowSwitchOff=!1;var e=t.node.name,n=Number(e);this.stateSpin.countAutoSpin=n,this.btnStartAuto.interactable=!0,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#FF8E26")},e.prototype.onClickStartAutoSpin=function(){this.onClickBtnSpin(),this.onClickCloseListAuto(),_.Windown.MatChuoc.stateSpin.countAutoSpin>0&&_.Windown.MatChuoc.setCountAuto(_.Windown.MatChuoc.stateSpin.countAutoSpin)},e.prototype.onClickShowListAuto=function(){_.Windown.MatChuoc.audio.playClick(),this.nodeChooseAuto.active=!0,this.nodeChooseAuto.opacity=0,this.nodeChooseAuto.runAction(cc.fadeIn(.3)),this.btnStartAuto.interactable=!1,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")},e.prototype.onClickCloseListAuto=function(){var t=this;_.Windown.MatChuoc.audio.playClick(),this.nodeChooseAuto.stopAllActions(),this.nodeChooseAuto.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){var e=t.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer);e.allowSwitchOff=!0,e.toggleItems.forEach(function(t){t.isChecked&&(t.isChecked=!1)}),t.nodeChooseAuto.active=!1,t.btnStartAuto.interactable=!1,t.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")})))},e.prototype.convertResult=function(t,e,n){var o=this,i=[];return t.forEach(function(t,c){var r=Object.create(null);r.listSFSObj=[];var a;a=n[c-1]?n[c-1]:1,r.mutil=a,r.agWin=0,t.forEach(function(n,o){var i=[];if(n.forEach(function(t){i.push(t)}),i.reverse(),r.listSFSObj.push(i),o==t.length-1){var c=e.shift();c&&(c.lsIdItem=JSON.parse(c.lsIdItem),c.lsstack=JSON.parse(c.lsstack),c.lsAgWin=JSON.parse(c.lsAgWin),c.lsAgWin.length>0&&(r.listItemWin=c,r.isNoSap=!0),c.lsAgWin.forEach(function(t){r.agWin+=t}))}}),r.countScater=o.getCountScater(r.listSFSObj),i.push(r)}),i},e.prototype.getListActiveScaster=function(t){for(var e=[],n=0,o=0;o<t.length;o++)n>=2?e.push(!0):e.push(!1),t[o].forEach(function(t,e){10==t.i&&e>0&&n++});return e},e.prototype.onClickChangeBet=function(t,e){if(_.Windown.MatChuoc.audio.playClick(),this.listConfigBet.length<1)_.Windown.Dialog.showLog(h.TextDefine.Error);else{var n=-1;for(var o in this.listConfigBet)if(this.listConfigBet[o].bet==this.curRoomBet){n=parseInt(o);break}0==e?n--:n++,n<0&&(n=this.listConfigBet.length-1),n>this.listConfigBet.length-1&&(n=0),this.curRoomBet=this.listConfigBet[n].bet,this.lb_totalBet.string=_.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.onClickCachChoi=function(){return r(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return _.Windown.MatChuoc.audio.playClick(),_.Windown.UIManager.showLoading(),[4,_.Windown.loadRes(this.gameType.toString(),"Frefabs/CachChoi",cc.Prefab)];case 1:return t=e.sent(),cc.instantiate(t).parent=_.Windown.MatChuoc.node.getChildByName("Game"),_.Windown.UIManager.hideLoading(),[2]}})})},e.prototype.onClickBackToLobby=function(){_.Windown.MatChuoc.audio.playClick(),this.roomSFS?(cc.log("Vao day"),I.ConectManager.getIns().sendLeaveRoom(this.roomSFS)):cc.director.loadScene("main")},e.prototype.getRdViewForLoop=function(t){for(var e=[],n=0,o=5-t;n<o;n++)e.push([{i:_.Windown.RandomNumber(0,10),t:2}]);return e.forEach(function(t){for(var e=0;e<1;e++)t.unshift({i:_.Windown.RandomNumber(0,10),t:0})}),e},e.prototype.getRdViewFirtGame=function(){for(var t=[],e=0;e<5;e++){for(var n=[],o=0;o<(0==e||4==e?4:5);o++)(i=Object.create(null)).i=_.Windown.RandomNumber(0,10),n.push(i);t.push(n)}for(e=0;e<t.length;e++)for(n=t[e],o=0;o<n.length;o++){var i;if(i=n[o])for(var c=o+1,r=o+1;c<r;c++)n[c]=null}for(var a in t)t[a]=t[a].filter(function(t){return null!=t});for(var a in t);return t},e.prototype.initRandomResult=function(){for(var t=0,e=0,n=this.listColum;e<n.length;e++){var o=n[e];o.stateWhel!=W.default.RUN&&(t=o.index)}var i=this.getRdViewForLoop(t);this.listColum.forEach(function(e,n){var o;e.index>=t&&(o=e.listResultRandomCache).unshift.apply(o,i[n-t])})},e.prototype.onClickTurbo=function(){_.Windown.MatChuoc.audio.playClick();var t=this.toggleTurbo.isChecked;this.toggleTurbo.node.children[1].active=!t,this.stateSpin.isMaxSpeed=t,t?_.Windown.UIManager.showAlertMini("\u0110\xe3 b\u1eadt quay nhanh"):_.Windown.UIManager.showAlertMini("\u0110\xe3 t\u1eaft quay nhanh")},e.prototype.onClickSeting=function(){var t=this;if(_.Windown.MatChuoc.audio.playClick(),this.isShowBtnPlay=!this.isShowBtnPlay,this.isShowBtnPlay)e=cc.v3(0,-750,0),cc.tween(this.nodeBtnSeting).call(function(){cc.tween(t.nodeBtnSeting).to(.5,{opacity:0}).start()}).to(.3,{position:e}).start(),cc.tween(this.nodeBtnPlay).to(.3,{opacity:255}).start();else{cc.Tween.stopAllByTarget(this.nodeBtnPlay),cc.Tween.stopAllByTarget(this.nodeBtnSeting);var e=cc.v3(0,-500,0);this.nodeBtnSeting.opacity=0,cc.tween(this.nodeBtnSeting).call(function(){cc.tween(t.nodeBtnSeting).to(.5,{opacity:255}).start()}).to(.4,{position:e}).start(),cc.tween(this.nodeBtnPlay).to(.3,{opacity:0}).start()}},e.prototype.getDelta=function(){return this.stateSpin.isMaxSpeed?2:1},e.prototype.getCountScater=function(t){var e=0;return t.forEach(function(t){t.forEach(function(t){10==t.i&&e++})}),e},e.prototype.getMakeDelay=function(t){return _.Windown.CpPromise.getDelay(t,this)},e.prototype.getPromise=function(t){return _.Windown.CpPromise.getDelayByPromise(t,this).prosime},e.prototype.getPromiseAll=function(t){return _.Windown.CpPromise.getDelayPromiseAll(t,this).prosime},e.prototype.clearAllMakeDelay=function(){_.Windown.CpPromise.targetOff(this)},e.prototype.activeAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!0,t.node.children.forEach(function(t){t.getComponent(cc.Sprite)&&(t.color=cc.Color.fromHEX(new cc.Color,"#FDB028"))})}),this.listLbDeactive.forEach(function(t){t.node.color=cc.Color.fromHEX(new cc.Color,"#86F0FF")})},e.prototype.offAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!1,t.node.children.forEach(function(t){t.getComponent(cc.Sprite)&&(t.color=cc.Color.fromHEX(new cc.Color,"#999999"))})}),this.listLbDeactive.forEach(function(t){t.node.color=cc.Color.fromHEX(new cc.Color,"#FFFFFF")})},e.prototype.truTienBet=function(t,e){0!=t&&_.Windown.MoneyUser.subMoney(t,e)},e.prototype.effectShake=function(){var t=this;this.unschedule(this.shake),this.schedule(this.shake=function(){t.camera.setPosition(_.Windown.RandomNumber(-3,4),_.Windown.RandomNumber(-3,4))},0,_.Windown.RandomNumber(10,15))},e.prototype.onClickLichSu=function(){return r(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return _.Windown.MatChuoc.audio.playClick(),_.Windown.UIManager.showLoading(),[4,_.Windown.loadRes(this.gameType.toString(),"Frefabs/LichSu",cc.Prefab)];case 1:return t=e.sent(),this._popupLichSu=cc.instantiate(t).getComponent(C.default),this._popupLichSu.node.parent=_.Windown.MatChuoc.node.getChildByName("Game"),this._popupLichSu.show(),[2]}})})},e.prototype.update=function(){},c([l(cc.Node)],e.prototype,"camera",void 0),c([l(m.default)],e.prototype,"asset",void 0),c([l(cc.Node)],e.prototype,"bkgSprite",void 0),c([l(cc.Node)],e.prototype,"parentItem",void 0),c([l(cc.Node)],e.prototype,"parentEffect",void 0),c([l(cc.Node)],e.prototype,"parentBkgEffect",void 0),c([l(cc.Node)],e.prototype,"parentItemFront",void 0),c([l(cc.Node)],e.prototype,"parentItemActive",void 0),c([l(cc.Node)],e.prototype,"nodeLine",void 0),c([l(v.default)],e.prototype,"effect",void 0),c([l(f.default)],e.prototype,"labelChipReviceInBox",void 0),c([l(cc.Label)],e.prototype,"lb_totalBet",void 0),c([l(y.default)],e.prototype,"lb_FSLeft",void 0),c([l(y.default)],e.prototype,"lb_CountAuto",void 0),c([l(g.default)],e.prototype,"infoBar",void 0),c([l(M.default)],e.prototype,"muitlCtr",void 0),c([l(cc.Node)],e.prototype,"btnSpin",void 0),c([l(cc.Node)],e.prototype,"parentMask",void 0),c([l(cc.Node)],e.prototype,"nodeChooseAuto",void 0),c([l(S.default)],e.prototype,"audio",void 0),c([l([cc.Button])],e.prototype,"listNodeDeactive",void 0),c([l([cc.Label])],e.prototype,"listLbDeactive",void 0),c([l(cc.Node)],e.prototype,"nodeBtnPlay",void 0),c([l(cc.Node)],e.prototype,"nodeBtnSeting",void 0),c([l(cc.Node)],e.prototype,"nearWinNoSap",void 0),c([l(cc.Node)],e.prototype,"nearDragonFS",void 0),c([l(cc.Toggle)],e.prototype,"toggleTurbo",void 0),c([l(cc.Button)],e.prototype,"btnStartAuto",void 0),c([u],e)}(cc.Component);n.default=O,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":void 0,"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/DefineTs/StateReelSlot":void 0,"../../../Scritps/DefineTs/TextDefine":void 0,"../../../Scritps/Game/GAME_TYPE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Obs/LbMoneyChange":void 0,"../../../Scritps/Other/LbMonoSpace":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./AssetMatChuoc":"AssetMatChuoc","./AudioMatChuoc":"AudioMatChuoc","./EffectMatChuoc":"EffectMatChuoc","./InfoBarControllerMatChuoc":"InfoBarControllerMatChuoc","./ItemSlotMatChuoc":"ItemSlotMatChuoc","./LichSuMatChuoc":"LichSuMatChuoc","./MutilControlMatChuoc":"MutilControlMatChuoc","./SpinNormalMatChuoc":"SpinNormalMatChuoc"}],MutilControlMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"40f5cuTTgJBV7HTk3hxMirE","MutilControlMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,o){var i,c=arguments.length,r=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,n,r):i(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,c){function r(t){try{s(o.next(t))}catch(e){c(e)}}function a(t){try{s(o.throw(t))}catch(e){c(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,a)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,c,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(t){return function(e){return s([t,e])}}function s(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&c[0]?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(6===c[0]&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(a){c=[6,a],o=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,u=s.ccclass,l=s.property,p=t("../../../Scritps/Util"),h=t("../../../Scritps/Windown"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentItemMutil=null,e.nodeLayoutMulti=null,e.nodeLayoutMultiFS=null,e._isFs=!1,e}return i(e,t),e.prototype.start=function(){this._isFs=!1},e.prototype.startFreeSpin=function(){return r(this,void 0,void 0,function(){var t=this;return a(this,function(){return[2,new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,c,r=this;return a(this,function(a){switch(a.label){case 0:for(a.trys.push([0,2,,3]),i=0;i<this.nodeLayoutMultiFS.children.length;i++)(t=this.nodeLayoutMultiFS.children[i]).children[1].getComponent(cc.Sprite).spriteFrame=h.Windown.MatChuoc.asset.atlasMultiCtr.getSpriteFrame("b_x"+this.getIndexInitFS(i)),t.children.forEach(function(t,e){1!=e?(t.active=!0,"virtual"!=t.name&&(t.opacity=255),"x_active"==t.name&&(t.active=!1)):t.active=!1});for(this._isFs=!0,h.Windown.MatChuoc.audio.playEffect(h.Windown.MatChuoc.audio.multiUpupup),n=function(t){var e=o.nodeLayoutMultiFS.children[t];e.runAction(cc.sequence(cc.delayTime(.2*t),cc.callFunc(function(){e.getComponent(cc.Animation).play("upMultiFS")}),cc.delayTime(.05),cc.callFunc(function(){e.children[1].getComponent(cc.Sprite).spriteFrame=h.Windown.MatChuoc.asset.atlasMultiCtr.getSpriteFrame("b_x"+r.getMulIndex(t))})))},o=this,i=0;i<this.nodeLayoutMultiFS.children.length;i++)n(i);return h.Windown.MatChuoc.audio.playEffectNoStop(h.Windown.MatChuoc.audio.fsIntro),[4,h.Windown.MatChuoc.getMakeDelay(1).prosime];case 1:return a.sent(),this.resetForNextSpin(),e(null),[3,3];case 2:return c=a.sent(),p.Util.ThrowErrProsime(c),[3,3];case 3:return[2]}})})})]})})},e.prototype.endFreeSpin=function(){this.resetForNextSpin(),this._isFs=!1},e.prototype.mutilUpReel=function(t){cc.log("mutilUpReel: "+t)},e.prototype.getIndexInitFS=function(t){return 0==t?"1":1==t?"2":2==t?"3a":3==t?"5":void 0},e.prototype.getMulIndex=function(t){return 0==t?0==this._isFs?"1":"2":1==t?0==this._isFs?"2":"4":2==t?0==this._isFs?"3":"6":3==t?0==this._isFs?"5":"10":void 0},e.prototype.getIndexFromMul=function(t){if(this._isFs)switch(t){case 2:return 0;case 4:return 1;case 6:return 2;case 10:return 3}else switch(t){case 1:return 0;case 2:return 1;case 3:return 2;case 5:return 3}},e.prototype.effectTake=function(t){var e=this;return new Promise(function(n){return r(e,void 0,void 0,function(){var e,o,i,c,r;return a(this,function(a){switch(a.label){case 0:if(a.trys.push([0,2,,3]),t<2)return n(null),[2];for(e=h.Windown.MatChuoc.stateSpin.isMaxSpeed?2:1,o=this._isFs?this.nodeLayoutMultiFS:this.nodeLayoutMulti,i=0;i<o.children.length;i++)c=o.children[i],i==this.getIndexFromMul(t)?(c.children.forEach(function(t,e){t.active=1!=e}),c.getComponent(cc.Animation).play("multiTake"),this._isFs?h.Windown.MatChuoc.audio.playEffect(h.Windown.MatChuoc.audio.voxMultiFS[i-1]):h.Windown.MatChuoc.audio.playEffect(h.Windown.MatChuoc.audio.voxMulti[i-1]),console.log("Multi: "+t)):c.children.forEach(function(t,e){t.active=1==e});return[4,h.Windown.MatChuoc.getMakeDelay(.2/e).prosime];case 1:return a.sent(),n(null),[3,3];case 2:return r=a.sent(),p.Util.ThrowErrProsime(r),[3,3];case 3:return[2]}})})})},e.prototype.resetForNextSpin=function(){return r(this,void 0,void 0,function(){var t,e;return a(this,function(){if(this._isFs)for(t=0;t<this.nodeLayoutMultiFS.children.length;t++)e=this.nodeLayoutMultiFS.children[t],0==t?(e.children.forEach(function(t,e){1!=e?(t.active=!0,t.opacity=255):t.active=!1}),t>0&&e.getComponent(cc.Animation).play("multiTake")):e.children.forEach(function(t,e){1!=e?t.active=!1:(t.active=!0,t.opacity=255)});else for(t=0;t<this.nodeLayoutMulti.children.length;t++)e=this.nodeLayoutMulti.children[t],0==t?(e.children.forEach(function(t,e){1!=e?(t.active=!0,t.opacity=255):t.active=!1}),t>0&&e.getComponent(cc.Animation).play("multiTake")):e.children.forEach(function(t,e){1!=e?t.active=!1:(t.active=!0,t.opacity=255)});return[2]})})},e.prototype.setDetailHistory=function(t,e){this.nodeLayoutMulti.active=!1,this.nodeLayoutMultiFS.parent.active=!1,t>0?this.nodeLayoutMulti.active=!0:this.nodeLayoutMultiFS.parent.active=!0;for(var n=0==t?this.nodeLayoutMultiFS:this.nodeLayoutMulti,o=0;o<n.children.length;o++){var i=n.children[o];o==this.getIndexFromMulHistory(0==t,e)?i.children.forEach(function(t,e){1!=e?(t.active=!0,t.opacity=255):t.active=!1}):i.children.forEach(function(t,e){1!=e?t.active=!1:(t.active=!0,t.opacity=255)})}},e.prototype.getIndexFromMulHistory=function(t,e){if(t)switch(e){case 2:return 0;case 4:return 1;case 6:return 2;case 10:return 3}else switch(e){case 1:return 0;case 2:return 1;case 3:return 2;case 5:return 3}},c([l(cc.Node)],e.prototype,"nodeLayoutMulti",void 0),c([l(cc.Node)],e.prototype,"nodeLayoutMultiFS",void 0),c([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0}],NearFsMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"58a22bkyklOyI67CthWRfUJ","NearFsMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,o){var i,c=arguments.length,r=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,n,r):i(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Windown"),a=cc._decorator,s=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item=null,e.itemDragon=null,e._curItem=null,e}return i(e,t),e.prototype.init=function(t){if(this._curItem){var e=this._curItem;e.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){e.destroy()})))}r.Windown.MatChuoc.audio.playEffect(r.Windown.MatChuoc.audio.fastspinStart);var n=r.Windown.MatChuoc.listColum[t],o=cc.instantiate(this.item);o.parent=this.node,o.setPosition(cc.v2(r.Windown.convertNodeInOtherNode(n.node,this.node).x,0)),this._curItem=o,o.opacity=0,o.runAction(cc.sequence(cc.fadeIn(.5),cc.callFunc(function(){})))},e.prototype.effOff=function(){if(this._curItem){var t=this._curItem;t.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.destroy()})))}},e.prototype.initDragonFS=function(){if(this._curItem){var t=this._curItem;t.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.destroy()})))}r.Windown.MatChuoc.audio.playEffect(r.Windown.MatChuoc.audio.fastspinStart);var e=r.Windown.MatChuoc.listColum[2],n=cc.instantiate(this.itemDragon);n.parent=this.node,n.setPosition(cc.v2(r.Windown.convertNodeInOtherNode(e.node,this.node).x,0)),this._curItem=n,n.opacity=0,n.runAction(cc.sequence(cc.fadeIn(.5),cc.callFunc(function(){})))},c([u(cc.Prefab)],e.prototype,"item",void 0),c([u(cc.Prefab)],e.prototype,"itemDragon",void 0),c([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../../../Scritps/Windown":void 0}],ShuffItemMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"b58d6gt/g5H3IU4ME9nJLEr","ShuffItemMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,o){var i,c=arguments.length,r=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,n,r):i(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,c){function r(t){try{s(o.next(t))}catch(e){c(e)}}function a(t){try{s(o.throw(t))}catch(e){c(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,a)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,c,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(t){return function(e){return s([t,e])}}function s(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&c[0]?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(6===c[0]&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(a){c=[6,a],o=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Util"),u=t("../../../../Scritps/Windown"),l=cc._decorator,p=l.ccclass,h=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){this.effShuffItem(1,6)},e.prototype.effShuffItem=function(t,e){var n=this;return new Promise(function(o){return r(n,void 0,void 0,function(){var n,i,c,r,l;return a(this,function(p){switch(p.label){case 0:p.trys.push([0,5,,6]),n=cc.find("item",this.node),i=function(o){var i,r,s;return a(this,function(a){switch(a.label){case 0:for((i=cc.instantiate(n)).parent=c.node,i.active=!0,r=u.Windown.RandomNumber(1,9);t==r||10==o&&r==e;)r=u.Windown.RandomNumber(1,8);return t=r,s=u.Windown.MatChuoc.asset.getSfItemSymbol(r,!1),i.opacity=150,i.getComponent(cc.Sprite).spriteFrame=s,cc.tween(i).call(function(){cc.tween(i).to(.3,{opacity:0}).start()}).call(function(){i.destroy()}).start(),u.Windown.MatChuoc.audio.playEffectNoStop(u.Windown.MatChuoc.audio.rouletteLoop,1),[4,u.Windown.MatChuoc.getMakeDelay(.13).prosime];case 1:return a.sent(),[2]}})},c=this,r=0,p.label=1;case 1:return r<9?[5,i(r)]:[3,4];case 2:p.sent(),p.label=3;case 3:return r++,[3,1];case 4:return u.Windown.MatChuoc.audio.stopEffect(u.Windown.MatChuoc.audio.rouletteLoop),u.Windown.MatChuoc.audio.playEffectNoStop(u.Windown.MatChuoc.audio.rouletteEnd),o(null),[3,6];case 5:return l=p.sent(),s.Util.ThrowErrProsime(l),[3,6];case 6:return[2]}})})})},c([p],e)}(cc.Component));n.default=h,cc._RF.pop()},{"../../../../Scritps/Util":void 0,"../../../../Scritps/Windown":void 0}],SpinNormalMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"916db4a5+xHV49ewdl7Ck/I","SpinNormalMatChuoc");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,c){function r(t){try{s(o.next(t))}catch(e){c(e)}}function a(t){try{s(o.throw(t))}catch(e){c(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,a)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,c,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(t){return function(e){return s([t,e])}}function s(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&c[0]?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(6===c[0]&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(a){c=[6,a],o=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/StateReelSlot"),r=t("./SymbolMatChuoc"),a=t("./Effect/EffectDragonFS"),s=t("../../../Scritps/Windown"),u=t("../../../Scritps/Util"),l=function(){function t(){this.listFunShowOceLine=[],this.funShowOceLine=null,this.listColum=[],this.effect=null,this.isMaxSpeed=!1,this.isAutoSpin=!1,this.lastAutoSpin=!1,this.countAutoSpin=0,this.lastFreeSpinLeft=0,this.freeSpinLeft=0,this.isLastNoSap=!1,this.speedNormal=1.1,this.freeSpinCache=0,this.moneyTotalFs=0,this.curentCountScater=0,this.isShowNearWin=!1,this.isShowingDragon=!1,this.nodeEffDragon=null,this.listColum=s.Windown.MatChuoc.listColum,this.effect=s.Windown.MatChuoc.effect}return t.prototype.onStart=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:i.trys.push([0,10,,11]),this.removeAllMutilAdded(),t=.06,n=0,i.label=1;case 1:return n<this.listColum.length?this.isMaxSpeed?[3,3]:[4,s.Windown.MatChuoc.getMakeDelay(t).prosime]:[3,5];case 2:i.sent(),i.label=3;case 3:this.listColum[n].runSpin(),t-=.008,i.label=4;case 4:return n++,[3,1];case 5:return s.Windown.MatChuoc.audio.playEffect(s.Windown.MatChuoc.audio.spinActiveLoop,1,!0),this.isCheckShowDragon()?(console.log("Wft: "+this.isLastNoSap),[4,s.Windown.MatChuoc.getPromise(this.showDragonFS())]):[3,7];case 6:i.sent(),i.label=7;case 7:return this.isMaxSpeed?[3,9]:[4,s.Windown.MatChuoc.getMakeDelay(.3).prosime];case 8:i.sent(),i.label=9;case 9:return[3,11];case 10:return o=i.sent(),u.Util.ThrowErrProsime(o),[3,11];case 11:return e(null),[2]}})})})},t.prototype.onEnd=function(){return o(this,void 0,void 0,function(){var t,e,n,o,r,a,l,p,h,d;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,12,,13]),t=s.Windown.MatChuoc.listResultConvert,e=s.Windown.MatChuoc.getListActiveScaster(t[0].listSFSObj),n=0,o=[],this.isShowNearWin=!1,r=0,a=e;r<a.length;r++)if(h=a[r]){this.isShowNearWin=!0;break}this.curentCountScater=t[0].countScater,s.Windown.MatChuoc.audio.stopEffect(s.Windown.MatChuoc.audio.spinActiveLoop),l=0,p=this.listColum,i.label=1;case 1:return l<p.length?(h=p[l],this.isMaxSpeed?[3,3]:[4,s.Windown.MatChuoc.getPromise(h.stopSpin(e[n],t[0].listSFSObj[n]))]):[3,6];case 2:return i.sent(),[3,4];case 3:o.push(h.stopSpinIsFastSpin(e[n],t[0].listSFSObj[n])),i.label=4;case 4:n++,i.label=5;case 5:return l++,[3,1];case 6:return this.isMaxSpeed?[4,s.Windown.MatChuoc.getPromiseAll(o)]:[3,9];case 7:return i.sent(),[4,s.Windown.MatChuoc.getMakeDelay(.1).prosime];case 8:return i.sent(),[3,11];case 9:return[4,s.Windown.MatChuoc.getMakeDelay(.5).prosime];case 10:i.sent(),i.label=11;case 11:return s.Windown.MatChuoc.stateReel!=c.default.RUN&&this.handleStopAllColum(),[3,13];case 12:return d=i.sent(),u.Util.ThrowErrProsime(d),[3,13];case 13:return[2]}})})},t.prototype.handleErrSpin=function(){return o(this,void 0,void 0,function(){var t,e,n;return i(this,function(o){switch(o.label){case 0:s.Windown.MatChuoc.audio.stopEffect(s.Windown.MatChuoc.audio.spinActiveLoop),t=0,e=this.listColum,o.label=1;case 1:return t<e.length?(n=e[t],this.isMaxSpeed?[3,3]:[4,s.Windown.MatChuoc.getPromise(n.stopSpin(!1,n.result))]):[3,5];case 2:return o.sent(),[3,4];case 3:n.stopSpin(!1,n.result),o.label=4;case 4:return t++,[3,1];case 5:return s.Windown.MatChuoc.resetForNewGame(),[2]}})})},t.prototype.onForceEnd=function(){return o(this,void 0,void 0,function(){var t,e,n,o,c,r,a,l;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,3,,4]),s.Windown.MatChuoc.audio.stopEffect(s.Windown.MatChuoc.audio.spinActiveLoop),s.Windown.MatChuoc.clearAllMakeDelay(),t=s.Windown.MatChuoc.listResultConvert,e=s.Windown.MatChuoc.getListActiveScaster(t[0].listSFSObj),n=[],o=0,console.log("onForceEnd: "+JSON.stringify(e)),c=0,r=this.listColum;c<r.length;c++)a=r[c],n.push(a.forceStopSpin(e[o],t[0].listSFSObj[o])),o++;return s.Windown.MatChuoc.audio.playEffect(s.Windown.MatChuoc.audio.spinStopQuick),[4,s.Windown.MatChuoc.getPromiseAll(n)];case 1:return i.sent(),[4,s.Windown.MatChuoc.getMakeDelay(.25).prosime];case 2:return i.sent(),this.handleStopAllColum(),[3,4];case 3:return l=i.sent(),u.Util.ThrowErrProsime(l),[3,4];case 4:return[2]}})})},t.prototype.handleStopAllColum=function(){return o(this,void 0,void 0,function(){var t,e,n,o,r;return i(this,function(i){switch(i.label){case 0:if(i.trys.push([0,14,,15]),s.Windown.MatChuoc.stateReel==c.default.STOP)return[2];s.Windown.MatChuoc.stateReel=c.default.STOP,s.Windown.MatChuoc.setStateEffBtnSpin(),t=s.Windown.MatChuoc.listResultConvert,this.activeAllSymbol(),s.Windown.MatChuoc.infoBar.showRdContent(),this.isLastNoSap=!1,e=0,n=t.length,i.label=1;case 1:return e<n?(o=t[e],this.curentCountScater=o.countScater,o.listItemWin?[4,s.Windown.MatChuoc.getPromise(this.checkAndShowLineAn(o.listItemWin,o.agWin,o))]:[3,8]):[3,9];case 2:return i.sent(),[4,s.Windown.MatChuoc.getPromise(this.checkAndRemoveSymbol(o.listItemWin))];case 3:return i.sent(),o.isNoSap?[4,s.Windown.MatChuoc.getPromise(this.addNewSymbol(t[e+1]))]:[3,8];case 4:return i.sent(),[4,s.Windown.MatChuoc.getPromise(this.moveSymbolInView())];case 5:return i.sent(),[4,s.Windown.MatChuoc.getPromise(this.moveSymbolNew())];case 6:return i.sent(),[4,s.Windown.MatChuoc.getPromise(s.Windown.MatChuoc.muitlCtr.effectTake(t[e+1].mutil))];case 7:i.sent(),this.isLastNoSap=!0,i.label=8;case 8:return e++,[3,1];case 9:return this.isMaxSpeed?[3,11]:[4,s.Windown.MatChuoc.getMakeDelay(.4).prosime];case 10:i.sent(),i.label=11;case 11:return[4,s.Windown.MatChuoc.getPromise(this.showMoneyTotalRevice())];case 12:return i.sent(),[4,s.Windown.MatChuoc.getPromise(this.checkAndShowEffect())];case 13:return i.sent(),this.resetForNextNextSpin(),[3,15];case 14:return r=i.sent(),u.Util.ThrowErrProsime(r),[3,15];case 15:return[2]}})})},t.prototype.checkIsNearFS=function(){return this.isShowNearWin},t.prototype.removeAllMutilAdded=function(){var t=this;return new Promise(function(e){s.Windown.MatChuoc.resetLbTotalLine(),s.Windown.MatChuoc.muitlCtr.resetForNextSpin(),t.listColum.forEach(function(t){t.getListSymbol().forEach(function(t){t.removeAddScater(0)})}),e(null)})},t.prototype.checkAndRemoveSymbol=function(t){var e=this;return new Promise(function(n){return o(e,void 0,void 0,function(){var e,o,c,r,a,l;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,2,,3]),console.log("checkAndRemoveSymbol "),this.activeAllSymbol(),e=t.lsIdItem,o=t.lsstack,c=0,r=e.length;c<r;c++)for(a=0;a<o[c]+1;a++)this.listColum[a].checkAndRemoveItem(e[c],0);return[4,s.Windown.MatChuoc.getPromise(s.Windown.MatChuoc.getMakeDelay(.8/s.Windown.MatChuoc.getDelta()).prosime)];case 1:return i.sent(),n(null),[3,3];case 2:return l=i.sent(),u.Util.ThrowErrProsime(l),[3,3];case 3:return[2]}})})})},t.prototype.addNewSymbol=function(t){var e=this;return new Promise(function(n){return o(e,void 0,void 0,function(){var e,o,c;return i(this,function(i){switch(i.label){case 0:for(o in i.trys.push([0,2,,3]),e=[],this.listColum)e.push(this.listColum[o].addNewListSymbol(t.listSFSObj[o]));return[4,s.Windown.MatChuoc.getPromiseAll(e)];case 1:return i.sent(),n(null),[3,3];case 2:return c=i.sent(),u.Util.ThrowErrProsime(c),[3,3];case 3:return[2]}})})})},t.prototype.moveSymbolInView=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:for(n in i.trys.push([0,2,,3]),t=[],this.listColum)t.push(this.listColum[n].moveSymbolInView());return[4,s.Windown.MatChuoc.getPromiseAll(t)];case 1:return i.sent(),e(null),[3,3];case 2:return o=i.sent(),u.Util.ThrowErrProsime(o),[3,3];case 3:return[2]}})})})},t.prototype.moveSymbolNew=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o,c,r,a;return i(this,function(i){switch(i.label){case 0:for(o in i.trys.push([0,7,,8]),t=[],n=[],this.listColum)n.push(o);c=0,i.label=1;case 1:return c<n.length?(r=n[c],s.Windown.MatChuoc.nearWinNoSap.active?[4,s.Windown.MatChuoc.getPromise(this.listColum[r].moveSymbolNew())]:[3,3]):[3,5];case 2:return i.sent(),[3,4];case 3:t.push(this.listColum[r].moveSymbolNew()),i.label=4;case 4:return c++,[3,1];case 5:return[4,s.Windown.MatChuoc.getPromiseAll(t)];case 6:return i.sent(),e(null),[3,8];case 7:return a=i.sent(),u.Util.ThrowErrProsime(a),[3,8];case 8:return[2]}})})})},t.prototype.offAllSymbol=function(t){void 0===t&&(t=!0),s.Windown.MatChuoc.activeMask(!0)},t.prototype.activeAllSymbol=function(){s.Windown.MatChuoc.activeMask(!1)},t.prototype.checkAndShowLineAn=function(t,e,n){var c=this;return new Promise(function(e){return o(c,void 0,void 0,function(){var o,c,r,a,l,p,h;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,2,,3]),this.offAllSymbol(),o=t.lsIdItem,c=t.lsstack,r=t.lsAgWin,o.length>0&&s.Windown.MatChuoc.audio.playEffectNoStop(s.Windown.MatChuoc.audio.uiCollect),a=0,l=o.length;a<l;a++){for(s.Windown.MatChuoc.audio.playEffect(s.Windown.MatChuoc.audio.voxSymbol[o[a]]),p=0;p<c[a]+1;p++)this.listColum[p].checkItemWin(o[a],c[a]);r[a]}return s.Windown.MatChuoc.infoBar.showTakeMoneyTurn(n.agWin*n.mutil,n.mutil),[4,s.Windown.MatChuoc.getPromise(s.Windown.MatChuoc.getMakeDelay(1/s.Windown.MatChuoc.getDelta()).prosime)];case 1:return i.sent(),e(null),[3,3];case 2:return h=i.sent(),u.Util.ThrowErrProsime(h),[3,3];case 3:return[2]}})})})},t.prototype.resetForNextNextSpin=function(){var t=this;if(s.Windown.MatChuoc.resetForNewGame(),s.Windown.MatChuoc.stateSpin.speedNormal=1,this.freeSpinLeft>0)s.Windown.MatChuoc.stateSpin.speedNormal=.8,s.Windown.MatChuoc.scheduleOnce(function(){s.Windown.MatChuoc.setLbFreeSpinLeft(t.freeSpinLeft-1),s.Windown.MatChuoc.onClickBtnSpin()},.5);else if(this.countAutoSpin>0){var e=s.Windown.MatChuoc.stateSpin.isMaxSpeed?2:1;s.Windown.MatChuoc.scheduleOnce(function(){t.countAutoSpin--,s.Windown.MatChuoc.setCountAuto(t.countAutoSpin),s.Windown.MatChuoc.onClickBtnSpin()},.5/e)}else s.Windown.MatChuoc.activeAllBtn()},t.prototype.checkAndShowEffect=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),t=s.Windown.MatChuoc.dataFinish.Scarter4,n=s.Windown.MatChuoc.dataFinish.numFreeSpin,this.freeSpinLeft=n,!t&&this.lastFreeSpinLeft<1?(e(null),[2]):t?(this.isLastNoSap=!0,[4,s.Windown.MatChuoc.getPromise(s.Windown.MatChuoc.effect.showTakeFreeSpin(n))]):[3,2];case 1:i.sent(),i.label=2;case 2:return 1==this.lastFreeSpinLeft&&this.freeSpinLeft<1?[4,s.Windown.MatChuoc.getPromise(this.effect.showEndFree(this.moneyTotalFs))]:[3,4];case 3:i.sent(),this.moneyTotalFs=0,i.label=4;case 4:return this.lastFreeSpinLeft=this.freeSpinLeft,e(null),[3,6];case 5:return o=i.sent(),u.Util.ThrowErrProsime(o),[3,6];case 6:return[2]}})})})},t.prototype.isCheckShowDragon=function(){return this.lastFreeSpinLeft>0&&1==this.isLastNoSap},t.prototype.showMoneyTotalRevice=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=s.Windown.MatChuoc.dataFinish.agWin,this.lastFreeSpinLeft>0&&(this.moneyTotalFs+=t),s.Windown.MatChuoc.activeMask(!1),t<1?(e(null),[2]):[4,s.Windown.MatChuoc.getPromise(s.Windown.MatChuoc.infoBar.showTotalMoney(t))];case 1:return o.sent(),s.Windown.MatChuoc.showMoneyAllWin(t),e(null),[3,3];case 2:return n=o.sent(),u.Util.ThrowErrProsime(n),[3,3];case 3:return[2]}})})})},t.prototype.showDragonFS=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),t=1,s.Windown.MatChuoc.activeMask(!0,null,180,!0),(n=cc.instantiate(s.Windown.MatChuoc.asset.dragonFS)).parent=s.Windown.MatChuoc.parentEffect,n.getComponent(a.EffectDragonFS).showDragon(),s.Windown.MatChuoc.nearDragonFS.opacity=0,s.Windown.MatChuoc.nearDragonFS.active=!0,[4,s.Windown.MatChuoc.getMakeDelay(.4).prosime];case 1:return i.sent(),s.Windown.MatChuoc.asset.bgDragonFS.opacity=0,s.Windown.MatChuoc.asset.bgDragonFS.runAction(cc.fadeIn(.3)),[4,s.Windown.MatChuoc.getMakeDelay(.4).prosime];case 2:return i.sent(),s.Windown.MatChuoc.activeMask(!1,2,180,!0),s.Windown.MatChuoc.nearDragonFS.runAction(cc.fadeIn(.5)),s.Windown.MatChuoc.listColum[2].getListSymbol().forEach(function(t){t.activeItem(.3),t.typeItem=0,t.setImgResult(!1)}),[4,s.Windown.MatChuoc.getMakeDelay(.5/t).prosime];case 3:return i.sent(),this.effectItemFly(),[4,s.Windown.MatChuoc.getMakeDelay(1.2/t).prosime];case 4:return i.sent(),s.Windown.MatChuoc.nearDragonFS.runAction(cc.fadeOut(.3)),s.Windown.MatChuoc.asset.bgDragonFS.runAction(cc.fadeOut(.3)),s.Windown.MatChuoc.activeMask(!1,null,180,!0),s.Windown.MatChuoc.listColum[2].getListSymbol().forEach(function(t){t.offItem(.2)}),n&&n.runAction(cc.sequence(cc.fadeOut(.3),cc.delayTime(.3),cc.callFunc(function(){n.destroy()}))),e(null),[3,6];case 5:return o=i.sent(),u.Util.ThrowErrProsime(o),[3,6];case 6:return[2]}})})})},t.prototype.effectItemFly=function(){for(var t=cc.v3(0,310,0),e=[],n=0;n<5;n++){var o=cc.instantiate(s.Windown.MatChuoc.asset.itemSymbolMatChuoc);n%2==0?o.setPosition(cc.v3(-550,762,0)):o.setPosition(cc.v3(550,762,0)),o.parent=s.Windown.MatChuoc.parentEffect,o.active=!0,o.getComponent(r.default).result=s.Windown.RandomNumber(0,8),o.getComponent(r.default).typeItem=2,o.getComponent(r.default).setImgResult(!1),o.setScale(cc.v3(2/3-2/15*(n+1),2/3-2/15*(n+1))),e.push(o)}var i=function(n){var o=cc.v2(0,t.y-138.5*n);e[n].runAction(cc.sequence(cc.delayTime(.1*(e.length-1-n)),cc.spawn(cc.moveTo(.35,o).easing(cc.easeSineIn(.35)),cc.scaleTo(.25,2/3)),cc.callFunc(function(){0==n&&(s.Windown.MatChuoc.stateSpin.isShowingDragon=!0,s.Windown.MatChuoc.listColum[2].getListSymbol().forEach(function(t){t.typeItem=2,t.setImgResult(!1)}))}),cc.delayTime(.2+.05*n),cc.moveBy(.8,cc.v2(0,-2e3)),cc.delayTime(.8),cc.callFunc(function(){e[n].destroy()})))};for(n=e.length-1;n>=0;n--)i(n)},t}();n.default=l,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./Effect/EffectDragonFS":"EffectDragonFS","./SymbolMatChuoc":"SymbolMatChuoc"}],StartFreeSpinMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"05c42/QoClJybQkpRokUPK5","StartFreeSpinMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,o){var i,c=arguments.length,r=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,n,r):i(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,u=t("../../../../Scritps/Other/LbMonoSpace"),l=t("../../../../Scritps/Windown"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.btnBatDau=null,e.animStartBtn=null,e}return i(e,t),e.prototype.show=function(t){var e=this;return new Promise(function(n){e.node.opacity=0,e.node.runAction(cc.fadeIn(.2)),e.node.getComponent(cc.Animation).play("effectPopupFS"),cc.tween(e.animStartBtn).set({scale:0,opacity:0}).to(.3,{scale:1,opacity:255},{easing:cc.easing.backOut}).start(),l.Windown.MatChuoc.audio.playBkgfs(),l.Windown.MatChuoc.audio.playEffect(l.Windown.MatChuoc.audio.fsTrans),e.label.string=t.toString();var o=function(){l.Windown.MatChuoc.audio.stopEffect(l.Windown.MatChuoc.audio.fsTrans),e.node.runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){e.node.destroy()}))),n(null)};e.btnBatDau.interactable=!1,e.scheduleOnce(function(){e.btnBatDau.interactable=!0,e.btnBatDau.node.once("click",o),e.btnBatDau.node.runAction(cc.sequence(cc.delayTime(5),cc.callFunc(o)))},1)})},c([s(u.default)],e.prototype,"label",void 0),c([s(cc.Button)],e.prototype,"btnBatDau",void 0),c([s(cc.Node)],e.prototype,"animStartBtn",void 0),c([a],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../../Scritps/Other/LbMonoSpace":void 0,"../../../../Scritps/Windown":void 0}],SymbolMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"aeb87BQkjNBrbJmmy8kOwVk","SymbolMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,o){var i,c=arguments.length,r=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(c<3?i(r):c>3?i(e,n,r):i(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,c){function r(t){try{s(o.next(t))}catch(e){c(e)}}function a(t){try{s(o.throw(t))}catch(e){c(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,a)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,c,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(t){return function(e){return s([t,e])}}function s(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&c[0]?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(6===c[0]&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(a){c=[6,a],o=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE_ITEM=void 0;var s,u=cc._decorator,l=u.ccclass,p=u.property,h=t("../../../Scritps/DefineTs/StateReelSlot"),d=t("../../../Scritps/Util"),f=t("../../../Scritps/Windown"),y=t("./Effect/EffectSymbolMatChuoc"),m=t("./Effect/ItemAddScaterMatChuoc"),S=t("./Effect/ShuffItemMatChuoc"),v=t("./ItemSlotMatChuoc");(function(t){t[t.NONE=0]="NONE",t[t.VANG=2]="VANG"})(s=n.TYPE_ITEM||(n.TYPE_ITEM={}));var g=2/3,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteItem=null,e.spriteBkg=null,e.nodeSprGold=null,e.bgScatter=null,e.buiSang=null,e.nodeScater=null,e.sizeBkg=new cc.Size(189*g,224*g),e.size=new cc.Size(189*g,224*g),e.itemColum=null,e.result=-1,e.objSFS=null,e.typeItem=s.NONE,e.sizeItem=1,e.canRun=!1,e.efWin=null,e.lastPos=null,e.isShuff=!1,e.isShowEffectSpawn=!1,e}return i(e,t),e.prototype.setItemColum=function(t){this.itemColum=t,this.node.angle=0,this.size.height=138.5},e.prototype.setResult=function(t){if(null!=t&&null!=t){var e=t;null!=e?(null!=e.t&&null!=e.t||(e.t=0),this.objSFS=e,this.result=e.i,this.typeItem=e.t,this.sizeItem=1,this.setSize(),this.itemColum.stateWhel==h.default.RUN?this.setImgResult(!0):this.setImgResult(!1),this.node.opacity=255,this.isShuff=!1,this.isShowEffectSpawn=!1):cc.log("null re sult symbol: "+this.itemColum.index)}},e.prototype.setSize=function(){this.node.setContentSize(this.size.width,this.size.height)},e.prototype.setImgResult=function(t){f.Windown.MatChuoc.stateSpin.isShowingDragon&&this.itemColum&&2==this.itemColum.index&&(t=!1),this.spriteItem.node.children[0].active=!1,this.spriteBkg.node.active=!0,this.spriteItem.node.active=!0,this.bgScatter.active=!1,this.buiSang.active=!1,this.spriteItem.node.children[0].setScale(1,1,1),this.spriteItem.node.setScale(1,1,1),this.spriteItem.node.setPosition(cc.v3(5,5,0)),this.spriteBkg.node.setScale(cc.v3(1,1,1)),this.spriteItem.spriteFrame=this.getSpItem(t),this.spriteBkg.spriteFrame=this.getSpBkg(t),this.result>=9&&(this.spriteItem.node.setPosition(cc.v3(0,0,0)),this.spriteBkg.node.active=!1,9==this.result?this.spriteItem.node.children[0].active=!0:10==this.result&&(this.bgScatter.active=!0),this.buiSang.active=!0),t?this.result<9?(this.node.setScale(cc.v3(2/3*2,2/3*2,2/3*2)),this.spriteBkg.node.setScale(cc.v3(1,1.2,1)),this.spriteItem.node.setScale(.967,.967,.967)):10==this.result&&(this.node.setScale(cc.v3(2/3,2/3,2/3)),this.spriteItem.node.children[0].active=!1,this.spriteItem.node.setScale(cc.v3(1.9,1.9,1.9))):(this.node.setScale(cc.v3(2/3,2/3,2/3)),this.spriteItem.node.setScale(cc.v3(1,1,1)),10==this.result&&(this.node.setScale(cc.v3(2/3,2/3,2/3)),this.spriteItem.node.children[0].active=!1,this.spriteItem.node.setScale(cc.v3(.95,.95,.95)))),this.typeItem==s.NONE?this.nodeSprGold.active=!1:this.nodeSprGold.active=!0},e.prototype.checkItemFront=function(){!this.checkIsInView()||9!=this.result&&10!=this.result?this.setParentNode(this.itemColum.parentItem):this.setParentNode(this.itemColum.parentItemFront)},e.prototype.offItemFront=function(){this.setParentNode(this.itemColum.parentItem)},e.prototype.getSpBkg=function(t){return f.Windown.MatChuoc.asset.getSfBkg(this.result,this.typeItem,t)},e.prototype.getSpItem=function(t){return f.Windown.MatChuoc.asset.getSfItemSymbol(this.result,t)},e.prototype.getAtlas=function(){return this.result<10?f.Windown.MatChuoc.asset.atlasSymbol:f.Windown.MatChuoc.asset.atlasSpecial},e.prototype.getIndexOf=function(){return this.itemColum.getListSymbol().indexOf(this)},e.prototype.getIndexColum=function(){return this.itemColum.index},e.prototype.showSkeleton=function(){},e.prototype.convertNameSpineById=function(){switch(this.result){case 9:return"s_wild";case 10:return"s_scatter"}},e.prototype.removeAddScater=function(t){null!=this.nodeScater&&(this.node.active=!0,this.nodeScater.remove(t),this.nodeScater=null)},e.prototype.effectActiveScater=function(){10==this.result&&this.checkIsInView()&&(this.nodeScater=cc.instantiate(f.Windown.MatChuoc.asset.nodeAddScater).getComponent(m.default),this.nodeScater.init(this),this.nodeScater.node.active=!0,this.node.active=!1)},e.prototype.effectScaterIdle=function(){10==this.result&&this.checkIsInView()&&this.nodeScater&&(this.nodeScater.node.active=!0,this.nodeScater.idle())},e.prototype.effectScaterShowFS=function(){10==this.result&&this.checkIsInView()&&this.nodeScater&&(this.activeItem(),this.nodeScater.node.active=!0,this.nodeScater.showFS())},e.prototype.effectNearWinScater=function(t){10==this.result&&this.checkIsInView()&&this.nodeScater&&(this.activeItem(),this.nodeScater.node.active=!0,this.nodeScater.node.stopAllActions(),this.nodeScater.effectNearWinNoSap(t),this.nodeScater.showFS())},e.prototype.checkIsInView=function(){return this.node.getPosition().y<-70&&this.node.getPosition().y>-this.size.height*this.itemColum.result.length},e.prototype.offItem=function(t){void 0===t&&(t=0),this.node.parent!=this.itemColum.parentItem&&this.checkItemFront()},e.prototype.activeItem=function(t){var e=this;void 0===t&&(t=0),this.itemColum.parentItemActive.runAction(cc.sequence(cc.delayTime(t),cc.callFunc(function(){e.setParentNode(e.itemColum.parentItemActive)})))},e.prototype.setParentNode=function(t){this.node.parent=t,this.nodeScater&&this.nodeScater.changParent()},e.prototype.runSpin=function(){this.offItemFront();var t=cc.repeatForever(cc.moveBy(f.Windown.MatChuoc.stateSpin.isMaxSpeed?.5:f.Windown.MatChuoc.stateSpin.speedNormal,cc.v2(0,-2500)));this.node.stopAllActions(),this.node.runAction(t),this.canRun=!0},e.prototype.stopSpin=function(t){var e=this;this.getIndexOf(),this.node.stopAllActions(),this.node.runAction(cc.sequence(t,cc.callFunc(function(){e.itemColum.effStopSpin()})))},e.prototype.initPosStartGame=function(){var t,e=this.getIndexOf(),n=this.itemColum.getListSymbol()[e-1],o=null==n?void 0:n.node.getPosition().y;t=n?o-this.node.height/2-n.node.height/2:this.node.height/2,this.node.setPosition(this.node.getPosition().x,t,0),this.node.setSiblingIndex(e)},e.prototype.setPos=function(t){this.node.setPosition(t)},e.prototype.getPos=function(){return this.node.getPosition()},e.prototype.moveWhenListChange=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=null);var o=this.getIndexOf(),i=this.itemColum.getListSymbol()[o+1],c=i.getPos(),r=c.y,a=null;t==v.TYPE_MOVE.NORMAL&&(a=r+this.node.height/2+i.node.height/2,c.y=a,this.setPos(c))},e.prototype.takeItem=function(t,e){if(!this.efWin){f.Windown.MatChuoc.stateSpin.isMaxSpeed;var n=cc.instantiate(f.Windown.MatChuoc.asset.efTakeSymbol);n.parent=f.Windown.MatChuoc.parentEffect.children[t],n.setPosition(f.Windown.convertNodeInOtherNode(this.node,f.Windown.MatChuoc.parentEffect.children[t]));var o=f.Windown.convertNodeInOtherNode(this.node,f.Windown.MatChuoc.parentEffect);n.getComponent(y.default).effTakeItem(this.result,this.typeItem,o),n.setSiblingIndex(e),n.priority=e,f.Windown.MatChuoc.parentEffect.children[t].children.forEach(function(t){t.setSiblingIndex(t.priority)}),this.activeItem(0),this.efWin=n}},e.prototype.removeItem=function(t){var e=this.getIndexOf();e>-1&&this.itemColum.getListSymbol().splice(e,1),this.effectRemoveItem(t),f.Windown.MatChuoc.asset.putSymbol(this.node)},e.prototype.effectRemoveItem=function(t){if(this.efWin){var e=cc.instantiate(f.Windown.MatChuoc.asset.effRemoveItem);e.parent=f.Windown.MatChuoc.parentEffect,e.setPosition(f.Windown.convertNodeInOtherNode(this.node,f.Windown.MatChuoc.parentEffect)),this.efWin.getComponent(y.default).effectRemoveTakeItem(t),e.getComponent(y.default).effRemoveItem()}this.efWin=null,t!=s.NONE&&(this.node.active=!0,this.node.opacity=0)},e.prototype.actionRandomNewResultNextKhung=function(t){var e=this;return new Promise(function(n){return r(e,void 0,void 0,function(){var e,o,i;return a(this,function(c){switch(c.label){case 0:return c.trys.push([0,8,,9]),this.isShowEffectSpawn=!1,e=f.Windown.MatChuoc.stateSpin.isMaxSpeed?2:1,f.Windown.MatChuoc.audio.playEffectNoStop(f.Windown.MatChuoc.audio.rouletteStart),10!=t?[3,3]:(this.spriteItem.node.opacity=255,this.spriteItem.spriteFrame=this.getSpItem(!1),this.spriteBkg.spriteFrame=this.getSpBkg(!1),this.isShowEffectSpawn=!1,this.effectSpawnSymbol(),1!=e?[3,2]:[4,f.Windown.MatChuoc.getMakeDelay(.4).prosime]);case 1:c.sent(),c.label=2;case 2:return f.Windown.MatChuoc.audio.playEffectNoStop(f.Windown.MatChuoc.audio.rouletteEnd),n(null),[3,7];case 3:return this.node.opacity=0,f.Windown.MatChuoc.stateSpin.isMaxSpeed?[3,5]:((o=cc.instantiate(f.Windown.MatChuoc.asset.itemShuffToNormal)).parent=f.Windown.MatChuoc.parentEffect,o.setPosition(f.Windown.convertNodeInOtherNode(this.node,f.Windown.MatChuoc.parentEffect)),[4,f.Windown.MatChuoc.getPromise(o.getComponent(S.default).effShuffItem(this.result,t+1))]);case 4:c.sent(),c.label=5;case 5:return this.node.opacity=255,this.spriteItem.spriteFrame=this.getSpItem(!1),this.spriteBkg.spriteFrame=this.getSpBkg(!1),[4,f.Windown.MatChuoc.getMakeDelay(.2/e).prosime];case 6:c.sent(),n(null),c.label=7;case 7:return[3,9];case 8:return i=c.sent(),d.Util.ThrowErrProsime(i),[3,9];case 9:return[2]}})})})},e.prototype.effectSpawnSymbol=function(t){return void 0===t&&(t=!0),r(this,void 0,void 0,function(){return a(this,function(){try{if(this.isShowEffectSpawn||!this.checkIsInView())return[2];this.isShowEffectSpawn=!0,this.checkItemFront(),10==this.result?(t&&f.Windown.MatChuoc.audio.playEffectNoStop(f.Windown.MatChuoc.audio.symScatter),this.effectActiveScater(),f.Windown.MatChuoc.stateSpin.checkIsNearFS()&&this.effectNearWinScater(!0)):9==this.result&&t&&f.Windown.MatChuoc.audio.playEffectNoStop(f.Windown.MatChuoc.audio.symWild)}catch(e){d.Util.ThrowErrProsime(e)}return[2]})})},e.prototype.unuse=function(){this.isShowEffectSpawn=!1,this.isShuff=!1,this.result=-1,this.node.opacity=255,this.spriteItem.node.opacity=255,this.node.setPosition(cc.v3(0,this.node.getPosition().y,0)),this.node.stopAllActions(),this.removeAddScater(!0)},e.prototype.checkEndCot=function(){if(0==this.getIndexOf()){var t=this.node.height/2;if(this.node.getPosition().y<=t){var e=this.itemColum.getIdSymbolResult(),n=this.itemColum.getListSymbol(),o=n.pop();n.unshift(o),o.node.setSiblingIndex(0),o.node.zIndex=0,o.setResult(e),o.moveWhenListChange(v.TYPE_MOVE.NORMAL)}}},e.prototype.update=function(){this.canRun&&this.checkEndCot()},c([p(cc.Sprite)],e.prototype,"spriteItem",void 0),c([p(cc.Sprite)],e.prototype,"spriteBkg",void 0),c([p(cc.Node)],e.prototype,"nodeSprGold",void 0),c([p(cc.Node)],e.prototype,"bgScatter",void 0),c([p(cc.Node)],e.prototype,"buiSang",void 0),c([l],e)}(cc.Component);n.default=w,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./Effect/EffectSymbolMatChuoc":"EffectSymbolMatChuoc","./Effect/ItemAddScaterMatChuoc":"ItemAddScaterMatChuoc","./Effect/ShuffItemMatChuoc":"ShuffItemMatChuoc","./ItemSlotMatChuoc":"ItemSlotMatChuoc"}]},{},["AssetMatChuoc","AudioMatChuoc","CachChoiMatChuoc","DetailHistoryMatChuoc","EffectMatChuoc","BigwinMatChuoc","EffectDragonFS","EffectSymbolMatChuoc","EndFreeSpinMatChuoc","ItemAddScaterMatChuoc","NearFsMatChuoc","ShuffItemMatChuoc","StartFreeSpinMatChuoc","InfoBarControllerMatChuoc","ItemLichSuMatChuoc","ItemResultDetailMatChuoc","ItemSlotMatChuoc","LichSuMatChuoc","MatChuocView","MutilControlMatChuoc","SpinNormalMatChuoc","SymbolMatChuoc"]);