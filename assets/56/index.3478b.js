window.__require=function t(e,n,i){function o(r,s){if(!n[r]){if(!e[r]){var a=r.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!s&&l)return l(a,!0);if(c)return c(a,!0);throw new Error("Cannot find module '"+r+"'")}r=a}var p=n[r]={exports:{}};e[r][0].call(p.exports,function(t){return o(e[r][1][t]||t)},p,p.exports,t,e,n,i)}return n[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<i.length;r++)o(i[r]);return o}({AiCapMultiTop:[function(t,e,n){"use strict";cc._RF.push(e,"6f8f5N18k1N56EHB1Y0JaFl","AiCapMultiTop");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbolNode=[],e}return o(e,t),e.prototype.onLoad=function(){this._rollerTopBound=this.node.width/2,this._rollerBottomBound=-this.node.width/2,this.runMultiple()},e.prototype.runMultiple=function(){for(var t=0;t<this.symbolNode.length;t++)this.symbolNode[t].runAction(cc.repeatForever(cc.moveBy(7,cc.v2(350,0))))},e.prototype.update=function(){for(var t=0;t<this.symbolNode.length;t++){var e=this.symbolNode[t];e.position.x>this._rollerTopBound&&(e.position=cc.v3(this._rollerBottomBound,0))}},c([a([cc.Node])],e.prototype,"symbolNode",void 0),c([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],AiCapRibbonWin:[function(t,e,n){"use strict";cc._RF.push(e,"ad529VM5tFH94ki7IZVucUd","AiCapRibbonWin");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Scritps/Windown"),s=cc._decorator,a=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbolNode=[],e.flare=null,e.light=null,e.light2=null,e._isStop=!1,e._isStopAllActions=!1,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){r.Windown.AiCap.audio.playEffect(r.Windown.AiCap.audio.bingo_wheel_startspin),this.light.opacity=0,this.light.stopAllActions(),this.light.runAction(cc.sequence(cc.fadeIn(.5),cc.delayTime(.15),cc.fadeOut(.7))),this.light2.opacity=0,this.light2.stopAllActions(),this.light2.runAction(cc.sequence(cc.fadeIn(.6),cc.delayTime(.15),cc.fadeOut(.7)))},e.prototype.hide=function(t){var e=this;r.Windown.AiCap.audio.stopEffect(r.Windown.AiCap.audio.bingo_wheel_out),r.Windown.AiCap.audio.stopEffect(r.Windown.AiCap.audio.bgm_feature_loop),this.light.opacity=0,this.light.stopAllActions(),this.light.runAction(cc.sequence(cc.fadeIn(.3),cc.delayTime(.1),cc.fadeOut(.3))),this.light2.opacity=0,this.light2.stopAllActions(),this.light2.runAction(cc.sequence(cc.fadeIn(.3),cc.delayTime(.1),cc.fadeOut(.3),cc.callFunc(function(){e.node.active=!1,t&&t()})))},e.prototype.runMultiple=function(t){r.Windown.AiCap.audio.playEffect(r.Windown.AiCap.audio.bgm_feature_loop,1,!0),this.node.active=!0,this._multiple=t,this._isStopAllActions=!1,this._isStop=!1;for(var e=0;e<this.symbolNode.length;e++){var n=this.symbolNode[e];n.stopAllActions(),n.runAction(cc.repeatForever(cc.moveBy(.33,cc.v2(80,0))))}this.stopMultiple()},e.prototype.stopMultiple=function(){var t=this;this.scheduleOnce(function(){t._isStop=!0},1)},e.prototype.onDisable=function(){},e.prototype.readyStop=function(){var t=this;this._isStopAllActions=!0;for(var e=0;e<this.symbolNode.length;e++)this.symbolNode[e].runAction(cc.sequence(cc.moveBy(.1,cc.v2(7,0)),cc.moveBy(.1,cc.v2(-7,0)),cc.moveBy(.1,cc.v2(7,0)),cc.moveBy(.1,cc.v2(-7,0))));this.scheduleOnce(function(){r.Windown.AiCap.audio.playEffect(r.Windown.AiCap.audio.bingo_wheel_startspin),t.flare.opacity=255,t.flare.scale=0,t.flare.active=!0,t.flare.getComponent(cc.Animation).play();var e=cc.instantiate(t.node.getChildByName("x"+t._multiple));t.node.parent.addChild(e),e.setPosition(cc.v2(0,400)),e.parent=t.node.parent.parent,e.zIndex=300,e.runAction(cc.sequence(cc.scaleTo(.6,.45),cc.delayTime(.1),cc.callFunc(function(){r.Windown.AiCap.infoBar.showSoNhanTong(t._multiple)}),cc.fadeOut(1),cc.removeSelf()))},.4)},e.prototype.update=function(){if(this._isStop&&!this._isStopAllActions&&Math.floor(this.node.getChildByName("x"+this._multiple).position.x)>=-2&&Math.floor(this.node.getChildByName("x"+this._multiple).position.x)<=2)for(var t=0;t<this.symbolNode.length;t++)(e=this.symbolNode[t]).stopAllActions(),Math.floor(e.position.x)>=-2&&Math.floor(e.position.x)<=2&&(cc.log("zoom item",e),e.children[0].scale=1.3,e.children[0].opacity=255,this.readyStop());for(t=0;t<this.symbolNode.length;t++){var e;(e=this.symbolNode[t]).position.x>450&&(e.position=cc.v3(-450,0)),Math.floor(e.position.x)>-19&&Math.floor(e.position.x)<=19&&(e.children[0].opacity=255,e.children[0].scale=1.3),(Math.floor(e.position.x)>20||Math.floor(e.position.x)<-20)&&(e.children[0].opacity=150,e.children[0].scale=1.05)}},c([l([cc.Node])],e.prototype,"symbolNode",void 0),c([l(cc.Node)],e.prototype,"flare",void 0),c([l(cc.Node)],e.prototype,"light",void 0),c([l(cc.Node)],e.prototype,"light2",void 0),c([a],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],AiCapSymbolTop:[function(t,e,n){"use strict";cc._RF.push(e,"18650WFg+ZKg5NWsyq7EVzD","AiCapSymbolTop");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Scritps/Windown"),s=cc._decorator,a=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.select_glow_b=null,e.symIdle=null,e.symActive=null,e.symXanh=null,e.win_particle_circle=null,e.win_particle=null,e._idleItems=null,e._xanhItems=null,e._activeItems=null,e._itemId=null,e}return o(e,t),e.prototype.setItems=function(t,e,n){this._activeItems=t,this._xanhItems=e,this._idleItems=n},e.prototype.setItemId=function(t){t<0||t>9?this.node.active=!1:(this.node.active=!0,this._itemId=t,this.updateSpriteFrame())},e.prototype.updateSpriteFrame=function(){this.symIdle.getComponent(cc.Sprite).spriteFrame=this._idleItems.getSpriteFrame(this._itemId.toString()),this.symXanh.getComponent(cc.Sprite).spriteFrame=this._xanhItems.getSpriteFrame("t_"+this._itemId.toString()),this.symActive.getComponent(cc.Sprite).spriteFrame=this._activeItems.getSpriteFrame(this._itemId.toString())},e.prototype.setWinActive=function(){var t=this;this.symIdle.active=!1,this.symActive.active=!0,this.win_particle.active=!0,this.select_glow_b.active=!0,this.select_glow_b.scale=0,this.select_glow_b.runAction(cc.sequence(cc.scaleTo(.5,1.8),cc.scaleTo(.5,1.6),cc.callFunc(function(){t.win_particle.active=!1})))},e.prototype.setWinHide=function(t,e){var n=this;this.win_particle.active=!0,this.select_glow_b.runAction(cc.sequence(cc.scaleTo(.5,1.8),cc.scaleTo(.5,0),cc.callFunc(function(){n.symIdle.active=!1,n.symActive.active=!1,n.select_glow_b.stopAllActions(),n.select_glow_b.runAction(cc.scaleTo(.2,0)),n.symXanh.scale=0,n.symXanh.active=!0,n.win_particle_circle.active=!1,n.symXanh.runAction(cc.sequence(cc.spawn(cc.callFunc(function(){e&&r.Windown.AiCap.TopSymbolManager.hideEndLineWin(t)}),cc.fadeIn(.2)),cc.scaleTo(.2,.75),cc.scaleTo(.2,.65),cc.callFunc(function(){n.symIdle.active=!0,n.win_particle.active=!1}),cc.fadeOut(.5)))})))},e.prototype.setIdle=function(){this.win_particle.active=!1,this.win_particle_circle.active=!1,this.select_glow_b.active=!1,this.symActive.active=!1,this.symXanh.active=!1,this.symIdle.active=!1},e.prototype.setAnLine=function(){this.setIdle(),this.setWinActive(),this.win_particle_circle.active=!0,this.win_particle_circle.stopAllActions(),this.win_particle_circle.runAction(cc.repeat(cc.rotateBy(1.5,360),100))},e.prototype.actionLineXanhShow=function(){this.symXanh.active=!0,this.symXanh.opacity=0,this.symXanh.stopAllActions(),this.symXanh.runAction(cc.sequence(cc.fadeIn(1.5),cc.fadeOut(1.5)))},c([l(cc.Node)],e.prototype,"select_glow_b",void 0),c([l(cc.Node)],e.prototype,"symIdle",void 0),c([l(cc.Node)],e.prototype,"symActive",void 0),c([l(cc.Node)],e.prototype,"symXanh",void 0),c([l(cc.Node)],e.prototype,"win_particle_circle",void 0),c([l(cc.Node)],e.prototype,"win_particle",void 0),c([a],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],AiCapTopSymbolManager:[function(t,e,n){"use strict";cc._RF.push(e,"b64663qfQFI4Ym50qof2YKO","AiCapTopSymbolManager");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var c=arguments[e],r=0,s=c.length;r<s;r++,o++)i[o]=c[r];return i};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=t("./AiCapRibbonWin"),l=t("./AiCapSymbolTop"),p=cc._decorator,u=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.top_center_shine=null,e.top_multiplier_ring=null,e.top_center_glow=null,e.top_idle_glow=null,e.atlastSymbolTop=null,e.atlastSymbolTopIdle=null,e.parentItem=null,e.prefabSymbolTop=null,e.linesWinShow=[],e.linesWinEnd=[],e.listLineXanh1=null,e.listLineXanh2=null,e.listLineXanh3=null,e.listLineXanh4=null,e.nodeRibbon=null,e.top_multiplier_arch=null,e.top_multiplier_arch2=null,e.lineBonus1=[],e.lineBonus2=[],e.lineBonus3=[],e.lineBonus4=[],e.listSymIdle=[],e.listSymActive=[],e.listSymXanh=[],e.arrLineBonus=[],e._countShowLineWin=0,e.reject=null,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.actionCenter(),this.createSymbol(),this.nodeRibbon.zIndex=200,this.top_multiplier_arch.zIndex=200,this.top_multiplier_arch2.zIndex=200,this.arrLineBonus=[],this._countShowLineWin=0},e.prototype.createSymbol=function(){for(var t=0;t<16;t++){var e=cc.instantiate(this.prefabSymbolTop);this.node.addChild(e);var n=e.getComponent(l.default);e.position=this.parentItem.children[t].position,n.setItems(this.atlastSymbolTop,this.atlastSymbolTop,this.atlastSymbolTopIdle),0==t||7==t?n.setItemId(5):1==t||2==t?n.setItemId(2):3==t?n.setItemId(7):4==t?n.setItemId(6):5==t||6==t?n.setItemId(0):8==t?n.setItemId(9):9==t||10==t?n.setItemId(3):11==t||15==t?n.setItemId(4):14==t||13==t?n.setItemId(1):12==t&&n.setItemId(8),t<4?this.lineBonus1.push(n):t<8?this.lineBonus2.push(n):t<12?this.lineBonus3.push(n):this.lineBonus4.push(n)}},e.prototype.convertNameSpineById=function(t,e){switch(++t){case 1:return"jar"+e;case 2:return"ankh"+e;case 3:return"cross"+e;case 4:return"eye"+e;case 5:return"crane"+e;case 6:return"snake"+e;case 7:return"cat"+e;case 8:return"anubis"+e;case 9:return"horus"+e;case 10:return"pharaoh"+e}},e.prototype.setInfoSymbol=function(t,e,n,i){for(var o=r(t),c=r(e),s=r(n),a=r(i),l=0;l<o.length;l++)1==o[l].status&&this.lineBonus1[l].setWinActive(),1==c[l].status&&this.lineBonus2[l].setWinActive(),1==s[l].status&&this.lineBonus3[l].setWinActive(),1==a[l].status&&this.lineBonus4[l].setWinActive(),this.lineBonus1[l].setItemId(o[l].id),this.lineBonus2[l].setItemId(c[l].id),this.lineBonus3[l].setItemId(s[l].id),this.lineBonus4[l].setItemId(a[l].id);this.arrLineBonus.push(this.lineBonus1),this.arrLineBonus.push(this.lineBonus2),this.arrLineBonus.push(this.lineBonus3),this.arrLineBonus.push(this.lineBonus4)},e.prototype.showLineWin=function(t){s.Windown.AiCap.audio.playEffect(s.Windown.AiCap.audio.bgm_bigwin_cue),this.arrLineBonus[t].forEach(function(t){t.setAnLine()}),this.linesWinShow[t].getComponent(cc.Animation).play()},e.prototype.hideLineWin=function(t){this.linesWinShow[t].scale=0},e.prototype.showEndLineWin=function(t){this.linesWinEnd[t].opacity=255,this.linesWinEnd[t].getComponent(cc.Animation).play(),s.Windown.AiCap.audio.playEffect(s.Windown.AiCap.audio.bingo_winline_1)},e.prototype.hideEndLineWin=function(t){this.linesWinEnd[t].stopAllActions(),this.linesWinEnd[t].runAction(cc.fadeOut(.5));for(var e=0;e<4;e++)this.arrLineBonus[t][e].setItemId(s.Windown.AiCap.listLineWin[t][e].id);s.Windown.AiCap.lineBonus1=r(s.Windown.AiCap.listLineWin[0]),s.Windown.AiCap.lineBonus2=r(s.Windown.AiCap.listLineWin[1]),s.Windown.AiCap.lineBonus3=r(s.Windown.AiCap.listLineWin[2]),s.Windown.AiCap.lineBonus4=r(s.Windown.AiCap.listLineWin[3])},e.prototype.waitShowBonus=function(t,e){var n=this;return this.actionShowLineWin(t,e),new Promise(function(t){n.reject=t})},e.prototype.actionShowLineWin=function(t,e){var n=this;if(this._countShowLineWin>=4)return this.linesWinShow[0].parent.stopAllActions(),void this.scheduleOnce(function(){n.endMultipleBonus()},1);var i=[];t[this._countShowLineWin]&&t[this._countShowLineWin]>0?(i.push(cc.callFunc(function(){n.showLineWin(n._countShowLineWin)}),cc.delayTime(1),cc.delayTime(.5),cc.callFunc(function(){n.top_multiplier_arch.opacity=255,n.top_multiplier_arch2.opacity=255,n.top_multiplier_arch.active=!0,n.top_multiplier_arch2.active=!0,n.top_multiplier_ring.active=!1,n.nodeRibbon.getComponent(a.default).runMultiple(t[n._countShowLineWin])}),cc.delayTime(5),cc.callFunc(function(){n.hideLineWin(n._countShowLineWin),n.showEndLineWin(n._countShowLineWin),n.arrLineBonus[n._countShowLineWin].forEach(function(t,e){t.setWinHide(n._countShowLineWin,3==e)}),n._countShowLineWin++}),cc.delayTime(1.2),cc.callFunc(function(){n.actionShowLineWin(t,e)})),this.linesWinShow[0].parent.runAction(cc.sequence(i))):(this._countShowLineWin++,this.actionShowLineWin(t,e))},e.prototype.endMultipleBonus=function(){var t=this;this.nodeRibbon.getComponent(a.default).hide(function(){t.top_multiplier_ring.active=!0,t.top_multiplier_arch.active=!1,t.top_multiplier_arch2.active=!1,s.Windown.AiCap.infoBar.showTongBonus(s.Windown.AiCap.listResultConvert[0].agWin)}),this.reject&&this.reject(),this.reject=null},e.prototype.actionCenter=function(){this.top_center_glow.runAction(cc.repeatForever(cc.sequence(cc.fadeIn(1),cc.fadeOut(1)))),this.top_idle_glow.runAction(cc.repeatForever(cc.sequence(cc.fadeIn(1),cc.fadeOut(1))))},e.prototype.countActiveWinSymbol=function(t){for(var e=0,n=-1,i=-1,o=0;o<t.length;o++)2!=o&&(n++,1==t[o]?e++:i=n);return{length:e,index:i}},e.prototype.checkActionShowLineXanh=function(){var t=this;this.node.stopAllActions();var e=[],n=s.Windown.AiCap.lineBonus1.map(function(t){return t.status}),i=s.Windown.AiCap.lineBonus2.map(function(t){return t.status}),o=s.Windown.AiCap.lineBonus3.map(function(t){return t.status}),c=s.Windown.AiCap.lineBonus4.map(function(t){return t.status});if(n.includes(1)){for(var r=function(n){e.push(cc.callFunc(function(){t.listLineXanh1.children[n].stopAllActions(),t.listLineXanh1.children[n].runAction(cc.sequence(cc.fadeIn(1.5),cc.fadeOut(1.5))),0==n&&3==t.countActiveWinSymbol(s.Windown.AiCap.lineBonus1).length&&t.lineBonus1[t.countActiveWinSymbol(s.Windown.AiCap.lineBonus1).index].actionLineXanhShow()}))},a=0;a<4;a++)r(a);e.push(cc.delayTime(2.5))}if(i.includes(1)){var l=function(n){e.push(cc.callFunc(function(){t.listLineXanh2.children[n].stopAllActions(),t.listLineXanh2.children[n].runAction(cc.sequence(cc.fadeIn(1.5),cc.fadeOut(1.5))),0==n&&3==t.countActiveWinSymbol(s.Windown.AiCap.lineBonus2).length&&t.lineBonus2[t.countActiveWinSymbol(s.Windown.AiCap.lineBonus2).index].actionLineXanhShow()}))};for(a=0;a<4;a++)l(a);e.push(cc.delayTime(2.5))}if(o.includes(1)){var p=function(n){e.push(cc.callFunc(function(){t.listLineXanh3.children[n].stopAllActions(),t.listLineXanh3.children[n].runAction(cc.sequence(cc.fadeIn(1.5),cc.fadeOut(1.5))),0==n&&3==t.countActiveWinSymbol(s.Windown.AiCap.lineBonus3).length&&t.lineBonus3[t.countActiveWinSymbol(s.Windown.AiCap.lineBonus3).index].actionLineXanhShow()}))};for(a=0;a<4;a++)p(a);e.push(cc.delayTime(2.5))}if(c.includes(1)){var u=function(n){e.push(cc.callFunc(function(){t.listLineXanh4.children[n].stopAllActions(),t.listLineXanh4.children[n].runAction(cc.sequence(cc.fadeIn(1.5),cc.fadeOut(1.5))),0==n&&3==t.countActiveWinSymbol(s.Windown.AiCap.lineBonus4).length&&t.lineBonus4[t.countActiveWinSymbol(s.Windown.AiCap.lineBonus4).index].actionLineXanhShow()}))};for(a=0;a<4;a++)u(a);e.push(cc.delayTime(2.5))}e.push(cc.callFunc(function(){t.checkActionShowLineXanh()})),this.node.runAction(1==e.length?e[0]:cc.sequence(e))},c([h(cc.Node)],e.prototype,"top_center_shine",void 0),c([h(cc.Node)],e.prototype,"top_multiplier_ring",void 0),c([h(cc.Node)],e.prototype,"top_center_glow",void 0),c([h(cc.Node)],e.prototype,"top_idle_glow",void 0),c([h(cc.SpriteAtlas)],e.prototype,"atlastSymbolTop",void 0),c([h(cc.SpriteAtlas)],e.prototype,"atlastSymbolTopIdle",void 0),c([h(cc.Node)],e.prototype,"parentItem",void 0),c([h(cc.Prefab)],e.prototype,"prefabSymbolTop",void 0),c([h([cc.Node])],e.prototype,"linesWinShow",void 0),c([h([cc.Node])],e.prototype,"linesWinEnd",void 0),c([h(cc.Node)],e.prototype,"listLineXanh1",void 0),c([h(cc.Node)],e.prototype,"listLineXanh2",void 0),c([h(cc.Node)],e.prototype,"listLineXanh3",void 0),c([h(cc.Node)],e.prototype,"listLineXanh4",void 0),c([h(cc.Node)],e.prototype,"nodeRibbon",void 0),c([h(cc.Node)],e.prototype,"top_multiplier_arch",void 0),c([h(cc.Node)],e.prototype,"top_multiplier_arch2",void 0),c([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../Scritps/Windown":void 0,"./AiCapRibbonWin":"AiCapRibbonWin","./AiCapSymbolTop":"AiCapSymbolTop"}],AiCapView:[function(t,e,n){"use strict";cc._RF.push(e,"bbe0drUmzRM5I83sndKbt00","AiCapView");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,c){function r(t){try{a(i.next(t))}catch(e){c(e)}}function s(t){try{a(i.throw(t))}catch(e){c(e)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}a((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,o,c,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function s(t){return function(e){return a([t,e])}}function a(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(6===c[0]&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(s){c=[6,s],i=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scritps/DefineTs/EVENT_MANAGER"),l=t("../../../Scritps/DefineTs/PlayerPP"),p=t("../../../Scritps/DefineTs/REQUEST_CODE"),u=t("../../../Scritps/DefineTs/StateReelSlot"),h=t("../../../Scritps/DefineTs/TextDefine"),d=t("../../../Scritps/Game/GAME_TYPE"),f=t("../../../Scritps/Network/ConectManager"),y=t("../../../Scritps/Obs/LbMoneyChange"),m=t("../../../Scritps/Other/MakeDelay"),S=t("../../../Scritps/Util"),v=t("../../../Scritps/Windown"),g=t("./AssetAiCap"),b=t("./AudioAiCap"),_=t("./EffectAiCap"),A=t("./InfoBarControllerAiCap"),w=t("./ItemSlotAiCap"),C=t("./LichSuAiCap"),W=t("./SpinNormalAiCap"),I=t("./AiCapTopSymbolManager"),B=cc._decorator,N=B.ccclass,T=B.property,O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.asset=null,e.bkgSprite=null,e.effect=null,e.lines=null,e.parentItem=null,e.parentEffect=null,e.labelChipReviceInBox=null,e.lb_totalBet=null,e.lb_FSLeft=null,e.lb_TotalLine=null,e.lb_CountAuto=null,e.infoBar=null,e.btnSpin=null,e.mask=null,e.nodeChooseAuto=null,e.popupLichSu=null,e.audio=null,e.listNodeDeactive=[],e.cachChoi=null,e.nodeBtnPlay=null,e.nodeBtnSeting=null,e.toggleTurbo=null,e.btnStartAuto=null,e.spinLightLeft=null,e.spinLightRight=null,e.listMultipile=null,e.TopSymbolManager=null,e.listColum=[],e.listResult=null,e.listResultConvert=[],e.listConfigBet=[],e.gameType=-1,e.sfs=null,e.roomSFS=null,e.stateReel=0,e.totalLineBet=9,e.curRoomBet=50,e.funEnd=null,e.isShowBtnPlay=!0,e.dataFinish=null,e.sfsObjTest=null,e.stateSpin=null,e.makeDelay=null,e.currentTotalLine=1,e.agWin=0,e}return o(e,t),e.prototype.sendJoinRoom=function(){var t=f.ConectManager.getIns().getSFSObj();t.putInt("gameType",d.default.AiCap),t.putInt("roomType",-1),t.putInt("mark",-1),f.ConectManager.getIns().sendRequest(p.REQUEST_CODE.GetIdJoinRoom,t)},e.prototype.onDisconnect=function(){cc.log("disconnect"),v.Windown.UIManager.hideLoading(),v.Windown.UIManager.hideLoadingData(),cc.director.loadScene("main")},e.prototype.userExitRoom=function(t){cc.log("user exit room"),"SlotAC"==t.room.groupId&&t.user.isItMe&&cc.director.loadScene("main")},e.prototype.onCreateError=function(){cc.log("creat errr"),v.Windown.UIManager.hideLoading(),cc.director.loadScene("main"),v.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM)},e.prototype.onJoinRoom=function(t){return r(this,void 0,void 0,function(){var e,n,i,o,c,r,a;return s(this,function(){if(cc.log("onJoinRoom "),"SlotAC"==(e=t.room).groupId){for(r in this.roomSFS=e,v.Windown.UIManager.hideLoadingData(),n=e.getVariable("cf"),i=n.value,cc.log(i),o=[],c=JSON.parse(i))(a=Object.create(null)).bet=parseInt(r),a.perJp=c[r].percentPot/100,o.push(a);o.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=o,this.curRoomBet=this.listConfigBet[0].bet,this.lb_totalBet.string=v.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}return[2]})})},e.prototype.switchBkgGame=function(t){var e=cc.find("Game/BkgGround/FreeSpin",this.node);if(e.active=!1,v.Windown.AiCap.lb_FSLeft.node.parent.active=!1,t){e.active=!0;var n=cc.find("Alats8-fs_vfx_c_add",e);n.stopAllActions(),n.runAction(cc.repeatForever(cc.rotateBy(1,30))),v.Windown.AiCap.lb_FSLeft.node.parent.active=!0}},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),v.Windown.UIManager.hideLoading(),v.Windown.UIManager.hideLoadingData(),v.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM),cc.director.loadScene("main")},e.prototype.activeMask=function(){},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(cc.log("extResponse",e),e){case p.REQUEST_CODE.SpinAiCap:cc.log(v.Windown.SFSObjToJson(n)),this.handleFinish(n);break;case p.REQUEST_CODE.HistoryAiCap:this.popupLichSu.responseServer(n);break;case p.REQUEST_CODE.HistoryChiTietAiCap:this.popupLichSu.responseServerChiTiet(n);break;case p.REQUEST_CODE.InfoBaseBonus:this.handleInfoBaseBonus(n);break;case p.REQUEST_CODE.REQUEST_GET_LastSpin_SLOT:this.handleGetLastSpinSlot(n)}},e.prototype.handleGetLastSpinSlot=function(t){t.get("t")==d.default.AiCap&&this.stateReel==u.default.RUN&&(!t.containsKey("d")||this.dataFinish&&v.Windown.SFSObjToJson(this.dataFinish)==v.Windown.SFSObjToJson(t.get("d"))?this.sendClickSpin():this.handleFinish(t.get("d")))},e.prototype.handleInfoBaseBonus=function(t){cc.log("co infor base ne"),this.lineBonus1=JSON.parse(t.getUtfString("lineBonus1")),this.lineBonus2=JSON.parse(t.getUtfString("lineBonus2")),this.lineBonus3=JSON.parse(t.getUtfString("lineBonus3")),this.lineBonus4=JSON.parse(t.getUtfString("lineBonus4"));var e=JSON.parse(t.getUtfString("multis"));console.log("handleInfoBaseBonus",this.lineBonus1,this.lineBonus2,this.lineBonus3,this.lineBonus4,e),this.TopSymbolManager.setInfoSymbol(this.lineBonus1,this.lineBonus2,this.lineBonus3,this.lineBonus4),this.TopSymbolManager.checkActionShowLineXanh()},e.prototype.handleFinish=function(t){var e=this;if(t.containsKey(l.PlayerPP.ERR_MESSAGE))return this.stateSpin.handleErrSpin(),v.Windown.Dialog.showLog(t.get(l.PlayerPP.ERR_MESSAGE)),this.activeAllBtn(),void this.onClickResetCountAuto();cc.log(t.get("listItemWin")),this.dataFinish=t,this.agWin=this.dataFinish.get("agWin"),v.Windown.MoneyUser.pushDelayMoney(this.gameType,this.dataFinish.get("agUser"),this.agWin),this.truTienBet(this.dataFinish.get("agBet")*this.totalLineBet,this.dataFinish.get("agUser")),this.listResult=t.get("views");var n=JSON.parse(t.getUtfString("lineBonus1")),i=JSON.parse(t.getUtfString("lineBonus2")),o=JSON.parse(t.getUtfString("lineBonus3")),c=JSON.parse(t.getUtfString("lineBonus4"));this.lineBonusNew1=JSON.parse(t.getUtfString("lineBonusNew1")),this.lineBonusNew2=JSON.parse(t.getUtfString("lineBonusNew2")),this.lineBonusNew3=JSON.parse(t.getUtfString("lineBonusNew3")),this.lineBonusNew4=JSON.parse(t.getUtfString("lineBonusNew4")),this.listLineWin=[this.lineBonusNew1,this.lineBonusNew2,this.lineBonusNew3,this.lineBonusNew4],this.listMulti=JSON.parse(t.getUtfString("multis")),this.listResultConvert=this.convertResult(this.listResult,JSON.parse(v.Windown.SFSArrToJson(t.get("listItemWin")))),this.listResultConvert[0].lineBonus1=n,this.listResultConvert[0].lineBonus2=i,this.listResultConvert[0].lineBonus3=o,this.listResultConvert[0].lineBonus4=c,this.stateSpin.isMaxSpeed,this.stateReel=u.default.CAN_STOP;var r=this.stateSpin.isMaxSpeed?0:.2;this.scheduleOnce(this.funEnd=function(){e.stateSpin.onEnd()},r)},e.prototype.onDestroy=function(){v.Windown.AiCap=null,this.dataFinish&&(v.Windown.MoneyUser.removeDelay(this.gameType),this.dataFinish=null),v.Windown.MoneyUser.endGameMOney(this.gameType),cc.systemEvent.removeAll(this),this.roomSFS=null,this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),v.Windown.UIManager.changeRotation()},e.prototype.start=function(){var t=this;v.Windown.AiCap=this,this.makeDelay=new m.default(this),cc.log("start slot ai cap"),this.gameType=d.default.AiCap,this.sfs=f.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(a.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),cc.systemEvent.on(a.EVENT_MANAGER.LOGIN,this.onLogin,this),this.stateReel=u.default.WAITING,this.stateSpin=new W.default,this.sendJoinRoom(),this.activeMask(!1),this.setupView(),this.initItem(),cc.sys.isNative||this.scheduleOnce(function(){return r(t,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,v.Windown.loadBundle(d.default.AiCap.toString())];case 1:return t.sent().loadDir("Spine",function(){}),[2]}})})},3),this.btnSpin.on("mouseleave",function(){t.btnSpin.getChildByName("hover_glow_a").active=!1}),this.btnSpin.on("mouseenter",function(){t.btnSpin.getChildByName("hover_glow_a").active=!0})},e.prototype.onLogin=function(){this.sendJoinRoom()},e.prototype.initItem=function(){for(var t=cc.instantiate(this.parentItem.children[0]),e=t.width,n=0;n<3;n++){var i=this.parentItem.children[n];null==i&&((i=cc.instantiate(t)).parent=this.parentItem);var o=i.getComponent(w.default);this.listColum.push(o),o.index=n,o.setResultFirtGame(),o.node.x=e*n+e/2-3*e/2,o.node.y=0}},e.prototype.setupView=function(){var t=cc.find("Game",this.node);if(cc.sys.isMobile)t.angle=90,this.bkgSprite.angle=90,this.bkgSprite.scale=1280/720;else{var e=cc.winSize.height/1280;t.angle=0,t.scale=e,this.bkgSprite.angle=0;var n=this.bkgSprite.addComponent(cc.Widget);n.left=0,n.right=0,n.bottom=0,n.top=0}v.Windown.UIManager.changeRotation(!0)},e.prototype.getLastPoint=function(){for(var t=0,e=0;e<this.listMultipile.children.length;e++){var n=this.listMultipile.children[e];n.x>t&&(t=n.x)}return t},e.prototype.sendClickSpin=function(){if(null!=this.sfsObjTest)return f.ConectManager.getIns().sendRequest("testSpin",this.sfsObjTest,this.roomSFS),this.sfsObjTest=null,void cc.log("send test ne");var t=f.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),f.ConectManager.getIns().sendRequest(p.REQUEST_CODE.SpinAiCap,t,this.roomSFS)},e.prototype.onClickBtnSpin=function(){return r(this,void 0,void 0,function(){var t,e,n,i;return s(this,function(o){switch(o.label){case 0:return this.stateReel!=u.default.WAITING?[3,6]:(this.audio.playEffect(this.audio.spin_btn),this.stateReel=u.default.RUN,this.setStateEffBtnSpin(),this.offAllBtn(),this.spinLightLeft.opacity=0,this.spinLightRight.opacity=0,this.spinLightLeft.runAction(cc.sequence(cc.fadeIn(1),cc.fadeOut(1))),this.spinLightRight.runAction(cc.sequence(cc.fadeIn(1),cc.fadeOut(1))),t=cc.find("spin_glow_a",this.btnSpin),e=cc.find("spin_sand_a",this.btnSpin),n=cc.find("spin_sand_b",this.btnSpin),e.active=!0,n.active=!0,t.active=!0,n.getComponent(cc.Animation).play(),this.scheduleOnce(function(){e.getComponent(cc.Animation).play(),t.getComponent(cc.Animation).play()},.1),this.lines.stopAllActions(),this.audio.node.stopAllActions(),this.stateSpin.hideAllLines(),this.infoBar.reset(),this.stateSpin.listColum.forEach(function(t){t.resetState()}),[4,this.getMakeDelay(.05).prosime]);case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.stateSpin.onStart()];case 3:return o.sent(),[3,5];case 4:return i=o.sent(),S.Util.ThrowErrProsime(i),[3,5];case 5:return this.sendClickSpin(),[3,7];case 6:this.stateReel==u.default.CAN_STOP?this.stateSpin.isMaxSpeed||(this.unschedule(this.funEnd),this.stateSpin.onForceEnd(),this.stateReel=u.default.RUN):(this.stateReel,u.default.STOP),o.label=7;case 7:return[2]}})})},e.prototype.showContentTip=function(){},e.prototype.updateNewTotalLine=function(){},e.prototype.resetForNewGame=function(){this.stateReel=u.default.WAITING,this.setStateEffBtnSpin()},e.prototype.resetLbTotalLine=function(){},e.prototype.setStateEffBtnSpin=function(){var t=cc.find("sb_button_frame/sb_arrow",this.btnSpin);if(this.stateReel!=u.default.STOP){var e=cc.Material.getBuiltinMaterial("2d-sprite");t.getComponent(cc.Sprite).setMaterial(0,e)}if(this.stateReel==u.default.WAITING||this.stateReel==u.default.SHOW_EFFECT)t.stopAllActions(),t.runAction(cc.repeatForever(cc.rotateBy(3,-360)));else if(this.stateReel==u.default.RUN)cc.log("play anim"),t.stopAllActions(),t.runAction(cc.repeatForever(cc.rotateBy(.3,-360))),this.infoBar.showRdContent();else if(this.stateReel==u.default.STOP){t.stopAllActions();var n=cc.Material.getBuiltinMaterial("2d-gray-sprite");t.getComponent(cc.Sprite).setMaterial(0,n)}},e.prototype.setLbFreeSpinLeft=function(t){var e=this.lb_FSLeft.node.parent;this.lb_FSLeft.string=t,t<1?(cc.find("last_spin",e).active=!0,cc.find("remaining_spin",e).active=!1,this.lb_FSLeft.node.active=!1):(cc.find("last_spin",e).active=!1,cc.find("remaining_spin",e).active=!0,this.lb_FSLeft.node.active=!0)},e.prototype.setCountAuto=function(t){this.lb_CountAuto.node.parent.active=!(t<1),this.lb_CountAuto.string=t.toString()},e.prototype.showMoneyAllWin=function(t){cc.log("money win: "+t),this.labelChipReviceInBox.setMoney(t),v.Windown.MoneyUser.removeDelay(this.gameType)},e.prototype.offLbFree=function(){this.lb_FSLeft.node.parent.active=!1},e.prototype.onClickSendObjTest=function(){var t=f.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),t.putUtfString("arr",'[[{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":12}],\n            [{"size":3,"typeItem":1,"idItem":0},{"size":2,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":12}],\n            [{"size":1,"typeItem":0,"idItem":0},{"size":2,"typeItem":1,"idItem":4},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":12}],\n            [{"size":1,"typeItem":0,"idItem":4},{"size":3,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":12}],\n            [{"size":4,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":12}],\n            [{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":2}]]'),this.sfsObjTest=t,this.onClickBtnSpin(),cc.log("onClickSendObjTest")},e.prototype.onClickTest=function(){return r(this,void 0,void 0,function(){var t;return s(this,function(){return(t=f.ConectManager.getIns().getSFSObj()).putInt("bet",this.curRoomBet),t.putUtfString("arr",'{"agWin":900,"lineBonus2":[0,1,0,1,0],"lineBonus1":[0,0,0,0,0],"listItemWin":[{"symbol":0,"agWin":300,"id":0},{"symbol":0,"agWin":300,"id":5},{"symbol":0,"agWin":300,"id":6}],"agUser":973800,"lineBonus4":[0,1,0,1,0],"lineBonus3":[0,0,0,0,0],"agBet":100,"views":[[{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":5}],[{"size":1,"typeItem":0,"idItem":10},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":0}],[{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":1}]]}'),this.sfsObjTest=t,this.onClickBtnSpin(),[2]})})},e.prototype.clearAllMakeDelay=function(){this.makeDelay.clear()},e.prototype.onClickResetCountAuto=function(){this.stateSpin.countAutoSpin=0,this.lb_CountAuto.node.parent.active=!1,v.Windown.AiCap.audio.playClick()},e.prototype.onClickItemAutoSpin=function(t){v.Windown.AiCap.audio.playClick(),this.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer).allowSwitchOff=!1;var e=t.node.name,n=Number(e);this.stateSpin.countAutoSpin=n,this.btnStartAuto.interactable=!0,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#FF8E26")},e.prototype.onClickStartAutoSpin=function(){this.onClickBtnSpin(),this.onClickCloseListAuto(),v.Windown.AiCap.stateSpin.countAutoSpin>0&&v.Windown.AiCap.setCountAuto(v.Windown.AiCap.stateSpin.countAutoSpin)},e.prototype.onClickShowListAuto=function(){v.Windown.AiCap.audio.playClick(),this.nodeChooseAuto.active=!0,this.nodeChooseAuto.opacity=0,this.nodeChooseAuto.runAction(cc.fadeIn(.3)),this.btnStartAuto.interactable=!1,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")},e.prototype.onClickCloseListAuto=function(){var t=this;v.Windown.AiCap.audio.playClick(),this.nodeChooseAuto.stopAllActions(),this.nodeChooseAuto.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){var e=t.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer);e.allowSwitchOff=!0,e.toggleItems.forEach(function(t){t.isChecked&&t.uncheck()}),t.nodeChooseAuto.active=!1,t.btnStartAuto.interactable=!1,t.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")})))},e.prototype.convertResult=function(t,e){var n=[],i=Object.create(null);return i.listSFSObj=[],i.listItemWin=[],i.agWin=this.agWin,v.Windown.foreachSFSArray(t,function(n,o){var c=[];if(v.Windown.foreachSFSArray(n,function(t){c.push(t)}),i.listSFSObj.push(c),o==t.size()-1)for(var r=0;r<e.length;r++){var s=e[r];s&&(s.lsIdItem=JSON.parse(s.id),s.lsstack=3,s.lsAgWin=JSON.parse(s.agWin),s.lsSymbol=JSON.parse(s.symbol),s.agWin=JSON.parse(s.agWin),i.listItemWin.push(s))}}),n.push(i),n},e.prototype.onClickChangeBet=function(t,e){if(v.Windown.AiCap.audio.playClick(),this.listConfigBet.length<1)v.Windown.Dialog.showLog(h.TextDefine.Error);else{var n=-1;for(var i in this.listConfigBet)if(this.listConfigBet[i].bet==this.curRoomBet){n=parseInt(i);break}0==e?n--:n++,n<0&&(n=this.listConfigBet.length-1),n>this.listConfigBet.length-1&&(n=0),this.curRoomBet=this.listConfigBet[n].bet,this.lb_totalBet.string=v.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.onClickCachChoi=function(){v.Windown.AiCap.audio.playClick(),this.cachChoi.active=!0,this.cachChoi.opacity=0,this.cachChoi.stopAllActions(),this.cachChoi.runAction(cc.fadeIn(.3))},e.prototype.onCloseCachChoi=function(){var t=this;v.Windown.AiCap.audio.playClick(),this.cachChoi.stopAllActions(),this.cachChoi.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.cachChoi.active=!1})))},e.prototype.onClickBackToLobby=function(){v.Windown.AiCap.audio.playClick(),this.roomSFS?f.ConectManager.getIns().sendLeaveRoom(this.roomSFS):cc.director.loadScene("main")},e.prototype.onClickTurbo=function(){v.Windown.AiCap.audio.playClick();var t=this.toggleTurbo.isChecked;this.toggleTurbo.node.children[1].active=!t,this.stateSpin.isMaxSpeed=t,t?v.Windown.UIManager.showAlertMini("B\u1eadt T\u0103ng T\u1ed1c"):v.Windown.UIManager.showAlertMini("T\u1eaft T\u0103ng T\u1ed1c")},e.prototype.onClickSeting=function(){if(v.Windown.AiCap.audio.playClick(),cc.log("click onClickSeting"),this.isShowBtnPlay=!this.isShowBtnPlay,this.isShowBtnPlay)t=cc.v2(0,-750),this.nodeBtnPlay.runAction(cc.fadeIn(.4)),this.nodeBtnSeting.runAction(cc.spawn(cc.fadeOut(.3),cc.moveTo(.3,t)));else{this.nodeBtnPlay.stopAllActions(),this.nodeBtnSeting.stopAllActions();var t=cc.v2(0,-525.279);this.nodeBtnPlay.runAction(cc.fadeOut(.3)),this.nodeBtnSeting.opacity=0,this.nodeBtnSeting.runAction(cc.spawn(cc.fadeIn(.4),cc.moveTo(.4,t)))}},e.prototype.getMakeDelay=function(t){return this.makeDelay.getDelay(t)},e.prototype.activeAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!0,t.node.children.forEach(function(t){t.color=cc.Color.fromHEX(new cc.Color,"#F86919")})})},e.prototype.offAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!1,t.node.children.forEach(function(t){t.color=cc.Color.fromHEX(new cc.Color,"#999999")})})},e.prototype.truTienBet=function(t,e){0!=t&&v.Windown.MoneyUser.subMoney(t,e)},e.prototype.effectShake=function(t,e){void 0===t&&(t=.2),void 0===e&&(e=10)},e.prototype.onClickLichSu=function(){v.Windown.AiCap.audio.playClick(),this.popupLichSu.show()},e.prototype.update=function(){},e.prototype.activeLightHover=function(){},c([T(g.default)],e.prototype,"asset",void 0),c([T(cc.Node)],e.prototype,"bkgSprite",void 0),c([T(_.default)],e.prototype,"effect",void 0),c([T(cc.Node)],e.prototype,"lines",void 0),c([T(cc.Node)],e.prototype,"parentItem",void 0),c([T(cc.Node)],e.prototype,"parentEffect",void 0),c([T(y.default)],e.prototype,"labelChipReviceInBox",void 0),c([T(cc.Label)],e.prototype,"lb_totalBet",void 0),c([T(cc.Label)],e.prototype,"lb_FSLeft",void 0),c([T(cc.Label)],e.prototype,"lb_TotalLine",void 0),c([T(cc.Label)],e.prototype,"lb_CountAuto",void 0),c([T(A.default)],e.prototype,"infoBar",void 0),c([T(cc.Node)],e.prototype,"btnSpin",void 0),c([T(cc.Node)],e.prototype,"mask",void 0),c([T(cc.Node)],e.prototype,"nodeChooseAuto",void 0),c([T(C.default)],e.prototype,"popupLichSu",void 0),c([T(b.default)],e.prototype,"audio",void 0),c([T([cc.Button])],e.prototype,"listNodeDeactive",void 0),c([T(cc.Node)],e.prototype,"cachChoi",void 0),c([T(cc.Node)],e.prototype,"nodeBtnPlay",void 0),c([T(cc.Node)],e.prototype,"nodeBtnSeting",void 0),c([T(cc.Toggle)],e.prototype,"toggleTurbo",void 0),c([T(cc.Button)],e.prototype,"btnStartAuto",void 0),c([T(cc.Node)],e.prototype,"spinLightLeft",void 0),c([T(cc.Node)],e.prototype,"spinLightRight",void 0),c([T(cc.Node)],e.prototype,"listMultipile",void 0),c([T(I.default)],e.prototype,"TopSymbolManager",void 0),c([N],e)}(cc.Component);n.default=O,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":void 0,"../../../Scritps/DefineTs/PlayerPP":void 0,"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/DefineTs/StateReelSlot":void 0,"../../../Scritps/DefineTs/TextDefine":void 0,"../../../Scritps/Game/GAME_TYPE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Obs/LbMoneyChange":void 0,"../../../Scritps/Other/MakeDelay":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./AiCapTopSymbolManager":"AiCapTopSymbolManager","./AssetAiCap":"AssetAiCap","./AudioAiCap":"AudioAiCap","./EffectAiCap":"EffectAiCap","./InfoBarControllerAiCap":"InfoBarControllerAiCap","./ItemSlotAiCap":"ItemSlotAiCap","./LichSuAiCap":"LichSuAiCap","./SpinNormalAiCap":"SpinNormalAiCap"}],AssetAiCap:[function(t,e,n){"use strict";cc._RF.push(e,"37741oR74lFsquH+azb2UtD","AssetAiCap");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./ItemSlotAiCap"),s=t("./SymbolAiCap"),a=cc._decorator,l=a.ccclass,p=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atlasSymbol=null,e.itemSymbolAiCap=null,e.itemEffNearWin=null,e.effectWinSymbol=[],e.effectBkgShuffSymbol=null,e.itemNearWinNoSap=null,e.itemXu=null,e.itemSymbolMutil=null,e.itemAddScater=null,e.itemShuffToWild=null,e.itemShuffToNormal=null,e.poolSymbol=new cc.NodePool(s.default),e.poolAddScater=new cc.NodePool(s.default),e.poolEffNearWin=new cc.NodePool,e.poolBkgShuffSymbol=new cc.NodePool,e.poolWinSymbol1=new cc.NodePool,e.poolWinSymbol2=new cc.NodePool,e.poolWinSymbol3=new cc.NodePool,e.poolWinSymbol4=new cc.NodePool,e.poolNearWinNoSap=new cc.NodePool,e.poolXu=new cc.NodePool,e.poolSymbolMutil=new cc.NodePool(r.default),e.poolShuffToWild=new cc.NodePool,e.poolShuffToNormal=new cc.NodePool,e}return o(e,t),e.prototype.getSymbol=function(){var t=null;return(t=this.poolSymbol.size()>0?this.poolSymbol.get():cc.instantiate(this.itemSymbolAiCap)).active=!0,t},e.prototype.putSymbol=function(t){this.poolSymbol.put(t)},e.prototype.getNearWin=function(){var t=null;return(t=this.poolEffNearWin.size()>0?this.poolEffNearWin.get():cc.instantiate(this.itemEffNearWin)).active=!0,t},e.prototype.putNearWin=function(t){this.poolEffNearWin.put(t)},e.prototype.getBkgShuffSymbol=function(){var t=null;return(t=this.poolBkgShuffSymbol.size()>0?this.poolBkgShuffSymbol.get():cc.instantiate(this.effectBkgShuffSymbol)).active=!0,t},e.prototype.putBkgShuffSymbol=function(t){this.poolBkgShuffSymbol.put(t)},e.prototype.getWinSymbol=function(t){var e=null;return(e=this["poolWinSymbol"+t].size()>0?this["poolWinSymbol"+t].get():cc.instantiate(this.effectWinSymbol[t-1])).active=!0,e},e.prototype.putWinSymbol=function(t,e){this["poolWinSymbol"+e].put(t)},e.prototype.getNearWinNoSap=function(){var t=null;return(t=this.poolNearWinNoSap.size()>0?this.poolNearWinNoSap.get():cc.instantiate(this.itemNearWinNoSap)).active=!0,t},e.prototype.putNearWinNoSap=function(t){this.poolNearWinNoSap.put(t)},e.prototype.getXu=function(){var t=null;return(t=this.poolXu.size()>0?this.poolXu.get():cc.instantiate(this.itemXu)).active=!0,t},e.prototype.putXu=function(t){this.poolXu.put(t)},e.prototype.getSymbolMutil=function(){var t=null;return(t=this.poolSymbolMutil.size()>0?this.poolSymbolMutil.get():cc.instantiate(this.itemSymbolMutil)).getComponent(cc.ParticleSystem).stopSystem(),t.active=!0,t},e.prototype.putSymbolMutil=function(t){this.poolSymbolMutil.put(t)},e.prototype.getAddScater=function(){var t=null;return(t=this.poolAddScater.size()>0?this.poolAddScater.get():cc.instantiate(this.itemAddScater)).active=!0,t},e.prototype.putAddScater=function(t){this.poolAddScater.put(t)},e.prototype.getShuffToWild=function(){var t=null;return(t=this.poolShuffToWild.size()>0?this.poolShuffToWild.get():cc.instantiate(this.itemShuffToWild)).active=!0,t},e.prototype.putShuffToWild=function(t){this.poolShuffToWild.put(t)},e.prototype.getShuffToNormal=function(){var t=null;return(t=this.poolShuffToNormal.size()>0?this.poolShuffToNormal.get():cc.instantiate(this.itemShuffToNormal)).active=!0,t},e.prototype.putShuffToNormal=function(t){this.poolShuffToNormal.put(t)},e.prototype.onDestroy=function(){this.poolSymbol.clear(),this.poolEffNearWin.clear(),this.poolBkgShuffSymbol.clear(),this.poolNearWinNoSap.clear(),this.poolXu.clear(),this.poolSymbolMutil.clear(),this.poolWinSymbol1.clear(),this.poolWinSymbol2.clear(),this.poolWinSymbol3.clear(),this.poolWinSymbol4.clear(),this.poolAddScater.clear(),this.poolShuffToWild.clear(),this.poolShuffToNormal.clear()},c([p(cc.SpriteAtlas)],e.prototype,"atlasSymbol",void 0),c([p(cc.Node)],e.prototype,"itemSymbolAiCap",void 0),c([p(cc.Node)],e.prototype,"itemEffNearWin",void 0),c([p([cc.Node])],e.prototype,"effectWinSymbol",void 0),c([p(cc.Node)],e.prototype,"effectBkgShuffSymbol",void 0),c([p(cc.Node)],e.prototype,"itemNearWinNoSap",void 0),c([p(cc.Node)],e.prototype,"itemXu",void 0),c([p(cc.Node)],e.prototype,"itemSymbolMutil",void 0),c([p(cc.Node)],e.prototype,"itemAddScater",void 0),c([p(cc.Node)],e.prototype,"itemShuffToWild",void 0),c([p(cc.Node)],e.prototype,"itemShuffToNormal",void 0),c([l],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./ItemSlotAiCap":"ItemSlotAiCap","./SymbolAiCap":"SymbolAiCap"}],AudioAiCap:[function(t,e,n){"use strict";cc._RF.push(e,"9dac09bRfBKv4iFrdCi8/aw","AudioAiCap");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Scritps/Parent/AudioManager"),s=cc._decorator,a=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click=null,e.bgm_bigwin_cue=null,e.bgm_bigwin_end=null,e.bgm_bigwin_out=null,e.bgm_bigwin=null,e.bgm_feature_begin=null,e.bgm_feature_end=null,e.bgm_feature_loop=null,e.bingo_block=null,e.bingo_infoboard_add_1=null,e.bingo_infoboard_add_2=null,e.bingo_infoboard_add_3=null,e.bingo_infoboard_add_4=null,e.bingo_multiplier_number=null,e.bingo_wheel_in=null,e.bingo_wheel_out=null,e.bingo_wheel_spin_single=null,e.bingo_wheel_startspin=null,e.bingo_winline_1=null,e.bingo_winline_2=null,e.bingo_winline_3=null,e.bingo_winline_4=null,e.list_item_click=null,e.menu_icon_press=null,e.prize_mediumwin_counting=null,e.prize_payout_line1by1=null,e.prize_payout=null,e.prize_smallwin=null,e.slider_effect=null,e.spin_btn=null,e.spin_reelquickstop=null,e.spin_reelspin_loop=null,e.spin_reelstop_single=null,e.wallet_counting_above=null,e}return o(e,t),e.prototype.playClick=function(){this.playEffect(this.click)},e.prototype.playMusic=function(){this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.6))},e.prototype.playIndexTakeLine=function(){},e.prototype.playSmalWin=function(){},c([l(cc.AudioClip)],e.prototype,"click",void 0),c([l(cc.AudioClip)],e.prototype,"bgm_bigwin_cue",void 0),c([l(cc.AudioClip)],e.prototype,"bgm_bigwin_end",void 0),c([l(cc.AudioClip)],e.prototype,"bgm_bigwin_out",void 0),c([l(cc.AudioClip)],e.prototype,"bgm_bigwin",void 0),c([l(cc.AudioClip)],e.prototype,"bgm_feature_begin",void 0),c([l(cc.AudioClip)],e.prototype,"bgm_feature_end",void 0),c([l(cc.AudioClip)],e.prototype,"bgm_feature_loop",void 0),c([l(cc.AudioClip)],e.prototype,"bingo_block",void 0),c([l(cc.AudioClip)],e.prototype,"bingo_infoboard_add_1",void 0),c([l(cc.AudioClip)],e.prototype,"bingo_infoboard_add_2",void 0),c([l(cc.AudioClip)],e.prototype,"bingo_infoboard_add_3",void 0),c([l(cc.AudioClip)],e.prototype,"bingo_infoboard_add_4",void 0),c([l(cc.AudioClip)],e.prototype,"bingo_multiplier_number",void 0),c([l(cc.AudioClip)],e.prototype,"bingo_wheel_in",void 0),c([l(cc.AudioClip)],e.prototype,"bingo_wheel_out",void 0),c([l(cc.AudioClip)],e.prototype,"bingo_wheel_spin_single",void 0),c([l(cc.AudioClip)],e.prototype,"bingo_wheel_startspin",void 0),c([l(cc.AudioClip)],e.prototype,"bingo_winline_1",void 0),c([l(cc.AudioClip)],e.prototype,"bingo_winline_2",void 0),c([l(cc.AudioClip)],e.prototype,"bingo_winline_3",void 0),c([l(cc.AudioClip)],e.prototype,"bingo_winline_4",void 0),c([l(cc.AudioClip)],e.prototype,"list_item_click",void 0),c([l(cc.AudioClip)],e.prototype,"menu_icon_press",void 0),c([l(cc.AudioClip)],e.prototype,"prize_mediumwin_counting",void 0),c([l(cc.AudioClip)],e.prototype,"prize_payout_line1by1",void 0),c([l(cc.AudioClip)],e.prototype,"prize_payout",void 0),c([l(cc.AudioClip)],e.prototype,"prize_smallwin",void 0),c([l(cc.AudioClip)],e.prototype,"slider_effect",void 0),c([l(cc.AudioClip)],e.prototype,"spin_btn",void 0),c([l(cc.AudioClip)],e.prototype,"spin_reelquickstop",void 0),c([l(cc.AudioClip)],e.prototype,"spin_reelspin_loop",void 0),c([l(cc.AudioClip)],e.prototype,"spin_reelstop_single",void 0),c([l(cc.AudioClip)],e.prototype,"wallet_counting_above",void 0),c([a],e)}(r.default);n.default=p,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":void 0}],DetailHistoryAiCap:[function(t,e,n){"use strict";cc._RF.push(e,"e23a1vDiJVHyKHq+AyGdm2N","DetailHistoryAiCap");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Scritps/Windown"),s=t("./SymbolAiCap"),a=cc._decorator,l=a.ccclass,p=a.property,u=[[1,1,1],[0,0,0],[2,2,2],[0,1,2],[2,1,0],[1,0,1],[1,2,1],[0,1,0],[2,1,2]],h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.itemTemplate=null,e.lbTitle=null,e.lbTime=null,e.lbBet=null,e.lbWin=null,e.lbMNUser=null,e.lbCuocCoSo=null,e.listColum=[],e.lineTemp=null,e.listLineWin=null,e.listLinesSprite=[],e.parentBauVat=null,e.atlasBauVatOf=null,e.atlasBauVatOn=null,e.lbTotalMutil=null,e.currentMutil=0,e.isFreeSpin=!1,e}return o(e,t),e.prototype.show=function(t){this.listLineWin.children.forEach(function(t){t.destroy()}),this.node.active=!0,this.node.x=721.812,this.node.stopAllActions(),this.node.opacity=0,this.node.runAction(cc.spawn(cc.moveTo(.3,0,0),cc.fadeIn(.3).easing(cc.easeElasticIn(3))));var e=t.get("date"),n=t.get("infolog");console.log(n);var i=JSON.parse(n);this.isFreeSpin=i.numFreeSpin>0,this.checkAndShowBauVat(i),0==i.agBet?this.lbTitle.string="Free Spin":this.lbTitle.string="Spin normal",this.lbTime.string=r.Windown.formatDate(new Date(e),"dd/MM HH:mm:ss"),this.lbBet.string=r.Windown.formatNumber(20*i.agBet),this.lbWin.string=r.Windown.formatNumber(i.agWin),this.lbMNUser.string=r.Windown.formatNumber(i.agUser),this.lbCuocCoSo.string=r.Windown.formatNumber(i.agBet);for(var o=0;o<3;o++)for(var c=0;c<3;c++)this.listColum[o].children[c].getComponent(s.default).resetState();for(o=0;o<i.views.length;o++){var a=i.views[o];for(c=0;c<a.length;c++)this.listColum[o].children[c].getComponent(s.default).setResultHistory(a[c].idItem)}for(o=0;o<this.listColum.length;o++)this.listColum[o].children.forEach(function(t){t.getComponent(s.default).offItem()});for(c=0;c<i.listItemWin.length;c++){var l=i.listItemWin[c];if(l){this.checkAndShowLineAn(l,l.agWin,!1);var p=cc.instantiate(this.lineTemp);p.getChildByName("lineSprite").getComponent(cc.Sprite).spriteFrame=this.listLinesSprite[l.id],p.getChildByName("lineSprite").children[0].getComponent(cc.Label).string="0"+l.id,p.getChildByName("agWin").getComponent(cc.Label).string="\u0111"+r.Windown.formatNumber(l.agWin,!1)+(this.currentMutil>0?"x"+this.currentMutil:""),p.active=!0,this.listLineWin.addChild(p)}}},e.prototype.checkAndShowBauVat=function(t){var e=this;this.offAllBauVat();for(var n=this.parentBauVat.children,i=function(i){var o=JSON.parse(t["lineBonus"+i]),c=n[i-1];o.forEach(function(t,n){var i=t.status,o=t.id;e.setTypeBauVat(c.children[n],o,1==i)})},o=1;o<5;o++)i(o);var c=0;JSON.parse(t.multis).forEach(function(t){c+=t}),this.currentMutil=c,this.lbTotalMutil.string="x"+c,this.lbTotalMutil.node.active=c>0},e.prototype.offAllBauVat=function(){this.parentBauVat.children.forEach(function(t){t.children.forEach(function(t){return t.getComponent(cc.Sprite).enabled=!1})})},e.prototype.setTypeBauVat=function(t,e,n){var i=this.getNameAtlasSpriteFrame(e,n);cc.log(i);var o=t.getComponentInChildren(cc.Sprite);n?(o.dstBlendFactor=cc.macro.BlendFactor.ONE,t.getComponent(cc.Sprite).enabled=!0):o.dstBlendFactor=cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA,o.spriteFrame=i},e.prototype.getNameAtlasSpriteFrame=function(t,e){var n="",i=null;switch(t){case 0:n="top_jar_";break;case 1:n="top_ankh_";break;case 2:n="top_cross_";break;case 3:n="top_eye_";break;case 4:n="top_crane_";break;case 5:n="top_snake_";break;case 6:n="top_cat_";break;case 7:n="top_anubis_";break;case 8:n="top_horus_";break;case 9:n="top_pharaoh_"}return e?(n+="b",i=this.atlasBauVatOn):(n+="a",i=this.atlasBauVatOf),i.getSpriteFrame(n)},e.prototype.checkAndShowLineAn=function(t,e,n){for(var i=t.id,o=0;o<3;o++)this.listColum[o].children[u[i][o]].getComponent(s.default).takeItem(o,e,n)},e.prototype.onClickClose=function(){var t=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.3,721.812,0),cc.fadeOut(.3).easing(cc.easeElasticOut(3))),cc.callFunc(function(){t.node.active=!1})))},c([p(cc.Node)],e.prototype,"parentItem",void 0),c([p(cc.Node)],e.prototype,"itemTemplate",void 0),c([p(cc.Label)],e.prototype,"lbTitle",void 0),c([p(cc.Label)],e.prototype,"lbTime",void 0),c([p(cc.Label)],e.prototype,"lbBet",void 0),c([p(cc.Label)],e.prototype,"lbWin",void 0),c([p(cc.Label)],e.prototype,"lbMNUser",void 0),c([p(cc.Label)],e.prototype,"lbCuocCoSo",void 0),c([p([cc.Node])],e.prototype,"listColum",void 0),c([p(cc.Node)],e.prototype,"lineTemp",void 0),c([p(cc.Node)],e.prototype,"listLineWin",void 0),c([p([cc.SpriteFrame])],e.prototype,"listLinesSprite",void 0),c([p(cc.Node)],e.prototype,"parentBauVat",void 0),c([p(cc.SpriteAtlas)],e.prototype,"atlasBauVatOf",void 0),c([p(cc.SpriteAtlas)],e.prototype,"atlasBauVatOn",void 0),c([p(cc.Label)],e.prototype,"lbTotalMutil",void 0),c([l],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/Windown":void 0,"./SymbolAiCap":"SymbolAiCap"}],EffectAiCap:[function(t,e,n){"use strict";cc._RF.push(e,"b1cafLn+bVMuYJTGEZ4gXq+","EffectAiCap");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,c){function r(t){try{a(i.next(t))}catch(e){c(e)}}function s(t){try{a(i.throw(t))}catch(e){c(e)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}a((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,o,c,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function s(t){return function(e){return a([t,e])}}function a(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(6===c[0]&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(s){c=[6,s],i=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../Scritps/Game/GAME_TYPE"),p=t("../../../Scritps/Network/ConectManager"),u=t("../../../Scritps/Other/LbMonoSpace"),h=t("../../../Scritps/Windown"),d=cc._decorator,f=d.ccclass,y=d.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeMask=null,e.lb_Money=null,e.nodeBigWin=null,e.nodeThangCucLon=null,e.nodeThangSieuLon=null,e.scarab=null,e.scarabCucLon=null,e.scarabSieuLon=null,e.listNodeBoxMoney=[],e.btnFast=null,e.listPromiseIgro=[],e.isClickBtnFast=!1,e.funNext=null,e.funDelayOff=null,e.mapColor=new Map,e._moneyRevice=0,e.isClosing=!1,e}return o(e,t),e.prototype.onLoad=function(){this.funNext=null},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){this.unschedule(this.funDelayOff)},e.prototype.initPosMask=function(t){cc.find("mask",this.node).y=t},e.prototype.showBigWin=function(t){var e=this,n=h.Windown.AiCap.curRoomBet*h.Windown.AiCap.totalLineBet,i=t/n;return cc.log(i),new Promise(function(n){return r(e,void 0,void 0,function(){var e,o,c,r,a,l,p=this;return s(this,function(s){switch(s.label){case 0:return i<15?(n(null),[2]):(this.isClickBtnFast=!1,this.btnFast.node.active=!0,h.Windown.AiCap.audio.playEffect(h.Windown.AiCap.audio.bgm_bigwin,.6),t=t,this.node.opacity=255,this.isClosing=!1,e=0,this.lb_Money.node.active=!0,this.nodeThangCucLon.active=!1,this.nodeThangSieuLon.active=!1,this.btnFast.interactable=!1,this.scheduleOnce(function(){p.btnFast.interactable=!0},.3),this.lb_Money.resetLb(),o=4,i<25?o=4:i<40?(e=1,o=8):(e=2,o=12),this.lb_Money.time=o,this.lb_Money.setMoney(t),this.effectBigWin(),c=h.Windown.AiCap.getMakeDelay(4),this.listPromiseIgro.push(c),[4,c.prosime]);case 1:return s.sent(),i>25?(this.showMegaWin(),this.isClickBtnFast?[3,3]:(r=h.Windown.AiCap.getMakeDelay(4),this.listPromiseIgro.push(r),[4,r.prosime])):[3,3];case 2:s.sent(),s.label=3;case 3:return i>40?(this.showSuperWin(),this.isClickBtnFast?[3,5]:(a=h.Windown.AiCap.getMakeDelay(4),this.listPromiseIgro.push(a),[4,a.prosime])):[3,5];case 4:s.sent(),s.label=5;case 5:return h.Windown.AiCap.audio.stopEffect(h.Windown.AiCap.audio.bgm_bigwin),h.Windown.AiCap.audio.playEffect(h.Windown.AiCap.audio.bgm_bigwin_end),this.lb_Money.setMoneyNoTime(t),this.showEndBigWin(e),l=h.Windown.AiCap.getMakeDelay(4),this.listPromiseIgro.push(l),this.btnFast.interactable=!0,[4,l.prosime];case 6:return s.sent(),this.onClose(),n(null),[2]}})})})},e.prototype.effectBigWin=function(){h.Windown.AiCap.audio.playEffect(h.Windown.AiCap.audio.bgm_bigwin_cue),this.nodeBigWin.active=!0,this.nodeBigWin.opacity=0,this.nodeBigWin.stopAllActions(),this.nodeBigWin.runAction(cc.fadeIn(.3)),this.scarab.stopAllActions(),this.scarab.runAction(cc.repeatForever(cc.sequence(cc.moveTo(1,cc.v2(0,375)),cc.moveTo(1,cc.v2(0,355))))),this.scarab.children[0].opacity=0,this.scarab.getComponent(cc.Animation).play()},e.prototype.showMegaWin=function(){var t=this;h.Windown.AiCap.audio.playEffect(h.Windown.AiCap.audio.bgm_bigwin_cue),this.nodeBigWin.active=!1,this.nodeThangCucLon.active=!0,this.nodeThangCucLon.opacity=0,this.nodeThangCucLon.stopAllActions(),this.nodeThangCucLon.runAction(cc.sequence(cc.fadeIn(.001),cc.callFunc(function(){t.scarabCucLon.stopAllActions(),t.scarabCucLon.runAction(cc.repeatForever(cc.sequence(cc.moveTo(1,cc.v2(0,375)),cc.moveTo(1,cc.v2(0,355))))),t.scarabCucLon.children[0].opacity=0,t.scarabCucLon.getComponent(cc.Animation).play()})))},e.prototype.showSuperWin=function(){var t=this;h.Windown.AiCap.audio.playEffect(h.Windown.AiCap.audio.bgm_bigwin_cue),this.nodeBigWin.active=!1,this.nodeThangCucLon.active=!1,this.nodeThangSieuLon.active=!0,this.nodeThangSieuLon.opacity=0,this.nodeThangSieuLon.stopAllActions(),this.nodeThangSieuLon.runAction(cc.sequence(cc.fadeIn(.001),cc.callFunc(function(){t.scarabSieuLon.stopAllActions(),t.scarabSieuLon.runAction(cc.repeatForever(cc.sequence(cc.moveTo(1,cc.v2(0,375)),cc.moveTo(1,cc.v2(0,355))))),t.scarabSieuLon.children[0].opacity=0,t.scarabSieuLon.getComponent(cc.Animation).play()})))},e.prototype.showEndBigWin=function(t){0==t?this.scarab.getComponent(cc.Animation).play():1==t?this.scarabCucLon.getComponent(cc.Animation).play():this.scarabSieuLon.getComponent(cc.Animation).play(),this.lb_Money.node.stopAllActions(),this.lb_Money.node.runAction(cc.sequence(cc.scaleTo(.3,.5),cc.scaleTo(.3,.45)))},e.prototype.onClickSkip=function(){for(this.btnFast.interactable=!1,this.isClickBtnFast=!0;this.listPromiseIgro.length>0;)this.listPromiseIgro.shift().cancle(!0)},e.prototype.resetView=function(){this.lb_Money.resetLb(),this.lb_Money.node.active=!1,this.btnFast.node.active=!1,this.node.opacity=255,this.nodeBigWin.active=!1,this.nodeThangCucLon.active=!1,this.nodeThangSieuLon.active=!1},e.prototype.onClose=function(){var t=this;if(this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){t.resetView()}))),h.Windown.AiCap.dataFinish.get("agWin")>1e4){var e=p.ConectManager.getIns().getSFSObj();e.putInt("gt",l.default.AiCap),e.putInt("mt",h.Windown.AiCap.dataFinish.get("agWin")),e.putUtfString("nn",h.Windown.User.nickName),e.putUtfString("dt","bw"),p.ConectManager.getIns().sendRequest(a.REQUEST_CODE.AddBigWin,e)}},c([y(cc.Node)],e.prototype,"nodeMask",void 0),c([y(u.default)],e.prototype,"lb_Money",void 0),c([y(cc.Node)],e.prototype,"nodeBigWin",void 0),c([y(cc.Node)],e.prototype,"nodeThangCucLon",void 0),c([y(cc.Node)],e.prototype,"nodeThangSieuLon",void 0),c([y(cc.Node)],e.prototype,"scarab",void 0),c([y(cc.Node)],e.prototype,"scarabCucLon",void 0),c([y(cc.Node)],e.prototype,"scarabSieuLon",void 0),c([y([cc.Node])],e.prototype,"listNodeBoxMoney",void 0),c([y(cc.Button)],e.prototype,"btnFast",void 0),c([f],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Game/GAME_TYPE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Other/LbMonoSpace":void 0,"../../../Scritps/Windown":void 0}],InfoBarControllerAiCap:[function(t,e,n){"use strict";cc._RF.push(e,"f80bbuGacVN4Z/bheE1ukOw","InfoBarControllerAiCap");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,c){function r(t){try{a(i.next(t))}catch(e){c(e)}}function s(t){try{a(i.throw(t))}catch(e){c(e)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}a((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,o,c,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function s(t){return function(e){return a([t,e])}}function a(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(6===c[0]&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(s){c=[6,s],i=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scritps/Obs/LbMoneyChange"),l=t("../../../Scritps/Other/LbMonoSpace"),p=t("../../../Scritps/Windown"),u=cc._decorator,h=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbMoney=null,e.parentContent=null,e.info_glow_b=null,e.info_glow_c=null,e.info_glow_e=null,e.catroi=null,e.lbTotalWin=null,e.parrentMoney=null,e.infoBarMutiple=null,e.sonhantong=null,e.sonhanthuong=null,e.lbWinMulti=null,e.flare=null,e._totalMultiple=0,e}return o(e,t),e.prototype.onLoad=function(){var t=this;this.parentContent.x=360,this.parentContent.runAction(cc.repeatForever(cc.sequence(cc.moveTo(80,-3333,4.555),cc.callFunc(function(){t.parentContent.x=272})))),this.showRdContent()},e.prototype.update=function(){this.parrentMoney.children[1].width=.15*this.parrentMoney.children[1].children[0].width},e.prototype.showRdContent=function(){this.parentContent.active=!0,this.parrentMoney.active=!1},e.prototype.showTakeMoney=function(t){return r(this,void 0,void 0,function(){var e=this;return s(this,function(){return[2,new Promise(function(n){return r(e,void 0,void 0,function(){var e,i=this;return s(this,function(o){switch(o.label){case 0:return n(null),this.parentContent.active=!1,this.parrentMoney.active=!0,e=p.Windown.AiCap.curRoomBet*p.Windown.AiCap.totalLineBet,t/e<10?(p.Windown.AiCap.audio.playEffect(p.Windown.AiCap.audio.prize_smallwin),this.lbTotalWin.resetLb(),this.lbTotalWin.setMoneyNoTime(t),this.info_glow_c.getComponent(cc.Animation).play(),this.catroi.active=!0,[4,p.Windown.AiCap.getMakeDelay(.15).prosime]):[3,3];case 1:return o.sent(),this.info_glow_b.getComponent(cc.Animation).play(),[4,p.Windown.AiCap.getMakeDelay(.2).prosime];case 2:return o.sent(),this.catroi.getComponent(cc.Animation).play(),[3,4];case 3:p.Windown.AiCap.audio.playEffect(p.Windown.AiCap.audio.prize_mediumwin_counting),this.lbTotalWin.resetLb(),this.lbTotalWin.time=2.7,this.lbTotalWin.setMoney(t),this.info_glow_c.active=!0,this.info_glow_b.active=!0,this.catroi.active=!0,this.info_glow_c.getComponent(cc.Animation).play(),this.scheduleOnce(function(){i.scheduleOnce(function(){i.catroi.getComponent(cc.Animation).play()},.2),i.info_glow_b.getComponent(cc.Animation).play()},.15),this.scheduleOnce(function(){p.Windown.AiCap.audio.playEffect(p.Windown.AiCap.audio.prize_smallwin),i.scheduleOnce(function(){i.info_glow_b.getComponent(cc.Animation).play()},.5)},2.2),o.label=4;case 4:return[2]}})})})]})})},e.prototype.reset=function(){},e.prototype.showTotalMoney=function(t){var e=this;return new Promise(function(n){return r(e,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return 0==t?(n(null),[2]):(p.Windown.AiCap.curRoomBet*p.Windown.AiCap.totalLineBet,this.parentContent.active=!1,this.lbTotalWin.time=1,this.lbTotalWin.resetLb(),this.lbTotalWin.setMoney(t),p.Windown.AiCap.audio.playEffect(p.Windown.AiCap.audio.prize_payout),[4,p.Windown.AiCap.getMakeDelay(1).prosime]);case 1:return e.sent(),n(null),[2]}})})})},e.prototype.showSoNhanTong=function(t){var e=this;this._totalMultiple+=t,this.lbWinMulti.node.scale=1,this.flare.opacity=255,this.flare.scale=0,this.flare.active=!0,this.flare.getComponent(cc.Animation).play(),this.scheduleOnce(function(){e.sonhanthuong.active=!1,e.sonhantong.active=!0,e.lbWinMulti.node.scale=1,e.lbWinMulti.string="x"+e._totalMultiple,e.lbWinMulti.node.runAction(cc.sequence(cc.scaleTo(.06,.2),cc.scaleTo(.06,1.3),cc.scaleTo(.06,1)))},.1)},e.prototype.showInfobarMultiplier=function(){this.infoBarMutiple.position.y=85,this._totalMultiple=0,this.sonhanthuong.active=!0,this.sonhantong.active=!1,this.infoBarMutiple.stopAllActions(),this.infoBarMutiple.runAction(cc.sequence(cc.moveTo(.2,cc.v2(0,7)),cc.moveTo(.07,cc.v2(0,0)),cc.moveTo(.07,cc.v2(0,7)),cc.moveTo(.07,cc.v2(0,0))))},e.prototype.showTongBonus=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t=this;return s(this,function(){return this.parrentMoney.active=!0,this.info_glow_b.active=!0,this.info_glow_e.active=!0,this.catroi.active=!0,this.info_glow_e.getComponent(cc.Animation).play(),this.scheduleOnce(function(){t.info_glow_b.getComponent(cc.Animation).play()},.15),this.scheduleOnce(function(){t.scheduleOnce(function(){t.info_glow_b.getComponent(cc.Animation).play()},.5)},2.2),this.hideInfoBarMultipler(),e(null),[2]})})})},e.prototype.hideInfoBarMultipler=function(){this.infoBarMutiple.runAction(cc.moveTo(1,cc.v2(0,85)))},c([d(a.default)],e.prototype,"lbMoney",void 0),c([d(cc.Node)],e.prototype,"parentContent",void 0),c([d(cc.Node)],e.prototype,"info_glow_b",void 0),c([d(cc.Node)],e.prototype,"info_glow_c",void 0),c([d(cc.Node)],e.prototype,"info_glow_e",void 0),c([d(cc.Node)],e.prototype,"catroi",void 0),c([d(l.default)],e.prototype,"lbTotalWin",void 0),c([d(cc.Node)],e.prototype,"parrentMoney",void 0),c([d(cc.Node)],e.prototype,"infoBarMutiple",void 0),c([d(cc.Node)],e.prototype,"sonhantong",void 0),c([d(cc.Node)],e.prototype,"sonhanthuong",void 0),c([d(cc.Label)],e.prototype,"lbWinMulti",void 0),c([d(cc.Node)],e.prototype,"flare",void 0),c([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../Scritps/Obs/LbMoneyChange":void 0,"../../../Scritps/Other/LbMonoSpace":void 0,"../../../Scritps/Windown":void 0}],ItemLichSuAiCap:[function(t,e,n){"use strict";cc._RF.push(e,"e09a5jbPUZPVajEQcuAIFpo","ItemLichSuAiCap");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Scritps/DefineTs/REQUEST_CODE"),s=t("../../../Scritps/Network/ConectManager"),a=t("../../../Scritps/Windown"),l=cc._decorator,p=l.ccclass,u=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTime=null,e.lbBet=null,e.lbWin=null,e.data=null,e}return o(e,t),e.prototype.initItem=function(t){try{this.data=t;var e=this.data.get("date"),n=this.data.get("bet"),i=this.data.get("agWin");this.lbTime.string=a.Windown.formatDate(new Date(e),"dd/MM\nHH:mm:ss"),this.lbBet.string=a.Windown.formatNumber(n*a.Windown.AiCap.totalLineBet),this.lbWin.string=a.Windown.formatNumber(i)}catch(o){console.error(o)}},e.prototype.onClick=function(){var t=s.ConectManager.getIns().getSFSObj();t.putInt("id",this.data.get("id")),s.ConectManager.getIns().sendRequest(r.REQUEST_CODE.HistoryChiTietAiCap,t,a.Windown.AiCap.roomSFS),a.Windown.AiCap.audio.playClick(),a.Windown.UIManager.showLoading()},c([u(cc.Label)],e.prototype,"lbTime",void 0),c([u(cc.Label)],e.prototype,"lbBet",void 0),c([u(cc.Label)],e.prototype,"lbWin",void 0),c([p],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Windown":void 0}],ItemSlotAiCap:[function(t,e,n){"use strict";cc._RF.push(e,"2cf9bfmPdtDxJHqKSyvGSt1","ItemSlotAiCap");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,c){function r(t){try{a(i.next(t))}catch(e){c(e)}}function s(t){try{a(i.throw(t))}catch(e){c(e)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}a((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,o,c,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function s(t){return function(e){return a([t,e])}}function a(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(6===c[0]&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(s){c=[6,s],i=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE_MOVE=void 0;var a=t("../../../Scritps/DefineTs/StateReelSlot"),l=t("../../../Scritps/Network/ConectManager"),p=t("../../../Scritps/Windown"),u=t("./SymbolAiCap");(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD_NEW=1]="ADD_NEW"})(n.TYPE_MOVE||(n.TYPE_MOVE={}));var h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.sizeSymbol=7,e.funReject=null,e.resolve=null,e.stateWhel=a.default.WAITING,e.result=[],e.resultTemp=[],e.listIconEff=[],e.nodeEffNearWin=null,e.nodeWildDT=null,e.nodeWildShowDT=null,e.isScater=!1,e.index=-1,e.indexNodeFirt=0,e.isMoveSlowDown=!1,e.deltaSlowDown=0,e.listNumMutilWild=[],e.indexMaxWild=0,e.listProSkip=[],e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.getListSymbol=function(){for(var t=[],e=0,n=this.parentItem.children;e<n.length;e++){var i=n[e].getComponent(u.default);i&&t.push(i)}return t},e.prototype.getListSymbolResult=function(){var t=[],e=this.getListSymbol();return this.result.forEach(function(n,i){t.push(e[i+1])}),t},e.prototype.setResultFirtGame=function(){var t=this.getListRandomResult(),e=t.slice(1,t.length-1);this.setResult(e);for(var n=this.parentItem.children,i=0,o=this.sizeSymbol;i<o;i++){var c=n[i];null==c&&((c=this.getSymbol()).parent=this.parentItem),c.setSiblingIndex(i);var r=c.getComponent(u.default);r.setItemColum(this),r.setResult(t[i])}this.parentItem.sortAllChildren(),this.emitNewList(),this.getListSymbol().forEach(function(t){return t.initPosStartGame()})},e.prototype.getListRandomResult=function(){for(var t=[],e=0;e<this.sizeSymbol;e++)t.push(this.getRandomResult());return t},e.prototype.activeNodeNearWin=function(){p.Windown.AiCap.stateSpin.offAllSymbol(),null==this.nodeEffNearWin&&(this.nodeEffNearWin=p.Windown.AiCap.asset.getNearWin(),this.nodeEffNearWin.parent=p.Windown.AiCap.parentEffect,this.nodeEffNearWin.setPosition(p.Windown.convertNodeInOtherNode(this.node,p.Windown.AiCap.parentEffect))),this.nodeEffNearWin.opacity=255,this.nodeEffNearWin.active=!0,this.nodeEffNearWin.getComponent(cc.Animation).play("StartNearFS"),this.activeAllSymbol(),p.Windown.AiCap.activeMask(!0)},e.prototype.offNearWin=function(){var t=this;this.nodeEffNearWin&&(this.nodeEffNearWin.stopAllActions(),this.nodeEffNearWin.getComponent(cc.Animation).play("EndNearFS"),this.nodeEffNearWin.getComponent(cc.Animation).once(cc.Animation.EventType.FINISHED,function(){t.nodeEffNearWin.active=!1}))},e.prototype.setResult=function(t){this.result=t,this.resultTemp=t.slice(),this.indexMaxWild=this.resultTemp.length},e.prototype.emitNewList=function(){},e.prototype.getSymbol=function(){return p.Windown.AiCap.asset.getSymbol()},e.prototype.moveAllSymbol=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,i,o,c,r,a,l,u,h,d;return s(this,function(s){switch(s.label){case 0:return t=p.Windown.AiCap.stateSpin.isMaxSpeed?0:.05*p.Windown.RandomNumber(0,5),[4,p.Windown.AiCap.getMakeDelay(.2+t).prosime];case 1:if(s.sent(),(n=this.getListSymbol()).forEach(function(t){t.activeItem()}),(i=n.filter(function(t){return t.checkIsInView()})).reverse(),i[i.length-1],i.length>0)for(o=i[0],c=-o.size.height*(this.sizeSymbol-2)+o.node.height/2,r=function(t,e){var n=i[t],o=n.node;if(Math.abs(c-o.y)>2){var r=cc.moveTo(.25,o.x,c).easing(cc.easeSineIn()),s=cc.sequence(cc.moveBy(.059,0,18).easing(cc.easeSineOut()),cc.moveBy(.059,0,-18).easing(cc.easeSineIn()),cc.callFunc(function(){n.effectSpawnSymbol()}));o.runAction(cc.sequence(r,cc.callFunc(function(){p.Windown.AiCap.audio.playEffectNoStop(p.Windown.AiCap.audio.bgm_bigwin_out,.6)}),s))}else n.isShuff&&n.effectSpawnSymbol();t<e-1&&(c=c+o.height/2+i[t+1].node.height/2)},a=0,l=i.length;a<l;a++)r(a,l);return i.forEach(function(t){t.sizeItem}),u=[],h=n,d=n[0].node.height/2,h.forEach(function(t,e){var o=n[e],c=o.node;!i.includes(o)&&Math.abs(d-c.y)>1&&u.push(new Promise(function(t){var i=cc.moveTo(.25,c.x,d).easing(cc.easeSineIn()),o=cc.sequence(cc.moveBy(.059,0,18).easing(cc.easeSineOut()),cc.moveBy(.059,0,-18).easing(cc.easeSineIn()),cc.callFunc(function(){t(null),n[e].effectSpawnSymbol()}));c.runAction(cc.sequence(i,cc.callFunc(function(){p.Windown.AiCap.audio.playEffectNoStop(p.Windown.AiCap.audio.bgm_bigwin_out,.6)}),o))})),e<h.length-1&&(d=d-c.height/2-n[e+1].node.height/2)}),[4,Promise.all(u)];case 2:return s.sent(),this.reSetResultColum(),e(null),[2]}})})})},e.prototype.offAllSymbol=function(){this.getListSymbol().forEach(function(t){t.offItem()})},e.prototype.activeAllSymbol=function(){this.getListSymbol().forEach(function(t){t.activeItem()})},e.prototype.reset=function(){},e.prototype.runSpin=function(t){this.indexCol=t,this.stateWhel=a.default.RUN,this.getListSymbol().forEach(function(t){t.runSpin()})},e.prototype.stopSpin=function(t,e){var n=this;return new Promise(function(i,o){return r(n,void 0,void 0,function(){return s(this,function(n){switch(n.label){case 0:return this.setResult(e),this.funReject=o,this.isScater=t,this.resolve=i,t?[3,2]:(this.listProSkip.push(p.Windown.AiCap.getMakeDelay(.07)),[4,this.listProSkip[this.listProSkip.length-1].prosime]);case 1:n.sent(),i(null),n.label=2;case 2:return this.stateWhel=a.default.STOP,this.recaculateSpeedSpin(!1),[2]}})})})},e.prototype.forceStopSpin=function(t){return this.listProSkip.forEach(function(t){t.cancle(!1)}),this.funReject&&this.funReject(),this.stopSpinWhenFastSpin(t)},e.prototype.stopSpinWhenFastSpin=function(t){var e=this;return new Promise(function(n){e.stateWhel!=a.default.SHOW_EFFECT?(e.setResult(t),e.stateWhel=a.default.SHOW_EFFECT,e.parentItem.stopAllActions(),e.parentItem.y=e.node.height/2,e.reSetResultColum(),e.sizeSymbol>6&&p.Windown.AiCap.audio.playEffectNoStop(p.Windown.AiCap.audio.spin_reelquickstop),e.isMoveSlowDown=!1,e.parentItem.y+=20,e.parentItem.runAction(cc.sequence(cc.moveBy(.04,0,-20).easing(cc.easeSineOut()),cc.callFunc(function(){e.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()}),n(null)})))):n(null)})},e.prototype.recaculateSpeedSpin=function(t){this.emitNewList();var e=this.getListSymbol(),n=e[0].node.y,i=-this.node.height-e[0].node.height/2,o=Math.abs(i-n),c=.28;t&&(c=2),e.forEach(function(t){t.stopSpin(cc.moveBy(c,0,-o))})},e.prototype.errSpin=function(){},e.prototype.reSetResultColum=function(){var t=this.getListSymbol();if(t.length>this.sizeSymbol)for(;t.length>this.sizeSymbol;)p.Windown.AiCap.asset.putSymbol(t[t.length-1].node),t=this.getListSymbol();else if(t.length<this.sizeSymbol){for(var e=t.length;e<this.sizeSymbol;e++){var n=this.getSymbol();this.parentItem.addChild(n),n.getComponent(u.default).setItemColum(this)}t=this.getListSymbol()}this.result.forEach(function(e,n){t[n+1].setResult(e)}),e=this.result.length+1;for(var i=t.length;e<i;e++)t[e].setResult(t[e].objSFS);t.forEach(function(t){t.canRun=!1,t.node.stopAllActions(),t.initPosStartGame()})},e.prototype.effStopSpin=function(){return r(this,void 0,void 0,function(){var t=this;return s(this,function(){return this.stateWhel==a.default.SHOW_EFFECT?[2]:(this.funReject=null,this.stateWhel=a.default.SHOW_EFFECT,this.parentItem.sortAllChildren(),this.parentItem.stopAllActions(),this.emitNewList(),this.parentItem.y=this.node.height/2,this.reSetResultColum(),this.sizeSymbol>6&&(p.Windown.AiCap.audio.playEffectNoStop(p.Windown.AiCap.audio.spin_reelquickstop),this.index>=1&&this.index<=4?p.Windown.AiCap.updateNewTotalLine(this.result.length+1):p.Windown.AiCap.updateNewTotalLine(this.result.length)),this.isMoveSlowDown=!1,this.isScater?this.parentItem.runAction(cc.sequence(cc.moveBy(.15,0,-30).easing(cc.easeSineOut()),cc.callFunc(this.offNearWin,this),cc.moveBy(.2,0,30).easing(cc.easeSineIn()),cc.callFunc(function(){t.resolve&&t.resolve(null),t.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()})}))):this.parentItem.runAction(cc.sequence(cc.moveBy(.04,0,-8).easing(cc.easeSineOut()),cc.moveBy(.04,0,8).easing(cc.easeSineIn()),cc.callFunc(function(){t.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()})}))),[2])})})},e.prototype.getIdSymbolResult=function(){return this.stateWhel==a.default.STOP&&this.resultTemp.pop()||this.getRandomResult()},e.prototype.checkLastSymbol=function(t){var e=this.getListSymbol();return e[e.length-1]==t},e.prototype.getRandomResult=function(){var t=null;return(t=l.ConectManager.getIns().getSFSObj()).putInt("size",1),1!=this.indexCol?t.putInt("idItem",p.Windown.RandomNumber(0,10)):t.putInt("idItem",p.Windown.RandomNumber(0,11)),t.putInt("typeItem",0),t},e.prototype.checkParentItem=function(){},e.prototype.runSlowDownActicon=function(){this.getListSymbol().forEach(function(t){t.node.stopAllActions()}),this.isMoveSlowDown=!0,this.deltaSlowDown=6e3},e.prototype.update=function(t){var e=this;this.isMoveSlowDown&&(this.getListSymbol().forEach(function(n){n.node.y-=t*e.deltaSlowDown}),this.deltaSlowDown>500?this.deltaSlowDown-=1800*t:this.deltaSlowDown<1e3&&(this.stateWhel=a.default.STOP,this.isMoveSlowDown=!1,this.recaculateSpeedSpin(!0)))},e.prototype.resetState=function(){this.getListSymbol().forEach(function(t){t.resetState()})},c([f(cc.Node)],e.prototype,"parentItem",void 0),c([f(cc.Integer)],e.prototype,"sizeSymbol",void 0),c([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Windown":void 0,"./SymbolAiCap":"SymbolAiCap"}],LichSuAiCap:[function(t,e,n){"use strict";cc._RF.push(e,"63024KjmihCt7zH3GzBTNr7","LichSuAiCap");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Scritps/DefineTs/REQUEST_CODE"),s=t("../../../Scritps/Network/ConectManager"),a=t("../../../Scritps/Popup/PageData/PageData"),l=t("../../../Scritps/Windown"),p=t("./DetailHistoryAiCap"),u=t("./ItemLichSuAiCap"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.detail=null,e.listData=null,e.maxRow=11,e}return o(e,t),e.prototype.show=function(){this.node.active=!0,this.reset(),this.node.y=-1280,this.node.stopAllActions(),this.node.runAction(cc.moveTo(.3,0,0)),s.ConectManager.getIns().sendRequest(r.REQUEST_CODE.HistoryAiCap,null,l.Windown.AiCap.roomSFS),l.Windown.UIManager.showLoading()},e.prototype.responseServer=function(t){l.Windown.UIManager.hideLoading();var e=t.getSFSArray("history");this.initWithListData(e)},e.prototype.responseServerChiTiet=function(t){l.Windown.UIManager.hideLoading(),this.showDetail(t)},e.prototype.initWithListData=function(t){cc.log(l.Windown.SFSArrToJson(t)),this.pageDate.content.children;var e=t.size(),n=Math.floor(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,i=n[0],o=(t-1)*this.maxRow,c=0,r=this.maxRow;c<r;c++){var s=n[c];if(o<this.listData.size()){null==s&&(s=cc.instantiate(i),e.addChild(s),s.y=-(c+1)*s.height+s.height/2);var a=this.listData.getSFSObject(o);s.getComponent(u.default).initItem(a),s.active=!0,o++}else{if(!s)break;s.active=!1}}},e.prototype.showDetail=function(t){console.log(l.Windown.SFSObjToJson(t)),this.detail.show(t)},e.prototype.resetContent=function(){for(var t=this.pageDate.content.children,e=0,n=t.length;e<n;e++)t[e].active=!1},e.prototype.reset=function(){this.pageDate.setTotalPage(1),this.pageDate.reset(),this.resetContent()},e.prototype.onClickClose=function(){var t=this;l.Windown.AiCap.audio.playClick(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.moveTo(.3,0,-1280),cc.callFunc(function(){t.node.active=!1})))},c([f(a.default)],e.prototype,"pageDate",void 0),c([f(p.default)],e.prototype,"detail",void 0),c([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Popup/PageData/PageData":void 0,"../../../Scritps/Windown":void 0,"./DetailHistoryAiCap":"DetailHistoryAiCap","./ItemLichSuAiCap":"ItemLichSuAiCap"}],SpinNormalAiCap:[function(t,e,n){"use strict";cc._RF.push(e,"50d69iwJb1H95oSp26AiVxG","SpinNormalAiCap");var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,c){function r(t){try{a(i.next(t))}catch(e){c(e)}}function s(t){try{a(i.throw(t))}catch(e){c(e)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}a((i=i.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,i,o,c,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function s(t){return function(e){return a([t,e])}}function a(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(6===c[0]&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(s){c=[6,s],i=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},c=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var c=arguments[e],r=0,s=c.length;r<s;r++,o++)i[o]=c[r];return i};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Scritps/DefineTs/StateReelSlot"),s=t("../../../Scritps/Util"),a=t("../../../Scritps/Windown"),l=t("./SymbolAiCap"),p=[[1,1,1],[0,0,0],[2,2,2],[0,1,2],[2,1,0],[1,0,1],[1,2,1],[0,1,0],[2,1,2]],u=function(){function t(){this.listFunShowOceLine=[],this.funShowOceLine=null,this.listColum=[],this.effect=null,this.isMaxSpeed=!1,this.isAutoSpin=!1,this.lastAutoSpin=!1,this.countAutoSpin=0,this.lastFreeSpinLeft=0,this.freeSpinLeft=0,this.freeSpinCache=0,this.moneyTotalFs=0,this.currentMutilFs=1,this.objAnBonus=null,this.listColum=a.Windown.AiCap.listColum}return t.prototype.onStart=function(){var t=this;return new Promise(function(e){return i(t,void 0,void 0,function(){var t,n;return o(this,function(i){switch(i.label){case 0:i.trys.push([0,5,,6]),t=0,i.label=1;case 1:return t<this.listColum.length?(this.listColum[t].runSpin(t),this.isMaxSpeed?[3,3]:[4,a.Windown.AiCap.getMakeDelay(.015).prosime]):[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return a.Windown.AiCap.audio.playEffect(a.Windown.AiCap.audio.spin_reelspin_loop,.5,!0),[3,6];case 5:return n=i.sent(),s.Util.ThrowErrProsime(n),[3,6];case 6:return e(null),[2]}})})})},t.prototype.onEnd=function(){return i(this,void 0,void 0,function(){var t,e,n,i,c,r,l;return o(this,function(o){switch(o.label){case 0:cc.log("end me roi nay"),t=a.Windown.AiCap.listResultConvert,o.label=1;case 1:o.trys.push([1,11,,12]),e=0,n=[],a.Windown.AiCap.audio.stopEffect(a.Windown.AiCap.audio.spin_reelspin_loop),i=0,c=this.listColum,o.label=2;case 2:return i<c.length?(r=c[i],this.isMaxSpeed?[3,4]:[4,r.stopSpin(!1,t[0].listSFSObj[e])]):[3,7];case 3:return o.sent(),[3,5];case 4:n.push(r.stopSpinWhenFastSpin(t[0].listSFSObj[e])),o.label=5;case 5:e++,o.label=6;case 6:return i++,[3,2];case 7:return this.isMaxSpeed?[4,Promise.all(n)]:[3,9];case 8:o.sent(),o.label=9;case 9:return[4,a.Windown.AiCap.getMakeDelay(.5).prosime];case 10:return o.sent(),this.handleStopAllColum(),[3,12];case 11:return l=o.sent(),s.Util.ThrowErrProsime(l),[3,12];case 12:return[2]}})})},t.prototype.onForceEnd=function(){return i(this,void 0,void 0,function(){var t,e,n,i,c,r,l;return o(this,function(o){switch(o.label){case 0:for(o.trys.push([0,3,,4]),a.Windown.AiCap.clearAllMakeDelay(),t=a.Windown.AiCap.listResultConvert,e=[],n=0,i=0,c=this.listColum;i<c.length;i++)r=c[i],e.push(r.forceStopSpin(t[0].listSFSObj[n])),n++;return a.Windown.AiCap.audio.playEffectNoStop(a.Windown.AiCap.audio.spin_reelquickstop),[4,Promise.all(e)];case 1:return o.sent(),[4,a.Windown.AiCap.getMakeDelay(.25).prosime];case 2:return o.sent(),this.handleStopAllColum(),[3,4];case 3:return l=o.sent(),s.Util.ThrowErrProsime(l),[3,4];case 4:return[2]}})})},t.prototype.handleErrSpin=function(){return i(this,void 0,void 0,function(){var t,e,n,i;return o(this,function(o){switch(o.label){case 0:a.Windown.AiCap.audio.stopEffect(a.Windown.AiCap.audio.spin_reelspin_loop),o.label=1;case 1:o.trys.push([1,7,,8]),t=0,e=this.listColum,o.label=2;case 2:return t<e.length?(n=e[t],this.isMaxSpeed?[3,4]:[4,n.stopSpin(!1,n.result)]):[3,6];case 3:return o.sent(),[3,5];case 4:n.stopSpin(!1,n.result),o.label=5;case 5:return t++,[3,2];case 6:return[3,8];case 7:return i=o.sent(),s.Util.ThrowErrProsime(i),[3,8];case 8:return a.Windown.AiCap.resetForNewGame(),[2]}})})},t.prototype.handleStopAllColum=function(){return i(this,void 0,void 0,function(){var t,e,n,i,c;return o(this,function(o){switch(o.label){case 0:if(o.trys.push([0,12,,13]),a.Windown.AiCap.stateReel==r.default.STOP)return[2];if(this.objAnBonus=this.checkAnBonus(),a.Windown.AiCap.stateReel=r.default.STOP,a.Windown.AiCap.setStateEffBtnSpin(),t=a.Windown.AiCap.listResultConvert[0],this.itemResult=t,this.activeAllSymbol(),e=0,t.listItemWin)for(n=0;n<t.listItemWin.length;n++)(i=t.listItemWin[n])&&(this.checkAndShowLineAn(i,i.lsAgWin,!1),this.showNodeLines(i.lsIdItem),e+=i.lsAgWin);return[4,this.showPaylines()];case 1:return o.sent(),e>0?this.objAnBonus.isCheck?[3,3]:[4,a.Windown.AiCap.effect.showBigWin(e)]:[3,5];case 2:o.sent(),o.label=3;case 3:return[4,a.Windown.AiCap.infoBar.showTakeMoney(e)];case 4:o.sent(),o.label=5;case 5:return[4,this.checkWinTop()];case 6:return o.sent(),this.objAnBonus.isCheck?[4,a.Windown.AiCap.effect.showBigWin(a.Windown.AiCap.agWin)]:[3,9];case 7:return o.sent(),cc.log("show me tootal win ne----------"),[4,this.showMoneyTotalRevice()];case 8:o.sent(),o.label=9;case 9:return a.Windown.AiCap.showMoneyAllWin(a.Windown.AiCap.agWin),e>0?[4,a.Windown.AiCap.getMakeDelay(.5).prosime]:[3,11];case 10:o.sent(),o.label=11;case 11:return this.resetForNextNextSpin(),[3,13];case 12:return c=o.sent(),s.Util.ThrowErrProsime(c),[3,13];case 13:return[2]}})})},t.prototype.checkWinTop=function(){return i(this,void 0,void 0,function(){var t=this;return o(this,function(){return[2,new Promise(function(e){return i(t,void 0,void 0,function(){var t,n,i,r,s,l,p,u,h,d;return o(this,function(o){switch(o.label){case 0:for(t=c(this.itemResult.lineBonus1),n=c(this.itemResult.lineBonus2),i=c(this.itemResult.lineBonus3),r=c(this.itemResult.lineBonus4),s=c(a.Windown.AiCap.lineBonus1),l=c(a.Windown.AiCap.lineBonus2),p=c(a.Windown.AiCap.lineBonus3),u=c(a.Windown.AiCap.lineBonus4),h=-1,d=0;d<t.length;d++)h++,t[d].status!=s[d].status&&0!=t[d].status&&(a.Windown.AiCap.TopSymbolManager.lineBonus1[h].setWinActive(),a.Windown.AiCap.audio.playEffect(a.Windown.AiCap.audio.bingo_block)),n[d].status!=l[d].status&&0!=n[d].status&&(a.Windown.AiCap.TopSymbolManager.lineBonus2[h].setWinActive(),a.Windown.AiCap.audio.playEffect(a.Windown.AiCap.audio.bingo_block)),i[d].status!=p[d].status&&0!=i[d].status&&(a.Windown.AiCap.TopSymbolManager.lineBonus3[h].setWinActive(),a.Windown.AiCap.audio.playEffect(a.Windown.AiCap.audio.bingo_block)),r[d].status!=u[d].status&&0!=r[d].status&&(a.Windown.AiCap.TopSymbolManager.lineBonus4[h].setWinActive(),a.Windown.AiCap.audio.playEffect(a.Windown.AiCap.audio.bingo_block));return a.Windown.AiCap.lineBonus1=c(t),a.Windown.AiCap.lineBonus2=c(n),a.Windown.AiCap.lineBonus3=c(i),a.Windown.AiCap.lineBonus4=c(r),[4,this.showMultipleTop()];case 1:return o.sent(),e(null),[2]}})})})]})})},t.prototype.checkAnBonus=function(){for(var t=a.Windown.AiCap.listMulti,e=0,n=!1,i=0;i<t.length;i++)t[i]>0&&(e++,n=!0);return{listMultiple:t,isCheck:n,count:e}},t.prototype.showMultipleTop=function(){return i(this,void 0,void 0,function(){var t=this;return o(this,function(){return[2,new Promise(function(e){return i(t,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return(t=this.objAnBonus).isCheck?(a.Windown.AiCap.TopSymbolManager._countShowLineWin=0,[4,a.Windown.AiCap.getMakeDelay(1).prosime]):[3,5];case 1:return n.sent(),[4,a.Windown.AiCap.infoBar.showInfobarMultiplier()];case 2:return n.sent(),[4,a.Windown.AiCap.getMakeDelay(1).prosime];case 3:return n.sent(),[4,a.Windown.AiCap.TopSymbolManager.waitShowBonus(t.listMultiple,t.count)];case 4:n.sent(),n.label=5;case 5:return e(null),[2]}})})})]})})},t.prototype.showPaylines=function(){var t=this;cc.log("showPaylines");var e=a.Windown.AiCap.lines,n=this.itemResult.listItemWin,i=[],o=[];i.push(cc.callFunc(function(){for(var e=function(e){o.push(cc.delayTime(2)),o.push(cc.callFunc(function(){t.hideAllLines(),t.listColum.forEach(function(t){t.resetState()}),t.checkAndShowLineAn(n[e],n[e].lsAgWin,!0),t.showNodeLines(n[e].lsIdItem)}))},i=0;i<n.length;i++)e(i)})),i.push(cc.callFunc(function(){o.length>0&&e.runAction(cc.repeatForever(cc.sequence(o)))})),a.Windown.AiCap.audio.node.runAction(cc.sequence(i))},t.prototype.showNodeLines=function(t){a.Windown.AiCap.lines.getChildByName(t+1+"").children[0].active=!0,a.Windown.AiCap.lines.getChildByName(t+1+"").children[0].getComponent(cc.Animation).play()},t.prototype.hideAllLines=function(){a.Windown.AiCap.lines.children.forEach(function(t){t.children[0].active=!1})},t.prototype.moveAllSymbol=function(){var t=this;return new Promise(function(e){return i(t,void 0,void 0,function(){var t,n;return o(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),t=[],[4,Promise.all(t)];case 1:return i.sent(),e(null),[3,3];case 2:return n=i.sent(),s.Util.ThrowErrProsime(n),[3,3];case 3:return[2]}})})})},t.prototype.offAllSymbol=function(){this.listColum.forEach(function(t){t.offAllSymbol()}),a.Windown.AiCap.activeMask(!0)},t.prototype.activeAllSymbol=function(){this.listColum.forEach(function(t){t.activeAllSymbol()})},t.prototype.checkAndShowLineAn=function(t,e,n){var c=this;return this.offAllSymbol(),new Promise(function(r){return i(c,void 0,void 0,function(){var i,c,s,u;return o(this,function(o){switch(o.label){case 0:i=t.lsstack,c=t.lsIdItem,s=0,o.label=1;case 1:return s<i?(u=this.listColum[s],[4,a.Windown.AiCap.getMakeDelay(.02*s).prosime]):[3,5];case 2:return o.sent(),[4,u.parentItem.children[p[c][s]+1].getComponent(l.default).takeItem(s,e,n)];case 3:o.sent(),o.label=4;case 4:return s++,[3,1];case 5:return r(null),[2]}})})})},t.prototype.resetForNextNextSpin=function(){var t=this;cc.log("reset nor nex"),a.Windown.AiCap.resetForNewGame(),this.freeSpinLeft>0?a.Windown.AiCap.scheduleOnce(function(){a.Windown.AiCap.setLbFreeSpinLeft(t.freeSpinLeft-1),a.Windown.AiCap.onClickBtnSpin()},.5):this.countAutoSpin>0?(a.Windown.AiCap.lines.stopAllActions(),a.Windown.AiCap.audio.node.stopAllActions(),a.Windown.AiCap.stateSpin.hideAllLines(),a.Windown.AiCap.infoBar.reset(),this.listColum.forEach(function(t){t.resetState()}),this.countAutoSpin--,a.Windown.AiCap.setCountAuto(this.countAutoSpin),a.Windown.AiCap.onClickBtnSpin()):a.Windown.AiCap.activeAllBtn()},t.prototype.showMoneyTotalRevice=function(){var t=this;return new Promise(function(e){return i(t,void 0,void 0,function(){var t,n;return o(this,function(i){switch(i.label){case 0:return cc.log("showMoneyTotalRevice"),t=a.Windown.AiCap.agWin,a.Windown.AiCap.activeMask(!1),this.listColum.forEach(function(t){t.activeAllSymbol()}),t<1?[4,a.Windown.AiCap.getMakeDelay(.75)]:[3,2];case 1:return i.sent(),e(null),[2];case 2:return i.trys.push([2,4,,5]),[4,a.Windown.AiCap.infoBar.showTotalMoney(t)];case 3:return i.sent(),e(null),[3,5];case 4:return n=i.sent(),s.Util.ThrowErrProsime(n),[3,5];case 5:return[2]}})})})},t}();n.default=u,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./SymbolAiCap":"SymbolAiCap"}],SymbolAiCap:[function(t,e,n){"use strict";cc._RF.push(e,"9de08J2gY9BuahKX+GmHTOQ","SymbolAiCap");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var o,c=arguments.length,r=c<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(c<3?o(r):c>3?o(e,n,r):o(e,n))||r);return c>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,c){function r(t){try{a(i.next(t))}catch(e){c(e)}}function s(t){try{a(i.throw(t))}catch(e){c(e)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}a((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,o,c,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function s(t){return function(e){return a([t,e])}}function a(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(6===c[0]&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(s){c=[6,s],i=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scritps/DefineTs/StateReelSlot"),l=t("../../../Scritps/Windown"),p=t("./ItemSlotAiCap"),u=cc._decorator,h=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.spriteBkg=null,e.spriteShad=null,e.spriteLight=null,e.wildFrame=null,e.wildAnim=null,e.s_btm_wild_blur=null,e.lbAgWin=null,e.sizeBkg=new cc.Size(208,163),e.size=new cc.Size(208,163),e.itemColum=null,e.result=-1,e.objSFS=null,e.sizeItem=0,e.canRun=!1,e.efWin=null,e.nodeMutil=null,e.lastPos=null,e.isShuff=!1,e.isShowEffectSpawn=!1,e}return o(e,t),e.prototype.setItemColum=function(t){this.itemColum=t},e.prototype.setResult=function(t,e){void 0===e&&(e=null),this.objSFS=t,this.result=t.getInt("idItem")+1,this.sizeItem=t.getInt("size"),this.itemColum.stateWhel==a.default.RUN?this.setImgResult(!0):this.setImgResult(!1),this.isShuff=!1,this.isShowEffectSpawn=!1},e.prototype.setResultHistory=function(t){this.result=t+1,this.setImgResult(!1)},e.prototype.setImgResult=function(t){this.sprite.spriteFrame=this.getSpItem(t),this.spriteBkg.spriteFrame=this.getSpBkg(t),this.spriteShad.spriteFrame=this.getSpItemShad(),this.spriteLight.spriteFrame=this.getSpItem(!1),11==this.result?(this.sprite.node.position=cc.v3(0,-30,0),this.spriteShad.node.active=!1,this.spriteLight.node.opacity=0,t?(this.wildAnim.active=!1,this.s_btm_wild_blur.active=!0):(this.wildAnim.active=!0,this.s_btm_wild_blur.active=!1)):(this.wildAnim.active=!1,this.s_btm_wild_blur.active=!1,this.sprite.node.position=cc.v3(0,0,0),this.spriteShad.node.active=!0,this.spriteLight.node.opacity=255)},e.prototype.getSpBkg=function(t){return t?(this.spriteBkg.node.scale=1.4,this.getAtlas().getSpriteFrame("btm_block_blur")):(this.spriteBkg.node.scale=1,this.getAtlas().getSpriteFrame("btm_block"))},e.prototype.getSpItem=function(t){if(t){if(11==this.result)return;return this.getAtlas().getSpriteFrame(this.convertNameSpineById()+"_blur")}if(11!=this.result)return this.getAtlas().getSpriteFrame(this.convertNameSpineById());this.wildAnim.active=!0},e.prototype.getSpItemShad=function(){return this.getAtlas().getSpriteFrame(this.convertNameSpineById()+"_shad")},e.prototype.getAtlas=function(){return l.Windown.AiCap.asset.atlasSymbol},e.prototype.getIndexOf=function(){return this.itemColum.getListSymbol().indexOf(this)},e.prototype.convertNameSpineById=function(){switch(this.result){case 1:return"btm_jar";case 2:return"btm_ankh";case 3:return"btm_cross";case 4:return"btm_eye";case 5:return"btm_ibis";case 6:return"btm_snake";case 7:return"btm_cat";case 8:return"btm_anubis";case 9:return"btm_horus";case 10:return"btm_pharaoh";case 11:return"s_btm_wild"}},e.prototype.checkIsInView=function(){return this.node.y<0&&this.node.y>-this.size.height*(this.itemColum.sizeSymbol-2)},e.prototype.offItem=function(){this.node.children.forEach(function(t){t.stopActionByTag(999),cc.tween(t).to(.3,{color:cc.Color.GRAY}).tag(999).start()})},e.prototype.activeItem=function(t){void 0===t&&(t=.3),this.node.children.forEach(function(e){e.stopActionByTag(999),cc.tween(e).to(t,{color:cc.Color.WHITE}).tag(999).start()})},e.prototype.resetState=function(){this.activeItem();var t=this.node.getComponent(cc.Animation);t.targetOff(t),t.stop(),this.node.getChildByName("select_glow_a").active=!1,this.node.getChildByName("select_glow_b").active=!1,this.node.getChildByName("particalSymbol").active=!1,this.node.getChildByName("light").active=!1,this.lbAgWin.node.active=!1},e.prototype.runSpin=function(){var t=cc.repeatForever(cc.moveBy(1,0,-2500));this.node.stopAllActions(),this.node.runAction(t),this.canRun=!0,this.resetState()},e.prototype.stopSpin=function(t){var e=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(t,cc.callFunc(function(){e.itemColum.effStopSpin()})))},e.prototype.initPosStartGame=function(){var t,e=this.getIndexOf(),n=this.itemColum.getListSymbol()[e-1],i=null==n?void 0:n.node.y;t=n?i-this.node.height/2-n.node.height/2:this.node.height/2,this.node.y=t},e.prototype.moveWhenListChange=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=null);var i=this.getIndexOf(),o=this.itemColum.getListSymbol()[i+1],c=o.node.y,r=null;t==p.TYPE_MOVE.NORMAL&&(r=c+this.node.height/2+o.node.height/2,this.node.y=r)},e.prototype.takeItem=function(t,e,n){return r(this,void 0,void 0,function(){return s(this,function(){return this.activeItem(),this.removeEfWin(),this.node.getComponent(cc.Animation).play(),1==t&&(this.lbAgWin.node.active=n,this.lbAgWin.string=l.Windown.formatNumber(e,!1)),[2]})})},e.prototype.removeEfWin=function(){if(this.efWin){var t=this.efWin.getComponent(cc.Animation);t.targetOff(t),t.stop()}this.efWin=null},e.prototype.removeItem=function(){var t=this;if(this.node.setPosition(l.Windown.convertNodeInOtherNode(this.node,this.itemColum.node)),this.node.parent=this.itemColum.node,this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){l.Windown.AiCap.asset.putSymbol(t.node)}))),this.efWin){var e=this.efWin.getComponent(cc.Animation);e.play("EndTakeItem"+this.sizeItem),e.once(cc.Animation.EventType.FINISHED,function(){t.removeEfWin()})}},e.prototype.effectSpawnSymbol=function(){return r(this,void 0,void 0,function(){return s(this,function(){return this.isShowEffectSpawn||this.checkIsInView(),[2]})})},e.prototype.unuse=function(){this.itemColum=null,this.isShowEffectSpawn=!1,this.isShuff=!1,this.result=-1,this.node.opacity=255,this.sprite.node.scale=1,this.sprite.node.y=1,this.sprite.node.opacity=255,this.node.stopAllActions()},e.prototype.checkEndCot=function(){if(0==this.getIndexOf()){var t=this.node.height/2;if(this.node.y<=t){var e=this.itemColum.getIdSymbolResult(),n=this.itemColum.getListSymbol(),i=n[n.length-1];i.node.zIndex=0,i.node.setSiblingIndex(0),i.node.parent.sortAllChildren(),i.setResult(e),this.itemColum.emitNewList(),i.moveWhenListChange(p.TYPE_MOVE.NORMAL)}}},e.prototype.update=function(){this.canRun&&this.checkEndCot()},c([d(cc.Sprite)],e.prototype,"sprite",void 0),c([d(cc.Sprite)],e.prototype,"spriteBkg",void 0),c([d(cc.Sprite)],e.prototype,"spriteShad",void 0),c([d(cc.Mask)],e.prototype,"spriteLight",void 0),c([d(cc.SpriteFrame)],e.prototype,"wildFrame",void 0),c([d(cc.Node)],e.prototype,"wildAnim",void 0),c([d(cc.Node)],e.prototype,"s_btm_wild_blur",void 0),c([d(cc.Label)],e.prototype,"lbAgWin",void 0),c([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":void 0,"../../../Scritps/Windown":void 0,"./ItemSlotAiCap":"ItemSlotAiCap"}]},{},["AiCapMultiTop","AiCapRibbonWin","AiCapSymbolTop","AiCapTopSymbolManager","AiCapView","AssetAiCap","AudioAiCap","DetailHistoryAiCap","EffectAiCap","InfoBarControllerAiCap","ItemLichSuAiCap","ItemSlotAiCap","LichSuAiCap","SpinNormalAiCap","SymbolAiCap"]);