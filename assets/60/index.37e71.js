window.__require=function e(t,o,n){function i(a,s){if(!o[a]){if(!t[a]){var c=a.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var p=o[a]={exports:{}};t[a][0].call(p.exports,function(e){return i(t[a][1][e]||e)},p,p.exports,e,t,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({EdbLoDeController:[function(e,t,o){"use strict";cc._RF.push(t,"35f77OSJ31JQbf9to+vZSQa","EdbLoDeController");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../Scritps/Windown"),s=cc._decorator,c=s.ccclass,l=s.property,p={PRICE:1,TOTAL_BET:2,INPUT_NUMBER:3},h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.edbPrice=null,t.edbTotalBet=null,t.lbLabelOn=null,t.lbTotalWin=null,t.TYPE_EDB=p.PRICE,t.listNumber=[],t}var o;return i(t,e),o=t,t.prototype.start=function(){},t.prototype.initInfo=function(){this.TYPE_EDB==p.TOTAL_BET&&(3==a.Windown.LoDe.typeBet?this.edbTotalBet.getComponent(o).lbLabelOn.string=a.Windown.LoDe.priceLo+"":this.edbTotalBet.getComponent(o).lbLabelOn.string="1",this.edbTotalBet.string=this.lbLabelOn.string,this.edbTotalBet.textLabel.node.active=!1),this.TYPE_EDB==p.PRICE&&(this.edbPrice.getComponent(o).lbLabelOn.string="1",this.edbPrice.string="1",this.edbPrice.textLabel.node.active=!1),a.Windown.LoDe.edbNumberBet.getComponent(o).lbLabelOn.string="",this.lbLabelOn.node.active=!0;var e=a.Windown.LoDe.totalWinPerNum=parseInt(this.edbPrice.getComponent(o).lbLabelOn.string)*this.getRateAndPrice("rate")*1e3;this.lbTotalWin.string=a.Windown.formatMoney(e),a.Windown.LoDe.totalWinPerNum=e},t.prototype.onEdbBegin=function(){this.lbLabelOn.node.active=!1,this.getComponent(cc.EditBox).string="",this.getComponent(cc.EditBox).textLabel.node.active=!0},t.prototype.getRateAndPrice=function(e){var t=1,o=1;switch(a.Windown.LoDe.typeBet){case 1:t=a.Windown.LoDe.priceDe,o=a.Windown.LoDe.rateDe;break;case 2:t=a.Windown.LoDe.price3Cang,o=a.Windown.LoDe.rate3Cang;break;case 3:t=a.Windown.LoDe.priceLo,o=a.Windown.LoDe.rateLo;break;case 4:o=a.Windown.LoDe.rateLoXien2,t=a.Windown.LoDe.priceLoXien2;break;case 5:o=a.Windown.LoDe.rateLoXien3,t=a.Windown.LoDe.priceLoXien3;break;case 6:o=a.Windown.LoDe.rateLoXien4,t=a.Windown.LoDe.priceLoXien4}return"rate"==e?o:t},t.prototype.onEdbEnd=function(){if(""==this.getComponent(cc.EditBox).string)return this.edbPrice.getComponent(o).initInfo(),void this.edbTotalBet.getComponent(o).initInfo();this.getComponent(cc.EditBox).textLabel.node.active=!1,this.lbLabelOn.node.active=!0;var e=this.getRateAndPrice("price"),t=(this.getRateAndPrice("rate"),a.Windown.LoDe.edbNumberBet.getComponent(o).listNumber);if(this.TYPE_EDB==p.PRICE&&(this.lbLabelOn.string=parseInt(this.edbPrice.string)+"",4!=a.Windown.LoDe.typeBet&&5!=a.Windown.LoDe.typeBet&&6!=a.Windown.LoDe.typeBet?this.edbTotalBet.getComponent(o).lbLabelOn.string=parseInt(this.edbPrice.string)*e*t.length+"":(cc.log("clmmmmmm"),this.edbTotalBet.getComponent(o).lbLabelOn.string=parseInt(this.edbPrice.string)*e+""),this.lbTotalWin.string=a.Windown.formatMoney(this.getTotalWin(),2),a.Windown.LoDe.totalWinPerNum=parseFloat(this.getTotalWin()),this.edbTotalBet.string=this.edbTotalBet.getComponent(o).lbLabelOn.string),this.TYPE_EDB==p.TOTAL_BET){var n=parseInt(this.edbTotalBet.string);3==a.Windown.LoDe.typeBet&&(n=n<a.Windown.LoDe.priceLo?a.Windown.LoDe.priceLo:n),this.lbLabelOn.string=n+"",4!=a.Windown.LoDe.typeBet&&5!=a.Windown.LoDe.typeBet&&6!=a.Windown.LoDe.typeBet?this.edbPrice.getComponent(o).lbLabelOn.string=(n/e/t.length).toFixed(2).replace(/\.00$/,""):(cc.log("clmmmmmm"),this.edbPrice.getComponent(o).lbLabelOn.string=(n/e).toFixed(2).replace(/\.00$/,"")),this.lbTotalWin.string=a.Windown.formatMoney(this.getTotalWin(),2),a.Windown.LoDe.totalWinPerNum=parseFloat(this.getTotalWin())}},t.prototype.getTotalWin=function(){var e=this.getRateAndPrice("rate"),t=parseFloat(this.edbPrice.getComponent(o).lbLabelOn.string);return a.Windown.LoDe.totalWinPerNum=t,1e3*e*t+""},t.prototype.onEdbNumberEnd=function(e){if(""!=e.string){var t=e.string.replace(/\D/g,""),n=void 0;2!=a.Windown.LoDe.typeBet?1==(n=t.match(/.{1,2}/g))[n.length-1].length&&n.pop():(n=t.match(/.{1,3}/g))[n.length-1].length<3&&n.pop(),this.listNumber=n.map(Number);var i=n.join("-");this.lbLabelOn.string=i,this.lbLabelOn.node.active=!0,this.getComponent(cc.EditBox).string=i,this.getComponent(cc.EditBox).textLabel.node.active=!1;var r=this.getRateAndPrice("price");4!=a.Windown.LoDe.typeBet&&5!=a.Windown.LoDe.typeBet&&6!=a.Windown.LoDe.typeBet?this.edbTotalBet.getComponent(o).lbLabelOn.string=(this.listNumber.length*this.edbPrice.getComponent(o).getNumberValue()*r).toFixed(2).replace(/\.00$/,""):this.edbTotalBet.getComponent(o).lbLabelOn.string=(this.edbPrice.getComponent(o).getNumberValue()*r).toFixed(2).replace(/\.00$/,"")}},t.prototype.onEdbNumberBegin=function(){this.lbLabelOn.node.active=!1,this.getComponent(cc.EditBox).string=this.lbLabelOn.string},t.prototype.getNumberValue=function(){return parseFloat(this.lbLabelOn.string)},t.prototype.onClickClear=function(){this.listNumber=[],this.getComponent(o).lbLabelOn.string="",this.getComponent(cc.EditBox).string="",this.edbPrice.getComponent(o).initInfo(),this.edbTotalBet.getComponent(o).initInfo()},r([l(cc.EditBox)],t.prototype,"edbPrice",void 0),r([l(cc.EditBox)],t.prototype,"edbTotalBet",void 0),r([l(cc.Label)],t.prototype,"lbLabelOn",void 0),r([l(cc.Label)],t.prototype,"lbTotalWin",void 0),r([l],t.prototype,"TYPE_EDB",void 0),o=r([c],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],ItemLichSuLoDe:[function(e,t,o){"use strict";cc._RF.push(t,"7cfe6Rj4HVE9aEoA1sXzyp8","ItemLichSuLoDe");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../Scritps/Windown"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lbDate=null,t.lbType=null,t.lbListNum=null,t.lbPrice=null,t.lbWin=null,t.lbResult=null,t}return i(t,e),t.prototype.start=function(){},t.prototype.initItem=function(e){var t=new Date(e.getLong("time"));this.lbDate.string=t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear(),this.lbType.string=this.getTypeBet(e.getInt("type"),e.getIntArray("listNumber")),this.lbListNum.string=e.getIntArray("listNumber").join("-");var o=(e.getLong("tiencuoc")/e.getIntArray("listNumber").length).toFixed(2).replace(/\.00$/,"");this.lbPrice.string=a.Windown.formatNumber(e.getLong("tiencuoc"))+"\n"+o+"/con";var n=new Date;n.getDate()<t.getDate()||n.getDate()==t.getDate()&&n.getHours()<18||18==n.getHours()&&n.getMinutes()<35?(this.lbResult.string="\u0110ang ch\u1edd",this.lbWin.string="-"):e.getLong("win")>0?(this.lbResult.string="Th\u1eafng",this.lbWin.string="+"+a.Windown.formatNumber(e.getLong("win")),this.lbWin.node.color=cc.Color.GREEN):(this.lbResult.string="...",this.lbWin.string="-"+a.Windown.formatNumber(e.getLong("tiencuoc")),this.lbWin.node.color=cc.Color.RED)},t.prototype.getTypeBet=function(e,t){var o="";switch(e){case 0:o="L\xf4 2 S\u1ed1";break;case 1:o="\u0110\u1ec1 \u0110\u1eb7c Bi\u1ec7t";break;case 2:o="Ba C\xe0ng";break;case 3:o="L\xf4 Xi\xean "+t.length}return o},r([l(cc.Label)],t.prototype,"lbDate",void 0),r([l(cc.Label)],t.prototype,"lbType",void 0),r([l(cc.Label)],t.prototype,"lbListNum",void 0),r([l(cc.Label)],t.prototype,"lbPrice",void 0),r([l(cc.Label)],t.prototype,"lbWin",void 0),r([l(cc.Label)],t.prototype,"lbResult",void 0),r([c],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],LichSuLoDe:[function(e,t,o){"use strict";cc._RF.push(t,"87e0a1ziyhBg5ihK1tGDfxX","LichSuLoDe");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../Scritps/DefineTs/REQUEST_CODE"),s=e("../../../Scritps/Network/ConectManager"),c=e("../../../Scritps/Popup/PageData/PageData"),l=e("../../../Scritps/Windown"),p=e("./ItemLichSuLoDe"),h=cc._decorator,d=h.ccclass,u=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pageDate=null,t.listData=null,t.maxRow=4,t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){var e=s.ConectManager.getIns().getSFSObj();l.Windown.LoDe.sendRequest(a.REQUEST_CODE.LichsuLoDe,e)},t.prototype.show=function(){l.Windown.actionEffectOpen(this.node.getChildByName("Container"))},t.prototype.onClickClose=function(){var e=this;l.Windown.actionEffectClose(this.node.getChildByName("Container"),function(){e.node.active=!1})},t.prototype.setInfo=function(e){this.listData=e.getSFSArray("history"),this.initWithListData(this.listData)},t.prototype.initWithListData=function(e){var t=e.size(),o=parseInt(t/this.maxRow);t%this.maxRow>0&&o++,0==o&&(o=1),this.pageDate.setTotalPage(o),this.listData=e,this.onChangePage(1)},t.prototype.onChangePage=function(e){for(var t=this.pageDate.content,o=t.children,n=o[0],i=(e-1)*this.maxRow,r=0,a=this.maxRow;r<a;r++){var s=o[r];if(i<this.listData.size()){null==s&&(s=cc.instantiate(n),t.addChild(s),s.y=-(r+1)*s.height+s.height/2);var c=this.listData.getSFSObject(i);s.getComponent(p.default).initItem(c),s.active=!0,i++}else{if(!s)break;s.active=!1}}},r([u(c.default)],t.prototype,"pageDate",void 0),r([d],t)}(cc.Component);o.default=g,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Popup/PageData/PageData":void 0,"../../../Scritps/Windown":void 0,"./ItemLichSuLoDe":"ItemLichSuLoDe"}],LoDeConfirmPopup:[function(e,t,o){"use strict";cc._RF.push(t,"21c041dXjJAQKKgCU9hGi9r","LoDeConfirmPopup");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../Scritps/Windown"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lbDate=null,t.lbTypeBet=null,t.lbNumberBet=null,t.lbPriceBet=null,t.lbTotalBet=null,t.lbWinBet=null,t.callBack=null,t}return i(t,e),t.prototype.onEnable=function(){a.Windown.actionEffectOpen(this.node.getChildByName("Container"))},t.prototype.start=function(){},t.prototype.setInfo=function(e,t,o,n,i,r,s){this.lbDate.string=e,this.lbTypeBet.string=this.getTypeBet(t),this.lbNumberBet.string=o,this.lbPriceBet.string=a.Windown.formatNumber(n),this.lbTotalBet.string=a.Windown.formatNumber(i),this.lbWinBet.string=a.Windown.formatNumber(r),this.callBack=s},t.prototype.getTypeBet=function(e){var t="";switch(e){case 1:t="\u0110\u1ec0 \u0110\u1eb6C BI\u1ec6T";break;case 3:t="L\xd4 T\xd4 2 S\u1ed0";break;case 2:t="3 C\xc0NG";break;case 4:t="XI\xcaN 2";break;case 5:t="XI\xcaN 3";break;case 6:t="XI\xcaN 4"}return t},t.prototype.onClickConfirm=function(){null!=this.callBack&&(this.callBack(),this.onClickClose())},t.prototype.onClickClose=function(){var e=this;a.Windown.actionEffectClose(this.node.getChildByName("Container"),function(){e.node.active=!1})},r([l(cc.Label)],t.prototype,"lbDate",void 0),r([l(cc.Label)],t.prototype,"lbTypeBet",void 0),r([l(cc.Label)],t.prototype,"lbNumberBet",void 0),r([l(cc.Label)],t.prototype,"lbPriceBet",void 0),r([l(cc.Label)],t.prototype,"lbTotalBet",void 0),r([l(cc.Label)],t.prototype,"lbWinBet",void 0),r([c],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],LoDeController:[function(e,t,o){"use strict";cc._RF.push(t,"bf5fbSyR/VJMoSX0ImZnDCh","LoDeController");var n=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{c(n.next(e))}catch(t){r(t)}}function s(e){try{c(n.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}c((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return c([e,t])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../../../Scritps/DefineTs/TextDefine"),a=e("../../../Scritps/Game/GAME_TYPE"),s=e("../../../Scritps/Windown"),c=function(){function e(){}return e.prototype.intiGame=function(){return n(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return[4,s.Windown.loadBundle(a.default.XocDia.toString())];case 1:return e=t.sent(),s.Windown.UIManager.showLoadingData(),e.preloadScene("Lode",{},function(e,t){s.Windown.UIManager.setPerData(e/t)},function(t){t?s.Windown.Dialog.showLog(r.TextDefine.Error):e.loadScene("Lode",function(e,t){if(e)return s.Windown.Dialog.showLog(r.TextDefine.Error),void s.Windown.UIManager.hideLoadingData();cc.director.runScene(t,null,function(){s.Windown.UIManager.hideLoadingData()})})}),[2]}})})},e.prototype.start=function(){},e}();o.default=c,cc._RF.pop()},{"../../../Scritps/DefineTs/TextDefine":void 0,"../../../Scritps/Game/GAME_TYPE":void 0,"../../../Scritps/Windown":void 0}],LoDeView:[function(e,t,o){"use strict";cc._RF.push(t,"1f429yTlyxHHbBYCVHob0bf","LoDeView");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../../../DevDatePicker/DevDatePicker"),s=e("../../../Scritps/DefineTs/EVENT_MANAGER"),c=e("../../../Scritps/DefineTs/REQUEST_CODE"),l=e("../../../Scritps/DefineTs/TextDefine"),p=e("../../../Scritps/Game/GAME_TYPE"),h=e("../../../Scritps/Network/ConectManager"),d=e("../../../Scritps/Network/Http"),u=e("../../../Scritps/Windown"),g=e("./EdbLoDeController"),b=e("./LichSuLoDe"),f=e("./LoDeConfirmPopup"),y=cc._decorator,L=y.ccclass,m=y.property,v={De:1,BaCang:2,Lo:3,LoXien2:4,LoXien3:5,LoXien4:6},D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgAudio=null,t.nodeBetLo=null,t.nodeBetDe=null,t.nodeBaCang=null,t.nodeLoXien=null,t.nodeResult=null,t.nodeThongKe=null,t.listNodeNumTK=[],t.nodeSetting=null,t.tglChangeSizeTK=null,t.datePickerResult=null,t.popupLichSu=null,t.edbPrice=null,t.edbTotalBet=null,t.popupConfirm=null,t.edbNumberBet=null,t.lbRemainTime=null,t.lbBalance=null,t.lbToday=null,t.lbPriceBet=null,t.lbTotalBet=null,t.lbTotalWin=null,t.lbDateCurrentResult=null,t.lbGiaiDB=null,t.lbGiaiNhat=null,t.lbGiai2=[],t.lbGiai3=[],t.lbGiai4=[],t.lbGiai5=[],t.lbGiai6=[],t.lbGiai7=[],t.sprUpDown=[],t.dateToday=new Date,t.result=null,t.typeTK="not",t.sizeTK=50,t.dataTK=null,t.gameType=0,t.sfs=null,t.objFinish=null,t.roomSFS=null,t.rateDe=95,t.priceDe=1,t.rateLo=99,t.priceLo=27,t.rate3Cang=900,t.price3Cang=1,t.rateLoXien2=17,t.priceLoXien2=1,t.rateLoXien3=65,t.priceLoXien3=1,t.rateLoXien4=250,t.priceLoXien4=1,t.totalWinPerNum=0,t.typeBet=v.Lo,t.strTimeRelease="",t}return i(t,e),t.prototype.update=function(){this.countTimeRemain()},t.prototype.onLoad=function(){var e=this;this.datePickerResult.setDate(this.dateToday.getFullYear(),this.dateToday.getMonth(),this.dateToday.getDate()),this.datePickerResult.setPickDateCallback(function(t,o,n){e.lbDateCurrentResult.string=(n<10?"0"+n:n)+"-"+(o+1<10?"0"+(o+1):o+1),e.getResult(n,o+1,t),e.openDatePicker()}),this.strTimeRelease="18:05:00"},t.prototype.countTimeRemain=function(){if(""!=this.strTimeRelease){var e=this.strTimeRelease.split(":"),t=new Date,o=parseInt(e[0]),n=parseInt(e[1]),i=parseInt(e[2]),r="",a="",s="";r=0==t.getHours()?"0"+o:o>=t.getHours()?"0"+(o-t.getHours()):"0"+(o+24-t.getHours()),a="0"+(60-Math.abs(n-t.getMinutes())),s="0"+(60-Math.abs(i-t.getSeconds())),this.lbRemainTime.string=r.slice(-2)+":"+a.slice(-2)+":"+s.slice(-2)}},t.prototype.start=function(){u.Windown.LoDe=this,this.gameType=p.default.Lode,this.sfs=h.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(s.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),this.sendJoinRoom(),this.setInfoView(),this.dateToday.getHours()<18||18==this.dateToday.getHours()&&this.dateToday.getMinutes()<35?this.getResult(this.dateToday.getDate()-1,this.dateToday.getMonth()+1,this.dateToday.getFullYear()):this.getResult(this.dateToday.getDate(),this.dateToday.getMonth()+1,this.dateToday.getFullYear()),this.getInfoThongKe(),this.edbPrice.initInfo(),this.edbTotalBet.initInfo(),cc.log("music=="+u.Windown.getLocalStorage("music")),"on"==u.Windown.getLocalStorage("music")?this.bgAudio.play():this.bgAudio.pause()},t.prototype.sendJoinRoom=function(){u.Windown.UIManager.showLoading();var e=this.sfs.roomManager.getRoomListFromGroup("LD").find(function(e){return cc.log("value"+e.getVariable("cj").value),e.containsVariable("cj")&&e.getVariable("cj").value});e?(this.roomSFS=e,e.isJoined?this.sendGetInfoRoom():(cc.log("nhay vao send join rom: "+e),this.sfs.send(new SFS2X.JoinRoomRequest(e,null,-1)))):this.scheduleOnce(this.sendJoinRoom,3)},t.prototype.sendGetInfoRoom=function(){},t.prototype.sendRequest=function(e,t){h.ConectManager.getIns().sendRequest(e,t,this.roomSFS)},t.prototype.onDisconnect=function(){cc.log("disconnect"),cc.director.loadScene("main"),this.clear()},t.prototype.userExitRoom=function(e){if("LD"==e.room.groupId&&(cc.log("user exit room LODE"),e.user.isItMe))return this.clear(),void cc.director.loadScene("main")},t.prototype.clear=function(){cc.systemEvent.targetOff(this),this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),this.objFinish&&(this.objFinish.get("agWin"),u.Windown.MoneyUser.removeDelay(this.gameType)),u.Windown.MoneyUser.endGameMOney(this.gameType)},t.prototype.extResponse=function(e){var t=e.cmd,o=e.params;switch(t){case c.REQUEST_CODE.InfoRoomLoDe:this.handleInfoRoom(o);break;case c.REQUEST_CODE.BetLoDe:this.handleBet(o);break;case c.REQUEST_CODE.LichsuLoDe:this.popupLichSu.setInfo(o);break;default:cc.log("Khong vao Case Nao ca:"+t+"\n",u.Windown.SFSObjToJson(o))}},t.prototype.handleBet=function(e){cc.log("handleBet:"+u.Windown.SFSObjToJson(e)),e.containsKey("status")&&e.getBool("status")?(u.Windown.Dialog.showDialog("\u0110\u1eb7t c\u01b0\u1ee3c th\xe0nh c\xf4ng!"),this.lbBalance.string=u.Windown.formatNumber(e.getLong("ag"))):e.containsKey("errorMessage")&&""!=e.getUtfString("errorMessage")&&u.Windown.Dialog.showDialog(e.getUtfString("errorMessage"))},t.prototype.handleInfoRoom=function(e){this.rateDe=e.getInt("rateDe"),this.rateLo=e.getInt("rateLo"),this.rate3Cang=e.getInt("rate3Cang"),this.rateLoXien2=e.getInt("rateLoXien2"),this.rateLoXien3=e.getInt("rateLoXien3"),this.rateLoXien4=e.getInt("rateLoXien4"),this.priceDe=e.getInt("priceDe"),this.priceLo=e.getInt("priceLo"),this.price3Cang=e.getInt("price3Cang"),this.priceLoXien2=e.getInt("priceLoXien2"),this.priceLoXien3=e.getInt("priceLoXien3"),this.priceLoXien4=e.getInt("priceLoXien4")},t.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),u.Windown.UIManager.hideLoading(),u.Windown.Dialog.showLog(l.TextDefine.ERR_JOIN_ROOM)},t.prototype.onJoinRoom=function(e){var t=e.room;cc.log("onJoinRoom :",e),"LD"==t.groupId&&(cc.log("r\xf4m lak "+t.id),u.Windown.UIManager.hideLoading())},t.prototype.setInfoView=function(){this.lbBalance.string=u.Windown.formatNumber(u.Windown.User.userAg),this.dateToday.getHours()<18||18==this.dateToday.getHours()&&this.dateToday.getMinutes()<30?this.lbToday.string=this.dateToday.getDate()+"-"+(this.dateToday.getMonth()+1):this.lbToday.string=this.dateToday.getDate()+1+"-"+(this.dateToday.getMonth()+1)},t.prototype.getInfoThongKe=function(){var e=this,t="https://api.vgjt.info/ld3m/lotte/stats?city_id=1&size="+this.sizeTK;d.default.get(t,{},function(t,o){null!=t?cc.log("Respone Errr =",t):(e.dataTK=o,e.setInfoTK())})},t.prototype.setInfoTK=function(){for(var e=this.dataTK[this.typeTK],t=this.nodeThongKe.getChildByName("NumberContainer"),o=0,n=e.length;o<n;o++)t.children[o].getChildByName("iconChange").active=!1,t.children[o].getChildByName("lbChange").active=!1,t.children[o].getChildByName("lbNum").getComponent(cc.Label).string=e[o].number,t.children[o].getChildByName("lbTurn").getComponent(cc.Label).string=e[o].count+" l\u1ea7n","not"!=this.typeTK&&(t.children[o].getChildByName("iconChange").active=!0,t.children[o].getChildByName("lbChange").active=!0,t.children[o].getChildByName("lbChange").color="less"==this.typeTK?cc.Color.RED:cc.Color.GREEN,t.children[o].getChildByName("iconChange").getComponent(cc.Sprite).spriteFrame="less"==this.typeTK?this.sprUpDown[1]:this.sprUpDown[0],t.children[o].getChildByName("lbChange").getComponent(cc.Label).string=e[o].change)},t.prototype.getResult=function(e,t,o){var n,i=this,r="https://api.vgjt.info/ld3m/lotte/results?date=%s&city=1";n=e+"-"+t+"-"+o,this.lbDateCurrentResult.string=(e<10?"0"+e:e)+"-"+(t+1<10?"0"+t:t),r=cc.js.formatStr(r,n),d.default.get(r,{},function(e,t){if(null!=e)cc.log("Respone Errr =",e);else if(cc.log("Respone Result =",t),t.success){var o=t.rows;if(null!=o.result){i.result=o.result,i.lbGiaiDB.string=o.result.special,i.lbGiaiNhat.string=o.result.prize1;var n=o.result.prize2.split("-");i.lbGiai2.forEach(function(e,t){e.string=n[t]});var r=o.result.prize3.split("-");i.lbGiai3.forEach(function(e,t){e.string=r[t]});var a=o.result.prize4.split("-");i.lbGiai4.forEach(function(e,t){e.string=a[t]});var s=o.result.prize5.split("-");i.lbGiai5.forEach(function(e,t){e.string=s[t]});var c=o.result.prize6.split("-");i.lbGiai6.forEach(function(e,t){e.string=c[t]});var l=o.result.prize7.split("-");i.lbGiai7.forEach(function(e,t){e.string=l[t]})}else i.lbGiaiDB.string="",i.lbGiaiNhat.string="",i.lbGiai2.forEach(function(e){e.string=""}),i.lbGiai3.forEach(function(e){e.string=""}),i.lbGiai4.forEach(function(e){e.string=""}),i.lbGiai5.forEach(function(e){e.string=""}),i.lbGiai6.forEach(function(e){e.string=""}),i.lbGiai7.forEach(function(e){e.string=""})}})},t.prototype.onClickChangeTypeResult=function(e,t){var o=this,n=0;"full"==t?n=0:"two"==t?n=2:"three"==t&&(n=3),this.lbGiaiDB.string=this.setResultLabel(this.result.special,0==n?this.result.special.length:n),this.lbGiaiNhat.string=this.setResultLabel(this.result.prize1,0==n?this.result.special.length:n);var i=this.result.prize2.split("-");this.lbGiai2.forEach(function(e,t){e.string=o.setResultLabel(i[t],0==n?i[t].length:n)});var r=this.result.prize3.split("-");this.lbGiai3.forEach(function(e,t){e.string=o.setResultLabel(r[t],0==n?r[t].length:n)});var a=this.result.prize4.split("-");this.lbGiai4.forEach(function(e,t){e.string=o.setResultLabel(a[t],0==n?a[t].length:n)});var s=this.result.prize5.split("-");this.lbGiai5.forEach(function(e,t){e.string=o.setResultLabel(s[t],0==n?s[t].length:n)});var c=this.result.prize6.split("-");this.lbGiai6.forEach(function(e,n){e.string="three"==t||"full"==t?c[n]:o.setResultLabel(c[n],2)});var l=this.result.prize7.split("-");this.lbGiai7.forEach(function(e,t){e.string=l[t]})},t.prototype.setResultLabel=function(e,t){return(e=e.trim()).substring(e.length-t,e.length)},t.prototype.onClickTabTypeBet=function(e,t){this.nodeBetDe.active=this.nodeBetLo.active=this.nodeBaCang.active=this.nodeLoXien.active=!1;var o="<color=#FFFFFF>Thanh to\xe1n </c><color=#FFEE2E>1</color><color=#FFFFFF> l\xf4. \u0110\u1eb7t </color><color=#FFEE2E>1</color><color=#FFFFFF> \u0103n </color><color=#FFEE2E>%s</color>";switch(t){case"De":this.nodeBetDe.active=!0,this.typeBet=v.De,this.edbNumberBet=this.nodeBetDe.getChildByName("edbChooseNumber").getComponent(cc.EditBox);break;case"Lo":this.nodeBetLo.active=!0,this.typeBet=v.Lo,this.edbNumberBet=this.nodeBetLo.getChildByName("edbChooseNumber").getComponent(cc.EditBox);break;case"BaCang":this.nodeBaCang.active=!0,this.typeBet=v.BaCang,this.edbNumberBet=this.nodeBaCang.getChildByName("edbChooseNumber").getComponent(cc.EditBox);break;case"LoXien":this.nodeLoXien.active=!0,this.typeBet=v.LoXien2,cc.find("ButtonContainer/tgleXien2",this.nodeLoXien).getComponent(cc.Toggle).isChecked=!0,this.nodeLoXien.getChildByName("lbRate").getComponent(cc.RichText).string=cc.js.formatStr(o,this.rateLoXien2),this.edbNumberBet=this.nodeLoXien.getChildByName("edbChooseNumber").getComponent(cc.EditBox);break;case"LoXien2":this.nodeLoXien.active=!0,this.typeBet=v.LoXien2,this.nodeLoXien.getChildByName("lbRate").getComponent(cc.RichText).string=cc.js.formatStr(o,this.rateLoXien2),this.edbNumberBet=this.nodeLoXien.getChildByName("edbChooseNumber").getComponent(cc.EditBox);break;case"LoXien3":this.nodeLoXien.active=!0,this.typeBet=v.LoXien3,this.nodeLoXien.getChildByName("lbRate").getComponent(cc.RichText).string=cc.js.formatStr(o,this.rateLoXien3),this.edbNumberBet=this.nodeLoXien.getChildByName("edbChooseNumber").getComponent(cc.EditBox);break;case"LoXien4":this.nodeLoXien.active=!0,this.typeBet=v.LoXien4,this.nodeLoXien.getChildByName("lbRate").getComponent(cc.RichText).string=cc.js.formatStr(o,this.rateLoXien4),this.edbNumberBet=this.nodeLoXien.getChildByName("edbChooseNumber").getComponent(cc.EditBox)}this.edbPrice.initInfo(),this.edbTotalBet.initInfo()},t.prototype.onClickTabKQTK=function(e,t){this.nodeThongKe.active="TK"==t,this.nodeResult.active="KQ"==t},t.prototype.onClickChangeTypeTK=function(e,t){this.typeTK=t,this.setInfoTK()},t.prototype.onClickChangeSizeTK=function(e,t){this.sizeTK=parseInt(t),this.getInfoThongKe(),this.tglChangeSizeTK.isChecked=!1,this.nodeThongKe.getChildByName("lbSoKy").getComponent(cc.Label).string=this.sizeTK+" K\u1ef3"},t.prototype.openDatePicker=function(){var e=this;this.datePickerResult.node.active?cc.tween(this.datePickerResult.node.getChildByName("Bkg")).to(.3,{scaleY:0},{easing:cc.easing.backIn}).call(function(){e.datePickerResult.node.active=!1}).start():(this.datePickerResult.node.active=!0,cc.tween(this.datePickerResult.node.getChildByName("Bkg")).set({scaleY:0}).to(.3,{scaleY:1},{easing:cc.easing.backOut}).start())},t.prototype.onClickDatCuoc=function(){var e=this,t=this.edbNumberBet.getComponent(g.default).listNumber;if(0!=t.length){var o=1e3*this.edbTotalBet.getNumberValue(),n=1e3*this.edbPrice.getNumberValue();if(u.Windown.User.userAg<o)u.Windown.UIManager.showAlertMini("S\u1ed1 d\u01b0 kh\xf4ng \u0111\u1ee7. Vui l\xf2ng n\u1ea1p th\xeam!");else if(this.typeBet==v.LoXien2&&t.length<2||this.typeBet==v.LoXien3&&t.length<3||this.typeBet==v.LoXien4&&t.length<4)u.Windown.UIManager.showAlertMini("Ch\u01b0a \u0111\u1ee7 s\u1ed1 \u0111\u1ec3 \u0111\u1eb7t c\u01b0\u1ee3c l\xf4 xi\xean!");else{this.popupConfirm.node.active=!0;var i=this.lbToday.string+"-"+this.dateToday.getFullYear();cc.log("totalWinPerNum=="+this.totalWinPerNum),this.popupConfirm.setInfo(i,this.typeBet,this.edbNumberBet.string,n,o,this.totalWinPerNum,function(){var n=h.ConectManager.getIns().getSFSObj(),i=e.getTypeBetRequest();n.putInt("type",i),n.putLong("tiencuoc",o),n.putIntArray("danhsachsocuoc",t),e.sendRequest(c.REQUEST_CODE.BetLoDe,n)})}}else u.Windown.UIManager.showAlertMini("Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111\u1ec1!")},t.prototype.onConfirmBet=function(){},t.prototype.getTypeBetRequest=function(){var e=0;switch(this.typeBet){case v.De:e=1;break;case v.Lo:e=0;break;case v.BaCang:e=2;break;case v.LoXien2:case v.LoXien3:case v.LoXien4:e=3}return e},t.prototype.onShowSetting=function(){this.nodeSetting.active=!0,cc.tween(this.nodeSetting).set({x:-cc.winSize.width/2-this.nodeSetting.width}).to(.2,{x:-cc.winSize.width/2},{easing:cc.easing.sineIn}).start()},t.prototype.onHideSetting=function(){cc.tween(this.nodeSetting).to(.2,{x:-cc.winSize.width/2-this.nodeSetting.width},{easing:cc.easing.sineOut}).start()},t.prototype.onClickBack=function(){try{h.ConectManager.getIns().sendLeaveRoom(this.roomSFS),cc.log("Send Leave Room")}catch(e){this.clear(),cc.director.loadScene("main")}},t.prototype.onClickLichSu=function(){cc.isValid(this.popupLichSu)&&(this.popupLichSu.node.active=!0,this.popupLichSu.show())},r([m(cc.AudioSource)],t.prototype,"bgAudio",void 0),r([m(cc.Node)],t.prototype,"nodeBetLo",void 0),r([m(cc.Node)],t.prototype,"nodeBetDe",void 0),r([m(cc.Node)],t.prototype,"nodeBaCang",void 0),r([m(cc.Node)],t.prototype,"nodeLoXien",void 0),r([m(cc.Node)],t.prototype,"nodeResult",void 0),r([m(cc.Node)],t.prototype,"nodeThongKe",void 0),r([m([cc.Node])],t.prototype,"listNodeNumTK",void 0),r([m(cc.Node)],t.prototype,"nodeSetting",void 0),r([m(cc.Toggle)],t.prototype,"tglChangeSizeTK",void 0),r([m(a.default)],t.prototype,"datePickerResult",void 0),r([m(b.default)],t.prototype,"popupLichSu",void 0),r([m(g.default)],t.prototype,"edbPrice",void 0),r([m(g.default)],t.prototype,"edbTotalBet",void 0),r([m(f.default)],t.prototype,"popupConfirm",void 0),r([m(cc.EditBox)],t.prototype,"edbNumberBet",void 0),r([m(cc.Label)],t.prototype,"lbRemainTime",void 0),r([m(cc.Label)],t.prototype,"lbBalance",void 0),r([m(cc.Label)],t.prototype,"lbToday",void 0),r([m(cc.Label)],t.prototype,"lbPriceBet",void 0),r([m(cc.Label)],t.prototype,"lbTotalBet",void 0),r([m(cc.Label)],t.prototype,"lbTotalWin",void 0),r([m(cc.Label)],t.prototype,"lbDateCurrentResult",void 0),r([m(cc.Label)],t.prototype,"lbGiaiDB",void 0),r([m(cc.Label)],t.prototype,"lbGiaiNhat",void 0),r([m([cc.Label])],t.prototype,"lbGiai2",void 0),r([m([cc.Label])],t.prototype,"lbGiai3",void 0),r([m([cc.Label])],t.prototype,"lbGiai4",void 0),r([m([cc.Label])],t.prototype,"lbGiai5",void 0),r([m([cc.Label])],t.prototype,"lbGiai6",void 0),r([m([cc.Label])],t.prototype,"lbGiai7",void 0),r([m([cc.SpriteFrame])],t.prototype,"sprUpDown",void 0),r([L],t)}(cc.Component);o.default=D,cc._RF.pop()},{"../../../DevDatePicker/DevDatePicker":void 0,"../../../Scritps/DefineTs/EVENT_MANAGER":void 0,"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/DefineTs/TextDefine":void 0,"../../../Scritps/Game/GAME_TYPE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Network/Http":void 0,"../../../Scritps/Windown":void 0,"./EdbLoDeController":"EdbLoDeController","./LichSuLoDe":"LichSuLoDe","./LoDeConfirmPopup":"LoDeConfirmPopup"}]},{},["EdbLoDeController","ItemLichSuLoDe","LichSuLoDe","LoDeConfirmPopup","LoDeController","LoDeView"]);