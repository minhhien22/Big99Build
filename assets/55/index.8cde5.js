window.__require=function t(e,n,o){function i(s,c){if(!n[s]){if(!e[s]){var l=s.split("/");if(l=l[l.length-1],!e[l]){var a="function"==typeof __require&&__require;if(!c&&a)return a(l,!0);if(r)return r(l,!0);throw new Error("Cannot find module '"+s+"'")}s=l}var p=n[s]={exports:{}};e[s][0].call(p.exports,function(t){return i(e[s][1][t]||t)},p,p.exports,t,e,n,o)}return n[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<o.length;s++)i(o[s]);return i}({RongAssets:[function(t,e,n){"use strict";cc._RF.push(e,"9cb073xd1NDkKt2yu0Vi4/y","RongAssets");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./RongSymbol"),c=cc._decorator,l=c.ccclass,a=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbol=null,e.symbolAtlas=null,e.symbolBlurAtlas=null,e.paylineAtlas=null,e.nodeNFS=null,e.symbolScatter=null,e.evenBall=null,e.assetParent=null,e.listSkeDataSymbol=[],e.skeDataBg=[],e}var n;return i(e,t),n=e,e.prototype.onLoad=function(){n.instance=this},e.prototype.start=function(){},e.prototype.onDestroy=function(){n.instance=null},e.prototype.getSkeData=function(t){return t<4?this.listSkeDataSymbol[0]:t<11?this.listSkeDataSymbol[1]:this.listSkeDataSymbol[2]},e.instance=null,r([a(s.default)],e.prototype,"symbol",void 0),r([a(cc.SpriteAtlas)],e.prototype,"symbolAtlas",void 0),r([a(cc.SpriteAtlas)],e.prototype,"symbolBlurAtlas",void 0),r([a(cc.SpriteAtlas)],e.prototype,"paylineAtlas",void 0),r([a(cc.Node)],e.prototype,"nodeNFS",void 0),r([a(cc.Node)],e.prototype,"symbolScatter",void 0),r([a(cc.Node)],e.prototype,"evenBall",void 0),r([a(cc.Node)],e.prototype,"assetParent",void 0),r([a([sp.SkeletonData])],e.prototype,"listSkeDataSymbol",void 0),r([a([sp.SkeletonData])],e.prototype,"skeDataBg",void 0),n=r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"./RongSymbol":"RongSymbol"}],RongAudio:[function(t,e,n){"use strict";cc._RF.push(e,"21b532lxgpHEpqXUC6CllHM","RongAudio");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Parent/AudioManager"),c=cc._decorator,l=c.ccclass,a=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click=null,e.fsSpin=null,e.bgm_fs=null,e.SE_BigWin=null,e.SE_FreeSpinEnd=null,e.SE_ReelSpeedUp=null,e.SE_Scoring_01=null,e.SE_ScoringEnd=null,e.SE_Base_Hit=[],e}return i(e,t),e.prototype.start=function(){},e.prototype.playClick=function(){this.playEffect(this.click)},e.prototype.playMusic=function(){this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.6))},e.prototype.playIndexTakeLine=function(){},e.prototype.playSmalWin=function(){},e.prototype.playBkgfs=function(){this.stopMusic(),this.playEffect(this.fsSpin),this.playEffect(this.bgm_fs,.6,!0)},e.prototype.stopBkgFs=function(){this.stopEffect(this.bgm_fs,!0),this.playMusic()},r([a(cc.AudioClip)],e.prototype,"click",void 0),r([a(cc.AudioClip)],e.prototype,"fsSpin",void 0),r([a(cc.AudioClip)],e.prototype,"bgm_fs",void 0),r([a(cc.AudioClip)],e.prototype,"SE_BigWin",void 0),r([a(cc.AudioClip)],e.prototype,"SE_FreeSpinEnd",void 0),r([a(cc.AudioClip)],e.prototype,"SE_ReelSpeedUp",void 0),r([a(cc.AudioClip)],e.prototype,"SE_Scoring_01",void 0),r([a(cc.AudioClip)],e.prototype,"SE_ScoringEnd",void 0),r([a([cc.AudioClip])],e.prototype,"SE_Base_Hit",void 0),r([l],e)}(s.default);n.default=p,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":void 0}],RongCollum:[function(t,e,n){"use strict";cc._RF.push(e,"54765tQUT9GMIUowe9y9MUk","RongCollum");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{l(o.next(t))}catch(e){r(e)}}function c(t){try{l(o.throw(t))}catch(e){r(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}l((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var l=t("../../../Scritps/Windown"),a=t("./RongSymbol"),p=t("./RongView"),u=cc._decorator,h=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.collumIndex=0,e.numberSymbol=4,e.listSymbols=[],e.RongView=null,e.symbolContainer=null,e.initPos=cc.v2(0,0),e.stepMove=148,e.positionReset=289,e.isStop=!1,e.listIDResult=[],e.spineNFS=null,e.isNeerSpin=!1,e.isChangeSpeedNFS=!1,e.speedNFS=.05,e.nodeNFS=null,e.resolveStop=null,e.isSetDarkForNFS=!1,e}return i(e,t),e.prototype.onLoad=function(){for(var t=0;t<this.numberSymbol;t++){var e=cc.instantiate(this.RongView.AssetsRong.symbol.node).getComponent(a.default);this.listSymbols.push(e),this.symbolContainer.addChild(e.node),e.node.setPosition(cc.v2(0,this.initPos.y-t*this.stepMove)),e.node.active=!0,e.collumCtrl=this,e.setRandomSprite(!1),e.indexSymbol=t}},e.prototype.update=function(){},e.prototype.start=function(){},e.prototype.spinSymbol=function(){var t=this;this.listSymbols.forEach(function(e){t.RongView.isTurbo?e.speed=.03:e.speed=.06,e.spin()})},e.prototype.stopCollumCompleted=function(){this.listSymbols.sort(function(t,e){return t.indexSymbol-e.indexSymbol}),4==this.collumIndex&&(this.RongView.activeAllSymbol(),this.RongView.allCollumStopCompleted()),null!=this.nodeNFS&&(this.nodeNFS.active=!1),null!=this.resolveStop&&(this.resolveStop(),this.resolveStop=null)},e.prototype.activeAllSymbol=function(){this.listSymbols.forEach(function(t){t.sprite.node.color=cc.Color.WHITE})},e.prototype.prepareStop=function(){this.hideNFS()},e.prototype.Stop=function(t){return s(this,void 0,void 0,function(){var e=this;return c(this,function(){return this.listIDResult=t,[2,new Promise(function(t){e.isNeerSpin?(e.isChangeSpeedNFS=!0,e.showNFS(),e.RongView.setDarkForNFS(e),e.scheduleOnce(function(){e.isChangeSpeedNFS=!1,e.isStop=!0,e.resolveStop=t},3.5),e.slowDownSpeed()):(e.isStop=!0,e.scheduleOnce(function(){t(null),l.Windown.Rong.audio.playEffect(l.Windown.Rong.audio.SE_Base_Hit[e.collumIndex])},.2))})]})})},e.prototype.showScatter=function(){for(var t=0;t<this.listSymbols.length;t++)12==this.listSymbols[t].id&&this.listSymbols[t].showScatter()},e.prototype.slowDownSpeed=function(t){var e=this;void 0===t&&(t=.5),l.Windown.Rong.audio.playEffect(l.Windown.Rong.audio.SE_ReelSpeedUp);var n={a:.03};cc.tween(n).to(3.5,{a:t},{progress:function(t,n,o,i){e.speedNFS=t+(n-t)*i},easing:cc.easing.quadIn}).start()},e.prototype.showSymbolWin=function(t){this.listSymbols[t].showEffectWin()},e.prototype.getSpeedNFS=function(){return this.speedNFS},e.prototype.showNFS=function(){null==this.nodeNFS&&(this.nodeNFS=cc.instantiate(l.Windown.Rong.AssetsRong.nodeNFS),this.nodeNFS.parent=this.node,this.nodeNFS.x=0,this.nodeNFS.y=0),this.nodeNFS.active=!0},e.prototype.hideNFS=function(){this.spineNFS&&(this.spineNFS.active=!1)},e.prototype.hideAllSymbol=function(t){void 0===t&&(t=-1),this.listSymbols.forEach(function(e){e.sprite.node.color=e.id!=t?cc.Color.GRAY:cc.Color.WHITE,e.spine.node.color=e.id!=t?cc.Color.GRAY:cc.Color.WHITE,e.hideSpine()})},e.prototype.Reset=function(){this.isStop=!1,this.listIDResult=[],this.listSymbols.forEach(function(t){t.Reset()}),this.isNeerSpin=!1,this.speedNFS=.05,this.isChangeSpeedNFS=!1,this.isSetDarkForNFS=!1},r([d],e.prototype,"collumIndex",void 0),r([d],e.prototype,"numberSymbol",void 0),r([d([a.default])],e.prototype,"listSymbols",void 0),r([d(p.default)],e.prototype,"RongView",void 0),r([d(cc.Node)],e.prototype,"symbolContainer",void 0),r([d],e.prototype,"initPos",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../Scritps/Windown":void 0,"./RongSymbol":"RongSymbol","./RongView":"RongView"}],RongEffect:[function(t,e,n){"use strict";cc._RF.push(e,"f52e9X6NglEao6mVn1ZUFJP","RongEffect");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{l(o.next(t))}catch(e){r(e)}}function c(t){try{l(o.throw(t))}catch(e){r(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}l((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var l=t("../../../Scritps/Other/LbMonoSpace"),a=t("../../../Scritps/Util"),p=t("../../../Scritps/Windown"),u=cc._decorator,h=u.ccclass,d=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.effectContainer=null,e.animBigWin=null,e.lbBgWin=null,e.sprBigWin=null,e.listSfWin=[],e.btnConfirm=null,e.btnConfirmFS=null,e.btnCollectFS=null,e.lbTotalFreespin=null,e.lbTotalWinFS=null,e.freeSpin=null,e.animFreeSpin=null,e.animEndFreeSpin=null,e.animChangeScene=null,e.animDongXu=null,e.nodeStartFree=null,e.nodeEndFree=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.showBigWin=function(t){return s(this,void 0,void 0,function(){var e=this;return c(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i=this;return c(this,function(){try{this.node.opacity=255,this.effectContainer.active=!0,this.animBigWin.node.parent.active=!0,this.freeSpin.active=!1,this.lbBgWin.resetLb(),this.lbBgWin.time=3,this.lbBgWin.setMoney(t,!0),e=t/p.Windown.Rong.getCurrentBet(),o="bigwin",e<30?this.sprBigWin.spriteFrame=this.listSfWin[0]:e<50?(o="megawin",this.sprBigWin.spriteFrame=this.listSfWin[1]):(o="supermegawin",this.sprBigWin.spriteFrame=this.listSfWin[2]),this.animBigWin.setAnimation(0,"start_"+o,!1),this.animBigWin.addAnimation(0,"loop_"+o,!0),cc.tween(this.lbBgWin.node).set({y:120,scale:0}).delay(.75).to(.5,{scale:1.7,y:-6},{easing:"backOut"}).start(),this.scheduleOnce(function(){i.animBigWin.setAnimation(0,"end_"+o,!1),cc.tween(i.lbBgWin.node).to(.5,{scale:0},{easing:"backIn"}).start(),i.animBigWin.setCompleteListener(function(){i.animBigWin.node.parent.active=!1,i.effectContainer.active=!1,i.animBigWin.setCompleteListener(null),n(null)})},4)}catch(r){a.Util.ThrowErrProsime(r)}return[2]})})})]})})},e.prototype.showStartFS=function(t){return s(this,void 0,void 0,function(){var e=this;return c(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e=this;return c(this,function(){try{this.freeSpin.opacity=255,this.effectContainer.active=!0,this.freeSpin.active=!0,this.nodeStartFree.active=!0,this.animFreeSpin.setCompleteListener(null),this.animFreeSpin.setAnimation(0,"start",!1),this.animFreeSpin.addAnimation(0,"loop",!0),this.lbTotalFreespin.resetLb(),this.lbTotalFreespin.callBack=function(){e.btnConfirmFS.node.active=!0},this.lbTotalFreespin.string=t+"",this.btnConfirmFS.node.off("click"),this.btnConfirmFS.node.on("click",function(){e.animChangeScene.node.active=!0,e.animChangeScene.setAnimation(0,"light",!1),e.animDongXu.node.active=!0,e.animDongXu.setAnimation(0,"dong xu",!1),cc.tween(e.freeSpin).delay(1.4).to(.1,{opacity:0}).call(function(){n(null),e.animBigWin.node.parent.active=!1,e.freeSpin.active=!1,e.animChangeScene.node.active=!1,e.effectContainer.active=!1,e.animDongXu.node.active=!1,e.nodeStartFree.active=!1}).start()})}catch(o){a.Util.ThrowErrProsime(o)}return[2]})})})]})})},e.prototype.showEndFS=function(t){return s(this,void 0,void 0,function(){var e=this;return c(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e=this;return c(this,function(){try{this.freeSpin.opacity=255,this.effectContainer.active=!0,this.freeSpin.active=!0,this.nodeEndFree.active=!0,this.animEndFreeSpin.setCompleteListener(null),this.animEndFreeSpin.setAnimation(0,"loop",!0),this.btnCollectFS.node.active=!1,this.lbTotalWinFS.callBack=function(){e.btnCollectFS.node.active=!0},this.lbTotalWinFS.time=3,this.lbTotalWinFS.setMoney(t),this.btnCollectFS.node.off("click"),this.btnCollectFS.node.on("click",function(){e.animChangeScene.node.active=!0,e.animChangeScene.setAnimation(0,"light",!1),e.animDongXu.node.active=!0,e.animDongXu.setAnimation(0,"dong xu",!1),cc.tween(e.freeSpin).delay(1.4).to(.1,{opacity:0}).call(function(){n(null),e.animBigWin.node.parent.active=!1,e.freeSpin.active=!1,e.animChangeScene.node.active=!1,e.effectContainer.active=!1,e.animDongXu.node.active=!1,e.nodeEndFree.active=!1}).start()})}catch(o){a.Util.ThrowErrProsime(o)}return[2]})})})]})})},r([d(cc.Node)],e.prototype,"effectContainer",void 0),r([d(sp.Skeleton)],e.prototype,"animBigWin",void 0),r([d(l.default)],e.prototype,"lbBgWin",void 0),r([d(cc.Sprite)],e.prototype,"sprBigWin",void 0),r([d([cc.SpriteFrame])],e.prototype,"listSfWin",void 0),r([d(cc.Button)],e.prototype,"btnConfirm",void 0),r([d(cc.Button)],e.prototype,"btnConfirmFS",void 0),r([d(cc.Button)],e.prototype,"btnCollectFS",void 0),r([d(l.default)],e.prototype,"lbTotalFreespin",void 0),r([d(l.default)],e.prototype,"lbTotalWinFS",void 0),r([d(cc.Node)],e.prototype,"freeSpin",void 0),r([d(sp.Skeleton)],e.prototype,"animFreeSpin",void 0),r([d(sp.Skeleton)],e.prototype,"animEndFreeSpin",void 0),r([d(sp.Skeleton)],e.prototype,"animChangeScene",void 0),r([d(sp.Skeleton)],e.prototype,"animDongXu",void 0),r([d(cc.Node)],e.prototype,"nodeStartFree",void 0),r([d(cc.Node)],e.prototype,"nodeEndFree",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0}],RongHistoryDetail:[function(t,e,n){"use strict";cc._RF.push(e,"a1428RG26lA9KvuzhAUhV9c","RongHistoryDetail");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,a=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTitle=null,e.lbTime=null,e.lbBet=null,e.lbWin=null,e.lbMNUser=null,e.parentItem=null,e.itemPayline=null,e.scrItemPayline=null,e.listItem=[],e.isFreeSpin=!1,e.payLine=[],e}return i(e,t),e.prototype.onLoad=function(){for(var t=0;t<this.parentItem.childrenCount;t++){var e=this.parentItem.children[t];this.listItem.push(e.children)}this.payLine=s.Windown.Rong.payLine},e.prototype.show=function(t){this.node.active=!0,this.node.x=721.812,cc.Tween.stopAllByTarget(this.node),this.node.opacity=0,cc.tween(this.node).to(.2,{x:0,opacity:255},{easing:cc.easing.quadIn}).start();var e=t.get("date"),n=t.get("infolog"),o=JSON.parse(n);this.isFreeSpin=o.freeSpin,this.lbTitle.string=this.isFreeSpin?"QUAY MI\u1ec4N PH\xcd":"QUAY TH\u01af\u1edcNG",this.lbTime.string=s.Windown.formatDate(new Date(e),"dd/MM HH:mm:ss");var i=o.isScarter,r=JSON.parse(o.views),c=0;r.forEach(function(t){t.includes(12)&&c++});for(var l=0;l<5;l++)for(var a=0;a<3;a++){var p=r[l][a];this.listItem[l][a].getComponent(cc.Sprite).spriteFrame=s.Windown.Rong.AssetsRong.symbolAtlas.getSpriteFrame(p.toString()),this.listItem[l][a].color=cc.Color.GRAY,!i&&2!=c||12!=p||(this.listItem[l][a].color=cc.Color.WHITE)}this.lbBet.string=s.Windown.formatNumber(20*o.agBet),this.lbWin.string=s.Windown.formatNumber(o.agWin),this.lbMNUser.string=s.Windown.formatNumber(o.agUser),this.setLineAn(o.listLineWin,r)},e.prototype.onClickClose=function(){var t=this;s.Windown.Rong.audio.playClick(),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.2,{x:720,opacity:0},{easing:cc.easing.quadOut}).call(function(){t.node.active=!1}).start()},e.prototype.setLineAn=function(t){this.scrItemPayline.content.children.forEach(function(t){t.active=!1});for(var e=0,n=t.length;e<n;e++){t[e].symbol;for(var o=t[e].stack,i=s.Windown.Rong.payLine[t[e].id-1],r=0;r<o+1;r++)this.listItem[r][i[r]].color=cc.Color.WHITE;var c=this.scrItemPayline.content.children[e];cc.isValid(c)||((c=cc.instantiate(this.scrItemPayline.content.children[0])).parent=this.scrItemPayline.content),c.active=!0,c.getComponentInChildren(cc.Sprite).spriteFrame=s.Windown.Rong.AssetsRong.paylineAtlas.getSpriteFrame("line_"+t[e].id),c.getChildByName("lbWin").getComponent(cc.Label).string="W: "+s.Windown.formatMoney(t[e].agWinLine),c.getChildByName("lbIdLine").getComponent(cc.Label).string=t[e].id+""}},r([a(cc.Label)],e.prototype,"lbTitle",void 0),r([a(cc.Label)],e.prototype,"lbTime",void 0),r([a(cc.Label)],e.prototype,"lbBet",void 0),r([a(cc.Label)],e.prototype,"lbWin",void 0),r([a(cc.Label)],e.prototype,"lbMNUser",void 0),r([a(cc.Node)],e.prototype,"parentItem",void 0),r([a(cc.Node)],e.prototype,"itemPayline",void 0),r([a(cc.ScrollView)],e.prototype,"scrItemPayline",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],RongHistory:[function(t,e,n){"use strict";cc._RF.push(e,"ad16aftAZNKp67MscpYyvc/","RongHistory");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),c=t("../../../Scritps/Network/ConectManager"),l=t("../../../Scritps/Popup/PageData/PageData"),a=t("../../../Scritps/Windown"),p=t("./RongHistoryDetail"),u=t("./RongItemHistory"),h=cc._decorator,d=h.ccclass,f=h.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.detail=null,e.listData=null,e.maxRow=11,e}return i(e,t),e.prototype.show=function(){this.node.active=!0,this.reset(),this.node.y=-1280,cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.3,{y:0},{easing:cc.easing.quadOut}).start(),c.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryInCa,null,a.Windown.Rong.roomSFS),a.Windown.UIManager.showLoading()},e.prototype.start=function(){},e.prototype.reset=function(){this.pageDate.setTotalPage(1),this.pageDate.reset(),this.resetContent()},e.prototype.resetContent=function(){for(var t=this.pageDate.content.children,e=0,n=t.length;e<n;e++)t[e].active=!1},e.prototype.responseServer=function(t){a.Windown.UIManager.hideLoading();var e=t.getSFSArray("history");this.initWithListData(e)},e.prototype.initWithListData=function(t){cc.log("history:"+a.Windown.SFSArrToJson(t)),this.pageDate.content.children;var e=t.size(),n=Math.floor(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var c=n[r];if(i<this.listData.size()){null==c&&(c=cc.instantiate(o),e.addChild(c),c.y=-(r+1)*c.height+c.height/2);var l=this.listData.getSFSObject(i);c.getComponent(u.default).initItem(l),c.active=!0,i++}else{if(!c)break;c.active=!1}}},e.prototype.onClickClose=function(){var t=this;a.Windown.Rong.audio.playClick(),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.2,{y:-1280},{easing:cc.easing.quadIn}).call(function(){t.node.active=!1}).start()},e.prototype.showDetail=function(t){this.detail.show(t)},r([f(l.default)],e.prototype,"pageDate",void 0),r([f(p.default)],e.prototype,"detail",void 0),r([d],e)}(cc.Component);n.default=S,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Popup/PageData/PageData":void 0,"../../../Scritps/Windown":void 0,"./RongHistoryDetail":"RongHistoryDetail","./RongItemHistory":"RongItemHistory"}],RongInfoBar:[function(t,e,n){"use strict";cc._RF.push(e,"36e2faMFbBJYLBizyLPGsID","RongInfoBar");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Other/LbMonoSpace"),c=t("../../../Scritps/Windown"),l=cc._decorator,a=l.ccclass,p=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTotalWin=null,e.lbInfo=null,e.spineTake=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.prepareSpin=function(){},e.prototype.updateTotalWin=function(t){var e=this;c.Windown.Rong.audio.playEffect(c.Windown.Rong.audio.SE_Scoring_01),this.lbTotalWin.resetLb(),this.lbTotalWin.time=.5,this.lbTotalWin.setMoney(t),this.lbTotalWin.callBack=function(){c.Windown.Rong.audio.stopEffect(c.Windown.Rong.audio.SE_Scoring_01),c.Windown.Rong.audio.playEffect(c.Windown.Rong.audio.SE_ScoringEnd),e.spineTake.setAnimation(0,"animation",!1)},this.lbInfo.node.active=!1,this.lbTotalWin.node.parent.active=!0},e.prototype.updateInfoText=function(t){this.lbInfo.node.active=!0,this.lbInfo.string=t,this.lbTotalWin.node.parent.active=!1},e.prototype.showOneMoreScatter=function(){},r([p(s.default)],e.prototype,"lbTotalWin",void 0),r([p(cc.Label)],e.prototype,"lbInfo",void 0),r([p(sp.Skeleton)],e.prototype,"spineTake",void 0),r([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":void 0,"../../../Scritps/Windown":void 0}],RongItemHistory:[function(t,e,n){"use strict";cc._RF.push(e,"00b37iZ5HxMhZWs62EA21ts","RongItemHistory");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,a=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTime=null,e.lbBet=null,e.lbWin=null,e.data=null,e}return i(e,t),e.prototype.initItem=function(t){try{this.data=t;var e=this.data.get("date");this.lbTime.string=s.Windown.formatDate(new Date(e),"dd/MM\nHH:mm:ss");var n=this.data.get("infolog"),o=JSON.parse(n);this.lbBet.string=s.Windown.formatNumber(20*o.agBet),this.lbWin.string=s.Windown.formatNumber(o.agWin)}catch(i){console.error(i)}},e.prototype.onClick=function(){s.Windown.Rong.audio.playClick(),s.Windown.Rong.popupLichSu.showDetail(this.data)},r([a(cc.Label)],e.prototype,"lbTime",void 0),r([a(cc.Label)],e.prototype,"lbBet",void 0),r([a(cc.Label)],e.prototype,"lbWin",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],RongSettingAuto:[function(t,e,n){"use strict";cc._RF.push(e,"f1ac6glvQJFwYOaBlMZt5bL","RongSettingAuto");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,a=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnConfirm=null,e.currentTglSession=null,e.lbLoseLitmitedValue=null,e.btnAutoContainer=null,e.listTglLoseLimit=[],e.autoSpinNumber=0,e.loseLimited=0,e.isTurbo=!1,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.onEnable=function(){null!=this.currentTglSession&&(0!=s.Windown.Rong.autoSpinRemain?(this.currentTglSession.checkEvents[0].customEventData=s.Windown.Rong.autoSpinRemain+"",this.currentTglSession.node.active=!0,this.currentTglSession.getComponentInChildren(cc.Label).string="("+s.Windown.Rong.autoSpinRemain+")",this.currentTglSession.isChecked=!0,this.currentTglSession.check()):this.currentTglSession.getComponentInChildren(cc.Label).string="(0)")},e.prototype.onClickClose=function(){var t=this;cc.tween(this.node).to(.3,{y:-cc.winSize.width/2-this.node.height/2,opacity:100},{easing:cc.easing.sineIn}).call(function(){t.node.active=!1}).start()},e.prototype.onClickSelectNumberSession=function(t,e){this.autoSpinNumber=parseInt(e),this.btnConfirm.node.color=cc.Color.WHITE,this.btnConfirm.node.color=(new cc.Color).fromHEX("#dd901e"),this.btnConfirm.interactable=!0,this.btnAutoContainer.children.forEach(function(t){t.getComponentInChildren(cc.Label).node.color=cc.Color.WHITE}),t.target.getComponentInChildren(cc.Label).node.color=(new cc.Color).fromHEX("#dd901e")},e.prototype.onClickClearSession=function(){this.autoSpinNumber=0,this.btnConfirm.interactable=!1,this.btnConfirm.node.color=cc.Color.GRAY,this.btnConfirm.node.children[0].color=cc.Color.GRAY,this.listTglLoseLimit.forEach(function(t){t.interactable=!1,t.node.color=cc.Color.GRAY,t.isChecked=!1})},e.prototype.onClickSelectLoseLimited=function(t,e){this.loseLimited=parseInt(e),cc.log("loseLimited==="+this.loseLimited)},e.prototype.onClickTurbo=function(){this.isTurbo=!this.isTurbo,s.Windown.Rong.isTurbo=this.isTurbo},e.prototype.onClickConfirm=function(){s.Windown.Rong.setAutoSpin(this.autoSpinNumber),this.onClickClose()},r([a(cc.Button)],e.prototype,"btnConfirm",void 0),r([a(cc.Toggle)],e.prototype,"currentTglSession",void 0),r([a(cc.Label)],e.prototype,"lbLoseLitmitedValue",void 0),r([a(cc.Node)],e.prototype,"btnAutoContainer",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],RongSetting:[function(t,e,n){"use strict";cc._RF.push(e,"d1424ThoE9M74NAJqlRtc/8","RongSetting");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,a=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.NodeFunction=null,e.NodeBet=null,e.spriteSound=null,e.nodeRule=null,e.scrRule=null,e.sprSoundState=[],e.soundOn=!0,e}return i(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){cc.tween(this.node).set({opacity:0}).to(.3,{opacity:255},{easing:cc.easing.sineOut}).start()},e.prototype.show=function(t){void 0===t&&(t=1);var e=1==t?this.NodeFunction:this.NodeBet,n=1==t?this.NodeBet:this.NodeFunction;e.active=!0,n.active=!1,cc.tween(e).set({y:-this.node.height/2-e.height/2}).to(.3,{y:-this.node.height/2+e.height/2},{easing:cc.easing.sineOut}).start()},e.prototype.setConfigBet=function(t){for(var e=this.NodeBet.getChildByName("TglContainer"),n=0;n<t.length;n++){var o=e.children[n].getComponent(cc.Toggle);o.checkEvents[0].customEventData=t[n]+"",o.node.getComponentInChildren(cc.Label).string=s.Windown.formatNumber(t[n])+""}},e.prototype.onClickHome=function(){s.Windown.Rong.onClickBackToLobby()},e.prototype.onClickSound=function(){this.soundOn=!this.soundOn,this.spriteSound.spriteFrame=this.sprSoundState[this.soundOn?0:1],s.Windown.Rong.audio.isActiveMusic=this.soundOn,s.Windown.Rong.audio.isActiveSound=this.soundOn},e.prototype.onClickRule=function(){this.nodeRule.active=!0,cc.Tween.stopAllByTarget(this.nodeRule),cc.tween(this.nodeRule).set({y:-1280,opacity:0}).to(.3,{y:0,opacity:255},{easing:cc.easing.quadIn}).start(),this.NodeFunction.active=!1},e.prototype.onHideRule=function(){var t=this;this.NodeFunction.active=!0,cc.Tween.stopAllByTarget(this.nodeRule),cc.tween(this.nodeRule).to(.2,{y:-1280},{easing:cc.easing.quadOut}).call(function(){t.nodeRule.active=!1}).start(),this.scrRule.scrollToTop()},e.prototype.onHideSetting=function(){var t=this;cc.tween(this.node).to(.1,{opacity:0},{easing:cc.easing.sineIn}).call(function(){t.node.active=!1}).start()},e.prototype.onClickHistory=function(){s.Windown.Rong.audio.playClick(),s.Windown.Rong.onShowPopupHistory()},e.prototype.onClickSelectBet=function(t,e){s.Windown.Rong.setBetValue(parseInt(e))},r([a(cc.Node)],e.prototype,"NodeFunction",void 0),r([a(cc.Node)],e.prototype,"NodeBet",void 0),r([a(cc.Sprite)],e.prototype,"spriteSound",void 0),r([a(cc.Node)],e.prototype,"nodeRule",void 0),r([a(cc.ScrollView)],e.prototype,"scrRule",void 0),r([a([cc.SpriteFrame])],e.prototype,"sprSoundState",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],RongSymbol:[function(t,e,n){"use strict";cc._RF.push(e,"f6ee0fX3MtK/7NwxW4F2BqU","RongSymbol");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),c=t("./RongAssets"),l=cc._decorator,a=l.ccclass,p=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.spine=null,e.spineBg=null,e.indexSymbol=0,e.indexStop=-1,e.speed=.1,e.id=0,e.symbolAtlas=null,e.symbolBlurAtlas=null,e.collumCtrl=null,e.spriteAnim=null,e.initSpriteScale=1,e.animScatter=null,e.animWild=null,e}return i(e,t),e.prototype.update=function(){this.collumCtrl.isChangeSpeedNFS&&(this.speed=this.collumCtrl.speedNFS)},e.prototype.onLoad=function(){this.spriteAnim=this.sprite.node.getComponent(cc.Animation),this.symbolAtlas=c.default.instance.symbolAtlas,this.symbolBlurAtlas=c.default.instance.symbolBlurAtlas,this.initSpriteScale=this.sprite.node.scale},e.prototype.start=function(){},e.prototype.setSprite=function(t,e){void 0===e&&(e=!1),this.id=t,this.sprite.spriteFrame=this.symbolAtlas.getSpriteFrame(t+""),this.sprite.sizeMode=cc.Sprite.SizeMode.TRIMMED,11==this.id||12==this.id?this.setSpine(this.id):(this.sprite.node.active=!0,this.spine.node.active=!1),this.collumCtrl.isSetDarkForNFS&&12!=this.id?(this.sprite.node.color=cc.Color.GRAY,this.spine.node.color=cc.Color.GRAY):(this.sprite.node.color=cc.Color.WHITE,this.spine.node.color=cc.Color.WHITE)},e.prototype.setSpine=function(){var t=c.default.instance.getSkeData(this.id);this.sprite.node.active=!1,this.spine.skeletonData=t,this.spine.node.active=!0,this.spine.setAnimation(0,this.getSpineName(),!0)},e.prototype.getSpineName=function(){var t="";switch(this.id){case 0:t="J";break;case 1:t="Q";break;case 2:t="K";break;case 3:t="A";break;case 4:t="orange1x1";break;case 5:t="lucky1x1";break;case 6:t="phao1x1";break;case 7:t="fish1x1";break;case 9:t="drum1x1";break;case 11:t="wild1x1";break;case 12:t="scatter1x1"}return t},e.prototype.setRandomSprite=function(t){var e=s.Windown.RandomNumber(0,12);this.sprite.spriteFrame=(t?this.symbolBlurAtlas:this.symbolAtlas).getSpriteFrame(e.toString()),this.sprite.sizeMode=cc.Sprite.SizeMode.TRIMMED},e.prototype.spin=function(){var t=this,e=this.node.y-this.collumCtrl.stepMove;this.indexSymbol++,cc.tween(this.node).to(.25,{y:e},{easing:cc.easing.backIn}).call(function(){t.loopMove()}).start()},e.prototype.loopMove=function(){var t=this;this.indexSymbol>3&&(this.node.y=this.collumCtrl.positionReset,this.indexSymbol=0,this.setRandomSprite(!0)),this.indexSymbol++,cc.tween(this.node).by(this.speed,{y:-this.collumCtrl.stepMove}).call(function(){t.collumCtrl.isStop?t.stopMove():t.loopMove()}).start()},e.prototype.stopMove=function(){var t=this;if(this.indexSymbol>3)if(this.node.y=this.collumCtrl.positionReset,this.indexSymbol=0,this.collumCtrl.listIDResult.length>0){this.indexStop=this.collumCtrl.listIDResult.length;var e=this.collumCtrl.listIDResult.pop();this.setSprite(e),this.stopMove()}else{this.node.y=this.collumCtrl.positionReset+this.collumCtrl.stepMove;var n=(this.indexSymbol=0)?"backOut":null;cc.tween(this.node).to(this.speed,{y:this.node.y-this.collumCtrl.stepMove},{easing:n}).start(),this.setRandomSprite(!1)}else{n=this.indexSymbol+1==this.indexStop?"backOut":null;var o=this.indexSymbol+1==this.indexStop?3*this.speed:this.speed;this.collumCtrl.isNeerSpin&&(n=null,o=this.speed),this.indexSymbol++,cc.tween(this.node).by(o,{y:-this.collumCtrl.stepMove},{easing:n}).call(function(){t.indexSymbol!=t.indexStop?t.stopMove():3==t.indexSymbol&&t.collumCtrl.stopCollumCompleted()}).start(),3==this.indexSymbol&&this.scheduleOnce(function(){t.collumCtrl.prepareStop()},.85*o)}},e.prototype.showEffectWin=function(){this.spineBg.active=!0,this.spineBg.getComponent(sp.Skeleton).setAnimation(0,"animation",!0),8==this.id||10==this.id?(this.spine.node.active=!1,this.sprite.node.active=!0,this.sprite.node.active=!0,this.sprite.node.color=cc.Color.WHITE,this.spriteAnim.play("SymbolWin")):(this.spine.node.active=!0,this.sprite.node.active=!1,this.spine.node.color=cc.Color.WHITE,this.setSpine(this.id))},e.prototype.Reset=function(){0==this.indexSymbol&&this.setSprite(s.Windown.RandomNumber(0,9)),this.sprite.node.color=cc.Color.WHITE,this.indexStop=-1,this.spriteAnim.stop(),this.sprite.node.scale=this.initSpriteScale,this.sprite.node.active=!0,this.spine.node.active=!1,this.spineBg.active=!1},e.prototype.showScatter=function(){var t=this;this.scheduleOnce(function(){t.spineBg.active=!1},2),this.spineBg.active=!0,this.setSpine(this.id)},e.prototype.hideSpine=function(){null!=this.animScatter&&(this.animScatter.active=!1),null!=this.animWild&&(this.animWild.active=!1)},r([p(cc.Sprite)],e.prototype,"sprite",void 0),r([p(sp.Skeleton)],e.prototype,"spine",void 0),r([p(cc.Node)],e.prototype,"spineBg",void 0),r([p],e.prototype,"indexSymbol",void 0),r([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":void 0,"./RongAssets":"RongAssets"}],RongView:[function(t,e,n){"use strict";cc._RF.push(e,"b6194v7irNPgqRy9z9DjkwS","RongView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{l(o.next(t))}catch(e){r(e)}}function c(t){try{l(o.throw(t))}catch(e){r(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,c)}l((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return l([t,e])}}function l(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(c){r=[6,c],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.WIN_TYPE=n.GAME_STATE=n.SPINE_TYPE=void 0;var l,a,p,u=t("../../../Scritps/DefineTs/EVENT_MANAGER"),h=t("../../../Scritps/DefineTs/PlayerPP"),d=t("../../../Scritps/DefineTs/REQUEST_CODE"),f=t("../../../Scritps/DefineTs/TextDefine"),S=t("../../../Scritps/Game/GAME_TYPE"),y=t("../../../Scritps/Network/ConectManager"),g=t("../../../Scritps/Obs/LbMoneyChange"),m=t("../../../Scritps/Other/LbMonoSpace"),b=t("../../../Scritps/Other/MakeDelay"),v=t("../../../Scritps/Util"),R=t("../../../Scritps/Windown"),w=t("./RongAssets"),_=t("./RongAudio"),C=t("./RongCollum"),F=t("./RongEffect"),E=t("./RongHistory"),W=t("./RongInfoBar"),A=t("./RongSetting"),O=t("./RongSettingAuto"),T=cc._decorator,B=T.ccclass,N=T.property;(function(t){t[t.NORMAL=0]="NORMAL",t[t.AUTO=1]="AUTO"})(l=n.SPINE_TYPE||(n.SPINE_TYPE={})),function(t){t[t.PREPARE=0]="PREPARE",t[t.SPINNING=1]="SPINNING",t[t.SHOWING_RESULT=2]="SHOWING_RESULT",t[t.JOIN_GAME=3]="JOIN_GAME"}(a=n.GAME_STATE||(n.GAME_STATE={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.BIGWIN=1]="BIGWIN"}(p=n.WIN_TYPE||(n.WIN_TYPE={}));var I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bkgSprite=null,e.collumContainer=null,e.nodeFSLeft=null,e.nodeBottomNormal=null,e.maskEndFS=null,e.maskGetFS=null,e.baseBgSpin=null,e.listSfBGSpin=[],e.animBtnSpin=null,e.animMainBgGame=null,e.btnSpin=null,e.btnAuto=null,e.btnTurbo=null,e.btnStopAuto=null,e.btnPlusBet=null,e.btnMinusBet=null,e.lbAutoSpinRemain=null,e.lbBetValue=null,e.lbBalance=null,e.lbTotalWin=null,e.lbFSGet=null,e.lbFSRemain=null,e.lbFSTotal=null,e.lbFSTotalWin=null,e.AssetsRong=null,e.infoBar=null,e.settingView=null,e.settingAuto=null,e.effectController=null,e.popupLichSu=null,e.audio=null,e.makeDelay=null,e.listCol=[],e.listCollum=[],e.listBetValue=[],e.spinReelView=[],e.isAutoSpin=!1,e.isTurbo=!1,e.isScatter=!1,e.isFreeSpin=!1,e.isWin2Scatter=!1,e.autoSpinRemain=0,e.limitLoseValue=0,e.betValue=1e3,e.gameType=-1,e.winType=0,e.curRoomBet=100,e.curIndexRoom=0,e.totalLineBet=20,e.agWin=0,e.agUser=0,e.freeSpinLeft=0,e.currentFSTurn=0,e.totalFreeSpin=0,e.totalWinFS=0,e.limitAgUserLose=0,e.listBet=[],e.dataFinish=null,e.sfs=null,e.roomSFS=null,e.listConfigBet=[],e.listLineWin=[],e.stopShowLineCB=null,e.spinType=l.NORMAL,e.gameState=a.JOIN_GAME,e.objDelayWaitShowAgWin=null,e.payLine=[[1,1,1,1,1],[0,0,0,0,0],[2,2,2,2,2],[0,1,2,1,0],[2,1,0,1,2],[0,0,1,2,2],[2,2,1,0,0],[1,0,1,2,1],[1,2,1,0,1],[1,0,0,1,0],[1,2,2,1,2],[0,1,0,0,1],[2,1,2,2,1],[0,2,0,2,0],[2,0,2,0,2],[1,0,2,0,1],[1,2,0,2,1],[0,1,1,1,0],[2,1,1,1,2],[0,2,2,2,0]],e.indexSpinTest=0,e.indexSpin=0,e}return i(e,t),e.prototype.onLoad=function(){R.Windown.Rong=this,this.makeDelay=new b.default(this),this.gameType=S.default.Rong,this.sfs=y.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(u.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),this.setupView(),this.gameState=a.JOIN_GAME,this.sendJoinRoom(),this.agUser=R.Windown.User.userAg},e.prototype.sendJoinRoom=function(){cc.log("send creat room");try{var t=y.ConectManager.getIns().getValibleRoomName(),e=new SFS2X.RoomSettings(t),n=new SFS2X.RoomExtension("SlotInCaExtension","ext.Room.SlotInCa.SlotGameView");e.extension=n,e.isGame=!0,e.maxUsers=1,e.groupId="SlotInCa",this.sfs.send(new SFS2X.CreateRoomRequest(e,!0))}catch(o){cc.error(o),this.onDisconnect()}},e.prototype.onDestroy=function(){R.Windown.Rong=null,this.dataFinish&&(R.Windown.MoneyUser.removeDelay(this.gameType),this.dataFinish=null),R.Windown.MoneyUser.endGameMOney(this.gameType),cc.systemEvent.removeAll(this),this.roomSFS=null,this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),R.Windown.UIManager.changeRotation(),this.makeDelay.clear()},e.prototype.onDisconnect=function(){cc.log("disconnect"),R.Windown.UIManager.hideLoading(),R.Windown.UIManager.hideLoadingData(),cc.director.loadScene("main")},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(e){case d.REQUEST_CODE.SpinInCa:cc.log(R.Windown.SFSObjToJson(n)),this.handleFinish(n);break;case d.REQUEST_CODE.HistoryInCa:this.popupLichSu.responseServer(n);break;case d.REQUEST_CODE.HistoryChiTietInCa:}},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),R.Windown.UIManager.hideLoading(),R.Windown.UIManager.hideLoadingData(),R.Windown.Dialog.showLog(f.TextDefine.ERR_JOIN_ROOM),cc.director.loadScene("main")},e.prototype.onJoinRoom=function(t){var e=this,n=t.room;if("SlotInCa"==n.groupId){this.roomSFS=n,R.Windown.UIManager.hideLoadingData();var o=n.getVariable("cf").value;cc.log(o);var i=[],r=JSON.parse(o);for(var s in r){var c=Object.create(null);c.bet=parseInt(s),c.perJp=r[s].percentPot/100,i.push(c)}i.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=i,this.listConfigBet.forEach(function(t,n){n>0&&e.listBet.push(t.bet*e.totalLineBet)}),this.curRoomBet=this.listConfigBet[1].bet,this.setBetValue(this.curRoomBet*this.totalLineBet),this.lbBalance.setMoney(R.Windown.User.userAg),this.lbTotalWin.string="0"}},e.prototype.userExitRoom=function(t){cc.log("user exit room"),"SlotInCa"==t.room.groupId&&t.user.isItMe&&cc.director.loadScene("main")},e.prototype.onCreateError=function(){R.Windown.UIManager.hideLoading(),cc.director.loadScene("main"),R.Windown.Dialog.showLog(f.TextDefine.ERR_JOIN_ROOM)},e.prototype.start=function(){this.listCol=this.collumContainer.children;for(var t=0,e=this.listCol.length;t<e;t++){var n=this.listCol[t].getComponent(C.default);this.listCollum.push(n)}},e.prototype.setBetValue=function(t){this.betValue=t,this.curRoomBet=this.betValue/this.totalLineBet,this.lbBetValue.string=R.Windown.formatNumber(this.betValue)+"",cc.log("curRoomBet="+this.curRoomBet)},e.prototype.setupView=function(){var t=cc.find("Game",this.node);if(cc.sys.isMobile)t.angle=90,this.bkgSprite.angle=90,this.bkgSprite.scale=1280/720;else{var e=cc.winSize.height/1280;t.angle=0,t.scale=e,this.bkgSprite.angle=0;var n=this.bkgSprite.addComponent(cc.Widget);n.left=0,n.right=0,n.bottom=0,n.top=0}R.Windown.UIManager.changeRotation(!0)},e.prototype.onClickSpin=function(){this.audio.playClick(),this.gameState!=a.SHOWING_RESULT&&(this.infoBar.lbTotalWin.setMoneyNoTime(0),this.totalFreeSpin>0&&(this.currentFSTurn++,this.lbFSRemain.string=this.freeSpinLeft+""),this.startSpin(),this.setStateBtn(),this.effectButtonSpin(),this.sendClickSpin())},e.prototype.onClickSpinTest=function(){this.audio.playClick(),this.gameState!=a.SHOWING_RESULT&&(this.totalFreeSpin>0&&(this.currentFSTurn++,this.lbFSRemain.string=this.freeSpinLeft+""),this.startSpin(),this.setStateBtn(),this.effectButtonSpin(),this.sendClickSpinTest("[[0,4,2],[12,4,0],[3,12,8],[0,5,2],[10,2,7]]"))},e.prototype.sendClickSpinTest=function(t){this.lbBalance.setMoney(this.agUser-this.betValue);var e=y.ConectManager.getIns().getSFSObj();e.putInt("bet",this.curRoomBet),e.putUtfString("arr",t),y.ConectManager.getIns().sendRequest("testSpinInCa",e,this.roomSFS)},e.prototype.sendClickSpin=function(){this.lbBalance.setMoney(this.agUser-this.betValue);var t=y.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),y.ConectManager.getIns().sendRequest(d.REQUEST_CODE.SpinInCa,t,this.roomSFS)},e.prototype.startSpin=function(){this.autoSpinRemain>0&&this.isAutoSpin?(this.autoSpinRemain--,this.lbAutoSpinRemain.node.active=!0,this.lbAutoSpinRemain.string=this.autoSpinRemain+""):(this.autoSpinRemain=0,this.lbAutoSpinRemain.node.active=!1),this.setStateSpin(a.SPINNING),this.listCollum.forEach(function(t){t.spinSymbol()})},e.prototype.activeAllSymbol=function(){this.listCollum.forEach(function(t){t.activeAllSymbol()})},e.prototype.handleFinish=function(t){var e=this;t.containsKey(h.PlayerPP.ERR_MESSAGE)?R.Windown.Dialog.showLog(t.get(h.PlayerPP.ERR_MESSAGE)):(this.dataFinish=t,this.agWin=this.dataFinish.getLong("agWin"),this.agUser=this.dataFinish.getLong("agUser"),this.spinReelView=JSON.parse(t.get("views")),this.isWin2Scatter=this.checkWin2Scatter(),this.isScatter=t.getBool("isScarter"),this.listLineWin=JSON.parse(R.Windown.SFSArrToJson(t.get("listLineWin"))),this.isFreeSpin=t.getBool("freeSpin"),this.freeSpinLeft=t.getInt("numFreeSpin"),this.isScatter&&(this.totalFreeSpin+=15),this.isFreeSpin&&(this.totalWinFS+=this.agWin),this.agWin>15*this.betValue?this.winType=p.BIGWIN:this.winType=p.NORMAL,this.setNearSpinEffect(),this.scheduleOnce(function(){e.handleStopSpin()},this.isTurbo?0:.5))},e.prototype.checkWin2Scatter=function(){var t=0;return this.spinReelView.forEach(function(e){e.includes(12)&&t++}),2==t},e.prototype.getMakeDelay=function(t){return this.makeDelay.getDelay(t)},e.prototype.handleStopSpin=function(){return s(this,void 0,void 0,function(){var t,e,n,o,i;return c(this,function(r){switch(r.label){case 0:r.trys.push([0,8,,9]),t=.1,e=0,n=this.listCollum.length,r.label=1;case 1:return e<n?(o=this.listCollum[e]).isNeerSpin?[4,o.Stop(this.spinReelView[e])]:[3,3]:[3,7];case 2:return r.sent(),[3,4];case 3:o.Stop(this.spinReelView[e]),r.label=4;case 4:return[4,R.Windown.Rong.getMakeDelay(this.isTurbo?0:t).prosime];case 5:r.sent(),t-=.01*e,r.label=6;case 6:return e++,[3,1];case 7:return[3,9];case 8:return i=r.sent(),v.Util.ThrowErrProsime(i),[3,9];case 9:return[2]}})})},e.prototype.allCollumStopCompleted=function(){return s(this,void 0,void 0,function(){var t=this;return c(this,function(e){switch(e.label){case 0:return this.setStateSpin(a.SHOWING_RESULT),this.effectButtonSpin(),this.isScatter||this.isWin2Scatter?[4,this.showScatterSymbol()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.listLineWin.length>0||this.isWin2Scatter||this.isScatter?(this.infoBar.updateTotalWin(this.agWin),cc.tween(this.node).delay(1.5).call(function(){t.setStateBtn()}).start(),this.lbBalance.setMoney(this.agUser),this.listLineWin.length>0?[4,this.showAllWinLine()]:[3,4]):[3,7];case 3:return e.sent(),[3,6];case 4:return[4,R.Windown.Rong.getMakeDelay(1).prosime];case 5:e.sent(),e.label=6;case 6:return[3,8];case 7:this.setStateBtn(),this.effectButtonSpin(),e.label=8;case 8:return this.isScatter?[4,this.showBgFS()]:[3,10];case 9:e.sent(),e.label=10;case 10:return this.winType!=p.BIGWIN?[3,14]:this.isFreeSpin&&this.currentFSTurn==this.totalFreeSpin?[4,this.effectController.showBigWin(this.totalWinFS)]:[3,12];case 11:return e.sent(),[3,14];case 12:return this.isScatter?[3,14]:[4,this.effectController.showBigWin(this.agWin)];case 13:e.sent(),e.label=14;case 14:return this.currentFSTurn==this.totalFreeSpin&&this.isFreeSpin?[4,this.showTotalWinFreeSPin()]:[3,16];case 15:e.sent(),this.nodeBottomNormal.active=!0,this.nodeFSLeft.active=!1,this.animMainBgGame.skeletonData=this.AssetsRong.skeDataBg[0],this.animMainBgGame.setAnimation(0,"animation",!0),this.infoBar.lbTotalWin.string=R.Windown.formatNumber(this.totalWinFS),e.label=16;case 16:return this.objDelayWaitShowAgWin=R.Windown.Rong.getMakeDelay(this.agWin>0?.5:.25),[4,this.objDelayWaitShowAgWin.prosime];case 17:return e.sent(),this.resetSlotView(),[2]}})})},e.prototype.showScatterSymbol=function(){return s(this,void 0,void 0,function(){var t=this;return c(this,function(){return[2,new Promise(function(e){return s(t,void 0,void 0,function(){var t,n;return c(this,function(o){switch(o.label){case 0:for(o.trys.push([0,2,,3]),this.hideAllSymbol(12),t=0;t<this.listCollum.length;t++)this.listCollum[t].showScatter();return[4,R.Windown.Rong.getMakeDelay((this.isWin2Scatter||this.isFreeSpin,2)).prosime];case 1:for(o.sent(),t=0;t<this.listCollum.length;t++)this.listCollum[t].Reset();return e(null),[3,3];case 2:return n=o.sent(),v.Util.ThrowErrProsime(n),[3,3];case 3:return[2]}})})})]})})},e.prototype.showBgFS=function(){return s(this,void 0,void 0,function(){var t=this;return c(this,function(){return[2,new Promise(function(e){return s(t,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),this.isFreeSpin?[3,2]:[4,this.effectController.showStartFS(this.freeSpinLeft)];case 1:return n.sent(),this.animMainBgGame.skeletonData=this.AssetsRong.skeDataBg[1],this.animMainBgGame.setAnimation(0,"animation",!0),[3,2];case 2:return this.nodeBottomNormal.active=!1,this.nodeFSLeft.active=!0,this.baseBgSpin.spriteFrame=this.listSfBGSpin[1],this.lbFSTotal.string=this.totalFreeSpin+"",e(null),[3,4];case 3:return t=n.sent(),v.Util.ThrowErrProsime(t),[3,4];case 4:return[2]}})})})]})})},e.prototype.showAllWinLine=function(){return s(this,void 0,void 0,function(){var t=this;return c(this,function(){return cc.log("showAllWinLine"),[2,new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i;return c(this,function(r){switch(r.label){case 0:for(r.trys.push([0,5,,6]),this.hideAllSymbol(),t=0,n=this.listLineWin.length;t<n;t++)o=this.listLineWin[t],this.effectWinline(o.id,o.symbol,o.stack);return this.isScatter||this.isFreeSpin||this.isAutoSpin?[4,R.Windown.Rong.getMakeDelay(1.5).prosime]:[3,2];case 1:return r.sent(),e(null),[3,4];case 2:return[4,R.Windown.Rong.getMakeDelay(2.5).prosime];case 3:r.sent(),e(null),r.label=4;case 4:return[3,6];case 5:return i=r.sent(),v.Util.ThrowErrProsime(i),[3,6];case 6:return[2]}})})})]})})},e.prototype.stopShowLine=function(t){t(null)},e.prototype.effectWinline=function(t,e,n){for(var o=this.payLine[t-1],i=0;i<n+1;i++)this.listCollum[i].showSymbolWin(o[i]+1)},e.prototype.resetSlotView=function(){this.setStateSpin(a.PREPARE),this.infoBar.prepareSpin(),this.listCollum.forEach(function(t){t.Reset()}),this.isAutoSpin&&this.autoSpinRemain>0?0==this.totalFreeSpin&&this.onClickSpin():(this.lbAutoSpinRemain.node.active=!1,this.btnStopAuto.node.active=!1),this.isScatter&&!this.isFreeSpin&&(this.isAutoSpin=!0),(this.isFreeSpin||this.isScatter)&&(this.currentFSTurn==this.totalFreeSpin?(cc.log("resetFreeSpin"),this.isFreeSpin=!1,this.currentFSTurn=0,this.totalFreeSpin=0,this.totalWinFS=0,this.indexSpinTest=0,this.lbFSRemain.string="0"):this.onClickSpin())},e.prototype.hidePopupClickToFS=function(){this.onClickSpin()},e.prototype.hideAllSymbol=function(t){void 0===t&&(t=-1),this.listCollum.forEach(function(e){e.hideAllSymbol(t)})},e.prototype.setDarkForNFS=function(t){this.listCollum.forEach(function(e){e!=t&&(e.isSetDarkForNFS=!0,e.hideAllSymbol(12))})},e.prototype.setStateSpin=function(t){switch(this.gameState=t,this.gameState){case a.SPINNING:this.animBtnSpin.setAnimation(0,"Spin",!1),this.animBtnSpin.addAnimation(0,"Spin_wait",!0);break;case a.SHOWING_RESULT:this.animBtnSpin.setAnimation(0,"Stops",!0);break;case a.JOIN_GAME:case a.PREPARE:this.animBtnSpin.setAnimation(0,"Idle",!0)}},e.prototype.setStateBtn=function(){this.gameState==a.SPINNING?(this.btnAuto.interactable=!1,this.btnSpin.interactable=!1,this.btnPlusBet.interactable=!1,this.btnMinusBet.interactable=!1,this.btnTurbo.node.getChildByName("On").color=(new cc.Color).fromHEX("#787878"),this.btnTurbo.node.getChildByName("Off").color=(new cc.Color).fromHEX("#787878")):(this.btnAuto.interactable=!0,this.btnSpin.interactable=!0,this.btnPlusBet.interactable=!0,this.btnMinusBet.interactable=!0,this.btnTurbo.node.getChildByName("On").color=(new cc.Color).fromHEX("#FCD185"),this.btnTurbo.node.getChildByName("Off").color=(new cc.Color).fromHEX("#FCD185"))},e.prototype.effectButtonSpin=function(){this.gameState==a.SPINNING?this.animBtnSpin.setAnimation(0,"Spin_wait",!0):this.gameState==a.SHOWING_RESULT&&this.animBtnSpin.setAnimation(0,"Stop",!0)},e.prototype.onClickMenu=function(){this.audio.playClick(),this.settingView.node.active=!0,this.settingView.show(1)},e.prototype.onClickChangeBet=function(t,e){this.audio.playClick(),this.isAutoSpin||("plus"==e?this.curIndexRoom==this.listBet.length-1?this.curIndexRoom=0:this.curIndexRoom++:0==this.curIndexRoom?this.curIndexRoom=this.listBet.length-1:this.curIndexRoom--,this.setBetValue(this.listBet[this.curIndexRoom]))},e.prototype.getCurrentBet=function(){return this.listBet[this.curIndexRoom]},e.prototype.onClickAuto=function(){this.audio.playClick(),this.settingAuto.node.active=!0,cc.tween(this.settingAuto.node).set({y:-this.settingAuto.node.height-this.settingAuto.node.height/2,opacity:150}).to(.3,{y:-cc.winSize.width/2+this.settingAuto.node.height/2,opacity:255},{easing:cc.easing.sineOut}).start(),this.isAutoSpin=!this.isAutoSpin},e.prototype.onClickTurbo=function(){this.isTurbo=!this.isTurbo,this.btnTurbo.node.getChildByName("Off").active=!this.isTurbo,this.btnTurbo.node.getChildByName("On").active=this.isTurbo},e.prototype.onClickStopAuto=function(){this.audio.playClick(),this.btnStopAuto.node.active=!1,this.isAutoSpin=!1,this.lbAutoSpinRemain.node.active=!1},e.prototype.setAutoSpin=function(t){this.isAutoSpin=!0,this.autoSpinRemain=t,this.btnStopAuto.node.active=!0,this.lbAutoSpinRemain.string=this.autoSpinRemain+"",this.lbAutoSpinRemain.node.active=!0,this.onClickSpin()},e.prototype.setNearSpinEffect=function(){var t=this,e=0;this.spinReelView.forEach(function(n){e>=2&&3==t.listCollum[t.spinReelView.indexOf(n)].collumIndex&&(t.listCollum[t.spinReelView.indexOf(n)].isNeerSpin=!0),n.includes(12)&&e++})},e.prototype.showTotalWinFreeSPin=function(){return s(this,void 0,void 0,function(){var t=this;return c(this,function(){return[2,new Promise(function(e){return s(t,void 0,void 0,function(){var t;return c(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),0==this.totalWinFS?[3,2]:[4,this.effectController.showEndFS(this.totalWinFS)];case 1:n.sent(),n.label=2;case 2:return e(null),[3,4];case 3:return t=n.sent(),v.Util.ThrowErrProsime(t),[3,4];case 4:return[2]}})})})]})})},e.prototype.onClickBackToLobby=function(){R.Windown.Rong.audio.playClick(),this.roomSFS?y.ConectManager.getIns().sendLeaveRoom(this.roomSFS):cc.director.loadScene("main")},e.prototype.onShowPopupHistory=function(){this.popupLichSu.show()},e.instance=null,r([N(cc.Node)],e.prototype,"bkgSprite",void 0),r([N(cc.Node)],e.prototype,"collumContainer",void 0),r([N(cc.Node)],e.prototype,"nodeFSLeft",void 0),r([N(cc.Node)],e.prototype,"nodeBottomNormal",void 0),r([N(cc.Node)],e.prototype,"maskEndFS",void 0),r([N(cc.Node)],e.prototype,"maskGetFS",void 0),r([N(cc.Sprite)],e.prototype,"baseBgSpin",void 0),r([N([cc.SpriteFrame])],e.prototype,"listSfBGSpin",void 0),r([N(sp.Skeleton)],e.prototype,"animBtnSpin",void 0),r([N(sp.Skeleton)],e.prototype,"animMainBgGame",void 0),r([N(cc.Button)],e.prototype,"btnSpin",void 0),r([N(cc.Button)],e.prototype,"btnAuto",void 0),r([N(cc.Button)],e.prototype,"btnTurbo",void 0),r([N(cc.Button)],e.prototype,"btnStopAuto",void 0),r([N(cc.Button)],e.prototype,"btnPlusBet",void 0),r([N(cc.Button)],e.prototype,"btnMinusBet",void 0),r([N(m.default)],e.prototype,"lbAutoSpinRemain",void 0),r([N(cc.Label)],e.prototype,"lbBetValue",void 0),r([N(g.default)],e.prototype,"lbBalance",void 0),r([N(cc.Label)],e.prototype,"lbTotalWin",void 0),r([N(m.default)],e.prototype,"lbFSGet",void 0),r([N(m.default)],e.prototype,"lbFSRemain",void 0),r([N(m.default)],e.prototype,"lbFSTotal",void 0),r([N(m.default)],e.prototype,"lbFSTotalWin",void 0),r([N(w.default)],e.prototype,"AssetsRong",void 0),r([N(W.default)],e.prototype,"infoBar",void 0),r([N(A.default)],e.prototype,"settingView",void 0),r([N(O.default)],e.prototype,"settingAuto",void 0),r([N(F.default)],e.prototype,"effectController",void 0),r([N(E.default)],e.prototype,"popupLichSu",void 0),r([N(_.default)],e.prototype,"audio",void 0),r([N([cc.Node])],e.prototype,"listCol",void 0),r([B],e)}(cc.Component);n.default=I,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":void 0,"../../../Scritps/DefineTs/PlayerPP":void 0,"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/DefineTs/TextDefine":void 0,"../../../Scritps/Game/GAME_TYPE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Obs/LbMoneyChange":void 0,"../../../Scritps/Other/LbMonoSpace":void 0,"../../../Scritps/Other/MakeDelay":void 0,"../../../Scritps/Util":void 0,"../../../Scritps/Windown":void 0,"./RongAssets":"RongAssets","./RongAudio":"RongAudio","./RongCollum":"RongCollum","./RongEffect":"RongEffect","./RongHistory":"RongHistory","./RongInfoBar":"RongInfoBar","./RongSetting":"RongSetting","./RongSettingAuto":"RongSettingAuto"}]},{},["RongAssets","RongAudio","RongCollum","RongEffect","RongHistory","RongHistoryDetail","RongInfoBar","RongItemHistory","RongSetting","RongSettingAuto","RongSymbol","RongView"]);