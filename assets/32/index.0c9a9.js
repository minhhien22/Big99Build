window.__require=function t(e,n,o){function i(s,a){if(!n[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!a&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){return i(e[s][1][t]||t)},u,u.exports,t,e,n,o)}return n[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<o.length;s++)i(o[s]);return i}({BaseBulletBD:[function(t,e,n){"use strict";cc._RF.push(e,"945cbQpaL9M0YHt+40KOX71","BaseBulletBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMe=!1,e.fishTarget=null,e}return i(e,t),e.prototype.onCollisionEnter=function(t){var e=s.Windown.FishBongDem.fishMng.getFishById(t.tag);e&&e.getCanColision()&&this.onCollision(e,t)},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../../Scritps/Windown":void 0}],BaseEffectFish:[function(t,e,n){"use strict";cc._RF.push(e,"e1822LmedJHlJIp9CvD2WV4","BaseEffectFish");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fish=null,e.currentTime=0,e}return i(e,t),e.prototype.setFish=function(t,e){return this.fish=t,this.fish.addEffect(this),this.currentTime=e,this},e.prototype.update=function(t){this.currentTime-=t,this.currentTime<=0&&this.reset()},r([a],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],BaseEffectPlayer:[function(t,e,n){"use strict";cc._RF.push(e,"c0970pvzSZFupN01VnVbCio","BaseEffectPlayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.time=0,e.type=0,e.player=null,e}return i(e,t),e.prototype.initPlayer=function(t,e,n){this.player=t,this.time=e,this.type=n},e.prototype.end=function(){var t;null===(t=this.player)||void 0===t||t.endEffect(this.type),this.player=null,this.time=0,s.Windown.FishBongDem.pool.putEffectPlayer(this)},e.prototype.update=function(t){t*=cc.director.getScheduler().getTimeScale(),this.time-=t,this.time<=0&&this.end()},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../../../Scritps/Windown":void 0}],BaseFishBD:[function(t,e,n){"use strict";cc._RF.push(e,"e51edMOcQpFw679+8LtG8rl","BaseFishBD"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../../Scritps/Windown"),i=t("./FishStateBD"),r=[{x:-280,y:-115},{x:280,y:-115},{x:280,y:115},{x:-280,y:115}],s=function(){function t(t){this.fishId=-1,this.fishType=-1,this._fishState=-2,this.timeMove=0,this.currentTimeInPath=0,this.timeEffectIce=0,this.timeEffectWaiting=0,this.timeEffectHide=0,this.speed=1,this.speedAdd=1,this.infoAni="",this.fishMng=null,this.isInitView=!1,this.isInList=!0,this.isDeadEffect=!1,this.listEffectFish=[],this.fishView=null,this.funCallBackWhenInitView=null,this.fishMng=t}return Object.defineProperty(t.prototype,"fishState",{get:function(){return this._fishState},set:function(t){t!=this._fishState&&(t==i.default.NORMAL?this.effectNormal():t==i.default.ICE?this.effectIce():t==i.default.WATING&&this.effectWating(),this._fishState=t)},enumerable:!1,configurable:!0}),t.prototype.update=function(t){this.timeEffectIce<=0&&this.timeEffectWaiting<=0&&(this.fishState=i.default.NORMAL),this.timeEffectHide>0&&(this.timeEffectHide-=t);var e=this.checkTimeEffect(t);this.currentTimeInPath+=e*this.speed,this.currentTimeInPath>=this.timeMove&&(this.removeFishFromList(),this.destroy())},t.prototype.getAniClipFromString=function(t){var e=JSON.parse(t);this.fishMng.fishBD.playerIdMe>2&&this.setUpLat(e);var n=new cc.AnimationClip;for(var o in e)n[o]=e[o];return n},t.prototype.setUpLat=function(t){if(t.curveData.props.position)for(var e=0,n=t.curveData.props.position;e<n.length;e++){var o=(h=n[e]).value,i=h.motionPath;if(o[1]*=-1,i)for(var r=0,s=i;r<s.length;r++){var a=s[r];for(var c in a)Number(c)%2!=0&&(a[c]*=-1)}}if(t.curveData.props.angle)for(var l=0,u=t.curveData.props.angle;l<u.length;l++){var h;(h=u[l]).value=-180-h.value}},t.prototype.addEffect=function(t){return!!this.fishView&&(this.listEffectFish.push(t),!0)},t.prototype.removeEffect=function(t){var e=this.listEffectFish.indexOf(t);-1!=e&&(this.listEffectFish.splice(e,1),t.reset())},t.prototype.removeFishFromList=function(){this.isInList=!1,this.fishMng.removeFish(this.fishId)},t.prototype.getPosDeadPlayer=function(t){var e=r[t-1];return cc.v2(e.x+o.Windown.RandomNumber(-60,60),e.y+o.Windown.RandomNumber(-40,40))},t.prototype.checkTimeEffect=function(t){return this.timeEffectIce>0?(this.fishState=i.default.ICE,this.timeEffectIce-=t,0):(this.timeEffectIce<=0&&(this.timeEffectIce=0),this.timeEffectWaiting>0?(this.timeEffectIce<=0&&(this.timeEffectWaiting-=t,this.fishState=i.default.WATING),0):(this.timeEffectWaiting<=0&&(this.timeEffectWaiting=0),t))},t.prototype.destroy=function(){this.listEffectFish.forEach(function(t){t.reset()}),this.listEffectFish.length=0},t.prototype.checkColiderInScreen=function(t){return this.fishView?this.fishView.checkColiderInScreen(t):null},t.prototype.getColiderInScreen=function(t){return this.fishView?this.fishView.getColiderInScreen(t):null},t.prototype.getPointColider=function(t){return this.fishView?this.fishView.getPointColider(t):null},t}();n.default=s,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"./FishStateBD":"FishStateBD"}],BaseFishColision:[function(t,e,n){"use strict";cc._RF.push(e,"e7c8beBwpNGQqJGbqMZEfdU","BaseFishColision"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../../Scritps/DefineTs/PlayerPP"),i=t("../../../../Scritps/Windown"),r=t("../Fish/DeadEffect/FishDeadBoom"),s=t("../Fish/DeadEffect/FishDeadCaXau"),a=t("../Fish/DeadEffect/FishDeadGroup"),c=t("../Fish/DeadEffect/FishDeadGroup4"),l=t("../Fish/DeadEffect/FishDeadJackpot"),u=t("../Fish/DeadEffect/FishDeadMutilReward"),h=t("../Fish/DeadEffect/FishDeadNoEffect"),p=t("../Fish/DeadEffect/FishDeadNormal"),f=t("../Fish/DeadEffect/FishDeadNormalRd"),d=t("../Fish/DeadEffect/FishDeadRua"),y=t("../Fish/DeadEffect/FishDeadTrieuHoi"),g=t("../Fish/DeadEffect/FishDeadTruyGai"),m=t("../Fish/DeadEffect/FishDeadVongQuay"),v=t("../Fish/FISH_TYPE"),w=function(){function t(t){var e=this;this.listFish=[],this.listFishValue=[],this.player=null,this.moneyPlayer=0,this.type=-1,this.totalExp=0,this.moneyGun=0,this.idByFish=-1,this.sfsObj=null,this.sfsObj=t,JSON.parse(t.getUtfString("listFishId")).forEach(function(t){var n=i.Windown.FishBongDem.fishMng.getFishById(t);n&&(n.fishView?e.listFish.push(n):n.removeFishFromList())});var n=t.getInt(o.PlayerPP.AccountId);this.player=i.Windown.FishBongDem.playerMng.getPlayerById(n),this.moneyPlayer=t.getLong("AccountBalance"),this.listFishValue=JSON.parse(t.getUtfString("listFishValue")),this.type=t.getInt("deadType"),this.totalExp=t.getInt("totalExp"),this.moneyGun=t.getInt("moneyGun"),this.idByFish=t.get("byFish"),null==this.player?this.listFish.forEach(function(t){t.removeFishFromList(),t.destroy()}):(this.player.updateExp(this.totalExp),t.containsKey("Items")&&this.player.takeItemFish(t.getSFSArray("Items"),this.listFish[0]),this.player.moneyCache=this.moneyPlayer,this.listFish.forEach(function(t,n){e.player.pushDelay(e.listFishValue[n])}))}return t.prototype.getDeadEffectWithFishType=function(t,e,n){return t.fishType==v.default.LAZE||t.fishType==v.default.SONG_AM||t.fishType==v.default.MUI_KHOAN||t.fishType==v.default.GUN_FIRE?new h.default(t,n,e):t.fishType==v.default.BOOM?new r.default(t,n,e):t.fishType==v.default.CA_XAU?new s.default(t,n,e):t.fishType==v.default.TRUY_GAI?new g.default(t,n,e):t.fishType==v.default.RUA?new d.default(t,n,e):t.fishType==v.default.VONG_QUAY?new m.default(t,n,e):t.fishType==v.default.CA_GROUP||t.fishType==v.default.CA_GROUP4?new a.default(t,n,e):t.fishType==v.default.CA_GROUP4_1?new c.default(t,n,e):t.fishType<15||t.fishType==v.default.CA_TRAN_1||t.fishType>28&&t.fishType<33?new p.default(t,n,e):t.fishType==v.default.MUTIL?new u.default(t,n,e):t.fishType==v.default.JACKPOT?n.isMe?new l.default(t,n,e):new p.default(t,n,e):t.fishType>=70&&t.fishType<=73?new y.default(t,n,e):new f.default(t,n,e)},t}();n.default=w,cc._RF.pop()},{"../../../../Scritps/DefineTs/PlayerPP":void 0,"../../../../Scritps/Windown":void 0,"../Fish/DeadEffect/FishDeadBoom":"FishDeadBoom","../Fish/DeadEffect/FishDeadCaXau":"FishDeadCaXau","../Fish/DeadEffect/FishDeadGroup":"FishDeadGroup","../Fish/DeadEffect/FishDeadGroup4":"FishDeadGroup4","../Fish/DeadEffect/FishDeadJackpot":"FishDeadJackpot","../Fish/DeadEffect/FishDeadMutilReward":"FishDeadMutilReward","../Fish/DeadEffect/FishDeadNoEffect":"FishDeadNoEffect","../Fish/DeadEffect/FishDeadNormal":"FishDeadNormal","../Fish/DeadEffect/FishDeadNormalRd":"FishDeadNormalRd","../Fish/DeadEffect/FishDeadRua":"FishDeadRua","../Fish/DeadEffect/FishDeadTrieuHoi":"FishDeadTrieuHoi","../Fish/DeadEffect/FishDeadTruyGai":"FishDeadTruyGai","../Fish/DeadEffect/FishDeadVongQuay":"FishDeadVongQuay","../Fish/FISH_TYPE":"FISH_TYPE"}],BaseFishDeaditemDrag:[function(t,e,n){"use strict";cc._RF.push(e,"fa7cekXgTxNCY41G7k3RIhj","BaseFishDeaditemDrag"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../../Scritps/DefineTs/PlayerPP"),i=t("../../../../Scritps/Windown"),r=t("../Fish/DeadEffect/FISH_DEAD_BD_TYPE");n.default=function(t){var e=this;this.listFish=[],this.listFishValue=[],this.player=null,this.moneyPlayer=0,this.type=-1,this.totalExp=0,this.moneyGun=0,this.idByFish=-1,this.sfsObj=null,this.sfsObj=t,JSON.parse(t.getUtfString("listFishId")).forEach(function(t){var n=i.Windown.FishBongDem.fishMng.getFishById(t);n&&(n.fishView?e.listFish.push(n):n.removeFishFromList())});var n=t.getInt(o.PlayerPP.AccountId);this.player=i.Windown.FishBongDem.playerMng.getPlayerById(n),this.moneyPlayer=t.getLong("AccountBalance"),this.listFishValue=JSON.parse(t.getUtfString("listFishValue")),this.type=t.getInt("deadType"),this.totalExp=t.getInt("totalExp"),this.moneyGun=t.getInt("moneyGun"),this.idByFish=t.get("byFish"),this.type!=r.default.ITEM_HAI_THAN&&this.type!=r.default.HAI_THAN||(this.idByFish=this.sfsObj.get("byIdItemDrag"))},cc._RF.pop()},{"../../../../Scritps/DefineTs/PlayerPP":void 0,"../../../../Scritps/Windown":void 0,"../Fish/DeadEffect/FISH_DEAD_BD_TYPE":"FISH_DEAD_BD_TYPE"}],BaseFishDead:[function(t,e,n){"use strict";cc._RF.push(e,"78d63f3KJFPXKmcsz1/siU+","BaseFishDead"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../../../Scritps/Windown"),i=function(){function t(t,e,n){this.fishBd=null,this.player=null,this.moneyRevice=0,this.moneyGun=0,this.soundBongDem=null,this.funCall=null,this.fishBd=t,this.player=e,this.moneyGun=n,this.soundBongDem=o.Windown.FishBongDem.getSound()}return t.prototype.makeDelay=function(t){return o.Windown.FishBongDem.makeDelay(t)},t.prototype.getListCoinByType=function(t){var e=[],n=1,i=.4;switch(t){case 1:case 2:case 3:n=1,i=.4;break;case 4:case 5:case 6:case 7:n=2,i=.3;break;case 8:case 9:case 10:case 11:n=4,i=.25;break;case 12:case 13:case 14:case 15:case 16:n=6,i=.25;break;default:n=10,i=.25}for(var r=0;r<n;r++){var s=o.Windown.FishBongDem.pool.getCoin(this.player.isMe);s.scale=i,s.parent=o.Windown.FishBongDem.fishBDView.parentEffect,e.push(s)}return e},t}();n.default=i,cc._RF.pop()},{"../../../../../Scritps/Windown":void 0}],BaseItemDrag:[function(t,e,n){"use strict";cc._RF.push(e,"eb1d2zfkFBKh4zDUkT1upoQ","BaseItemDrag"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../../Scritps/Windown"),i=function(){function t(t,e,n){this.player=null,this.timeUse=0,this.timeRemove=0,this.type=-1,this.config=null,this.id=-1,this.player=t,this.type=e,this.id=n,this.config=o.Windown.FishBongDem.getGunSpecialConfigType(e)}return t.prototype.update=function(t){this.timeUse>0?this.timeUse-=t:this.timeRemove<=0&&this.remove(),this.timeRemove>0?this.timeRemove-=t:this.timeUse<=0&&this.remove()},t.prototype.remove=function(){this.player.removeItemDrag(this.id)},t.prototype.excuted=function(){this.timeRemove=this.config.getInt("TimeRemoveNotUse")-o.Windown.LagValue,this.timeUse=0},t.prototype.using=function(){this.timeRemove=0,this.timeUse=this.config.getInt("TimeToUse")-o.Windown.LagValue},t}();n.default=i,cc._RF.pop()},{"../../../../Scritps/Windown":void 0}],BasePlayerBD:[function(t,e,n){"use strict";cc._RF.push(e,"e430eWUs3NFrJdxAc/5n1KD","BasePlayerBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../../Scritps/Game/GAME_TYPE"),u=t("../../../../Scritps/Network/ConectManager"),h=t("../../../../Scritps/Obs/ItemLevelController"),p=t("../../../../Scritps/Obs/LbMoneyChange"),f=t("../../../../Scritps/Windown"),d=t("../Boom/DinhBa"),y=t("../Boom/DropBoom"),g=t("../Gun/GunFishBD"),m=t("../Gun/GUN_TYPE_BD"),v=t("../Gun/MatThan"),w=t("../Gun/StateGunFire"),D=t("./BaseItemDrag"),B=t("./Effect/PlayerUsingAuto"),F=t("./Effect/PlayerUsingIce"),_=t("./Effect/PlayerUsingSpeed"),b=t("./Effect/PlayerUsingTarget"),S=t("./Effect/TypePlayerEffectBD"),T=t("./TypeItemDragBD"),P=[188,282,424,635,952,1427,2139,3206,4806,7206,10806,15816,22820,32323,44834,60941,80942,105960,135981,172003,212128,258358,311568,372808,442958,523172,618413,733437,874069,1039309,1234969,1465170,1735520,2056522,2441782,2902985,3453987,4103990,4864200,5754410,6794640,7998160,9384362,10970563,12771785,14822815,17222926,20129246,23650247,27866250],C=[{x:-475,y:-312},{x:475,y:-312},{x:475,y:312},{x:-475,y:312}],I=[-118,118,118,-118],O=[15,-15,-15,15],A=[1,-1,-1,1],M=[-52.593,50,50,-52],R=[-63.66,-55.087,-55.087,-63.66],E=cc._decorator,N=E.ccclass,k=E.property,W=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbGold=null,e.lbName=null,e.lbLevel=null,e.lbTimeCD=null,e.spAva=null,e.gunFishBd=null,e.spProgressLevel=null,e.sfBgPlayer=[],e.parentPanel=null,e.listitemLevel=[],e.playerManager=null,e.namePlayer="",e.gold=0,e.SFSInfo=null,e.playerSiting=-1,e.playerId=-1,e.acountId=-1,e.currentGunId=-1,e.timeItemSpeed=0,e.isItemSpeed=!1,e.timeItemTarget=0,e.isItemTarget=!1,e.timeItemIce=0,e.isItemIce=!1,e.timeItemAuto=0,e.isItemAuto=!1,e.initPosCoin=0,e.initPosLbName=0,e.initPosLbGold=0,e.timeItemTrieuHoi=0,e.indexMoneyGun=0,e.currentTimeGunToUseSpecial=0,e.currentTimeGunRemoveSpecial=0,e.isMe=!1,e.level=0,e.exp=0,e.totalLevel=0,e.listPlayerEffect=[],e.listItemDrag=[],e.mapNodePanel=new Map,e.mapMatThan=new Map,e.listDelayMoney=[],e.moneyCache=0,e}return i(e,t),e.prototype.setPlayerMng=function(t){this.playerManager=t},e.prototype.onLoad=function(){this.initPosCoin=cc.find("username/coin",this.node).x,this.initPosLbGold=this.lbGold.node.x,this.initPosLbName=this.lbName.node.x},e.prototype.initPlayer=function(t,e){this.SFSInfo=t,this.gold=t.getLong("ag"),this.moneyCache=this.gold,this.namePlayer=t.getUtfString("nickname"),this.level=t.getInt("currentlevel"),this.totalLevel=t.getInt("totallevelpoint"),this.exp=t.getInt("currentlevelpoint"),this.acountId=t.getInt("id"),this.playerId=t.getInt("SittingId"),this.currentGunId=t.getInt("CurrentGunId"),this.indexMoneyGun=t.getInt("IndexMoneyGun"),this.currentTimeGunRemoveSpecial=t.get("TimeRemoveSpecilGun"),this.currentTimeGunToUseSpecial=t.get("TimeUseSpecilGun"),this.playerSiting=e,this.isMe=!1,this.acountId==f.Windown.User.userId&&(this.isMe=!0,this.playerManager.fishBD.me=this,f.Windown.FishBongDem.fishBDView.setItemInfo(t.getSFSArray("ItemFish")),f.Windown.MoneyUser.dangKyHandle(this.setGold,this)),this.setUpView(),this.setAva(this.SFSInfo),this.setExp(this.exp/this.totalLevel),this.setLevel(this.level),this.setName(this.namePlayer),this.setGold(this.gold),this.lbGold.setMoneyNoTime(this.gold),this.gunFishBd.setPlayer(this),this.gunFishBd.initGun(this.currentGunId),this.gunFishBd.setMoneyGun(this.indexMoneyGun),this.updateItem(t);for(var n=t.getSFSArray("ListItemDrag"),o=0,i=n.size();o<i;o++){var r=n.getSFSObject(o);r.get("TimeRemoveNotUse")>0&&this.addItemDrag(r)}this.isMe&&(this.listitemLevel.forEach(function(t){t.updateLevelConfig(),t.setRoom(1)}),this.updateItemLevel(this.indexMoneyGun)),this.test()},e.prototype.test=function(){return s(this,void 0,void 0,function(){return a(this,function(){return[2]})})},e.prototype.setUpView=function(){this.node.setPosition(C[this.playerSiting-1].x,C[this.playerSiting-1].y);var t=cc.find("BtnInfo",this.node);t.x=I[this.playerSiting-1],(t=cc.find("username",this.node)).getChildByName("name_ingame").scaleX=A[this.playerSiting-1],t.getChildByName("name_ingame").x=M[this.playerSiting-1],t.x=O[this.playerSiting-1];var e=cc.find("username/coin",this.node);cc.find("gun/bkgMoneyGun",this.node).getComponent(cc.Sprite).spriteFrame=this.isMe?this.sfBgPlayer[0]:this.sfBgPlayer[1],cc.find("gun/bkgMoneyGun",this.node).scaleY=this.playerSiting-1==0||this.playerSiting-1==1?1:-1,this.gunFishBd.bodyGun.y=this.playerSiting-1==0||this.playerSiting-1==1?15:-15,this.lbName.node.x=this.playerSiting-1==1||this.playerSiting-1==2?this.initPosLbName+50:this.initPosLbName,this.lbGold.node.x=this.playerSiting-1==1||this.playerSiting-1==2?this.initPosLbGold+9:this.initPosLbGold,e.x=R[this.playerSiting-1];var n=e.parent.convertToWorldSpaceAR(e.getPosition()),o=f.Windown.FishBongDem.fishBDView.parentEffect.convertToNodeSpaceAR(n);this.posBoxCoin=o;var i=this.lbTimeCD.node.parent.convertToWorldSpaceAR(this.lbTimeCD.node.getPosition()),r=f.Windown.FishBongDem.fishBDView.parentEffect.convertToNodeSpaceAR(i);this.posMoneyMini=r;var s=[cc.v2(-45,43),cc.v2(45,43),cc.v2(45,-43),cc.v2(-45,-43)];this.parentPanel.setPosition(s[this.playerSiting-1]),this.parentPanel.anchorY=[0,0,1,1][this.playerSiting-1]},e.prototype.getPosInVew=function(){return cc.v2(C[this.playerSiting-1].x,C[this.playerSiting-1].y)},e.prototype.updateExp=function(t){this.exp+=t,this.checkLvlUp()&&this.setLevel(this.level),this.setExp(this.exp/this.totalLevel)},e.prototype.reset=function(){var t,e;if(this.node){for(;this.listPlayerEffect.length>0;)this.listPlayerEffect[0].end();try{this.mapNodePanel.forEach(function(t){t.destroy()}),this.mapMatThan.forEach(function(t){t.node.destroy()})}catch(n){}this.listDelayMoney.length=0,this.indexMoneyGun=0,this.listItemDrag.length=0,this.mapNodePanel.clear(),this.mapMatThan.clear(),null===(e=null===(t=this.gunFishBd)||void 0===t?void 0:t.stateGun)||void 0===e||e.cancleAtack(),this.playerManager.putPlayerViewPool(this.node),this.isMe&&(f.Windown.MoneyUser.targetOff(this),f.Windown.MoneyUser.endGameMOney(l.default.BongDem))}},e.prototype.onDestroy=function(){f.Windown.MoneyUser.targetOff(this),this.isMe&&f.Windown.MoneyUser.endGameMOney(l.default.BongDem)},e.prototype.checkLvlUp=function(){for(var t=!1;this.exp>=this.totalLevel;)this.level++,this.exp=this.exp-this.totalLevel,this.totalLevel=P[this.level-1],t=!0;return t},e.prototype.takeItemFish=function(t,e){var n=this;if(t)for(var o=f.Windown.FishBongDem.getSound(),i=function(i){var s=t.getSFSObject(i),a=s.get("Value"),c=s.get("Type");if(null!=e){console.log("type la: "+c);var l=f.Windown.FishBongDem.pool.getItemTakeFish(c);l.parent=f.Windown.FishBongDem.fishBDView.parentEffect,l.setPosition(e.getPoint()),l.runAction(cc.sequence(cc.jumpTo(.5,cc.v2(l.x-f.Windown.RandomNumber(-100,100),l.y+50),50,1),cc.delayTime(1),cc.moveTo(.6,r.gunFishBd.pointInScreen).easing(cc.easeBackIn()),cc.callFunc(function(){o.playEffect(o.hitIncredible);var t=f.Windown.FishBongDem.pool.getCountItem();t.parent=f.Windown.FishBongDem.fishBDView.parentEffect,t.setPosition(n.gunFishBd.pointInScreen.x,n.gunFishBd.pointInScreen.y+50),t.runAction(cc.sequence(cc.moveBy(1,0,n.playerSiting<3?100:-100),cc.callFunc(function(){t.destroy()})))}),cc.scaleTo(.15,1.1),cc.scaleTo(.15,.8),cc.delayTime(.5),cc.callFunc(function(){f.Windown.FishBongDem.pool.putItemTakeFish(l),n.isMe&&f.Windown.FishBongDem.fishBDView.reviceItemWhenLvlUp(c,a)})))}else r.isMe&&f.Windown.FishBongDem.fishBDView.reviceItemWhenLvlUp(c,a)},r=this,s=0,a=t.size();s<a;s++)i(s)},e.prototype.updateItemLevel=function(t){var e=t+1,n=t-1;n<0&&(n=f.Windown.FishBongDem.listGunMoney.length-1),e>=f.Windown.FishBongDem.listGunMoney.length&&(e=0),this.listitemLevel[0].setGunId(n),this.listitemLevel[1].setGunId(e)},e.prototype.getPosCoint=function(){return this.getPosCoin()},e.prototype.rotateGun=function(t){this.gunFishBd.rotate(t)},e.prototype.atack=function(){this.gunFishBd.stateGun.atack()},e.prototype.dromBoom=function(t){return s(this,void 0,void 0,function(){var e,n,o;return a(this,function(i){switch(i.label){case 0:return f.Windown.FishBongDem.getSound().playEffect(f.Windown.FishBongDem.getSound().comingJackpot),[4,f.Windown.loadRes(l.default.BongDem.toString(),"Prefabs/Game/DropBoom",cc.Prefab)];case 1:return e=i.sent(),(n=cc.instantiate(e)).parent=f.Windown.FishBongDem.fishBDView.node,o=this.gunFishBd.pointInScreen.clone(),this.playerSiting<3?o.y-=200:o.y+=200,n.getComponent(y.default).init(o,t,this),[2]}})})},e.prototype.dromDinhBa=function(t){return s(this,void 0,void 0,function(){var e,n,o;return a(this,function(i){switch(i.label){case 0:return[4,f.Windown.loadRes(l.default.BongDem.toString(),"Prefabs/Game/DinhBa",cc.Prefab)];case 1:return e=i.sent(),(n=cc.instantiate(e)).parent=f.Windown.FishBongDem.fishBDView.node,o=this.gunFishBd.pointInScreen.clone(),n.getComponent(d.default).init(o,t,this),[2]}})})},e.prototype.dropMatThan=function(t,e,n,o){return s(this,void 0,void 0,function(){var i,r,s;return a(this,function(a){switch(a.label){case 0:return(e-n)/o<6?[2]:[4,f.Windown.loadRes(l.default.BongDem.toString(),"Prefabs/Game/EyeOcean0",cc.Prefab)];case 1:return i=a.sent(),(r=cc.instantiate(i)).parent=this.node.parent,(s=r.getComponent(v.default)).init(this,e,n,t,o),this.mapMatThan.set(t,s),[2]}})})},e.prototype.addItemDrag=function(t){var e=t.get("Type"),n=t.get("Id"),o=this.getItemDrag(n);if(null==o)if(o=this.creatItemDrag(e,n),this.listItemDrag.push(o),o.excuted(),o.timeRemove=t.get("TimeRemoveNotUse"),o.timeUse=t.get("TimeToUse"),e==T.default.LAZE)this.gunFishBd.initGun(m.default.LAZE,n);else if(e==T.default.SONG_AM)this.gunFishBd.initGun(m.default.SONG_AM,n);else if(e==T.default.MUI_KHOAN)this.gunFishBd.initGun(m.default.MUI_KHOAN,n);else if(e==T.default.GUN_FIRE){if(this.gunFishBd.initGun(m.default.FIRE,n),o.timeUse>0){var i=this.gunFishBd.stateGun;i instanceof w.default&&i.unLock()}}else e==T.default.BOOM_NGUYEN_TU?this.dromBoom(n):e==T.default.DINH_BA?this.dromDinhBa(n):e==T.default.MAT_THAN&&this.dropMatThan(n,t.get("custom").get("maxMn"),t.get("custom").get("cur"),t.get("MnG"));else o.excuted()},e.prototype.getCanTarget=function(){return this.gunFishBd.stateGun.type==m.default.NORMAL||this.gunFishBd.stateGun.type==m.default.FIRE||this.gunFishBd.stateGun.type==m.default.SET},e.prototype.getCanAuto=function(){return!this.isItemTarget&&this.getCanTarget()},e.prototype.removeItemDrag=function(t){for(var e=0,n=this.listItemDrag.length;e<n;e++)if(this.listItemDrag[e].id==t){this.listItemDrag.splice(e,1);break}},e.prototype.usingItemDrag=function(t,e){var n=this.getItemDrag(t);if(null!=n){var o=n.type;if(n.using(),o==T.default.LAZE){var i=e.get("PointX"),r=e.get("PointY"),s=cc.v2(i,r);f.Windown.FishBongDem.convertVec(s),this.gunFishBd.rotate(s),this.atack()}else if(o==T.default.SONG_AM)i=e.get("PointX"),r=e.get("PointY"),s=cc.v2(i,r),f.Windown.FishBongDem.convertVec(s),this.gunFishBd.rotate(s),this.atack();else if(o==T.default.MUI_KHOAN)i=e.get("PointX"),r=e.get("PointY"),s=cc.v2(i,r),f.Windown.FishBongDem.convertVec(s),this.gunFishBd.rotate(s),this.atack();else if(o==T.default.GUN_FIRE){var a=this.gunFishBd.stateGun;a instanceof w.default&&a.unLock()}else o==T.default.BOOM_NGUYEN_TU||T.default.MAT_THAN}},e.prototype.creatItemDrag=function(t,e){return new D.default(this,t,e)},e.prototype.getItemDrag=function(t){for(var e=0,n=this.listItemDrag;e<n.length;e++){var o=n[e];if(o.id==t)return o}return null},e.prototype.updateItem=function(t){this.timeItemTarget=t.getFloat("TimeItemTarget")-f.Windown.LagValue,this.timeItemSpeed=t.getFloat("TimeItemSpeed")-f.Windown.LagValue,this.timeItemIce=t.getFloat("TimeItemIce")-f.Windown.LagValue,this.timeItemTrieuHoi=t.getFloat("TimeItemTrieuHoi")-f.Windown.LagValue},e.prototype.cancleGun=function(){this.gunFishBd.cancleAtack()},e.prototype.changeIndexMoneyGun=function(t){this.indexMoneyGun=t,this.gunFishBd.setMoneyGun(t),this.isMe&&(this.updateItemLevel(t),f.Windown.FishBongDem.emitNewIndexJp())},e.prototype.changeGun=function(t){this.currentGunId=t,this.gunFishBd.initGun(this.currentGunId)},e.prototype.setName=function(t){this.lbName.string=t},e.prototype.setAva=function(t){f.Windown.updateAvatar(t,this.spAva)},e.prototype.pushDelay=function(t){this.listDelayMoney.push(t),this.isMe&&f.Windown.MoneyUser.pushDelayMoney(l.default.BongDem,this.moneyCache,t)},e.prototype.addGold=function(t){if(0!=t){this.gold+=t,this.lbGold.setMoneyNoTime(this.gold),this.lbGold.node.stopAllActions(),this.lbGold.node.scale=1.6,this.lbGold.node.runAction(cc.scaleTo(.2,1));var e=f.Windown.FishBongDem.pool.getTextMoneyMini(this.isMe);this.playerSiting<3?e.setPosition(this.posMoneyMini.x,this.posMoneyMini.y+30):e.setPosition(this.posMoneyMini.x,this.posMoneyMini.y-120),e.parent=f.Windown.FishBongDem.fishBDView.parentEffect,e.opacity=255,e.scale=0,e.stopAllActions(),e.getComponent(cc.Label).string="+"+t;var n=cc.scaleTo(.1,1).easing(cc.easeBackOut()),o=cc.delayTime(.2),i=cc.spawn(cc.fadeTo(.1,150),cc.scaleTo(.2,.8)),r=cc.moveBy(1,0,80),s=cc.callFunc(function(){f.Windown.FishBongDem.pool.putTextMoneyMini(e)});e.runAction(cc.sequence(cc.spawn(r,cc.sequence(n,o,i)),s)),this.checkAndFixedMoney(t)}else this.checkAndFixedMoney(t)},e.prototype.checkAndFixedMoney=function(t){this.listDelayMoney.pop(),this.isMe&&(f.Windown.MoneyUser.pushDelayMoney(l.default.BongDem,this.moneyCache,-t),f.Windown.MoneyUser.updateMoney()),this.listDelayMoney.length<1&&(this.setGold(this.moneyCache),this.isMe&&f.Windown.MoneyUser.removeDelay(l.default.BongDem))},e.prototype.subGold=function(t,e){this.gold-=t,this.gold<0&&(this.gold=0),this.lbGold.setMoneyNoTime(this.gold),this.moneyCache=e,this.isMe?f.Windown.MoneyUser.subMoney(t,f.Windown.MoneyUser.moneyCache-t):this.listDelayMoney.length<1&&this.setGold(this.moneyCache)},e.prototype.setGold=function(t){this.gold!=t&&(this.gold=t,this.lbGold.setMoneyNoTime(this.gold))},e.prototype.setLevel=function(t){this.lbLevel.string=t},e.prototype.setExp=function(t){this.spProgressLevel.fillRange=t},e.prototype.onClickAva=function(){f.Windown.UIManager.showLoading();var t=u.ConectManager.getIns().getSFSObj();t.putInt("Id",this.acountId),u.ConectManager.getIns().sendRequest(c.REQUEST_CODE.GetInfo,t)},e.prototype.getPosCoin=function(){return this.posBoxCoin},e.prototype.startTarget=function(){this.isItemTarget=!0},e.prototype.setEffect=function(t,e){for(var n=null,o=0,i=this.listPlayerEffect;o<i.length;o++){var r=i[o];if(r.type==t)return void((n=r).time=e)}if(null==n){var s=f.Windown.FishBongDem.pool.getEffectPlayer(t);switch(t){case S.default.ICE:n=s.getComponent(F.default),this.isItemIce=!0;break;case S.default.SPEED:n=s.getComponent(_.default),this.isItemSpeed=!0;break;case S.default.TARGET:n=s.getComponent(b.default),this.isItemTarget=!0;break;case S.default.AUTO:n=s.getComponent(B.default),this.isItemAuto=!0}}n&&(this.listPlayerEffect.push(n),n.initPlayer(this,e,t),n.excuted())},e.prototype.forceEndEffect=function(t){for(var e=0,n=this.listPlayerEffect;e<n.length;e++){var o=n[e];if(o.type==t)return void o.end()}},e.prototype.getPlayerEffect=function(t){for(var e=0,n=this.listPlayerEffect;e<n.length;e++){var o=n[e];if(o.type==t)return o}return null},e.prototype.endEffect=function(t){switch(t){case S.default.ICE:this.isItemIce=!1,this.timeItemIce=0;break;case S.default.SPEED:this.isItemSpeed=!1,this.timeItemSpeed=0;break;case S.default.TARGET:this.isItemTarget=!1,this.timeItemTarget=0;break;case S.default.AUTO:this.isItemAuto=!1,this.timeItemAuto=0}for(var e=0,n=this.listPlayerEffect.length;e<n;e++)if(this.listPlayerEffect[e].type==t){this.listPlayerEffect.splice(e,1);break}},e.prototype.backToCurrentGun=function(){this.gunFishBd.initGun(this.currentGunId)},e.prototype.update=function(t){t*=cc.director.getScheduler().getTimeScale(),this.gunFishBd.updateCp(t),this.listItemDrag.forEach(function(e){e.update(t)}),this.timeItemTarget>0&&(this.timeItemTarget-=t,this.isItemTarget||this.setEffect(S.default.TARGET,this.timeItemTarget)),this.timeItemSpeed>0&&(this.timeItemSpeed-=t,this.isItemSpeed||this.setEffect(S.default.SPEED,this.timeItemSpeed)),this.timeItemIce>0&&(this.timeItemIce-=t,this.isItemIce||this.setEffect(S.default.ICE,this.timeItemIce),this.isItemIce=!0),this.timeItemAuto>0&&(this.timeItemAuto-=t,this.isItemAuto||this.setEffect(S.default.AUTO,this.timeItemAuto),this.isItemAuto=!0),this.timeItemTrieuHoi>0&&(this.timeItemTrieuHoi-=t)},r([k(p.default)],e.prototype,"lbGold",void 0),r([k(cc.Label)],e.prototype,"lbName",void 0),r([k(cc.Label)],e.prototype,"lbLevel",void 0),r([k(cc.Label)],e.prototype,"lbTimeCD",void 0),r([k(cc.Sprite)],e.prototype,"spAva",void 0),r([k(g.default)],e.prototype,"gunFishBd",void 0),r([k(cc.Sprite)],e.prototype,"spProgressLevel",void 0),r([k([cc.SpriteFrame])],e.prototype,"sfBgPlayer",void 0),r([k(cc.Node)],e.prototype,"parentPanel",void 0),r([k([h.default])],e.prototype,"listitemLevel",void 0),r([N],e)}(cc.Component);n.default=W,cc._RF.pop()},{"../../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../../Scritps/Game/GAME_TYPE":void 0,"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Obs/ItemLevelController":void 0,"../../../../Scritps/Obs/LbMoneyChange":void 0,"../../../../Scritps/Windown":void 0,"../Boom/DinhBa":"DinhBa","../Boom/DropBoom":"DropBoom","../Gun/GUN_TYPE_BD":"GUN_TYPE_BD","../Gun/GunFishBD":"GunFishBD","../Gun/MatThan":"MatThan","../Gun/StateGunFire":"StateGunFire","./BaseItemDrag":"BaseItemDrag","./Effect/PlayerUsingAuto":"PlayerUsingAuto","./Effect/PlayerUsingIce":"PlayerUsingIce","./Effect/PlayerUsingSpeed":"PlayerUsingSpeed","./Effect/PlayerUsingTarget":"PlayerUsingTarget","./Effect/TypePlayerEffectBD":"TypePlayerEffectBD","./TypeItemDragBD":"TypeItemDragBD"}],BaseStateGunBD:[function(t,e,n){"use strict";cc._RF.push(e,"f5763ypNBBOuY6KXh7jNeVw","BaseStateGunBD"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../DeadBevhavior/PanelPoint"),i=function(){function t(t,e){this.type=0,this.gunBD=null,this.indexMoneyGun=null,this.idFishTarget=-1,this.indexColider=-1,this.timeDelay=0,this.timeUpdate=0,this.speedBullet=1e3,this.idGunNow=-1,this.gunBD=t,this.type=e}return t.prototype.removeNodePanel=function(){var t=this.gunBD.playerBD.mapNodePanel.get(this.idGunNow);null!=t&&t.getComponent(o.default).end()},t}();n.default=i,cc._RF.pop()},{"../DeadBevhavior/PanelPoint":"PanelPoint"}],BulletFire:[function(t,e,n){"use strict";cc._RF.push(e,"ec658oejMdJ1Z6tZ9Pqi+bs","BulletFire");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Network/ConectManager"),a=t("../../../../Scritps/Windown"),c=t("../Fish/FISH_TYPE"),l=t("../Network/CODE_EVT"),u=t("../Player/TypeItemDragBD"),h=t("./BaseBulletBD"),p=cc._decorator,f=p.ccclass,d=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.byFish=-1,e.listIdFishCache=[],e.panelPoint=null,e}return i(e,t),e.prototype.creat=function(t){this.byFish=t.get("byFish"),this.unschedule(this.sendToServer),this.schedule(this.sendToServer,.2),this.listIdFishCache.length=0},e.prototype.onCollision=function(){},e.prototype.onCollisionStay=function(t){var e=a.Windown.FishBongDem.fishMng.getFishById(t.tag);if(e){var n=e.fishId,o=e.fishType;this.listIdFishCache.includes(n)||o==c.default.MUI_KHOAN||o==c.default.SONG_AM||o==c.default.LAZE||o==c.default.BOOM||o==c.default.GUN_FIRE||o==c.default.VONG_QUAY||this.listIdFishCache.push(n)}},e.prototype.remove=function(){},e.prototype.update=function(){},e.prototype.setPanel=function(t){this.panelPoint=t},e.prototype.sendToServer=function(){if(this.listIdFishCache.length>0){var t=s.ConectManager.getIns().getSFSArray();this.listIdFishCache.forEach(function(e){t.addInt(e)});var e=s.ConectManager.getIns().getSFSObj();e.putInt("Type",u.default.GUN_FIRE),e.putLong("byFish",this.byFish),e.putLong("Id",this.byFish),e.putSFSArray("ListFishId",t),e.putInt("lastMoneyRevice",this.panelPoint.moneyCurrent),a.Windown.FishBongDem.sendRequest(l.default.FishSpecialColisionBD,e),this.listIdFishCache.length=0}},e.prototype.start=function(){},r([f],e)}(h.default));n.default=d,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Windown":void 0,"../Fish/FISH_TYPE":"FISH_TYPE","../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD","./BaseBulletBD":"BaseBulletBD"}],BulletLazeBD:[function(t,e,n){"use strict";cc._RF.push(e,"d4783j8kwRD9pqpUj7bVq5h","BulletLazeBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Network/ConectManager"),a=t("../../../../Scritps/Windown"),c=t("../Network/CODE_EVT"),l=t("../Player/TypeItemDragBD"),u=t("./BaseBulletBD"),h=cc._decorator,p=h.ccclass,f=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.funDeactive=null,e.funDelaySendFish=null,e.SFSArrayFish=null,e.byFish=-1,e}return i(e,t),e.prototype.creat=function(){},e.prototype.init=function(t,e){var n=this;this.node.active=!0,this.byFish=e,this.SFSArrayFish=s.ConectManager.getIns().getSFSArray(),this.unschedule(this.funDeactive),this.unschedule(this.funDelaySendFish),this.scheduleOnce(this.funDeactive=function(){n.sendToServer(),n.unschedule(n.funDelaySendFish),n.node.active=!1},t),this.schedule(this.funDelaySendFish=function(){n.sendToServer()},.5)},e.prototype.sendToServer=function(){this.unschedule(this.funDelaySendFish);var t=s.ConectManager.getIns().getSFSObj();t.putInt("Type",l.default.LAZE),t.putLong("byFish",this.byFish),t.putLong("Id",this.byFish),t.putSFSArray("ListFishId",this.SFSArrayFish),a.Windown.FishBongDem.sendRequest(c.default.FishSpecialColisionBD,t),this.SFSArrayFish=s.ConectManager.getIns().getSFSArray()},e.prototype.onCollision=function(t){t.getCanColision()&&this.SFSArrayFish.addInt(t.fishId)},e.prototype.remove=function(){},e.prototype.update=function(){},r([p],e)}(u.default));n.default=f,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Windown":void 0,"../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD","./BaseBulletBD":"BaseBulletBD"}],BulletMatThan:[function(t,e,n){"use strict";cc._RF.push(e,"1f1c0GXoFVABaUAtzzmOMF0","BulletMatThan");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Network/ConectManager"),a=t("../../../../Scritps/Windown"),c=t("../Network/CODE_EVT"),l=t("../Player/TypeItemDragBD"),u=cc._decorator,h=u.ccclass,p=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMe=!1,e.fishTarget=void 0,e.speed=500,e.posCashe=cc.v2(0,0),e.matThan=null,e.isDeadtroy=!1,e.currentPosColider=cc.v2(0,0),e}return i(e,t),e.prototype.creat=function(t,e,n){this.node.children[0].active=!0,this.node.children[1].active=!1,this.fishTarget=t,this.isMe=n,this.matThan=e,this.isDeadtroy=!1,this.getComponent(cc.BoxCollider).enabled=!0},e.prototype.getVec=function(t){var e=null;if(this.isDeadtroy)return e;t?(this.posCashe=t.clone(),e=t):(this.matThan.removeBullet(this),e=this.posCashe,cc.Vec2.distance(this.node.getPosition(),e)<5&&!this.isDeadtroy&&this.effectDestroy());var n=cc.Vec2.subtract(cc.v2(),e,this.node.getPosition()),o=180*Math.atan2(n.x,n.y)/Math.PI,i=this.speed,r=i*Math.sin(o*Math.PI/180),s=i*Math.cos(o*Math.PI/180);return this.node.angle=-o,cc.v2(r,s)},e.prototype.effectDestroy=function(){this.matThan.putBullet(this),this.isDeadtroy=!0},e.prototype.creatLuoi=function(){this.isDeadtroy=!0,this.node.children[0].active=!1;var t=this.node.children[1];t.active=!0,t.scale=.8,t.opacity=255;var e=cc.scaleTo(.2,1),n=cc.scaleTo(.25,.3),o=cc.fadeOut(.25).easing(cc.easeOut(1)),i=cc.callFunc(this.effectDestroy,this);t.stopAllActions(),t.runAction(cc.sequence(e,cc.spawn(n,o),i))},e.prototype.onCollisionEnter=function(t){var e=a.Windown.FishBongDem.fishMng.getFishById(t.tag);if(e&&e==this.fishTarget&&e.getCanColision()){if(this.isDeadtroy||!e.getCanColision())return;if(e.onColision(t),this.matThan.removeBullet(this),this.creatLuoi(),this.getComponent(cc.BoxCollider).enabled=!1,this.isMe){var n=s.ConectManager.getIns().getSFSArray();n.addInt(e.fishId);var o=s.ConectManager.getIns().getSFSObj();o.putInt("Type",l.default.MAT_THAN),o.putLong("byFish",this.matThan.idItemDrag),o.putLong("Id",this.matThan.idItemDrag),o.putSFSArray("ListFishId",n),a.Windown.FishBongDem.sendRequest(c.default.FishSpecialColisionBD,o)}}},e.prototype.update=function(t){t*=cc.director.getScheduler().getTimeScale();var e=this.getVec(this.currentPosColider);if(e){var n=e.x*t,o=e.y*t,i=this.node.x+n,r=this.node.y+o;this.node.x=i,this.node.y=r}},r([h],e)}(cc.Component));n.default=p,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Windown":void 0,"../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD"}],BulletMuiKhoanBD:[function(t,e,n){"use strict";cc._RF.push(e,"c9ef2hnYLBOt7g+Pu8ToUma","BulletMuiKhoanBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Network/ConectManager"),a=t("../../../../Scritps/Windown"),c=t("../Network/CODE_EVT"),l=t("../Player/TypeItemDragBD"),u=t("./BaseBulletBD"),h=cc._decorator,p=h.ccclass,f=h.property,d={normal:0,ganEnd:1,end:2,stop:3},y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spBinhThuong=null,e.spGanHet=null,e.spHet=null,e.spineBullet=null,e.spineExplode=null,e.funDeactive=null,e.funDelaySendFish=null,e.SFSArrayFish=null,e.byFish=-1,e.limitTop=360,e.limitBottom=-360,e.limitRight=640,e.limitLeft=-640,e.vx=0,e.vy=0,e.isMe=!1,e.speed=0,e.state=d.normal,e.timeTotalLife=0,e.vXS=-1,e.vYS=-1,e.spineNameBinhThuong="animation1",e.spineNameGanHet="animation2",e.spineNameHet="animation3",e.panelPoint=null,e}return i(e,t),e.prototype.creat=function(t,e,n){void 0===n&&(n=!1);var o=t.getFloat("VelocityX"),i=t.getFloat("VelocityY"),r=t.getFloat("PositionX"),a=t.getFloat("PositionY"),c=t.getFloat("Angle"),l=t.getInt("Speed");this.speed=l,this.gunBD=e,this.node.angle=-c,this.node.x=r,this.node.y=a,this.vx=o,this.vy=i,this.vXS=o,this.vYS=i,this.isMe=n,this.byFish=t.get("byFish"),this.timeTotalLife=t.get("timeTotalLife"),this.SFSArrayFish=s.ConectManager.getIns().getSFSArray(),this.node.children[0].angle=0,this.node.children[1].active=!1,this.unschedule(this.sendToServer),this.schedule(this.sendToServer,.1),this.node.children[0].active=!0,this.node.children[2].active=!0},e.prototype.setPanel=function(t){this.panelPoint=t},e.prototype.sendToServer=function(){var t=s.ConectManager.getIns().getSFSObj();t.putInt("Type",l.default.MUI_KHOAN),t.putLong("byFish",this.byFish),t.putLong("Id",this.byFish),t.putSFSArray("ListFishId",this.SFSArrayFish),t.putInt("lastMoneyRevice",this.panelPoint.moneyCurrent),a.Windown.FishBongDem.sendRequest(c.default.FishSpecialColisionBD,t),this.SFSArrayFish=s.ConectManager.getIns().getSFSArray()},e.prototype.onCollision=function(t,e){if(t.getCanColision()){this.SFSArrayFish.addInt(t.fishId);var n=a.Windown.FishBongDem.pool.getVaChamMuiKhoan();n.parent=a.Windown.FishBongDem.fishBDView.parentEffect;var o=e.node.parent.convertToWorldSpaceAR(e.node.getPosition()),i=a.Windown.FishBongDem.fishBDView.parentEffect.convertToNodeSpaceAR(o);n.setPosition(i),n.opacity=255,n.scale=0,n.stopAllActions(),n.runAction(cc.sequence(cc.scaleTo(.1,1),cc.fadeOut(.3),cc.callFunc(function(){a.Windown.FishBongDem.pool.putVaChamMuiKhoan(n)})));var r=a.Windown.FishBongDem.getSound();r.playEffectNoStop(r.trungMuiKhoan)}},e.prototype.remove=function(){},e.prototype.checkState=function(){var t=this;if(this.timeTotalLife>4)this.state!=d.normal&&(this.vx=this.vXS,this.vy=this.vYS,this.spineBullet.setAnimation(0,this.spineNameBinhThuong,!0)),this.state=d.normal;else if(this.timeTotalLife>2)this.state!=d.ganEnd&&(this.node.children[2].active=!1,this.vx=.6*this.vXS,this.vy=.6*this.vYS,this.spineBullet.setAnimation(0,this.spineNameGanHet,!0)),this.state=d.ganEnd;else if(this.timeTotalLife>0)this.state!=d.end&&(this.node.children[0].runAction(cc.rotateBy(2,720)),this.vx=.3*this.vXS,this.vy=.3*this.vYS,this.spineBullet.setAnimation(0,this.spineNameHet,!0)),this.state=d.end;else{if(this.state!=d.stop){this.unschedule(this.sendToServer),this.node.children[0].active=!1;var e=this.spineExplode;e.node.active=!0,e.setAnimation(0,"animation",!1),a.Windown.FishBongDem.fishBDView.shakeScence(.1),this.scheduleOnce(function(){var e=s.ConectManager.getIns().getSFSObj();e.putInt("Type",l.default.END_MUI_KHOAN),e.putLong("Id",t.byFish+1),a.Windown.FishBongDem.sendRequest(c.default.UsingItemDrag,e);for(var n=s.ConectManager.getIns().getSFSArray(),o=a.Windown.FishBongDem.fishMng.getMapFish().values(),i=o.next();!i.done;){var r=i.value;i=o.next();var u=cc.Vec2.distance(r.getPoint(),t.node.getPosition());r.isInScreen()&&r.fishType<8&&u<300&&n.addInt(r.fishId)}var h=s.ConectManager.getIns().getSFSObj();h.putInt("Type",l.default.END_MUI_KHOAN),h.putLong("byFish",t.byFish),h.putLong("Id",t.byFish+1),h.putSFSArray("ListFishId",n),h.putInt("lastMoneyRevice",t.panelPoint.moneyCurrent),a.Windown.FishBongDem.sendRequest(c.default.FishSpecialColisionBD,h),a.Windown.FishBongDem.getSound().playEffect(a.Windown.FishBongDem.getSound().fishBoom),t.scheduleOnce(function(){a.Windown.FishBongDem.pool.putBulletMuiKhoan(t.node)},1.5)},.2)}this.state=d.stop}},e.prototype.update=function(t){if(t*=cc.director.getScheduler().getTimeScale(),this.timeTotalLife-=t,this.checkState(),!(this.timeTotalLife<0)){var e=this.vx*t,n=this.vy*t,o=this.node.x+e,i=this.node.y+n;(o>=this.limitRight||o<=this.limitLeft)&&(a.Windown.FishBongDem.fishBDView.shakeScence(.05),this.vx*=-1,this.vXS*=-1,this.node.angle=-this.node.angle,o=o>=this.limitRight?this.limitRight-1:this.limitLeft+1),(i>=this.limitTop||i<=this.limitBottom)&&(a.Windown.FishBongDem.fishBDView.shakeScence(.05),this.vy*=-1,this.vYS*=-1,this.node.angle=-180-this.node.angle,i=i>=this.limitTop?this.limitTop-1:this.limitBottom+1),this.node.x=o,this.node.y=i}},r([f(cc.SpriteFrame)],e.prototype,"spBinhThuong",void 0),r([f(cc.SpriteFrame)],e.prototype,"spGanHet",void 0),r([f(cc.SpriteFrame)],e.prototype,"spHet",void 0),r([f(sp.Skeleton)],e.prototype,"spineBullet",void 0),r([f(sp.Skeleton)],e.prototype,"spineExplode",void 0),r([p],e)}(u.default);n.default=y,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Windown":void 0,"../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD","./BaseBulletBD":"BaseBulletBD"}],BulletNormal:[function(t,e,n){"use strict";cc._RF.push(e,"0e784kwooxEireyBGENd22q","BulletNormal");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Network/ConectManager"),a=t("../../../../Scritps/Windown"),c=t("../Network/CODE_EVT"),l=t("./BaseBulletBD"),u=cc._decorator,h=u.ccclass,p=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.limitTop=360,e.limitBottom=-360,e.limitRight=640,e.limitLeft=-640,e.lifeTime=4,e._idBullet=0,e.isCanColision=!1,e.type=null,e.vx=0,e.vy=0,e.fishIdTarget=-1,e.isMe=!1,e.fishTarget=void 0,e.speed=0,e.coliderTarget=null,e}return i(e,t),e.prototype.creat=function(t,e,n){void 0===n&&(n=!1);var o=t.getFloat("VelocityX"),i=t.getFloat("VelocityY"),r=t.getFloat("PositionX"),s=t.getFloat("PositionY"),c=t.getFloat("Angle"),l=t.getInt("Speed");this.speed=l,this.gunBD=e,this.getComponent(cc.BoxCollider).enabled=!0,this.type=t.getInt("GunType"),this._idBullet=t.get("BulletId"),this.fishIdTarget=t.getInt("FishIdTarget")||-1,this.fishTarget=a.Windown.FishBongDem.fishMng.getFishById(this.fishIdTarget),this.fishTarget&&this.fishTarget.getListColider().length>0&&(this.coliderTarget=this.fishTarget.getListColider()[t.get("IC")]),this.node.angle=-c,this.node.x=r,this.node.y=s,this.lifeTime=4,this.vx=o,this.vy=i,this.isCanColision=!0,this.isMe=n,this.node.children[0].active=!0,this.node.children[1].active=!1},e.prototype.onCollision=function(t,e){this.onColisionFishNormal(t,e)},e.prototype.onColisionFishNormal=function(t,e){if(this.isCanColision&&t.getCanColision()&&(-1==this.fishIdTarget||t.fishId==this.fishIdTarget)&&(t.onColision(e),this.creatLuoi(),this.getComponent(cc.BoxCollider).enabled=!1,this.isCanColision=!1,this.isMe)){var n=s.ConectManager.getIns().getSFSObj();n.putLong("BulletId",this._idBullet),n.putInt("FishId",t.fishId),n.putInt("FishType",t.fishType),a.Windown.FishBongDem.sendRequest(c.default.FishColisionBD,n)}},e.prototype.update=function(t){if(this.isCanColision){t*=cc.director.getScheduler().getTimeScale(),this.getVec();var e=this.vx*t,n=this.vy*t,o=this.node.x+e,i=this.node.y+n;(o>=this.limitRight||o<=this.limitLeft)&&(this.vx*=-1,this.lifeTime--,this.fishIdTarget=-1,this.node.angle=-this.node.angle,o=o>=this.limitRight?this.limitRight-1:this.limitLeft+1,this.lifeTime<1&&this.remove()),(i>=this.limitTop||i<=this.limitBottom)&&(this.vy*=-1,this.node.angle=-180-this.node.angle,i=i>=this.limitTop?this.limitTop-1:this.limitBottom+1,this.lifeTime--,this.fishIdTarget=-1,this.lifeTime<1&&this.remove()),this.node.x=o,this.node.y=i}},e.prototype.getVec=function(){if(-1!=this.fishIdTarget&&this.fishTarget&&this.coliderTarget&&this.coliderTarget.node&&this.fishTarget.isInList){var t=this.coliderTarget.node.parent.convertToWorldSpaceAR(this.coliderTarget.node.getPosition()),e=a.Windown.FishBongDem.fishBDView.parentFish.convertToNodeSpaceAR(t).subSelf(this.node.getPosition()),n=180*Math.atan2(e.x,e.y)/Math.PI,o=this.speed,i=o*Math.sin(n*Math.PI/180),r=o*Math.cos(n*Math.PI/180);this.vx=i,this.vy=r,this.node.angle=-n}return cc.v2(this.vx,this.vy)},e.prototype.creatLuoi=function(){this.node.children[0].active=!1;var t=this.node.children[1];t.active=!0,t.scale=.8,t.opacity=255;var e=cc.scaleTo(.2,1),n=cc.scaleTo(.25,.3),o=cc.fadeOut(.25).easing(cc.easeOut(1)),i=cc.callFunc(this.remove,this);t.stopAllActions(),t.runAction(cc.sequence(e,cc.spawn(n,o),i))},e.prototype.remove=function(){this.fishTarget=null,this.gunBD.putButtletNormal(this.node)},r([h],e)}(l.default));n.default=p,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Windown":void 0,"../Network/CODE_EVT":"CODE_EVT","./BaseBulletBD":"BaseBulletBD"}],BulletSongAmBD:[function(t,e,n){"use strict";cc._RF.push(e,"b0337fHJ7xPzYGnmR4F2Uav","BulletSongAmBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Network/ConectManager"),a=t("../../../../Scritps/Windown"),c=t("../Network/CODE_EVT"),l=t("../Player/TypeItemDragBD"),u=t("./BaseBulletBD"),h=cc._decorator,p=h.ccclass,f=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.funDeactive=null,e.funDelaySendFish=null,e.SFSArrayFish=null,e.byFish=-1,e}return i(e,t),e.prototype.creat=function(){},e.prototype.init=function(t,e){var n=this;this.node.active=!0,this.byFish=e,this.SFSArrayFish=s.ConectManager.getIns().getSFSArray(),this.unschedule(this.funDeactive),this.unschedule(this.funDelaySendFish),this.scheduleOnce(this.funDeactive=function(){n.sendToServer(),n.unschedule(n.funDelaySendFish),n.node.active=!1},t),this.schedule(this.funDelaySendFish=function(){n.sendToServer()},.5)},e.prototype.sendToServer=function(){var t=s.ConectManager.getIns().getSFSObj();t.putInt("Type",l.default.SONG_AM),t.putLong("byFish",this.byFish),t.putLong("Id",this.byFish),t.putSFSArray("ListFishId",this.SFSArrayFish),a.Windown.FishBongDem.sendRequest(c.default.FishSpecialColisionBD,t),this.SFSArrayFish=s.ConectManager.getIns().getSFSArray()},e.prototype.onCollision=function(t){t.getCanColision()&&this.SFSArrayFish.addInt(t.fishId)},e.prototype.remove=function(){},e.prototype.update=function(){},r([p],e)}(u.default));n.default=f,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Windown":void 0,"../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD","./BaseBulletBD":"BaseBulletBD"}],CODE_EVT:[function(t,e,n){"use strict";cc._RF.push(e,"bf90fPO1FVMz6hLkFqxnblM","CODE_EVT"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.OtherJoinBDRoom="otherJoinBDRoom",t.CreatFishBD="creatFishBD",t.ChangeMoneyGun="changeMoneyGun",t.RemoveListFishBD="removeListFishBD",t.GunAtackBD="gunAtackBD",t.FishColisionBD="fishColisionBD",t.FishSpecialColisionBD="fishSpecialColisionBD",t.IceAllFishBD="iceAllFishBD",t.RemoveAllFish="removeAllFish",t.PlayerUsingItemFishBD="playerUsingItemFishBD",t.NotFindFishBD="notFindFishBD",t.InfoFishRoomBD="infoFishRoomBD",t.SetTimeFishEffectBD="setTimeFishEffectBD",t.TimeOutPlayBD="timeOutPlayBD",t.AddItemDrag="addItemDrag",t.UsingItemDrag="usingItemDrag",t.ChangeGunFishBD="changeGunFishBD",t.Upacingame="upacingame",t.RequestLeaveRoom="requestLeaveRoom",t.RotateGun="rotateGun",t.GetLogJackpot="getLogJackpot",t.TakeItemFish="takeItemFish",t.MatThanAtack="mtat",t.RemoveMatThan="rmmt",t.TrieuHoi="th",t}();n.default=o,cc._RF.pop()},{}],CamMayBongDem:[function(t,e,n){"use strict";cc._RF.push(e,"ce29evF3QxKWayplje1FPaw","CamMayBongDem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=t("./Player/Effect/TypePlayerEffectBD"),c=cc._decorator,l=c.ccclass,u=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.toggleStart=null,e.pageTime=null,e.listTime=[300,900,1800,3600,7200],e.isAuto=!1,e}return i(e,t),e.prototype.show=function(){this.node.active=!0,s.Windown.actionEffectOpen(this.node)},e.prototype.onClickClose=function(){var t=this;s.Windown.actionEffectClose(this.node,function(){t.node.active=!1})},e.prototype.onClickChangeTime=function(t,e){"+"==e?this.pageTime.scrollToPage(this.pageTime.getCurrentPageIndex()+1,.3):this.pageTime.scrollToPage(this.pageTime.getCurrentPageIndex()-1,.3),this.pageTime.getCurrentPageIndex()==this.pageTime.getPages().length-1?cc.find("Time/add",this.node).getComponent(cc.Button).interactable=!1:cc.find("Time/add",this.node).getComponent(cc.Button).interactable=!0,0==this.pageTime.getCurrentPageIndex()?cc.find("Time/sub",this.node).getComponent(cc.Button).interactable=!1:cc.find("Time/sub",this.node).getComponent(cc.Button).interactable=!0},e.prototype.onToggle=function(){var t=this.listTime[this.pageTime.getCurrentPageIndex()];this.toggleStart.isChecked?(this.onClickClose(),s.Windown.FishBongDem.me.timeItemAuto=t):s.Windown.FishBongDem.me.forceEndEffect(a.default.AUTO)},e.prototype.disableToggle=function(){this.toggleStart.isChecked=!1,this.toggleStart.checkMark.node.active=!1},r([u(cc.Toggle)],e.prototype,"toggleStart",void 0),r([u(cc.PageView)],e.prototype,"pageTime",void 0),r([l],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/Windown":void 0,"./Player/Effect/TypePlayerEffectBD":"TypePlayerEffectBD"}],ColisionBoomNguyenTu:[function(t,e,n){"use strict";cc._RF.push(e,"8c359IUSINLDqxBy7ak0DpZ","ColisionBoomNguyenTu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Windown"),c=t("./BaseFishDeaditemDrag"),l=t("./PanelPoint"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodePanel=null,e}return i(e,t),e.prototype.excuted=function(){return r(this,void 0,void 0,function(){var t,e,n,o;return s(this,function(i){switch(i.label){case 0:if(null==this.player)return[2];for(e in t=[],this.listFishValue)t.push(e);n=0,i.label=1;case 1:return n<t.length?(o=t[n],this.handleMoneydAdd(this.listFishValue[o]),[4,a.Windown.FishBongDem.makeDelay(.2)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.getNode=function(){var t=this.player.mapNodePanel.get(this.idByFish);return null==t?null:t},e.prototype.end=function(){},e.prototype.handleMoneydAdd=function(t){var e=this.getNode();e&&(this.nodePanel=e.getComponent(l.default),this.nodePanel.addMoney(t))},e}(c.default);n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"./BaseFishDeaditemDrag":"BaseFishDeaditemDrag","./PanelPoint":"PanelPoint"}],ColisionCrabBoom:[function(t,e,n){"use strict";cc._RF.push(e,"e2094+14WpM8739szj2x1kn","ColisionCrabBoom");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.excuted=function(){return r(this,void 0,void 0,function(){return s(this,function(){return t.prototype.excuted.call(this),this.nodePanel&&this.nodePanel.end(),[2]})})},e}(t("./ColisionCrab").default);n.default=a,cc._RF.pop()},{"./ColisionCrab":"ColisionCrab"}],ColisionCrabEndMuiKhoan:[function(t,e,n){"use strict";cc._RF.push(e,"38c7fs+Qp5Gqof0nQ5wwUU/","ColisionCrabEndMuiKhoan");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Windown"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodePanel=null,e}return i(e,t),e.prototype.excuted=function(){return r(this,void 0,void 0,function(){return s(this,function(){return t.prototype.excuted.call(this),this.nodePanel&&this.nodePanel.end(),[2]})})},e.prototype.getPoolNode=function(){return a.Windown.FishBongDem.pool.getPanelMuiKhoan()},e}(t("./ColisionCrab").default);n.default=c,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"./ColisionCrab":"ColisionCrab"}],ColisionCrabGunFire:[function(t,e,n){"use strict";cc._RF.push(e,"8982dhlNr5CIpd2V8B1i4yu","ColisionCrabGunFire");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Windown"),c=t("./BaseFishDeaditemDrag"),l=t("./PanelPoint"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodePanel=null,e}return i(e,t),e.prototype.excuted=function(){return r(this,void 0,void 0,function(){var t,e,n,o;return s(this,function(i){switch(i.label){case 0:if(null==this.player)return[2];for(e in t=[],this.listFishValue)t.push(e);n=0,i.label=1;case 1:return n<t.length?(o=t[n],this.handleMoneydAdd(this.listFishValue[o]),[4,a.Windown.FishBongDem.makeDelay(.2)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.getNode=function(){var t=this.player.mapNodePanel.get(this.idByFish);return null==t?null:t},e.prototype.putNode=function(t){a.Windown.FishBongDem.pool.putPanelLaze(t),this.player.mapNodePanel.delete(this.idByFish)},e.prototype.getPoolNode=function(){return a.Windown.FishBongDem.pool.getPanelLaze()},e.prototype.end=function(){},e.prototype.handleMoneydAdd=function(t){var e=this.getNode();e&&(this.nodePanel=e.getComponent(l.default),this.nodePanel.addMoney(t))},e}(c.default);n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"./BaseFishDeaditemDrag":"BaseFishDeaditemDrag","./PanelPoint":"PanelPoint"}],ColisionCrabMuiKhoan:[function(t,e,n){"use strict";cc._RF.push(e,"8834b9abh9Lv5h5BRYygtXJ","ColisionCrabMuiKhoan");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Windown"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getPoolNode=function(){return r.Windown.FishBongDem.pool.getPanelMuiKhoan()},e}(t("./ColisionCrab").default);n.default=s,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"./ColisionCrab":"ColisionCrab"}],ColisionCrabSongAm:[function(t,e,n){"use strict";cc._RF.push(e,"33d13lVQ4JEKKXMWMa7W/L+","ColisionCrabSongAm");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Windown"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getPoolNode=function(){return r.Windown.FishBongDem.pool.getPanelSongAm()},e}(t("./ColisionCrab").default);n.default=s,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"./ColisionCrab":"ColisionCrab"}],ColisionCrab:[function(t,e,n){"use strict";cc._RF.push(e,"9df77QN+RxIMYKEwU96ceOk","ColisionCrab");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Fish/DeadEffect/FishDeadNormal"),c=t("../Fish/DeadEffect/FishDeadNormalRd"),l=t("./BaseFishColision"),u=t("./PanelPoint"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodePanel=null,e}return i(e,t),e.prototype.excuted=function(){return r(this,void 0,void 0,function(){var t,e,n,o,i=this;return s(this,function(){if(null==this.player)return[2];for(o in this.nodePanel=this.getNode(),t=0,e=function(e){var o=n.getDeadEffectWithFishType(n.listFish[e],n.moneyGun,n.player);o.moneyRevice=n.listFishValue[e],n.nodePanel&&(o.funCall=function(t){i.nodePanel&&(i.nodePanel.addMoney(t),i.nodePanel.removeHandle(o.funCall))},n.nodePanel.addHandle(o.funCall)),o.execute(t,!0),t+=.3},n=this,this.listFish)e(o);return[2]})})},e.prototype.getNode=function(){var t=this.player.mapNodePanel.get(this.idByFish);return null==t?null:t.getComponent(u.default)},e.prototype.getDeadEffectWithFishType=function(t,e,n){return t.fishType<15?new a.default(t,n,e):new c.default(t,n,e)},e}(l.default);n.default=h,cc._RF.pop()},{"../Fish/DeadEffect/FishDeadNormal":"FishDeadNormal","../Fish/DeadEffect/FishDeadNormalRd":"FishDeadNormalRd","./BaseFishColision":"BaseFishColision","./PanelPoint":"PanelPoint"}],ColisionDinhBa:[function(t,e,n){"use strict";cc._RF.push(e,"84d00t2HRtPVKgLNfbknbvc","ColisionDinhBa");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Windown"),c=t("./BaseFishDeaditemDrag"),l=t("./PanelPoint"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodePanel=null,e}return i(e,t),e.prototype.excuted=function(){return r(this,void 0,void 0,function(){var t,e,n,o,i,r;return s(this,function(s){switch(s.label){case 0:if(null==this.player)return[2];for(n in this.listFish.forEach(function(t){if(t.isInList=!1,t.fishType<33){var e=1==a.Windown.RandomNumber(0,2)?a.Windown.RandomNumber(200,720):a.Windown.RandomNumber(-720,-200);t.setTimeEffectWating(2);var n=t.getViewNode();n.opacity=150,n.runAction(cc.sequence(cc.spawn(cc.sequence(cc.moveBy(1,0,150).easing(cc.easeSineOut()),cc.moveBy(1,0,-150).easing(cc.easeSineIn())),cc.rotateBy(2,e)),cc.delayTime(1)))}}),t={time:0},cc.tween(t).delay(.5).call(function(){a.Windown.FishBongDem&&a.Windown.FishBongDem.fishBDView&&a.Windown.FishBongDem.fishBDView.effectSlowmotion(1,.2)}).start(),e=[],this.listFishValue)e.push(n);o=0,s.label=1;case 1:return o<e.length?(i=e[o],this.handleMoneydAdd(this.listFishValue[i]),[4,a.Windown.FishBongDem.makeDelay(.2)]):[3,4];case 2:s.sent(),s.label=3;case 3:return o++,[3,1];case 4:return[4,a.Windown.FishBongDem.makeDelay(8)];case 5:return s.sent(),(r=this.getNode())&&(this.nodePanel=r.getComponent(l.default),this.nodePanel.end()),[2]}})})},e.prototype.getNode=function(){var t=this.player.mapNodePanel.get(this.idByFish);return null==t?null:t},e.prototype.end=function(){},e.prototype.handleMoneydAdd=function(t){var e=this.getNode();e&&(this.nodePanel=e.getComponent(l.default),this.nodePanel.addMoney(t))},e}(c.default);n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"./BaseFishDeaditemDrag":"BaseFishDeaditemDrag","./PanelPoint":"PanelPoint"}],ColisionFish74:[function(t,e,n){"use strict";cc._RF.push(e,"b32cfIYyrdOuoToDsd4GXpW","ColisionFish74");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Windown"),c=t("../Fish/DeadEffect/FishDeadNormal"),l=t("../Fish/DeadEffect/FishDeadNormalRd"),u=t("../Fish/FISH_TYPE"),h=t("./ColisionCrab"),p=t("./PanelPoint"),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodePanel=null,e}return i(e,t),e.prototype.excuted=function(){return r(this,void 0,void 0,function(){var e,n,o,i,r,c,l,h,f,d,y,g;return s(this,function(s){switch(s.label){case 0:if(null==this.player)return[2];for(e=a.Windown.FishBongDem.pool.getPanelFish74(),this.idByFish=this.listFish[0].fishId,e.getComponent(p.default).init(this.player,this.idByFish,u.default.FISH_74),n=[],o=this.listFish.shift(),this.listFishValue.shift(),o.playAniDead(),o.removeFishFromList(),this.player.addGold(0),i=0,r=this.listFish;i<r.length;i++)c=r[i],a.Windown.FishBongDem.getSound().playEffectNoStop(a.Windown.FishBongDem.getSound().Electricity),c.playAniDead(),c.removeFishFromList(),(l=a.Windown.FishBongDem.pool.getEffectFishSet74()).parent=a.Windown.FishBongDem.fishBDView.parentEffect,h=o.getPoint(),f=c.getPoint(),l.setPosition(h),n.push(l),d=f.clone().subSelf(h),y=180*Math.atan2(d.x,d.y)/Math.PI,g=cc.Vec2.distance(f,h),l.angle=-y,l.height=g,l.children[0].y=g;return[4,a.Windown.FishBongDem.makeDelay(2)];case 1:return s.sent(),o.playAniRemove(),n.forEach(function(t){t.destroy()}),t.prototype.excuted.call(this),e.getComponent(p.default).end(),[2]}})})},e.prototype.getNode=function(){var t=this.player.mapNodePanel.get(this.idByFish);return null==t?null:t.getComponent(p.default)},e.prototype.getDeadEffectWithFishType=function(t,e,n){return t.fishType<15?new c.default(t,n,e):new l.default(t,n,e)},e}(h.default);n.default=f,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"../Fish/DeadEffect/FishDeadNormal":"FishDeadNormal","../Fish/DeadEffect/FishDeadNormalRd":"FishDeadNormalRd","../Fish/FISH_TYPE":"FISH_TYPE","./ColisionCrab":"ColisionCrab","./PanelPoint":"PanelPoint"}],ColisionHaiThanDead:[function(t,e,n){"use strict";cc._RF.push(e,"2f919qAfMFMMaQo1uWnaq0x","ColisionHaiThanDead");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Windown"),c=t("../Fish/DeadEffect/FishDeadChildHT"),l=t("../Fish/DeadEffect/FishDeadHaiThan"),u=t("./BaseFishColision"),h=t("./PanelPoint"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pannelPoint=null,e}return i(e,t),e.prototype.excuted=function(){return r(this,void 0,void 0,function(){var t,e,n,o,i,r,c=this;return s(this,function(s){switch(s.label){case 0:if(null==this.player)return[2];for(i in t=a.Windown.FishBongDem.getSound(),e=a.Windown.FishBongDem.pool.getPanelHaiThan(),this.pannelPoint=e.getComponent(h.default),this.pannelPoint.reset(),this.player.mapNodePanel.set(this.idByFish,e),e.parent=this.player.parentPanel,e.scale=0,e.opacity=255,e.stopAllActions(),e.runAction(cc.scaleTo(.3,1).easing(cc.easeBackOut())),n=0,o=[],this.listFish)(r=this.getDeadEffectWithFishType(this.listFish[i],this.moneyGun,this.player)).moneyRevice=this.listFishValue[i],r.funCall=function(t){c.handleMoneydAdd(t)},o.push(r.execute(n,!0)),n+=.2;return a.Windown.FishBongDem.setTimeout(function(){t.playEffect(t.demTien,c.player.isMe?.8:.4,!0)},1.9),[4,Promise.all(o)];case 1:return s.sent(),t.stopEffect(t.demTien),t.playEffect(t.caLonChet),e.stopAllActions(),e.runAction(cc.sequence(cc.scaleTo(.5,1.3),cc.scaleTo(.3,1),cc.delayTime(3),cc.fadeOut(.5),cc.callFunc(function(){c.pannelPoint.node&&(a.Windown.FishBongDem.pool.putPanelHaiThan(c.pannelPoint.node),c.player.mapNodePanel.delete(c.idByFish))}))),[2]}})})},e.prototype.handleMoneydAdd=function(t){this.pannelPoint.addMoney(t)},e.prototype.getDeadEffectWithFishType=function(t,e,n){return t.fishType>28&&t.fishType<33?new c.default(t,n,e):new l.default(t,n,e)},e}(u.default);n.default=p,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"../Fish/DeadEffect/FishDeadChildHT":"FishDeadChildHT","../Fish/DeadEffect/FishDeadHaiThan":"FishDeadHaiThan","./BaseFishColision":"BaseFishColision","./PanelPoint":"PanelPoint"}],ColisionItemHaiThan:[function(t,e,n){"use strict";cc._RF.push(e,"a4c8cEUS9VOwJmjoGVUN7IT","ColisionItemHaiThan");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Windown"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.excuted=function(){var t=this;if(null!=this.player){var e=r.Windown.FishBongDem.fishMng.getFishById(this.sfsObj.get("byFish")),n=e.stateItem,o=r.Windown.FishBongDem.pool.getItemMiniBoss(n);o.parent=r.Windown.FishBongDem.fishBDView.parentEffect,o.setPosition(e.getPointItem()),o.scale=0,o.angle=0;var i=e.getViewNode().x+-200,s=e.getViewNode().y-50,a=cc.spawn(cc.jumpTo(1,cc.v2(i,s),100,3),cc.rotateBy(1,720),cc.scaleTo(.2,1)),c=cc.delayTime(2),l=cc.moveTo(1,this.player.gunFishBd.pointInScreen).easing(cc.easeBackIn()),u=cc.callFunc(function(){r.Windown.FishBongDem.pool.putItemMiniBoss(o),t.player.addGold(t.listFishValue[0])});o.runAction(cc.sequence(a,c,l,u)),e.stateItem++,e.updateStateAni();var h=r.Windown.FishBongDem.getSound();h.playEffect(h.miniBossRoiItem)}},e}(t("./BaseFishColision").default);n.default=s,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"./BaseFishColision":"BaseFishColision"}],ColisionLocXoay:[function(t,e,n){"use strict";cc._RF.push(e,"c34de9B6x5HUaDgPn4FerYi","ColisionLocXoay");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Windown"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.excuted=function(){return r(this,void 0,void 0,function(){var t,e,n,o,i,r,c,l;return s(this,function(s){switch(s.label){case 0:return null==this.player?[2]:((t=this.listFish[0]).removeFishFromList(),t.playAniDead(),t.playAniRemove(),e=t.getPoint(),[4,a.Windown.FishBongDem.makeDelay(1)]);case 1:return s.sent(),this.addMoney(this.listFishValue[0],e,this.player),(n=a.Windown.FishBongDem.pool.getLocXoay()).parent=a.Windown.FishBongDem.fishBDView.parentFish,n.zIndex=cc.macro.MIN_ZINDEX,n.setPosition(e),n.scale=0,n.runAction(cc.scaleTo(1,1.5)),[4,a.Windown.FishBongDem.makeDelay(1)];case 2:for(c in s.sent(),this.listFish)(l=this.listFish[c]).removeFishFromList(),l!=t&&this.playActionFish(l,e);return[4,a.Windown.FishBongDem.makeDelay(3)];case 3:for(i in s.sent(),o=[],this.listFish)o.push(i);r=0,s.label=4;case 4:return r<o.length?(c=o[r],(l=this.listFish[c])==t?[3,6]:(this.addMoney(this.listFishValue[c],e,this.player),[4,a.Windown.FishBongDem.makeDelay(.2)])):[3,7];case 5:s.sent(),s.label=6;case 6:return r++,[3,4];case 7:return n.stopAllActions(),n.runAction(cc.sequence(cc.scaleTo(1,0),cc.callFunc(function(){a.Windown.FishBongDem.pool.putLocXoay(n)}))),[2]}})})},e.prototype.addMoney=function(t,e,n){if(null!=(n=a.Windown.FishBongDem.playerMng.getPlayerById(n.acountId))){var o=a.Windown.FishBongDem.pool.getTextMoney(n.isMe);o.getComponent(cc.Label).string=t.toString(),o.parent=a.Windown.FishBongDem.fishBDView.parentEffect,o.opacity=255,o.setPosition(e),o.scale=0;var i=cc.scaleTo(.1,1).easing(cc.easeBackOut()),r=cc.delayTime(.2),s=cc.spawn(cc.fadeTo(.1,150),cc.scaleTo(.2,.8)),c=cc.moveBy(1,0,80),l=cc.callFunc(function(){a.Windown.FishBongDem.pool.putTextMoney(o)});o.runAction(cc.sequence(cc.spawn(c,cc.sequence(i,r,s)),l)),n.addGold(t);var u=a.Windown.FishBongDem.getSound();u.playEffectNoStop(u.coinVeTui,n.isMe?.8:.4)}},e.prototype.playActionFish=function(t,e){t.fishView&&t.fishView.aniStateMove&&t.fishView.aniStateMove.pause();var n=e.clone().subSelf(t.getPoint()),o=180*Math.atan2(n.x,n.y)/Math.PI,i=t.getViewNode();i.stopAllActions();var r=cc.sequence(cc.delayTime(2.5),cc.scaleTo(.5,0)),s=cc.moveTo(3,e).easing(cc.easeSineOut()),a=cc.rotateTo(.5,-o-180),c=cc.spawn(r,s,a);i.runAction(cc.sequence(c,cc.callFunc(t.destroy,t)))},e}(t("./BaseFishColision").default);n.default=c,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"./BaseFishColision":"BaseFishColision"}],ColisionMatThan:[function(t,e,n){"use strict";cc._RF.push(e,"cafd3LCT0lIvIYHUPig6Ozw","ColisionMatThan");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Windown"),c=t("./BaseFishDeaditemDrag"),l=t("./PanelPoint"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodePanel=null,e}return i(e,t),e.prototype.excuted=function(){return r(this,void 0,void 0,function(){var t,e,n,o,i;return s(this,function(r){switch(r.label){case 0:if(null==this.player)return[2];for(e in t=[],this.listFishValue)t.push(e);n=0,r.label=1;case 1:return n<t.length?(o=t[n],this.handleMoneydAdd(this.listFishValue[o]),(i=this.player.mapMatThan.get(this.idByFish))&&i.emitNewMoney(),[4,a.Windown.FishBongDem.makeDelay(.2)]):[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.getNode=function(){var t=this.player.mapNodePanel.get(this.idByFish);return null==t?null:t},e.prototype.end=function(){},e.prototype.handleMoneydAdd=function(t){var e=this.getNode();e&&(this.nodePanel=e.getComponent(l.default),this.nodePanel.addMoney(t))},e}(c.default);n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"./BaseFishDeaditemDrag":"BaseFishDeaditemDrag","./PanelPoint":"PanelPoint"}],ColisionNormal:[function(t,e,n){"use strict";cc._RF.push(e,"b39c2cLUMJOWojbko/HkUGU","ColisionNormal");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.excuted=function(){if(null!=this.player){var t=0;for(var e in this.listFish){var n=this.getDeadEffectWithFishType(this.listFish[e],this.moneyGun,this.player);n.moneyRevice=this.listFishValue[e],n.execute(t,!0),t+=.2}}},e}(t("./BaseFishColision").default);n.default=r,cc._RF.pop()},{"./BaseFishColision":"BaseFishColision"}],CrabVongQuay:[function(t,e,n){"use strict";cc._RF.push(e,"4b60bjA2adNrbOkF4/tR2xY","CrabVongQuay");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/Obs/LbMoneyChange"),l=t("../../../../Scritps/Windown"),u=cc._decorator,h=u.ccclass,p=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodex400=null,e.nodeGold=null,e.dauRong=null,e.parentCoin=null,e.listNodeVong=[],e.lbMoneyRevice=null,e.mutil=-1,e.moneyRevice=0,e.funNext=null,e.listMutil=[[20,null,30,null,40,null,50,null],[100,null,120,140,null,160],[null,200,240]],e.listAngke=[[[0,31],[44,75],[90,121],[137,167],[182,211],[226,256],[270,300],[316,345]],[[0,41],[60,105],[125,161],[185,225],[240,280],[300,340]],[[3,85],[123,200],[240,325]]],e.listIndexNull=[[1,3,5,7],[1,4],[0]],e}return i(e,t),e.prototype.jumTest=function(){},e.prototype.init=function(t,e){var n=this;return new Promise(function(o){l.Windown.FishBongDem.addHandleReset(n.node.destroy,n.node,!0),n.funNext=o,n.moneyRevice=e,n.nodex400.active=!0,n.nodex400.scale=0,n.nodex400.runAction(cc.sequence(cc.scaleTo(.3,1).easing(cc.easeBackOut()),cc.delayTime(1.5),cc.callFunc(function(){var t=l.Windown.FishBongDem.getSound();t.playEffect(t.hopQuaMo)}),cc.scaleTo(.3,0).easing(cc.easeBackIn()),cc.callFunc(function(){n.nodeGold.runAction(cc.sequence(cc.scaleTo(.3,1.4),cc.scaleTo(.3,1)))}),cc.delayTime(1),cc.callFunc(n.startQuay,n))),n.mutil=t})},e.prototype.startQuay=function(){return s(this,void 0,void 0,function(){var t,e,n,o,i=this;return a(this,function(r){switch(r.label){case 0:t=l.Windown.FishBongDem.getSound(),e=0,n=function(){var n,i,r;return a(this,function(s){switch(s.label){case 0:return n=o.getAngleMutil(o.mutil,e),i=o.listNodeVong[e],t.playEffect(t.spinVongQuay),r=cc.rotateBy(3,720+n.angle-i.angle).easing(cc.easeCubicActionOut()),i.runAction(cc.sequence(r,cc.callFunc(function(){t.stopEffect(t.spinVongQuay);var e=i.children[0].children[n.index];n.isNext?e.children[0].runAction(cc.repeat(cc.sequence(cc.callFunc(function(){t.playEffect(t.takeNgocRong)}),cc.moveTo(.2,cc.v2(0,-10)),cc.moveTo(.2,cc.v2(0,0))),2)):(t.playEffectNoStop(t.hopQuaNo),e.runAction(cc.repeat(cc.sequence(cc.scaleTo(.3,1.3),cc.scaleTo(.3,1)),3)))}))),[4,l.Windown.FishBongDem.makeDelay(4)];case 1:return s.sent(),n.isNext&&e<2&&(t.playEffect(t.diaGa),o.dauRong.runAction(cc.moveBy(.5,cc.v2(0,-35)))),[4,l.Windown.FishBongDem.makeDelay(1)];case 2:return s.sent(),n.isNext&&2!=e?(e++,[2]):[2,"break"]}})},o=this,r.label=1;case 1:return[5,n()];case 2:return"break"===r.sent()?[3,3]:[3,1];case 3:return e>=2?(this.phunXuBig(),this.nodeGold.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.3,1.4),cc.scaleTo(.3,1)))),[4,l.Windown.FishBongDem.makeDelay(.5)]):[3,6];case 4:return r.sent(),this.lbMoneyRevice.node.parent.active=!0,this.lbMoneyRevice.node.parent.scale=0,this.lbMoneyRevice.node.parent.runAction(cc.scaleTo(.5,1).easing(cc.easeBackOut())),this.lbMoneyRevice.time=3,this.lbMoneyRevice.setMoney(this.moneyRevice),[4,l.Windown.FishBongDem.makeDelay(3)];case 5:return r.sent(),[3,8];case 6:return t.playEffectNoStop(t.demTien),this.lbMoneyRevice.node.parent.active=!0,this.lbMoneyRevice.node.parent.scale=0,this.lbMoneyRevice.node.parent.runAction(cc.scaleTo(.5,1).easing(cc.easeBackOut())),this.lbMoneyRevice.time=1.5,this.lbMoneyRevice.setMoney(this.moneyRevice),[4,l.Windown.FishBongDem.makeDelay(1.5)];case 7:r.sent(),r.label=8;case 8:return t.playEffect(t.caLonChet),this.lbMoneyRevice.node.parent.runAction(cc.sequence(cc.scaleTo(.3,1.3),cc.scaleTo(.3,1))),[4,l.Windown.FishBongDem.makeDelay(2)];case 9:return r.sent(),t.playEffect(t.wind),this.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(.7,0).easing(cc.easeBackIn()),cc.fadeOut(.7)),cc.callFunc(function(){i.funNext&&i.funNext(),i.node.destroy()}))),[2]}})})},e.prototype.onDestroy=function(){l.Windown.FishBongDem.removeHandle(this.node.destroy,this.node,!0)},e.prototype.getAngleMutil=function(t,e){var n=this.listMutil[e];for(var o in n)if(n[o]==t){var i=this.listAngke[e][o][0],r=this.listAngke[e][o][1];return{angle:l.Windown.RandomNumber(i,r),isNext:!1,index:parseInt(o)}}var s=this.listIndexNull[e],a=s[l.Windown.RandomNumber(0,s.length)],c=this.listAngke[e][a][0],u=this.listAngke[e][a][1];return{angle:l.Windown.RandomNumber(c,u),isNext:!0,index:a}},e.prototype.phunXuBig=function(){return s(this,void 0,void 0,function(){var t,e,n,o;return a(this,function(i){switch(i.label){case 0:(t=l.Windown.FishBongDem.getSound()).playEffect(t.tienRoi,.5),t.playEffect(t.hitIncredible),e=function(){var t,e,o;return a(this,function(i){switch(i.label){case 0:return(t=l.Windown.FishBongDem.pool.getCoin(!0)).scale=.3,t.getComponent(cc.Animation).play("Coin"),t.setPosition(cc.v2(0,0)),t.parent=n.parentCoin,e=cc.v2(l.Windown.RandomNumber(-200,200),-134),o=l.Windown.RandomNumber(5,15)/10,t.runAction(cc.sequence(cc.spawn(cc.rotateBy(o,l.Windown.RandomNumber(180,360)),cc.jumpTo(o,e,200,1)),cc.callFunc(function(){l.Windown.FishBongDem&&l.Windown.FishBongDem.pool.putCoin(t)}))),[4,l.Windown.FishBongDem.makeDelay(l.Windown.RandomNumber(0,5)/100)];case 1:return i.sent(),[2]}})},n=this,o=0,i.label=1;case 1:return o<100?[5,e(o)]:[3,4];case 2:i.sent(),i.label=3;case 3:return o++,[3,1];case 4:return t.stopEffect(t.tienRoi),[2]}})})},r([p(cc.Node)],e.prototype,"nodex400",void 0),r([p(cc.Node)],e.prototype,"nodeGold",void 0),r([p(cc.Node)],e.prototype,"dauRong",void 0),r([p(cc.Node)],e.prototype,"parentCoin",void 0),r([p([cc.Node])],e.prototype,"listNodeVong",void 0),r([p(c.default)],e.prototype,"lbMoneyRevice",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../../Scritps/Obs/LbMoneyChange":void 0,"../../../../Scritps/Windown":void 0}],DefineSpeedGunBD:[function(t,e,n){"use strict";cc._RF.push(e,"1ebcf2eVuxNgaeMI+1t2L5c","DefineSpeedGunBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.NORMAL=.22,e.SET=.18,e.SPEED=.05,e}(cc.Component);n.default=r,cc._RF.pop()},{}],DinhBa:[function(t,e,n){"use strict";cc._RF.push(e,"d10bbKm9yNN14n8R5GB9e2+","DinhBa");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/Network/ConectManager"),l=t("../../../../Scritps/Windown"),u=t("../DeadBevhavior/PanelPoint"),h=t("../Network/CODE_EVT"),p=t("../Player/TypeItemDragBD"),f=cc._decorator,d=f.ccclass,y=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hold=null,e.che=null,e.spineVuNo=null,e.dinhBa=null,e.panelPoint=null,e.listPos=[cc.v2(326.231,-160),cc.v2(-326.231,160),cc.v2(-326.231,-160),cc.v2(326.231,160),cc.v2(0,-100)],e.indexNo=1,e.idItemDrag=-1,e.player=null,e}return i(e,t),e.prototype.init=function(t,e,n){return s(this,void 0,void 0,function(){var o,i=this;return a(this,function(r){switch(r.label){case 0:return this.idItemDrag=e,this.player=n,this.panelPoint.node.active=!0,this.panelPoint.init(this.player,this.idItemDrag,p.default.DINH_BA),l.Windown.FishBongDem.getSound().playEffect(l.Windown.FishBongDem.getSound().WindShort,1,!0),[4,this.runActionDinhBa(t)];case 1:return r.sent(),(o=c.ConectManager.getIns().getSFSObj()).putInt("Type",p.default.DINH_BA),o.putLong("Id",e),l.Windown.FishBongDem.sendRequest(h.default.UsingItemDrag,o),this.scheduleOnce(function(){l.Windown.FishBongDem.getSound().playEffect(l.Windown.FishBongDem.getSound().DromDinhBa)},.2),this.dinhBa.runAction(cc.sequence(cc.moveTo(.3,0,220),cc.callFunc(function(){if(l.Windown.FishBongDem.getSound().playEffectNoStop(l.Windown.FishBongDem.getSound().fishBoom),i.hold.active=!0,i.hold.parent=l.Windown.FishBongDem.fishBDView.bkgSprite.node,i.hold.opacity=0,i.che.active=!0,i.hold.runAction(cc.fadeIn(.1)),l.Windown.FishBongDem.fishBDView.shakeScence(.5,50),i.spineVuNo.node.active=!0,i.spineVuNo.setAnimation(0,"animation",!1),i.player.isMe){var t=c.ConectManager.getIns().getSFSArray();l.Windown.FishBongDem.fishMng.forEachListFish(function(e){e.getColiderInScreen()&&t.addInt(e.fishId)});var e=c.ConectManager.getIns().getSFSObj();e.putInt("Type",p.default.DINH_BA),e.putLong("byFish",i.idItemDrag),e.putLong("Id",i.idItemDrag),e.putSFSArray("ListFishId",t),l.Windown.FishBongDem.sendRequest(h.default.FishSpecialColisionBD,e)}}),cc.delayTime(2),cc.callFunc(function(){i.node.runAction(cc.sequence(cc.fadeOut(1),cc.callFunc(function(){i.node.destroy()}))),i.hold.runAction(cc.sequence(cc.fadeOut(1),cc.callFunc(function(){i.hold.destroy()})))}))),[2]}})})},e.prototype.effectFishDead=function(){},e.prototype.runActionDinhBa=function(t){var e=this;return new Promise(function(n){e.dinhBa.scale=0,e.dinhBa.angle=-90,e.dinhBa.setPosition(t),e.dinhBa.runAction(cc.sequence(cc.spawn(cc.moveTo(.5,0,0),cc.rotateBy(2,-2160),cc.scaleTo(.7,1).easing(cc.easeSineOut())),cc.callFunc(function(){l.Windown.FishBongDem.getSound().stopEffect(l.Windown.FishBongDem.getSound().WindShort)}),cc.spawn(cc.scaleTo(0,1.5),cc.delayTime(.3),cc.moveTo(.2,0,1e3)),cc.delayTime(1),cc.callFunc(n)))})},r([y(cc.Node)],e.prototype,"hold",void 0),r([y(cc.Node)],e.prototype,"che",void 0),r([y(sp.Skeleton)],e.prototype,"spineVuNo",void 0),r([y(cc.Node)],e.prototype,"dinhBa",void 0),r([y(u.default)],e.prototype,"panelPoint",void 0),r([d],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Windown":void 0,"../DeadBevhavior/PanelPoint":"PanelPoint","../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD"}],DropBoom:[function(t,e,n){"use strict";cc._RF.push(e,"c6ddaGLUr1IH7T8DhgIkx69","DropBoom");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/Network/ConectManager"),l=t("../../../../Scritps/Windown"),u=t("../DeadBevhavior/PanelPoint"),h=t("../Network/CODE_EVT"),p=t("../Player/TypeItemDragBD"),f=t("./ItemBoom"),d=cc._decorator,y=d.ccclass,g=d.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeBoom=null,e.nodeVuNo=null,e.hold=null,e.panelPoint=null,e.parentItemTarget=null,e.listPos=[cc.v2(326.231,-160),cc.v2(-326.231,160),cc.v2(-326.231,-160),cc.v2(326.231,160),cc.v2(0,-100)],e.indexNo=1,e.idItemDrag=-1,e.player=null,e}return i(e,t),e.prototype.init=function(t,e,n){return s(this,void 0,void 0,function(){var o,i,r,s,u,d,y,g,m=this;return a(this,function(a){switch(a.label){case 0:for(this.idItemDrag=e,this.player=n,o=[],this.panelPoint.node.active=!0,this.panelPoint.init(this.player,this.idItemDrag,p.default.BOOM_NGUYEN_TU),r=0;r<1;r++)(s=cc.instantiate(this.nodeBoom)).active=!0,s.parent=l.Windown.FishBongDem.fishBDView.parentEffect,this.listPos[r].clone().addSelf(cc.v2(l.Windown.RandomNumber(-50,50),l.Windown.RandomNumber(-50,50))),(u=t.clone()).x+=l.Windown.RandomNumber(-50,50),u.y=600,s.setPosition(t.x+l.Windown.RandomNumber(-100,100),t.y),d=s.getComponent(f.default),o.push(d.moveBoom(cc.v2(0,480),.3*r,this.listPos[r]));return l.Windown.FishBongDem.getSound().playEffect(l.Windown.FishBongDem.getSound().startBoom),this.scheduleOnce(this.actionTarget,1.5),[4,Promise.all(o)];case 1:for(a.sent(),i=[],r=0;r<5;r++)(s=cc.instantiate(this.nodeBoom)).active=!0,s.parent=l.Windown.FishBongDem.fishBDView.parentEffect,this.listPos[r].clone().addSelf(cc.v2(l.Windown.RandomNumber(-50,50),l.Windown.RandomNumber(-50,50))),(u=t.clone()).x+=l.Windown.RandomNumber(-50,50),u.y=600,s.setPosition(t.x+l.Windown.RandomNumber(-100,100),t.y),d=s.getComponent(f.default),o.push(d.moveBoom(cc.v2(0,480),.3*r,this.listPos[r])),i.push(d);return(y=c.ConectManager.getIns().getSFSObj()).putInt("Type",p.default.BOOM_NGUYEN_TU),y.putLong("Id",e),l.Windown.FishBongDem.sendRequest(h.default.UsingItemDrag,y),g=0,i.forEach(function(t){t.moveNo(g,m),g+=.3}),[2]}})})},e.prototype.actionTarget=function(){l.Windown.FishBongDem.getSound().playEffect(l.Windown.FishBongDem.getSound().dropBoom);for(var t=this.parentItemTarget.children,e=function(e){var n=t[e];n.active=!0,n.opacity=0,n.runAction(cc.sequence(cc.delayTime(.1*e),cc.spawn(cc.fadeIn(.2),cc.callFunc(function(){n.getComponent(cc.Animation).play("TargetBoom")}))))},n=0,o=t.length;n<o;n++)e(n)},e.prototype.onNo=function(t){var e=this;l.Windown.FishBongDem.fishBDView.shakeScence(.3,60),l.Windown.FishBongDem.getSound().playEffectNoStop(l.Windown.FishBongDem.getSound().fishBoom);var n=cc.instantiate(this.nodeVuNo);n.active=!0,n.parent=l.Windown.FishBongDem.fishBDView.parentEffect,n.setPosition(t.getPosition());var o=260;if(5==this.indexNo&&(this.hold.active=!0,this.hold.parent=l.Windown.FishBongDem.fishBDView.bkgSprite.node,this.hold.setPosition(0,-50),this.hold.opacity=0,this.hold.runAction(cc.sequence(cc.delayTime(.2),cc.fadeIn(0),cc.delayTime(1),cc.fadeIn(1.5),cc.callFunc(function(){return s(e,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.hold.destroy(),[4,l.Windown.FishBongDem.makeDelay(2)];case 1:return t.sent(),this.panelPoint.end(),this.node.destroy(),[2]}})})}))),n.scale=5,o=500),this.player.isMe){var i=c.ConectManager.getIns().getSFSArray();l.Windown.FishBongDem.fishMng.forEachListFish(function(e){e.getColiderInScreen()&&cc.Vec2.distance(e.getPoint(),t.getPosition())<=o&&i.addInt(e.fishId)});var r=c.ConectManager.getIns().getSFSObj();r.putInt("Type",p.default.BOOM_NGUYEN_TU),r.putLong("byFish",this.idItemDrag),r.putLong("Id",this.idItemDrag),r.putSFSArray("ListFishId",i),l.Windown.FishBongDem.sendRequest(h.default.FishSpecialColisionBD,r)}t.destroy(),this.indexNo++},r([g(cc.Node)],e.prototype,"nodeBoom",void 0),r([g(cc.Node)],e.prototype,"nodeVuNo",void 0),r([g(cc.Node)],e.prototype,"hold",void 0),r([g(u.default)],e.prototype,"panelPoint",void 0),r([g(cc.Node)],e.prototype,"parentItemTarget",void 0),r([y],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Windown":void 0,"../DeadBevhavior/PanelPoint":"PanelPoint","../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD","./ItemBoom":"ItemBoom"}],EffectSet:[function(t,e,n){"use strict";cc._RF.push(e,"51f04yLQPJIwLjeO1X7BEio","EffectSet");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../../Scritps/Windown"),a=t("./BaseEffectFish"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.reset=function(){s.Windown.FishBongDem.pool.putEfGiatSet(this.node)},e.prototype.execute=function(){var t=this.fish.getViewNode();t?(this.node.parent=t,this.node.setContentSize(t.height,t.width),this.getComponent(cc.Animation).play("BiGiatSet")):this.reset()},e.prototype.getSizeByFishType=function(){},r([l],e)}(a.default));n.default=u,cc._RF.pop()},{"../../../../../Scritps/Windown":void 0,"./BaseEffectFish":"BaseEffectFish"}],FISH_DEAD_BD_TYPE:[function(t,e,n){"use strict";cc._RF.push(e,"985ceg1CC5NPZqU2KG/J4c+","FISH_DEAD_BD_TYPE"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.NORMAL=0,t.JACKPOT=99,t.LADE=2,t.BOOM=3,t.REVICE_NGOC=4,t.BOSS_DEAD=5,t.CA_XAU=6,t.SONG_AM=7,t.MUI_KHOAN=8,t.END_MUI_KHOAN=9,t.ITEM_HAI_THAN=10,t.HAI_THAN=11,t.LOC_XOAY=12,t.GUN_FIRE=13,t.BOOM_NGUYEN_TU=14,t.MAT_THAN=15,t.FISH_74=16,t.DINH_BA=17,t}();n.default=o,cc._RF.pop()},{}],FISH_TYPE:[function(t,e,n){"use strict";cc._RF.push(e,"33968YeLhZJPLgC6pmshHrt","FISH_TYPE"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.HAI_THAN=33,t.CA_GROUP=34,t.CA_GROUP4=35,t.CA_GROUP4_1=36,t.CA_GROUP4_2=37,t.CA_TRAN_1=38,t.MUTIL=39,t.LOC_XOAY=40,t.BOOM=52,t.LAZE=51,t.MUI_KHOAN=53,t.SONG_AM=54,t.GUN_FIRE=55,t.VONG_QUAY=56,t.FISH_74=74,t.JACKPOT=100,t.CA_XAU=101,t.TRUY_GAI=102,t.RUA=103,t}();n.default=o,cc._RF.pop()},{}],FishBD70View:[function(t,e,n){"use strict";cc._RF.push(e,"49e300EH+9BkYPMAoEu4nf4","FishBD70View");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./FishBDNormalView"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animation=null,e.fishType="",e.funEffect=null,e.stateAni=null,e}return i(e,t),e.prototype.onLoad=function(){this.ani=this.addComponent(cc.Animation),this.listColider=this.getComponentsInChildren(cc.Collider),this.stateAni=this.animation.getAnimationState("Fish"+this.fishType)},e.prototype.onEnable=function(){this.stateAni.isPaused?this.stateAni.resume():this.stateAni.play()},e.prototype.initAni=function(e,n,o){return t.prototype.initAni.call(this,e,n,o)},e.prototype.playAniSwing=function(){cc.log("chay vao fish bd70 ne"),this.stateAni.speed=this.baseSpeed,this.stateAni.isPaused?this.stateAni.resume():this.stateAni.play()},e.prototype.stopAniSwing=function(){this.fishBDNormal.isDeadEffect||this.stateAni.pause()},e.prototype.playAniDead=function(){this.pauAniFish(),this.animation.resume(),this.stateAni.speed=10},e.prototype.playAniRemove=function(){if("70"==this.fishType)this.animation.play("Fish"+this.fishBDNormal.fishType+"Dead"),this.animation.once(cc.Animation.EventType.FINISHED,this.fishBDNormal.destroy,this.fishBDNormal);else{this.node.stopAllActions();var t=cc.fadeOut(1),e=cc.callFunc(this.fishBDNormal.destroy,this.fishBDNormal);this.node.runAction(cc.sequence(t,e))}},r([l(cc.Animation)],e.prototype,"animation",void 0),r([l],e.prototype,"fishType",void 0),r([c],e)}(s.default);n.default=u,cc._RF.pop()},{"./FishBDNormalView":"FishBDNormalView"}],FishBDBoomView:[function(t,e,n){"use strict";cc._RF.push(e,"f688dTmt41ImZZeNQPZPSrL","FishBDBoomView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Network/ConectManager"),a=t("../../../../Scritps/Windown"),c=t("../Network/CODE_EVT"),l=t("../Player/TypeItemDragBD"),u=t("./FishBDNormalView"),h=cc._decorator,p=h.ccclass,f=(h.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onEnable=function(){this.node.children[0].color=cc.Color.WHITE,this.node.children[0].scale=1,this.node.children[0].position=cc.Vec3.ZERO,this.node.children[1].active=!1,this.node.children[2].active=!1,this.node.children[0].active=!0},e.prototype.playAniDead=function(){var t=this;this.pauAniFish(),this.skeSwing.paused=!1;var e=this.node.children[0].getComponent(cc.Animation);e.play("BoomDead"),e.once(cc.Animation.EventType.FINISHED,function(){t.node.children[1].active=!0,t.node.children[2].active=!0,t.node.getComponentsInChildren(sp.Skeleton).forEach(function(t){t.setAnimation(0,"animation",!1)}),t.node.children[0].active=!1;var e=a.Windown.FishBongDem.getSound();e.playEffect(e.fishBoom);var n=s.ConectManager.getIns().getSFSObj();n.putInt("Type",l.default.BOOM),n.putLong("Id",t.fishBDNormal.fishId),a.Windown.FishBongDem.sendRequest(c.default.UsingItemDrag,n);for(var o=s.ConectManager.getIns().getSFSArray(),i=a.Windown.FishBongDem.fishMng.getMapFish().values(),r=i.next();!r.done;){var u=r.value;r=i.next();var h=cc.Vec2.distance(u.getPoint(),t.node.getPosition());u.isInScreen()&&u.fishType<18&&h<450&&o.addInt(u.fishId)}var p=s.ConectManager.getIns().getSFSObj();p.putInt("Type",l.default.BOOM),p.putLong("byFish",t.fishBDNormal.fishId),p.putLong("Id",t.fishBDNormal.fishId),p.putSFSArray("ListFishId",o),a.Windown.FishBongDem.sendRequest(c.default.FishSpecialColisionBD,p),t.scheduleOnce(function(){t.fishBDNormal.destroy()},2)})},e.prototype.playAniRemove=function(){},r([p],e)}(u.default));n.default=f,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Windown":void 0,"../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD","./FishBDNormalView":"FishBDNormalView"}],FishBDCaTranView:[function(t,e,n){"use strict";cc._RF.push(e,"85833zLWYBM8ZEg/nTeQ8pC","FishBDCaTranView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/Game/GAME_TYPE"),l=t("../../../../Scritps/Windown"),u=t("./FishBDNormalView"),h=cc._decorator,p=h.ccclass,f=h.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.aniSet=null,e.skeSwing=null,e}return i(e,t),e.prototype.onLoad=function(){this.ani=this.addComponent(cc.Animation),this.listColider=this.getComponentsInChildren(cc.Collider),null==this.skeSwing&&(this.skeSwing=this.getComponentInChildren(sp.Skeleton)),cc.log("Skewingname="+this.skeSwing.node.name)},e.prototype.initViewFish=function(t){return s(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,l.Windown.loadRes(c.default.BongDem.toString(),"Spine/Fish/Fish_"+(t-1),sp.SkeletonData)];case 1:return e=n.sent(),this.skeSwing.skeletonData=e,this.skeSwing.setAnimation(0,"animation",!0),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}})})},e.prototype.playAniRemove=function(){this.node.stopAllActions();var t=cc.delayTime(1),e=cc.fadeOut(1),n=cc.callFunc(this.fishBDNormal.destroy,this.fishBDNormal);this.node.runAction(cc.sequence(t,e,n))},e.prototype.onColision=function(){for(var t=0,e=this.node.childrenCount;t<e;t++){var n=this.node.children[t];n.stopActionByTag(123456),cc.tween(n).tag(123456).to(.09,{color:new cc.Color(245,83,83)}).delay(.08).to(.05,{color:cc.Color.WHITE}).start()}},r([f(cc.Animation)],e.prototype,"aniSet",void 0),r([f(sp.Skeleton)],e.prototype,"skeSwing",void 0),r([p],e)}(u.default);n.default=d,cc._RF.pop()},{"../../../../Scritps/Game/GAME_TYPE":void 0,"../../../../Scritps/Windown":void 0,"./FishBDNormalView":"FishBDNormalView"}],FishBDCaTran:[function(t,e,n){"use strict";cc._RF.push(e,"92880n3YwNEVLIvd0WGpjUc","FishBDCaTran");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./FishBDCaTranView"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fishTypeMain=-1,e.fishView=null,e}return i(e,t),e.prototype.initFish=function(e){this.fishTypeMain=e.get("FTM"),t.prototype.initFish.call(this,e)},e.prototype.intiView=function(){return r(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:t=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.fishMng.getFishViewPool(this.fishType)];case 2:return t=n.sent(),this.isInList?(this.fishView=t.getComponent(a.default),this.fishView.initViewFish(this.fishTypeMain),this.fishView.setFishBdNormal(this),this.fishView.initAni(this.getAniClipFromString(this.infoAni),this.speed,this.currentTimeInPath).setTagColider(this.fishId),this.funCallBackWhenInitView&&this.funCallBackWhenInitView(this),[3,4]):(this.fishMng.putPoolFish(t,this.fishType),[2]);case 3:return e=n.sent(),t&&(this.fishMng.putPoolFish(t,this.fishType),cc.log("put dc no r nay")),console.error(e),[3,4];case 4:return[2]}})})},e}(t("./FishBDNormal").default);n.default=c,cc._RF.pop()},{"./FishBDCaTranView":"FishBDCaTranView","./FishBDNormal":"FishBDNormal"}],FishBDCaXau:[function(t,e,n){"use strict";cc._RF.push(e,"0900bdLJB9OvbEUz+lHokvl","FishBDCaXau");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=t("./FishBDNormalView"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.funEffect=null,e}return i(e,t),e.prototype.initAni=function(e,n,o){return s.Windown.FishBongDem.fishBDView.comingCaXau(),t.prototype.initAni.call(this,e,n,o)},e.prototype.playAniDead=function(){var t=this;this.pauAniFish();var e=this.node,n=e.getPosition();this.schedule(this.funEffect=function(){var t=cc.moveTo(.06,cc.v2(n.x+s.Windown.RandomNumber(-15,15),n.y+s.Windown.RandomNumber(-15,15)));e.runAction(t)},.06),this.scheduleOnce(function(){t.unschedule(t.funEffect),t.node.runAction(cc.spawn(cc.scaleTo(.2,2),cc.fadeOut(.2))),t.scheduleOnce(function(){t.fishBDNormal.destroy()},1)},1)},e.prototype.playAniRemove=function(){},r([l],e)}(a.default));n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"./FishBDNormalView":"FishBDNormalView"}],FishBDChildHaiThanView:[function(t,e,n){"use strict";cc._RF.push(e,"90ea1w/vZJD5LI5UJDyU7Go","FishBDChildHaiThanView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./FishBDNormalView"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.playAniSwing=function(){this.skeSwing.paused=!1,this.skeSwing.timeScale=this.baseSpeed,this.skeSwing.setAnimation(0,"walk",!0)},e.prototype.playAniDead=function(){var t=this;this.aniStateMove.pause(),this.skeSwing.paused=!1,this.skeSwing.setAnimation(0,"die",!1),this.skeSwing.setEndListener(function(){t.node.stopAllActions();var e=cc.delayTime(1),n=cc.spawn(cc.fadeOut(1),cc.rotateBy(1,360),cc.scaleTo(1,0)),o=cc.callFunc(t.fishBDNormal.destroy,t.fishBDNormal);t.node.runAction(cc.sequence(e,n,o)),t.skeSwing.setEndListener(null)})},e.prototype.playAniTuSat=function(){var t=this;this.aniStateMove.pause(),this.skeSwing.paused=!1,this.skeSwing.setAnimation(0,"suicide",!1),this.skeSwing.setEndListener(function(){t.node.stopAllActions();var e=cc.delayTime(1),n=cc.spawn(cc.fadeOut(1),cc.rotateBy(1,360),cc.scaleTo(1,0)),o=cc.callFunc(t.fishBDNormal.destroy,t.fishBDNormal);t.node.runAction(cc.sequence(e,n,o)),t.skeSwing.setEndListener(null)})},e.prototype.playAniRemove=function(){},r([c],e)}(s.default));n.default=l,cc._RF.pop()},{"./FishBDNormalView":"FishBDNormalView"}],"FishBDGroup3View ":[function(t,e,n){"use strict";cc._RF.push(e,"6ba4fM/1W5DkK3wKTj6t4Yl","FishBDGroup3View ");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/Game/GAME_TYPE"),l=t("../../../../Scritps/Windown"),u=t("./FishBDNormalView"),h=t("./FishStateBD"),p=cc._decorator,f=p.ccclass,d=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ani=null,e.aniStateMove=null,e.listColider=[],e.fishBDNormal=null,e.baseSpeed=1,e.listSkeSwing=[],e}return i(e,t),e.prototype.onLoad=function(){cc.log("co fish 3 view nay"),this.ani=this.addComponent(cc.Animation),this.listColider=this.getComponentsInChildren(cc.Collider),this.listSkeSwing=this.getComponentsInChildren(sp.Skeleton);for(var t=0,e=this.listSkeSwing.length-1;t<e;t++)this.node.children[t].runAction(cc.repeatForever(cc.rotateBy(2,360)))},e.prototype.initAni=function(t,e,n){var o=this;this.ani.getClips().forEach(function(t){o.ani.removeClip(t,!0)}),this.node.setPosition(1e4,1e4),this.ani.addClip(t),this.aniStateMove=this.ani.play(t.name),this.aniStateMove.speed=e,this.aniStateMove.time=n,this.node.scale=1,this.fishBDNormal.timeEffectHide>0?(this.node.opacity=0,this.node.runAction(cc.sequence(cc.delayTime(this.fishBDNormal.timeEffectHide),cc.fadeIn(.1)))):this.node.opacity=255,this.aniStateMove.sample(),this.fishBDNormal.fishState==h.default.ICE?this.pauAniFish():this.fishBDNormal.fishState==h.default.WATING?this.aniStateMove.pause():this.resume();for(var i=0,r=this.node.childrenCount;i<r;i++)this.node.children[i].color=cc.Color.WHITE;return this},e.prototype.initViewFish=function(t,e){return s(this,void 0,void 0,function(){var n,o,i,r,s;return a(this,function(a){switch(a.label){case 0:return[4,Promise.all([l.Windown.loadRes(c.default.BongDem.toString(),"Spine/Fish/Fish_"+(t-1),sp.SkeletonData),l.Windown.loadRes(c.default.BongDem.toString(),"Spine/Fish/Fish_"+(e-1),sp.SkeletonData)])];case 1:for(n=a.sent(),o=n[0],i=n[1],r=this.listSkeSwing.length-1,this.listSkeSwing[r].skeletonData=o,this.listSkeSwing[r].setAnimation(0,"animation",!0),s=0;s<r;s++)this.listSkeSwing[s].skeletonData=i,this.listSkeSwing[s].setAnimation(0,"animation",!0);return[2]}})})},e.prototype.playAniSwing=function(){var t=this;this.listSkeSwing.forEach(function(e){e.paused=!1,e.timeScale=t.baseSpeed})},e.prototype.stopAniSwing=function(){this.fishBDNormal.isDeadEffect||this.listSkeSwing.forEach(function(t){t.paused=!0})},e.prototype.playAniDead=function(){this.pauAniFish(),this.listSkeSwing.forEach(function(t){t.paused=!1,t.timeScale=10})},e.prototype.playAniRemove=function(){this.node.stopAllActions();var t=cc.delayTime(1),e=cc.fadeOut(1),n=cc.callFunc(this.fishBDNormal.destroy,this.fishBDNormal);this.node.runAction(cc.sequence(t,e,n))},e.prototype.getListPos=function(){for(var t=[this.node.getPosition()],e=0;e<this.listSkeSwing.length-1;e++){var n=this.node.children[e],o=this.node.convertToWorldSpaceAR(n.getPosition()),i=this.node.parent.convertToNodeSpaceAR(o);t.push(i)}return t},e.prototype.onColision=function(){for(var t=0,e=this.node.childrenCount;t<e;t++){var n=this.node.children[t];n.stopActionByTag(123456),cc.tween(n).tag(123456).to(.09,{color:new cc.Color(245,83,83)}).delay(.08).to(.05,{color:cc.Color.WHITE}).start()}},r([f],e)}(u.default));n.default=d,cc._RF.pop()},{"../../../../Scritps/Game/GAME_TYPE":void 0,"../../../../Scritps/Windown":void 0,"./FishBDNormalView":"FishBDNormalView","./FishStateBD":"FishStateBD"}],FishBDGroup4View:[function(t,e,n){"use strict";cc._RF.push(e,"1a5dakf9P5MXYl6VB3hoCdN","FishBDGroup4View");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/Game/GAME_TYPE"),l=t("../../../../Scritps/Windown"),u=t("./FishBDGroup3View "),h=cc._decorator,p=h.ccclass,f=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ani=null,e.aniStateMove=null,e.listColider=[],e.fishBDNormal=null,e.baseSpeed=1,e.listSkeSwing=[],e}return i(e,t),e.prototype.onLoad=function(){this.ani=this.addComponent(cc.Animation),this.listColider=this.getComponentsInChildren(cc.Collider),this.listSkeSwing=this.getComponentsInChildren(sp.Skeleton);for(var t=0,e=this.listSkeSwing.length;t<e;t++)this.node.children[t].runAction(cc.repeatForever(cc.rotateBy(2,360)))},e.prototype.initViewFish=function(t){return s(this,void 0,void 0,function(){var e,n,o,i;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=[],t.forEach(function(t){e.push(l.Windown.loadRes(c.default.BongDem.toString(),"Spine/Fish/Fish_"+(t-1),sp.SkeletonData))}),[4,Promise.all(e)];case 1:for(n=r.sent(),o=0;o<n.length;o++)this.listSkeSwing[o].skeletonData=n[o],this.listSkeSwing[o].setAnimation(0,"animation",!0);return[3,3];case 2:return i=r.sent(),console.error(i),[3,3];case 3:return[2]}})})},e.prototype.getListPos=function(){for(var t=[],e=0;e<this.listSkeSwing.length;e++){var n=this.node.children[e],o=this.node.convertToWorldSpaceAR(n.getPosition()),i=this.node.parent.convertToNodeSpaceAR(o);t.push(i)}return t},e.prototype.onColision=function(t){var e=this.listColider.indexOf(t);if(e>-1){var n=t.node;n.stopActionByTag(123456),cc.tween(n).tag(123456).to(.09,{color:new cc.Color(245,83,83)}).delay(.08).to(.05,{color:cc.Color.WHITE}).start(),(n=this.node.children[e]).stopActionByTag(123456),cc.tween(n).tag(123456).to(.09,{color:new cc.Color(245,83,83)}).delay(.08).to(.05,{color:cc.Color.WHITE}).start()}},e.prototype.update=function(){for(var t=0,e=this.listSkeSwing.length;t<e;t++)this.node.children[t].setPosition(this.node.children[t+e].getPosition())},r([p],e)}(u.default));n.default=f,cc._RF.pop()},{"../../../../Scritps/Game/GAME_TYPE":void 0,"../../../../Scritps/Windown":void 0,"./FishBDGroup3View ":"FishBDGroup3View "}],FishBDGroup4:[function(t,e,n){"use strict";cc._RF.push(e,"3db35Eq629NYLuzlZinp/8v","FishBDGroup4");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./FishBDGroup4View"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listFishType=[],e.fishView=null,e}return i(e,t),e.prototype.initFish=function(e){this.listFishType=JSON.parse(e.get("LFT")),t.prototype.initFish.call(this,e)},e.prototype.intiView=function(){return r(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:t=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.fishMng.getFishViewPool(this.fishType)];case 2:return t=n.sent(),this.isInList?(this.fishView=t.getComponent(a.default),this.fishView.initViewFish(this.listFishType),this.fishView.setFishBdNormal(this),this.fishView.initAni(this.getAniClipFromString(this.infoAni),this.speed,this.currentTimeInPath).setTagColider(this.fishId),this.funCallBackWhenInitView&&this.funCallBackWhenInitView(this),[3,4]):(this.fishMng.putPoolFish(t,this.fishType),[2]);case 3:return e=n.sent(),t&&this.fishMng.putPoolFish(t,this.fishType),console.error(e),[3,4];case 4:return[2]}})})},e}(t("./FishBDNormal").default);n.default=c,cc._RF.pop()},{"./FishBDGroup4View":"FishBDGroup4View","./FishBDNormal":"FishBDNormal"}],FishBDGroup:[function(t,e,n){"use strict";cc._RF.push(e,"b751eVW0O1I/I+FALEpGDlq","FishBDGroup");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Windown"),c=t("./FishBDGroup3View "),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fishTypeChild=-1,e.fishTypeMain=-1,e.fishView=null,e}return i(e,t),e.prototype.initFish=function(e){this.fishTypeChild=e.get("FTC"),this.fishTypeMain=e.get("FTM"),t.prototype.initFish.call(this,e)},e.prototype.intiView=function(){return r(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:t=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.fishMng.getFishViewPool(this.fishType)];case 2:return t=n.sent(),this.isInList?(this.fishView=t.getComponent(c.default),t.parent=a.Windown.FishBongDem.fishBDView.parentFish,this.fishView.initViewFish(this.fishTypeMain,this.fishTypeChild),this.fishView.setFishBdNormal(this),this.fishView.initAni(this.getAniClipFromString(this.infoAni),this.speed,this.currentTimeInPath).setTagColider(this.fishId),this.funCallBackWhenInitView&&this.funCallBackWhenInitView(this),[3,4]):(this.fishMng.putPoolFish(t,this.fishType),[2]);case 3:return e=n.sent(),t&&this.fishMng.putPoolFish(t,this.fishType),console.error(e),[3,4];case 4:return[2]}})})},e}(t("./FishBDNormal").default);n.default=l,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"./FishBDGroup3View ":"FishBDGroup3View ","./FishBDNormal":"FishBDNormal"}],FishBDHaiThanView:[function(t,e,n){"use strict";cc._RF.push(e,"554c3cF9tlE/pnfSUm/Z4mY","FishBDHaiThanView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=t("./FishBDNormalView"),c=cc._decorator,l=c.ccclass,u=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listPointItem=[cc.v2(78.873,-50),cc.v2(-37.449,32.556),cc.v2(29.55,-10),cc.v2(-141.806,-8.7),cc.v2(25.08,65),cc.v2(25.08,65)],e.skeSwing=null,e.aniAura=null,e.currentPosItem=null,e}return i(e,t),e.prototype.onLoad=function(){this.ani=this.addComponent(cc.Animation),this.listColider=this.getComponentsInChildren(cc.Collider),this._setMix("Walk","Walk_Hand_Cover"),this._setMix("Walk_Hand_Cover","Walk_Rotate_Trident"),this._setMix("Walk_Rotate_Trident","Walk_wShield"),this._setMix("Walk_wShield","Walk_Slap_Tail"),this._setMix("Walk_Slap_Tail","Walk"),this._setMix("Walk","Die"),this._setMix("Walk_Hand_Cover","Die"),this._setMix("Walk_Rotate_Trident","Die"),this._setMix("Walk_wShield","Die"),this._setMix("Walk_Slap_Tail","Die"),this.aniAura.setAnimationCacheMode(sp.Skeleton.AnimationCacheMode.REALTIME),this.skeSwing.setAnimationCacheMode(sp.Skeleton.AnimationCacheMode.REALTIME)},e.prototype._setMix=function(t,e){this.skeSwing.setMix(t,e,.5),this.skeSwing.setMix(e,t,.5)},e.prototype.initAni=function(e,n,o){return t.prototype.initAni.call(this,e,n,o),s.Windown.FishBongDem.fishBDView.comingHaiThan(),this},e.prototype.getFishHaiThan=function(){return this.fishBDNormal},e.prototype.setStateAni=function(){this.skeSwing.timeScale=1;for(var t=0;t<this.getFishHaiThan().stateItem;t++)0==t||(1==t?this.offVayItem():2==t?this.offHeadIAmortem():3==t?this.offGiapTay():4==t?this.offDinhBa():5==t&&this.offKhien());this.updateStateAni()},e.prototype.updateStateAni=function(){0==this.getFishHaiThan().stateItem?(this.skeSwing.setAnimation(0,"Walk",!0),this.aniAura.setAnimation(0,"5",!0)):1==this.getFishHaiThan().stateItem?(this.skeSwing.setAnimation(0,"Walk",!0),this.offVayItem(),this.aniAura.setAnimation(0,"4",!0)):2==this.getFishHaiThan().stateItem?(this.skeSwing.setAnimation(0,"Walk_Hand_Cover",!0),this.offHeadIAmortem(),this.aniAura.setAnimation(0,"3",!0)):3==this.getFishHaiThan().stateItem?(this.skeSwing.setAnimation(0,"Walk_Rotate_Trident",!0),this.offGiapTay(),this.aniAura.setAnimation(0,"2",!0)):4==this.getFishHaiThan().stateItem?(this.skeSwing.setAnimation(0,"Walk_wShield",!0),this.offDinhBa(),this.aniAura.setAnimation(0,"1",!0)):5==this.getFishHaiThan().stateItem&&(this.aniAura.node.active=!1,this.offKhien(),this.skeSwing.setAnimation(0,"Walk_Slap_Tail",!1),this.skeSwing.addAnimation(0,"Walk",!0,0)),this.currentPosItem=this.listPointItem[this.getFishHaiThan().stateItem].clone()},e.prototype.playAniSwing=function(){this.skeSwing.paused=!1,this.aniAura.paused=!1,this.skeSwing.timeScale=this.baseSpeed,this.skeSwing.setAnimation(0,"Walk",!0)},e.prototype.stopAniSwing=function(){this.fishBDNormal.isDeadEffect||(this.skeSwing.paused=!0,this.aniAura.paused=!0)},e.prototype.playAniDead=function(){var t=this;this.aniStateMove.pause(),this.skeSwing.paused=!1,this.skeSwing.timeScale=1,this.skeSwing.setAnimation(0,"Die",!1),this.skeSwing.setEndListener(function(){t.node.stopAllActions();var e=cc.delayTime(1),n=cc.fadeOut(1),o=cc.callFunc(t.fishBDNormal.destroy,t.fishBDNormal);t.node.runAction(cc.sequence(e,n,o)),t.resetAni(),t.skeSwing.setEndListener(null)})},e.prototype.playAniRemove=function(){},e.prototype.onColision=function(){for(var t=0,e=this.node.childrenCount;t<e;t++){var n=this.node.children[t];n.stopActionByTag(123456),cc.tween(n).tag(123456).to(.09,{color:new cc.Color(245,83,83)}).delay(.08).to(.05,{color:cc.Color.WHITE}).start()}},e.prototype.offVayItem=function(){this.skeSwing.setAttachment("L_Arm_Armor",null),this.skeSwing.setAttachment("R_Arm_armor",null)},e.prototype.offHeadIAmortem=function(){this.skeSwing.setAttachment("Head_Armor",null)},e.prototype.offGiapTay=function(){this.skeSwing.setAttachment("L_Shoulder_Armor",null),this.skeSwing.setAttachment("R_Shoulder_Armor",null)},e.prototype.offDinhBa=function(){this.skeSwing.setAttachment("Trident",null),this.skeSwing.setAttachment("Trident2",null)},e.prototype.offKhien=function(){this.skeSwing.setAttachment("Shield",null)},e.prototype.getPointItem=function(){var t=this.node.convertToWorldSpaceAR(this.currentPosItem);return s.Windown.FishBongDem.fishBDView.parentEffect.convertToNodeSpaceAR(t)},e.prototype.getPointDuoi=function(){var t=cc.v2(75,-99.158),e=this.node.convertToWorldSpaceAR(t);return s.Windown.FishBongDem.fishBDView.parentEffect.convertToNodeSpaceAR(e)},e.prototype.resetAni=function(){null!=this.skeSwing&&(this.skeSwing.setAttachment("L_Shoulder_Armor","L_Shoulder_Armor"),this.skeSwing.setAttachment("R_Shoulder_Armor","R_Shoulder_Armor"),this.skeSwing.setAttachment("Head_Armor","Head_Armor"),this.skeSwing.setAttachment("Trident","Trident"),this.skeSwing.setAttachment("Trident2","Trident"),this.skeSwing.setAttachment("Shield","Shield"),this.skeSwing.setAttachment("R_Arm_armor","R_Arm_armor"),this.skeSwing.setAttachment("L_Arm_Armor","L_Arm_Armor"),this.aniAura.node.active=!0)},e.prototype.onPutNode=function(){s.Windown.FishBongDem.fishBDView.offHaiThan()},r([u(sp.Skeleton)],e.prototype,"skeSwing",void 0),r([u(sp.Skeleton)],e.prototype,"aniAura",void 0),r([l],e)}(a.default);n.default=h,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"./FishBDNormalView":"FishBDNormalView"}],FishBDHaiThan:[function(t,e,n){"use strict";cc._RF.push(e,"d1194PosVVARLu2vptiE1TH","FishBDHaiThan");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Windown"),c=t("./FishBDNormal"),l=t("./FishBDNormalView"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateItem=0,e}return i(e,t),e.prototype.initFish=function(e){this.stateItem=e.get("StateItems"),cc.log("this.stateItem: "+this.stateItem),t.prototype.initFish.call(this,e)},e.prototype.intiView=function(){return r(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:t=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.fishMng.getFishViewPool(this.fishType)];case 2:return t=n.sent(),this.isInList?(this.fishView=t.getComponent(l.default),t.parent=a.Windown.FishBongDem.fishBDView.parentFish,this.fishView.setFishBdNormal(this),this.fishView.initAni(this.getAniClipFromString(this.infoAni),this.speed,this.currentTimeInPath).setTagColider(this.fishId),this.fishView.setStateAni(),this.funCallBackWhenInitView&&this.funCallBackWhenInitView(this),[3,4]):(this.fishMng.putPoolFish(t,this.fishType),[2]);case 3:return e=n.sent(),t&&this.fishMng.putPoolFish(t,this.fishType),console.error(e),[3,4];case 4:return[2]}})})},e.prototype.getPointItem=function(){return this.fishView?this.fishView.getPointItem():cc.v2(0,0)},e.prototype.updateStateAni=function(){if(this.fishView)return this.fishView.updateStateAni()},e}(c.default);n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"./FishBDNormal":"FishBDNormal","./FishBDNormalView":"FishBDNormalView"}],FishBDJackpotView:[function(t,e,n){"use strict";cc._RF.push(e,"5f022iI5TRHjbhpA6ayJSbh","FishBDJackpotView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Obs/JackpotItem"),a=t("../../../../Scritps/Windown"),c=t("./FishBDNormalView"),l=cc._decorator,u=l.ccclass,h=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.ani=this.addComponent(cc.Animation),this.listColider=this.getComponentsInChildren(cc.Collider),this.skeSwing=this.getComponentInChildren(sp.Skeleton),this.node.children[0].runAction(cc.repeatForever(cc.rotateBy(4,360)))},e.prototype.initAni=function(e,n,o){return a.Windown.FishBongDem.fishBDView.coningJackpot(),a.Windown.FishBongDem.getSound().playEffect(a.Windown.FishBongDem.getSound().bkgJackpot,1,!0),a.Windown.FishBongDem.lbJp=this.getComponentInChildren(s.default),a.Windown.FishBongDem.emitNewIndexJp(),t.prototype.initAni.call(this,e,n,o)},e.prototype.setSke=function(t){t?(this.skeSwing.setAnimation(0,"anim",!0),this.skeSwing.node.scaleY=1,this.listColider.forEach(function(t){t.node.scaleX=-1})):(this.skeSwing.setAnimation(0,"anim",!0),this.skeSwing.node.scaleY=-1,this.listColider.forEach(function(t){t.node.scaleX=1}))},e.prototype.playAniDead=function(){this.pauAniFish()},e.prototype.playAniRemove=function(){this.node.stopAllActions();var t=cc.delayTime(1),e=cc.spawn(cc.fadeOut(1),cc.scaleTo(1,0)),n=cc.callFunc(this.fishBDNormal.destroy,this.fishBDNormal);this.node.runAction(cc.sequence(t,e,n))},e.prototype.onPutNode=function(){a.Windown.FishBongDem.lbJp=null,a.Windown.FishBongDem.getSound().stopEffect(a.Windown.FishBongDem.getSound().bkgJackpot)},r([u],e)}(c.default));n.default=h,cc._RF.pop()},{"../../../../Scritps/Obs/JackpotItem":void 0,"../../../../Scritps/Windown":void 0,"./FishBDNormalView":"FishBDNormalView"}],FishBDManager:[function(t,e,n){"use strict";cc._RF.push(e,"b49ac9CTTFHTLFT6XBvzrr1","FishBDManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Game/GAME_TYPE"),s=t("../../../../Scritps/InfoERR"),a=t("../../../../Scritps/Windown"),c=t("./FishBDCaTran"),l=t("./FishBDGroup"),u=t("./FishBDGroup4"),h=t("./FishBDHaiThan"),p=t("./FishBDMutil"),f=t("./FishBDNormal"),d=t("./FISH_TYPE"),y=function(){function t(t){this.poolFish1=new cc.NodePool,this.poolFish2=new cc.NodePool,this.poolFish3=new cc.NodePool,this.poolFish4=new cc.NodePool,this.poolFish5=new cc.NodePool,this.poolFish6=new cc.NodePool,this.poolFish7=new cc.NodePool,this.poolFish8=new cc.NodePool,this.poolFish9=new cc.NodePool,this.poolFish10=new cc.NodePool,this.poolFish11=new cc.NodePool,this.poolFish12=new cc.NodePool,this.poolFish13=new cc.NodePool,this.poolFish14=new cc.NodePool,this.poolFish15=new cc.NodePool,this.poolFish16=new cc.NodePool,this.poolFish17=new cc.NodePool,this.poolFish18=new cc.NodePool,this.poolFish19=new cc.NodePool,this.poolFish20=new cc.NodePool,this.poolFish21=new cc.NodePool,this.poolFish22=new cc.NodePool,this.poolFish23=new cc.NodePool,this.poolFish24=new cc.NodePool,this.poolFish25=new cc.NodePool,this.poolFish26=new cc.NodePool,this.poolFish27=new cc.NodePool,this.poolFish28=new cc.NodePool,this.poolFish29=new cc.NodePool,this.poolFish30=new cc.NodePool,this.poolFish31=new cc.NodePool,this.poolFish32=new cc.NodePool,this.poolFish33=new cc.NodePool,this.poolFish34=new cc.NodePool,this.poolFish35=new cc.NodePool,this.poolFish36=new cc.NodePool,this.poolFish37=new cc.NodePool,this.poolFish38=new cc.NodePool,this.poolFish39=new cc.NodePool,this.poolFish40=new cc.NodePool,this.poolFish50=new cc.NodePool,this.poolFish51=new cc.NodePool,this.poolFish52=new cc.NodePool,this.poolFish53=new cc.NodePool,this.poolFish54=new cc.NodePool,this.poolFish55=new cc.NodePool,this.poolFish56=new cc.NodePool,this.poolFish70=new cc.NodePool,this.poolFish71=new cc.NodePool,this.poolFish72=new cc.NodePool,this.poolFish73=new cc.NodePool,this.poolFish74=new cc.NodePool,this.poolFish100=new cc.NodePool,this.poolFish101=new cc.NodePool,this.poolFish102=new cc.NodePool,this.poolFish103=new cc.NodePool,this.poolFish110=new cc.NodePool,this.poolFish155=new cc.NodePool,this.poolFish156=new cc.NodePool,this.poolFish157=new cc.NodePool,this.fishBD=null,this.isInit=!1,this._map=null,this._mapFConfig=null,this.listReject=[],this.fishBD=t,this._map=new Map,this._mapFConfig=new Map}return t.prototype.initGame=function(){this.isInit=!0;var t=cc.director.getScheduler();t.enableForTarget(this),t.scheduleUpdate(this,cc.Scheduler.PRIORITY_SYSTEM,!1)},t.prototype.addListFish=function(t,e){for(var n=0,o=t.size();n<o;n++){var i=t.getSFSObject(n),r=i.getInt("FishType"),s=i.getInt("FishId"),a=this.getFishWithType(r);e&&e[n]&&(a.funCallBackWhenInitView=e[n]),a.initFish(i);var c=this._map.get(s);c&&(c.removeFishFromList(),c.destroy()),this._map.set(s,a)}},t.prototype.setFishConfig=function(t){for(var e=0,n=t.size();e<n;e++){var o=t.getSFSObject(e);this._mapFConfig.set(o.get("type"),o)}},t.prototype.getFishCfByType=function(t){return this._mapFConfig.get(t)},t.prototype.getFishWithType=function(t){return t==d.default.CA_GROUP||t==d.default.CA_GROUP4?new l.default(this):t==d.default.CA_GROUP4_1?new u.default(this):t==d.default.HAI_THAN?new h.default(this):t==d.default.CA_TRAN_1?new c.default(this):t==d.default.MUTIL||t==d.default.LOC_XOAY?new p.default(this):new f.default(this)},t.prototype.getFishById=function(t){return this._map.has(t)?this._map.get(t):null},t.prototype.removeFish=function(t){this._map.delete(t)},t.prototype.update=function(t){this._map.forEach(function(e){e.update(t)})},t.prototype.iceAllFish=function(t){this._map.forEach(function(e){e.setTimeEffectIce(t)})},t.prototype.getFishViewPool=function(t){var e=this;return new Promise(function(n,r){return o(e,void 0,void 0,function(){var e,o,s,a;return i(this,function(i){switch(i.label){case 0:e=null,o=this["poolFish"+t],i.label=1;case 1:return i.trys.push([1,5,,6]),o.size()<1?[4,this.getPrefabsFish(t)]:[3,3];case 2:return s=i.sent(),e=cc.instantiate(s),[3,4];case 3:e=o.get(),i.label=4;case 4:return e.parent=this.fishBD.fishBDView.parentFish,e.zIndex=t,n(e),[3,6];case 5:return a=i.sent(),console.log(a),r(a),[3,6];case 6:return[2]}})})})},t.prototype.getPrefabsFish=function(t){var e=this;return new Promise(function(n,s){return o(e,void 0,void 0,function(){var e;return i(this,function(o){switch(o.label){case 0:return this.addReject(s),[4,a.Windown.loadRes(r.default.BongDem.toString(),"Prefabs/Fish/Fish"+t,cc.Prefab)];case 1:return e=o.sent(),this.removeReject(s),n(e),[2]}})})})},t.prototype.putPoolFish=function(t,e){t&&this["poolFish"+e].put(t)},t.prototype.addReject=function(t){this.listReject.includes(t)||this.listReject.push(t)},t.prototype.removeReject=function(t){var e=this.listReject.indexOf(t);e>-1&&this.listReject.splice(e,1)},t.prototype.clearAllReject=function(){this.listReject.forEach(function(t){t(new s.InfoErr("Da destroy Ca"))})},t.prototype.forEachListFish=function(t){this._map.forEach(t)},t.prototype.getMapFish=function(){return this._map},t.prototype.destroy=function(){this.isInit&&cc.director.getScheduler().unscheduleUpdate(this),this.clearAllReject(),this._map.forEach(function(t){t.destroy(),t.removeFishFromList()}),this.isInit=!1,this._map.clear(),this._mapFConfig.clear(),this.poolFish1.clear(),this.poolFish2.clear(),this.poolFish3.clear(),this.poolFish4.clear(),this.poolFish5.clear(),this.poolFish6.clear(),this.poolFish7.clear(),this.poolFish8.clear(),this.poolFish9.clear(),this.poolFish10.clear(),this.poolFish11.clear(),this.poolFish12.clear(),this.poolFish13.clear(),this.poolFish14.clear(),this.poolFish15.clear(),this.poolFish16.clear(),this.poolFish17.clear(),this.poolFish18.clear(),this.poolFish19.clear(),this.poolFish20.clear(),this.poolFish21.clear(),this.poolFish22.clear(),this.poolFish23.clear(),this.poolFish24.clear(),this.poolFish25.clear(),this.poolFish26.clear(),this.poolFish27.clear(),this.poolFish28.clear(),this.poolFish29.clear(),this.poolFish30.clear(),this.poolFish31.clear(),this.poolFish32.clear(),this.poolFish33.clear(),this.poolFish34.clear(),this.poolFish35.clear(),this.poolFish36.clear(),this.poolFish37.clear(),this.poolFish38.clear(),this.poolFish39.clear(),this.poolFish40.clear(),this.poolFish50.clear(),this.poolFish51.clear(),this.poolFish52.clear(),this.poolFish53.clear(),this.poolFish54.clear(),this.poolFish55.clear(),this.poolFish56.clear(),this.poolFish70.clear(),this.poolFish71.clear(),this.poolFish72.clear(),this.poolFish73.clear(),this.poolFish74.clear(),this.poolFish56.clear(),this.poolFish100.clear(),this.poolFish101.clear(),this.poolFish102.clear(),this.poolFish103.clear(),this.poolFish110.clear(),this.poolFish155.clear(),this.poolFish156.clear(),this.poolFish157.clear()},t}();n.default=y,cc._RF.pop()},{"../../../../Scritps/Game/GAME_TYPE":void 0,"../../../../Scritps/InfoERR":void 0,"../../../../Scritps/Windown":void 0,"./FISH_TYPE":"FISH_TYPE","./FishBDCaTran":"FishBDCaTran","./FishBDGroup":"FishBDGroup","./FishBDGroup4":"FishBDGroup4","./FishBDHaiThan":"FishBDHaiThan","./FishBDMutil":"FishBDMutil","./FishBDNormal":"FishBDNormal"}],FishBDMuiKhoanView:[function(t,e,n){"use strict";cc._RF.push(e,"a04860+CJZGiaRwN0by1afw","FishBDMuiKhoanView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./FishBDNormalView"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},r([c],e)}(s.default));n.default=l,cc._RF.pop()},{"./FishBDNormalView":"FishBDNormalView"}],FishBDMutil:[function(t,e,n){"use strict";cc._RF.push(e,"a411egbs5FOl7ReqLkuScWC","FishBDMutil");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mutil=1,e}return i(e,t),e.prototype.initFish=function(e){this.mutil=e.get("Mutil"),t.prototype.initFish.call(this,e)},e}(t("./FishBDCaTran").default);n.default=r,cc._RF.pop()},{"./FishBDCaTran":"FishBDCaTran"}],FishBDNormalView:[function(t,e,n){"use strict";cc._RF.push(e,"de10dnSlH1OubPPxtjrRG4C","FishBDNormalView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./FishStateBD"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ani=null,e.aniStateMove=null,e.skeSwing=null,e.listColider=[],e.fishBDNormal=null,e.baseSpeed=1,e}return i(e,t),e.prototype.onLoad=function(){this.ani=this.addComponent(cc.Animation),this.listColider=this.getComponentsInChildren(cc.Collider),this.skeSwing=this.getComponentInChildren(sp.Skeleton),this.skeSwing.setAnimation(0,"animation",!0)},e.prototype.setFishBdNormal=function(t){this.fishBDNormal=t},e.prototype.setCurrentTimeAni=function(t){return this.aniStateMove.time=t,this},e.prototype.setSpeedAni=function(t){return this.aniStateMove.speed=t,this},e.prototype.setTagColider=function(t){this.listColider.forEach(function(e){e.tag=t})},e.prototype.getPos=function(){var t=this.node.children[0].parent.convertToWorldSpaceAR(this.node.children[0].getPosition());return this.node.parent.convertToNodeSpaceAR(t)},e.prototype.pauAniFish=function(){this.aniStateMove.pause(),this.stopAniSwing()},e.prototype.resume=function(){this.aniStateMove.isPaused&&this.aniStateMove.resume(),this.playAniSwing()},e.prototype.initAni=function(t,e,n){var o=this;this.ani.getClips().forEach(function(t){o.ani.removeClip(t,!0)}),this.node.setPosition(1e4,1e4),"view"==this.node.children[0].name&&this.node.children[0].setPosition(0,0),this.ani.addClip(t),this.aniStateMove=this.ani.play(t.name),this.aniStateMove.speed=e,this.aniStateMove.time=n,this.node.scale=1,this.baseSpeed=this.fishBDNormal.speed+.2,this.fishBDNormal.timeEffectHide>0?(this.node.opacity=0,this.node.runAction(cc.sequence(cc.delayTime(this.fishBDNormal.timeEffectHide),cc.fadeIn(.1)))):this.node.opacity=255,this.aniStateMove.sample();for(var i=0,r=this.node.childrenCount;i<r;i++)this.node.children[i].color=cc.Color.WHITE;return this.fishBDNormal.fishState==s.default.ICE?this.pauAniFish():this.fishBDNormal.fishState==s.default.WATING?this.aniStateMove.pause():this.resume(),this},e.prototype.playAniSwing=function(){this.skeSwing.paused=!1,this.skeSwing.timeScale=this.baseSpeed},e.prototype.stopAniSwing=function(){this.fishBDNormal.isDeadEffect||(this.skeSwing.paused=!0)},e.prototype.playAniDead=function(){this.pauAniFish(),this.skeSwing.paused=!1,this.skeSwing.timeScale=10},e.prototype.playAniRemove=function(){this.node.stopAllActions();var t=cc.delayTime(1),e=cc.spawn(cc.fadeOut(1),cc.rotateBy(1,360),cc.scaleTo(1,0)),n=cc.callFunc(this.fishBDNormal.destroy,this.fishBDNormal);this.node.runAction(cc.sequence(t,e,n))},e.prototype.playAniNewTurn=function(){this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(this.fishBDNormal.destroy,this.fishBDNormal)))},e.prototype.onColision=function(){var t=this.node.children[0];t.stopActionByTag(123456),cc.tween(t).tag(123456).to(.09,{color:new cc.Color(245,83,83)}).delay(.08).to(.05,{color:cc.Color.WHITE}).start()},e.prototype.checkColiderInScreen=function(t){var e=null;if("number"==typeof e?e=this.listColider[t]:this.listColider.includes(t)&&(e=t),e){var n=e.node.parent.convertToWorldSpaceAR(e.node.getPosition()),o=this.node.parent.convertToNodeSpaceAR(n);return o.x>640||o.x<-640||o.y>360||o.y<-360?null:o}return null},e.prototype.getColiderInScreen=function(t){for(var e=0,n=this.listColider;e<n.length;e++){var o=n[e];if(o!=t&&this.checkColiderInScreen(o))return o}return null},e.prototype.getPointColider=function(t){if("number"==typeof t&&(t=this.listColider[t]),!this.listColider.includes(t))return null;var e=t.node.parent.convertToWorldSpaceAR(t.node.getPosition());return this.node.parent.convertToNodeSpaceAR(e)},e.prototype.getPointInFuture=function(t,e){if(!this.listColider.includes(e))return cc.v2(0,0);if(this.aniStateMove.isPaused)return this.getPointColider(e);var n=this.aniStateMove.time,o=n+t*this.aniStateMove.speed;this.aniStateMove.time=o,this.aniStateMove.sample();var i=e.node.parent.convertToWorldSpaceAR(e.node.getPosition()),r=this.node.parent.convertToNodeSpaceAR(i);return this.aniStateMove.time=n,this.aniStateMove.sample(),r},e.prototype.onPutNode=function(){},r([l(sp.Skeleton)],e.prototype,"skeSwing",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./FishStateBD":"FishStateBD"}],FishBDNormal:[function(t,e,n){"use strict";cc._RF.push(e,"3799bIit0NH7Z1ZbXbPlfqk","FishBDNormal");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Windown"),c=t("./BaseFishBD"),l=t("./FishBDNormalView"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.initFish=function(t){this.fishId=t.get("FishId"),this.fishType=t.get("FishType"),this.timeMove=t.get("TimeMove"),this.currentTimeInPath=t.get("CurrentTimeInPath")+a.Windown.LagValue,this.fishState=t.get("FishState"),this.timeEffectIce=t.get("TimeEffectIce")-a.Windown.LagValue,this.timeEffectWaiting=t.get("TimeEffectWaiting")-a.Windown.LagValue,this.timeEffectHide=t.get("TimeEffectHide")-a.Windown.LagValue,this.infoAni=t.get("InfoAni"),this.speed=t.get("Speed"),this.isInList=!0,this.checkTimeEffect(0),this.intiView()},e.prototype.setTimeEffectWating=function(t){this.timeEffectWaiting<t&&(this.timeEffectWaiting=t)},e.prototype.setTimeEffectIce=function(t){this.timeEffectIce<t&&(this.timeEffectIce=t)},e.prototype.intiView=function(){return r(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:t=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.fishMng.getFishViewPool(this.fishType)];case 2:return t=n.sent(),this.isInList?(this.fishView=t.getComponent(l.default),t.parent=a.Windown.FishBongDem.fishBDView.parentFish,this.fishView.setFishBdNormal(this),this.fishView.initAni(this.getAniClipFromString(this.infoAni),this.speed,this.currentTimeInPath).setTagColider(this.fishId),this.funCallBackWhenInitView&&this.funCallBackWhenInitView(this),[3,4]):(this.fishMng.putPoolFish(t,this.fishType),[2]);case 3:return e=n.sent(),t&&this.fishMng.putPoolFish(t,this.fishType),console.error(e),[3,4];case 4:return[2]}})})},e.prototype.destroy=function(){this.fishView&&(this.fishView.onPutNode(),this.fishMng.putPoolFish(this.fishView.node,this.fishType)),this.fishView=null,t.prototype.destroy.call(this)},e.prototype.effectWating=function(){this.fishView&&this.fishView.aniStateMove.pause()},e.prototype.effectIce=function(){this.fishView&&this.fishView.pauAniFish()},e.prototype.effectNormal=function(){this.fishView&&this.fishView.resume()},e.prototype.isInScreen=function(){if(null==this.fishView)return!1;var t=this.fishView.getPos();return!(t.x>640||t.x<-640||t.y>360||t.y<-360)},e.prototype.getPoint=function(){return this.fishView?this.fishView.getPos():cc.v2(0,0)},e.prototype.onColision=function(t){this.fishView&&this.fishView.onColision(t)},e.prototype.playAniNewTurn=function(){return r(this,void 0,void 0,function(){return s(this,function(){return this.fishView&&this.fishView.playAniNewTurn(),[2]})})},e.prototype.getCanColision=function(){return this.isInList},e.prototype.playAniSwing=function(){this.fishView&&this.fishView.playAniSwing()},e.prototype.playAniDead=function(){this.isDeadEffect||(this.isDeadEffect=!0,this.fishView&&this.fishView.playAniDead())},e.prototype.playAniRemove=function(){this.fishView&&this.fishView.playAniRemove()},e.prototype.deadGoToPlayer=function(t){if(this.fishView){var e=cc.moveTo(1,this.getPosDeadPlayer(t.playerSiting)).easing(cc.easeSineOut()),n=cc.rotateTo(1,-90).easing(cc.easeSineOut());this.fishView.node.runAction(cc.spawn(n,e))}},e.prototype.getListColider=function(){return this.fishView?this.fishView.listColider:[]},e.prototype.getPointInFuture=function(t,e){return this.fishView?this.fishView.getPointInFuture(t,e):cc.v2(0,0)},e.prototype.getViewNode=function(){return this.fishView?this.fishView.node:new cc.Node},e}(c.default);n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"./BaseFishBD":"BaseFishBD","./FishBDNormalView":"FishBDNormalView"}],FishBDRua:[function(t,e,n){"use strict";cc._RF.push(e,"211f2tsIUNNmIrq2zF2banG","FishBDRua");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=t("./FishBDNormalView"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.funEffect=null,e}return i(e,t),e.prototype.initAni=function(e,n,o){return s.Windown.FishBongDem.fishBDView.comingRua(),t.prototype.initAni.call(this,e,n,o)},e.prototype.playAniSwing=function(){this.skeSwing.paused=!1,this.skeSwing.timeScale=this.baseSpeed+.5},e.prototype.playAniDead=function(){var t=this;this.pauAniFish();var e=s.Windown.FishBongDem.getSound();e.playEffect(e.nhanMaChet);var n=this.node.getPosition(),o=cc.v2(n.x-10,n.y-10),i=cc.v2(n.x+10,n.y+10),r=cc.repeat(cc.sequence(cc.moveTo(.1,o),cc.moveTo(.1,i)),5),a=cc.spawn(cc.scaleTo(.5,3),cc.fadeOut(.5));this.node.runAction(cc.sequence(r,a,cc.callFunc(function(){t.fishBDNormal.destroy()})))},e.prototype.playAniRemove=function(){},r([l],e)}(a.default));n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"./FishBDNormalView":"FishBDNormalView"}],FishBDSongAmView:[function(t,e,n){"use strict";cc._RF.push(e,"762d5BRtjxO9LrjBQgLDOuB","FishBDSongAmView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./FishBDNormalView"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.skeSwing.setAttachment("sunglaser",null)},r([c],e)}(s.default));n.default=l,cc._RF.pop()},{"./FishBDNormalView":"FishBDNormalView"}],FishBDTruyGaiView:[function(t,e,n){"use strict";cc._RF.push(e,"14e80jgnYRJz49+hFqG6KVQ","FishBDTruyGaiView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=t("./FishBDNormalView"),c=cc._decorator,l=c.ccclass,u=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.funEffect=null,e.nodeMask=null,e.nodeTruy=null,e}return i(e,t),e.prototype.initAni=function(e,n,o){t.prototype.initAni.call(this,e,n,o),s.Windown.FishBongDem.fishBDView.comingTruyGai();var i=s.Windown.FishBongDem.getSound();return i.playEffect(i.bgBackTuoc,.4,!0),this.skeSwing.setAnimation(0,"SWIM",!0),this.node.children[this.node.childrenCount-1].color=cc.Color.BLACK,this.nodeMask.parent=this.node.parent,this.nodeMask.zIndex=cc.macro.MAX_ZINDEX,this.nodeMask.runAction(cc.fadeTo(1,150)),this},e.prototype.playAniDead=function(){var t=this;this.pauAniFish(),this.nodeMask.runAction(cc.fadeOut(1)),this.skeSwing.setAnimation(0,"DIE",!1),this.scheduleOnce(function(){t.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(.2,2),cc.fadeOut(.2)),cc.callFunc(t.fishBDNormal.destroy,t.fishBDNormal)))},1.5)},e.prototype.onPutNode=function(){var t=s.Windown.FishBongDem.getSound();t.stopEffect(t.bgBackTuoc),this.nodeMask.runAction(cc.fadeOut(1))},e.prototype.playAniRemove=function(){},e.prototype.update=function(){var t=this.nodeTruy.parent.convertToWorldSpaceAR(this.nodeTruy.getPosition()),e=this.node.parent.convertToNodeSpaceAR(t);this.nodeMask.setPosition(e)},r([u(cc.Node)],e.prototype,"nodeMask",void 0),r([u(cc.Node)],e.prototype,"nodeTruy",void 0),r([l],e)}(a.default);n.default=h,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"./FishBDNormalView":"FishBDNormalView"}],FishBDView:[function(t,e,n){"use strict";cc._RF.push(e,"855b1q3l2tGuL+jWgL4cLfq","FishBDView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/Game/GAME_TYPE"),l=t("../../../../Scritps/Network/ConectManager"),u=t("../../../../Scritps/Obs/LbMoneyChange"),h=t("../../../../Scritps/Windown"),p=t("../../Spine/mesh-texture-flagBD"),f=t("../CamMayBongDem"),d=t("../Gun/GUN_TYPE_BD"),y=t("../HelpBongDem"),g=t("../LichSuJackpot"),m=t("../Network/CODE_EVT"),v=t("../Player/Effect/TypePlayerEffectBD"),w=t("../TimeOut"),D=t("./ItemBongDem"),B=cc._decorator,F=B.ccclass,_=B.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentFish=null,e.parentPlayer=null,e.parentGun=null,e.parentBullet=null,e.parentEffect=null,e.nodeIceEffect=null,e.nodeComingCaTran=null,e.nodeComingJackpot=null,e.nodeWave=null,e.bkgSprite=null,e.listSpriteFrameBKG=[],e.listItem=[],e.camMay=null,e.toggleSungSet=null,e.nodeComingCaXau=null,e.nodeComingTruyGai=null,e.nodeComingRua=null,e.nodeComingHaiThan=null,e.nodeTakeNhomCa=null,e.camera=null,e.arrowMe=null,e.timeOut=null,e.lichSuJackpot=null,e.btnBoom=null,e.btnDoiBan=null,e.nodeMenu=null,e.helpBongDem=null,e.offsetX=0,e.offsetY=0,e.countBkg=0,e.funShake=null,e.isShake=!1,e.forceShake=30,e.listFishElectric=[],e.listFishElectricInFish=[],e.listRandomAction=[],e.SFSArrayItem=null,e}return i(e,t),e.prototype.start=function(){if(null!=h.Windown.FishBongDem){this.offsetX=cc.winSize.width/2,this.offsetY=cc.winSize.height/2,h.Windown.FishBongDem.setFishBDView(this),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),cc.director.getCollisionManager().enabled=!0,this.nodeWave.active=!1;var t=this.bkgSprite.node.width,e=this.bkgSprite.node.height,n=cc.winSize.width/t,o=cc.winSize.height/e;n>1&&(this.bkgSprite.node.scaleX=n),o>1&&(this.bkgSprite.node.scaleY=o),this.bkgSprite.node.scaleY+=.03,this.countBkg=h.Windown.RandomNumber(0,this.listSpriteFrameBKG.length),this.bkgSprite.spriteFrame=this.listSpriteFrameBKG[this.countBkg],this.countBkg++,this.countBkg==this.listSpriteFrameBKG.length&&(this.countBkg=0),h.Windown.FishBongDem.addHandleReset(this.handleReset,this)}else cc.director.loadScene("main")},e.prototype.loadResult=function(){return s(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,this.makeDelay(2)];case 1:return t.sent(),[4,h.Windown.loadRes(c.default.BongDem.toString(),"Prefabs/Game/DropBoom",cc.Prefab)];case 2:return t.sent(),[4,h.Windown.loadRes(c.default.BongDem.toString(),"Prefabs/Game/EyeOcean0",cc.Prefab)];case 3:return t.sent(),[4,h.Windown.loadRes(c.default.BongDem.toString(),"Prefabs/Game/DinhBa",cc.Prefab)];case 4:return t.sent(),[4,h.Windown.loadRes(c.default.BongDem.toString(),"Prefabs/Game/ThangLon",cc.Prefab)];case 5:return t.sent(),[2]}})})},e.prototype.initItemBoomDrop=function(){for(var t=cc.find("ParentListBoom",this.btnBoom).children,e=0,n=t.length;e<n;e++){var o=t[e];o.getComponent(cc.Button).clickEvents[0].customEventData=o.name}},e.prototype.onClickTest=function(){return s(this,void 0,void 0,function(){return a(this,function(){return[2]})})},e.prototype.startBot=function(){var t=this,e=h.Windown.RandomNumber(3,11);this.listRandomAction=[];for(var n=0;n<e;n++){var o=[0,1,2,3],i=this.listRandomAction[this.listRandomAction.length-1];i&&3==i.type&&(o=[0,1]);var r=Object.create(null);switch(r.type=0==n?3:h.Windown.RandomNumber(0,o.length),r.type){case 0:r.duration=h.Windown.RandomNumber(50,200),r.name="AT",r.fun=function(){t.funSetAtack(!0)};break;case 1:r.duration=h.Windown.RandomNumber(27,150),r.name="UI",r.fun=function(){t.funUseItem()};break;case 2:r.duration=h.Windown.RandomNumber(5,30),r.name="WT",r.fun=function(){t.funSetAtack(!1)};break;case 3:r.duration=h.Windown.RandomNumber(3.5,5),r.name="CG",r.fun=function(){t.funAutoChangeGun()}}this.listRandomAction.push(r)}this.scheduleOnce(this.runActionAuto,h.Windown.RandomNumber(3,5)),this.scheduleOnce(this.funUseItemSpecial,h.Windown.RandomNumber(2,30))},e.prototype.runActionAuto=function(){var t=this,e=this.listRandomAction.shift();null!=typeof e&&e?(this.scheduleOnce(function(){t.runActionAuto(),cc.log("nhay vao ham tiep theo ne")},e.duration),e.fun.call(this)):this.funBack()},e.prototype.funUseItemSpecial=function(){var t=this;h.Windown.RandomNumber(0,99)<15?(this.listItem[3].onClick(),this.scheduleOnce(function(){h.Windown.RandomNumber(0,100)<80?t.onClickItemDropBoom(null,100):t.onClickItemDropBoom(null,102),t.scheduleOnce(t.funUseItemSpecial,h.Windown.RandomNumber(1,200))},h.Windown.RandomNumber(1,6))):(h.Windown.RandomNumber(0,100)<80?this.onClickItemDropBoom(null,h.Windown.RandomNumber(100,102)):this.onClickItemDropBoom(null,102),this.scheduleOnce(this.funUseItemSpecial,h.Windown.RandomNumber(1,200)))},e.prototype.getMaxIdGunValible=function(t){var e=h.Windown.getConfigLevel().GameUnlock;if(e)for(var n=0,o=e;n<o.length;n++){var i=o[n];if(i.GameId==c.default.BongDem){var r;if(0==(r=i.GunType1).length)return 0;var s=r[r.length-1];for(0==s&&(s=10);;){cc.log("idreturn: "+s);var a=h.Windown.FishBongDem.getGunValueByType(s-1);if(!(s>1&&parseInt(t/a)<60))return s;s--}}}return 10},e.prototype.funAutoChangeGun=function(){var t=this;h.Windown.FishBongDem.me.gunFishBd.stateGun.type!=d.default.NORMAL&&h.Windown.FishBongDem.me.gunFishBd.stateGun.type!=d.default.SET||(this.funSetAtack(!1),this.scheduleOnce(function(){var e=t.getMaxIdGunValible(h.Windown.User.userAg);if(0!=e){var n=h.Windown.RandomNumber(1,e),o=h.Windown.FishBongDem.me.indexMoneyGun,i=Math.abs(n-o);t.schedule(function(){n>o?h.Windown.FishBongDem.me.gunFishBd.onClickAdd():h.Windown.FishBongDem.me.gunFishBd.onClickSub()},.5,i)}},h.Windown.RandomNumber(1,2)))},e.prototype.funBack=function(){var t=this;this.funSetAtack(!1),this.scheduleOnce(function(){t.onClickBack(),t.scheduleOnce(function(){h.Windown.restartGame()},10)},h.Windown.RandomNumber(3,8))},e.prototype.funUseItem=function(){var t=this;this.funSetAtack(!1);for(var e=[],n=0,o=this.listItem;n<o.length;n++){var i=o[n];i.totalAmount>0&&e.push(i)}if(e.length>0){var r=e[h.Windown.RandomNumber(0,e.length)];this.scheduleOnce(function(){r.onClick(),t.scheduleOnce(function(){t.funSetAtack(!0)},h.Windown.RandomNumber(1,2))},h.Windown.RandomNumber(1,3)/3)}else this.scheduleOnce(function(){t.funSetAtack(!0)},h.Windown.RandomNumber(1,7)/3)},e.prototype.funSetAtack=function(t){t?h.Windown.FishBongDem.me.timeItemAuto=9999:h.Windown.FishBongDem.me.forceEndEffect(v.default.AUTO)},e.prototype.handleReset=function(){var t=this;this.scheduleOnce(function(){t.btnDoiBan.interactable=!0},1)},e.prototype.onDestroy=function(){this.node.targetOff(this.node),cc.director.getCollisionManager().enabled=!1,cc.systemEvent.targetOff(this),h.Windown.FishBongDem&&h.Windown.FishBongDem.clear(),h.Windown.FishBongDem=null,cc.director.getScheduler().setTimeScale(1)},e.prototype.onTouchMove=function(t){var e=t.getLocation(),n=h.Windown.FishBongDem.fishBDView.parentFish.convertToNodeSpaceAR(e);h.Windown.FishBongDem.me&&h.Windown.FishBongDem.me.rotateGun(n)},e.prototype.onTouchStart=function(t){var e=t.getLocation(),n=h.Windown.FishBongDem.fishBDView.parentFish.convertToNodeSpaceAR(e);h.Windown.FishBongDem.me&&h.Windown.FishBongDem.me.rotateGun(n)},e.prototype.onTouchEnd=function(){h.Windown.FishBongDem.me&&h.Windown.FishBongDem.me.cancleGun()},e.prototype.showTakeGroupFish=function(t){var e=this,n=h.Windown.FishBongDem.getSound();this.nodeTakeNhomCa.active=!0,this.nodeTakeNhomCa.stopAllActions();var o=cc.find("Money",this.nodeTakeNhomCa).getComponent(u.default);o.resetLb(),o.setMoney(t,!1,"",!1),this.nodeTakeNhomCa.getComponent(cc.Animation).play("NhomCa"),cc.tween(this.nodeTakeNhomCa).delay(3).call(function(){e.nodeTakeNhomCa.active=!1,n.stopEffect(n.anDcNhomCa)}).start(),n.playEffect(n.anDcNhomCa)},e.prototype.showArrowMe=function(t){var e=this;this.arrowMe.active=!0,this.arrowMe.stopAllActions(),this.arrowMe.setPosition(t);var n=cc.moveBy(.5,0,50),o=cc.moveBy(.5,0,-50),i=cc.sequence(n,o);this.arrowMe.runAction(cc.sequence(cc.repeat(i,4),cc.callFunc(function(){e.arrowMe.active=!1})))},e.prototype.comingCaXau=function(){var t=this;this.nodeComingCaXau.active=!0,this.nodeComingCaXau.getComponent(cc.Animation).play("ComingCaXau"),this.scheduleOnce(function(){t.nodeComingCaXau.active=!1},3)},e.prototype.comingTruyGai=function(){var t=this;this.nodeComingTruyGai.active=!0,this.nodeComingTruyGai.getComponent(cc.Animation).play("ComingCaXau"),this.scheduleOnce(function(){t.nodeComingTruyGai.active=!1},3)},e.prototype.comingRua=function(){var t=this;this.nodeComingRua.active=!0,this.nodeComingRua.getComponent(cc.Animation).play("ComingCaXau"),this.scheduleOnce(function(){t.nodeComingRua.active=!1},3)},e.prototype.comingCaTran=function(){var t=this;this.nodeComingCaTran.active=!0,this.nodeComingCaTran.x=1280,this.nodeComingCaTran.stopAllActions();var e=cc.delayTime(3),n=cc.moveTo(.5,0,0).easing(cc.easeBackOut()),o=cc.delayTime(2),i=cc.moveTo(.5,-1280,0).easing(cc.easeBackIn()),r=cc.callFunc(function(){t.nodeComingCaTran.active=!1});this.nodeComingCaTran.runAction(cc.sequence(e,n,o,i,r))},e.prototype.coningJackpot=function(){var t=this;this.nodeComingJackpot.active=!0,this.nodeComingJackpot.getComponentInChildren(sp.Skeleton).setAnimation(0,"animation",!1),this.scheduleOnce(function(){t.nodeComingJackpot.active=!1},3),h.Windown.FishBongDem.getSound().playEffect(h.Windown.FishBongDem.getSound().comingJackpot)},e.prototype.comingHaiThan=function(){this.nodeComingHaiThan.active=!0;var t=h.Windown.FishBongDem.getSound();t.playEffect(t.caTranDacBiet,.6)},e.prototype.offHaiThan=function(){var t=h.Windown.FishBongDem.getSound();t.stopEffect(t.caTranDacBiet),this.nodeComingHaiThan.active=!1},e.prototype.showNextTurn=function(){var t=this;this.nodeWave.active=!0;var e=this.bkgSprite.node.width*this.bkgSprite.node.scaleX,n=cc.find("wave1",this.nodeWave);n.x=e/2-100,cc.Tween.stopAllByTarget(n),cc.tween(n).to(3,{x:-e/2-100}).start(),cc.Tween.stopAllByTarget(this.nodeWave),cc.tween(this.nodeWave).delay(3).call(function(){t.offWaveWater()}).start(),cc.Tween.stopAllByTarget(this.bkgSprite.node),this.bkgSprite,cc.tween(this.bkgSprite.node).delay(2).call(function(){t.bkgSprite.spriteFrame=t.listSpriteFrameBKG[t.countBkg],t.countBkg++,t.countBkg>=t.listSpriteFrameBKG.length&&(t.countBkg=0)}).start()},e.prototype.setItemInfo=function(t){var e=h.Windown.listConfigItem;this.SFSArrayItem=t;for(var n=0,o=e.length;n<o;n++)for(var i={Amount:null,ItemId:null,ItemName:null,Description:null,TimeCD:null},r=e[n],s=r.ItemId,a=0,c=t.size();a<c;a++)if((f=t.get(a)).getInt("type")==s&&s<5){var l=f.getInt("amount");i.Amount=l,i.ItemId=r.ItemId,i.ItemName=r.ItemName,i.Description=r.Description,i.TimeCD=r.Duration,this.listItem[s-1].initItem(i),this.listItem[s-1].setLabel();break}var u=cc.find("ParentListBoom",this.btnBoom),p=0;for(a=0,c=t.size();a<c;a++){var f,d=(f=t.get(a)).getInt("type");if(d>=100&&d<200){var y=cc.find(d.toString(),u);cc.find("xx6",y).getComponentInChildren(cc.Label).string=f.get("amount"),p+=f.get("amount")}}var g=cc.find("xx6",this.btnBoom).getComponentInChildren(cc.Label);g.string=p.toString(),g.node.parent.active=p>0,u.active&&this.onClickBtnDropBoom()},e.prototype.reviceItemWhenLvlUp=function(t,e){if(0==t)cc.log("nhay me vao add gold reviceItemWhenLvlUp"),h.Windown.FishBongDem.me.addGold(e);else if(this.SFSArrayItem){cc.log("truoc: "+h.Windown.SFSArrToJson(this.SFSArrayItem));for(var n=0,o=this.SFSArrayItem.size();n<o;n++){var i=this.SFSArrayItem.getSFSObject(n);if(i.getInt("type")==t)return i.putInt("amount",i.get("amount")+e),void this.setItemInfo(this.SFSArrayItem)}var r=l.ConectManager.getIns().getSFSObj();r.putInt("amount",e),r.putInt("type",+t),this.SFSArrayItem.addSFSObject(r),this.setItemInfo(this.SFSArrayItem)}},e.prototype.showIce=function(t){var e=this;this.nodeIceEffect.active=!0,this.nodeIceEffect.opacity=0,cc.Tween.stopAllByTarget(this.nodeIceEffect),cc.tween(this.nodeIceEffect).to(.5,{opacity:255}).start(),cc.tween(this.nodeIceEffect).delay(t).call(function(){e.nodeIceEffect.active=!1}).start()},e.prototype.offWaveWater=function(){this.nodeWave.active=!1,this.nodeWave.stopAllActions()},e.prototype.showComingCaTran=function(){},e.prototype.makeDelay=function(t){var e=this;return new Promise(function(n){e.scheduleOnce(n,t)})},e.prototype.effectSlowmotion=function(t,e){void 0===e&&(e=.1);var n=cc.director.getScheduler();if(1==n.getTimeScale()){var o=Object.create(null);o.time=1,cc.tween(o).to(.3,{time:{value:e,progress:function(t,e,o,i){var r=t+(e-t)*i;return n.setTimeScale(r),r}}}).delay(t*e).to(.2,{time:{value:1,progress:function(t,e,o,i){var r=t+(e-t)*i;return n.setTimeScale(r),r}}}).start()}},e.prototype.shakeScence=function(t,e){var n=this;void 0===e&&(e=30),this.isShake=!0,this.forceShake=e,this.scheduleOnce(this.funShake=function(){n.isShake=!1,n.camera.setPosition(0,0)},t)},e.prototype.update=function(){this.isShake&&(this.camera.x=h.Windown.RandomNumber(-this.forceShake,this.forceShake),this.camera.y=h.Windown.RandomNumber(-this.forceShake,this.forceShake))},e.prototype.onClickChangeRoom=function(t){var e=t.target.getComponent(cc.Button);e.interactable=!1,this.scheduleOnce(function(){e.interactable=!0},1.5),h.Windown.FishBongDem.changeTable()},e.prototype.onClickBack=function(){h.Windown.FishBongDem.sendLeaveRoom()},e.prototype.onClickSetting=function(){h.Windown.UIManager.showCaiDat()},e.prototype.onClickAuto=function(){this.camMay.show()},e.prototype.onToggleItemNhienVu=function(t){var e=t.isChecked;cc.log(e);var n=h.Windown.NhiemVuConTroller.itemQuestViewFish.node,o=cc.find("toggle",n);n.stopAllActions(),o.stopAllActions(),e?(n.runAction(cc.moveTo(.5,0,505.403).easing(cc.easeBackIn())),o.runAction(cc.moveTo(.5,0,-168.859))):(n.runAction(cc.moveTo(.5,0,360).easing(cc.easeBackOut())),o.runAction(cc.moveTo(.5,0,-148.399)))},e.prototype.onClickSungSet=function(){if(!h.Windown.User.isGunSet)return h.Windown.UIManager.showBonusNap(!1,3),this.toggleSungSet.isChecked=!1,void(this.toggleSungSet.checkMark.node.active=!1);var t=l.ConectManager.getIns().getSFSObj();t.putInt("AccountId",h.Windown.User.userId),this.toggleSungSet.isChecked?t.putInt("GunType",d.default.SET):t.putInt("GunType",d.default.NORMAL),h.Windown.FishBongDem.sendRequest(m.default.ChangeGunFishBD,t)},e.prototype.onClickBtnDropBoom=function(){var t=cc.find("ParentListBoom",this.btnBoom),e=t.children;t.stopAllActions();var n=0,o=cc.find("xx6",this.btnBoom).getComponentInChildren(cc.Label);t.active?(t.active=!1,cc.find("xx6",this.btnBoom).active=!0,Number(o.string)<1&&(o.node.parent.active=!1)):(t.active=!0,e.forEach(function(t){t.stopAllActions(),t.scale=0,t.opacity=255,t.runAction(cc.sequence(cc.delayTime(n),cc.scaleTo(.3,1).easing(cc.easeElasticOut(.5)))),n+=.07}),o.node.parent.active=!1)},e.prototype.onClickItemDropBoom=function(t,e){if(parseInt(e)){var n=l.ConectManager.getIns().getSFSObj();n.putInt("ItemId",parseInt(e)),h.Windown.FishBongDem.sendRequest(m.default.PlayerUsingItemFishBD,n),this.onClickBtnDropBoom()}},e.prototype.onClickHuongDan=function(){return s(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:if(null!=this.helpBongDem)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,h.Windown.loadRes(c.default.BongDem.toString(),"Prefabs/HelpBongDem",cc.Prefab)];case 2:return t=n.sent(),this.helpBongDem=cc.instantiate(t),this.helpBongDem.parent=this.node,[3,4];case 3:return e=n.sent(),console.error(e),[3,4];case 4:return this.helpBongDem.active=!0,this.helpBongDem.getComponent(y.default).show(),[2]}})})},e.prototype.onClickLichSuJackpot=function(){return s(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:if(null!=this.lichSuJackpot)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,h.Windown.loadRes(c.default.BongDem.toString(),"Prefabs/LichSuJackpot",cc.Prefab)];case 2:return t=n.sent(),this.lichSuJackpot=cc.instantiate(t).getComponent(g.default),this.lichSuJackpot.node.parent=this.node,[3,4];case 3:return e=n.sent(),console.error(e),[3,4];case 4:return this.lichSuJackpot.node.active=!0,this.lichSuJackpot.show(),[2]}})})},e.prototype.onClickShowMenu=function(t){var e=t.target;cc.Tween.stopAllByTarget(this.nodeMenu),cc.Tween.stopAllByTarget(e),1==e.scaleX?(cc.tween(this.nodeMenu).to(.3,{x:cc.winSize.width/2-this.nodeMenu.width},{easing:cc.easing.sineIn}).start(),cc.tween(e).to(.1,{scaleX:-1}).start()):(cc.tween(this.nodeMenu).to(.3,{x:cc.winSize.width/2-75},{easing:cc.easing.sineOut}).start(),cc.tween(e).to(.1,{scaleX:1}).start())},e.prototype.onClickHideMenu=function(){},e.prototype.onToggleShowItem=function(t){cc.log(t);var e=[cc.v2(-80,-270),cc.v2(0,-270),cc.v2(80,-270),cc.v2(110,-315)];t.isChecked?t.target.getChildByName("Background").scaleX=-1:t.target.getChildByName("Background").scaleX=1,this.listItem.forEach(function(n,o){n.node.stopAllActions(),t.isChecked?n.node.runAction(cc.spawn(cc.moveTo(.25,e[o]).easing(cc.easeSineOut()),cc.scaleTo(.25,.9).easing(cc.easeSineOut()))):n.node.runAction(cc.spawn(cc.moveTo(.25,cc.v2(0,-325)).easing(cc.easeSineIn()),cc.scaleTo(.5,0)))})},e.prototype.onClickBonusNap=function(){h.Windown.UIManager.showBonusNap()},r([_(cc.Node)],e.prototype,"parentFish",void 0),r([_(cc.Node)],e.prototype,"parentPlayer",void 0),r([_(cc.Node)],e.prototype,"parentGun",void 0),r([_(cc.Node)],e.prototype,"parentBullet",void 0),r([_(cc.Node)],e.prototype,"parentEffect",void 0),r([_(cc.Node)],e.prototype,"nodeIceEffect",void 0),r([_(cc.Node)],e.prototype,"nodeComingCaTran",void 0),r([_(cc.Node)],e.prototype,"nodeComingJackpot",void 0),r([_(cc.Node)],e.prototype,"nodeWave",void 0),r([_(p)],e.prototype,"bkgSprite",void 0),r([_([cc.SpriteFrame])],e.prototype,"listSpriteFrameBKG",void 0),r([_([D.default])],e.prototype,"listItem",void 0),r([_(f.default)],e.prototype,"camMay",void 0),r([_(cc.Toggle)],e.prototype,"toggleSungSet",void 0),r([_(cc.Node)],e.prototype,"nodeComingCaXau",void 0),r([_(cc.Node)],e.prototype,"nodeComingTruyGai",void 0),r([_(cc.Node)],e.prototype,"nodeComingRua",void 0),r([_(cc.Node)],e.prototype,"nodeComingHaiThan",void 0),r([_(cc.Node)],e.prototype,"nodeTakeNhomCa",void 0),r([_(cc.Node)],e.prototype,"camera",void 0),r([_(cc.Node)],e.prototype,"arrowMe",void 0),r([_(w.default)],e.prototype,"timeOut",void 0),r([_(cc.Node)],e.prototype,"btnBoom",void 0),r([_(cc.Button)],e.prototype,"btnDoiBan",void 0),r([_(cc.Node)],e.prototype,"nodeMenu",void 0),r([F],e)}(cc.Component);n.default=b,cc._RF.pop()},{"../../../../Scritps/Game/GAME_TYPE":void 0,"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Obs/LbMoneyChange":void 0,"../../../../Scritps/Windown":void 0,"../../Spine/mesh-texture-flagBD":"mesh-texture-flagBD","../CamMayBongDem":"CamMayBongDem","../Gun/GUN_TYPE_BD":"GUN_TYPE_BD","../HelpBongDem":"HelpBongDem","../LichSuJackpot":"LichSuJackpot","../Network/CODE_EVT":"CODE_EVT","../Player/Effect/TypePlayerEffectBD":"TypePlayerEffectBD","../TimeOut":"TimeOut","./ItemBongDem":"ItemBongDem"}],FishBdMutilView:[function(t,e,n){"use strict";cc._RF.push(e,"c49baJLt/xKSJSR3h14xw4e","FishBdMutilView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./FishBDCaTranView"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),cc.find("vongtron",this.node).runAction(cc.repeatForever(cc.rotateBy(2,360)))},e.prototype.playAniRemove=function(){this.node.stopAllActions();var t=cc.delayTime(1),e=cc.spawn(cc.fadeOut(1),cc.rotateBy(1,360),cc.scaleTo(1,0)),n=cc.callFunc(this.fishBDNormal.destroy,this.fishBDNormal);this.node.runAction(cc.sequence(t,e,n))},r([c],e)}(s.default));n.default=l,cc._RF.pop()},{"./FishBDCaTranView":"FishBDCaTranView"}],FishBongDem:[function(t,e,n){"use strict";cc._RF.push(e,"2734fDoTAlDRaCUKzSNtMOy","FishBongDem");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/DefineTs/EVENT_MANAGER"),s=t("../../../../Scritps/DefineTs/PlayerPP"),a=t("../../../../Scritps/DefineTs/REQUEST_CODE"),c=t("../../../../Scritps/DefineTs/TextDefine"),l=t("../../../../Scritps/Game/GAME_TYPE"),u=t("../../../../Scritps/InfoERR"),h=t("../../../../Scritps/Network/ConectManager"),p=t("../../../../Scritps/Windown"),f=t("../Fish/FishBDManager"),d=t("../Network/CODE_EVT"),y=t("../Network/HandleAddItemDrag"),g=t("../Network/HandleChangeBD"),m=t("../Network/HandleChangeMoneyGunFishBD"),v=t("../Network/HandleCreatFishBD"),w=t("../Network/HandleCreatTrieuHoi"),D=t("../Network/HandleFishColisionBD"),B=t("../Network/HandleGunAtackBD"),F=t("../Network/HandleIceAllFishBD"),_=t("../Network/HandleInfoFishRoomBD"),b=t("../Network/HandleNotFindFishBD"),S=t("../Network/HandleOtherJoinRoom"),T=t("../Network/HandlePlayerUsingItemFishBD"),P=t("../Network/HandleRemoveAllListFishBD"),C=t("../Network/HandleRemoveListFishBD"),I=t("../Network/HandleRotateGunBD"),O=t("../Network/HandleSetTimeFishEffectBD"),A=t("../Network/HandleTimeOutPlayBD"),M=t("../Network/HandleUsingItemDrag"),R=t("../Player/PlayerBDManager"),E=function(){function t(){this.fishMng=null,this.playerMng=null,this.roomSfs=null,this.fishBDView=null,this.sfs=null,this.vecLat=null,this.playerIdMe=null,this.listGunMoney=[],this.listGunSpecialConfig=null,this.me=null,this.pool=null,this.listTimeOut=[],this.isCanSendRequest=!0,this.isInBackGround=!1,this.lbJp=null,this.mapConfigJp=null,this.isChangeTable=!1,this.lastIdRoomToJoint=-1,this.isWatingChangetable=!1,this.listBulletSend=[],this.listRoomJoined=[],cc.game.on(cc.game.EVENT_HIDE,this.eventHide,this),cc.systemEvent.on(cc.game.EVENT_SHOW,this.eventShow,this),cc.systemEvent.on(r.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),p.Windown.FishBongDem=this}return t.prototype.initGame=function(){return o(this,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:return[4,p.Windown.loadBundle(l.default.BongDem.toString())];case 1:return t=e.sent(),p.Windown.UIManager.showLoadingData(),t.preloadScene("FishBongDem",{},function(t,e){p.Windown.UIManager.setPerData(t/e)},function(e){e?p.Windown.Dialog.showLog(c.TextDefine.Error):p.Windown.User.isLogin&&t.loadScene("FishBongDem",function(t,e){if(t)return p.Windown.Dialog.showLog(c.TextDefine.Error),void p.Windown.UIManager.hideLoadingData();p.Windown.User.isLogin&&cc.director.runScene(e,null,function(){})})}),[2]}})})},t.prototype.eventHide=function(){this.isInBackGround=!0,this.clearAllTimeOut()},t.prototype.eventShow=function(t){cc.log("time hide la: "+t),this.isInBackGround=!1,this.sendRequest(d.default.InfoFishRoomBD,null)},t.prototype.setTimeout=function(t,e){this.fishBDView.scheduleOnce(t,e)},t.prototype.setInterval=function(t,e){this.fishBDView.schedule(t,e)},t.prototype.unschedule=function(t){this.fishBDView.unschedule(t)},t.prototype.getGunValueByType=function(t){return this.listGunMoney[t]},t.prototype.getGunSpecialConfigType=function(t){for(var e=0,n=this.listGunSpecialConfig.size();e<n;e++){var o=this.listGunSpecialConfig.getSFSObject(e);if(o.getInt("SpecialGunId")==t)return o}var i=h.ConectManager.getIns().getSFSObj();return i.putInt("SpecialGunId",t),i.putUtfString("SpecialGunName","other"),i.putInt("TimeToUse",3),i.putInt("TimeRemoveNotUse",10),i},t.prototype.setFishBDView=function(t){p.Windown.UIManager.hideLoadingData(),this.fishBDView=t,this.fishMng=new f.default(this),this.playerMng=new R.default(this),this.sfs=h.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_REMOVE,this.onRoomRemove,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),this.sendJoinRoom()},t.prototype.setPool=function(t){this.pool=t},t.prototype.sendLeaveRoom=function(){if(null!=this.roomSfs)try{if(!this.sfs.roomManager.containsRoom(this.roomSfs.id)||!this.roomSfs.isJoined)throw new u.InfoErr("");p.Windown.UIManager.showLoading(),this.sendRequest(d.default.RequestLeaveRoom,null),this.isCanSendRequest=!1}catch(t){cc.log("destory buoi loi leav room"),cc.error(t),this.destroy()}else this.destroy()},t.prototype.sendJoinRoom=function(t){p.Windown.UIManager.showLoading();var e=this.sfs.getJoinedRooms();if(e.length>0&&e.filter(function(t){t.groupId}).length>0){var n=Object.create(null);return n.room=e[0],this.onJoinRoom(n),this.sendRequest(d.default.InfoFishRoomBD,null),void cc.log("user join room co san")}for(var o=this.sfs.roomManager.getRoomListFromGroup("fish3"),i=[],r=[],s=0,a=4,c=0,l=o;c<l.length;c++){var u=l[c];t?!this.listRoomJoined.includes(u)&&!u.isJoined&&u.userCount<u.maxUsers&&(i.push(u),u.userCount>s&&(s=u.userCount),u.userCount<a&&u.userCount<3&&(a=u.userCount)):!u.isJoined&&u.userCount<u.maxUsers&&(i.push(u),u.userCount>s&&(s=u.userCount),u.userCount<a&&u.userCount<3&&(a=u.userCount))}if(i.forEach(function(t){p.Windown.BotController?t.userCount==a&&r.push(t):t.userCount==s&&r.push(t)}),r.length>0){var f=r[p.Windown.RandomNumber(0,r.length)];this.sfs.send(new SFS2X.JoinRoomRequest(f,null,-1))}else{this.listRoomJoined.length=0;var y=h.ConectManager.getIns().getValibleRoomName(),g=new SFS2X.RoomSettings(y),m=new SFS2X.RoomExtension("FishBDExtension","ext.Room.FishBD.FishBDController"),v=new SFS2X.SFSRoomVariable("type",3);g.extension=m,g.isGame=!0,g.maxUsers=4,g.groupId="fish3",g.variables=[v],this.sfs.send(new SFS2X.CreateRoomRequest(g,!0))}},t.prototype.onDisconnect=function(){this.destroy()},t.prototype.changeTable=function(){var t=this;null==this.roomSfs||this.isWatingChangetable||(this.isWatingChangetable=!0,this.clearAllTimeOut(),this.isChangeTable=!0,p.Windown.UIManager.showLoading(),p.Windown.FishBongDem.fishBDView.scheduleOnce(function(){t.sendLeaveRoom()},.5))},t.prototype.clear=function(){this.listBulletSend.length=0,this.isCanSendRequest=!1,this.roomSfs=null,this.sfs&&(this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_REMOVE,this.onRoomRemove),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse)),this.clearAllTimeOut(),cc.systemEvent.removeAll(this),p.Windown.UIManager.hideLoadingData(),p.Windown.UIManager.hideLoading(),cc.game.removeAll(this),this.getSound()&&this.getSound().reset()},t.prototype.sendBullet=function(t){var e=Object.create(null);e.idBullet=t.get("BulletId"),e.time=Date.now();var n=this.listBulletSend[0];n&&e.time-n.time>1200?cc.log("mang lag ko cho gui bullet"):(this.listBulletSend.push(e),p.Windown.FishBongDem.sendRequest(d.default.GunAtackBD,t))},t.prototype.removeBulletSend=function(t){var e=this.listBulletSend.findIndex(function(e){return e.idBullet==t});e>-1&&this.listBulletSend.splice(e,1)},t.prototype.destroy=function(){this.clear(),cc.director.loadScene("main")},t.prototype.userExitRoom=function(t){var e=t.room;if(e.containsVariable("type")&&3==e.getVariable("type").value&&this.roomSfs==e){var n=t.user,o=n.getPlayerId(e);if(n.isItMe&&!this.isChangeTable)return void this.destroy();if(n.isItMe&&this.isChangeTable)return this.roomSfs=null,this.isCanSendRequest=!0,void this.sendJoinRoom(!0);this.playerMng.removePlayer(o)}},t.prototype.onRoomRemove=function(t){var e=t.room;this.roomSfs&&this.roomSfs==e&&(this.destroy(),p.Windown.Dialog.showLog(c.TextDefine.ERR_JOIN_ROOM))},t.prototype.onCreateError=function(){p.Windown.UIManager.hideLoading(),this.sendJoinRoom()},t.prototype.onJoinRoom=function(t){var e=this;p.Windown.UIManager.hideLoadingData(),p.Windown.UIManager.hideLoading();var n=t.room;if("fish3"==n.groupId&&n.containsVariable("type")&&3==n.getVariable("type").value){if(this.isChangeTable=!1,this.lastIdRoomToJoint=n.id,this.roomSfs=n,this.listRoomJoined.push(n),n.containsVariable("cf")&&n.getVariable("cf").value){var o=n.getVariable("cf").value;this.mapConfigJp=JSON.parse(o)}else this.mapConfigJp=JSON.parse('{"10":0.02,"50":0.03,"100":0.06,"200":0.1,"300":0.15,"500":0.2,"1000":0.3,"2000":0.4,"3000":0.5,"5000":0.6,"10000":1}');this.fishBDView.scheduleOnce(function(){e.isWatingChangetable=!1},1),cc.log("user join room")}},t.prototype.onJoinRoomErr=function(){p.Windown.UIManager.hideLoading(),p.Windown.Dialog.showLog(c.TextDefine.ERR_JOIN_ROOM),this.sendJoinRoom()},t.prototype.extResponse=function(t){if(!this.isInBackGround){var e=null,n=t.cmd,o=t.params;switch(n){case d.default.OtherJoinBDRoom:e=new S.default;break;case d.default.CreatFishBD:e=new v.default;break;case d.default.ChangeMoneyGun:e=new m.default;break;case d.default.RemoveListFishBD:e=new C.default;break;case d.default.RemoveAllFish:e=new P.default;break;case d.default.GunAtackBD:e=new B.default;break;case d.default.FishColisionBD:e=new D.default;break;case d.default.IceAllFishBD:e=new F.default;break;case d.default.PlayerUsingItemFishBD:e=new T.default;break;case d.default.NotFindFishBD:e=new b.default;break;case d.default.InfoFishRoomBD:e=new _.default;break;case d.default.SetTimeFishEffectBD:e=new O.default;break;case d.default.TimeOutPlayBD:e=new A.default;break;case d.default.AddItemDrag:e=new y.default;break;case d.default.UsingItemDrag:e=new M.default;break;case d.default.ChangeGunFishBD:e=new g.default;break;case d.default.RotateGun:e=new I.default;break;case d.default.TrieuHoi:e=new w.default;break;case d.default.GetLogJackpot:this.reviceLogJackpot(o);break;case a.REQUEST_CODE.Upacingame:this.updateBlace(o);break;case a.REQUEST_CODE.ChangeAvaInRoom:this.changeAvatarInRoom(o)}e&&(e.setBD(this),e.handleResponse(o))}},t.prototype.reviceLogJackpot=function(t){this.fishBDView&&this.fishBDView.lichSuJackpot&&this.fishBDView.lichSuJackpot.response(t)},t.prototype.updateBlace=function(t){var e=t.get(s.PlayerPP.AccountId),n=t.get("MoneyAdd");if(this.playerMng){var o=this.playerMng.getPlayerById(e);o&&(o.isMe&&cc.log("nhay me vao add gold updateBlace"),o.addGold(n))}},t.prototype.emitNewIndexJp=function(){if(this.lbJp&&this.me){var t=this.me.gunFishBd.stateGun.indexMoneyGun;cc.log(this.mapConfigJp);var e=this.mapConfigJp[p.Windown.FishBongDem.getGunValueByType(t).toString()];cc.log(e),this.lbJp.changePer(e)}},t.prototype.changeAvatarInRoom=function(t){var e=t.get(s.PlayerPP.AccountId),n=this.playerMng.getPlayerById(e),o=t.get("type"),i=t.get("id"),r=t.get("base64"),a=h.ConectManager.getIns().getSFSObj();a.putInt("idava",i),a.putInt("typeava",o),r&&a.putText("base64Ava",r),n&&n.setAva(a)},t.prototype.convertVec=function(t){return t.x*=this.vecLat.x,t.y*=this.vecLat.y,t},t.prototype.conVertAngle=function(t){return this.playerIdMe>2&&(t*=-1),t},t.prototype.setVeclat=function(){this.vecLat=cc.v2(1,1),this.playerIdMe>2&&(this.vecLat=cc.v2(1,-1))},t.prototype.sendRequest=function(t,e,n){this.roomSfs&&this.roomSfs.isJoined&&this.isCanSendRequest&&h.ConectManager.getIns().sendRequest(t,e,n||this.roomSfs)},t.prototype.makeDelay=function(t){return this.fishBDView.makeDelay(t)},t.prototype.getSound=function(){return p.Windown.AudioManager},t.prototype.addHandleReset=function(t,e,n){n?cc.systemEvent.once("fishReset",t,e):cc.systemEvent.on("fishReset",t,e)},t.prototype.removeHandle=function(t,e,n){n?cc.systemEvent.targetOff(e):cc.systemEvent.off("fishReset",t,e)},t.prototype.clearAllTimeOut=function(){this.playerIdMe=null,this.fishMng&&this.fishMng.destroy(),this.playerMng&&this.playerMng.destroy()},t}();n.default=E,cc._RF.pop()},{"../../../../Scritps/DefineTs/EVENT_MANAGER":void 0,"../../../../Scritps/DefineTs/PlayerPP":void 0,"../../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../../Scritps/DefineTs/TextDefine":void 0,"../../../../Scritps/Game/GAME_TYPE":void 0,"../../../../Scritps/InfoERR":void 0,"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Windown":void 0,"../Fish/FishBDManager":"FishBDManager","../Network/CODE_EVT":"CODE_EVT","../Network/HandleAddItemDrag":"HandleAddItemDrag","../Network/HandleChangeBD":"HandleChangeBD","../Network/HandleChangeMoneyGunFishBD":"HandleChangeMoneyGunFishBD","../Network/HandleCreatFishBD":"HandleCreatFishBD","../Network/HandleCreatTrieuHoi":"HandleCreatTrieuHoi","../Network/HandleFishColisionBD":"HandleFishColisionBD","../Network/HandleGunAtackBD":"HandleGunAtackBD","../Network/HandleIceAllFishBD":"HandleIceAllFishBD","../Network/HandleInfoFishRoomBD":"HandleInfoFishRoomBD","../Network/HandleNotFindFishBD":"HandleNotFindFishBD","../Network/HandleOtherJoinRoom":"HandleOtherJoinRoom","../Network/HandlePlayerUsingItemFishBD":"HandlePlayerUsingItemFishBD","../Network/HandleRemoveAllListFishBD":"HandleRemoveAllListFishBD","../Network/HandleRemoveListFishBD":"HandleRemoveListFishBD","../Network/HandleRotateGunBD":"HandleRotateGunBD","../Network/HandleSetTimeFishEffectBD":"HandleSetTimeFishEffectBD","../Network/HandleTimeOutPlayBD":"HandleTimeOutPlayBD","../Network/HandleUsingItemDrag":"HandleUsingItemDrag","../Player/PlayerBDManager":"PlayerBDManager"}],FishDeadBoom:[function(t,e,n){"use strict";cc._RF.push(e,"4210bdgUEhLHLOzprJTorCl","FishDeadBoom");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../Scritps/Windown"),c=t("../../DeadBevhavior/PanelPoint"),l=t("../FISH_TYPE"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(e){return r(this,void 0,void 0,function(){var n;return s(this,function(o){switch(o.label){case 0:return t.prototype.execute.call(this,e),[4,this.makeDelay(.5)];case 1:return o.sent(),null==(n=a.Windown.FishBongDem.playerMng.getPlayerById(this.player.acountId))?[2]:(a.Windown.FishBongDem.pool.getPanelBoom().getComponent(c.default).init(n,this.fishBd.fishId,l.default.BOOM),[2])}})})},e}(t("./FishDeadNoEffect").default);n.default=u,cc._RF.pop()},{"../../../../../Scritps/Windown":void 0,"../../DeadBevhavior/PanelPoint":"PanelPoint","../FISH_TYPE":"FISH_TYPE","./FishDeadNoEffect":"FishDeadNoEffect"}],FishDeadCaXau:[function(t,e,n){"use strict";cc._RF.push(e,"f14e8M27otLzIxSVvSQPXx1","FishDeadCaXau");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../Scritps/Windown"),c=t("../../DeadBevhavior/PanelPoint"),l=t("../FISH_TYPE"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spCout=null,e.panelPoint=null,e.iconCircle=null,e.caXau=null,e.lbMoneyTake=null,e.pointTarget=null,e.currentCount=0,e.poolTextMoney=new cc.NodePool,e}return i(e,t),e.prototype.execute=function(e){return r(this,void 0,void 0,function(){var n,o,i,r,u,h,p,f,d,y,g=this;return s(this,function(s){switch(s.label){case 0:return t.prototype.execute.call(this,e),[4,this.makeDelay(.5)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,9,,10]),null==(n=a.Windown.FishBongDem.playerMng.getPlayerById(this.player.acountId))?[2]:(o=a.Windown.FishBongDem.pool.getPanelCaXau(),n.mapNodePanel.set(this.fishBd.fishId,o),this.panelPoint=o.getComponent(c.default),this.panelPoint.reset(),this.panelPoint.init(this.player,this.fishBd.fishId,l.default.CA_XAU),o.parent=n.parentPanel,o.scale=0,o.opacity=255,o.stopAllActions(),o.runAction(cc.scaleTo(.3,1).easing(cc.easeBackOut())),[4,this.makeDelay(1.5)]);case 3:s.sent(),(i=a.Windown.FishBongDem.pool.getEfCaXauDead()).parent=a.Windown.FishBongDem.fishBDView.parentEffect,i.zIndex=cc.macro.MAX_ZINDEX,this.spCout=i.children[1].getComponent(sp.Skeleton),this.caXau=i.children[0].getComponent(sp.Skeleton),this.iconCircle=i.children[1].children[0],this.lbMoneyTake=i.children[2],this.pointTarget=this.player.getPosCoint(),(r=this.getListArrRandom(this.moneyRevice,this.moneyGun)).forEach(function(t){t.forEach(function(t){g.player.pushDelay(t)})}),this.currentCount=0,this.iconCircle.active=!0,this.iconCircle.stopAllActions(),this.iconCircle.scale=.5,this.spCout.node.active=!1,this.updateCount(),u=!0,h=0,p=r,s.label=4;case 4:return h<p.length?(f=p[h],[4,this.runAniCaXau(u,f)]):[3,7];case 5:s.sent(),u=!u,s.label=6;case 6:return h++,[3,4];case 7:return[4,this.makeDelay(.15*r[r.length-1].length)];case 8:return s.sent(),this.soundBongDem.stopEffect(this.soundBongDem.demTien),this.iconCircle.active=!1,this.caXau.node.active=!1,(d=a.Windown.FishBongDem.getSound()).playEffect(d.caLonChet),a.Windown.FishBongDem.pool.putEfCaXauDead(i),this.onDestroy(),this.panelPoint.node&&this.panelPoint.end(),[3,10];case 9:return y=s.sent(),console.error(y),[3,10];case 10:return[2]}})})},e.prototype.runAniCaXau=function(t,e){var n=this;return new Promise(function(o){return r(n,void 0,void 0,function(){var n=this;return s(this,function(i){switch(i.label){case 0:return this.spCout.node.active=!0,this.resetStateSpCount(),this.caXau.node.active=!0,this.caXau.node.opacity=0,this.caXau.node.runAction(cc.fadeIn(.2)),t?(this.caXau.node.angle=90,this.caXau.node.setPosition(-1200,0),this.caXau.node.runAction(cc.sequence(cc.moveTo(.2,-400,0),cc.callFunc(function(){n.playAniCap()}))),this.spCout.node.runAction(cc.scaleTo(.5,1.5)),[4,this.makeDelay(1.5)]):[3,3];case 1:return i.sent(),this.updateCount(),a.Windown.FishBongDem.fishBDView.shakeScence(.25),a.Windown.FishBongDem.getSound().playEffect(a.Windown.FishBongDem.getSound().fishBoom),this.spCout.node.runAction(cc.scaleTo(.5,1)),this.spCout.setAnimation(0,"animation",!1),this.iconCircle.runAction(cc.sequence(cc.scaleTo(.2,.8),cc.scaleTo(.2,.5))),this.creatMoneyRandom(e),[4,this.makeDelay(.5)];case 2:return i.sent(),this.caXau.node.runAction(cc.fadeOut(.3)),[3,6];case 3:return this.caXau.node.angle=-90,this.caXau.node.setPosition(1200,0),this.caXau.node.runAction(cc.sequence(cc.moveTo(.2,400,0),cc.callFunc(function(){n.playAniCap()}))),this.spCout.node.runAction(cc.scaleTo(.5,1.5)),[4,this.makeDelay(1.5)];case 4:return i.sent(),this.updateCount(),a.Windown.FishBongDem.fishBDView.shakeScence(.25),a.Windown.FishBongDem.getSound().playEffect(a.Windown.FishBongDem.getSound().fishBoom),this.spCout.node.runAction(cc.scaleTo(.5,1)),this.spCout.setAnimation(0,"animation",!1),this.iconCircle.runAction(cc.sequence(cc.scaleTo(.2,.8),cc.scaleTo(.2,.5))),this.creatMoneyRandom(e),[4,this.makeDelay(.5)];case 5:i.sent(),this.caXau.node.runAction(cc.fadeOut(.3)),i.label=6;case 6:return[4,this.makeDelay(1.2)];case 7:return i.sent(),this.caXau.node.active=!1,[4,this.makeDelay(1)];case 8:return i.sent(),o(null),[2]}})})})},e.prototype.playAniCap=function(){this.caXau.setAnimation(0,"cap_cap",!1),this.caXau.addAnimation(0,"animation",!1)},e.prototype.getListArrRandom=function(t,e){for(var n=[];;){for(var o=[],i=0,r=a.Windown.RandomNumber(20,40);i<r;i++){var s=e*a.Windown.RandomNumber(2,11);if(t-s<=0&&(s=t),t-=s,o.push(s),t<=0)return n.push(o),n}n.push(o)}},e.prototype.updateCount=function(){this.iconCircle.children[0].getComponent(cc.Label).string=this.currentCount.toString(),this.currentCount++},e.prototype.resetStateSpCount=function(){cc.sys.isNative?this.spCout._nativeSkeleton.update(5):this.spCout.update(5)},e.prototype.creatMoneyRandom=function(t){return r(this,void 0,void 0,function(){var e,n,o,i,r,c=this;return s(this,function(s){switch(s.label){case 0:return t.forEach(function(t){var e=c.getTextItemMoney();e.parent=a.Windown.FishBongDem.fishBDView.parentEffect,e.getComponent(cc.Label).string=t.toString();var n=cc.v2(a.Windown.RandomNumber(-500,500),a.Windown.RandomNumber(-300,300));e.setPosition(n),e.scale=.8,e.opacity=255,e.runAction(cc.sequence(cc.scaleTo(.2,1.3),cc.delayTime(.5),cc.scaleTo(.2,1),cc.moveTo(.5,cc.v2(n.x+a.Windown.RandomNumber(-10,11),n.y+a.Windown.RandomNumber(-10,11))),cc.moveTo(.5,cc.v2(n.x+a.Windown.RandomNumber(-10,11),n.y+a.Windown.RandomNumber(-10,11))),cc.moveTo(.5,cc.v2(n.x+a.Windown.RandomNumber(-10,11),n.y+a.Windown.RandomNumber(-10,11))),cc.fadeOut(.3),cc.callFunc(function(){c.putTextItemMoney(e)})))}),[4,this.makeDelay(2.7)];case 1:s.sent(),e=this.player.isMe?.8:.6,this.soundBongDem.playEffect(this.soundBongDem.demTien,e,!0),n=0,o=t,s.label=2;case 2:return n<o.length?(i=o[n],(r=a.Windown.FishBongDem.playerMng.getPlayerById(this.player.acountId))&&(r.addGold(i),this.panelPoint.addMoney(i)),[4,this.makeDelay(.15)]):[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2]}})})},e.prototype.getTextItemMoney=function(){var t=null;return this.poolTextMoney.size()<1?(t=cc.instantiate(this.lbMoneyTake)).active=!0:t=this.poolTextMoney.get(),t},e.prototype.putTextItemMoney=function(t){this.poolTextMoney.put(t)},e.prototype.onDestroy=function(){this.poolTextMoney.clear()},e}(t("./FishDeadNoEffect").default);n.default=u,cc._RF.pop()},{"../../../../../Scritps/Windown":void 0,"../../DeadBevhavior/PanelPoint":"PanelPoint","../FISH_TYPE":"FISH_TYPE","./FishDeadNoEffect":"FishDeadNoEffect"}],FishDeadChildHT:[function(t,e,n){"use strict";cc._RF.push(e,"4ed8agirnxPJ6mULR14gK/g","FishDeadChildHT");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../../Scritps/Windown"),l=t("../FishBDChildHaiThanView"),u=t("./BaseFishDead"),h=cc._decorator,p=h.ccclass,f=(h.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(t,e){var n=this;return new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s,u,h,p,f,d,y,g,m,v,w,D,B,F,_=this;return a(this,function(a){switch(a.label){case 0:return this.fishBd.getViewNode().getComponent(l.default).playAniTuSat(),this.fishBd.playAniRemove(),this.fishBd.removeFishFromList(),[4,this.makeDelay(.2)];case 1:for(a.sent(),this.soundBongDem.playEffectNoStop(this.soundBongDem.coinBayVe,.6),n=this.player,i=this.fishBd.getPoint(),r=this.getListCoinByType(this.fishBd.fishType),s=0,u=.1,h=n.isMe?.8:.6,p=function(t){t.setPosition(i.x+c.Windown.RandomNumber(-70,70),i.y+30+c.Windown.RandomNumber(-40,40)),t.getComponent(cc.Animation).play("Coin");var e=f.player.getPosCoint(),n=cc.delayTime(s),o=cc.moveBy(.22,0,120),r=cc.moveBy(.32,0,-120).easing(cc.easeBounceOut()),a=cc.delayTime(1),l=cc.spawn(cc.scaleTo(.5,.15),cc.moveTo(.5,e)),p=cc.callFunc(function(){c.Windown.FishBongDem.pool.putCoin(t),_.soundBongDem.playEffectNoStop(_.soundBongDem.coinVeTui,h)});t.stopAllActions(),t.runAction(cc.sequence(n,o,r,a,l,p)),s+=u,u-=.02},f=this,d=0,y=r;d<y.length;d++)g=y[d],p(g);return e&&((m=c.Windown.FishBongDem.pool.getTextMoney(n.isMe)).getComponent(cc.Label).string=this.moneyRevice.toString(),m.parent=c.Windown.FishBongDem.fishBDView.parentEffect,m.opacity=255,m.setPosition(i),m.scale=0,v=cc.scaleTo(.2,1.5),w=cc.scaleTo(.5,1).easing(cc.easeBounceOut()),D=cc.delayTime(1),B=cc.fadeOut(.3),F=cc.callFunc(function(){c.Windown.FishBongDem.pool.putTextMoney(m)}),m.runAction(cc.sequence(v,w,D,B,F))),[4,this.makeDelay(1.9+t)];case 2:return a.sent(),(n=c.Windown.FishBongDem.playerMng.getPlayerById(n.acountId))&&(n.addGold(this.moneyRevice),this.funCall&&this.funCall(this.moneyRevice)),o(null),[2]}})})})},r([p],e)}(u.default));n.default=f,cc._RF.pop()},{"../../../../../Scritps/Windown":void 0,"../FishBDChildHaiThanView":"FishBDChildHaiThanView","./BaseFishDead":"BaseFishDead"}],FishDeadGroup4:[function(t,e,n){"use strict";cc._RF.push(e,"1582d/exWNNiJ2gBXr0qwVI","FishDeadGroup4");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../Scritps/Windown"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fishGroupView=null,e.fishBdGroup=null,e}return i(e,t),e.prototype.execute=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,r,c,l,u,h,p,f=this;return s(this,function(s){switch(s.label){case 0:for(this.fishBdGroup=this.fishBd,this.fishGroupView=this.fishBdGroup.fishView,this.fishBd.playAniDead(),this.fishBd.playAniRemove(),this.fishBd.removeFishFromList(),this.soundBongDem.playEffectNoStop(this.soundBongDem.coinBayVe,.6),this.player.isMe&&a.Windown.FishBongDem.setTimeout(function(){a.Windown.FishBongDem.fishBDView.showTakeGroupFish(f.moneyRevice)},1),t=this.player,n=this.fishGroupView.getListPos(),o=t.isMe?.8:.6,i=function(e){for(var i=r.fishBdGroup.listFishType[e],s=a.Windown.FishBongDem.fishMng.getFishCfByType(i).get("mutil")*r.moneyGun,c=r.getListCoinByType(i),l=0,u=.1,h=n[e],p=function(t){t.setPosition(h.x+a.Windown.RandomNumber(-70,70),h.y+30+a.Windown.RandomNumber(-40,40)),t.getComponent(cc.Animation).play("Coin");var e=r.player.getPosCoint(),n=cc.delayTime(l),i=cc.moveBy(.22,0,120),s=cc.moveBy(.32,0,-120).easing(cc.easeBounceOut()),c=cc.delayTime(1),p=cc.spawn(cc.scaleTo(.5,.15),cc.moveTo(.5,e)),d=cc.callFunc(function(){a.Windown.FishBongDem.pool.putCoin(t),f.soundBongDem.playEffectNoStop(f.soundBongDem.coinVeTui,o)});t.stopAllActions(),t.runAction(cc.sequence(n,i,s,c,p,d)),l+=u,u-=.02},d=0,y=c;d<y.length;d++)p(y[d]);var g=a.Windown.FishBongDem.pool.getTextMoney(t.isMe);g.getComponent(cc.Label).string=s.toString(),g.parent=a.Windown.FishBongDem.fishBDView.parentEffect,g.opacity=255,g.setPosition(h),g.scale=0;var m=cc.scaleTo(.2,1.5),v=cc.scaleTo(.5,1).easing(cc.easeBounceOut()),w=cc.delayTime(1),D=cc.fadeOut(.3),B=cc.callFunc(function(){a.Windown.FishBongDem.pool.putTextMoney(g)});g.runAction(cc.sequence(m,v,w,D,B)),0!=e&&r.player.pushDelay(s)},r=this,c=0,l=n.length;c<l;c++)i(c);return[4,this.makeDelay(1.9)];case 1:s.sent(),c=0,l=n.length,s.label=2;case 2:return c<l?(u=this.fishBdGroup.listFishType[c],h=a.Windown.FishBongDem.fishMng.getFishCfByType(u).get("mutil"),p=h*this.moneyGun,(t=a.Windown.FishBongDem.playerMng.getPlayerById(t.acountId))&&t.addGold(p),[4,this.makeDelay(.15)]):[3,5];case 3:s.sent(),s.label=4;case 4:return c++,[3,2];case 5:return e(null),[2]}})})})},e}(t("./BaseFishDead").default);n.default=c,cc._RF.pop()},{"../../../../../Scritps/Windown":void 0,"./BaseFishDead":"BaseFishDead"}],FishDeadGroup:[function(t,e,n){"use strict";cc._RF.push(e,"49d42c9CXpNfpRHmEoLhXDX","FishDeadGroup");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../Scritps/Windown"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fishGroupView=null,e.fishBdGroup=null,e}return i(e,t),e.prototype.execute=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,r,c,l,u,h,p,f=this;return s(this,function(s){switch(s.label){case 0:for(this.fishBdGroup=this.fishBd,this.fishGroupView=this.fishBdGroup.fishView,this.fishBd.playAniDead(),this.fishBd.playAniRemove(),this.fishBd.removeFishFromList(),this.soundBongDem.playEffectNoStop(this.soundBongDem.coinBayVe,.6),this.player.isMe&&a.Windown.FishBongDem.setTimeout(function(){a.Windown.FishBongDem.fishBDView.showTakeGroupFish(f.moneyRevice)},1),t=this.player,n=this.fishGroupView.getListPos(),o=t.isMe?.8:.6,i=function(e){var i=r.fishBdGroup.fishTypeChild;0==e&&(i=r.fishBdGroup.fishTypeMain);for(var s=a.Windown.FishBongDem.fishMng.getFishCfByType(i).get("mutil")*r.moneyGun,c=r.getListCoinByType(i),l=0,u=.1,h=n[e],p=function(t){t.setPosition(h.x+a.Windown.RandomNumber(-70,70),h.y+30+a.Windown.RandomNumber(-40,40)),t.getComponent(cc.Animation).play("Coin");var e=r.player.getPosCoint(),n=cc.delayTime(l),i=cc.moveBy(.22,0,120),s=cc.moveBy(.32,0,-120).easing(cc.easeBounceOut()),c=cc.delayTime(1),p=cc.spawn(cc.scaleTo(.5,.15),cc.moveTo(.5,e)),d=cc.callFunc(function(){a.Windown.FishBongDem.pool.putCoin(t),f.soundBongDem.playEffectNoStop(f.soundBongDem.coinVeTui,o)});t.stopAllActions(),t.runAction(cc.sequence(n,i,s,c,p,d)),l+=u,u-=.02},d=0,y=c;d<y.length;d++)p(y[d]);var g=a.Windown.FishBongDem.pool.getTextMoney(t.isMe);g.getComponent(cc.Label).string=s.toString(),g.parent=a.Windown.FishBongDem.fishBDView.parentEffect,g.opacity=255,g.setPosition(h),g.scale=0;var m=cc.scaleTo(.2,1.5),v=cc.scaleTo(.5,1).easing(cc.easeBounceOut()),w=cc.delayTime(1),D=cc.fadeOut(.3),B=cc.callFunc(function(){a.Windown.FishBongDem.pool.putTextMoney(g)});g.runAction(cc.sequence(m,v,w,D,B)),0!=e&&r.player.pushDelay(s)},r=this,c=0,l=n.length;c<l;c++)i(c);return[4,this.makeDelay(1.9)];case 1:s.sent(),c=0,l=n.length,s.label=2;case 2:return c<l?(u=this.fishBdGroup.fishTypeChild,0==c&&(u=this.fishBdGroup.fishTypeMain),h=a.Windown.FishBongDem.fishMng.getFishCfByType(u).get("mutil"),p=h*this.moneyGun,(t=a.Windown.FishBongDem.playerMng.getPlayerById(t.acountId))&&t.addGold(p),[4,this.makeDelay(.15)]):[3,5];case 3:s.sent(),s.label=4;case 4:return c++,[3,2];case 5:return e(null),[2]}})})})},e}(t("./BaseFishDead").default);n.default=c,cc._RF.pop()},{"../../../../../Scritps/Windown":void 0,"./BaseFishDead":"BaseFishDead"}],FishDeadHaiThan:[function(t,e,n){"use strict";cc._RF.push(e,"78f30/Cn0tHl7UmwBJ/WeY2","FishDeadHaiThan");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../../Scritps/Windown"),l=t("./BaseFishDead"),u=cc._decorator,h=u.ccclass,p=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(t,e){var n=this;return new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s,l,u,h,p,f,d,y,g,m,v,w,D,B,F=this;return a(this,function(a){switch(a.label){case 0:return this.fishBd.playAniDead(),this.fishBd.playAniRemove(),this.fishBd.removeFishFromList(),[4,this.makeDelay(.2)];case 1:for(a.sent(),this.soundBongDem.playEffectNoStop(this.soundBongDem.coinBayVe,.6),n=this.player,i=this.fishBd.getPoint(),r=this.getListCoinByType(this.fishBd.fishType),s=0,l=.1,u=n.isMe?.8:.6,h=function(t){t.setPosition(i.x+c.Windown.RandomNumber(-70,70),i.y+30+c.Windown.RandomNumber(-40,40)),t.getComponent(cc.Animation).play("Coin");var e=p.player.getPosCoint(),n=cc.delayTime(s),o=cc.moveBy(.22,0,120),r=cc.moveBy(.32,0,-120).easing(cc.easeBounceOut()),a=cc.delayTime(1),h=cc.spawn(cc.scaleTo(.5,.15),cc.moveTo(.5,e)),f=cc.callFunc(function(){c.Windown.FishBongDem.pool.putCoin(t),F.soundBongDem.playEffectNoStop(F.soundBongDem.coinVeTui,u)});t.stopAllActions(),t.runAction(cc.sequence(n,o,r,a,h,f)),s+=l,l-=.02},p=this,f=0,d=r;f<d.length;f++)y=d[f],h(y);return e&&((g=c.Windown.FishBongDem.pool.getTextMoney(n.isMe)).getComponent(cc.Label).string=this.moneyRevice.toString(),g.parent=c.Windown.FishBongDem.fishBDView.parentEffect,g.opacity=255,g.setPosition(i),g.scale=0,m=cc.scaleTo(.2,1.5),v=cc.scaleTo(.5,1).easing(cc.easeBounceOut()),w=cc.delayTime(1),D=cc.fadeOut(.3),B=cc.callFunc(function(){c.Windown.FishBongDem.pool.putTextMoney(g)}),g.runAction(cc.sequence(m,v,w,D,B))),[4,this.makeDelay(1.9+t)];case 2:return a.sent(),(n=c.Windown.FishBongDem.playerMng.getPlayerById(n.acountId))&&(n.addGold(this.moneyRevice),this.funCall&&this.funCall(this.moneyRevice)),o(null),[2]}})})})},r([h],e)}(l.default));n.default=p,cc._RF.pop()},{"../../../../../Scritps/Windown":void 0,"./BaseFishDead":"BaseFishDead"}],FishDeadJackpot:[function(t,e,n){"use strict";cc._RF.push(e,"13376B9aDFIBItmP5fpXAz2","FishDeadJackpot");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../../Scritps/Game/GAME_TYPE"),l=t("../../../../../Scritps/Windown"),u=t("../../Other/TakeJp"),h=t("./FishDeadNoEffect"),p=cc._decorator,f=p.ccclass,d=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(e){return s(this,void 0,void 0,function(){var n,o,i,r;return a(this,function(s){switch(s.label){case 0:t.prototype.execute.call(this,e),s.label=1;case 1:return s.trys.push([1,3,,4]),null==(n=l.Windown.FishBongDem.playerMng.getPlayerById(this.player.acountId))?[2]:[4,l.Windown.loadRes(c.default.BongDem.toString(),"Prefabs/TakeJp",cc.Prefab)];case 2:return o=s.sent(),(i=cc.instantiate(o)).parent=l.Windown.FishBongDem.fishBDView.node,i.getComponent(u.default).show(this.moneyRevice,n.namePlayer),[3,4];case 3:return r=s.sent(),console.error(r),[3,4];case 4:return[2]}})})},r([f],e)}(h.default));n.default=d,cc._RF.pop()},{"../../../../../Scritps/Game/GAME_TYPE":void 0,"../../../../../Scritps/Windown":void 0,"../../Other/TakeJp":"TakeJp","./FishDeadNoEffect":"FishDeadNoEffect"}],FishDeadMutilReward:[function(t,e,n){"use strict";cc._RF.push(e,"5b025YJs99DU7Iip2zwGlU7","FishDeadMutilReward");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../Scritps/Windown"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeMutilReward=null,e}return i(e,t),e.prototype.execute=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,r,c,l,u,h,p,f,d,y,g,m,v,w,D,B,F,_,b,S,T,P=this;return s(this,function(s){switch(s.label){case 0:return t=this.player.isMe?.8:.4,this.fishBd.playAniDead(),this.fishBd.playAniRemove(),this.fishBd.removeFishFromList(),this.soundBongDem.playEffectNoStop(this.soundBongDem.coinBayVe,.6),n=this.player.gunFishBd.pointInScreen.clone(),this.player.playerSiting<3?n.y+=100:n.y-=100,this.nodeMutilReward=a.Windown.FishBongDem.pool.getMutilReward(),a.Windown.FishBongDem.addHandleReset(this.nodeMutilReward.destroy,this.nodeMutilReward,!0),this.nodeMutilReward.parent=a.Windown.FishBongDem.fishBDView.parentEffect,this.nodeMutilReward.setPosition(this.fishBd.getPoint()),this.nodeMutilReward.scale=0,this.nodeMutilReward.runAction(cc.sequence(cc.scaleTo(1,1).easing(cc.easeBackOut()),cc.moveTo(1,n))),(o=cc.find("kim",this.nodeMutilReward)).stopAllActions(),o.angle=0,[4,this.makeDelay(2)];case 1:return s.sent(),(i=a.Windown.FishBongDem.getSound()).playEffect(i.quayRdHeSo),r=this.fishBd.mutil,cc.log("result la: "+r),c=2880+90*(r-2),l=cc.rotateBy(4,-c).easing(cc.easeCircleActionInOut()),o.runAction(l),(u=this.nodeMutilReward.children[r]).stopAllActions(),u.opacity=255,u.runAction(cc.sequence(cc.delayTime(4),cc.blink(3,6))),[4,this.makeDelay(7)];case 2:for(s.sent(),a.Windown.FishBongDem.removeHandle(this.nodeMutilReward.destroy,this.nodeMutilReward,!0),a.Windown.FishBongDem.pool.putMutilReward(this.nodeMutilReward),h=this.getListCoinByType(this.fishBd.fishTypeMain),p=0,f=.1,d=n,y=function(e){e.setPosition(d.x+a.Windown.RandomNumber(-70,70),d.y+30+a.Windown.RandomNumber(-40,40)),e.getComponent(cc.Animation).play("Coin");var n=g.player.getPosCoint(),o=cc.delayTime(p),i=cc.moveBy(.22,0,120),r=cc.moveBy(.32,0,-120).easing(cc.easeBounceOut()),s=cc.delayTime(1),c=cc.spawn(cc.scaleTo(.5,.15),cc.moveTo(.5,n)),l=cc.callFunc(function(){a.Windown.FishBongDem.pool.putCoin(e),P.soundBongDem.playEffectNoStop(P.soundBongDem.coinVeTui,t)});e.stopAllActions(),e.runAction(cc.sequence(o,i,r,s,c,l)),p+=f,f-=.02},g=this,m=0,v=h;m<v.length;m++)w=v[m],y(w);return(D=a.Windown.FishBongDem.pool.getTextMoney(this.player.isMe)).getComponent(cc.Label).string=this.moneyRevice.toString(),D.parent=a.Windown.FishBongDem.fishBDView.parentEffect,D.opacity=255,D.setPosition(d),D.scale=0,B=cc.scaleTo(.2,1.5),F=cc.scaleTo(.5,1).easing(cc.easeBounceOut()),_=cc.delayTime(1),b=cc.fadeOut(.3),S=cc.callFunc(function(){a.Windown.FishBongDem.pool.putTextMoney(D)}),D.runAction(cc.sequence(B,F,_,b,S)),[4,this.makeDelay(1.9)];case 3:return s.sent(),(T=a.Windown.FishBongDem.playerMng.getPlayerById(this.player.acountId))&&T.addGold(this.moneyRevice),e(null),[2]}})})})},e}(t("./BaseFishDead").default);n.default=c,cc._RF.pop()},{"../../../../../Scritps/Windown":void 0,"./BaseFishDead":"BaseFishDead"}],FishDeadNoEffect:[function(t,e,n){"use strict";cc._RF.push(e,"481cdWredpAwIDZK8XvalTY","FishDeadNoEffect");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(){return r(this,void 0,void 0,function(){return s(this,function(){return this.fishBd.playAniDead(),this.fishBd.playAniRemove(),this.fishBd.removeFishFromList(),this.player.addGold(0),[2]})})},e}(t("./BaseFishDead").default);n.default=a,cc._RF.pop()},{"./BaseFishDead":"BaseFishDead"}],FishDeadNormalRd:[function(t,e,n){"use strict";cc._RF.push(e,"1e6b8TvOpVOBbNmw7p9vZ1s","FishDeadNormalRd");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../Scritps/Obs/LbMoneyChange"),c=t("../../../../../Scritps/Windown"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(){return r(this,void 0,void 0,function(){var e,n,o,i,r,l,u,h,p,f,d,y,g;return s(this,function(s){switch(s.label){case 0:return e=this.player,this.fishBd.playAniDead(),this.fishBd.removeFishFromList(),this.fishBd.deadGoToPlayer(this.player),n=this.fishBd.getPoint(),(o=c.Windown.FishBongDem.pool.getBigFish()).parent=c.Windown.FishBongDem.fishBDView.parentEffect,o.setPosition(n),o.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),c.Windown.FishBongDem.fishBDView.shakeScence(.1),this.soundBongDem.playEffectNoStop(this.soundBongDem.fishBoom,.7),[4,c.Windown.FishBongDem.makeDelay(1)];case 1:s.sent(),i=this.fishBd.getPoint(),c.Windown.FishBongDem.pool.putBigFish(o),r=c.Windown.FishBongDem.pool.getTextMoneyRd(e.isMe),l=e.isMe?.4:.25,u=this.convertListRd(this.fishBd.fishType,this.moneyGun,this.moneyRevice),h=r.getComponent(a.default),r.parent=c.Windown.FishBongDem.fishBDView.parentEffect,r.setPosition(i.x,i.y-50),r.opacity=255,h.resetLb(),h.time=1.2,p=0,f=u,s.label=2;case 2:return p<f.length?(d=f[p],h.setMoney(d,!1,"",!1),this.soundBongDem.playEffectNoStop(this.soundBongDem.demTien,l),[4,this.makeDelay(1.2)]):[3,6];case 3:return s.sent(),this.soundBongDem.playEffectNoStop(this.soundBongDem.endDemTienTurn,l),y=cc.scaleTo(.1,2),g=cc.scaleTo(.2,1),r.runAction(cc.sequence(y,g)),[4,this.makeDelay(.5)];case 4:s.sent(),s.label=5;case 5:return p++,[3,2];case 6:return[4,this.makeDelay(.5)];case 7:return s.sent(),r.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){c.Windown.FishBongDem.pool.putTextMoneyRd(r)}))),this.soundBongDem.playEffectNoStop(this.soundBongDem.endDemTien),this.fishBd.playAniRemove(),null==(e=c.Windown.FishBongDem.playerMng.getPlayerById(e.acountId))?[2,new Promise(function(t){t(null)})]:[2,t.prototype.execute.call(this,.2)]}})})},e.prototype.convertListRd=function(t,e,n){var o=[],i=0,r=0;switch(t){case 15:case 16:i=5,r=7;break;case 17:case 18:case 19:i=10,r=10;break;case 20:case 21:i=20,r=15;break;case 22:i=20,r=20;break;case 23:i=30,r=20;break;case 24:i=30,r=25;break;case 25:i=30,r=30;break;case 26:i=30,r=35;break;case 27:i=80,r=35;break;case 28:i=100,r=50;break;default:i=10,r=25}for(var s=e*i;;){if(s>=n){s=n,o.push(s);break}o.push(s),s+=r*e}return o},e}(t("./FishDeadNormal").default);n.default=l,cc._RF.pop()},{"../../../../../Scritps/Obs/LbMoneyChange":void 0,"../../../../../Scritps/Windown":void 0,"./FishDeadNormal":"FishDeadNormal"}],FishDeadNormal:[function(t,e,n){"use strict";cc._RF.push(e,"9a85b06pg5MooOGygTmABS0","FishDeadNormal");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../Scritps/DefineTs/REQUEST_CODE"),c=t("../../../../../Scritps/Game/GAME_TYPE"),l=t("../../../../../Scritps/Network/ConectManager"),u=t("../../../../../Scritps/Windown"),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(t,e){var n=this;return new Promise(function(o){return r(n,void 0,void 0,function(){var n,i,r,h,p,f,d,y,g,m,v,w,D,B,F,_,b,S,T=this;return s(this,function(s){switch(s.label){case 0:for(this.fishBd.playAniDead(),this.fishBd.playAniRemove(),this.fishBd.removeFishFromList(),this.soundBongDem.playEffectNoStop(this.soundBongDem.coinBayVe,.6),n=this.player,i=this.fishBd.getPoint(),r=this.getListCoinByType(this.fishBd.fishType),h=0,p=.1,f=n.isMe?.8:.6,d=function(t){t.setPosition(i.x+u.Windown.RandomNumber(-70,70),i.y+30+u.Windown.RandomNumber(-40,40)),t.getComponent(cc.Animation).play("Coin");var e=y.player.getPosCoint(),n=cc.delayTime(h),o=cc.moveBy(.22,0,120),r=cc.moveBy(.32,0,-120).easing(cc.easeBounceOut()),s=cc.delayTime(1),a=cc.spawn(cc.scaleTo(.5,.15),cc.moveTo(.5,e)),c=cc.callFunc(function(){u.Windown.FishBongDem.pool.putCoin(t),T.soundBongDem.playEffectNoStop(T.soundBongDem.coinVeTui,f)});t.stopAllActions(),t.runAction(cc.sequence(n,o,r,s,a,c)),h+=p,p-=.02},y=this,g=0,m=r;g<m.length;g++)v=m[g],d(v);return e&&((w=u.Windown.FishBongDem.pool.getTextMoney(n.isMe)).getComponent(cc.Label).string=this.moneyRevice.toString(),w.parent=u.Windown.FishBongDem.fishBDView.parentEffect,w.opacity=255,w.setPosition(i),w.scale=0,D=cc.scaleTo(.2,1.5),B=cc.scaleTo(.5,1).easing(cc.easeBounceOut()),F=cc.delayTime(1),_=cc.fadeOut(.3),b=cc.callFunc(function(){u.Windown.FishBongDem.pool.putTextMoney(w)}),w.runAction(cc.sequence(D,B,F,_,b))),[4,this.makeDelay(1.9+t)];case 1:return s.sent(),(n=u.Windown.FishBongDem.playerMng.getPlayerById(n.acountId))&&(n.addGold(this.moneyRevice),this.funCall&&this.funCall(this.moneyRevice),n.isMe&&(28==this.fishBd.fishType||27==this.fishBd.fishType||this.fishBd.fishType>=70&&this.fishBd.fishType<=74)&&((S=l.ConectManager.getIns().getSFSObj()).putInt("gt",c.default.BongDem),S.putInt("mt",this.moneyRevice),S.putUtfString("nn",this.player.namePlayer),S.putUtfString("dt",this.fishBd.fishType.toString()),l.ConectManager.getIns().sendRequest(a.REQUEST_CODE.AddBigWin,S))),o(null),[2]}})})})},e}(t("./BaseFishDead").default);n.default=h,cc._RF.pop()},{"../../../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../../../Scritps/Game/GAME_TYPE":void 0,"../../../../../Scritps/Network/ConectManager":void 0,"../../../../../Scritps/Windown":void 0,"./BaseFishDead":"BaseFishDead"}],FishDeadRua:[function(t,e,n){"use strict";cc._RF.push(e,"9a4aaTFPjFIN71raOM9tx8z","FishDeadRua");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../Scritps/Windown"),c=t("../../DeadBevhavior/PanelPoint"),l=t("../FISH_TYPE"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spRua=null,e.lbMoneyTake=null,e.panelPoint=null,e.pointTarget=null,e.currentCount=0,e.poolTextMoney=new cc.NodePool,e}return i(e,t),e.prototype.execute=function(e){return r(this,void 0,void 0,function(){var n,o,i,r,u,h,p,f,d,y=this;return s(this,function(s){switch(s.label){case 0:return t.prototype.execute.call(this,e),[4,this.makeDelay(.5)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,10,,11]),null==(n=a.Windown.FishBongDem.playerMng.getPlayerById(this.player.acountId))?[2]:(o=a.Windown.FishBongDem.pool.getPanelRua(),n.mapNodePanel.set(this.fishBd.fishId,o),this.panelPoint=o.getComponent(c.default),this.panelPoint.init(this.player,this.fishBd.fishId,l.default.RUA),this.panelPoint.reset(),o.parent=n.parentPanel,o.scale=0,o.opacity=255,o.stopAllActions(),o.runAction(cc.scaleTo(.3,1).easing(cc.easeBackOut())),this.pointTarget=this.player.getPosCoint(),[4,this.makeDelay(1.5)]);case 3:s.sent(),(i=a.Windown.FishBongDem.pool.getEfRuaDead()).parent=a.Windown.FishBongDem.fishBDView.parentEffect,i.zIndex=cc.macro.MAX_ZINDEX,this.spRua=i.children[0].getComponent(sp.Skeleton),this.setScaleNodeEffect(),this.lbMoneyTake=i.children[1],(r=this.getListArrRandom(this.moneyRevice,this.moneyGun)).forEach(function(t){t.forEach(function(t){y.player.pushDelay(t)})}),this.currentCount=0,u=0,h=r,s.label=4;case 4:return u<h.length?(p=h[u],[4,this.runAniRua(p)]):[3,7];case 5:s.sent(),s.label=6;case 6:return u++,[3,4];case 7:return[4,this.makeDelay(1)];case 8:return s.sent(),[4,this.makeDelay(.15*r[r.length-1].length)];case 9:return s.sent(),(f=a.Windown.FishBongDem.getSound()).playEffect(f.caLonChet),a.Windown.FishBongDem.pool.putEfRuaDead(i),this.panelPoint.node&&this.panelPoint.end(),[3,11];case 10:return d=s.sent(),console.error(d),[3,11];case 11:return[2]}})})},e.prototype.runAniRua=function(t){var e=this;return new Promise(function(n){return r(e,void 0,void 0,function(){var e,o=this;return s(this,function(i){switch(i.label){case 0:return this.spRua.node.active=!0,this.spRua.node.opacity=255,this.spRua.setAnimation(0,"animation3",!1),this.spRua.setEndListener(function(){o.spRua.setEndListener(null),o.spRua.node.runAction(cc.fadeOut(.4))}),e=a.Windown.FishBongDem.getSound(),[4,this.makeDelay(.5)];case 1:return i.sent(),e.playEffect(e.ruaXiLua),[4,this.makeDelay(.5)];case 2:return i.sent(),e.playEffect(e.ruaXiLua),[4,this.makeDelay(.8)];case 3:return i.sent(),a.Windown.FishBongDem.fishBDView.shakeScence(.25),e.playEffect(e.fishBoom),this.creatMoneyRandom(t),[4,this.makeDelay(3.5)];case 4:return i.sent(),n(null),[2]}})})})},e.prototype.getListArrRandom=function(t,e){for(var n=[];;){for(var o=[],i=0,r=a.Windown.RandomNumber(20,40);i<r;i++){var s=e*a.Windown.RandomNumber(2,11);if(t-s<=0&&(s=t),t-=s,o.push(s),t<=0)return n.push(o),n}n.push(o)}},e.prototype.creatMoneyRandom=function(t){return r(this,void 0,void 0,function(){var e,n,o,i,r,c=this;return s(this,function(s){switch(s.label){case 0:return t.forEach(function(t){var e=c.getTextItemMoney();e.parent=a.Windown.FishBongDem.fishBDView.parentEffect,e.getComponent(cc.Label).string=t.toString();var n=cc.v2(a.Windown.RandomNumber(-500,500),a.Windown.RandomNumber(-300,300));e.setPosition(n),e.scale=.8,e.opacity=255,e.runAction(cc.sequence(cc.scaleTo(.2,1.3),cc.delayTime(.5),cc.scaleTo(.2,1),cc.moveTo(.5,cc.v2(n.x+a.Windown.RandomNumber(-10,11),n.y+a.Windown.RandomNumber(-10,11))),cc.moveTo(.5,cc.v2(n.x+a.Windown.RandomNumber(-10,11),n.y+a.Windown.RandomNumber(-10,11))),cc.moveTo(.5,cc.v2(n.x+a.Windown.RandomNumber(-10,11),n.y+a.Windown.RandomNumber(-10,11))),cc.fadeOut(.1),cc.callFunc(function(){c.creatCoin(n),c.putTextItemMoney(e)})))}),[4,this.makeDelay(2.7)];case 1:s.sent(),e=this.player.isMe?1:.6,n=0,o=t,s.label=2;case 2:return n<o.length?(i=o[n],(r=a.Windown.FishBongDem.playerMng.getPlayerById(this.player.acountId))&&(r.addGold(i),this.panelPoint.addMoney(i),this.soundBongDem.playEffectNoStop(this.soundBongDem.coinVeTui,e)),[4,this.makeDelay(.15)]):[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2]}})})},e.prototype.creatCoin=function(t){for(var e=function(){var e=a.Windown.FishBongDem.pool.getCoin(!0);e.scale=.5,e.getComponent(cc.Animation).play("Coin"),e.setPosition(cc.v2(t.x+a.Windown.RandomNumber(-50,50),t.y+a.Windown.RandomNumber(-50,50))),e.parent=a.Windown.FishBongDem.fishBDView.parentEffect,e.runAction(cc.sequence(cc.delayTime(1),cc.moveTo(1,n.pointTarget).easing(cc.easeBackIn()),cc.callFunc(function(){a.Windown.FishBongDem.pool.putCoin(e)})))},n=this,o=0;o<3;o++)e()},e.prototype.getTextItemMoney=function(){var t=null;return this.poolTextMoney.size()<1?(t=cc.instantiate(this.lbMoneyTake)).active=!0:t=this.poolTextMoney.get(),t},e.prototype.putTextItemMoney=function(t){this.poolTextMoney.put(t)},e.prototype.onDestroy=function(){this.poolTextMoney.clear()},e.prototype.setScaleNodeEffect=function(){var t=cc.winSize;this.spRua.node.scaleX=t.width/1280,this.spRua.node.scaleY=t.height/720},e}(t("./FishDeadNoEffect").default);n.default=u,cc._RF.pop()},{"../../../../../Scritps/Windown":void 0,"../../DeadBevhavior/PanelPoint":"PanelPoint","../FISH_TYPE":"FISH_TYPE","./FishDeadNoEffect":"FishDeadNoEffect"}],FishDeadTrieuHoi:[function(t,e,n){"use strict";cc._RF.push(e,"9ad13ORWs1N+5zj5d7gC+d5","FishDeadTrieuHoi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../Scritps/Game/GAME_TYPE"),c=t("../../../../../Scritps/Windown"),l=t("../../ThangLon"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(){return r(this,void 0,void 0,function(){var e,n,o,i,r=this;return s(this,function(s){switch(s.label){case 0:return e=this.player,this.fishBd.playAniDead(),this.fishBd.removeFishFromList(),this.fishBd.playAniRemove(),c.Windown.FishBongDem.fishBDView.shakeScence(.1),(n=c.Windown.FishBongDem.pool.getBigFish()).parent=c.Windown.FishBongDem.fishBDView.parentEffect,n.setPosition(this.fishBd.getPoint()),n.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),this.soundBongDem.playEffectNoStop(this.soundBongDem.fishBoom),c.Windown.FishBongDem.fishBDView.scheduleOnce(function(){r.soundBongDem.playEffectNoStop(r.soundBongDem.ShowTakeTireuHoi,.7)},.5),[4,c.Windown.loadRes(a.default.BongDem.toString(),"Prefabs/Game/ThangLon",cc.Prefab)];case 1:return o=s.sent(),(i=cc.instantiate(o)).parent=c.Windown.FishBongDem.fishBDView.parentEffect,[4,i.getComponent(l.default).init(this.fishBd.fishType,e,this.moneyRevice)];case 2:return s.sent(),null==(e=c.Windown.FishBongDem.playerMng.getPlayerById(e.acountId))?[2,new Promise(function(t){t(null)})]:[2,t.prototype.execute.call(this,0)]}})})},e}(t("./FishDeadNormal").default);n.default=u,cc._RF.pop()},{"../../../../../Scritps/Game/GAME_TYPE":void 0,"../../../../../Scritps/Windown":void 0,"../../ThangLon":"ThangLon","./FishDeadNormal":"FishDeadNormal"}],FishDeadTruyGai:[function(t,e,n){"use strict";cc._RF.push(e,"72090lMSeFA5p1t5Jr9dJIe","FishDeadTruyGai");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../Scritps/Windown"),c=t("../../DeadBevhavior/PanelPoint"),l=t("../FISH_TYPE"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spTruyGai=null,e.lbMoneyTake=null,e.panelPoint=null,e.pointTarget=null,e.currentCount=0,e.poolTextMoney=new cc.NodePool,e}return i(e,t),e.prototype.execute=function(e){return r(this,void 0,void 0,function(){var n,o,i,r,u,h,p,f,d,y=this;return s(this,function(s){switch(s.label){case 0:return t.prototype.execute.call(this,e),[4,this.makeDelay(.5)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,10,,11]),null==(n=a.Windown.FishBongDem.playerMng.getPlayerById(this.player.acountId))?[2]:(o=a.Windown.FishBongDem.pool.getPanelTruyGai(),n.mapNodePanel.set(this.fishBd.fishId,o),this.panelPoint=o.getComponent(c.default),this.panelPoint.init(this.player,this.fishBd.fishId,l.default.TRUY_GAI),this.panelPoint.reset(),o.parent=n.parentPanel,o.scale=0,o.opacity=255,o.stopAllActions(),o.runAction(cc.scaleTo(.3,1).easing(cc.easeBackOut())),[4,this.makeDelay(1.5)]);case 3:s.sent(),(i=a.Windown.FishBongDem.pool.getEfTruyGaiDead()).parent=a.Windown.FishBongDem.fishBDView.parentEffect,i.zIndex=cc.macro.MAX_ZINDEX,this.spTruyGai=i.children[0].getComponent(sp.Skeleton),this.setScaleNodeEffect(),this.lbMoneyTake=i.children[1],this.pointTarget=this.player.getPosCoint(),(r=this.getListArrRandom(this.moneyRevice,this.moneyGun)).forEach(function(t){t.forEach(function(t){y.player.pushDelay(t)})}),this.currentCount=0,u=0,h=r,s.label=4;case 4:return u<h.length?(p=h[u],[4,this.runAniTruyGai(p)]):[3,7];case 5:s.sent(),s.label=6;case 6:return u++,[3,4];case 7:return[4,this.makeDelay(1)];case 8:return s.sent(),[4,this.makeDelay(.15*r[r.length-1].length)];case 9:return s.sent(),(f=a.Windown.FishBongDem.getSound()).playEffect(f.caLonChet),a.Windown.FishBongDem.pool.putEfTruyGaiDead(i),this.panelPoint.node&&this.panelPoint.end(),[3,11];case 10:return d=s.sent(),console.error(d),[3,11];case 11:return[2]}})})},e.prototype.runAniTruyGai=function(t){var e=this;return new Promise(function(n){return r(e,void 0,void 0,function(){var e,o=this;return s(this,function(i){switch(i.label){case 0:return this.spTruyGai.node.active=!0,this.spTruyGai.node.opacity=255,this.spTruyGai.setAnimation(0,"animation",!1),this.spTruyGai.setEndListener(function(){o.spTruyGai.setEndListener(null),o.spTruyGai.node.runAction(cc.fadeOut(.4))}),[4,this.makeDelay(.2)];case 1:return i.sent(),a.Windown.FishBongDem.fishBDView.shakeScence(.25),(e=a.Windown.FishBongDem.getSound()).playEffect(e.fishBoom),[4,this.makeDelay(1)];case 2:return i.sent(),this.creatMoneyRandom(t),[4,this.makeDelay(2)];case 3:return i.sent(),n(null),[2]}})})})},e.prototype.getListArrRandom=function(t,e){for(var n=[];;){for(var o=[],i=0,r=a.Windown.RandomNumber(20,40);i<r;i++){var s=e*a.Windown.RandomNumber(2,11);if(t-s<=0&&(s=t),t-=s,o.push(s),t<=0)return n.push(o),n}n.push(o)}},e.prototype.creatMoneyRandom=function(t){return r(this,void 0,void 0,function(){var e,n,o,i,r,c=this;return s(this,function(s){switch(s.label){case 0:return t.forEach(function(t){var e=c.getTextItemMoney();e.parent=a.Windown.FishBongDem.fishBDView.parentEffect,e.getComponent(cc.Label).string=t.toString();var n=cc.v2(a.Windown.RandomNumber(-500,500),a.Windown.RandomNumber(-300,300));e.setPosition(n),e.scale=.8,e.opacity=255,e.runAction(cc.sequence(cc.scaleTo(.2,1.3),cc.delayTime(.5),cc.scaleTo(.2,1),cc.moveTo(.5,cc.v2(n.x+a.Windown.RandomNumber(-10,11),n.y+a.Windown.RandomNumber(-10,11))),cc.moveTo(.5,cc.v2(n.x+a.Windown.RandomNumber(-10,11),n.y+a.Windown.RandomNumber(-10,11))),cc.moveTo(.5,cc.v2(n.x+a.Windown.RandomNumber(-10,11),n.y+a.Windown.RandomNumber(-10,11))),cc.fadeOut(.3),cc.callFunc(function(){c.putTextItemMoney(e)})))}),[4,this.makeDelay(2.7)];case 1:s.sent(),e=this.player.isMe?1:.6,n=0,o=t,s.label=2;case 2:return n<o.length?(i=o[n],(r=a.Windown.FishBongDem.playerMng.getPlayerById(this.player.acountId))&&(r.addGold(i),this.panelPoint.addMoney(i),this.soundBongDem.playEffectNoStop(this.soundBongDem.coinVeTui,e)),[4,this.makeDelay(.15)]):[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2]}})})},e.prototype.getTextItemMoney=function(){var t=null;return this.poolTextMoney.size()<1?(t=cc.instantiate(this.lbMoneyTake)).active=!0:t=this.poolTextMoney.get(),t},e.prototype.putTextItemMoney=function(t){this.poolTextMoney.put(t)},e.prototype.onDestroy=function(){this.poolTextMoney.clear()},e.prototype.setScaleNodeEffect=function(){var t=cc.winSize,e=1;t.width>1280?e=t.width/1280:t.height>720&&(e=t.height/720),this.spTruyGai.node.scale=e},e}(t("./FishDeadNoEffect").default);n.default=u,cc._RF.pop()},{"../../../../../Scritps/Windown":void 0,"../../DeadBevhavior/PanelPoint":"PanelPoint","../FISH_TYPE":"FISH_TYPE","./FishDeadNoEffect":"FishDeadNoEffect"}],FishDeadVongQuay:[function(t,e,n){"use strict";cc._RF.push(e,"dc7d3SqQiNIa7HRAj+wMaj/","FishDeadVongQuay");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../Scritps/DefineTs/REQUEST_CODE"),c=t("../../../../../Scritps/Game/GAME_TYPE"),l=t("../../../../../Scritps/Network/ConectManager"),u=t("../../../../../Scritps/Windown"),h=t("../../Other/CrabVongQuay"),p=t("../FISH_TYPE"),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeCrabVongQuay=null,e}return i(e,t),e.prototype.execute=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,r,f,d,y,g,m,v,w,D,B,F=this;return s(this,function(s){switch(s.label){case 0:return t=this.player.isMe?.8:.4,this.fishBd.playAniDead(),this.fishBd.playAniRemove(),this.fishBd.removeFishFromList(),this.soundBongDem.playEffectNoStop(this.soundBongDem.coinBayVe,.6),n=this.player.gunFishBd.pointInScreen.clone(),this.player.playerSiting<3?n.y+=150:n.y-=150,this.nodeCrabVongQuay=u.Windown.FishBongDem.pool.getCrabVongQuay(),this.nodeCrabVongQuay.parent=u.Windown.FishBongDem.fishBDView.parentEffect,this.nodeCrabVongQuay.setPosition(this.fishBd.getPoint()),this.nodeCrabVongQuay.scale=0,[4,this.makeDelay(2)];case 1:return s.sent(),this.nodeCrabVongQuay.scale=.2,this.nodeCrabVongQuay.runAction(cc.sequence(cc.spawn(cc.scaleTo(.8,.5),cc.jumpTo(.8,cc.v2(this.nodeCrabVongQuay.x-u.Windown.RandomNumber(-100,100),this.nodeCrabVongQuay.y+50),80,1)),cc.delayTime(2),cc.spawn(cc.moveTo(.5,n).easing(cc.easeBackIn()),cc.scaleTo(.5,1)))),[4,this.makeDelay(4)];case 2:return s.sent(),o=this.moneyRevice/this.moneyGun,[4,this.nodeCrabVongQuay.getComponent(h.default).init(o,this.moneyRevice)];case 3:for(s.sent(),i=this.getListCoinByType(this.fishBd.fishTypeMain),r=0,f=.1,d=n,y=function(e){e.setPosition(d.x+u.Windown.RandomNumber(-70,70),d.y+30+u.Windown.RandomNumber(-40,40)),e.getComponent(cc.Animation).play("Coin");var n=g.player.getPosCoint(),o=cc.delayTime(r),i=cc.moveBy(.22,0,120),s=cc.moveBy(.32,0,-120).easing(cc.easeBounceOut()),a=cc.delayTime(1),c=cc.spawn(cc.scaleTo(.5,.15),cc.moveTo(.5,n)),l=cc.callFunc(function(){u.Windown.FishBongDem.pool.putCoin(e),F.soundBongDem.playEffectNoStop(F.soundBongDem.coinVeTui,t)});e.stopAllActions(),e.runAction(cc.sequence(o,i,s,a,c,l)),r+=f,f-=.02},g=this,m=0,v=i;m<v.length;m++)w=v[m],y(w);return[4,this.makeDelay(1.9)];case 4:return s.sent(),(D=u.Windown.FishBongDem.playerMng.getPlayerById(this.player.acountId))&&(D.addGold(this.moneyRevice),D.isMe&&((B=l.ConectManager.getIns().getSFSObj()).putInt("gt",c.default.BongDem),B.putInt("mt",this.moneyRevice),B.putUtfString("nn",this.player.namePlayer),B.putUtfString("dt",p.default.VONG_QUAY.toString()),l.ConectManager.getIns().sendRequest(a.REQUEST_CODE.AddBigWin,B))),e(null),[2]}})})})},e}(t("./BaseFishDead").default);n.default=f,cc._RF.pop()},{"../../../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../../../Scritps/Game/GAME_TYPE":void 0,"../../../../../Scritps/Network/ConectManager":void 0,"../../../../../Scritps/Windown":void 0,"../../Other/CrabVongQuay":"CrabVongQuay","../FISH_TYPE":"FISH_TYPE","./BaseFishDead":"BaseFishDead"}],FishStateBD:[function(t,e,n){"use strict";cc._RF.push(e,"aec5fWXi6tItooPNwtO+t2B","FishStateBD"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.NORMAL=0,t.ICE=-1,t.SLOW=1,t.WATING=2,t}();n.default=o,cc._RF.pop()},{}],GUN_TYPE_BD:[function(t,e,n){"use strict";cc._RF.push(e,"a196checq1AKbNKXNqANQIv","GUN_TYPE_BD"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.NORMAL=0,t.LAZE=1,t.SONG_AM=3,t.MUI_KHOAN=4,t.SET=5,t.FIRE=6,t}();n.default=o,cc._RF.pop()},{}],GunFishBD:[function(t,e,n){"use strict";cc._RF.push(e,"9cdd8/J19lA/Lvhx8w5w6kZ","GunFishBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=t("./GUN_TYPE_BD"),c=t("./StateGunFire"),l=t("./StateGunLaze"),u=t("./StateGunMuiKhoan"),h=t("./StateGunNormal"),p=t("./StateGunSet"),f=t("./StateGunSongAm"),d=cc._decorator,y=d.ccclass,g=d.property,m=[210,-210,-210,210],v=[-35,-35,37,37],w=[{x:-265,y:-312},{x:265,y:-312},{x:265,y:312},{x:-265,y:312}],D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbGunValue=null,e.bodyGun=null,e.nodeStartBullet=null,e.bulletNormal=null,e.spineGun=[],e.bulletGun=[],e.speedGun=0,e.currentIndexGun=0,e.stateGun=null,e.playerBD=null,e.pointInScreen=null,e.poolBulletNormal=new cc.NodePool,e}return i(e,t),e.prototype.setPlayer=function(t){this.playerBD=t,this.setupViewGun(),this.getPoint(),this.playerBD.isMe&&s.Windown.FishBongDem.fishBDView.showArrowMe(cc.v2(this.pointInScreen.x,this.pointInScreen.y+150))},e.prototype.setupViewGun=function(){this.node.x=m[this.playerBD.playerSiting-1],this.lbGunValue.node.parent.y=v[this.playerBD.playerSiting-1],this.playerBD.isMe?this.setActiveBtn(!0):this.setActiveBtn(!1),this.playerBD.playerSiting>2?this.bodyGun.angle=180:this.bodyGun.angle=0},e.prototype.setActiveBtn=function(t){this.playerBD.isMe||(t=!1),cc.find("Add",this.node).active=t,cc.find("Sub",this.node).active=t},e.prototype.getPoint=function(){this.pointInScreen=cc.v2(w[this.playerBD.playerSiting-1].x,w[this.playerBD.playerSiting-1].y)},e.prototype.initGun=function(t,e){if(cc.log("initGun"),this.stateGun&&this.stateGun.type==t)e&&(this.stateGun.idGunNow=e);else{null!=this.stateGun&&this.stateGun.reset();var n=this.getStateGunByType(t,e);n.indexMoneyGun=this.playerBD.indexMoneyGun,n.execute(),this.stateGun=n}},e.prototype.getStateGunByType=function(t,e){return t==a.default.NORMAL?new h.default(this,t):t==a.default.LAZE?((n=new l.default(this,t)).idGunNow=e,n):t==a.default.SONG_AM?((n=new f.default(this,t)).idGunNow=e,n):t==a.default.MUI_KHOAN?((n=new u.default(this,t)).idGunNow=e,n):t==a.default.SET?n=new p.default(this,t):t==a.default.FIRE?((n=new c.default(this,t)).idGunNow=e,n):void 0;var n},e.prototype.rotate=function(t){this.stateGun&&this.stateGun.rotate(t)},e.prototype.onClickAdd=function(){this.stateGun.onClickAdd()},e.prototype.onClickSub=function(){this.stateGun.onClickSub()},e.prototype.setMoneyGun=function(t){this.stateGun.setMoneyGun(t),this.currentIndexGun=this.getIndexBulletAndSpine(t),this.stateGun.nodeGun.getComponentInChildren(sp.Skeleton).skeletonData=this.spineGun[this.currentIndexGun],this.stateGun.nodeGun.getComponentInChildren(sp.Skeleton).setAnimation(0,"idle",!0)},e.prototype.getIndexBulletAndSpine=function(t){return t<2?0:t<4?1:t<6?2:3},e.prototype.getBulletNormalPool=function(){var t=null;return this.poolBulletNormal.size()<1?((t=cc.instantiate(this.bulletNormal)).active=!0,t.parent=s.Windown.FishBongDem.fishBDView.parentBullet):(t=this.poolBulletNormal.get()).parent=s.Windown.FishBongDem.fishBDView.parentBullet,t.getChildByName("fish_bullet").getComponent(cc.Sprite).spriteFrame=this.bulletGun[this.currentIndexGun],t},e.prototype.getVecStartBullet=function(){var t=this.nodeStartBullet.parent.convertToWorldSpaceAR(this.nodeStartBullet.getPosition());return this.playerBD.playerManager.fishBD.fishBDView.parentBullet.convertToNodeSpaceAR(t)},e.prototype.putButtletNormal=function(t){this.poolBulletNormal.put(t)},e.prototype.onDestroy=function(){this.poolBulletNormal.clear()},e.prototype.updateCp=function(t){this.stateGun.updateCp(t)},e.prototype.cancleAtack=function(){this.stateGun&&this.stateGun.cancleAtack()},r([g(cc.Label)],e.prototype,"lbGunValue",void 0),r([g(cc.Node)],e.prototype,"bodyGun",void 0),r([g(cc.Node)],e.prototype,"nodeStartBullet",void 0),r([g(cc.Node)],e.prototype,"bulletNormal",void 0),r([g([sp.SkeletonData])],e.prototype,"spineGun",void 0),r([g([cc.SpriteFrame])],e.prototype,"bulletGun",void 0),r([y],e)}(cc.Component);n.default=D,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"./GUN_TYPE_BD":"GUN_TYPE_BD","./StateGunFire":"StateGunFire","./StateGunLaze":"StateGunLaze","./StateGunMuiKhoan":"StateGunMuiKhoan","./StateGunNormal":"StateGunNormal","./StateGunSet":"StateGunSet","./StateGunSongAm":"StateGunSongAm"}],HandleAddItemDrag:[function(t,e,n){"use strict";cc._RF.push(e,"ec791+69ChDOro0DI+9SVOU","HandleAddItemDrag");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){var e=t.get("AccountId"),n=this.fishBD.playerMng.getPlayerById(e);n&&n.addItemDrag(t)},e}(t("./IResponseBD").default);n.default=r,cc._RF.pop()},{"./IResponseBD":"IResponseBD"}],HandleChangeBD:[function(t,e,n){"use strict";cc._RF.push(e,"28b1a1Z+VhKCaP/dIlaCwpE","HandleChangeBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/DefineTs/PlayerPP"),s=t("../../../../Scritps/Windown"),a=t("../Gun/GUN_TYPE_BD"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){var e=t.getInt("GunType"),n=t.getInt(r.PlayerPP.AccountId),o=this.fishBD.playerMng.getPlayerById(n);o&&(o.isMe&&e==a.default.SET&&(s.Windown.FishBongDem.fishBDView.toggleSungSet.isChecked=!0,s.Windown.FishBongDem.fishBDView.toggleSungSet.checkMark.node.active=!0),o.changeGun(e))},e}(t("./IResponseBD").default);n.default=c,cc._RF.pop()},{"../../../../Scritps/DefineTs/PlayerPP":void 0,"../../../../Scritps/Windown":void 0,"../Gun/GUN_TYPE_BD":"GUN_TYPE_BD","./IResponseBD":"IResponseBD"}],HandleChangeMoneyGunFishBD:[function(t,e,n){"use strict";cc._RF.push(e,"91892zESKVC1Zw9IHn/hwd6","HandleChangeMoneyGunFishBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/DefineTs/PlayerPP"),s=t("../../../../Scritps/Windown"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){cc.log(s.Windown.SFSObjToJson(t));var e=t.getInt("IndexMoneyGun"),n=t.getInt(r.PlayerPP.AccountId),o=this.fishBD.playerMng.getPlayerById(n);o&&o.changeIndexMoneyGun(e)},e}(t("./IResponseBD").default);n.default=a,cc._RF.pop()},{"../../../../Scritps/DefineTs/PlayerPP":void 0,"../../../../Scritps/Windown":void 0,"./IResponseBD":"IResponseBD"}],HandleCreatFishBD:[function(t,e,n){"use strict";cc._RF.push(e,"f70d9ckTzRIpbG48YdVIifu","HandleCreatFishBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){this.fishBD.fishMng.addListFish(t.getSFSArray("listFish"))},e}(t("./IResponseBD").default);n.default=r,cc._RF.pop()},{"./IResponseBD":"IResponseBD"}],HandleCreatTrieuHoi:[function(t,e,n){"use strict";cc._RF.push(e,"e292fRJ7R9FfpBe6dmbCt7W","HandleCreatTrieuHoi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Windown"),s=t("../Fish/FishBDNormalView"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){var e=t.getInt("id"),n=this.fishBD.playerMng.getPlayerById(e);if(null!=n){var o=r.Windown.FishBongDem.pool.getTxtTrieuHoi();o.parent=r.Windown.FishBongDem.fishBDView.parentEffect,o.setPosition(n.gunFishBd.pointInScreen),o.scale=3,o.opacity=0,o.runAction(cc.sequence(cc.spawn(cc.fadeIn(.5).easing(cc.easeSineIn()),cc.scaleTo(.5,1).easing(cc.easeSineIn())),cc.delayTime(3),cc.callFunc(function(){o.destroy()})));for(var i=[],a=0,c=t.size();a<c;a++)i.push(function(t){t.setTimeEffectWating(2);var e=t.getViewNode().getComponent(s.default);e.aniStateMove.time+=2*e.aniStateMove.speed,e.aniStateMove.sample(),e.node.scale=0,e.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){71==t.fishType?r.Windown.FishBongDem.getSound().playEffectNoStop(r.Windown.FishBongDem.getSound().PhonixStart):70==t.fishType?r.Windown.FishBongDem.getSound().playEffectNoStop(r.Windown.FishBongDem.getSound().fish70Start):72==t.fishType&&r.Windown.FishBongDem.getSound().playEffectNoStop(r.Windown.FishBongDem.getSound().startFish72)}),cc.scaleTo(.5,1)));var n=e.getPos(),o=r.Windown.FishBongDem.pool.getEfTrieuHoi();o.parent=r.Windown.FishBongDem.fishBDView.parentFish,o.setPosition(n),o.zIndex=0;var i=o.getComponentInChildren(sp.Skeleton);i.setAnimation(0,"open",!1),i.setCompleteListener(function(){r.Windown.FishBongDem.pool.putEfTrieuHoi(o),i.setCompleteListener(null)})});r.Windown.FishBongDem.getSound().playEffectNoStop(r.Windown.FishBongDem.getSound().RuaXoay),this.fishBD.fishMng.addListFish(t.getSFSArray("listFish"),i)}else this.fishBD.fishMng.addListFish(t.getSFSArray("listFish"))},e}(t("./IResponseBD").default);n.default=a,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"../Fish/FishBDNormalView":"FishBDNormalView","./IResponseBD":"IResponseBD"}],HandleFishColisionBD:[function(t,e,n){"use strict";cc._RF.push(e,"d91f3LY9r1PEIePuD8AVu0K","HandleFishColisionBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/DefineTs/PlayerPP"),c=t("../../../../Scritps/Windown"),l=t("../DeadBevhavior/ColisionBoomNguyenTu"),u=t("../DeadBevhavior/ColisionCrab"),h=t("../DeadBevhavior/ColisionCrabBoom"),p=t("../DeadBevhavior/ColisionCrabEndMuiKhoan"),f=t("../DeadBevhavior/ColisionCrabGunFire"),d=t("../DeadBevhavior/ColisionCrabMuiKhoan"),y=t("../DeadBevhavior/ColisionCrabSongAm"),g=t("../DeadBevhavior/ColisionDinhBa"),m=t("../DeadBevhavior/ColisionFish74"),v=t("../DeadBevhavior/ColisionHaiThanDead"),w=t("../DeadBevhavior/ColisionItemHaiThan"),D=t("../DeadBevhavior/ColisionLocXoay"),B=t("../DeadBevhavior/ColisionMatThan"),F=t("../DeadBevhavior/ColisionNormal"),_=t("../Fish/DeadEffect/FISH_DEAD_BD_TYPE"),b=t("../Gun/GUN_TYPE_BD"),S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){return r(this,void 0,Promise,function(){var e,n,o,i,r;return s(this,function(s){switch(s.label){case 0:switch(e=t.getInt("deadType"),n=t.getInt("bfdt"),o=null,i=t.getInt(a.PlayerPP.AccountId),n){case _.default.GUN_FIRE:(r=c.Windown.FishBongDem.playerMng.getPlayerById(i))&&r.gunFishBd.stateGun.type==b.default.FIRE&&(o=new f.default(t));break;case _.default.BOOM_NGUYEN_TU:(r=c.Windown.FishBongDem.playerMng.getPlayerById(i))&&(o=new l.default(t));break;case _.default.DINH_BA:(r=c.Windown.FishBongDem.playerMng.getPlayerById(i))&&(o=new g.default(t));break;case _.default.MAT_THAN:(r=c.Windown.FishBongDem.playerMng.getPlayerById(i))&&(o=new B.default(t))}return o?(o.excuted(),n!=_.default.DINH_BA?[3,2]:[4,c.Windown.FishBongDem.makeDelay(2)]):[3,2];case 1:s.sent(),s.label=2;case 2:switch(o=null,e){case _.default.NORMAL:o=new F.default(t);break;case _.default.LADE:o=new u.default(t);break;case _.default.BOOM:o=new h.default(t);break;case _.default.SONG_AM:o=new y.default(t);break;case _.default.MUI_KHOAN:o=new d.default(t);break;case _.default.END_MUI_KHOAN:o=new p.default(t);break;case _.default.ITEM_HAI_THAN:o=new w.default(t);break;case _.default.HAI_THAN:o=new v.default(t);break;case _.default.LOC_XOAY:o=new D.default(t);break;case _.default.FISH_74:o=new m.default(t)}return o&&o.excuted(),[2]}})})},e}(t("./IResponseBD").default);n.default=S,cc._RF.pop()},{"../../../../Scritps/DefineTs/PlayerPP":void 0,"../../../../Scritps/Windown":void 0,"../DeadBevhavior/ColisionBoomNguyenTu":"ColisionBoomNguyenTu","../DeadBevhavior/ColisionCrab":"ColisionCrab","../DeadBevhavior/ColisionCrabBoom":"ColisionCrabBoom","../DeadBevhavior/ColisionCrabEndMuiKhoan":"ColisionCrabEndMuiKhoan","../DeadBevhavior/ColisionCrabGunFire":"ColisionCrabGunFire","../DeadBevhavior/ColisionCrabMuiKhoan":"ColisionCrabMuiKhoan","../DeadBevhavior/ColisionCrabSongAm":"ColisionCrabSongAm","../DeadBevhavior/ColisionDinhBa":"ColisionDinhBa","../DeadBevhavior/ColisionFish74":"ColisionFish74","../DeadBevhavior/ColisionHaiThanDead":"ColisionHaiThanDead","../DeadBevhavior/ColisionItemHaiThan":"ColisionItemHaiThan","../DeadBevhavior/ColisionLocXoay":"ColisionLocXoay","../DeadBevhavior/ColisionMatThan":"ColisionMatThan","../DeadBevhavior/ColisionNormal":"ColisionNormal","../Fish/DeadEffect/FISH_DEAD_BD_TYPE":"FISH_DEAD_BD_TYPE","../Gun/GUN_TYPE_BD":"GUN_TYPE_BD","./IResponseBD":"IResponseBD"}],HandleGunAtackBD:[function(t,e,n){"use strict";cc._RF.push(e,"d7ec3UrWzpFObRIsVRStYBr","HandleGunAtackBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/DefineTs/PlayerPP"),s=t("../../../../Scritps/Windown"),a=t("../Gun/GUN_TYPE_BD"),c=t("../Player/Effect/TypePlayerEffectBD"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){var e=t.getLong("AccountBalance"),n=s.Windown.FishBongDem.playerMng.getPlayerById(t.getInt(r.PlayerPP.AccountId)),o=t.getInt("moneyGun");if(null!=n){n.subGold(o,e);var i=cc.v2();i.x=t.get("PositionX"),i.y=t.get("PositionY");var l=t.get("FishIdTarget");if(s.Windown.FishBongDem.convertVec(i),n.isMe)s.Windown.FishBongDem.removeBulletSend(t.get("BulletId"));else if(n.gunFishBd.stateGun.type!=a.default.NORMAL&&n.gunFishBd.stateGun.type!=a.default.SET||(n.rotateGun(i),n.atack()),-1!=l){var u=n.getPlayerEffect(c.default.TARGET);if(u){var h=this.fishBD.fishMng.getFishById(l);h&&u.targetFish(h,h.getListColider()[t.get("IC")])}n.gunFishBd.stateGun.type==a.default.SET&&n.gunFishBd.stateGun.setFishIdTarget(l,t.get("IC"))}}},e}(t("./IResponseBD").default);n.default=l,cc._RF.pop()},{"../../../../Scritps/DefineTs/PlayerPP":void 0,"../../../../Scritps/Windown":void 0,"../Gun/GUN_TYPE_BD":"GUN_TYPE_BD","../Player/Effect/TypePlayerEffectBD":"TypePlayerEffectBD","./IResponseBD":"IResponseBD"}],HandleIceAllFishBD:[function(t,e,n){"use strict";cc._RF.push(e,"53f43D/EjJIv4oePzSFGCAt","HandleIceAllFishBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Windown"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){var e=t.getFloat("Duration")-r.Windown.LagValue;this.fishBD.getSound().playEffect(this.fishBD.getSound().iceAllFish),this.fishBD.fishMng.iceAllFish(e),this.fishBD.fishBDView.showIce(e),cc.log("ice all fish")},e}(t("./IResponseBD").default);n.default=s,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"./IResponseBD":"IResponseBD"}],HandleInfoFishRoomBD:[function(t,e,n){"use strict";cc._RF.push(e,"27dceegES9ApbUEjM5xFHWJ","HandleInfoFishRoomBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Windown"),s=t("./CODE_EVT"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){for(var e=t.getSFSArray("listPlayer"),n=!1,o=0,i=e.size();o<i;o++)e.getSFSObject(o).getInt("id")==r.Windown.User.userId&&(n=!0);if(n){if(this.fishBD.fishBDView.node){r.Windown.FishBongDem.listBulletSend.length=0,this.fishBD.fishMng.initGame();var a=t.getSFSArray("listMoneyGun");for(this.fishBD.listGunSpecialConfig=t.getSFSArray("listGunSpecilConfig"),this.fishBD.listGunMoney=[],o=0,i=a.size();o<i;o++)this.fishBD.listGunMoney.push(a.getInt(o));this.fishBD.fishBDView.initItemBoomDrop(),this.fishBD.playerMng.initListPlayer(e),this.fishBD.fishMng.addListFish(t.getSFSArray("listFish")),this.fishBD.fishMng.setFishConfig(t.getSFSArray("listFishConfig")),r.Windown.BotController&&(cc.log("start bot ne"),r.Windown.FishBongDem.fishBDView.startBot()),r.Windown.FishBongDem.getSound().reset()}}else this.fishBD.sendRequest(s.default.InfoFishRoomBD,null)},e}(t("./IResponseBD").default);n.default=a,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"./CODE_EVT":"CODE_EVT","./IResponseBD":"IResponseBD"}],HandleNotFindFishBD:[function(t,e,n){"use strict";cc._RF.push(e,"0b71fiYDtRJIbhoQGNickHG","HandleNotFindFishBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){var e=this.fishBD.fishMng.getFishById(t.getInt("FishId"));e&&(cc.log("fish bi remove type : "+e.fishType),cc.log("fish bi remove id : "+e.fishId),e.removeFishFromList(),e.destroy())},e}(t("./IResponseBD").default);n.default=r,cc._RF.pop()},{"./IResponseBD":"IResponseBD"}],HandleOtherJoinRoom:[function(t,e,n){"use strict";cc._RF.push(e,"e62679SqWpHkKAsLF/s3QPK","HandleOtherJoinRoom");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){this.fishBD.playerMng&&(cc.log("co thang vao room"),this.fishBD.playerMng.addPlayer(t))},e}(t("./IResponseBD").default);n.default=r,cc._RF.pop()},{"./IResponseBD":"IResponseBD"}],HandlePlayerUsingItemFishBD:[function(t,e,n){"use strict";cc._RF.push(e,"5e260TM9QJOTZWC/a4NwlKP","HandlePlayerUsingItemFishBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Windown"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){var e=t.getInt("id"),n=t.getSFSArray("ItemFish"),o=this.fishBD.playerMng.getPlayerById(e);null!=o&&(o.updateItem(t),o.isMe&&(r.Windown.Dialog.checkAndShowLog(t,!1),this.fishBD.fishBDView.setItemInfo(n)))},e}(t("./IResponseBD").default);n.default=s,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"./IResponseBD":"IResponseBD"}],HandleRemoveAllListFishBD:[function(t,e,n){"use strict";cc._RF.push(e,"d472dNGu/1Dt60/vc4MgKrx","HandleRemoveAllListFishBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Windown"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){t.getSFSArray("listId"),"caTran"==t.getUtfString("typeNext")&&(this.fishBD.fishBDView.comingCaTran(),this.fishBD.getSound().playEffect(this.fishBD.getSound().nextTurn)),this.fishBD.fishBDView.showNextTurn();for(var e=r.Windown.FishBongDem.fishMng.getMapFish().values(),n=e.next();!n.done;){var o=n.value;n=e.next(),o.removeFishFromList(),o.playAniNewTurn()}},e}(t("./IResponseBD").default);n.default=s,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"./IResponseBD":"IResponseBD"}],HandleRemoveListFishBD:[function(t,e,n){"use strict";cc._RF.push(e,"a64aey57yVLo568Qn21p/u8","HandleRemoveListFishBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){var e=t.getSFSArray("listId");"caTran"==t.getUtfString("typeNext")&&(this.fishBD.fishBDView.comingCaTran(),this.fishBD.getSound().playEffect(this.fishBD.getSound().nextTurn)),this.fishBD.fishBDView.showNextTurn();for(var n=0,o=e.size();n<o;n++){var i=e.getInt(n),r=this.fishBD.fishMng.getFishById(i);r&&(r.removeFishFromList(),r.playAniNewTurn())}},e}(t("./IResponseBD").default);n.default=r,cc._RF.pop()},{"./IResponseBD":"IResponseBD"}],HandleRotateGunBD:[function(t,e,n){"use strict";cc._RF.push(e,"8794c94xBhMyZp8CtsjlX5y","HandleRotateGunBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/DefineTs/PlayerPP"),s=t("../../../../Scritps/Windown"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){var e=t.getBool("iA"),n=t.getInt(r.PlayerPP.AccountId),o=this.fishBD.playerMng.getPlayerById(n);if(o&&!o.isMe)if(e){cc.log("isA1: "+e);var i=cc.v2();i.x=t.get("x"),i.y=t.get("y"),s.Windown.FishBongDem.convertVec(i),o.rotateGun(i)}else cc.log("isA2: "+e),o.cancleGun()},e}(t("./IResponseBD").default);n.default=a,cc._RF.pop()},{"../../../../Scritps/DefineTs/PlayerPP":void 0,"../../../../Scritps/Windown":void 0,"./IResponseBD":"IResponseBD"}],HandleSetTimeFishEffectBD:[function(t,e,n){"use strict";cc._RF.push(e,"bdb5dNpv1dEyaNDCijEE2S0","HandleSetTimeFishEffectBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Windown"),s=t("../Fish/EffectGun/EffectSet"),a=t("../Fish/FishStateBD"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){for(var e=t.getSFSArray("listFishTime"),n=0,o=e.size();n<o;n++){var i=e.getSFSObject(n),s=i.getInt("IdFish"),c=i.getInt("State"),l=i.getFloat("Time")-r.Windown.LagValue,u=this.fishBD.fishMng.getFishById(s);if(!u)return;var h=i.get("Name");if(l<=0)return;c==a.default.ICE?u.setTimeEffectIce(l):c==a.default.WATING&&u.setTimeEffectWating(l),this.getStateByName(h).setFish(u,l).execute()}},e.prototype.getStateByName=function(t){var e=null;switch(t){case"GunSet":e=r.Windown.FishBongDem.pool.getEfGiatSet().getComponent(s.default)}return e},e}(t("./IResponseBD").default);n.default=c,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"../Fish/EffectGun/EffectSet":"EffectSet","../Fish/FishStateBD":"FishStateBD","./IResponseBD":"IResponseBD"}],HandleTakeItemFish:[function(t,e,n){"use strict";cc._RF.push(e,"4cf3fGRrmdKNLB5qB8FMDod","HandleTakeItemFish");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/DefineTs/PlayerPP"),s=t("../../../../Scritps/Windown"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){var e=t.getBool("iA"),n=t.getInt(r.PlayerPP.AccountId),o=this.fishBD.playerMng.getPlayerById(n);if(o&&!o.isMe)if(e){cc.log("isA1: "+e);var i=cc.v2();i.x=t.get("x"),i.y=t.get("y"),s.Windown.FishBongDem.convertVec(i),o.rotateGun(i)}else cc.log("isA2: "+e),o.cancleGun()},e}(t("./IResponseBD").default);n.default=a,cc._RF.pop()},{"../../../../Scritps/DefineTs/PlayerPP":void 0,"../../../../Scritps/Windown":void 0,"./IResponseBD":"IResponseBD"}],HandleTimeOutPlayBD:[function(t,e,n){"use strict";cc._RF.push(e,"53fbdXruVFChqMxrIZMcDgD","HandleTimeOutPlayBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/DefineTs/PlayerPP"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){this.fishBD.fishBDView.timeOut.show(t.getUtfString(r.PlayerPP.MESSAGE))},e}(t("./IResponseBD").default);n.default=s,cc._RF.pop()},{"../../../../Scritps/DefineTs/PlayerPP":void 0,"./IResponseBD":"IResponseBD"}],HandleUsingItemDrag:[function(t,e,n){"use strict";cc._RF.push(e,"c1610otswFMc6dBN4aX75Yk","HandleUsingItemDrag");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){t.get("Type");var e=t.get("AccountId"),n=this.fishBD.playerMng.getPlayerById(e),o=t.getSFSObject("info"),i=t.getLong("Id");n&&n.usingItemDrag(i,o)},e}(t("./IResponseBD").default);n.default=r,cc._RF.pop()},{"./IResponseBD":"IResponseBD"}],HelpBongDem:[function(t,e,n){"use strict";cc._RF.push(e,"1e06c4OLL9KxbiVqkZUbQeL","HelpBongDem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.page=null,e.lbTitle=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.onClickClose=function(){var t=this;s.Windown.actionEffectClose(this.node,function(){t.node.active=!1})},e.prototype.onClickChangePage=function(t,e){var n=this.page.getCurrentPageIndex();"next"==e?n++:n--,this.checkCurrentIndex(n),this.page.scrollToPage(n,.3)},e.prototype.checkCurrentIndex=function(t){switch(t){case 0:this.lbTitle.string="H\u1ec6 S\u1ed0 C\xc1";break;case 1:case 2:this.lbTitle.string="C\xc1 \u0110\u1eb6C BI\u1ec6T";break;case 3:case 4:this.lbTitle.string="BOSS";break;case 5:case 6:this.lbTitle.string="H\u1ea2I TH\u1ea6N";break;case 5:this.lbTitle.string=""}t==this.page.getPages().length?cc.find("next",this.node).getComponent(cc.Button).interactable=!1:0==t?cc.find("pre",this.node).getComponent(cc.Button).interactable=!1:(cc.find("next",this.node).getComponent(cc.Button).interactable=!0,cc.find("pre",this.node).getComponent(cc.Button).interactable=!0)},e.prototype.show=function(){s.Windown.actionEffectOpen(this.node)},e.prototype.onDestroy=function(){},r([l(cc.PageView)],e.prototype,"page",void 0),r([l(cc.Label)],e.prototype,"lbTitle",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],IResponseBD:[function(t,e,n){"use strict";cc._RF.push(e,"c97c5uK8hxKrpTInGcdHNKe","IResponseBD"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.fishBD=null}return t.prototype.setBD=function(t){this.fishBD=t},t.prototype.send=function(t,e){this.fishBD.sendRequest(t,e)},t}();n.default=o,cc._RF.pop()},{}],ItemBongDem:[function(t,e,n){"use strict";cc._RF.push(e,"b7fabnoM4lOQaUO1S+h4QYO","ItemBongDem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Network/ConectManager"),a=t("../../../../Scritps/Windown"),c=t("../Network/CODE_EVT"),l=cc._decorator,u=l.ccclass,h=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.totalAmount=0,e.timeCd=0,e.idItem=0,e.lbAmount=null,e.lbName=null,e.spMask=null,e}return i(e,t),e.prototype.initItem=function(t){this.totalAmount=t.Amount,this.idItem=t.ItemId,this.timeCd=t.TimeCD,this.lbName.string=t.ItemName},e.prototype.setLabel=function(){this.lbAmount.string=this.totalAmount.toString()},e.prototype.updateAmount=function(t){this.totalAmount+=t,this.setLabel()},e.prototype.effectTakeItem=function(){this.setLabel(),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.15,{scale:1.3}).to(.15,{scale:1}).start()},e.prototype.onClick=function(){if(1!=this.idItem||!a.Windown.FishBongDem.fishBDView.nodeWave.active){var t=s.ConectManager.getIns().getSFSObj();t.putInt("ItemId",this.idItem),a.Windown.FishBongDem.sendRequest(c.default.PlayerUsingItemFishBD,t)}},e.prototype.update=function(){if(null!=a.Windown.FishBongDem&&null!=a.Windown.FishBongDem.me)if(1==this.idItem){var t=a.Windown.FishBongDem.me.timeItemIce;t>0?(this.spMask.node.active=!0,this.spMask.fillRange=t/this.timeCd):this.spMask.node.active=!1}else if(2==this.idItem){var e=a.Windown.FishBongDem.me.timeItemSpeed;e>0?(this.spMask.node.active=!0,this.spMask.fillRange=e/this.timeCd):this.spMask.node.active=!1}else if(3==this.idItem){var n=a.Windown.FishBongDem.me.timeItemTarget;n>0?(this.spMask.node.active=!0,this.spMask.fillRange=n/this.timeCd):this.spMask.node.active=!1}else if(4==this.idItem){var o=a.Windown.FishBongDem.me.timeItemTrieuHoi;o>0?(this.spMask.node.active=!0,this.spMask.fillRange=o/this.timeCd):this.spMask.node.active=!1}},r([h(cc.Integer)],e.prototype,"idItem",void 0),r([h(cc.Label)],e.prototype,"lbAmount",void 0),r([h(cc.Label)],e.prototype,"lbName",void 0),r([h(cc.Sprite)],e.prototype,"spMask",void 0),r([u],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Windown":void 0,"../Network/CODE_EVT":"CODE_EVT"}],ItemBoom:[function(t,e,n){"use strict";cc._RF.push(e,"239e2d1CSxDJL+SOfKiHLPa","ItemBoom");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lastPos=cc.Vec2.ZERO,e.posTarGet2=null,e}return i(e,t),e.prototype.moveBoom=function(t,e,n){var o=this;return new Promise(function(i){o.posTarGet2=n,o.node.runAction(cc.sequence(cc.delayTime(e),cc.bezierTo(2.5,[cc.v2(o.node.x+s.Windown.RandomNumber(-300,300),-200),cc.v2(t.x,100),t]),cc.callFunc(function(){o.node.opacity=0,i(null)})))})},e.prototype.moveNo=function(t,e){var n=this;this.node.stopAllActions(),0==this.posTarGet2.x?this.node.setPosition(0,600):this.node.setPosition(s.Windown.RandomNumber(-300,300)+this.posTarGet2.x,600),s.Windown.FishBongDem.getSound().playEffectNoStop(s.Windown.FishBongDem.getSound().wind),this.node.runAction(cc.sequence(cc.delayTime(t),cc.fadeIn(0),cc.moveTo(s.Windown.RandomNumber(10,20)/30,this.posTarGet2),cc.callFunc(function(){e.onNo(n.node)})))},e.prototype.update=function(){cc.director.getScheduler().getTimeScale();var t=cc.Vec2.subtract(new cc.Vec2,this.node.getPosition(),this.lastPos),e=180*Math.atan2(t.x,t.y)/Math.PI;this.node.angle=-e,this.lastPos=this.node.getPosition()},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../../Scritps/Windown":void 0}],ItemLichSuJackpot:[function(t,e,n){"use strict";cc._RF.push(e,"70f97aWnQNBoZ6F44N8jUP3","ItemLichSuJackpot");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbDate=null,e.lbNickNam=null,e.lbGold=null,e}return i(e,t),e.prototype.initItem=function(t){this.lbDate.string=s.Windown.formatDate(new Date(t.getLong("date")),"dd/MM HH:mm:ss"),this.lbNickNam.string=t.getUtfString("nickname"),this.lbGold.string=s.Windown.formatNumber(t.get("moneyTotal"))},r([l(cc.Label)],e.prototype,"lbDate",void 0),r([l(cc.Label)],e.prototype,"lbNickNam",void 0),r([l(cc.Label)],e.prototype,"lbGold",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],ItemNhiemVuFish:[function(t,e,n){"use strict";cc._RF.push(e,"a8bffpK/gxGk7JP0B7jCYDN","ItemNhiemVuFish");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/TextDefine"),a=t("../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,u=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbName=null,e.imgProgress=null,e.lbProgress=null,e.idQuest=-1,e}return i(e,t),e.prototype.onLoad=function(){a.Windown.NhiemVuConTroller.itemQuestViewFish=this},e.prototype.onEnable=function(){},e.prototype.refresh=function(){},e.prototype.onDisable=function(){},e.prototype.onDestroy=function(){a.Windown.NhiemVuConTroller.itemQuestViewFish=null},e.prototype.updateItem=function(t){if(t.getInt("type")==this.idQuest){var e=t.getInt("current"),n=t.getInt("total");e>n&&(e=n),this.lbProgress.string=e+"/"+n,this.imgProgress.fillRange=e/n,this.lbProgress.node.stopAllActions(),this.lbProgress.node.scale=1.2,this.lbProgress.node.runAction(cc.scaleTo(.3,1)),e==n&&(this.lbProgress.string=s.TextDefine.ClickDeNhan)}},e.prototype.initItem=function(t){this.lbName.string=t.getUtfString("name")+" <color=#FFFF00>("+a.Windown.formatNumber(t.getInt("moneyRevice"))+")</color>";var e=t.getInt("current"),n=t.getInt("total");this.lbProgress.string=e+"/"+n,this.imgProgress.fillRange=e/n,this.idQuest=t.getInt("type"),e>n&&(e=n),e==n&&(this.lbProgress.string=s.TextDefine.ClickDeNhan)},e.prototype.onClickItemNhiemVu=function(){a.Windown.UIManager.showNhiemVu()},r([u(cc.RichText)],e.prototype,"lbName",void 0),r([u(cc.Sprite)],e.prototype,"imgProgress",void 0),r([u(cc.Label)],e.prototype,"lbProgress",void 0),r([l],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/DefineTs/TextDefine":void 0,"../../../Scritps/Windown":void 0}],LichSuJackpot:[function(t,e,n){"use strict";cc._RF.push(e,"51defQ02eJCJaQPEiGGJbBX","LichSuJackpot");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Popup/PageData/PageData"),a=t("../../../Scritps/Windown"),c=t("./ItemLichSuJackpot"),l=t("./Network/CODE_EVT"),u=cc._decorator,h=u.ccclass,p=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.parentType=null,e.listData=null,e.currentTye=-1,e.curentRoom=1,e.maxRow=8,e}return i(e,t),e.prototype.onLoad=function(){a.Windown.LichSuGiaoDich=this},e.prototype.onDestroy=function(){a.Windown.LichSuGiaoDich=null},e.prototype.show=function(){a.Windown.actionEffectOpen(this.node),a.Windown.UIManager.showLoading(),this.reset(),a.Windown.FishBongDem.sendRequest(l.default.GetLogJackpot,null)},e.prototype.response=function(t){a.Windown.Dialog.checkAndShowLog(t,!1),cc.log("data: "+a.Windown.SFSObjToJson(t)),this.initWithListData(t.getSFSArray("data")),a.Windown.UIManager.hideLoading()},e.prototype.initWithListData=function(t){t._dataHolder.reverse();var e=t.size(),n=parseInt(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var a=n[r];if(i<this.listData.size()){null==a&&(a=cc.instantiate(o),e.addChild(a),a.y=-(r+1)*a.height+a.height/2);var l=this.listData.getSFSObject(i);a.getComponent(c.default).initItem(l),a.active=!0,i++}else{if(!a)break;a.active=!1}}},e.prototype.onClickActiveType=function(){this.parentType.active=!this.parentType.active},e.prototype.resetContent=function(){for(var t=this.pageDate.content.children,e=0,n=t.length;e<n;e++)t[e].active=!1},e.prototype.reset=function(){this.pageDate.setTotalPage(1),this.pageDate.reset(),this.resetContent()},e.prototype.onClickClose=function(){var t=this;a.Windown.actionEffectClose(this.node,function(){t.node.active=!1})},r([p(s.default)],e.prototype,"pageDate",void 0),r([p(cc.Node)],e.prototype,"parentType",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../Scritps/Popup/PageData/PageData":void 0,"../../../Scritps/Windown":void 0,"./ItemLichSuJackpot":"ItemLichSuJackpot","./Network/CODE_EVT":"CODE_EVT"}],MatThan:[function(t,e,n){"use strict";cc._RF.push(e,"e2a985N1XFLfrnAg4UxzIfB","MatThan");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/Network/ConectManager"),l=t("../../../../Scritps/Windown"),u=t("../Bullet/BulletMatThan"),h=t("../DeadBevhavior/PanelPoint"),p=t("../Fish/FISH_TYPE"),f=t("../Network/CODE_EVT"),d=t("../Player/TypeItemDragBD"),y=cc._decorator,g=y.ccclass,m=y.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeBullet=null,e.lbNickName=null,e.panelPoint=null,e.poolBullet=new cc.NodePool(u.default),e.fishTarget=null,e.player=null,e.distanceMax=400,e.currentColider=null,e.curentPosColider=cc.v2(),e.listBullet=[],e.isRun=!1,e.crTimeDelay=0,e.isSendTargetFish=!1,e.moneyCurrent=0,e.moneyMax=0,e.mutilLeft=0,e.idItemDrag=0,e.moneyGun=0,e.isEnd=!1,e}return i(e,t),e.prototype.start=function(){cc.systemEvent.on(f.default.MatThanAtack,this.onAtack,this),cc.systemEvent.on(f.default.RemoveMatThan,this.end,this),this.poolBullet.put(this.nodeBullet)},e.prototype.init=function(t,e,n,o,i){return s(this,void 0,void 0,function(){var r,s,u;return a(this,function(a){switch(a.label){case 0:return this.player=t,this.lbNickName.string=this.player.namePlayer.length>6?this.player.namePlayer.substring(0,3)+".."+this.player.namePlayer.substring(this.player.namePlayer.length-3,this.player.namePlayer.length):this.player.namePlayer,this.moneyMax=e,this.idItemDrag=o,this.panelPoint.init(this.player,this.idItemDrag,d.default.MAT_THAN),this.panelPoint.addMoney(n),this.moneyGun=i,(r=c.ConectManager.getIns().getSFSObj()).putInt("Type",d.default.MAT_THAN),r.putLong("Id",o),l.Windown.FishBongDem.sendRequest(f.default.UsingItemDrag,r),this.isSendTargetFish=!0,this.node.scale=0,s=this.player.getPosInVew().subSelf(cc.v2(this.player.playerSiting%2==0?100:-100,this.player.playerSiting<3?-50:50)),this.node.setPosition(s),(u=l.Windown.FishBongDem.pool.getLocXoay()).parent=l.Windown.FishBongDem.fishBDView.parentFish,u.zIndex=cc.macro.MIN_ZINDEX,u.setPosition(s),u.scale=0,u.runAction(cc.scaleTo(.5,1.5)),[4,l.Windown.FishBongDem.makeDelay(1)];case 1:return a.sent(),this.node.runAction(cc.scaleTo(.5,1).easing(cc.easeBackOut())),[4,l.Windown.FishBongDem.makeDelay(.5)];case 2:return a.sent(),this.isSendTargetFish=!1,u.runAction(cc.scaleTo(.3,0)),[4,l.Windown.FishBongDem.makeDelay(.3)];case 3:return a.sent(),l.Windown.FishBongDem.pool.putLocXoay(u),[2]}})})},e.prototype.onAtack=function(t){if(cc.log("ontack ve"),t.get("iid")==this.idItemDrag){var e=t.get("idF"),n=t.get("IC"),o=l.Windown.FishBongDem.fishMng.getFishById(e);o&&(this.fishTarget=o,this.currentColider=o.getListColider()[n]),this.isSendTargetFish=!1}},e.prototype.onChangeTarget=function(t){var e=t.get("idF"),n=l.Windown.FishBongDem.fishMng.getFishById(e);n&&(this.fishTarget=n)},e.prototype.getBullet=function(){var t=null;return(t=this.poolBullet.size()>0?this.poolBullet.get():cc.instantiate(this.nodeBullet)).active=!0,t},e.prototype.putBullet=function(t){this.node?this.poolBullet.put(t.node):t.node.destroy()},e.prototype.removeBullet=function(t){if(this.node){var e=this.listBullet.indexOf(t);e>-1&&this.listBullet.splice(e,1)}},e.prototype.end=function(t){return s(this,void 0,void 0,function(){var e,n;return a(this,function(o){switch(o.label){case 0:return t.get("iid")!=this.idItemDrag?[2]:this.isEnd?[2]:(this.isEnd=!0,this.panelPoint.end(),this.offTarget(),e=this.player.getPosInVew().subSelf(cc.v2(this.player.playerSiting%2==0?100:-100,this.player.playerSiting<3?-50:50)),(n=l.Windown.FishBongDem.pool.getLocXoay()).parent=l.Windown.FishBongDem.fishBDView.parentFish,n.zIndex=cc.macro.MIN_ZINDEX,n.setPosition(e),n.scale=0,n.runAction(cc.scaleTo(.5,1.5)),[4,l.Windown.FishBongDem.makeDelay(1)]);case 1:return o.sent(),this.node.runAction(cc.sequence(cc.moveTo(1,e).easing(cc.easeBackIn()),cc.delayTime(.5),cc.scaleTo(.5,0))),[4,l.Windown.FishBongDem.makeDelay(2)];case 2:return o.sent(),n.runAction(cc.scaleTo(.3,0)),[4,l.Windown.FishBongDem.makeDelay(.3)];case 3:return o.sent(),l.Windown.FishBongDem.pool.putLocXoay(n),this.node.destroy(),[2]}})})},e.prototype.emitNewMoney=function(){if(this.moneyCurrent=this.panelPoint.moneyCurrent,this.mutilLeft=(this.moneyMax-this.moneyCurrent)/this.moneyGun,this.mutilLeft<6){var t=c.ConectManager.getIns().getSFSObj();t.putUtfString("evt",f.default.RemoveMatThan),t.putLong("iid",this.idItemDrag),l.Windown.FishBongDem.sendRequest(f.default.MatThanAtack,t)}},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this),this.poolBullet.clear(),this.listBullet.forEach(function(t){t.node.destroy()}),this.listBullet.length=0},e.prototype.folowAndAtack=function(t){var e=this;if(this.crTimeDelay+=t,this.fishTarget&&this.crTimeDelay>=.15){var n=this.getBullet();n.parent=this.node.parent,n.setPosition(this.node.getPosition());var o=n.getComponent(u.default);o.creat(this.fishTarget,this,this.player.isMe),this.crTimeDelay=0,this.listBullet.push(o),l.Windown.FishBongDem.getSound().playEffectNoStop(l.Windown.FishBongDem.getSound().matThanAtack,.5)}this.listBullet.forEach(function(t){t.currentPosColider=e.curentPosColider})},e.prototype.checkDistanceFish=function(){var t=this;if(this.fishTarget&&this.fishTarget.getCanColision()&&this.currentColider){var e=this.fishTarget.checkColiderInScreen(this.currentColider);if(e){if(this.curentPosColider=e,cc.Vec2.distance(this.node.getPosition(),e)>this.distanceMax&&!this.isRun){var n=cc.misc.clampf(e.x+l.Windown.RandomNumber(-50,50),-400,400),o=cc.misc.clampf(e.y+l.Windown.RandomNumber(-50,50),-200,200);this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.moveTo(1,cc.v2(n,o)).easing(cc.easeQuarticActionOut()),cc.callFunc(function(){t.isRun=!1}))),this.isRun=!0}}else this.getNewColider()}else this.curentPosColider=null,this.offTarget()},e.prototype.getNewColider=function(){var t=this.fishTarget.getColiderInScreen(this.currentColider);t?this.currentColider=t:this.offTarget()},e.prototype.offTarget=function(){this.fishTarget=null,this.currentColider=null,this.curentPosColider=null,this.listBullet.forEach(function(t){t.currentPosColider=null,t.update(0)}),this.isRun&&!this.isEnd&&(this.node.stopAllActions(),this.isRun=!1)},e.prototype.autoChooseFish=function(){var t=this;if(null==this.fishTarget&&!this.isEnd){this.offTarget();var e=[];l.Windown.FishBongDem.fishMng.forEachListFish(function(n){n.fishType!=p.default.SONG_AM&&n.fishType!=p.default.GUN_FIRE&&n.fishType!=p.default.LAZE&&n.fishType!=p.default.BOOM&&n.fishType!=p.default.MUI_KHOAN&&n.fishType!=p.default.VONG_QUAY&&n.fishType!=p.default.JACKPOT&&n.getColiderInScreen()&&(t.mutilLeft<31&&n.fishType,e.push(n))});var n=e[l.Windown.RandomNumber(0,e.length)];if(n){var o=c.ConectManager.getIns().getSFSObj();o.putInt("idF",n.fishId),o.putInt("IC",n.getListColider().indexOf(n.getColiderInScreen())),o.putLong("iid",this.idItemDrag),o.putUtfString("evt",f.default.MatThanAtack),l.Windown.FishBongDem.sendRequest(f.default.MatThanAtack,o),this.isSendTargetFish=!0,this.unschedule(this.offTarget),this.scheduleOnce(this.offTarget,l.Windown.RandomNumber(7,12))}}},e.prototype.update=function(t){t*=cc.director.getScheduler().getTimeScale(),this.player.isMe&&!this.isSendTargetFish&&this.autoChooseFish(),this.checkDistanceFish(t),this.folowAndAtack(t)},r([m(cc.Node)],e.prototype,"nodeBullet",void 0),r([m(cc.Label)],e.prototype,"lbNickName",void 0),r([m(h.default)],e.prototype,"panelPoint",void 0),r([g],e)}(cc.Component);n.default=v,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Windown":void 0,"../Bullet/BulletMatThan":"BulletMatThan","../DeadBevhavior/PanelPoint":"PanelPoint","../Fish/FISH_TYPE":"FISH_TYPE","../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD"}],NotiFish:[function(t,e,n){"use strict";cc._RF.push(e,"4986cw4tMpMb6Q+ESkMFufi","NotiFish");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Game/GAME_TYPE"),a=t("../../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,u=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.description=null,e.isRuning=!1,e.listCache=[],e}return i(e,t),e.prototype.onLoad=function(){a.Windown.BigWinLobby.notiFish=this},e.prototype.onDestroy=function(){a.Windown.BigWinLobby.notiFish=null},e.prototype.addNotiShow=function(t){var e=this,n=t.get("gt"),o=t.get("dt"),i=t.get("nn"),r=t.get("mt");if(n==s.default.BongDem)if(this.isRuning)this.listCache.push(t);else{var c="";switch(o){case"24":c="\u0111\xe3 h\u1ea1 C\xe1 Voi Xanh";break;case"100":c="\u0111\xe3 N\u1ed4 H\u0168 C\xe1";break;case"101":c="\u0111\xe3 h\u1ea1 BOSS C\xe1 X\u1ea5u";break;case"103":c="\u0111\xe3 h\u1ea1 BOSS H\u1ecfa Long Qui";break;case"51":c="\u0111\xe3 h\u1ea1 Cua Laze";break;case"52":c="\u0111\xe3 h\u1ea1 Boom Nguy\xean T\u1eed";break;case"53":c="\u0111\xe3 h\u1ea1 T\xf4m M\u0169i Khoan";break;case"56":c="\u0111\xe3 h\u1ea1 Cua Quay";break;case"55":c="\u0111\xe3 h\u1ea1 Cua R\u1ed3ng";break;case"54":c="\u0111\xe3 h\u1ea1 Cua Si\xeau \xc2m";break;case"33":c="\u0111\xe3 h\u1ea1 BOSS H\u1ea3i Th\u1ea7n";break;case"28":c="\u0111\xe3 h\u1ea1 c\xe1 Th\u1ea7n T\xe0i";break;case"27":c="\u0111\xe3 h\u1ea1 C\xe1 M\u1eadp \u0110\u1ea1i D\u01b0\u01a1ng";break;case"102":c="\u0111\xe3 h\u1ea1 BOSS B\xf3ng \u0110\xeam";break;case"7":c="\u0111\xe3 d\xf9ng BOOM Nguy\xean T\u1eed";break;case"8":c="\u0111\xe3 d\xf9ng M\u1eaft Th\u1ea7n";break;case"9":c="\u0111\xe3 d\xf9ng \u0110inh Ba";break;case"70":case"71":case"72":case"73":c="\u0111\xe3 h\u1ea1 C\xe1 \u0110\u1eb7c Bi\u1ec7t";break;case"74":c="\u0111\xe3 h\u1ea1 C\xe1 \u0110I\u1ec6N"}if(""!=c){this.isRuning=!0;var l="Ch\xfac m\u1eebng ng\u01b0 d\xe2n </c><color=#0fffff> "+i+"</color> "+c+" thu \u0111\u01b0\u1ee3c <color=#FFF500> "+a.Windown.formatNumber(r)+"</color>";this.description.string=l,this.description.node.parent.active=!0,this.node.children[0].active=!0;var u=this.description.node.width,h=this.description.node.parent.width;this.description.node.x=100;var p=h+u,f=p/140;cc.Tween.stopAllByTarget(this.description.node),cc.tween(this.description.node).to(f,{x:-p}).delay(1).call(function(){e.isRuning=!1,e.listCache.length>0?e.addNotiShow(e.listCache.shift()):(e.description.node.parent.active=!1,e.node.children[0].active=!1)}).start()}}},r([u(cc.RichText)],e.prototype,"description",void 0),r([l],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../../Scritps/Game/GAME_TYPE":void 0,"../../../../Scritps/Windown":void 0}],PanelPoint:[function(t,e,n){"use strict";cc._RF.push(e,"8be8esEk+RKfLsC/LbSleUI","PanelPoint");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../../Scritps/Game/GAME_TYPE"),c=t("../../../../Scritps/Network/ConectManager"),l=t("../../../../Scritps/Obs/LbMoneyChange"),u=t("../../../../Scritps/Windown"),h=cc._decorator,p=h.ccclass,f=h.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isEnd=!1,e.moneyCurrent=0,e.lbMoney=null,e.listHandle=[],e.playerBD=null,e.idGun=-1,e.byFishType=-1,e.isDestroy=!1,e}return i(e,t),e.prototype.init=function(t,e,n){null!=t?(this.node.active=!0,this.node.x=0,this.byFishType=n,this.playerBD=t,this.idGun=e,this.playerBD.mapNodePanel.set(e,this.node),this.node.parent=this.playerBD.parentPanel,this.node.scale=0,this.node.opacity=255,this.node.stopAllActions(),this.node.runAction(cc.scaleTo(.3,1).easing(cc.easeBackOut())),this.reset()):this.actionEnd()},e.prototype.reset=function(){this.isDestroy||(this.listHandle=[],this.lbMoney.resetLb(),this.isEnd=!1,this.moneyCurrent=0)},e.prototype.addMoney=function(t){this.isDestroy||(this.moneyCurrent+=t,this.lbMoney&&this.lbMoney.setMoney(this.moneyCurrent))},e.prototype.addHandle=function(t){this.isDestroy||this.listHandle.push(t)},e.prototype.onDestroy=function(){this.isDestroy=!0},e.prototype.removeHandle=function(t){if(!this.isDestroy){var e=this.listHandle.indexOf(t);return e>-1&&this.listHandle.splice(e,1),this.listHandle.length<1&&this.isEnd&&this.actionEnd(),this.listHandle.length<1&&this.isEnd}},e.prototype.end=function(){this.isDestroy||(this.isEnd=!0,this.listHandle.length<1&&this.actionEnd())},e.prototype.actionEnd=function(){var t=this;if(this.playerBD&&this.playerBD.mapNodePanel.delete(this.idGun),this.moneyCurrent<1)this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){t.node.destroy()})));else{var e=u.Windown.FishBongDem.getSound();if(e.playEffect(e.caLonChet),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.scaleTo(.5,1.3),cc.scaleTo(.3,1),cc.delayTime(2.5),cc.fadeOut(.5),cc.callFunc(function(){t.node.destroy()}))),this.playerBD.isMe){var n=c.ConectManager.getIns().getSFSObj();n.putInt("gt",a.default.BongDem),n.putInt("mt",this.moneyCurrent),n.putUtfString("nn",this.playerBD.namePlayer),n.putUtfString("dt",this.byFishType.toString()),c.ConectManager.getIns().sendRequest(s.REQUEST_CODE.AddBigWin,n)}}},r([f(l.default)],e.prototype,"lbMoney",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../../Scritps/Game/GAME_TYPE":void 0,"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Obs/LbMoneyChange":void 0,"../../../../Scritps/Windown":void 0}],PlayerBDManager:[function(t,e,n){"use strict";cc._RF.push(e,"9008165f6NDWKxYeVEX28V8","PlayerBDManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../../Scritps/Windown"),i=t("./PlayerBD"),r=function(){function t(t){this.fishBD=null,this.listPlayer=[],this.vecLat=null,this.isInit=!1,this.fishBD=t}return t.prototype.getPlayerById=function(t){for(var e=0,n=this.listPlayer;e<n.length;e++){var o=n[e];if(o.acountId==t)return o}return null},t.prototype.getPlayerByStingId=function(t){for(var e=0,n=this.listPlayer;e<n.length;e++){var o=n[e];if(o.playerId==t)return o}return null},t.prototype.initListPlayer=function(t){cc.log(o.Windown.SFSArrToJson(t));for(var e=0,n=t.size();e<n;e++)if((r=t.getSFSObject(e)).getInt("id")==o.Windown.User.userId){o.Windown.FishBongDem.playerIdMe=r.getInt("SittingId"),o.Windown.FishBongDem.setVeclat();break}for(e=0,n=t.size();e<n;e++){var r=t.getSFSObject(e),s=this.fishBD.pool.getPlayer();s.parent=this.fishBD.fishBDView.parentPlayer;var a=s.getComponent(i.default);a.setPlayerMng(this),a.initPlayer(r,this.getSiting(r.getInt("SittingId"))),this.listPlayer.push(a)}},t.prototype.addPlayer=function(t){var e=t.getInt("id");if(e!=o.Windown.User.userId&&null!=this.fishBD.playerIdMe&&null==this.getPlayerById(e)){var n=this.fishBD.pool.getPlayer();n.parent=this.fishBD.fishBDView.parentPlayer;var r=n.getComponent(i.default);r.setPlayerMng(this),r.initPlayer(t,this.getSiting(t.getInt("SittingId"))),this.listPlayer.push(r)}},t.prototype.removePlayer=function(t){var e=this.getPlayerByStingId(t);if(e){var n=this.listPlayer.indexOf(e);this.listPlayer.splice(n,1),e.reset()}},t.prototype.putPlayerViewPool=function(t){this.fishBD.pool.putPlayer(t)},t.prototype.destroy=function(){this.listPlayer.forEach(function(t){t.reset()}),this.listPlayer=[]},t.prototype.getSiting=function(t){return t==this.fishBD.playerIdMe?this.convertIdMe(t):this.convertIdOther(t)},t.prototype.convertIdMe=function(t){switch(t){case 3:return 2;case 4:return 1;default:return t}},t.prototype.convertIdOther=function(t){if(this.fishBD.playerIdMe<3)return t;switch(t){case 1:return 4;case 2:return 3;case 3:return 2;case 4:return 1}},t}();n.default=r,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"./PlayerBD":"PlayerBD"}],PlayerBD:[function(t,e,n){"use strict";cc._RF.push(e,"13e32sMUcRKm5YdpqwA/nqC","PlayerBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./BasePlayerBD"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([c],e)}(s.default));n.default=l,cc._RF.pop()},{"./BasePlayerBD":"BasePlayerBD"}],PlayerUsingAuto:[function(t,e,n){"use strict";cc._RF.push(e,"bacecolXs5BdYhcELhjX94x","PlayerUsingAuto");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../../Scritps/Windown"),a=t("../../Gun/GUN_TYPE_BD"),c=t("./BaseEffectPlayer"),l=t("./ThuocKeAuto"),u=cc._decorator,h=u.ccclass,p=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentColider=null,e.currentFishTarget=null,e.thuocKe=null,e}return i(e,t),e.prototype.onLoad=function(){this.node.setPosition(0,0),this.thuocKe.ext=this},e.prototype.excuted=function(){this.node.parent=s.Windown.FishBongDem.fishBDView.parentPlayer,this.thuocKe.node.setPosition(this.player.gunFishBd.pointInScreen),s.Windown.FishBongDem.fishBDView.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this)},e.prototype.touchStart=function(t){for(var e=t.getLocation(),n=s.Windown.FishBongDem.fishMng.getMapFish().values(),o=n.next();!o.done;){var i=o.value;o=n.next();for(var r=0,a=i.getListColider();r<a.length;r++){var c=a[r];if(this.currentColider!=c&&c.world&&c.world.points&&cc.Intersection.pointInPolygon(e,c.world.points))return void this.targetFish(i,c)}}},e.prototype.autoGetNewFishTarget=function(){if(this.player.getCanAuto()){var t=s.Windown.FishBongDem.fishMng.getMapFish().values(),e=t.next(),n=null,o=null;if(this.player.gunFishBd.stateGun.type==a.default.SET){for(var i=0;!e.done;){var r=e.value;if(e=t.next(),r.fishType>i){var c=r.getColiderInScreen();c&&(i=r.fishType,n=r,o=c)}}n&&o&&this.targetFish(n,o)}else for(var l=99999;!e.done;){r=e.value,e=t.next();for(var u=0,h=r.getListColider();u<h.length;u++){var p=h[u];if(p!=this.currentColider){var f=r.checkColiderInScreen(p);if(f){var d=cc.Vec2.distance(f,this.player.gunFishBd.pointInScreen);d<l&&(l=d,n=r,o=p)}}}}n&&o&&this.targetFish(n,o)}},e.prototype.targetFish=function(t,e){this.currentFishTarget=t,this.currentColider=e,this.player.gunFishBd.stateGun.type==a.default.SET?this.player.gunFishBd.stateGun.setFishIdTarget(this.currentFishTarget.fishId,this.currentFishTarget.getListColider().indexOf(e)):this.thuocKe.setIdTarget(t.fishId)},e.prototype.getNewColider=function(){var t=this.currentFishTarget.getColiderInScreen(this.currentColider);t?(this.currentColider=t,this.player.gunFishBd.stateGun.type==a.default.SET&&this.player.gunFishBd.stateGun.setFishIdTarget(this.currentFishTarget.fishId,this.currentFishTarget.getListColider().indexOf(t))):this.offTarget()},e.prototype.offTarget=function(){this.currentFishTarget=null,this.currentColider=null,this.player&&this.player.node&&this.player.gunFishBd&&this.player.gunFishBd.node&&(this.player.gunFishBd.stateGun.cancleAtack(),this.player.gunFishBd.stateGun.type==a.default.SET&&this.player&&this.player.node&&this.player.gunFishBd&&this.player.gunFishBd.node&&this.player.gunFishBd.stateGun.offTarget()),this.thuocKe.setIdTarget(-1)},e.prototype.checkColiderInScreen=function(){if(this.currentFishTarget.getCanColision()&&this.player.getCanAuto()){var t=this.currentColider.node.parent.convertToWorldSpaceAR(this.currentColider.node.getPosition()),e=s.Windown.FishBongDem.fishBDView.parentEffect.convertToNodeSpaceAR(t),n=cc.Vec2.distance(e,this.player.gunFishBd.pointInScreen),o=this.player.gunFishBd.stateGun.speedBullet,i=this.currentFishTarget.getPointInFuture(n/o,this.currentColider);i.x>640||i.x<-640||i.y>360||i.y<-360?this.getNewColider():this.player.gunFishBd.stateGun.type!=a.default.SET?(this.player.gunFishBd.stateGun.rotate(i),this.thuocKe.targetPoint(e)):this.player.gunFishBd.stateGun.setFishIdTarget(this.currentFishTarget.fishId,this.currentFishTarget.getListColider().indexOf(this.currentColider))}else this.currentFishTarget=null},e.prototype.update=function(e){e*=cc.director.getScheduler().getTimeScale(),null==this.currentFishTarget&&this.autoGetNewFishTarget(),null!=this.currentColider&&null!=this.currentFishTarget&&this.checkColiderInScreen(),t.prototype.update.call(this,e)},e.prototype.end=function(){this.offTarget(),s.Windown.FishBongDem.fishBDView.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.player.timeItemAuto=0,s.Windown.FishBongDem.fishBDView.camMay.disableToggle(),t.prototype.end.call(this)},r([p(l.default)],e.prototype,"thuocKe",void 0),r([h],e)}(c.default);n.default=f,cc._RF.pop()},{"../../../../../Scritps/Windown":void 0,"../../Gun/GUN_TYPE_BD":"GUN_TYPE_BD","./BaseEffectPlayer":"BaseEffectPlayer","./ThuocKeAuto":"ThuocKeAuto"}],PlayerUsingIce:[function(t,e,n){"use strict";cc._RF.push(e,"048d1seqndAf4o5exYcp2qg","PlayerUsingIce");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../../Scritps/Windown"),a=t("./BaseEffectPlayer"),c=cc._decorator,l=c.ccclass,u=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spIce=null,e}return i(e,t),e.prototype.excuted=function(){var t=this;this.node.parent=s.Windown.FishBongDem.fishBDView.parentEffect,this.node.setPosition(this.player.gunFishBd.pointInScreen),this.node.y+=50,this.spIce.node.active=!0,this.spIce.setAnimation(0,"animation",!1),this.scheduleOnce(function(){t.spIce.node.active=!1},3)},e.prototype.end=function(){t.prototype.end.call(this)},r([u(sp.Skeleton)],e.prototype,"spIce",void 0),r([l],e)}(a.default);n.default=h,cc._RF.pop()},{"../../../../../Scritps/Windown":void 0,"./BaseEffectPlayer":"BaseEffectPlayer"}],PlayerUsingSpeed:[function(t,e,n){"use strict";cc._RF.push(e,"bedc9G4Nu5Lbo6WUp7m5rta","PlayerUsingSpeed");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../../Scritps/Windown"),a=t("./BaseEffectPlayer"),c=cc._decorator,l=c.ccclass,u=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=null,e.spFire=null,e}return i(e,t),e.prototype.excuted=function(){this.node.parent=s.Windown.FishBongDem.fishBDView.parentPlayer,this.node.zIndex=cc.macro.MIN_ZINDEX,this.node.setPosition(this.player.gunFishBd.pointInScreen),this.node.y=this.node.y-10,this.player.playerSiting>2?(this.node.y-=50,this.spFire.node.angle=180,this.title.y=-100):(this.node.y+=50,this.spFire.node.angle=0,this.title.y=100),this.spFire.fillRange=0,cc.Tween.stopAllByTarget(this.spFire),cc.tween(this.spFire).to(.3,{fillRange:1}).start(),this.title.scale=0,this.title.opacity=255,cc.Tween.stopAllByTarget(this.title),cc.tween(this.title).to(.6,{scale:1},{easing:"backOut"}).delay(1).by(1,{y:100,opacity:-500}).start(),this.getComponent(cc.Animation).play("Speed"),this.player.gunFishBd.stateGun.setTimeDelayMax();var t=cc.find("fish_cannon_1_head",this.player.gunFishBd.stateGun.nodeGun),e=cc.find("fish_cannon_1_body",this.player.gunFishBd.stateGun.nodeGun);t&&(t.color=cc.Color.RED),e&&(e.color=cc.Color.RED)},e.prototype.update=function(e){e*=cc.director.getScheduler().getTimeScale(),this.player.gunFishBd.stateGun.setTimeDelayMax(),t.prototype.update.call(this,e)},e.prototype.end=function(){var e=cc.find("fish_cannon_1_head",this.player.gunFishBd.stateGun.nodeGun),n=cc.find("fish_cannon_1_body",this.player.gunFishBd.stateGun.nodeGun);e&&(e.color=cc.Color.WHITE),n&&(n.color=cc.Color.WHITE),this.player.gunFishBd.stateGun.setTimeDelayNormarl(),t.prototype.end.call(this)},r([u(cc.Node)],e.prototype,"title",void 0),r([u(cc.Sprite)],e.prototype,"spFire",void 0),r([l],e)}(a.default);n.default=h,cc._RF.pop()},{"../../../../../Scritps/Windown":void 0,"./BaseEffectPlayer":"BaseEffectPlayer"}],PlayerUsingTarget:[function(t,e,n){"use strict";cc._RF.push(e,"c5914zGNrRKF40+XtxuQrDG","PlayerUsingTarget");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../../Scritps/Windown"),a=t("../../Gun/GUN_TYPE_BD"),c=t("./BaseEffectPlayer"),l=cc._decorator,u=l.ccclass,h=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeEffect=null,e.nodeTitle=null,e.currentColider=null,e.itemTarget=null,e.currentFishTarget=null,e.listImgPointHuong=[],e}return i(e,t),e.prototype.onLoad=function(){this.nodeEffect.runAction(cc.repeatForever(cc.rotateBy(2,360)))},e.prototype.touchStart=function(t){for(var e=t.getLocation(),n=s.Windown.FishBongDem.fishMng.getMapFish().values(),o=n.next();!o.done;){var i=o.value;o=n.next();for(var r=0,a=i.getListColider();r<a.length;r++){var c=a[r];if(this.currentColider!=c&&c.world&&c.world.points&&cc.Intersection.pointInPolygon(e,c.world.points))return cc.log("click dc colider nay"),void this.targetFish(i,c)}}},e.prototype.creatTarget=function(){for(var t=s.Windown.FishBongDem.fishBDView.parentEffect,e=0;e<10;e++){var n=s.Windown.FishBongDem.pool.getItemPointTarget();n.parent=t,n.zIndex=cc.macro.MAX_ZINDEX,this.listImgPointHuong.push(n)}},e.prototype.autoGetNewFishTarget=function(){if(this.player.getCanTarget()){for(var t=s.Windown.FishBongDem.fishMng.getMapFish().values(),e=t.next(),n=null,o=null,i=0;!e.done;){var r=e.value;if(e=t.next(),r.fishType>i){var a=r.getColiderInScreen();a&&(i=r.fishType,n=r,o=a)}}n&&o&&this.targetFish(n,o)}},e.prototype.targetFish=function(t,e){this.currentFishTarget==t&&this.currentColider==e||(this.currentFishTarget=t,this.currentColider=e,null==this.itemTarget&&(this.itemTarget=s.Windown.FishBongDem.pool.getItemTarget()),this.listImgPointHuong.length<1&&this.creatTarget(),this.itemTarget.getComponent(sp.Skeleton).setAnimation(0,"aim",!1),this.itemTarget.stopAllActions(),this.itemTarget.parent=s.Windown.FishBongDem.fishBDView.parentEffect,cc.tween(this.itemTarget).by(1,{angle:-180}).repeatForever().start(),s.Windown.FishBongDem.getSound().playTarget(),this.player.gunFishBd.stateGun.setFishIdTarget(this.currentFishTarget.fishId,this.currentFishTarget.getListColider().indexOf(e)))},e.prototype.checkColiderInScreen=function(){if(this.currentFishTarget.getCanColision()&&this.player.getCanTarget()){var t=this.currentFishTarget.checkColiderInScreen(this.currentColider);if(t){this.player.gunFishBd.stateGun.type==a.default.SET&&this.player.gunFishBd.stateGun.setFishIdTarget(this.currentFishTarget.fishId,this.currentFishTarget.getListColider().indexOf(this.currentColider)),this.itemTarget.setPosition(t);for(var e=this.listImgPointHuong.length,n=0;n<e;n++){var o=this.listImgPointHuong[n],i=cc.v2(0,0);i=cc.Vec2.lerp(i,this.player.gunFishBd.pointInScreen,t,n/e),o.setPosition(i)}this.player.gunFishBd.stateGun.rotate(t)}else this.getNewColider()}else this.offTarget()},e.prototype.getNewColider=function(){var t=this.currentFishTarget.getColiderInScreen(this.currentColider);t&&(this.currentColider=t,this.player.gunFishBd.stateGun.setFishIdTarget(this.currentFishTarget.fishId,this.currentFishTarget.getListColider().indexOf(t))),this.offTarget()},e.prototype.excuted=function(){this.currentFishTarget=null,this.currentColider=null,this.nodeTitle.scale=0,this.player.playerSiting>2?this.nodeTitle.y=-150:this.nodeTitle.y=150,this.nodeTitle.scale=0,this.nodeTitle.opacity=255,cc.Tween.stopAllByTarget(this.nodeTitle),cc.tween(this.nodeTitle).to(.6,{scale:1},{easing:"backOut"}).delay(1).by(1,{y:100,opacity:-500}).start(),this.node.parent=s.Windown.FishBongDem.fishBDView.parentPlayer,this.node.zIndex=cc.macro.MIN_ZINDEX,this.node.setPosition(this.player.gunFishBd.pointInScreen),this.player.isMe&&s.Windown.FishBongDem.fishBDView.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this)},e.prototype.update=function(e){e*=cc.director.getScheduler().getTimeScale(),null==this.currentFishTarget&&this.player.isMe&&this.autoGetNewFishTarget(),null==this.currentColider&&null!=this.itemTarget?this.offTarget():null!=this.currentColider&&null!=this.currentFishTarget&&this.checkColiderInScreen(),t.prototype.update.call(this,e)},e.prototype.offTarget=function(){this.currentFishTarget=null,this.currentColider=null,this.itemTarget&&s.Windown.FishBongDem.pool.putItemTarget(this.itemTarget),this.itemTarget=null;for(var t=0,e=this.listImgPointHuong.length;t<e;t++){var n=this.listImgPointHuong[t];s.Windown.FishBongDem.pool.putItemPointTarget(n)}this.listImgPointHuong.length=0,this.player&&this.player.node&&this.player.gunFishBd&&this.player.gunFishBd.node&&(this.player.gunFishBd.stateGun.cancleAtack(),this.player.gunFishBd.stateGun.setFishIdTarget(-1,-1),this.player.gunFishBd.stateGun.type==a.default.SET&&this.player.gunFishBd.stateGun.offTarget())},e.prototype.end=function(){this.offTarget(),this.player&&this.player.isMe&&s.Windown.FishBongDem.fishBDView.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),t.prototype.end.call(this)},r([h(cc.Node)],e.prototype,"nodeEffect",void 0),r([h(cc.Node)],e.prototype,"nodeTitle",void 0),r([u],e)}(c.default);n.default=p,cc._RF.pop()},{"../../../../../Scritps/Windown":void 0,"../../Gun/GUN_TYPE_BD":"GUN_TYPE_BD","./BaseEffectPlayer":"BaseEffectPlayer"}],PoolBongDem:[function(t,e,n){"use strict";cc._RF.push(e,"8334028OdNFspwrcIB3AL/z","PoolBongDem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=t("../Player/Effect/PlayerUsingAuto"),c=t("../Player/Effect/PlayerUsingIce"),l=t("../Player/Effect/PlayerUsingSpeed"),u=t("../Player/Effect/PlayerUsingTarget"),h=t("../Player/Effect/TypePlayerEffectBD"),p=cc._decorator,f=p.ccclass,d=p.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeCoin=null,e.nodeTextMoney=null,e.nodeTextMoneyRd=null,e.nodeTextMoneyMini=null,e.nodePlayer=null,e.nodeEffectIce=null,e.nodeEffectSpeed=null,e.nodeEffectTarget=null,e.nodeEffectAuto=null,e.nodeItemTarget=null,e.nodeItemPoint=null,e.nodeGunNormal=null,e.nodeGunLaze=null,e.nodeGunSet=null,e.nodeGunSongAm=null,e.nodeGunMuiKhoan=null,e.nodeGunFire=null,e.nodePanelPointLaze=null,e.nodePanelPointBoom=null,e.nodePanelPointSongAm=null,e.nodePanelPointMuiKhoan=null,e.nodePanelPointCaXau=null,e.nodePanelPointTruyGai=null,e.nodePanelPointRua=null,e.nodePanelPointHaiThan=null,e.nodePanelPointGunFire=null,e.nodeBulletMuiKhoan=null,e.nodeVaChamMuiKhoan=null,e.nodeEfGiatSet=null,e.nodeEfTrieuHoi=null,e.nodeEfCaXauDead=null,e.nodeEfTruyGaiDead=null,e.nodeEfRuaDead=null,e.listSpItemMiniBoss=[],e.listSpItemFish=[],e.nodeMutilReward=null,e.nodeLocXoay=null,e.nodeBigFish=null,e.nodeEfGunFire=null,e.nodeCrabVongQuay=null,e.countItem=null,e.txtTrieuHoi=null,e.effectSetFish74=null,e.panelFish74=null,e.poolCoin=new cc.NodePool,e.poolTextMoney=new cc.NodePool,e.poolTextMoneyRD=new cc.NodePool,e.poolTextMoneyMini=new cc.NodePool,e.poolPlayer=new cc.NodePool,e.poolEffectIce=new cc.NodePool,e.poolEffectSpeed=new cc.NodePool,e.poolEffectTarget=new cc.NodePool,e.poolEffectAuto=new cc.NodePool,e.poolItemTarget=new cc.NodePool,e.poolItemPoint=new cc.NodePool,e.poolGunLaze=new cc.NodePool,e.poolGunNormal=new cc.NodePool,e.poolGunSongAm=new cc.NodePool,e.poolGunSet=new cc.NodePool,e.poolGunMuiKhoan=new cc.NodePool,e.poolGunFire=new cc.NodePool,e.poolPanelPointLaze=new cc.NodePool,e.poolPanelPointBoom=new cc.NodePool,e.poolPanelPointSongAm=new cc.NodePool,e.poolPanelPointMuiKhoan=new cc.NodePool,e.poolPanelPointGunFire=new cc.NodePool,e.poolPanelPointCaXau=new cc.NodePool,e.poolPanelPointHaiThan=new cc.NodePool,e.poolPanelPointTruyGai=new cc.NodePool,e.poolPanelPointRua=new cc.NodePool,e.poolBulletMuiKhoan=new cc.NodePool,e.poolVaChamMuiKhoan=new cc.NodePool,e.poolEfGiatSet=new cc.NodePool,e.poolEfTrieuHoi=new cc.NodePool,e.poolEfCaXauDead=new cc.NodePool,e.poolEfTruyGaiDead=new cc.NodePool,e.poolEfRuaDead=new cc.NodePool,e.poolItemMiniBoss=new cc.NodePool,e.poolMultilReward=new cc.NodePool,e.poolLocXoay=new cc.NodePool,e.poolBigFish=new cc.NodePool,e.poolEfGunFire=new cc.NodePool,e.poolItemTakeFish=new cc.NodePool,e}return i(e,t),e.prototype.onLoad=function(){s.Windown.FishBongDem&&s.Windown.FishBongDem.setPool(this)},e.prototype.getCoin=function(t){var e=null;e=this.poolCoin.size()>0?this.poolCoin.get():cc.instantiate(this.nodeCoin);var n;return n=t?cc.Material.getBuiltinMaterial("2d-sprite"):cc.Material.getBuiltinMaterial("2d-gray-sprite"),e.getComponent(cc.Sprite).setMaterial(0,n),e.active=!0,e},e.prototype.putCoin=function(t){this.poolCoin.put(t)},e.prototype.getTextMoney=function(t){var e=null;e=this.poolTextMoney.size()>0?this.poolTextMoney.get():cc.instantiate(this.nodeTextMoney);var n;return n=t?cc.Material.getBuiltinMaterial("2d-sprite"):cc.Material.getBuiltinMaterial("2d-gray-sprite"),e.getComponent(cc.Label).setMaterial(0,n),e.active=!0,e},e.prototype.putTextMoney=function(t){this.poolTextMoney.put(t)},e.prototype.getTextMoneyRd=function(t){var e=null;e=this.poolTextMoneyRD.size()>0?this.poolTextMoneyRD.get():cc.instantiate(this.nodeTextMoneyRd);var n;return n=t?cc.Material.getBuiltinMaterial("2d-sprite"):cc.Material.getBuiltinMaterial("2d-gray-sprite"),e.getComponent(cc.Label).setMaterial(0,n),e.active=!0,e},e.prototype.putTextMoneyRd=function(t){this.poolTextMoneyRD.put(t)},e.prototype.getTextMoneyMini=function(t){var e=null;this.poolTextMoneyMini.size()>0?e=this.poolTextMoneyMini.get():(e=cc.instantiate(this.nodeTextMoneyMini)).name="TextMoneyMini";var n;return n=t?cc.Material.getBuiltinMaterial("2d-sprite"):cc.Material.getBuiltinMaterial("2d-gray-sprite"),e.getComponent(cc.Label).setMaterial(0,n),e.active=!0,e},e.prototype.putTextMoneyMini=function(t){this.poolTextMoneyMini.put(t)},e.prototype.getPlayer=function(){var t=null;return(t=this.poolPlayer.size()>0?this.poolPlayer.get():cc.instantiate(this.nodePlayer)).active=!0,t},e.prototype.putPlayer=function(t){this.poolPlayer.put(t)},e.prototype.getItemTarget=function(){var t=null;return(t=this.poolItemTarget.size()>0?this.poolItemTarget.get():cc.instantiate(this.nodeItemTarget)).active=!0,t},e.prototype.putItemTarget=function(t){this.poolItemTarget.put(t)},e.prototype.getItemPointTarget=function(){var t=null;return(t=this.poolItemPoint.size()>0?this.poolItemPoint.get():cc.instantiate(this.nodeItemPoint)).active=!0,t},e.prototype.putItemPointTarget=function(t){this.poolItemPoint.put(t)},e.prototype.getEffectPlayer=function(t){var e=null,n=null,o=null;switch(t){case h.default.ICE:e=this.poolEffectIce,n=this.nodeEffectIce;break;case h.default.SPEED:e=this.poolEffectSpeed,n=this.nodeEffectSpeed;break;case h.default.TARGET:e=this.poolEffectTarget,n=this.nodeEffectTarget;break;case h.default.AUTO:e=this.poolEffectAuto,n=this.nodeEffectAuto}return e?((o=e.size()>0?e.get():cc.instantiate(n.node)).active=!0,o):null},e.prototype.putEffectPlayer=function(t){var e=null;t instanceof c.default?e=this.poolEffectIce:t instanceof l.default?e=this.poolEffectSpeed:t instanceof u.default?e=this.poolEffectTarget:t instanceof a.default&&(e=this.poolEffectAuto),e&&e.put(t.node)},e.prototype.getGunLaze=function(){var t=null;return(t=this.poolGunLaze.size()>0?this.poolGunLaze.get():cc.instantiate(this.nodeGunLaze)).active=!0,t},e.prototype.putGunLaze=function(t){this.poolGunLaze.put(t)},e.prototype.getGunNormal=function(){var t=null;return(t=this.poolGunNormal.size()>0?this.poolGunNormal.get():cc.instantiate(this.nodeGunNormal)).active=!0,t},e.prototype.putGunNormal=function(t){this.poolGunNormal.put(t)},e.prototype.getGunSongAm=function(){var t=null;return(t=this.poolGunSongAm.size()>0?this.poolGunSongAm.get():cc.instantiate(this.nodeGunSongAm)).active=!0,t},e.prototype.putGunSongAm=function(t){this.poolGunSongAm.put(t)},e.prototype.getGunSet=function(){var t=null;return(t=this.poolGunSet.size()>0?this.poolGunSet.get():cc.instantiate(this.nodeGunSet)).active=!0,t},e.prototype.putGunSet=function(t){this.poolGunSet.put(t)},e.prototype.getGunMuiKhoan=function(){var t=null;return(t=this.poolGunMuiKhoan.size()>0?this.poolGunMuiKhoan.get():cc.instantiate(this.nodeGunMuiKhoan)).active=!0,t},e.prototype.putGunMuiKhoan=function(t){this.poolGunMuiKhoan.put(t)},e.prototype.getGunFire=function(){var t=null;return(t=this.poolGunFire.size()>0?this.poolGunFire.get():cc.instantiate(this.nodeGunFire)).active=!0,t},e.prototype.putGunFire=function(t){this.poolGunFire.put(t)},e.prototype.getPanelLaze=function(){var t=null;return(t=this.poolPanelPointLaze.size()>0?this.poolPanelPointLaze.get():cc.instantiate(this.nodePanelPointLaze)).x=0,t.active=!0,t},e.prototype.putPanelLaze=function(t){this.poolPanelPointLaze.put(t)},e.prototype.getPanelBoom=function(){var t=null;return(t=this.poolPanelPointBoom.size()>0?this.poolPanelPointBoom.get():cc.instantiate(this.nodePanelPointBoom)).x=0,t.active=!0,t},e.prototype.putPanelBoom=function(t){this.poolPanelPointBoom.put(t)},e.prototype.getPanelSongAm=function(){var t=null;return(t=this.poolPanelPointSongAm.size()>0?this.poolPanelPointSongAm.get():cc.instantiate(this.nodePanelPointSongAm)).x=0,t.active=!0,t},e.prototype.putPanelSongAm=function(t){this.poolPanelPointSongAm.put(t)},e.prototype.getPanelMuiKhoan=function(){var t=null;return(t=this.poolPanelPointMuiKhoan.size()>0?this.poolPanelPointMuiKhoan.get():cc.instantiate(this.nodePanelPointMuiKhoan)).x=0,t.active=!0,t},e.prototype.putPanelMuiKhoan=function(t){this.poolPanelPointMuiKhoan.put(t)},e.prototype.getPanelGunFire=function(){var t=null;return(t=this.poolPanelPointGunFire.size()>0?this.poolPanelPointGunFire.get():cc.instantiate(this.nodePanelPointGunFire)).x=0,t.active=!0,t},e.prototype.putPanelGunFire=function(t){this.poolPanelPointGunFire.put(t)},e.prototype.getTxtTrieuHoi=function(){var t=cc.instantiate(this.txtTrieuHoi);return t.active=!0,t},e.prototype.getPanelCaXau=function(){var t=null;return(t=this.poolPanelPointCaXau.size()>0?this.poolPanelPointCaXau.get():cc.instantiate(this.nodePanelPointCaXau)).x=0,t.active=!0,t},e.prototype.putPanelCaXau=function(t){this.poolPanelPointCaXau.put(t)},e.prototype.getPanelHaiThan=function(){var t=null;return(t=this.poolPanelPointHaiThan.size()>0?this.poolPanelPointHaiThan.get():cc.instantiate(this.nodePanelPointHaiThan)).x=0,t.active=!0,t},e.prototype.putPanelHaiThan=function(t){this.poolPanelPointHaiThan.put(t)},e.prototype.getPanelTruyGai=function(){var t=null;return(t=this.poolPanelPointTruyGai.size()>0?this.poolPanelPointTruyGai.get():cc.instantiate(this.nodePanelPointTruyGai)).x=0,t.active=!0,t},e.prototype.putPanelTruyGai=function(t){this.poolPanelPointTruyGai.put(t)},e.prototype.getPanelRua=function(){var t=null;return(t=this.poolPanelPointRua.size()>0?this.poolPanelPointRua.get():cc.instantiate(this.nodePanelPointRua)).x=0,t.active=!0,t},e.prototype.putPanelRua=function(t){this.poolPanelPointRua.put(t)},e.prototype.getBulletMuiKhoan=function(){var t=null;return(t=this.poolBulletMuiKhoan.size()>0?this.poolBulletMuiKhoan.get():cc.instantiate(this.nodeBulletMuiKhoan)).x=0,t.active=!0,t},e.prototype.putBulletMuiKhoan=function(t){this.poolBulletMuiKhoan.put(t)},e.prototype.getVaChamMuiKhoan=function(){var t=null;return(t=this.poolVaChamMuiKhoan.size()>0?this.poolVaChamMuiKhoan.get():cc.instantiate(this.nodeVaChamMuiKhoan)).x=0,t.active=!0,t},e.prototype.putVaChamMuiKhoan=function(t){this.poolVaChamMuiKhoan.put(t)},e.prototype.getEfGiatSet=function(){var t=null;return(t=this.poolEfGiatSet.size()>0?this.poolEfGiatSet.get():cc.instantiate(this.nodeEfGiatSet)).x=0,t.active=!0,t},e.prototype.putEfGiatSet=function(t){this.poolEfGiatSet.put(t)},e.prototype.getEfTrieuHoi=function(){var t=null;return(t=this.poolEfTrieuHoi.size()>0?this.poolEfTrieuHoi.get():cc.instantiate(this.nodeEfTrieuHoi)).x=0,t.active=!0,t},e.prototype.putEfTrieuHoi=function(t){this.poolEfTrieuHoi.put(t)},e.prototype.getEfCaXauDead=function(){var t=null;return(t=this.poolEfCaXauDead.size()>0?this.poolEfCaXauDead.get():cc.instantiate(this.nodeEfCaXauDead)).x=0,t.active=!0,t},e.prototype.putEfCaXauDead=function(t){this.poolEfCaXauDead.put(t)},e.prototype.getEfTruyGaiDead=function(){var t=null;return(t=this.poolEfTruyGaiDead.size()>0?this.poolEfTruyGaiDead.get():cc.instantiate(this.nodeEfTruyGaiDead)).x=0,t.active=!0,t},e.prototype.putEfTruyGaiDead=function(t){this.poolEfTruyGaiDead.put(t)},e.prototype.getEfRuaDead=function(){var t=null;return(t=this.poolEfRuaDead.size()>0?this.poolEfRuaDead.get():cc.instantiate(this.nodeEfRuaDead)).x=0,t.active=!0,t},e.prototype.putEfRuaDead=function(t){this.poolEfRuaDead.put(t)},e.prototype.getItemMiniBoss=function(t){var e=null;return this.poolItemMiniBoss.size()>0?e=this.poolItemMiniBoss.get():(e=new cc.Node).addComponent(cc.Sprite),e.getComponent(cc.Sprite).spriteFrame=this.listSpItemMiniBoss[t],e},e.prototype.putItemMiniBoss=function(t){this.poolItemMiniBoss.put(t)},e.prototype.getMutilReward=function(){var t=null;return(t=this.poolMultilReward.size()>0?this.poolMultilReward.get():cc.instantiate(this.nodeMutilReward)).x=0,t.active=!0,t},e.prototype.putMutilReward=function(t){this.poolMultilReward.put(t)},e.prototype.getCrabVongQuay=function(){var t=null;return(t=cc.instantiate(this.nodeCrabVongQuay)).active=!0,t},e.prototype.getLocXoay=function(){var t=null;return(t=this.poolLocXoay.size()>0?this.poolLocXoay.get():cc.instantiate(this.nodeLocXoay)).x=0,t.active=!0,t},e.prototype.putLocXoay=function(t){this.poolLocXoay.put(t)},e.prototype.getBigFish=function(){var t=null;return(t=this.poolBigFish.size()>0?this.poolBigFish.get():cc.instantiate(this.nodeBigFish)).x=0,t.active=!0,t},e.prototype.putBigFish=function(t){this.poolBigFish.put(t)},e.prototype.getEfGunFire=function(){var t=null;return(t=this.poolEfGunFire.size()>0?this.poolEfGunFire.get():cc.instantiate(this.nodeEfGunFire)).x=0,t.active=!0,t},e.prototype.putEfGunFire=function(t){this.poolEfGunFire.put(t)},e.prototype.getItemTakeFish=function(t){var e=null;return this.poolItemTakeFish.size()>0?e=this.poolItemTakeFish.get():((e=new cc.Node).addComponent(cc.Sprite),e.scale=.5),t>=100?(e.getComponent(cc.Sprite).spriteFrame=this.listSpItemFish[t-100+4],e.scale=.5):(e.getComponent(cc.Sprite).spriteFrame=this.listSpItemFish[t-1],e.scale=.5),e},e.prototype.putItemTakeFish=function(t){this.poolItemTakeFish.put(t)},e.prototype.getCountItem=function(){var t=cc.instantiate(this.countItem);return t.active=!0,t},e.prototype.getEffectFishSet74=function(){var t=cc.instantiate(this.effectSetFish74);return t.active=!0,t},e.prototype.getPanelFish74=function(){var t=cc.instantiate(this.panelFish74);return t.active=!0,t},e.prototype.onDestroy=function(){this.poolCoin.clear(),this.poolTextMoney.clear(),this.poolTextMoneyRD.clear(),this.poolTextMoneyMini.clear(),this.poolPlayer.clear(),this.poolEffectIce.clear(),this.poolEffectSpeed.clear(),this.poolEffectTarget.clear(),this.poolEffectAuto.clear(),this.poolItemTarget.clear(),this.poolItemPoint.clear(),this.poolGunLaze.clear(),this.poolGunSongAm.clear(),this.poolGunNormal.clear(),this.poolGunMuiKhoan.clear(),this.poolGunFire.clear(),this.poolPanelPointLaze.clear(),this.poolPanelPointBoom.clear(),this.poolPanelPointSongAm.clear(),this.poolPanelPointMuiKhoan.clear(),this.poolPanelPointGunFire.clear(),this.poolBulletMuiKhoan.clear(),this.poolVaChamMuiKhoan.clear(),this.poolGunSet.clear(),this.poolEfGiatSet.clear(),this.poolPanelPointCaXau.clear(),this.poolPanelPointHaiThan.clear(),this.poolPanelPointTruyGai.clear(),this.poolPanelPointRua.clear(),this.poolEfCaXauDead.clear(),this.poolEfTruyGaiDead.clear(),this.poolEfRuaDead.clear(),this.poolItemMiniBoss.clear(),this.poolMultilReward.clear(),this.poolLocXoay.clear(),this.poolBigFish.clear(),this.poolEfGunFire.clear(),this.poolItemTakeFish.clear(),this.poolEfTrieuHoi.clear()},r([d(cc.Node)],e.prototype,"nodeCoin",void 0),r([d(cc.Node)],e.prototype,"nodeTextMoney",void 0),r([d(cc.Node)],e.prototype,"nodeTextMoneyRd",void 0),r([d(cc.Node)],e.prototype,"nodeTextMoneyMini",void 0),r([d(cc.Node)],e.prototype,"nodePlayer",void 0),r([d(c.default)],e.prototype,"nodeEffectIce",void 0),r([d(l.default)],e.prototype,"nodeEffectSpeed",void 0),r([d(u.default)],e.prototype,"nodeEffectTarget",void 0),r([d(a.default)],e.prototype,"nodeEffectAuto",void 0),r([d(cc.Node)],e.prototype,"nodeItemTarget",void 0),r([d(cc.Node)],e.prototype,"nodeItemPoint",void 0),r([d(cc.Node)],e.prototype,"nodeGunNormal",void 0),r([d(cc.Node)],e.prototype,"nodeGunLaze",void 0),r([d(cc.Node)],e.prototype,"nodeGunSet",void 0),r([d(cc.Node)],e.prototype,"nodeGunSongAm",void 0),r([d(cc.Node)],e.prototype,"nodeGunMuiKhoan",void 0),r([d(cc.Node)],e.prototype,"nodeGunFire",void 0),r([d(cc.Node)],e.prototype,"nodePanelPointLaze",void 0),r([d(cc.Node)],e.prototype,"nodePanelPointBoom",void 0),r([d(cc.Node)],e.prototype,"nodePanelPointSongAm",void 0),r([d(cc.Node)],e.prototype,"nodePanelPointMuiKhoan",void 0),r([d(cc.Node)],e.prototype,"nodePanelPointCaXau",void 0),r([d(cc.Node)],e.prototype,"nodePanelPointTruyGai",void 0),r([d(cc.Node)],e.prototype,"nodePanelPointRua",void 0),r([d(cc.Node)],e.prototype,"nodePanelPointHaiThan",void 0),r([d(cc.Node)],e.prototype,"nodePanelPointGunFire",void 0),r([d(cc.Node)],e.prototype,"nodeBulletMuiKhoan",void 0),r([d(cc.Node)],e.prototype,"nodeVaChamMuiKhoan",void 0),r([d(cc.Node)],e.prototype,"nodeEfGiatSet",void 0),r([d(cc.Node)],e.prototype,"nodeEfTrieuHoi",void 0),r([d(cc.Node)],e.prototype,"nodeEfCaXauDead",void 0),r([d(cc.Node)],e.prototype,"nodeEfTruyGaiDead",void 0),r([d(cc.Node)],e.prototype,"nodeEfRuaDead",void 0),r([d([cc.SpriteFrame])],e.prototype,"listSpItemMiniBoss",void 0),r([d([cc.SpriteFrame])],e.prototype,"listSpItemFish",void 0),r([d(cc.Node)],e.prototype,"nodeMutilReward",void 0),r([d(cc.Node)],e.prototype,"nodeLocXoay",void 0),r([d(cc.Node)],e.prototype,"nodeBigFish",void 0),r([d(cc.Node)],e.prototype,"nodeEfGunFire",void 0),r([d(cc.Node)],e.prototype,"nodeCrabVongQuay",void 0),r([d(cc.Node)],e.prototype,"countItem",void 0),r([d(cc.Node)],e.prototype,"txtTrieuHoi",void 0),r([d(cc.Node)],e.prototype,"effectSetFish74",void 0),r([d(cc.Node)],e.prototype,"panelFish74",void 0),r([f],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../../Scritps/Windown":void 0,"../Player/Effect/PlayerUsingAuto":"PlayerUsingAuto","../Player/Effect/PlayerUsingIce":"PlayerUsingIce","../Player/Effect/PlayerUsingSpeed":"PlayerUsingSpeed","../Player/Effect/PlayerUsingTarget":"PlayerUsingTarget","../Player/Effect/TypePlayerEffectBD":"TypePlayerEffectBD"}],ScaleFish:[function(t,e,n){"use strict";cc._RF.push(e,"823770fg1VFnLNVcOawQmw7","ScaleFish");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.update=function(){this.node.angle<=0&&this.node.angle>=-180?this.node.scaleX=1:this.node.scaleX=-1},r([a],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],SoundBongDem:[function(t,e,n){"use strict";cc._RF.push(e,"2e28domqj9JGo9og1XHkdhD","SoundBongDem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Parent/AudioManager"),a=t("../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,u=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.demTien=null,e.demTienOther=null,e.endDemTienTurn=null,e.endDemTien=null,e.takeFishNormal=null,e.iceAllFish=null,e.nextTurn=null,e.coinBayVe=null,e.coinVeTui=null,e.changeGun=null,e.target=null,e.caLonChet=null,e.anDcNhomCa=null,e.caTranDacBiet=null,e.miniBossRoiItem=null,e.quayRdHeSo=null,e.bgBackTuoc=null,e.set=null,e.banLaze=null,e.soundWave=null,e.watingMuiKhoan=null,e.trungMuiKhoan=null,e.gunAtack=null,e.fishBoom=null,e.nhanMaChet=null,e.ruaXiLua=null,e.ting=null,e.noHu=null,e.tienRoi=null,e.fishJackpot=null,e.multiplyAppear=null,e.comingJackpot=null,e.bkgJackpot=null,e.gunFire=null,e.hitIncredible=null,e.diaGa=null,e.wind=null,e.takeNgocRong=null,e.hopQuaMo=null,e.hopQuaNo=null,e.spinVongQuay=null,e.startBoom=null,e.dropBoom=null,e.matThanAtack=null,e.Electricity=null,e.RuaXoay=null,e.WindShort=null,e.DromDinhBa=null,e.ShowTakeTireuHoi=null,e.PhonixStart=null,e.fish70Start=null,e.startFish72=null,e}return i(e,t),e.prototype.playMusic=function(){if(a.Windown.BotController)return-1;this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.4))},e.prototype.playEffectNoStop=function(e,n,o){return void 0===n&&(n=1),void 0===o&&(o=!1),t.prototype.playEffectNoStop.call(this,e,n,o)},e.prototype.playClick=function(){this.playEffect(this.audios[0])},e.prototype.playChangeGun=function(){this.playEffect(this.changeGun)},e.prototype.playTarget=function(){this.playEffect(this.target)},r([u(cc.AudioClip)],e.prototype,"demTien",void 0),r([u(cc.AudioClip)],e.prototype,"demTienOther",void 0),r([u(cc.AudioClip)],e.prototype,"endDemTienTurn",void 0),r([u(cc.AudioClip)],e.prototype,"endDemTien",void 0),r([u(cc.AudioClip)],e.prototype,"takeFishNormal",void 0),r([u(cc.AudioClip)],e.prototype,"iceAllFish",void 0),r([u(cc.AudioClip)],e.prototype,"nextTurn",void 0),r([u(cc.AudioClip)],e.prototype,"coinBayVe",void 0),r([u(cc.AudioClip)],e.prototype,"coinVeTui",void 0),r([u(cc.AudioClip)],e.prototype,"changeGun",void 0),r([u(cc.AudioClip)],e.prototype,"target",void 0),r([u(cc.AudioClip)],e.prototype,"caLonChet",void 0),r([u(cc.AudioClip)],e.prototype,"anDcNhomCa",void 0),r([u(cc.AudioClip)],e.prototype,"caTranDacBiet",void 0),r([u(cc.AudioClip)],e.prototype,"miniBossRoiItem",void 0),r([u(cc.AudioClip)],e.prototype,"quayRdHeSo",void 0),r([u(cc.AudioClip)],e.prototype,"bgBackTuoc",void 0),r([u(cc.AudioClip)],e.prototype,"set",void 0),r([u(cc.AudioClip)],e.prototype,"banLaze",void 0),r([u(cc.AudioClip)],e.prototype,"soundWave",void 0),r([u(cc.AudioClip)],e.prototype,"watingMuiKhoan",void 0),r([u(cc.AudioClip)],e.prototype,"trungMuiKhoan",void 0),r([u(cc.AudioClip)],e.prototype,"gunAtack",void 0),r([u(cc.AudioClip)],e.prototype,"fishBoom",void 0),r([u(cc.AudioClip)],e.prototype,"nhanMaChet",void 0),r([u(cc.AudioClip)],e.prototype,"ruaXiLua",void 0),r([u(cc.AudioClip)],e.prototype,"ting",void 0),r([u(cc.AudioClip)],e.prototype,"noHu",void 0),r([u(cc.AudioClip)],e.prototype,"tienRoi",void 0),r([u(cc.AudioClip)],e.prototype,"fishJackpot",void 0),r([u(cc.AudioClip)],e.prototype,"multiplyAppear",void 0),r([u(cc.AudioClip)],e.prototype,"comingJackpot",void 0),r([u(cc.AudioClip)],e.prototype,"bkgJackpot",void 0),r([u(cc.AudioClip)],e.prototype,"gunFire",void 0),r([u(cc.AudioClip)],e.prototype,"hitIncredible",void 0),r([u(cc.AudioClip)],e.prototype,"diaGa",void 0),r([u(cc.AudioClip)],e.prototype,"wind",void 0),r([u(cc.AudioClip)],e.prototype,"takeNgocRong",void 0),r([u(cc.AudioClip)],e.prototype,"hopQuaMo",void 0),r([u(cc.AudioClip)],e.prototype,"hopQuaNo",void 0),r([u(cc.AudioClip)],e.prototype,"spinVongQuay",void 0),r([u(cc.AudioClip)],e.prototype,"startBoom",void 0),r([u(cc.AudioClip)],e.prototype,"dropBoom",void 0),r([u(cc.AudioClip)],e.prototype,"matThanAtack",void 0),r([u(cc.AudioClip)],e.prototype,"Electricity",void 0),r([u(cc.AudioClip)],e.prototype,"RuaXoay",void 0),r([u(cc.AudioClip)],e.prototype,"WindShort",void 0),r([u(cc.AudioClip)],e.prototype,"DromDinhBa",void 0),r([u(cc.AudioClip)],e.prototype,"ShowTakeTireuHoi",void 0),r([u(cc.AudioClip)],e.prototype,"PhonixStart",void 0),r([u(cc.AudioClip)],e.prototype,"fish70Start",void 0),r([u(cc.AudioClip)],e.prototype,"startFish72",void 0),r([l],e)}(s.default);n.default=h,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":void 0,"../../../Scritps/Windown":void 0}],StateGunFire:[function(t,e,n){"use strict";cc._RF.push(e,"7e390wNH69FaIvATdxyE8vz","StateGunFire");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Network/ConectManager"),s=t("../../../../Scritps/Windown"),a=t("../Bullet/BulletFire"),c=t("../DeadBevhavior/PanelPoint"),l=t("../Fish/FISH_TYPE"),u=t("../Network/CODE_EVT"),h=t("../Player/TypeItemDragBD"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.particelEfFire=null,e.isGunIdle=!0,e.currenAngle=0,e.isCanAtack=!1,e.timeUse=0,e.timeRemove=0,e.timeOutBackToNormalGun=null,e.timeOutCountDown=null,e.isAtack=!1,e.isCanLook=!1,e.point=null,e.itemDrag=null,e.bulletFire=null,e}return i(e,t),e.prototype.setTimeDelayMax=function(){},e.prototype.setTimeDelayNormarl=function(){this.timeDelay=.22},e.prototype.setMoneyGun=function(){},e.prototype.execute=function(){var t=this;cc.log("excuteGun"),this.gunBD.setActiveBtn(!1),this.gunBD.lbGunValue.string=s.Windown.formatNumber(s.Windown.FishBongDem.getGunValueByType(this.indexMoneyGun)),this.setTimeDelayNormarl();var e=s.Windown.FishBongDem.pool.getGunFire(),n=s.Windown.FishBongDem.pool.getEfGunFire();n.parent=s.Windown.FishBongDem.fishBDView.parentEffect,n.active=!1,this.particelEfFire=n.getComponent(cc.ParticleSystem),this.particelEfFire.resetSystem(),this.particelEfFire.emissionRate=0,e.parent=this.gunBD.bodyGun,e.stopAllActions(),e.scale=0,e.runAction(cc.sequence(cc.delayTime(.3),cc.scaleTo(.3,1),cc.callFunc(function(){n.active=!0,t.updatePosEffGunFire(),t.updateStateGunIdle(),t.sendUsingGun()}))),e.setPosition(0,0),this.nodeGun=e,this.isGunIdle=!0,this.itemDrag=this.gunBD.playerBD.getItemDrag(this.idGunNow),this.bulletFire=e.getComponentInChildren(a.default);var o=r.ConectManager.getIns().getSFSObj();o.putLong("byFish",this.idGunNow),this.bulletFire.creat(o,this.gunBD),this.bulletFire.node.active=!1,this.isCanLook=!1},e.prototype.unLock=function(){var t=this;this.isCanLook=!0,this.countDownTime(this.itemDrag.timeUse),s.Windown.FishBongDem.setTimeout(this.timeOutBackToNormalGun=function(){t.gunBD.playerBD.backToCurrentGun();var e=s.Windown.FishBongDem.getSound();e.stopEffect(e.gunFire),t.removeNodePanel()},this.itemDrag.timeUse),this.creatNodePanel(),this.bulletFire.setPanel(this.gunBD.playerBD.mapNodePanel.get(this.idGunNow).getComponent(c.default))},e.prototype.sendUsingGun=function(){cc.log("send using ne");var t=r.ConectManager.getIns().getSFSObj();t.putInt("Type",h.default.GUN_FIRE),t.putLong("Id",this.idGunNow),s.Windown.FishBongDem.sendRequest(u.default.UsingItemDrag,t)},e.prototype.countDownTime=function(t){var e=this,n=this.gunBD.playerBD.lbTimeCD;n.node.active=!0,t--,n.string="Th\u1eddi gian c\xf2n l\u1ea1i:"+Number.parseInt(t)+"s",s.Windown.FishBongDem.setInterval(this.timeOutCountDown=function(){t--,n.string="Th\u1eddi gian c\xf2n l\u1ea1i:"+Number.parseInt(t)+"s",cc.Tween.stopAllByTarget(n.node),cc.tween(n.node).to(.2,{scale:1.4}).to(.2,{scale:1.1}).start(),t<=0&&(s.Windown.FishBongDem.unschedule(e.timeOutCountDown),n.node.active=!1)},1)},e.prototype.offCountDownTime=function(){s.Windown.FishBongDem.unschedule(this.timeOutCountDown),this.gunBD.playerBD.lbTimeCD.node.active=!1},e.prototype.creatNodePanel=function(){s.Windown.FishBongDem.pool.getPanelGunFire().getComponent(c.default).init(this.gunBD.playerBD,this.idGunNow,l.default.GUN_FIRE)},e.prototype.setFishIdTarget=function(t,e){this.idFishTarget=t,this.indexColider=e},e.prototype.atack=function(){if(this.isCanLook&&this.isGunIdle){var t=s.Windown.FishBongDem.getSound();t.playEffect(t.gunFire,1,!0),this.isGunIdle=!1,this.updateStateGunIdle()}},e.prototype.rotate=function(t){if(this.isCanLook){var e=t.clone().subSelf(this.gunBD.pointInScreen),n=180*Math.atan2(e.x,e.y)/Math.PI;if(this.currenAngle=n,this.gunBD.bodyGun.angle=-n,this.isAtack=!0,this.updatePosEffGunFire(),this.gunBD.playerBD.isMe){var o=r.ConectManager.getIns().getSFSObj(),i=t.clone();s.Windown.FishBongDem.convertVec(i),o.putFloat("x",i.x),o.putFloat("y",i.y),o.putBool("iA",!0),s.Windown.FishBongDem.sendRequest(u.default.RotateGun,o)}}},e.prototype.updatePosEffGunFire=function(){var t=this.nodeGun.convertToWorldSpaceAR(cc.v2(0,109)),e=s.Windown.FishBongDem.fishBDView.parentEffect.convertToNodeSpaceAR(t);this.particelEfFire.node.setPosition(e),this.particelEfFire.angle=this.gunBD.bodyGun.angle+90},e.prototype.updateStateGunIdle=function(){this.isGunIdle?(cc.Tween.stopAllByTarget(this.particelEfFire),this.particelEfFire.emissionRate=0,this.bulletFire.node.active=!1):(this.bulletFire.node.active=!0,cc.Tween.stopAllByTarget(this.particelEfFire),cc.tween(this.particelEfFire).to(.2,{emissionRate:566}).start())},e.prototype.cancleAtack=function(){if(this.timeUpdate=0,this.isAtack=!1,!this.isGunIdle){this.isGunIdle=!0;var t=s.Windown.FishBongDem.getSound();t.stopEffect(t.gunFire),this.updateStateGunIdle()}if(this.gunBD.playerBD.isMe){var e=r.ConectManager.getIns().getSFSObj();e.putBool("iA",!1),s.Windown.FishBongDem.sendRequest(u.default.RotateGun,e)}},e.prototype.reset=function(){var t=this;this.particelEfFire.resetSystem(),this.particelEfFire.emissionRate=0,s.Windown.FishBongDem.unschedule(this.timeOutBackToNormalGun),this.offCountDownTime(),s.Windown.FishBongDem.pool.putEfGunFire(this.particelEfFire.node),this.nodeGun.stopAllActions(),cc.tween(this.nodeGun).to(.3,{scale:0}).call(function(){s.Windown.FishBongDem.pool.putGunFire(t.nodeGun)}).start(),this.idFishTarget=-1,this.indexColider=-1},e.prototype.onClickAdd=function(){var t=this.indexMoneyGun,e=r.ConectManager.getIns().getSFSObj();++t>=s.Windown.FishBongDem.listGunMoney.length&&(t=0),e.putInt("IndexMoneyGun",t),s.Windown.FishBongDem.sendRequest(u.default.ChangeMoneyGun,e)},e.prototype.onClickSub=function(){var t=this.indexMoneyGun,e=r.ConectManager.getIns().getSFSObj();--t<0&&(t=s.Windown.FishBongDem.listGunMoney.length-1),e.putInt("IndexMoneyGun",t),s.Windown.FishBongDem.sendRequest(u.default.ChangeMoneyGun,e)},e.prototype.updateCp=function(t){this.timeUpdate+=t,this.timeUpdate>=this.timeDelay&&this.isAtack&&(this.atack(),this.timeUpdate=0)},e}(t("./BaseStateGunBD").default);n.default=p,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Windown":void 0,"../Bullet/BulletFire":"BulletFire","../DeadBevhavior/PanelPoint":"PanelPoint","../Fish/FISH_TYPE":"FISH_TYPE","../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD","./BaseStateGunBD":"BaseStateGunBD"}],StateGunLaze:[function(t,e,n){"use strict";cc._RF.push(e,"1a010UA4vJJl51LPhnXz3hD","StateGunLaze");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Network/ConectManager"),s=t("../../../../Scritps/Windown"),a=t("../Bullet/BulletLazeBD"),c=t("../DeadBevhavior/PanelPoint"),l=t("../Fish/FISH_TYPE"),u=t("../Network/CODE_EVT"),h=t("../Player/TypeItemDragBD"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currenAngle=0,e.spineLaze=null,e.isCanAtack=!1,e.bulletLaze=null,e.timeUse=0,e.timeRemove=0,e.timeOutBackToNormalGun=null,e.timeOutCountDown=null,e.isAtack=!1,e.isCanLook=!1,e.point=null,e.itemDrag=null,e}return i(e,t),e.prototype.setTimeDelayMax=function(){},e.prototype.setTimeDelayNormarl=function(){},e.prototype.setMoneyGun=function(){},e.prototype.execute=function(){var t=this;this.gunBD.setActiveBtn(!1);var e=s.Windown.FishBongDem.pool.getGunLaze();e.parent=this.gunBD.bodyGun,e.scale=0,e.runAction(cc.sequence(cc.delayTime(.3),cc.scaleTo(.5,1))),e.setPosition(0,0),this.nodeGun=e;var n=cc.find("SungLaser_Text",e);n.active=!0,n.opacity=0,n.scale=2,cc.Tween.stopAllByTarget(n),cc.tween(n).delay(.6).call(function(){t.isCanLook=!0}).to(.2,{opacity:255,scale:1},{easing:"sineIn"}).delay(1.5).to(.5,{opacity:0}).start();var o=cc.find("fxLaser",e);this.spineLaze=o.getComponent(sp.Skeleton),o.opacity=0,cc.Tween.stopAllByTarget(o),cc.tween(o).delay(1.1).to(.5,{opacity:255}).start(),this.spineLaze.setAnimation(0,"Aim",!1),this.bulletLaze=cc.find("BulletLaze",e).getComponent(a.default),this.bulletLaze.node.active=!1,this.itemDrag=this.gunBD.playerBD.getItemDrag(this.idGunNow),s.Windown.FishBongDem.setTimeout(this.timeOutBackToNormalGun=function(){s.Windown.FishBongDem&&(t.gunBD.playerBD.backToCurrentGun(),t.removeNodePanel())},this.itemDrag.timeRemove),this.countDownTime(this.itemDrag.timeRemove),this.creatNodePanel()},e.prototype.creatNodePanel=function(){s.Windown.FishBongDem.pool.getPanelLaze().getComponent(c.default).init(this.gunBD.playerBD,this.idGunNow,l.default.LAZE)},e.prototype.atack=function(){var t=this;this.spineLaze.setAnimation(0,"Shoot",!1),this.gunBD.playerBD.isMe&&this.bulletLaze.init(this.itemDrag.timeUse,this.idGunNow);var e=s.Windown.FishBongDem.getSound();e.playEffect(e.banLaze),s.Windown.FishBongDem.unschedule(this.timeOutBackToNormalGun),this.offCountDownTime(),s.Windown.FishBongDem.setTimeout(this.timeOutBackToNormalGun=function(){t.gunBD.playerBD.backToCurrentGun(),t.removeNodePanel()},this.itemDrag.timeUse)},e.prototype.countDownTime=function(t){var e=this;cc.log("time la: "+t);var n=this.gunBD.playerBD.lbTimeCD;n.node.active=!0,t--,n.string="Th\u1eddi gian c\xf2n l\u1ea1i:"+Number.parseInt(t)+"s",s.Windown.FishBongDem.setInterval(this.timeOutCountDown=function(){t--,n.string="Th\u1eddi gian c\xf2n l\u1ea1i:"+Number.parseInt(t)+"s",cc.Tween.stopAllByTarget(n.node),cc.tween(n.node).to(.2,{scale:1.4}).to(.2,{scale:1.1}).start(),t<=0&&(s.Windown.FishBongDem.unschedule(e.timeOutCountDown),n.node.active=!1),t<=5&&e.gunBD.playerBD.isItemAuto&&(e.rotate(cc.v2(s.Windown.RandomNumber(-400,400),s.Windown.RandomNumber(-180,180))),e.cancleAtack())},1)},e.prototype.offCountDownTime=function(){s.Windown.FishBongDem.unschedule(this.timeOutCountDown),this.gunBD.playerBD.lbTimeCD.node.active=!1},e.prototype.sendUsing=function(){if(null!=this.point){var t=r.ConectManager.getIns().getSFSObj(),e=this.point.clone(),n=s.Windown.FishBongDem.convertVec(e);t.putDouble("PointX",n.x),t.putDouble("PointY",n.y),t.putInt("Type",h.default.LAZE),t.putLong("Id",this.idGunNow),s.Windown.FishBongDem.sendRequest(u.default.UsingItemDrag,t),this.isAtack=!0,this.offCountDownTime()}},e.prototype.rotate=function(t){if(!this.isAtack&&this.isCanLook){var e=t.clone().subSelf(this.gunBD.pointInScreen),n=180*Math.atan2(e.x,e.y)/Math.PI;this.currenAngle=n,this.gunBD.bodyGun.angle=-n,this.point=t}},e.prototype.reset=function(){var t=this;s.Windown.FishBongDem.unschedule(this.timeOutBackToNormalGun),this.offCountDownTime(),cc.Tween.stopAllByTarget(this.nodeGun),cc.tween(this.nodeGun).to(.3,{scale:0}).call(function(){s.Windown.FishBongDem.pool.putGunLaze(t.nodeGun)}).start()},e.prototype.setTimeDelay=function(){},e.prototype.updateCp=function(){},e.prototype.cancleAtack=function(){this.gunBD.playerBD.isMe&&this.isCanLook&&!this.isAtack&&this.sendUsing()},e.prototype.setFishIdTarget=function(){},e.prototype.onClickAdd=function(){},e.prototype.onClickSub=function(){},e}(t("./BaseStateGunBD").default);n.default=p,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Windown":void 0,"../Bullet/BulletLazeBD":"BulletLazeBD","../DeadBevhavior/PanelPoint":"PanelPoint","../Fish/FISH_TYPE":"FISH_TYPE","../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD","./BaseStateGunBD":"BaseStateGunBD"}],StateGunMuiKhoan:[function(t,e,n){"use strict";cc._RF.push(e,"079d2wCnltCFJ9LYEhNFt0k","StateGunMuiKhoan");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Network/ConectManager"),s=t("../../../../Scritps/Windown"),a=t("../Bullet/BulletMuiKhoanBD"),c=t("../DeadBevhavior/PanelPoint"),l=t("../Fish/FISH_TYPE"),u=t("../Network/CODE_EVT"),h=t("../Player/TypeItemDragBD"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currenAngle=0,e.isCanAtack=!1,e.timeUse=0,e.timeRemove=0,e.timeOutBackToNormalGun=null,e.timeOutCountDown=null,e.isAtack=!1,e.isCanLook=!1,e.point=null,e.itemDrag=null,e}return i(e,t),e.prototype.setTimeDelayMax=function(){},e.prototype.setTimeDelayNormarl=function(){},e.prototype.setMoneyGun=function(){},e.prototype.execute=function(){var t=this;this.gunBD.setActiveBtn(!1);var e=s.Windown.FishBongDem.pool.getGunMuiKhoan();e.parent=this.gunBD.bodyGun,e.scale=0,e.runAction(cc.sequence(cc.delayTime(.3),cc.scaleTo(.5,1))),e.setPosition(0,0),this.nodeGun=e;var n=cc.find("bgTitle",e);n.active=!0,n.opacity=0,n.scale=2,cc.Tween.stopAllByTarget(n),cc.tween(n).delay(.6).call(function(){t.isCanLook=!0;var e=s.Windown.FishBongDem.getSound();e.playEffectNoStop(e.watingMuiKhoan,1,!0)}).to(.2,{opacity:255,scale:1},{easing:"sineIn"}).delay(1.5).to(.5,{opacity:0}).start(),this.itemDrag=this.gunBD.playerBD.getItemDrag(this.idGunNow),s.Windown.FishBongDem.setTimeout(this.timeOutBackToNormalGun=function(){t.gunBD.playerBD.backToCurrentGun(),t.removeNodePanel()},this.itemDrag.timeRemove),cc.log("time removela : "+this.itemDrag.timeRemove),this.countDownTime(this.itemDrag.timeRemove),this.creatNodePanel()},e.prototype.creatNodePanel=function(){cc.log("this.idGunNow: "+this.idGunNow),s.Windown.FishBongDem.pool.getPanelMuiKhoan().getComponent(c.default).init(this.gunBD.playerBD,this.idGunNow,l.default.MUI_KHOAN)},e.prototype.atack=function(){cc.log("player atack conme nos");var t=s.Windown.FishBongDem.getSound();t.stopEffect(t.watingMuiKhoan),this.nodeGun.scale=0;var e=this.speedBullet,n=e*Math.sin(this.currenAngle*Math.PI/180),o=e*Math.cos(this.currenAngle*Math.PI/180),i=this.gunBD.getVecStartBullet(),l=r.ConectManager.getIns().getSFSObj();l.putFloat("VelocityX",n),l.putFloat("VelocityY",o),l.putFloat("PositionX",i.x),l.putFloat("PositionY",i.y),l.putInt("FishIdTarget",this.idFishTarget),l.putFloat("Angle",this.currenAngle),l.putInt("Speed",this.speedBullet),l.putLong("byFish",this.idGunNow),l.putFloat("timeTotalLife",this.itemDrag.timeUse);var u=s.Windown.FishBongDem.pool.getBulletMuiKhoan();u.parent=s.Windown.FishBongDem.fishBDView.parentEffect;var h=u.getComponent(a.default);h.creat(l,this.gunBD,this.gunBD.playerBD.isMe),h.setPanel(this.gunBD.playerBD.mapNodePanel.get(this.idGunNow).getComponent(c.default)),s.Windown.FishBongDem.unschedule(this.timeOutBackToNormalGun),this.offCountDownTime(),this.gunBD.playerBD.backToCurrentGun()},e.prototype.countDownTime=function(t){var e=this,n=this.gunBD.playerBD.lbTimeCD;n.node.active=!0,t--,n.string="Th\u1eddi gian c\xf2n l\u1ea1i:"+Number.parseInt(t)+"s",s.Windown.FishBongDem.setInterval(this.timeOutCountDown=function(){t--,n.string="Th\u1eddi gian c\xf2n l\u1ea1i:"+Number.parseInt(t)+"s",cc.Tween.stopAllByTarget(n.node),cc.tween(n.node).to(.2,{scale:1.4}).to(.2,{scale:1.1}).start(),t<=0&&(s.Windown.FishBongDem.unschedule(e.timeOutCountDown),n.node.active=!1),t<=5&&e.gunBD.playerBD.isItemAuto&&(e.rotate(cc.v2(s.Windown.RandomNumber(-400,400),s.Windown.RandomNumber(-180,180))),e.cancleAtack())},1)},e.prototype.offCountDownTime=function(){s.Windown.FishBongDem.unschedule(this.timeOutCountDown),this.gunBD.playerBD.lbTimeCD.node.active=!1},e.prototype.sendUsing=function(){if(null!=this.point){var t=r.ConectManager.getIns().getSFSObj(),e=this.point.clone(),n=s.Windown.FishBongDem.convertVec(e);t.putDouble("PointX",n.x),t.putDouble("PointY",n.y),t.putInt("Type",h.default.MUI_KHOAN),t.putLong("Id",this.idGunNow),s.Windown.FishBongDem.sendRequest(u.default.UsingItemDrag,t),this.isAtack=!0,this.offCountDownTime()}},e.prototype.rotate=function(t){if(!this.isAtack&&this.isCanLook){var e=t.clone().subSelf(this.gunBD.pointInScreen),n=180*Math.atan2(e.x,e.y)/Math.PI;this.currenAngle=n,this.gunBD.bodyGun.angle=-n,this.point=t}},e.prototype.reset=function(){var t=this;s.Windown.FishBongDem.unschedule(this.timeOutBackToNormalGun),this.offCountDownTime(),cc.Tween.stopAllByTarget(this.nodeGun),cc.tween(this.nodeGun).to(.3,{scale:0}).call(function(){s.Windown.FishBongDem.pool.putGunMuiKhoan(t.nodeGun)}).start();var e=s.Windown.FishBongDem.getSound();e.stopEffect(e.watingMuiKhoan)},e.prototype.setTimeDelay=function(){},e.prototype.updateCp=function(){},e.prototype.cancleAtack=function(){this.gunBD.playerBD.isMe&&this.isCanLook&&!this.isAtack&&this.sendUsing()},e.prototype.setFishIdTarget=function(){},e.prototype.onClickAdd=function(){},e.prototype.onClickSub=function(){},e}(t("./BaseStateGunBD").default);n.default=p,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Windown":void 0,"../Bullet/BulletMuiKhoanBD":"BulletMuiKhoanBD","../DeadBevhavior/PanelPoint":"PanelPoint","../Fish/FISH_TYPE":"FISH_TYPE","../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD","./BaseStateGunBD":"BaseStateGunBD"}],StateGunNormal:[function(t,e,n){"use strict";cc._RF.push(e,"ced85gYZYFLb4NxDGQaiyeD","StateGunNormal");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/DefineTs/TextDefine"),s=t("../../../../Scritps/Network/ConectManager"),a=t("../../../../Scritps/Windown"),c=t("../Bullet/BulletNormal"),l=t("../Network/CODE_EVT"),u=t("../Player/Effect/TypePlayerEffectBD"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currenAngle=0,e.isAtack=!1,e}return i(e,t),e.prototype.creatNodePanel=function(){},e.prototype.setTimeDelayMax=function(){this.timeDelay=.05},e.prototype.setTimeDelayNormarl=function(){this.timeDelay=.22},e.prototype.setMoneyGun=function(t){this.indexMoneyGun=t,this.gunBD.lbGunValue.string=a.Windown.formatNumber(a.Windown.FishBongDem.getGunValueByType(t)),a.Windown.FishBongDem.getSound().playChangeGun()},e.prototype.execute=function(){this.gunBD.setActiveBtn(!0),this.gunBD.lbGunValue.string=a.Windown.formatNumber(a.Windown.FishBongDem.getGunValueByType(this.indexMoneyGun)),this.setTimeDelayNormarl();var t=a.Windown.FishBongDem.pool.getGunNormal();t.parent=this.gunBD.bodyGun,t.stopAllActions(),t.scale=0,t.runAction(cc.sequence(cc.delayTime(.3),cc.scaleTo(.3,1))),t.setPosition(0,0),this.nodeGun=t},e.prototype.setFishIdTarget=function(t,e){this.idFishTarget=t,this.indexColider=e},e.prototype.atack=function(){var t=a.Windown.FishBongDem.getGunValueByType(this.indexMoneyGun);if(this.gunBD.playerBD.gold<t){if(this.gunBD.playerBD.isMe){a.Windown.Dialog.showLog(r.TextDefine.NotMoneyFish);var e=a.Windown.FishBongDem.fishBDView.camMay.toggleStart;e.isChecked&&e.uncheck(),a.Windown.BotController&&a.Windown.FishBongDem.setTimeout(function(){a.Windown.restartGame()},a.Windown.RandomNumber(3,30)),this.gunBD.playerBD.forceEndEffect(u.default.TARGET)}}else{this.nodeGun.getComponentInChildren(sp.Skeleton).setAnimation(0,"attack",!1);var n=this.speedBullet,o=n*Math.sin(this.currenAngle*Math.PI/180),i=n*Math.cos(this.currenAngle*Math.PI/180),l=this.gunBD.getVecStartBullet(),h=s.ConectManager.getIns().getSFSObj();if(h.putFloat("VelocityX",o),h.putFloat("VelocityY",i),h.putFloat("PositionX",l.x),h.putFloat("PositionY",l.y),h.putInt("FishIdTarget",this.idFishTarget),h.putInt("IC",this.indexColider),h.putFloat("Angle",this.currenAngle),h.putInt("Speed",this.speedBullet),h.putLong("BulletId",10*Date.now()+this.gunBD.playerBD.playerId),h.putLong("CreatedTime",1),h.putInt("IndexMoneyGun",this.gunBD.playerBD.indexMoneyGun),this.gunBD.getBulletNormalPool().getComponent(c.default).creat(h,this.gunBD,this.gunBD.playerBD.isMe),this.gunBD.playerBD.isMe){var p=cc.v2(o,i);a.Windown.FishBongDem.convertVec(p),a.Windown.FishBongDem.convertVec(l);var f=a.Windown.FishBongDem.conVertAngle(this.currenAngle);h.putFloat("VelocityX",p.x),h.putFloat("VelocityY",p.y),h.putFloat("PositionX",l.x),h.putFloat("PositionY",l.y),h.putFloat("Angle",f),a.Windown.FishBongDem.sendBullet(h);var d=a.Windown.FishBongDem.getSound();d.playEffect(d.gunAtack,.5)}}},e.prototype.rotate=function(t){var e=t.clone().subSelf(this.gunBD.pointInScreen),n=180*Math.atan2(e.x,e.y)/Math.PI;this.currenAngle=n,this.gunBD.bodyGun.angle=-n,this.isAtack=!0,this.timeUpdate>=this.timeDelay&&this.isAtack&&(this.atack(),this.timeUpdate=0)},e.prototype.cancleAtack=function(){this.timeUpdate=0,this.isAtack=!1,this.nodeGun.getComponentInChildren(sp.Skeleton).setAnimation(0,"idle",!0)},e.prototype.reset=function(){var t=this;cc.log("r\u1ebft gun normal"),this.nodeGun.stopAllActions(),cc.tween(this.nodeGun).to(.3,{scale:0}).call(function(){a.Windown.FishBongDem.pool.putGunNormal(t.nodeGun)}).start(),this.idFishTarget=-1,this.indexColider=-1},e.prototype.onClickAdd=function(){var t=this.indexMoneyGun,e=s.ConectManager.getIns().getSFSObj();++t>=a.Windown.FishBongDem.listGunMoney.length&&(t=0),e.putInt("IndexMoneyGun",t),a.Windown.FishBongDem.sendRequest(l.default.ChangeMoneyGun,e)},e.prototype.onClickSub=function(){var t=this.indexMoneyGun,e=s.ConectManager.getIns().getSFSObj();--t<0&&(t=a.Windown.FishBongDem.listGunMoney.length-1),e.putInt("IndexMoneyGun",t),a.Windown.FishBongDem.sendRequest(l.default.ChangeMoneyGun,e)},e.prototype.updateCp=function(t){this.gunBD.playerBD.isMe&&(this.timeUpdate+=t,this.timeUpdate>=this.timeDelay&&this.isAtack&&(this.atack(),this.timeUpdate=0))},e}(t("./BaseStateGunBD").default);n.default=h,cc._RF.pop()},{"../../../../Scritps/DefineTs/TextDefine":void 0,"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Windown":void 0,"../Bullet/BulletNormal":"BulletNormal","../Network/CODE_EVT":"CODE_EVT","../Player/Effect/TypePlayerEffectBD":"TypePlayerEffectBD","./BaseStateGunBD":"BaseStateGunBD"}],StateGunSet:[function(t,e,n){"use strict";cc._RF.push(e,"b117eU6Oa9Il6/2VkBFeo4q","StateGunSet");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/DefineTs/TextDefine"),s=t("../../../../Scritps/Network/ConectManager"),a=t("../../../../Scritps/Windown"),c=t("../Network/CODE_EVT"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currenAngle=0,e.isAtack=!1,e.currentColider=null,e.fishTarget=null,e}return i(e,t),e.prototype.creatNodePanel=function(){},e.prototype.setTimeDelayMax=function(){this.timeDelay=.05},e.prototype.setTimeDelayNormarl=function(){this.timeDelay=.18},e.prototype.setMoneyGun=function(t){this.indexMoneyGun=t,this.gunBD.lbGunValue.string=a.Windown.formatNumber(a.Windown.FishBongDem.getGunValueByType(t)),a.Windown.FishBongDem.getSound().playChangeGun()},e.prototype.execute=function(){this.gunBD.setActiveBtn(!0),this.gunBD.lbGunValue.string=a.Windown.formatNumber(a.Windown.FishBongDem.getGunValueByType(this.indexMoneyGun)),this.gunBD.playerBD.isMe&&a.Windown.FishBongDem.fishBDView.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.nodeGun=a.Windown.FishBongDem.pool.getGunSet(),this.nodeGun.parent=this.gunBD.bodyGun,this.nodeGun.scale=0,this.nodeGun.runAction(cc.sequence(cc.delayTime(.3),cc.scaleTo(.5,1))),this.nodeGun.setPosition(0,0),this.nodeGun.children[0].active=!1,this.nodeGun.children[2].active=!1,this.setTimeDelayNormarl(),this.gunBD.playerBD.playerSiting>2?this.gunBD.bodyGun.angle=180:this.gunBD.bodyGun.angle=0},e.prototype.setFishIdTarget=function(t,e){e=Number(e),this.idFishTarget==t&&this.indexColider==e||(this.fishTarget=a.Windown.FishBongDem.fishMng.getFishById(t),this.fishTarget&&(this.currentColider=this.fishTarget.getListColider()[e],this.currentColider&&(this.nodeGun.children[0].active=!0,this.nodeGun.children[2].active=!0,this.idFishTarget=t,this.indexColider=e)))},e.prototype.atack=function(){if(null!=this.fishTarget){var t=a.Windown.FishBongDem.getGunValueByType(this.indexMoneyGun);if(this.gunBD.playerBD.gold<t){if(this.gunBD.playerBD.isMe){a.Windown.Dialog.showLog(r.TextDefine.NotMoneyFish);var e=a.Windown.FishBongDem.fishBDView.camMay.toggleStart;e.isChecked&&e.uncheck(),a.Windown.BotController&&a.Windown.FishBongDem.setTimeout(function(){a.Windown.restartGame()},a.Windown.RandomNumber(3,30)),this.offTarget()}}else{var n=this.speedBullet,o=n*Math.sin(this.currenAngle*Math.PI/180),i=n*Math.cos(this.currenAngle*Math.PI/180),l=this.gunBD.getVecStartBullet(),u=s.ConectManager.getIns().getSFSObj();if(u.putFloat("VelocityX",o),u.putFloat("VelocityY",i),u.putFloat("PositionX",l.x),u.putFloat("PositionY",l.y),u.putInt("FishIdTarget",this.idFishTarget),u.putInt("IC",this.indexColider),u.putFloat("Angle",this.currenAngle),u.putInt("Speed",this.speedBullet),u.putLong("BulletId",10*Date.now()+this.gunBD.playerBD.playerId),u.putLong("CreatedTime",1),u.putInt("IndexMoneyGun",this.gunBD.playerBD.indexMoneyGun),this.fishTarget.onColision(this.currentColider),this.gunBD.playerBD.isMe){var h=cc.v2(o,i);a.Windown.FishBongDem.convertVec(h),a.Windown.FishBongDem.convertVec(l);var p=a.Windown.FishBongDem.conVertAngle(this.currenAngle);u.putFloat("VelocityX",h.x),u.putFloat("VelocityY",h.y),u.putFloat("PositionX",l.x),u.putFloat("PositionY",l.y),u.putFloat("Angle",p),a.Windown.FishBongDem.sendBullet(u);var f=s.ConectManager.getIns().getSFSObj();f.putLong("BulletId",u.get("BulletId")),f.putInt("FishId",this.fishTarget.fishId),f.putInt("FishType",this.fishTarget.fishType),a.Windown.FishBongDem.sendRequest(c.default.FishColisionBD,f);var d=a.Windown.FishBongDem.getSound();d.playEffect(d.set,.3)}}}},e.prototype.touchStart=function(t){for(var e=t.getLocation(),n=a.Windown.FishBongDem.fishMng.getMapFish().values(),o=n.next();!o.done;){var i=o.value;o=n.next();var r=i.getListColider();for(var s in r){var c=r[s];if(this.currentColider!=c&&c.world&&c.world.points&&cc.Intersection.pointInPolygon(e,c.world.points))return void this.setFishIdTarget(i.fishId,s)}}this.offTarget()},e.prototype.rotate=function(){this.isAtack=!0},e.prototype.cancleAtack=function(){},e.prototype.reset=function(){var t=this;this.gunBD.playerBD.isMe&&a.Windown.FishBongDem.fishBDView.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),cc.Tween.stopAllByTarget(this.nodeGun),cc.tween(this.nodeGun).to(.3,{scale:0}).call(function(){a.Windown.FishBongDem.pool.putGunSet(t.nodeGun)}).start(),this.offTarget()},e.prototype.onClickAdd=function(){var t=this.indexMoneyGun,e=s.ConectManager.getIns().getSFSObj();++t>=a.Windown.FishBongDem.listGunMoney.length&&(t=0),e.putInt("IndexMoneyGun",t),a.Windown.FishBongDem.sendRequest(c.default.ChangeMoneyGun,e)},e.prototype.onClickSub=function(){var t=this.indexMoneyGun,e=s.ConectManager.getIns().getSFSObj();--t<0&&(t=a.Windown.FishBongDem.listGunMoney.length-1),e.putInt("IndexMoneyGun",t),a.Windown.FishBongDem.sendRequest(c.default.ChangeMoneyGun,e)},e.prototype.checkColider=function(){if(this.fishTarget.getCanColision()){var t=this.currentColider.node.parent.convertToWorldSpaceAR(this.currentColider.node.getPosition()),e=a.Windown.FishBongDem.fishBDView.parentFish.convertToNodeSpaceAR(t);if(e.x>640||e.x<-640||e.y>360||e.y<-360)this.getNewColider();else{var n=this.nodeGun.convertToNodeSpaceAR(t),o=this.nodeGun.children[0],i=n.clone().subSelf(o.getPosition()),r=180*Math.atan2(i.x,i.y)/Math.PI,s=cc.Vec2.distance(n,o.getPosition());this.isAtack=!0,o.angle=-r,o.height=s,o.children[0].y=s}}else this.offTarget()},e.prototype.getNewColider=function(){for(var t=0,e=this.fishTarget.getListColider();t<e.length;t++){var n=e[t];if(n!=this.currentColider){var o=n.node.parent.convertToWorldSpaceAR(n.node.getPosition()),i=a.Windown.FishBongDem.fishBDView.parentEffect.convertToNodeSpaceAR(o);if(!(i.x>640||i.x<-640||i.y>360||i.y<-360))return void(this.currentColider=n)}}this.offTarget()},e.prototype.offTarget=function(){this.fishTarget=null,this.idFishTarget=-1,this.currentColider=null,this.indexColider=-1,this.nodeGun.children[0].active=!1,this.nodeGun.children[2].active=!1,this.isAtack=!1},e.prototype.updateCp=function(t){this.fishTarget&&this.currentColider&&this.checkColider(),this.timeUpdate+=t,this.timeUpdate>=this.timeDelay&&this.isAtack&&(this.atack(),this.timeUpdate=0)},e}(t("./BaseStateGunBD").default);n.default=l,cc._RF.pop()},{"../../../../Scritps/DefineTs/TextDefine":void 0,"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Windown":void 0,"../Network/CODE_EVT":"CODE_EVT","./BaseStateGunBD":"BaseStateGunBD"}],StateGunSongAm:[function(t,e,n){"use strict";cc._RF.push(e,"c6e64SynNpBgoJpIgDp7+zt","StateGunSongAm");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Network/ConectManager"),s=t("../../../../Scritps/Windown"),a=t("../Bullet/BulletSongAmBD"),c=t("../DeadBevhavior/PanelPoint"),l=t("../Fish/FISH_TYPE"),u=t("../Network/CODE_EVT"),h=t("../Player/TypeItemDragBD"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currenAngle=0,e.isCanAtack=!1,e.bulletSongAm=null,e.timeUse=0,e.timeRemove=0,e.timeOutBackToNormalGun=null,e.timeOutCountDown=null,e.isAtack=!1,e.isCanLook=!1,e.point=null,e.itemDrag=null,e.idGunNow=-1,e.parentItemTemplate=null,e.itemTempPlate=null,e.funCreatItem=null,e}return i(e,t),e.prototype.setTimeDelayMax=function(){},e.prototype.setTimeDelayNormarl=function(){},e.prototype.setMoneyGun=function(){},e.prototype.execute=function(){var t=this;this.gunBD.setActiveBtn(!1);var e=s.Windown.FishBongDem.pool.getGunSongAm();e.parent=this.gunBD.bodyGun,e.scale=0,e.runAction(cc.sequence(cc.delayTime(.3),cc.scaleTo(.5,1))),e.setPosition(0,0),this.nodeGun=e;var n=cc.find("bgTitle",e);n.active=!0,n.opacity=0,n.scale=2,cc.Tween.stopAllByTarget(n),cc.tween(n).delay(.6).to(.2,{opacity:255,scale:1},{easing:"sineIn"}).delay(1.5).to(.5,{opacity:0}).start();var o=cc.find("imgSongAm",e);o.opacity=0,cc.Tween.stopAllByTarget(o),cc.tween(o).to(.3,{opacity:255}).call(function(){t.isCanLook=!0}).start(),this.parentItemTemplate=cc.find("ParentBulletTemp",e),this.parentItemTemplate.destroyAllChildren(),this.itemTempPlate=cc.find("BulletTemp",e),this.bulletSongAm=cc.find("BulletSongAm",e).getComponent(a.default),this.bulletSongAm.node.active=!1,this.itemDrag=this.gunBD.playerBD.getItemDrag(this.idGunNow),s.Windown.FishBongDem.setTimeout(this.timeOutBackToNormalGun=function(){s.Windown.FishBongDem&&(t.gunBD.playerBD.backToCurrentGun(),t.removeNodePanel())},this.itemDrag.timeRemove),this.countDownTime(this.itemDrag.timeRemove),this.creatNodePanel()},e.prototype.creatNodePanel=function(){s.Windown.FishBongDem.pool.getPanelSongAm().getComponent(c.default).init(this.gunBD.playerBD,this.idGunNow,l.default.SONG_AM)},e.prototype.atack=function(){var t=this;cc.find("imgSongAm",this.nodeGun).opacity=0;var e=0;s.Windown.FishBongDem.setInterval(this.funCreatItem=function(){t.funCreatBullet(),++e>15&&s.Windown.FishBongDem.unschedule(t.funCreatItem)},.2),this.gunBD.playerBD.isMe&&this.bulletSongAm.init(this.itemDrag.timeUse,this.idGunNow),s.Windown.FishBongDem.unschedule(this.timeOutBackToNormalGun),this.offCountDownTime(),s.Windown.FishBongDem.setTimeout(this.timeOutBackToNormalGun=function(){t.gunBD.playerBD.backToCurrentGun(),t.removeNodePanel()},this.itemDrag.timeUse)},e.prototype.funCreatBullet=function(){var t=cc.instantiate(this.itemTempPlate);t.parent=this.parentItemTemplate,t.active=!0,t.scale=0,t.y=0;var e=cc.scaleTo(1.2,3),n=cc.moveTo(1.2,0,950),o=cc.sequence(cc.delayTime(.8),cc.fadeOut(.4));t.runAction(cc.sequence(cc.spawn(e,n,o),cc.callFunc(function(){t.destroy()})));var i=s.Windown.FishBongDem.getSound();i.playEffectNoStop(i.soundWave)},e.prototype.countDownTime=function(t){var e=this;cc.log("time la: "+t);var n=this.gunBD.playerBD.lbTimeCD;n.node.active=!0,t--,n.string="Th\u1eddi gian c\xf2n l\u1ea1i:"+Number.parseInt(t)+"s",s.Windown.FishBongDem.setInterval(this.timeOutCountDown=function(){t--,n.string="Th\u1eddi gian c\xf2n l\u1ea1i:"+Number.parseInt(t)+"s",cc.Tween.stopAllByTarget(n.node),cc.tween(n.node).to(.2,{scale:1.4}).to(.2,{scale:1.1}).start(),t<=0&&(s.Windown.FishBongDem.unschedule(e.timeOutCountDown),n.node.active=!1),t<=5&&e.gunBD.playerBD.isItemAuto&&(e.rotate(cc.v2(s.Windown.RandomNumber(-400,400),s.Windown.RandomNumber(-180,180))),e.cancleAtack())},1)},e.prototype.offCountDownTime=function(){s.Windown.FishBongDem.unschedule(this.timeOutCountDown),this.gunBD.playerBD.lbTimeCD.node.active=!1},e.prototype.sendUsing=function(){if(null!=this.point){var t=r.ConectManager.getIns().getSFSObj(),e=this.point.clone(),n=s.Windown.FishBongDem.convertVec(e);t.putDouble("PointX",n.x),t.putDouble("PointY",n.y),t.putInt("Type",h.default.SONG_AM),t.putLong("Id",this.idGunNow),s.Windown.FishBongDem.sendRequest(u.default.UsingItemDrag,t),this.isAtack=!0,this.offCountDownTime()}},e.prototype.rotate=function(t){if(!this.isAtack&&this.isCanLook){var e=t.clone().subSelf(this.gunBD.pointInScreen),n=180*Math.atan2(e.x,e.y)/Math.PI;this.currenAngle=n,this.gunBD.bodyGun.angle=-n,this.point=t}},e.prototype.reset=function(){var t=this;s.Windown.FishBongDem.unschedule(this.timeOutBackToNormalGun),s.Windown.FishBongDem.unschedule(this.funCreatItem),this.parentItemTemplate.destroyAllChildren(),this.offCountDownTime(),this.gunBD.setActiveBtn(!0),cc.Tween.stopAllByTarget(this.nodeGun),cc.tween(this.nodeGun).to(.3,{scale:0}).call(function(){s.Windown.FishBongDem.pool.putGunSongAm(t.nodeGun)}).start()},e.prototype.setTimeDelay=function(){},e.prototype.updateCp=function(){},e.prototype.cancleAtack=function(){this.gunBD.playerBD.isMe&&this.isCanLook&&!this.isAtack&&this.sendUsing()},e.prototype.setFishIdTarget=function(){},e.prototype.onClickAdd=function(){},e.prototype.onClickSub=function(){},e}(t("./BaseStateGunBD").default);n.default=p,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Windown":void 0,"../Bullet/BulletSongAmBD":"BulletSongAmBD","../DeadBevhavior/PanelPoint":"PanelPoint","../Fish/FISH_TYPE":"FISH_TYPE","../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD","./BaseStateGunBD":"BaseStateGunBD"}],TakeJp:[function(t,e,n){"use strict";cc._RF.push(e,"260dctt6kNNOLKdFludBypg","TakeJp");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../../Scritps/Game/GAME_TYPE"),c=t("../../../../Scritps/Network/ConectManager"),l=t("../../../../Scritps/Obs/LbMoneyChange"),u=t("../../../../Scritps/Windown"),h=cc._decorator,p=h.ccclass,f=h.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coinItem=null,e.parentCoint=null,e}return i(e,t),e.prototype.show=function(t,e){var n=this,o=u.Windown.FishBongDem.getSound();o.playEffect(o.noHu),o.playEffect(o.tienRoi,1,!0);for(var i=0;i<60;i++){var r=i%3+u.Windown.RandomNumber(0,5)/10,h=cc.instantiate(this.coinItem);h.active=!0,h.zIndex=1,h.parent=this.parentCoint,this.startXu(h,r)}this.scheduleOnce(function(){o.playEffect(o.multiplyAppear)},5),this.getComponentInChildren(l.default).resetLb(),this.getComponentInChildren(l.default).setMoney(t),this.scheduleOnce(function(){cc.find("Layer 2",n.node).runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeBackIn()),cc.callFunc(function(){o.stopEffect(o.tienRoi),n.node.destroy();var i=c.ConectManager.getIns().getSFSObj();i.putInt("gt",a.default.BongDem),i.putInt("mt",t),i.putUtfString("nn",e),i.putUtfString("dt","100"),c.ConectManager.getIns().sendRequest(s.REQUEST_CODE.AddBigWin,i)})))},7)},e.prototype.startXu=function(t,e){var n=this;t.opacity=0,t.stopAllActions();var o=cc.v2(u.Windown.RandomNumber(-600,600),400),i=u.Windown.RandomNumber(300,600)/1e3;t.scale=i;var r=cc.v2(o.x,-400),s=u.Windown.RandomNumber(1.5,2.5);e+=u.Windown.RandomNumber(0,10)/10,t.angle=u.Windown.RandomNumber(0,360),t.setPosition(o);var a=cc.spawn(cc.rotateBy(s,u.Windown.RandomNumber(360,1080)),cc.moveTo(s,r));t.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(){t.opacity=255,t.getComponent(cc.Animation).play("Coin")}),a,cc.callFunc(function(){n.startXu(t,0)})))},r([f(cc.Node)],e.prototype,"coinItem",void 0),r([f(cc.Node)],e.prototype,"parentCoint",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../../Scritps/Game/GAME_TYPE":void 0,"../../../../Scritps/Network/ConectManager":void 0,"../../../../Scritps/Obs/LbMoneyChange":void 0,"../../../../Scritps/Windown":void 0}],ThangLon:[function(t,e,n){"use strict";cc._RF.push(e,"c3f78lBriRGGJtMP7eoeqrr","ThangLon");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Game/GAME_TYPE"),c=t("../../../Scritps/Network/ConectManager"),l=t("../../../Scritps/Obs/LbMoneyChange"),u=cc._decorator,h=u.ccclass,p=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listSf=[],e.spImgFish=null,e.lb=null,e.finish=null,e}return i(e,t),e.prototype.init=function(t,e,n){var o=this;return new Promise(function(i){o.getComponent(cc.Animation).play("ThangLon"),o.spImgFish.spriteFrame=o.listSf[t-70],o.lb.time=2,o.lb.setMoney(n);var r=e.gunFishBd.pointInScreen.clone();e.playerSiting>2?r.y-=300:r.y+=70,o.node.setPosition(r),o.scheduleOnce(function(){if(e.isMe&&(28==t||27==t)){var i=c.ConectManager.getIns().getSFSObj();i.putInt("gt",a.default.BongDem),i.putInt("mt",n),i.putUtfString("nn",e.namePlayer),i.putUtfString("dt",t.toString()),c.ConectManager.getIns().sendRequest(s.REQUEST_CODE.AddBigWin,i)}o.node.destroy()},4),o.finish=i})},e.prototype.aniFinish=function(){this.finish&&this.finish()},r([p(cc.SpriteFrame)],e.prototype,"listSf",void 0),r([p(cc.Sprite)],e.prototype,"spImgFish",void 0),r([p(l.default)],e.prototype,"lb",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Game/GAME_TYPE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Obs/LbMoneyChange":void 0}],ThuocKeAuto:[function(t,e,n){"use strict";cc._RF.push(e,"661bfU/3dZGtYIdrpyfb/DJ","ThuocKeAuto");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../Gun/GUN_TYPE_BD"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listId=[],e.idTarget=-1,e.colider=null,e.ext=null,e.isValibe=!1,e.timeCheck=0,e}return i(e,t),e.prototype.onLoad=function(){this.colider=this.getComponent(cc.BoxCollider)},e.prototype.onCollisionEnter=function(t){var e=t.tag;e==this.idTarget||this.listId.includes(e)||this.listId.push(e)},e.prototype.onCollisionExit=function(t){var e=t.tag;this.listId.indexOf(e)>-1&&this.listId.splice(e,1)},e.prototype.targetPoint=function(t){var e=t.clone().subSelf(this.node.getPosition()),n=180*Math.atan2(e.x,e.y)/Math.PI;this.node.angle=-n;var o=cc.Vec2.distance(t,this.node.getPosition());this.node.height=o,this.colider.size.height=o,this.colider.offset.y=o/2},e.prototype.setIdTarget=function(t){this.idTarget=t,this.reset()},e.prototype.reset=function(){this.listId.length=0,this.isValibe=!0},e.prototype.update=function(t){this.listId.length>0?this.timeCheck+=t:this.timeCheck=0,this.timeCheck>4&&this.ext.player.gunFishBd.stateGun.type!=s.default.SET&&(cc.log("success"),this.ext.offTarget(),this.timeCheck=0)},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../Gun/GUN_TYPE_BD":"GUN_TYPE_BD"}],TimeOut:[function(t,e,n){"use strict";cc._RF.push(e,"89425WWN5NNbq4G6EQ0ePty","TimeOut");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbInfo=null,e.lbTime=null,e.funCD=null,e}return i(e,t),e.prototype.show=function(t){var e=this;this.node.active=!0,this.lbInfo.string=t,this.unschedule(this.funCD);var n=10;this.lbTime.string=n.toString(),this.schedule(this.funCD=function(){n--,e.lbTime.string=n.toString(),n<0&&e.onClickClose()},1)},e.prototype.onClickClose=function(){var t=this;this.unschedule(this.funCD),s.Windown.actionEffectClose(this.node,function(){t.node.active=!1})},r([l(cc.Label)],e.prototype,"lbInfo",void 0),r([l(cc.Label)],e.prototype,"lbTime",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],TypeItemDragBD:[function(t,e,n){"use strict";cc._RF.push(e,"5798agvfBVJKJDydruSrX5M","TypeItemDragBD"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.LAZE=1,t.BOOM=2,t.SONG_AM=3,t.MUI_KHOAN=4,t.END_MUI_KHOAN=5,t.GUN_FIRE=6,t.BOOM_NGUYEN_TU=7,t.MAT_THAN=8,t.DINH_BA=9,t}();n.default=o,cc._RF.pop()},{}],TypePlayerEffectBD:[function(t,e,n){"use strict";cc._RF.push(e,"72479F6p35PsbE+4jL5Yrx9","TypePlayerEffectBD"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.ICE=1,t.SPEED=2,t.TARGET=3,t.AUTO=4,t}();n.default=o,cc._RF.pop()},{}],"mesh-texture-flagBD":[function(t,e){"use strict";function n(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=o(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}cc._RF.push(e,"1724a2FqpdE7qCv7UxkuWZo","mesh-texture-flagBD");var r=cc.gfx;cc.Class({extends:cc.Component,properties:{_offset:cc.v2(0,0),offset:{get:function(){return this._offset},set:function(t){this._offset=t,this._applyVertexes()},type:cc.Vec2},_spriteFrame:{default:null,type:cc.SpriteFrame},spriteFrame:{get:function(){return this._spriteFrame},set:function(t){this._spriteFrame=t,this._applySpriteFrame()},type:cc.SpriteFrame},_row:10,row:{tooltip:"\u7f51\u683c\u884c\u6570",get:function(){return this._row},set:function(t){t<=0&&(t=1),this._row!==t&&(this._row=t,this._updateMesh(),this._applyVertexes())},min:1,step:1},_col:20,col:{tooltip:"\u7f51\u683c\u5217\u6570",get:function(){return this._col},set:function(t){t<=0&&(t=1),this._col!==t&&(this._col=t,this._updateMesh(),this._applyVertexes())},min:1,step:1},_speed:10,speed:{tooltip:"\u901f\u5ea6",get:function(){return this._speed},set:function(t){t<=0&&(t=.1),this._speed!==t&&(this._speed=t,this._updateMaterial())},min:.1,step:.1},_amplitude:5,amplitude:{tooltip:"\u5e45\u5ea6",get:function(){return this._amplitude},set:function(t){t<=0&&(t=.1),this._amplitude!==t&&(this._amplitude=t,this._updateMaterial())},min:.1,step:1},_wave:5,wave:{tooltip:"\u6ce2\u6d6a",get:function(){return this._wave},set:function(t){t<=0&&(t=0),this._wave!==t&&(this._wave=t,this._updateMaterial())},min:0,step:1},mat:cc.Material},onLoad:function(){var t=this;this._meshCache={},this._vertexes=[];var e=this.node.getComponent(cc.MeshRenderer);e||(e=this.node.addComponent(cc.MeshRenderer)),e.mesh=null,this.renderer=e,cc.Material.create(this.mat.effectAsset,this.mat.techniqueIndex),this.renderer.setMaterial(0,this.mat),this._updateMaterial(),this._updateMesh(),this._applySpriteFrame(),this._applyVertexes(),this.node.on("size-changed",function(){t._updateMesh(),t._applyVertexes()},this),this.node.on("anchor-changed",function(){t._updateMesh(),t._applyVertexes()},this)},_updateMesh:function(){this._vertexes=[];for(var t=this.node.width,e=this.node.height,n=0;n<this._row+1;n++)for(var o=0;o<this._col+1;o++){var i=(o-this._col*this.node.anchorX)*t/this._col,s=(n-this._row*this.node.anchorY)*e/this._row;this._vertexes.push(cc.v2(i,s))}var a=this._meshCache[this._vertexes.length];a||((a=new cc.Mesh).init(new r.VertexFormat([{name:r.ATTR_POSITION,type:r.ATTR_TYPE_FLOAT32,num:2},{name:r.ATTR_UV0,type:r.ATTR_TYPE_FLOAT32,num:2}]),this._vertexes.length,!0),this._meshCache[this._vertexes.length]=a),this.mesh=a,this._updateMaterial()},_applyVertexes:function(){var t=this,e=this.mesh;if(e.setVertices(r.ATTR_POSITION,this._vertexes),this.texture){for(var o,i=[],s=n(this._vertexes);!(o=s()).done;){var a=o.value,c=(a.x+this.texture.width*this.node.anchorX+this.offset.x)/this.texture.width,l=1-(a.y+this.texture.height*this.node.anchorY+this.offset.y)/this.texture.height;i.push(cc.v2(c,l))}e.setVertices(r.ATTR_UV0,i)}if(this._vertexes.length>=3){for(var u=[],h=function(e,n){return e*(t._col+1)+n},p=0;p<this._row;p++)for(var f=0;f<this._col;f++)u.push(h(p,f),h(p,f+1),h(p+1,f)),u.push(h(p+1,f),h(p+1,f+1),h(p,f+1));e.setIndices(u),this.renderer.mesh!=e&&(this.renderer.mesh=e)}},_applySpriteFrame:function(){if(this.spriteFrame){var t=this.spriteFrame.getTexture();this.texture=t,this._updateMaterial()}},_updateMaterial:function(){var t=this.renderer._materials[0];t&&(this.texture&&(t.define("USE_TEXTURE",!0),t.setProperty("texture",this.texture)),t.setProperty("textureWidth",this.node.width),t.setProperty("speed",this.speed),t.setProperty("amplitude",this.amplitude),t.setProperty("wave",this.wave),this._vertexes.length>0&&t.setProperty("startPos",this._vertexes[0]))}}),cc._RF.pop()},{}]},{},["DinhBa","DropBoom","ItemBoom","BaseBulletBD","BulletFire","BulletLazeBD","BulletMatThan","BulletMuiKhoanBD","BulletNormal","BulletSongAmBD","CamMayBongDem","BaseFishColision","BaseFishDeaditemDrag","ColisionBoomNguyenTu","ColisionCrab","ColisionCrabBoom","ColisionCrabEndMuiKhoan","ColisionCrabGunFire","ColisionCrabMuiKhoan","ColisionCrabSongAm","ColisionDinhBa","ColisionFish74","ColisionHaiThanDead","ColisionItemHaiThan","ColisionLocXoay","ColisionMatThan","ColisionNormal","PanelPoint","BaseFishBD","BaseFishDead","FISH_DEAD_BD_TYPE","FishDeadBoom","FishDeadCaXau","FishDeadChildHT","FishDeadGroup","FishDeadGroup4","FishDeadHaiThan","FishDeadJackpot","FishDeadMutilReward","FishDeadNoEffect","FishDeadNormal","FishDeadNormalRd","FishDeadRua","FishDeadTrieuHoi","FishDeadTruyGai","FishDeadVongQuay","BaseEffectFish","EffectSet","FISH_TYPE","FishBD70View","FishBDBoomView","FishBDCaTran","FishBDCaTranView","FishBDCaXau","FishBDChildHaiThanView","FishBDGroup","FishBDGroup3View ","FishBDGroup4","FishBDGroup4View","FishBDHaiThan","FishBDHaiThanView","FishBDJackpotView","FishBDManager","FishBDMuiKhoanView","FishBDMutil","FishBDNormal","FishBDNormalView","FishBDRua","FishBDSongAmView","FishBDTruyGaiView","FishBdMutilView","FishStateBD","ScaleFish","FishBDView","FishBongDem","ItemBongDem","PoolBongDem","BaseStateGunBD","GUN_TYPE_BD","GunFishBD","MatThan","StateGunFire","StateGunLaze","StateGunMuiKhoan","StateGunNormal","StateGunSet","StateGunSongAm","HelpBongDem","ItemLichSuJackpot","ItemNhiemVuFish","LichSuJackpot","CODE_EVT","HandleAddItemDrag","HandleChangeBD","HandleChangeMoneyGunFishBD","HandleCreatFishBD","HandleCreatTrieuHoi","HandleFishColisionBD","HandleGunAtackBD","HandleIceAllFishBD","HandleInfoFishRoomBD","HandleNotFindFishBD","HandleOtherJoinRoom","HandlePlayerUsingItemFishBD","HandleRemoveAllListFishBD","HandleRemoveListFishBD","HandleRotateGunBD","HandleSetTimeFishEffectBD","HandleTakeItemFish","HandleTimeOutPlayBD","HandleUsingItemDrag","IResponseBD","CrabVongQuay","NotiFish","TakeJp","BaseItemDrag","BasePlayerBD","DefineSpeedGunBD","BaseEffectPlayer","PlayerUsingAuto","PlayerUsingIce","PlayerUsingSpeed","PlayerUsingTarget","ThuocKeAuto","TypePlayerEffectBD","PlayerBD","PlayerBDManager","TypeItemDragBD","SoundBongDem","ThangLon","TimeOut","mesh-texture-flagBD"]);