window.__require=function t(e,n,o){function i(s,a){if(!n[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!a&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){return i(e[s][1][t]||t)},u,u.exports,t,e,n,o)}return n[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<o.length;s++)i(o[s]);return i}({ActiveChildren:[function(t,e,n){"use strict";cc._RF.push(e,"953f4fTgXFABIu4rF+KtMGs","ActiveChildren");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.indexActive=0,e._isAt=!1,e}return i(e,t),Object.defineProperty(e.prototype,"isAt",{get:function(){return this._isAt},set:function(t){this._isAt=t,this.indexActive<0?this.node.children.forEach(function(e){e.active=t}):this.node.children[this.indexActive].active=t},enumerable:!1,configurable:!0}),r([c({type:cc.Integer,tooltip:"-1 l\xe0 set active t\u1ea5t c\u1ea3"})],e.prototype,"indexActive",void 0),r([c(cc.Boolean)],e.prototype,"isAt",null),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],AiCapMultiTop:[function(t,e,n){"use strict";cc._RF.push(e,"6f8f5N18k1N56EHB1Y0JaFl","AiCapMultiTop");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbolNode=[],e}return i(e,t),e.prototype.onLoad=function(){this._rollerTopBound=this.node.width/2,this._rollerBottomBound=-this.node.width/2,this.runMultiple()},e.prototype.runMultiple=function(){for(var t=0;t<this.symbolNode.length;t++)this.symbolNode[t].runAction(cc.repeatForever(cc.moveBy(7,cc.v2(350,0))))},e.prototype.update=function(){for(var t=0;t<this.symbolNode.length;t++){var e=this.symbolNode[t];e.position.x>this._rollerTopBound&&(e.position=cc.v3(this._rollerBottomBound,0))}},r([c([cc.Node])],e.prototype,"symbolNode",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],AiCapRibbonWin:[function(t,e,n){"use strict";cc._RF.push(e,"ad529VM5tFH94ki7IZVucUd","AiCapRibbonWin");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbolNode=[],e.flare=null,e.light=null,e.light2=null,e._isStop=!1,e._isStopAllActions=!1,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){s.Windown.AiCap.audio.playEffect(s.Windown.AiCap.audio.bingo_wheel_startspin),this.light.opacity=0,this.light.stopAllActions(),this.light.runAction(cc.sequence(cc.fadeIn(.5),cc.delayTime(.15),cc.fadeOut(.7))),this.light2.opacity=0,this.light2.stopAllActions(),this.light2.runAction(cc.sequence(cc.fadeIn(.6),cc.delayTime(.15),cc.fadeOut(.7)))},e.prototype.hide=function(t){var e=this;s.Windown.AiCap.audio.stopEffect(s.Windown.AiCap.audio.bingo_wheel_out),s.Windown.AiCap.audio.stopEffect(s.Windown.AiCap.audio.bgm_feature_loop),this.light.opacity=0,this.light.stopAllActions(),this.light.runAction(cc.sequence(cc.fadeIn(.3),cc.delayTime(.1),cc.fadeOut(.3))),this.light2.opacity=0,this.light2.stopAllActions(),this.light2.runAction(cc.sequence(cc.fadeIn(.3),cc.delayTime(.1),cc.fadeOut(.3),cc.callFunc(function(){e.node.active=!1,t&&t()})))},e.prototype.runMultiple=function(t){s.Windown.AiCap.audio.playEffect(s.Windown.AiCap.audio.bgm_feature_loop,1,!0),this.node.active=!0,this._multiple=t,this._isStopAllActions=!1,this._isStop=!1;for(var e=0;e<this.symbolNode.length;e++){var n=this.symbolNode[e];n.stopAllActions(),n.runAction(cc.repeatForever(cc.moveBy(.33,cc.v2(80,0))))}this.stopMultiple()},e.prototype.stopMultiple=function(){var t=this;this.scheduleOnce(function(){t._isStop=!0},1)},e.prototype.onDisable=function(){},e.prototype.readyStop=function(){var t=this;this._isStopAllActions=!0;for(var e=0;e<this.symbolNode.length;e++)this.symbolNode[e].runAction(cc.sequence(cc.moveBy(.1,cc.v2(7,0)),cc.moveBy(.1,cc.v2(-7,0)),cc.moveBy(.1,cc.v2(7,0)),cc.moveBy(.1,cc.v2(-7,0))));this.scheduleOnce(function(){s.Windown.AiCap.audio.playEffect(s.Windown.AiCap.audio.bingo_wheel_startspin),t.flare.opacity=255,t.flare.scale=0,t.flare.active=!0,t.flare.getComponent(cc.Animation).play();var e=cc.instantiate(t.node.getChildByName("x"+t._multiple));t.node.parent.addChild(e),e.setPosition(cc.v2(0,400)),e.parent=t.node.parent.parent,e.zIndex=300,e.runAction(cc.sequence(cc.scaleTo(.6,.45),cc.delayTime(.1),cc.callFunc(function(){s.Windown.AiCap.infoBar.showSoNhanTong(t._multiple)}),cc.fadeOut(1),cc.removeSelf()))},.4)},e.prototype.update=function(){if(this._isStop&&!this._isStopAllActions&&Math.floor(this.node.getChildByName("x"+this._multiple).position.x)>=-2&&Math.floor(this.node.getChildByName("x"+this._multiple).position.x)<=2)for(var t=0;t<this.symbolNode.length;t++)(e=this.symbolNode[t]).stopAllActions(),Math.floor(e.position.x)>=-2&&Math.floor(e.position.x)<=2&&(cc.log("zoom item",e),e.children[0].scale=1.3,e.children[0].opacity=255,this.readyStop());for(t=0;t<this.symbolNode.length;t++){var e;(e=this.symbolNode[t]).position.x>450&&(e.position=cc.v3(-450,0)),Math.floor(e.position.x)>-19&&Math.floor(e.position.x)<=19&&(e.children[0].opacity=255,e.children[0].scale=1.3),(Math.floor(e.position.x)>20||Math.floor(e.position.x)<-20)&&(e.children[0].opacity=150,e.children[0].scale=1.05)}},r([l([cc.Node])],e.prototype,"symbolNode",void 0),r([l(cc.Node)],e.prototype,"flare",void 0),r([l(cc.Node)],e.prototype,"light",void 0),r([l(cc.Node)],e.prototype,"light2",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],AiCapSymbolTop:[function(t,e,n){"use strict";cc._RF.push(e,"18650WFg+ZKg5NWsyq7EVzD","AiCapSymbolTop");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.select_glow_b=null,e.symIdle=null,e.symActive=null,e.symXanh=null,e.win_particle_circle=null,e.win_particle=null,e._idleItems=null,e._xanhItems=null,e._activeItems=null,e._itemId=null,e}return i(e,t),e.prototype.setItems=function(t,e,n){this._activeItems=t,this._xanhItems=e,this._idleItems=n},e.prototype.setItemId=function(t){t<0||t>9?this.node.active=!1:(this.node.active=!0,this._itemId=t,this.updateSpriteFrame())},e.prototype.updateSpriteFrame=function(){this.symIdle.getComponent(cc.Sprite).spriteFrame=this._idleItems.getSpriteFrame(this._itemId.toString()),this.symXanh.getComponent(cc.Sprite).spriteFrame=this._xanhItems.getSpriteFrame("t_"+this._itemId.toString()),this.symActive.getComponent(cc.Sprite).spriteFrame=this._activeItems.getSpriteFrame(this._itemId.toString())},e.prototype.setWinActive=function(){var t=this;this.symIdle.active=!1,this.symActive.active=!0,this.win_particle.active=!0,this.select_glow_b.active=!0,this.select_glow_b.scale=0,this.select_glow_b.runAction(cc.sequence(cc.scaleTo(.5,1.8),cc.scaleTo(.5,1.6),cc.callFunc(function(){t.win_particle.active=!1})))},e.prototype.setWinHide=function(t,e){var n=this;this.win_particle.active=!0,this.select_glow_b.runAction(cc.sequence(cc.scaleTo(.5,1.8),cc.scaleTo(.5,0),cc.callFunc(function(){n.symIdle.active=!1,n.symActive.active=!1,n.select_glow_b.stopAllActions(),n.select_glow_b.runAction(cc.scaleTo(.2,0)),n.symXanh.scale=0,n.symXanh.active=!0,n.win_particle_circle.active=!1,n.symXanh.runAction(cc.sequence(cc.spawn(cc.callFunc(function(){e&&s.Windown.AiCap.TopSymbolManager.hideEndLineWin(t)}),cc.fadeIn(.2)),cc.scaleTo(.2,.75),cc.scaleTo(.2,.65),cc.callFunc(function(){n.symIdle.active=!0,n.win_particle.active=!1}),cc.fadeOut(.5)))})))},e.prototype.setIdle=function(){this.win_particle.active=!1,this.win_particle_circle.active=!1,this.select_glow_b.active=!1,this.symActive.active=!1,this.symXanh.active=!1,this.symIdle.active=!1},e.prototype.setAnLine=function(){this.setIdle(),this.setWinActive(),this.win_particle_circle.active=!0,this.win_particle_circle.stopAllActions(),this.win_particle_circle.runAction(cc.repeat(cc.rotateBy(1.5,360),100))},e.prototype.actionLineXanhShow=function(){this.symXanh.active=!0,this.symXanh.opacity=0,this.symXanh.stopAllActions(),this.symXanh.runAction(cc.sequence(cc.fadeIn(1.5),cc.fadeOut(1.5)))},r([l(cc.Node)],e.prototype,"select_glow_b",void 0),r([l(cc.Node)],e.prototype,"symIdle",void 0),r([l(cc.Node)],e.prototype,"symActive",void 0),r([l(cc.Node)],e.prototype,"symXanh",void 0),r([l(cc.Node)],e.prototype,"win_particle_circle",void 0),r([l(cc.Node)],e.prototype,"win_particle",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],AiCapTopSymbolManager:[function(t,e,n){"use strict";cc._RF.push(e,"b64663qfQFI4Ym50qof2YKO","AiCapTopSymbolManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),i=0;for(e=0;e<n;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,i++)o[i]=r[s];return o};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scritps/Windown"),c=t("./AiCapRibbonWin"),l=t("./AiCapSymbolTop"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.top_center_shine=null,e.top_multiplier_ring=null,e.top_center_glow=null,e.top_idle_glow=null,e.atlastSymbolTop=null,e.atlastSymbolTopIdle=null,e.parentItem=null,e.prefabSymbolTop=null,e.linesWinShow=[],e.linesWinEnd=[],e.listLineXanh1=null,e.listLineXanh2=null,e.listLineXanh3=null,e.listLineXanh4=null,e.nodeRibbon=null,e.top_multiplier_arch=null,e.top_multiplier_arch2=null,e.lineBonus1=[],e.lineBonus2=[],e.lineBonus3=[],e.lineBonus4=[],e.listSymIdle=[],e.listSymActive=[],e.listSymXanh=[],e.arrLineBonus=[],e._countShowLineWin=0,e.reject=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.actionCenter(),this.createSymbol(),this.nodeRibbon.zIndex=200,this.top_multiplier_arch.zIndex=200,this.top_multiplier_arch2.zIndex=200,this.arrLineBonus=[],this._countShowLineWin=0},e.prototype.createSymbol=function(){for(var t=0;t<16;t++){var e=cc.instantiate(this.prefabSymbolTop);this.node.addChild(e);var n=e.getComponent(l.default);e.position=this.parentItem.children[t].position,n.setItems(this.atlastSymbolTop,this.atlastSymbolTop,this.atlastSymbolTopIdle),0==t||7==t?n.setItemId(5):1==t||2==t?n.setItemId(2):3==t?n.setItemId(7):4==t?n.setItemId(6):5==t||6==t?n.setItemId(0):8==t?n.setItemId(9):9==t||10==t?n.setItemId(3):11==t||15==t?n.setItemId(4):14==t||13==t?n.setItemId(1):12==t&&n.setItemId(8),t<4?this.lineBonus1.push(n):t<8?this.lineBonus2.push(n):t<12?this.lineBonus3.push(n):this.lineBonus4.push(n)}},e.prototype.convertNameSpineById=function(t,e){switch(++t){case 1:return"jar"+e;case 2:return"ankh"+e;case 3:return"cross"+e;case 4:return"eye"+e;case 5:return"crane"+e;case 6:return"snake"+e;case 7:return"cat"+e;case 8:return"anubis"+e;case 9:return"horus"+e;case 10:return"pharaoh"+e}},e.prototype.setInfoSymbol=function(t,e,n,o){for(var i=s(t),r=s(e),a=s(n),c=s(o),l=0;l<i.length;l++)1==i[l].status&&this.lineBonus1[l].setWinActive(),1==r[l].status&&this.lineBonus2[l].setWinActive(),1==a[l].status&&this.lineBonus3[l].setWinActive(),1==c[l].status&&this.lineBonus4[l].setWinActive(),this.lineBonus1[l].setItemId(i[l].id),this.lineBonus2[l].setItemId(r[l].id),this.lineBonus3[l].setItemId(a[l].id),this.lineBonus4[l].setItemId(c[l].id);this.arrLineBonus.push(this.lineBonus1),this.arrLineBonus.push(this.lineBonus2),this.arrLineBonus.push(this.lineBonus3),this.arrLineBonus.push(this.lineBonus4)},e.prototype.showLineWin=function(t){a.Windown.AiCap.audio.playEffect(a.Windown.AiCap.audio.bgm_bigwin_cue),this.arrLineBonus[t].forEach(function(t){t.setAnLine()}),this.linesWinShow[t].getComponent(cc.Animation).play()},e.prototype.hideLineWin=function(t){this.linesWinShow[t].scale=0},e.prototype.showEndLineWin=function(t){this.linesWinEnd[t].opacity=255,this.linesWinEnd[t].getComponent(cc.Animation).play(),a.Windown.AiCap.audio.playEffect(a.Windown.AiCap.audio.bingo_winline_1)},e.prototype.hideEndLineWin=function(t){this.linesWinEnd[t].stopAllActions(),this.linesWinEnd[t].runAction(cc.fadeOut(.5));for(var e=0;e<4;e++)this.arrLineBonus[t][e].setItemId(a.Windown.AiCap.listLineWin[t][e].id);a.Windown.AiCap.lineBonus1=s(a.Windown.AiCap.listLineWin[0]),a.Windown.AiCap.lineBonus2=s(a.Windown.AiCap.listLineWin[1]),a.Windown.AiCap.lineBonus3=s(a.Windown.AiCap.listLineWin[2]),a.Windown.AiCap.lineBonus4=s(a.Windown.AiCap.listLineWin[3])},e.prototype.waitShowBonus=function(t,e){var n=this;return this.actionShowLineWin(t,e),new Promise(function(t){n.reject=t})},e.prototype.actionShowLineWin=function(t,e){var n=this;if(this._countShowLineWin>=4)return this.linesWinShow[0].parent.stopAllActions(),void this.scheduleOnce(function(){n.endMultipleBonus()},1);var o=[];t[this._countShowLineWin]&&t[this._countShowLineWin]>0?(o.push(cc.callFunc(function(){n.showLineWin(n._countShowLineWin)}),cc.delayTime(1),cc.delayTime(.5),cc.callFunc(function(){n.top_multiplier_arch.opacity=255,n.top_multiplier_arch2.opacity=255,n.top_multiplier_arch.active=!0,n.top_multiplier_arch2.active=!0,n.top_multiplier_ring.active=!1,n.nodeRibbon.getComponent(c.default).runMultiple(t[n._countShowLineWin])}),cc.delayTime(5),cc.callFunc(function(){n.hideLineWin(n._countShowLineWin),n.showEndLineWin(n._countShowLineWin),n.arrLineBonus[n._countShowLineWin].forEach(function(t,e){t.setWinHide(n._countShowLineWin,3==e)}),n._countShowLineWin++}),cc.delayTime(1.2),cc.callFunc(function(){n.actionShowLineWin(t,e)})),this.linesWinShow[0].parent.runAction(cc.sequence(o))):(this._countShowLineWin++,this.actionShowLineWin(t,e))},e.prototype.endMultipleBonus=function(){var t=this;this.nodeRibbon.getComponent(c.default).hide(function(){t.top_multiplier_ring.active=!0,t.top_multiplier_arch.active=!1,t.top_multiplier_arch2.active=!1,a.Windown.AiCap.infoBar.showTongBonus(a.Windown.AiCap.listResultConvert[0].agWin)}),this.reject&&this.reject(),this.reject=null},e.prototype.actionCenter=function(){this.top_center_glow.runAction(cc.repeatForever(cc.sequence(cc.fadeIn(1),cc.fadeOut(1)))),this.top_idle_glow.runAction(cc.repeatForever(cc.sequence(cc.fadeIn(1),cc.fadeOut(1))))},e.prototype.countActiveWinSymbol=function(t){for(var e=0,n=-1,o=-1,i=0;i<t.length;i++)2!=i&&(n++,1==t[i]?e++:o=n);return{length:e,index:o}},e.prototype.checkActionShowLineXanh=function(){var t=this;this.node.stopAllActions();var e=[],n=a.Windown.AiCap.lineBonus1.map(function(t){return t.status}),o=a.Windown.AiCap.lineBonus2.map(function(t){return t.status}),i=a.Windown.AiCap.lineBonus3.map(function(t){return t.status}),r=a.Windown.AiCap.lineBonus4.map(function(t){return t.status});if(n.includes(1)){for(var s=function(n){e.push(cc.callFunc(function(){t.listLineXanh1.children[n].stopAllActions(),t.listLineXanh1.children[n].runAction(cc.sequence(cc.fadeIn(1.5),cc.fadeOut(1.5))),0==n&&3==t.countActiveWinSymbol(a.Windown.AiCap.lineBonus1).length&&t.lineBonus1[t.countActiveWinSymbol(a.Windown.AiCap.lineBonus1).index].actionLineXanhShow()}))},c=0;c<4;c++)s(c);e.push(cc.delayTime(2.5))}if(o.includes(1)){var l=function(n){e.push(cc.callFunc(function(){t.listLineXanh2.children[n].stopAllActions(),t.listLineXanh2.children[n].runAction(cc.sequence(cc.fadeIn(1.5),cc.fadeOut(1.5))),0==n&&3==t.countActiveWinSymbol(a.Windown.AiCap.lineBonus2).length&&t.lineBonus2[t.countActiveWinSymbol(a.Windown.AiCap.lineBonus2).index].actionLineXanhShow()}))};for(c=0;c<4;c++)l(c);e.push(cc.delayTime(2.5))}if(i.includes(1)){var u=function(n){e.push(cc.callFunc(function(){t.listLineXanh3.children[n].stopAllActions(),t.listLineXanh3.children[n].runAction(cc.sequence(cc.fadeIn(1.5),cc.fadeOut(1.5))),0==n&&3==t.countActiveWinSymbol(a.Windown.AiCap.lineBonus3).length&&t.lineBonus3[t.countActiveWinSymbol(a.Windown.AiCap.lineBonus3).index].actionLineXanhShow()}))};for(c=0;c<4;c++)u(c);e.push(cc.delayTime(2.5))}if(r.includes(1)){var p=function(n){e.push(cc.callFunc(function(){t.listLineXanh4.children[n].stopAllActions(),t.listLineXanh4.children[n].runAction(cc.sequence(cc.fadeIn(1.5),cc.fadeOut(1.5))),0==n&&3==t.countActiveWinSymbol(a.Windown.AiCap.lineBonus4).length&&t.lineBonus4[t.countActiveWinSymbol(a.Windown.AiCap.lineBonus4).index].actionLineXanhShow()}))};for(c=0;c<4;c++)p(c);e.push(cc.delayTime(2.5))}e.push(cc.callFunc(function(){t.checkActionShowLineXanh()})),this.node.runAction(1==e.length?e[0]:cc.sequence(e))},r([h(cc.Node)],e.prototype,"top_center_shine",void 0),r([h(cc.Node)],e.prototype,"top_multiplier_ring",void 0),r([h(cc.Node)],e.prototype,"top_center_glow",void 0),r([h(cc.Node)],e.prototype,"top_idle_glow",void 0),r([h(cc.SpriteAtlas)],e.prototype,"atlastSymbolTop",void 0),r([h(cc.SpriteAtlas)],e.prototype,"atlastSymbolTopIdle",void 0),r([h(cc.Node)],e.prototype,"parentItem",void 0),r([h(cc.Prefab)],e.prototype,"prefabSymbolTop",void 0),r([h([cc.Node])],e.prototype,"linesWinShow",void 0),r([h([cc.Node])],e.prototype,"linesWinEnd",void 0),r([h(cc.Node)],e.prototype,"listLineXanh1",void 0),r([h(cc.Node)],e.prototype,"listLineXanh2",void 0),r([h(cc.Node)],e.prototype,"listLineXanh3",void 0),r([h(cc.Node)],e.prototype,"listLineXanh4",void 0),r([h(cc.Node)],e.prototype,"nodeRibbon",void 0),r([h(cc.Node)],e.prototype,"top_multiplier_arch",void 0),r([h(cc.Node)],e.prototype,"top_multiplier_arch2",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../Scritps/Windown":"Windown","./AiCapRibbonWin":"AiCapRibbonWin","./AiCapSymbolTop":"AiCapSymbolTop"}],AiCapView:[function(t,e,n){"use strict";cc._RF.push(e,"bbe0drUmzRM5I83sndKbt00","AiCapView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/EVENT_MANAGER"),l=t("../../../Scritps/DefineTs/PlayerPP"),u=t("../../../Scritps/DefineTs/REQUEST_CODE"),p=t("../../../Scritps/DefineTs/StateReelSlot"),h=t("../../../Scritps/DefineTs/TextDefine"),d=t("../../../Scritps/Game/GAME_TYPE"),f=t("../../../Scritps/Network/ConectManager"),y=t("../../../Scritps/Obs/LbMoneyChange"),g=t("../../../Scritps/Other/MakeDelay"),m=t("../../../Scritps/Util"),v=t("../../../Scritps/Windown"),S=t("./AssetAiCap"),b=t("./AudioAiCap"),w=t("./EffectAiCap"),_=t("./InfoBarControllerAiCap"),C=t("./ItemSlotAiCap"),T=t("./LichSuAiCap"),I=t("./SpinNormalAiCap"),W=t("./AiCapTopSymbolManager"),M=cc._decorator,E=M.ccclass,R=M.property,A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.asset=null,e.bkgSprite=null,e.effect=null,e.lines=null,e.parentItem=null,e.parentEffect=null,e.labelChipReviceInBox=null,e.lb_totalBet=null,e.lb_FSLeft=null,e.lb_TotalLine=null,e.lb_CountAuto=null,e.infoBar=null,e.btnSpin=null,e.mask=null,e.nodeChooseAuto=null,e.popupLichSu=null,e.audio=null,e.listNodeDeactive=[],e.cachChoi=null,e.nodeBtnPlay=null,e.nodeBtnSeting=null,e.toggleTurbo=null,e.btnStartAuto=null,e.spinLightLeft=null,e.spinLightRight=null,e.listMultipile=null,e.TopSymbolManager=null,e.listColum=[],e.listResult=null,e.listResultConvert=[],e.listConfigBet=[],e.gameType=-1,e.sfs=null,e.roomSFS=null,e.stateReel=0,e.totalLineBet=9,e.curRoomBet=50,e.funEnd=null,e.isShowBtnPlay=!0,e.dataFinish=null,e.sfsObjTest=null,e.stateSpin=null,e.makeDelay=null,e.currentTotalLine=1,e.agWin=0,e}return i(e,t),e.prototype.sendJoinRoom=function(){var t=f.ConectManager.getIns().getSFSObj();t.putInt("gameType",d.default.AiCap),t.putInt("roomType",-1),t.putInt("mark",-1),f.ConectManager.getIns().sendRequest(u.REQUEST_CODE.GetIdJoinRoom,t)},e.prototype.onDisconnect=function(){cc.log("disconnect"),v.Windown.UIManager.hideLoading(),v.Windown.UIManager.hideLoadingData(),cc.director.loadScene("main")},e.prototype.userExitRoom=function(t){cc.log("user exit room"),"SlotAC"==t.room.groupId&&t.user.isItMe&&cc.director.loadScene("main")},e.prototype.onCreateError=function(){cc.log("creat errr"),v.Windown.UIManager.hideLoading(),cc.director.loadScene("main"),v.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM)},e.prototype.onJoinRoom=function(t){return s(this,void 0,void 0,function(){var e,n,o,i,r,s,c;return a(this,function(){if(cc.log("onJoinRoom "),"SlotAC"==(e=t.room).groupId){for(s in this.roomSFS=e,v.Windown.UIManager.hideLoadingData(),n=e.getVariable("cf"),o=n.value,cc.log(o),i=[],r=JSON.parse(o))(c=Object.create(null)).bet=parseInt(s),c.perJp=r[s].percentPot/100,i.push(c);i.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=i,this.curRoomBet=this.listConfigBet[0].bet,this.lb_totalBet.string=v.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}return[2]})})},e.prototype.switchBkgGame=function(t){var e=cc.find("Game/BkgGround/FreeSpin",this.node);if(e.active=!1,v.Windown.AiCap.lb_FSLeft.node.parent.active=!1,t){e.active=!0;var n=cc.find("Alats8-fs_vfx_c_add",e);n.stopAllActions(),n.runAction(cc.repeatForever(cc.rotateBy(1,30))),v.Windown.AiCap.lb_FSLeft.node.parent.active=!0}},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),v.Windown.UIManager.hideLoading(),v.Windown.UIManager.hideLoadingData(),v.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM),cc.director.loadScene("main")},e.prototype.activeMask=function(){},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(cc.log("extResponse",e),e){case u.REQUEST_CODE.SpinAiCap:cc.log(v.Windown.SFSObjToJson(n)),this.handleFinish(n);break;case u.REQUEST_CODE.HistoryAiCap:this.popupLichSu.responseServer(n);break;case u.REQUEST_CODE.HistoryChiTietAiCap:this.popupLichSu.responseServerChiTiet(n);break;case u.REQUEST_CODE.InfoBaseBonus:this.handleInfoBaseBonus(n);break;case u.REQUEST_CODE.REQUEST_GET_LastSpin_SLOT:this.handleGetLastSpinSlot(n)}},e.prototype.handleGetLastSpinSlot=function(t){t.get("t")==d.default.AiCap&&this.stateReel==p.default.RUN&&(!t.containsKey("d")||this.dataFinish&&v.Windown.SFSObjToJson(this.dataFinish)==v.Windown.SFSObjToJson(t.get("d"))?this.sendClickSpin():this.handleFinish(t.get("d")))},e.prototype.handleInfoBaseBonus=function(t){cc.log("co infor base ne"),this.lineBonus1=JSON.parse(t.getUtfString("lineBonus1")),this.lineBonus2=JSON.parse(t.getUtfString("lineBonus2")),this.lineBonus3=JSON.parse(t.getUtfString("lineBonus3")),this.lineBonus4=JSON.parse(t.getUtfString("lineBonus4"));var e=JSON.parse(t.getUtfString("multis"));console.log("handleInfoBaseBonus",this.lineBonus1,this.lineBonus2,this.lineBonus3,this.lineBonus4,e),this.TopSymbolManager.setInfoSymbol(this.lineBonus1,this.lineBonus2,this.lineBonus3,this.lineBonus4),this.TopSymbolManager.checkActionShowLineXanh()},e.prototype.handleFinish=function(t){var e=this;if(t.containsKey(l.PlayerPP.ERR_MESSAGE))return this.stateSpin.handleErrSpin(),v.Windown.Dialog.showLog(t.get(l.PlayerPP.ERR_MESSAGE)),this.activeAllBtn(),void this.onClickResetCountAuto();cc.log(t.get("listItemWin")),this.dataFinish=t,this.agWin=this.dataFinish.get("agWin"),v.Windown.MoneyUser.pushDelayMoney(this.gameType,this.dataFinish.get("agUser"),this.agWin),this.truTienBet(this.dataFinish.get("agBet")*this.totalLineBet,this.dataFinish.get("agUser")),this.listResult=t.get("views");var n=JSON.parse(t.getUtfString("lineBonus1")),o=JSON.parse(t.getUtfString("lineBonus2")),i=JSON.parse(t.getUtfString("lineBonus3")),r=JSON.parse(t.getUtfString("lineBonus4"));this.lineBonusNew1=JSON.parse(t.getUtfString("lineBonusNew1")),this.lineBonusNew2=JSON.parse(t.getUtfString("lineBonusNew2")),this.lineBonusNew3=JSON.parse(t.getUtfString("lineBonusNew3")),this.lineBonusNew4=JSON.parse(t.getUtfString("lineBonusNew4")),this.listLineWin=[this.lineBonusNew1,this.lineBonusNew2,this.lineBonusNew3,this.lineBonusNew4],this.listMulti=JSON.parse(t.getUtfString("multis")),this.listResultConvert=this.convertResult(this.listResult,JSON.parse(v.Windown.SFSArrToJson(t.get("listItemWin")))),this.listResultConvert[0].lineBonus1=n,this.listResultConvert[0].lineBonus2=o,this.listResultConvert[0].lineBonus3=i,this.listResultConvert[0].lineBonus4=r,this.stateSpin.isMaxSpeed,this.stateReel=p.default.CAN_STOP;var s=this.stateSpin.isMaxSpeed?0:.2;this.scheduleOnce(this.funEnd=function(){e.stateSpin.onEnd()},s)},e.prototype.onDestroy=function(){v.Windown.AiCap=null,this.dataFinish&&(v.Windown.MoneyUser.removeDelay(this.gameType),this.dataFinish=null),v.Windown.MoneyUser.endGameMOney(this.gameType),cc.systemEvent.removeAll(this),this.roomSFS=null,this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse)},e.prototype.start=function(){var t=this;v.Windown.AiCap=this,this.makeDelay=new g.default(this),cc.log("start slot ai cap"),this.gameType=d.default.AiCap,this.sfs=f.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(c.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),cc.systemEvent.on(c.EVENT_MANAGER.LOGIN,this.onLogin,this),this.stateReel=p.default.WAITING,this.stateSpin=new I.default,this.sendJoinRoom(),this.activeMask(!1),this.setupView(),this.initItem(),cc.sys.isNative||this.scheduleOnce(function(){return s(t,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,v.Windown.loadBundle(d.default.AiCap.toString())];case 1:return t.sent().loadDir("Spine",function(){}),[2]}})})},3),this.btnSpin.on("mouseleave",function(){t.btnSpin.getChildByName("hover_glow_a").active=!1}),this.btnSpin.on("mouseenter",function(){t.btnSpin.getChildByName("hover_glow_a").active=!0})},e.prototype.onLogin=function(){this.sendJoinRoom()},e.prototype.initItem=function(){for(var t=cc.instantiate(this.parentItem.children[0]),e=t.width,n=0;n<3;n++){var o=this.parentItem.children[n];null==o&&((o=cc.instantiate(t)).parent=this.parentItem);var i=o.getComponent(C.default);this.listColum.push(i),i.index=n,i.setResultFirtGame(),i.node.x=e*n+e/2-3*e/2,i.node.y=0}},e.prototype.setupView=function(){var t=cc.find("Game",this.node);if(cc.sys.isMobile)e=1280/720;else{var e=cc.view.getDesignResolutionSize().height/1280;t.setScale(e,e,e),this.bkgSprite.setContentSize(cc.winSize),v.Windown.UIManager.changeRotation(!0)}},e.prototype.getLastPoint=function(){for(var t=0,e=0;e<this.listMultipile.children.length;e++){var n=this.listMultipile.children[e];n.x>t&&(t=n.x)}return t},e.prototype.sendClickSpin=function(){if(null!=this.sfsObjTest)return f.ConectManager.getIns().sendRequest("testSpin",this.sfsObjTest,this.roomSFS),this.sfsObjTest=null,void cc.log("send test ne");var t=f.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),f.ConectManager.getIns().sendRequest(u.REQUEST_CODE.SpinAiCap,t,this.roomSFS)},e.prototype.onClickBtnSpin=function(){return s(this,void 0,void 0,function(){var t,e,n,o;return a(this,function(i){switch(i.label){case 0:return this.stateReel!=p.default.WAITING?[3,6]:(this.audio.playEffect(this.audio.spin_btn),this.stateReel=p.default.RUN,this.setStateEffBtnSpin(),this.offAllBtn(),this.spinLightLeft.opacity=0,this.spinLightRight.opacity=0,this.spinLightLeft.runAction(cc.sequence(cc.fadeIn(1),cc.fadeOut(1))),this.spinLightRight.runAction(cc.sequence(cc.fadeIn(1),cc.fadeOut(1))),t=cc.find("spin_glow_a",this.btnSpin),e=cc.find("spin_sand_a",this.btnSpin),n=cc.find("spin_sand_b",this.btnSpin),e.active=!0,n.active=!0,t.active=!0,n.getComponent(cc.Animation).play(),this.scheduleOnce(function(){e.getComponent(cc.Animation).play(),t.getComponent(cc.Animation).play()},.1),this.lines.stopAllActions(),this.audio.node.stopAllActions(),this.stateSpin.hideAllLines(),this.infoBar.reset(),this.stateSpin.listColum.forEach(function(t){t.resetState()}),[4,this.getMakeDelay(.05).prosime]);case 1:i.sent(),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this.stateSpin.onStart()];case 3:return i.sent(),[3,5];case 4:return o=i.sent(),m.Util.ThrowErrProsime(o),[3,5];case 5:return this.sendClickSpin(),[3,7];case 6:this.stateReel==p.default.CAN_STOP?this.stateSpin.isMaxSpeed||(this.unschedule(this.funEnd),this.stateSpin.onForceEnd(),this.stateReel=p.default.RUN):(this.stateReel,p.default.STOP),i.label=7;case 7:return[2]}})})},e.prototype.showContentTip=function(){},e.prototype.updateNewTotalLine=function(){},e.prototype.resetForNewGame=function(){this.stateReel=p.default.WAITING,this.setStateEffBtnSpin()},e.prototype.resetLbTotalLine=function(){},e.prototype.setStateEffBtnSpin=function(){var t=cc.find("sb_button_frame/sb_arrow",this.btnSpin);if(this.stateReel!=p.default.STOP){var e=cc.Material.getBuiltinMaterial("2d-sprite");t.getComponent(cc.Sprite).setMaterial(0,e)}if(this.stateReel==p.default.WAITING||this.stateReel==p.default.SHOW_EFFECT)t.stopAllActions(),t.runAction(cc.repeatForever(cc.rotateBy(3,-360)));else if(this.stateReel==p.default.RUN)cc.log("play anim"),t.stopAllActions(),t.runAction(cc.repeatForever(cc.rotateBy(.3,-360))),this.infoBar.showRdContent();else if(this.stateReel==p.default.STOP){t.stopAllActions();var n=cc.Material.getBuiltinMaterial("2d-gray-sprite");t.getComponent(cc.Sprite).setMaterial(0,n)}},e.prototype.setLbFreeSpinLeft=function(t){var e=this.lb_FSLeft.node.parent;this.lb_FSLeft.string=t,t<1?(cc.find("last_spin",e).active=!0,cc.find("remaining_spin",e).active=!1,this.lb_FSLeft.node.active=!1):(cc.find("last_spin",e).active=!1,cc.find("remaining_spin",e).active=!0,this.lb_FSLeft.node.active=!0)},e.prototype.setCountAuto=function(t){this.lb_CountAuto.node.parent.active=!(t<1),this.lb_CountAuto.string=t.toString()},e.prototype.showMoneyAllWin=function(t){cc.log("money win: "+t),this.labelChipReviceInBox.setMoney(t),v.Windown.MoneyUser.removeDelay(this.gameType)},e.prototype.offLbFree=function(){this.lb_FSLeft.node.parent.active=!1},e.prototype.onClickSendObjTest=function(){var t=f.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),t.putUtfString("arr",'[[{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":12}],\n            [{"size":3,"typeItem":1,"idItem":0},{"size":2,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":12}],\n            [{"size":1,"typeItem":0,"idItem":0},{"size":2,"typeItem":1,"idItem":4},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":12}],\n            [{"size":1,"typeItem":0,"idItem":4},{"size":3,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":12}],\n            [{"size":4,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":12}],\n            [{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":2}]]'),this.sfsObjTest=t,this.onClickBtnSpin(),cc.log("onClickSendObjTest")},e.prototype.onClickTest=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(){return(t=f.ConectManager.getIns().getSFSObj()).putInt("bet",this.curRoomBet),t.putUtfString("arr",'{"agWin":900,"lineBonus2":[0,1,0,1,0],"lineBonus1":[0,0,0,0,0],"listItemWin":[{"symbol":0,"agWin":300,"id":0},{"symbol":0,"agWin":300,"id":5},{"symbol":0,"agWin":300,"id":6}],"agUser":973800,"lineBonus4":[0,1,0,1,0],"lineBonus3":[0,0,0,0,0],"agBet":100,"views":[[{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":5}],[{"size":1,"typeItem":0,"idItem":10},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":0}],[{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":1}]]}'),this.sfsObjTest=t,this.onClickBtnSpin(),[2]})})},e.prototype.clearAllMakeDelay=function(){this.makeDelay.clear()},e.prototype.onClickResetCountAuto=function(){this.stateSpin.countAutoSpin=0,this.lb_CountAuto.node.parent.active=!1,v.Windown.AiCap.audio.playClick()},e.prototype.onClickItemAutoSpin=function(t){v.Windown.AiCap.audio.playClick(),this.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer).allowSwitchOff=!1;var e=t.node.name,n=Number(e);this.stateSpin.countAutoSpin=n,this.btnStartAuto.interactable=!0,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#FF8E26")},e.prototype.onClickStartAutoSpin=function(){this.onClickBtnSpin(),this.onClickCloseListAuto(),v.Windown.AiCap.stateSpin.countAutoSpin>0&&v.Windown.AiCap.setCountAuto(v.Windown.AiCap.stateSpin.countAutoSpin)},e.prototype.onClickShowListAuto=function(){v.Windown.AiCap.audio.playClick(),this.nodeChooseAuto.active=!0,this.nodeChooseAuto.opacity=0,this.nodeChooseAuto.runAction(cc.fadeIn(.3)),this.btnStartAuto.interactable=!1,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")},e.prototype.onClickCloseListAuto=function(){var t=this;v.Windown.AiCap.audio.playClick(),this.nodeChooseAuto.stopAllActions(),this.nodeChooseAuto.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){var e=t.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer);e.allowSwitchOff=!0,e.toggleItems.forEach(function(t){t.isChecked&&t.uncheck()}),t.nodeChooseAuto.active=!1,t.btnStartAuto.interactable=!1,t.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")})))},e.prototype.convertResult=function(t,e){var n=[],o=Object.create(null);return o.listSFSObj=[],o.listItemWin=[],o.agWin=this.agWin,v.Windown.foreachSFSArray(t,function(n,i){var r=[];if(v.Windown.foreachSFSArray(n,function(t){r.push(t)}),o.listSFSObj.push(r),i==t.size()-1)for(var s=0;s<e.length;s++){var a=e[s];a&&(a.lsIdItem=JSON.parse(a.id),a.lsstack=3,a.lsAgWin=JSON.parse(a.agWin),a.lsSymbol=JSON.parse(a.symbol),a.agWin=JSON.parse(a.agWin),o.listItemWin.push(a))}}),n.push(o),n},e.prototype.onClickChangeBet=function(t,e){if(v.Windown.AiCap.audio.playClick(),this.listConfigBet.length<1)v.Windown.Dialog.showLog(h.TextDefine.Error);else{var n=-1;for(var o in this.listConfigBet)if(this.listConfigBet[o].bet==this.curRoomBet){n=parseInt(o);break}0==e?n--:n++,n<0&&(n=this.listConfigBet.length-1),n>this.listConfigBet.length-1&&(n=0),this.curRoomBet=this.listConfigBet[n].bet,this.lb_totalBet.string=v.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.onClickCachChoi=function(){v.Windown.AiCap.audio.playClick(),this.cachChoi.active=!0,this.cachChoi.opacity=0,this.cachChoi.stopAllActions(),this.cachChoi.runAction(cc.fadeIn(.3))},e.prototype.onCloseCachChoi=function(){var t=this;v.Windown.AiCap.audio.playClick(),this.cachChoi.stopAllActions(),this.cachChoi.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.cachChoi.active=!1})))},e.prototype.onClickBackToLobby=function(){v.Windown.AiCap.audio.playClick(),this.roomSFS?f.ConectManager.getIns().sendLeaveRoom(this.roomSFS):cc.director.loadScene("main")},e.prototype.onClickTurbo=function(){v.Windown.AiCap.audio.playClick();var t=this.toggleTurbo.isChecked;this.toggleTurbo.node.children[1].active=!t,this.stateSpin.isMaxSpeed=t,t?v.Windown.UIManager.showAlertMini("B\u1eadt T\u0103ng T\u1ed1c"):v.Windown.UIManager.showAlertMini("T\u1eaft T\u0103ng T\u1ed1c")},e.prototype.onClickSeting=function(){if(v.Windown.AiCap.audio.playClick(),cc.log("click onClickSeting"),this.isShowBtnPlay=!this.isShowBtnPlay,this.isShowBtnPlay)t=cc.v2(0,-750),this.nodeBtnPlay.runAction(cc.fadeIn(.4)),this.nodeBtnSeting.runAction(cc.spawn(cc.fadeOut(.3),cc.moveTo(.3,t)));else{this.nodeBtnPlay.stopAllActions(),this.nodeBtnSeting.stopAllActions();var t=cc.v2(0,-525.279);this.nodeBtnPlay.runAction(cc.fadeOut(.3)),this.nodeBtnSeting.opacity=0,this.nodeBtnSeting.runAction(cc.spawn(cc.fadeIn(.4),cc.moveTo(.4,t)))}},e.prototype.getMakeDelay=function(t){return this.makeDelay.getDelay(t)},e.prototype.activeAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!0,t.node.children.forEach(function(t){t.color=cc.Color.fromHEX(new cc.Color,"#F86919")})})},e.prototype.offAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!1,t.node.children.forEach(function(t){t.color=cc.Color.fromHEX(new cc.Color,"#999999")})})},e.prototype.truTienBet=function(t,e){0!=t&&v.Windown.MoneyUser.subMoney(t,e)},e.prototype.effectShake=function(t,e){void 0===t&&(t=.2),void 0===e&&(e=10)},e.prototype.onClickLichSu=function(){v.Windown.AiCap.audio.playClick(),this.popupLichSu.show()},e.prototype.update=function(){},e.prototype.activeLightHover=function(){},r([R(S.default)],e.prototype,"asset",void 0),r([R(cc.Node)],e.prototype,"bkgSprite",void 0),r([R(w.default)],e.prototype,"effect",void 0),r([R(cc.Node)],e.prototype,"lines",void 0),r([R(cc.Node)],e.prototype,"parentItem",void 0),r([R(cc.Node)],e.prototype,"parentEffect",void 0),r([R(y.default)],e.prototype,"labelChipReviceInBox",void 0),r([R(cc.Label)],e.prototype,"lb_totalBet",void 0),r([R(cc.Label)],e.prototype,"lb_FSLeft",void 0),r([R(cc.Label)],e.prototype,"lb_TotalLine",void 0),r([R(cc.Label)],e.prototype,"lb_CountAuto",void 0),r([R(_.default)],e.prototype,"infoBar",void 0),r([R(cc.Node)],e.prototype,"btnSpin",void 0),r([R(cc.Node)],e.prototype,"mask",void 0),r([R(cc.Node)],e.prototype,"nodeChooseAuto",void 0),r([R(T.default)],e.prototype,"popupLichSu",void 0),r([R(b.default)],e.prototype,"audio",void 0),r([R([cc.Button])],e.prototype,"listNodeDeactive",void 0),r([R(cc.Node)],e.prototype,"cachChoi",void 0),r([R(cc.Node)],e.prototype,"nodeBtnPlay",void 0),r([R(cc.Node)],e.prototype,"nodeBtnSeting",void 0),r([R(cc.Toggle)],e.prototype,"toggleTurbo",void 0),r([R(cc.Button)],e.prototype,"btnStartAuto",void 0),r([R(cc.Node)],e.prototype,"spinLightLeft",void 0),r([R(cc.Node)],e.prototype,"spinLightRight",void 0),r([R(cc.Node)],e.prototype,"listMultipile",void 0),r([R(W.default)],e.prototype,"TopSymbolManager",void 0),r([E],e)}(cc.Component);n.default=A,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../../Scritps/DefineTs/PlayerPP":"PlayerPP","../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Other/MakeDelay":"MakeDelay","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./AiCapTopSymbolManager":"AiCapTopSymbolManager","./AssetAiCap":"AssetAiCap","./AudioAiCap":"AudioAiCap","./EffectAiCap":"EffectAiCap","./InfoBarControllerAiCap":"InfoBarControllerAiCap","./ItemSlotAiCap":"ItemSlotAiCap","./LichSuAiCap":"LichSuAiCap","./SpinNormalAiCap":"SpinNormalAiCap"}],AlertMessage:[function(t,e,n){"use strict";cc._RF.push(e,"d15beHdHvpGf4FkZqJxT3cs","AlertMessage");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Windown"),a=t("./ItemAlertMessage"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbMessage=null,e.bg=null,e.itemMessage=null,e.isHorizontal=!1,e.isRunning=!1,e.pool=new cc.NodePool,e.listItemMess=[],e.countNormal=0,e}return i(e,t),e.prototype.onLoad=function(){s.Windown.BigWinLobby.alertMessageView=this},e.prototype.update=function(){cc.sys.isBrowser&&!cc.sys.isMobile?this.isHorizontal=!1:cc.sys.isMobile&&(null!=s.Windown.FishBongDem||null!=s.Windown.BaccaratView||null!=s.Windown.XocDiaView||null!=s.Windown.TienLen||null!=s.Windown.LoDe?this.isHorizontal=!0:this.isHorizontal=!1),this.isHorizontal?this.node.setContentSize(cc.size(cc.winSize.height,this.node.height)):this.node.setContentSize(cc.size(cc.winSize.width,this.node.height)),this.checkPosition()},e.prototype.getItem=function(){return this.pool.size()<1?cc.instantiate(this.itemMessage):this.pool.get()},e.prototype.checkPosition=function(){null!=s.Windown.FishBongDem?this.node.y=3e3:null!=s.Windown.ShopView&&null!=s.Windown.ShopView.node.parent||null!=s.Windown.TietKiem&&null!=s.Windown.TietKiem.node.parent||null!=s.Windown.HomThu&&null!=s.Windown.HomThu.node.parent||null!=s.Windown.NhiemVu&&null!=s.Windown.NhiemVu.node.parent||null!=s.Windown.ThongTin&&null!=s.Windown.ThongTin.node.parent||null!=s.Windown.XepHang&&null!=s.Windown.XepHang.node.parent||null!=s.Windown.CaiDat&&null!=s.Windown.CaiDat.node.parent||s.Windown.UIManager.loadingData.active||null!=s.Windown.MainView&&s.Windown.MainView.nodeLogin.active?(this.node.y=cc.winSize.height/2-this.node.height/2,this.node.angle=0):this.isHorizontal?(this.node.angle=90,null!=s.Windown.MainView?this.node.setPosition(cc.v2(-cc.winSize.width/2-this.node.width/2,0)):this.node.setPosition(cc.v2(-cc.winSize.width/2+this.node.height/2,0))):(this.node.angle=0,null!=s.Windown.MainView?this.node.setPosition(cc.v2(0,cc.winSize.height/2-this.node.height/2-100)):this.node.setPosition(cc.v2(0,cc.winSize.height/2-this.node.height/2)))},e.prototype.stopShow=function(){this.node.opacity=0,this.bg.active=!1},e.prototype.onDestroy=function(){this.pool.clear()},e.prototype.getRandomNoti=function(){return s.Windown.UIManager.listMessAlert[s.Windown.RandomNumber(0,s.Windown.UIManager.listMessAlert.length)]},e.prototype.shuffle=function(t){return t.sort(function(){return Math.random()-.5})},e.prototype.addBigWin=function(){var t=this;if(0==this.node.getChildByName("bgAlert").active&&(this.node.getChildByName("bgAlert").active=!0,this.node.getChildByName("iconNOti").active=!0),!this.isRunning){this.bg.active=!0;var e=s.Windown.BigWinLobby.listBigWin.shift(),n=this.getItem();n.parent=this.node.getChildByName("Mask"),s.Windown.BigWinLobby.listBigWin.length>0?n.getComponent(a.default).initItem(e):(n.getComponent(a.default).initNotiNormal(this.getRandomNoti()),this.countNormal++,3==this.countNormal&&(s.Windown.BigWinLobby.listBigWin=this.shuffle(s.Windown.BigWinLobby.listCacheRunAction.slice()),this.countNormal=0));var o=this.listItemMess[this.listItemMess.length-1];this.listItemMess.push(n),this.scheduleOnce(function(){cc.isValid(o)?(n.x=o.x+o.width+60,n.x<t.node.width/2&&(n.x=t.node.width/2)):n.x=t.node.width/2,n.active=!0,t.isRunning=!0;var e=!1;cc.tween(n).by(2,{x:-300},{onUpdate:function(){n.x<t.node.width/2-n.width&&0==e&&(t.isRunning=!1,e=!0,t.addBigWin()),n.x<-t.node.width/2-n.width&&(n.x=t.node.width/2,t.listItemMess.shift(),cc.Tween.stopAllByTarget(n),t.pool.put(n),n.active=!1)}}).repeatForever().start()},.2)}},e.prototype.initListAlert=function(){},e.prototype.show=function(t){var e=this;null==s.Windown.MainView||this.isRunning||(this.bg.active=!0,this.checkPosition(),this.lbMessage.string=t,this.node.active=!0,this.node.getChildByName("bgNormal").active=!0,this.isHorizontal?(this.isRunning=!0,this.lbMessage.node.x=cc.winSize.height/2+this.lbMessage.node.width/2,cc.Tween.stopAllByTarget(this.lbMessage.node),cc.tween(this.lbMessage.node).to(15,{x:-cc.winSize.height/2}).call(function(){e.node.active=!1,e.isRunning=!1}).start()):(this.isRunning=!0,this.lbMessage.node.x=cc.winSize.width/2+this.lbMessage.node.width/2,cc.Tween.stopAllByTarget(this.lbMessage.node),cc.tween(this.lbMessage.node).to(15,{x:-cc.winSize.width/2}).call(function(){e.node.active=!1,e.isRunning=!1}).start()))},r([u(cc.Label)],e.prototype,"lbMessage",void 0),r([u(cc.Node)],e.prototype,"bg",void 0),r([u(cc.Node)],e.prototype,"itemMessage",void 0),r([u],e.prototype,"isHorizontal",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Windown":"Windown","./ItemAlertMessage":"ItemAlertMessage"}],AniFrameByFrame:[function(t,e,n){"use strict";cc._RF.push(e,"26495mkYd9K87r1dH28RUj3","AniFrameByFrame");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.AniFrameByFrame=void 0;var s=cc._decorator,a=s.ccclass,c=s.property,l=s.executeInEditMode,u=s.disallowMultiple,p=s.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listFrame=[],e.isLoop=!0,e.destroyWhenFinish=!1,e.runAwake=!0,e.runEnable=!1,e.sample=60,e.speed=1,e._funUpdate=null,e._isPreview=!1,e.timeUpdate=0,e._sprite=null,e._isPlaying=!1,e._isPaused=!1,e._curCountSpF=0,e._funDelay=null,e}return i(e,t),Object.defineProperty(e.prototype,"isPreview",{get:function(){return this._isPreview},set:function(t){this._isPreview=t,this._isPreview?this.play():this.stop()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._sprite=this.node.getComponent(cc.Sprite)},e.prototype.onEnable=function(){this.runEnable&&this.play()},e.prototype.start=function(){this.runAwake&&this.play()},e.prototype.play=function(){this._isPlaying?this._isPaused&&(this._isPaused=!1):(this._isPlaying=!0,this._curCountSpF=0,this.updateSp(),this.isPreview&&(this._funDelay=setInterval(function(){},1e3/60)))},e.prototype.pause=function(){this._isPlaying&&!this._isPaused&&(this._isPaused=!0)},e.prototype.resume=function(){this._isPlaying&&this._isPaused&&(this._isPaused=!1)},e.prototype.stop=function(){this._isPlaying&&(this._isPlaying=!1,this._isPaused=!1),this._curCountSpF=0,this._funDelay&&clearInterval(this._funDelay)},e.prototype.updateSp=function(){this._sprite.spriteFrame=this.listFrame[this._curCountSpF],this._curCountSpF++,this.checkStop()},e.prototype.checkStop=function(){this._curCountSpF>=this.listFrame.length&&(this.isLoop?this._curCountSpF=0:(this.destroyWhenFinish&&this.node.destroy(),this.stop()))},e.prototype.update=function(t){if(this.isPreview,this._isPlaying&&!this._isPaused){this.timeUpdate+=t;var e=1/this.sample/this.speed;if(this.timeUpdate>=e){for(;(this.timeUpdate-=e)>=e;)this._curCountSpF++,this.checkStop();this.updateSp()}}},e.prototype.onDestroy=function(){setInterval(function(){},5e3)},r([c([cc.SpriteFrame])],e.prototype,"listFrame",void 0),r([c],e.prototype,"isLoop",void 0),r([c],e.prototype,"destroyWhenFinish",void 0),r([c],e.prototype,"runAwake",void 0),r([c],e.prototype,"runEnable",void 0),r([c],e.prototype,"sample",void 0),r([c],e.prototype,"speed",void 0),r([c],e.prototype,"_isPreview",void 0),r([c],e.prototype,"isPreview",null),r([a,u,l,p("Custom/AniFrameByFrame")],e)}(cc.Component);n.AniFrameByFrame=h,cc._RF.pop()},{}],AnimationRunState:[function(t,e,n){"use strict";cc._RF.push(e,"b1de7OLOwxJ4ZkiW9uUARTA","AnimationRunState");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animation=null,e.animationsName=[],e.isPlayOnLoad=!0,e.isLoopWithEnd=!0,e}return i(e,t),e.prototype.onEnable=function(){null==this.animation&&(this.animation=this.getComponent(sp.Skeleton)),this.isPlayOnLoad&&this.runAmition(0)},e.prototype.runAmition=function(t){var e=this;if(!(t>this.animationsName.length||null==this.animation)){var n=!1;t>=this.animationsName.length-1&&this.isLoopWithEnd&&(n=!0),this.animation.setAnimation(0,this.animationsName[t],n),this.animation.setCompleteListener(function(){e.animation.setCompleteListener(null),t+1<e.animationsName.length&&e.runAmition(t+1)})}},r([c(sp.Skeleton)],e.prototype,"animation",void 0),r([c([cc.String])],e.prototype,"animationsName",void 0),r([c],e.prototype,"isPlayOnLoad",void 0),r([c],e.prototype,"isLoopWithEnd",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],AsgardView:[function(t,e,n){"use strict";cc._RF.push(e,"1320a+H4cxEAZFNkw8nJX2C","AsgardView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/EVENT_MANAGER"),l=t("../../../Scritps/DefineTs/PlayerPP"),u=t("../../../Scritps/DefineTs/REQUEST_CODE"),p=t("../../../Scritps/DefineTs/StateReelSlot"),h=t("../../../Scritps/DefineTs/TextDefine"),d=t("../../../Scritps/Game/GAME_TYPE"),f=t("../../../Scritps/Network/ConectManager"),y=t("../../../Scritps/Obs/LbMoneyChange"),g=t("../../../Scritps/Other/LbMonoSpace"),m=t("../../../Scritps/Util"),v=t("../../../Scritps/Windown"),S=t("./AssetAsgard"),b=t("./AudioAsgard"),w=t("./EffectAsgard"),_=t("./InfoBarControllerAsgard"),C=t("./ItemSlotAsgard"),T=t("./ItemSlotAsgardNgang"),I=t("./LichSuAsgard"),W=t("./MutilControlAsgard"),M=t("./SpinNormalAsgard"),E=cc._decorator,R=E.ccclass,A=E.property,B=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.asset=null,e.bkgSprite=null,e.itemSlotAsgardNgang=null,e.parentItem=null,e.parentEffect=null,e.parentItemFront=null,e.parentItemActive=null,e.nodeLine=null,e.effect=null,e.labelChipReviceInBox=null,e.lb_totalBet=null,e.lb_FSLeft=null,e.lb_TotalLine=null,e.lb_CountAuto=null,e.infoBar=null,e.muitlCtr=null,e.btnSpin=null,e.parentMask=null,e.nodeChooseAuto=null,e._popupLichSu=null,e.audio=null,e.listNodeDeactive=[],e.nodeBtnPlay=null,e.nodeBtnSeting=null,e.nearWinNoSap=null,e.toggleTurbo=null,e.btnStartAuto=null,e.listColum=[],e.listResult=null,e.listResultConvert=[],e.listConfigBet=[],e.gameType=-1,e.sfs=null,e.roomSFS=null,e.stateReel=0,e.totalLineBet=20,e.curRoomBet=50,e.funEnd=null,e.isShowBtnPlay=!0,e.dataFinish=null,e.sfsObjTest=null,e.sfsObjTest2=null,e.stateSpin=null,e.isDoneStartSpin=!1,e.currentTotalLine=1,e}return i(e,t),e.prototype.onLoad=function(){v.Windown.Asgard=this,cc.log("start dieu thuyen"),this.gameType=d.default.Asgard,this.sfs=f.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(c.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),this.stateReel=p.default.WAITING,this.stateSpin=new M.default,this.sendJoinRoom(),this.activeMask(!1)},e.prototype.sendJoinRoom=function(){var t=f.ConectManager.getIns().getSFSObj();t.putInt("gameType",d.default.Asgard),t.putInt("roomType",-1),t.putInt("mark",-1),f.ConectManager.getIns().sendRequest(u.REQUEST_CODE.GetIdJoinRoom,t)},e.prototype.onDisconnect=function(){cc.log("disconnect"),v.Windown.UIManager.hideLoading(),v.Windown.UIManager.hideLoadingData(),cc.director.loadScene("main")},e.prototype.userExitRoom=function(t){cc.log("user exit room"),"SlotCB"==t.room.groupId&&t.user.isItMe&&cc.director.loadScene("main")},e.prototype.onCreateError=function(){cc.log("creat errr"),v.Windown.UIManager.hideLoading(),cc.director.loadScene("main"),v.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM)},e.prototype.onJoinRoom=function(t){cc.log("onJoinRoom "+t.room.groupId);var e=t.room;if("SlotCB"==e.groupId){this.roomSFS=e,v.Windown.UIManager.hideLoadingData();var n=e.getVariable("cf").value;cc.log(n);var o=[],i=JSON.parse(n);for(var r in i){var s=Object.create(null);s.bet=parseInt(r),s.perJp=i[r].percentPot/100,o.push(s)}o.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=o,this.curRoomBet=this.listConfigBet[0].bet,this.lb_totalBet.string=v.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.switchBkgGame=function(t,e){var n=cc.find("Game/BkgGround/FreeSpin",this.node),o=cc.find("Game/Mid/56/32",this.node),i=cc.find("Game/Mid/BkgFs",this.node),r=[];r.push(cc.find("Game/Line/ways",this.node)),r.push.apply(r,cc.find("Game/Line/Lb",this.node).children.map(function(t){return t.children[0]})),r.push.apply(r,cc.find("Game/Line/Lb",this.node).children),r.push(cc.find("Game/Line/Lb",this.node)),cc.log("length list color: "+r.length),t?(n.active=!0,this.muitlCtr.startFreeSpin(e),v.Windown.Asgard.lb_FSLeft.node.parent.active=!0,o.active=!0,i.active=!0,r.forEach(function(t){t.color=(new cc.Color).fromHEX("#FF3C0BE6")})):(n.active=!1,o.active=!1,i.active=!1,v.Windown.Asgard.lb_FSLeft.node.parent.active=!1,this.muitlCtr.endFreeSpin(),r.forEach(function(t){t.color=(new cc.Color).fromHEX("#8ECDD8E6")})),this.lb_TotalLine._updateString()},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),v.Windown.UIManager.hideLoading(),v.Windown.UIManager.hideLoadingData(),v.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM),cc.director.loadScene("main")},e.prototype.activeMask=function(t,e){var n=this.parentMask.children;t?e?(n[e].stopAllActions(),n[e].runAction(cc.fadeTo(.3,150))):n.forEach(function(t){t.stopAllActions(),t.runAction(cc.fadeTo(.3,150))}):e?(n[e].stopAllActions(),n[e].runAction(cc.fadeOut(.3))):n.forEach(function(t){t.stopAllActions(),t.runAction(cc.fadeOut(.3))})},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(e){case u.REQUEST_CODE.SpinAsgard:cc.log(v.Windown.SFSObjToJson(n)),this.handleFinish(n);break;case u.REQUEST_CODE.HistoryAsgard:this._popupLichSu&&this._popupLichSu.responseServer(n);break;case u.REQUEST_CODE.HistoryChiTietAsgard:this._popupLichSu&&this._popupLichSu.responseServerChiTiet(n)}},e.prototype.handleWaitSPin=function(){},e.prototype.handleFinish=function(t){var e=this;if(this.isDoneStartSpin){if(t.containsKey(l.PlayerPP.ERR_MESSAGE))return this.stateSpin.handleErrSpin(),v.Windown.Dialog.showLog(t.get(l.PlayerPP.ERR_MESSAGE)),this.activeAllBtn(),void this.onClickResetCountAuto();this.dataFinish=t,v.Windown.MoneyUser.pushDelayMoney(this.gameType,this.dataFinish.get("agUser"),t.get("agWin")),this.truTienBet(this.dataFinish.get("agBet")*this.totalLineBet,this.dataFinish.get("agUser")),this.listResult=t.get("views");var n=t.get("arrBonus");n="[]"==n?"[0,0,0,0,0,0]":n,this.listResultConvert=this.convertResult(this.listResult,JSON.parse(v.Windown.SFSArrToJson(t.get("listItemWin"))),JSON.parse(n)),this.stateSpin.isMaxSpeed,this.stateReel=p.default.CAN_STOP;var o=this.stateSpin.isMaxSpeed?0:.5;this.scheduleOnce(this.funEnd=function(){e.stateSpin.onEnd()},o)}else this.scheduleOnce(function(){e.handleFinish(t)},.05)},e.prototype.onDestroy=function(){v.Windown.Asgard=null,this.dataFinish&&(v.Windown.MoneyUser.removeDelay(this.gameType),this.dataFinish=null),v.Windown.MoneyUser.endGameMOney(this.gameType),cc.systemEvent.removeAll(this),this.roomSFS=null,this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),this.clearAllMakeDelay()},e.prototype.start=function(){var t=this;this.setupView(),this.initItem(),this.switchBkgGame(!1),cc.sys.isNative||this.scheduleOnce(function(){return s(t,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,v.Windown.loadBundle(d.default.Asgard.toString())];case 1:return t.sent().loadDir("Spine",function(){}),[2]}})})},3)},e.prototype.initItem=function(){for(var t,e=this.getRdViewFirtGame(),n=this.getRdViewForLoop(0),o=cc.instantiate(this.parentItem.children[0]),i=o.width,r=0;r<7;r++){var s=n[r].pop();e[r].unshift(s),e[r].push(s);var a=null;if(r>0){var c=this.parentItem.children[r];null==c&&((c=cc.instantiate(o)).parent=this.parentItem),(a=c.getComponent(C.default)).node.x=i*(r-1)+i/2-6*i/2,a.node.y=0}else a=this.itemSlotAsgardNgang;a.index=r,this.listColum.push(a),n[r].length>0&&(t=a.listResultRandomCache).unshift.apply(t,n[r]),a.setResultFirtGame(e[r])}},e.prototype.setupView=function(){var t=cc.find("Game",this.node);if(cc.sys.isMobile)e=1280/720;else{var e=cc.view.getDesignResolutionSize().height/1280;t.setScale(e,e,e),this.bkgSprite.setContentSize(cc.winSize),v.Windown.UIManager.changeRotation(!0)}},e.prototype.sendClickSpin=function(){if(null!=this.sfsObjTest)return f.ConectManager.getIns().sendRequest("testSpin",this.sfsObjTest,this.roomSFS),this.sfsObjTest=null,void cc.log("send test ne");if(null!=this.sfsObjTest2)return f.ConectManager.getIns().sendRequest("testSpin2",this.sfsObjTest2,this.roomSFS),this.sfsObjTest2=null,void cc.log("send test ne");var t=f.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),f.ConectManager.getIns().sendRequest(u.REQUEST_CODE.SpinAsgard,t,this.roomSFS)},e.prototype.onClickBtnSpin=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),this.stateReel!=p.default.WAITING?[3,2]:(this.audio.playEffect(this.audio.spinBtn),this.stateReel=p.default.RUN,this.setStateEffBtnSpin(),this.offAllBtn(),this.infoBar.reset(),this.isDoneStartSpin=!1,this.sendClickSpin(),[4,v.Windown.Asgard.getPromise(this.stateSpin.onStart())]);case 1:return e.sent(),this.isDoneStartSpin=!0,[3,3];case 2:this.stateReel==p.default.CAN_STOP?this.stateSpin.isMaxSpeed||(cc.log("nhay vao forestop ne"),this.stateReel=p.default.RUN,this.unschedule(this.funEnd),this.stateSpin.onForceEnd()):this.stateReel==p.default.STOP||this.stateReel==p.default.SHOW_EFFECT&&(this.stateSpin.resetForNextNextSpin(),this.onClickBtnSpin()),e.label=3;case 3:return[3,5];case 4:return t=e.sent(),m.Util.ThrowErrProsime(t),[3,5];case 5:return[2]}})})},e.prototype.showContentTip=function(){},e.prototype.updateNewTotalLine=function(t){this.currentTotalLine*=t,this.lb_TotalLine.string=this.currentTotalLine.toString()},e.prototype.resetForNewGame=function(){this.stateReel=p.default.WAITING,this.setStateEffBtnSpin()},e.prototype.resetLbTotalLine=function(){this.currentTotalLine=1,this.lb_TotalLine.string="..."},e.prototype.setStateEffBtnSpin=function(){var t=cc.find("sb_arrow",this.btnSpin),e=cc.find("sb_arrow_blur",this.btnSpin);if(this.stateReel!=p.default.STOP){var n=cc.Material.getBuiltinMaterial("2d-sprite");t.getComponent(cc.Sprite).setMaterial(0,n)}if(this.stateReel==p.default.WAITING||this.stateReel==p.default.SHOW_EFFECT)e.active=!1,t.active=!0,t.stopAllActions(),t.runAction(cc.repeatForever(cc.rotateBy(3,-360)));else if(this.stateReel==p.default.RUN)this.btnSpin.getComponent(cc.Animation).play("Start"),e.active=!0,e.stopAllActions(),e.runAction(cc.repeatForever(cc.rotateBy(.3,-360))),t.active=!1,this.infoBar.showRdContent();else if(this.stateReel==p.default.STOP){t.active=!0,t.stopAllActions(),e.active=!1;var o=cc.Material.getBuiltinMaterial("2d-gray-sprite");t.getComponent(cc.Sprite).setMaterial(0,o)}},e.prototype.setLbFreeSpinLeft=function(t){var e=this.lb_FSLeft.node.parent;this.lb_FSLeft.string=t.toString(),t<1?(cc.find("last_spin",e).active=!0,cc.find("remaining_spin",e).active=!1,this.lb_FSLeft.node.active=!1):(cc.find("last_spin",e).active=!1,cc.find("remaining_spin",e).active=!0,this.lb_FSLeft.node.active=!0)},e.prototype.setCountAuto=function(t){this.lb_CountAuto.node.parent.active=!(t<1),this.lb_CountAuto.string=t.toString()},e.prototype.showMoneyAllWin=function(t){cc.log("money win: "+t),this.labelChipReviceInBox.setMoney(t),v.Windown.MoneyUser.removeDelay(this.gameType)},e.prototype.offLbFree=function(){this.lb_FSLeft.node.parent.active=!1},e.prototype.onClickSendObjTest=function(){var t=f.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),t.putUtfString("arr",'[[{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":12},{"s":1,"t":0,"i":3},{"s":1,"t":0,"i":1}],\n            [{"s":2,"t":1,"i":0},{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":11},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":0}],\n            [{"s":1,"t":0,"i":12},{"s":2,"t":1,"i":0},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":11}],\n            [{"s":1,"t":0,"i":12},{"s":3,"t":0,"i":0},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":12}],\n            [{"s":4,"t":0,"i":1},{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":4}],\n            [{"s":1,"t":0,"i":6},{"s":1,"t":0,"i":6},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":8},{"s":1,"t":0,"i":2}]]'),this.sfsObjTest=t,this.onClickBtnSpin(),cc.log("onClickSendObjTest")},e.prototype.onClickSendFixData=function(){var t=f.ConectManager.getIns().getSFSObj();t.putUtfString("data",'{"agWin":3100,"bonusSpin":[1,2,3,4],"numFreeSpin":0,"listItemWin":[{"lsIdItem":"[7,3]","lsstack":"[2,2]","lsAgWin":"[1600,400]"},{"lsIdItem":"[0]","lsstack":"[2]","lsAgWin":"[100]"},{"lsIdItem":"[1]","lsstack":"[4]","lsAgWin":"[300]"}],"agUser":85520,"Scarter4":false,"agBet":50,"views":[[[{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":7},{"s":1,"t":0,"i":3},{"s":1,"t":0,"i":5},{"s":1,"t":0,"i":4}],[{"s":1,"t":0,"i":7},{"s":2,"t":0,"i":3},{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":7},{"s":1,"t":0,"i":4}],[{"s":1,"t":0,"i":9},{"s":1,"t":0,"i":7},{"s":1,"t":0,"i":6},{"s":1,"t":0,"i":3},{"s":1,"t":0,"i":7},{"s":1,"t":0,"i":3}],[{"s":3,"t":0,"i":1},{"s":2,"t":0,"i":5},{"s":1,"t":0,"i":0}],[{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":4},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":6},{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":10}],[{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":3},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":10}]],[[{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":5},{"s":1,"t":0,"i":4},{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":0}],[{"s":1,"t":0,"i":1},{"s":2,"t":0,"i":0},{"s":1,"t":0,"i":5},{"s":1,"t":0,"i":10},{"s":1,"t":0,"i":4}],[{"s":1,"t":0,"i":9},{"s":1,"t":0,"i":6},{"s":1,"t":0,"i":0},{"s":2,"t":1,"i":9},{"s":1,"t":0,"i":0}],[{"s":3,"t":0,"i":1},{"s":2,"t":0,"i":5},{"s":1,"t":0,"i":10}],[{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":4},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":6},{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":4}],[{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":3},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":10}]],[[{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":5},{"s":1,"t":0,"i":4},{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":2}],[{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":5},{"s":1,"t":0,"i":10},{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":8},{"s":1,"t":0,"i":4}],[{"s":1,"t":0,"i":9},{"s":1,"t":0,"i":6},{"s":2,"t":1,"i":9},{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":10}],[{"s":3,"t":0,"i":1},{"s":2,"t":0,"i":5},{"s":1,"t":0,"i":4}],[{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":4},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":6},{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":5}],[{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":3},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":10}]],[[{"s":1,"t":0,"i":5},{"s":1,"t":0,"i":4},{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":3},{"s":1,"t":0,"i":1}],[{"s":1,"t":0,"i":5},{"s":1,"t":0,"i":10},{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":8},{"s":1,"t":0,"i":9},{"s":1,"t":0,"i":4}],[{"s":1,"t":0,"i":9},{"s":1,"t":0,"i":6},{"s":2,"t":1,"i":9},{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":10}],[{"s":2,"t":0,"i":5},{"s":3,"t":0,"i":2},{"s":1,"t":0,"i":4}],[{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":4},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":6},{"s":1,"t":0,"i":4},{"s":1,"t":0,"i":5}],[{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":3},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":0},{"s":1,"t":0,"i":10}]]]}\n'),this.sfsObjTest2=t,this.onClickBtnSpin()},e.prototype.onClickTest=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(){return(t=f.ConectManager.getIns().getSFSObj()).putInt("bet",this.curRoomBet),t.putUtfString("arr",'[[{"s":1,"t":0,"i":4},{"s":1,"t":0,"i":6},{"s":1,"t":0,"i":1},{"s":1,"t":0,"i":7},{"s":1,"t":0,"i":1}],[{"s":1,"t":0,"i":12},{"s":1,"t":0,"i":3},{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":0}],[{"s":1,"t":0,"i":8},{"s":3,"t":1,"i":2},{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":2}],[{"s":3,"t":1,"i":0},{"s":1,"t":0,"i":6},{"s":1,"t":0,"i":5},{"s":1,"t":0,"i":9}],[{"s":1,"t":0,"i":12},{"s":1,"t":0,"i":3},{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":2},{"s":1,"t":0,"i":9},{"s":1,"t":0,"i":3}],[{"s":1,"t":0,"i":7},{"s":1,"t":0,"i":5},{"s":1,"t":0,"i":5},{"s":1,"t":0,"i":3},{"s":1,"t":0,"i":7}]]'),this.sfsObjTest=t,this.onClickBtnSpin(),[2]})})},e.prototype.onClickResetCountAuto=function(){this.stateSpin.countAutoSpin=0,this.lb_CountAuto.node.parent.active=!1,v.Windown.Asgard.audio.playClick()},e.prototype.onClickItemAutoSpin=function(t){v.Windown.Asgard.audio.playClick(),this.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer).allowSwitchOff=!1;var e=t.node.name,n=Number(e);this.stateSpin.countAutoSpin=n,this.btnStartAuto.interactable=!0,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#FF8E26")},e.prototype.onClickStartAutoSpin=function(){this.onClickBtnSpin(),this.onClickCloseListAuto(),v.Windown.Asgard.stateSpin.countAutoSpin>0&&v.Windown.Asgard.setCountAuto(v.Windown.Asgard.stateSpin.countAutoSpin)},e.prototype.onClickShowListAuto=function(){v.Windown.Asgard.audio.playClick(),this.nodeChooseAuto.active=!0,this.nodeChooseAuto.opacity=0,this.nodeChooseAuto.runAction(cc.fadeIn(.3)),this.btnStartAuto.interactable=!1,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")},e.prototype.onClickCloseListAuto=function(){var t=this;v.Windown.Asgard.audio.playClick(),this.nodeChooseAuto.stopAllActions(),this.nodeChooseAuto.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){var e=t.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer);e.allowSwitchOff=!0,e.toggleItems.forEach(function(t){t.isChecked&&t.uncheck()}),t.nodeChooseAuto.active=!1,t.btnStartAuto.interactable=!1,t.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")})))},e.prototype.convertResult=function(t,e,n){var o=this,i=[];return v.Windown.foreachSFSArray(t,function(t,r){var s=Object.create(null);s.listSFSObj=[[]];for(var a=0,c=0;c<4;c++)a+=n[r][c];s.mutil=cc.misc.clampf(a,1,9999999),s.agWin=0,s.listReelMul=n[r],v.Windown.foreachSFSArray(t,function(n,o){var i=[];if(v.Windown.foreachSFSArray(n,function(t,e){e==n.size()-1&&o>0&&o<5?s.listSFSObj[0].push(t):i.push(t)}),i.reverse(),s.listSFSObj.push(i),o==t.size()-1){var r=e.shift();r&&(r.lsIdItem=JSON.parse(r.lsIdItem),r.lsstack=JSON.parse(r.lsstack),r.lsAgWin=JSON.parse(r.lsAgWin),r.lsAgWin.length>0&&(s.listItemWin=r,s.isNoSap=!0),r.lsAgWin.forEach(function(t){s.agWin+=t}))}}),s.countScater=o.getCountScater(s.listSFSObj),s.listSFSObj[0].reverse(),i.push(s)}),i},e.prototype.setResult=function(){},e.prototype.getListActiveScaster=function(t){for(var e=[],n=0,o=0;o<t.length;o++)n>2?e.push(!0):e.push(!1),t[o].forEach(function(t){12==t.getInt("i")&&n++});return e},e.prototype.onClickChangeBet=function(t,e){if(v.Windown.Asgard.audio.playClick(),this.listConfigBet.length<1)v.Windown.Dialog.showLog(h.TextDefine.Error);else{var n=-1;for(var o in this.listConfigBet)if(this.listConfigBet[o].bet==this.curRoomBet){n=parseInt(o);break}0==e?n--:n++,n<0&&(n=this.listConfigBet.length-1),n>this.listConfigBet.length-1&&(n=0),this.curRoomBet=this.listConfigBet[n].bet,this.lb_totalBet.string=v.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.onClickCachChoi=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return v.Windown.Asgard.audio.playClick(),v.Windown.UIManager.showLoading(),[4,v.Windown.loadRes(this.gameType.toString(),"Frefabs/CachChoi",cc.Prefab)];case 1:return t=e.sent(),cc.instantiate(t).parent=v.Windown.Asgard.node.getChildByName("Game"),v.Windown.UIManager.hideLoading(),[2]}})})},e.prototype.onClickBackToLobby=function(){v.Windown.Asgard.audio.playClick(),this.roomSFS?(cc.log("Vao day"),f.ConectManager.getIns().sendLeaveRoom(this.roomSFS)):cc.director.loadScene("main")},e.prototype.getRdViewForLoop=function(t){for(var e,n=[],o=0,i=7-t;o<i;o++){var r=t>1&&6!=t&&v.Windown.RandomNumber(0,100)<20?v.Windown.RandomNumber(3,5):v.Windown.RandomNumber(1,3);n.push([{i:(void 0,e=v.Windown.RandomNumber(0,100),e<5?12:e<10?11:v.Windown.RandomNumber(0,11)),s:r,t:r>1&&v.Windown.RandomNumber(0,100)<30?1:0}])}var s=0;for(var a in n.forEach(function(t){var e=t[0].s||1;e>s&&(s=e)}),n.forEach(function(t){for(var e=t[0].s||1,n=0,o=s-e;n<o;n++)t.unshift({i:v.Windown.RandomNumber(0,12),t:0,s:1})}),n)n[a]=n[a].map(function(t){return v.Windown.JsonToSFSObj(JSON.stringify(t))});return n},e.prototype.getRdViewFirtGame=function(){for(var t,e,n=[],o=0,i=function(){var t=v.Windown.RandomNumber(0,100);return t<10?4:t<30?3:2},r=0;r<7;r++){for(var s=[],a=0;a<(0==r?4:5);a++)(l=Object.create(null)).i=(t=r,void 0,(e=v.Windown.RandomNumber(0,100))<3&&o<3?(o++,12):e<10&&t>0?11:v.Windown.RandomNumber(0,11)),l.t=0,l.s=1,s.push(l);n.push(s)}var c=function(t,e,n,o){if(!(n+o<=5))return!1;for(var i=n;i<o+n;i++){var r=t[e][i];if(1!=r.s||12==r.i)return!1}return!0};for(n.forEach(function(t,e){t.forEach(function(t,o){if(e>1&&e<6&&12!=t.i&&1==t.s&&v.Windown.RandomNumber(0,100)<30){var r=i();if(c(n,e,o,r))for(var s=t.i,a=v.Windown.RandomNumber(0,100)<50?0:1,l=o;l<r+o;l++)n[e][l].i=s,n[e][l].s=r,n[e][l].t=a}})}),r=0;r<n.length;r++)for(s=n[r],a=0;a<s.length;a++){var l;if((l=s[a])&&1!=l.s)for(var u=a+1,p=a+1+l.s-1;u<p;u++)s[u]=null}for(var h in n)n[h]=n[h].filter(function(t){return null!=t});for(var h in n)n[h]=n[h].map(function(t){return v.Windown.JsonToSFSObj(JSON.stringify(t))});return n},e.prototype.initRandomResult=function(){for(var t=0,e=0,n=this.listColum;e<n.length;e++){var o=n[e];o.stateWhel!=p.default.RUN&&(t=o.index+1)}var i=this.getRdViewForLoop(t);this.listColum.forEach(function(e,n){var o;e.index>=t&&(o=e.listResultRandomCache).unshift.apply(o,i[n-t])})},e.prototype.onClickTurbo=function(){v.Windown.Asgard.audio.playClick();var t=this.toggleTurbo.isChecked;this.toggleTurbo.node.children[1].active=!t,this.stateSpin.isMaxSpeed=t,t?v.Windown.UIManager.showAlertMini("\u0110\xe3 b\u1eadt quay nhanh"):v.Windown.UIManager.showAlertMini("\u0110\xe3 t\u1eaft quay nhanh")},e.prototype.onClickSeting=function(){if(v.Windown.Asgard.audio.playClick(),cc.log("click onClickSeting"),this.isShowBtnPlay=!this.isShowBtnPlay,this.isShowBtnPlay)t=cc.v2(0,-750),this.nodeBtnPlay.runAction(cc.fadeIn(.4)),this.nodeBtnSeting.runAction(cc.spawn(cc.fadeOut(.3),cc.moveTo(.3,t)));else{this.nodeBtnPlay.stopAllActions(),this.nodeBtnSeting.stopAllActions();var t=cc.v2(0,-525.279);this.nodeBtnPlay.runAction(cc.fadeOut(.3)),this.nodeBtnSeting.opacity=0,this.nodeBtnSeting.runAction(cc.spawn(cc.fadeIn(.4),cc.moveTo(.4,t)))}},e.prototype.getCountScater=function(t){var e=0;return t.forEach(function(t){t.forEach(function(t){12==t.getInt("i")&&e++})}),e},e.prototype.getMakeDelay=function(t){return v.Windown.CpPromise.getDelay(t,this)},e.prototype.getPromise=function(t){return v.Windown.CpPromise.getDelayByPromise(t,this).prosime},e.prototype.getPromiseAll=function(t){return v.Windown.CpPromise.getDelayPromiseAll(t,this).prosime},e.prototype.clearAllMakeDelay=function(){v.Windown.CpPromise.targetOff(this)},e.prototype.activeAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!0,t.node.children.forEach(function(t){t.color=cc.Color.fromHEX(new cc.Color,"#FFD500")})})},e.prototype.offAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!1,t.node.children.forEach(function(t){t.color=cc.Color.fromHEX(new cc.Color,"#999999")})})},e.prototype.truTienBet=function(t,e){0!=t&&v.Windown.MoneyUser.subMoney(t,e)},e.prototype.effectShake=function(){var t=this;this.unschedule(this.shake),this.schedule(this.shake=function(){t.camera.setPosition(v.Windown.RandomNumber(-3,4),v.Windown.RandomNumber(-3,4))},0,v.Windown.RandomNumber(10,15))},e.prototype.onClickLichSu=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return v.Windown.Asgard.audio.playClick(),v.Windown.UIManager.showLoading(),[4,v.Windown.loadRes(this.gameType.toString(),"Frefabs/LichSu",cc.Prefab)];case 1:return t=e.sent(),this._popupLichSu=cc.instantiate(t).getComponent(I.default),this._popupLichSu.node.parent=v.Windown.Asgard.node.getChildByName("Game"),this._popupLichSu.show(),[2]}})})},e.prototype.update=function(){},r([A(cc.Node)],e.prototype,"camera",void 0),r([A(S.default)],e.prototype,"asset",void 0),r([A(cc.Node)],e.prototype,"bkgSprite",void 0),r([A(T.default)],e.prototype,"itemSlotAsgardNgang",void 0),r([A(cc.Node)],e.prototype,"parentItem",void 0),r([A(cc.Node)],e.prototype,"parentEffect",void 0),r([A(cc.Node)],e.prototype,"parentItemFront",void 0),r([A(cc.Node)],e.prototype,"parentItemActive",void 0),r([A(cc.Node)],e.prototype,"nodeLine",void 0),r([A(w.default)],e.prototype,"effect",void 0),r([A(y.default)],e.prototype,"labelChipReviceInBox",void 0),r([A(cc.Label)],e.prototype,"lb_totalBet",void 0),r([A(g.default)],e.prototype,"lb_FSLeft",void 0),r([A(g.default)],e.prototype,"lb_TotalLine",void 0),r([A(g.default)],e.prototype,"lb_CountAuto",void 0),r([A(_.default)],e.prototype,"infoBar",void 0),r([A(W.default)],e.prototype,"muitlCtr",void 0),r([A(cc.Node)],e.prototype,"btnSpin",void 0),r([A(cc.Node)],e.prototype,"parentMask",void 0),r([A(cc.Node)],e.prototype,"nodeChooseAuto",void 0),r([A(b.default)],e.prototype,"audio",void 0),r([A([cc.Button])],e.prototype,"listNodeDeactive",void 0),r([A(cc.Node)],e.prototype,"nodeBtnPlay",void 0),r([A(cc.Node)],e.prototype,"nodeBtnSeting",void 0),r([A(cc.Node)],e.prototype,"nearWinNoSap",void 0),r([A(cc.Toggle)],e.prototype,"toggleTurbo",void 0),r([A(cc.Button)],e.prototype,"btnStartAuto",void 0),r([R],e)}(cc.Component);n.default=B,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../../Scritps/DefineTs/PlayerPP":"PlayerPP","../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./AssetAsgard":"AssetAsgard","./AudioAsgard":"AudioAsgard","./EffectAsgard":"EffectAsgard","./InfoBarControllerAsgard":"InfoBarControllerAsgard","./ItemSlotAsgard":"ItemSlotAsgard","./ItemSlotAsgardNgang":"ItemSlotAsgardNgang","./LichSuAsgard":"LichSuAsgard","./MutilControlAsgard":"MutilControlAsgard","./SpinNormalAsgard":"SpinNormalAsgard"}],AssetAiCap:[function(t,e,n){"use strict";cc._RF.push(e,"37741oR74lFsquH+azb2UtD","AssetAiCap");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./ItemSlotAiCap"),a=t("./SymbolAiCap"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atlasSymbol=null,e.itemSymbolAiCap=null,e.itemEffNearWin=null,e.effectWinSymbol=[],e.effectBkgShuffSymbol=null,e.itemNearWinNoSap=null,e.itemXu=null,e.itemSymbolMutil=null,e.itemAddScater=null,e.itemShuffToWild=null,e.itemShuffToNormal=null,e.poolSymbol=new cc.NodePool(a.default),e.poolAddScater=new cc.NodePool(a.default),e.poolEffNearWin=new cc.NodePool,e.poolBkgShuffSymbol=new cc.NodePool,e.poolWinSymbol1=new cc.NodePool,e.poolWinSymbol2=new cc.NodePool,e.poolWinSymbol3=new cc.NodePool,e.poolWinSymbol4=new cc.NodePool,e.poolNearWinNoSap=new cc.NodePool,e.poolXu=new cc.NodePool,e.poolSymbolMutil=new cc.NodePool(s.default),e.poolShuffToWild=new cc.NodePool,e.poolShuffToNormal=new cc.NodePool,e}return i(e,t),e.prototype.getSymbol=function(){var t=null;return(t=this.poolSymbol.size()>0?this.poolSymbol.get():cc.instantiate(this.itemSymbolAiCap)).active=!0,t},e.prototype.putSymbol=function(t){this.poolSymbol.put(t)},e.prototype.getNearWin=function(){var t=null;return(t=this.poolEffNearWin.size()>0?this.poolEffNearWin.get():cc.instantiate(this.itemEffNearWin)).active=!0,t},e.prototype.putNearWin=function(t){this.poolEffNearWin.put(t)},e.prototype.getBkgShuffSymbol=function(){var t=null;return(t=this.poolBkgShuffSymbol.size()>0?this.poolBkgShuffSymbol.get():cc.instantiate(this.effectBkgShuffSymbol)).active=!0,t},e.prototype.putBkgShuffSymbol=function(t){this.poolBkgShuffSymbol.put(t)},e.prototype.getWinSymbol=function(t){var e=null;return(e=this["poolWinSymbol"+t].size()>0?this["poolWinSymbol"+t].get():cc.instantiate(this.effectWinSymbol[t-1])).active=!0,e},e.prototype.putWinSymbol=function(t,e){this["poolWinSymbol"+e].put(t)},e.prototype.getNearWinNoSap=function(){var t=null;return(t=this.poolNearWinNoSap.size()>0?this.poolNearWinNoSap.get():cc.instantiate(this.itemNearWinNoSap)).active=!0,t},e.prototype.putNearWinNoSap=function(t){this.poolNearWinNoSap.put(t)},e.prototype.getXu=function(){var t=null;return(t=this.poolXu.size()>0?this.poolXu.get():cc.instantiate(this.itemXu)).active=!0,t},e.prototype.putXu=function(t){this.poolXu.put(t)},e.prototype.getSymbolMutil=function(){var t=null;return(t=this.poolSymbolMutil.size()>0?this.poolSymbolMutil.get():cc.instantiate(this.itemSymbolMutil)).getComponent(cc.ParticleSystem).stopSystem(),t.active=!0,t},e.prototype.putSymbolMutil=function(t){this.poolSymbolMutil.put(t)},e.prototype.getAddScater=function(){var t=null;return(t=this.poolAddScater.size()>0?this.poolAddScater.get():cc.instantiate(this.itemAddScater)).active=!0,t},e.prototype.putAddScater=function(t){this.poolAddScater.put(t)},e.prototype.getShuffToWild=function(){var t=null;return(t=this.poolShuffToWild.size()>0?this.poolShuffToWild.get():cc.instantiate(this.itemShuffToWild)).active=!0,t},e.prototype.putShuffToWild=function(t){this.poolShuffToWild.put(t)},e.prototype.getShuffToNormal=function(){var t=null;return(t=this.poolShuffToNormal.size()>0?this.poolShuffToNormal.get():cc.instantiate(this.itemShuffToNormal)).active=!0,t},e.prototype.putShuffToNormal=function(t){this.poolShuffToNormal.put(t)},e.prototype.onDestroy=function(){this.poolSymbol.clear(),this.poolEffNearWin.clear(),this.poolBkgShuffSymbol.clear(),this.poolNearWinNoSap.clear(),this.poolXu.clear(),this.poolSymbolMutil.clear(),this.poolWinSymbol1.clear(),this.poolWinSymbol2.clear(),this.poolWinSymbol3.clear(),this.poolWinSymbol4.clear(),this.poolAddScater.clear(),this.poolShuffToWild.clear(),this.poolShuffToNormal.clear()},r([u(cc.SpriteAtlas)],e.prototype,"atlasSymbol",void 0),r([u(cc.Node)],e.prototype,"itemSymbolAiCap",void 0),r([u(cc.Node)],e.prototype,"itemEffNearWin",void 0),r([u([cc.Node])],e.prototype,"effectWinSymbol",void 0),r([u(cc.Node)],e.prototype,"effectBkgShuffSymbol",void 0),r([u(cc.Node)],e.prototype,"itemNearWinNoSap",void 0),r([u(cc.Node)],e.prototype,"itemXu",void 0),r([u(cc.Node)],e.prototype,"itemSymbolMutil",void 0),r([u(cc.Node)],e.prototype,"itemAddScater",void 0),r([u(cc.Node)],e.prototype,"itemShuffToWild",void 0),r([u(cc.Node)],e.prototype,"itemShuffToNormal",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"./ItemSlotAiCap":"ItemSlotAiCap","./SymbolAiCap":"SymbolAiCap"}],AssetAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"cfca70L5H9GJZOWbBUvZX2p","AssetAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./SymbolAsgard"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atlasSymbol=null,e.atlasSpecial=null,e.atlasSymbolBlur=null,e.atlasSpecialBlur=null,e.listSpine=[],e.listSpineWild=[],e.itemSymbolAsgard=null,e.itemShuffToNormal=null,e.bkgTakeSymbol=null,e.listEfTakeSymbol=[],e.effRemoveItem=null,e.nodeAddScater=null,e.nearFS=null,e.coin=null,e.poolSymbol=new cc.NodePool(s.default),e.poolEffNearWin=new cc.NodePool,e.poolWinSymbol=new cc.NodePool,e.poolSmoke=new cc.NodePool,e}return i(e,t),e.prototype.getSymbol=function(){var t=null;return(t=this.poolSymbol.size()>0?this.poolSymbol.get():cc.instantiate(this.itemSymbolAsgard)).active=!0,t},e.prototype.putSymbol=function(t){this.poolSymbol.put(t)},e.prototype.getSfItemSymbol=function(t,e,n){return 12==t?n?this.getAtlasBlur(t).getSpriteFrame(t+"_"+e):this.getAtlas(t).getSpriteFrame(t+"_"+e):n?this.getAtlasBlur(t).getSpriteFrame(""+t):this.getAtlas(t).getSpriteFrame(""+t)},e.prototype.getSfKhungSymbol=function(t,e,n){return n?this.atlasSymbolBlur.getSpriteFrame("k_"+t+"_"+e):this.atlasSymbol.getSpriteFrame("k_"+t+"_"+e)},e.prototype.getSfBkg=function(t,e,n){return t<6&&(t=1),n?this.getAtlasBlur(t).getSpriteFrame("bkg_"+t+"_"+e):this.getAtlas(t).getSpriteFrame("bkg_"+t+"_"+e)},e.prototype.getSpine=function(t,e){return 12!=t?this.listSpine[t-1]:this.listSpineWild[e-1]},e.prototype.getAtlas=function(t){return t<12?this.atlasSymbol:this.atlasSpecial},e.prototype.getAtlasBlur=function(t){return t<12?this.atlasSymbolBlur:this.atlasSpecialBlur},e.prototype.onDestroy=function(){this.poolSymbol.clear(),this.poolEffNearWin.clear(),this.poolWinSymbol.clear(),this.poolSmoke.clear()},r([l(cc.SpriteAtlas)],e.prototype,"atlasSymbol",void 0),r([l(cc.SpriteAtlas)],e.prototype,"atlasSpecial",void 0),r([l(cc.SpriteAtlas)],e.prototype,"atlasSymbolBlur",void 0),r([l(cc.SpriteAtlas)],e.prototype,"atlasSpecialBlur",void 0),r([l([sp.SkeletonData])],e.prototype,"listSpine",void 0),r([l([sp.SkeletonData])],e.prototype,"listSpineWild",void 0),r([l(cc.Prefab)],e.prototype,"itemSymbolAsgard",void 0),r([l(cc.Prefab)],e.prototype,"itemShuffToNormal",void 0),r([l(cc.Prefab)],e.prototype,"bkgTakeSymbol",void 0),r([l([cc.Prefab])],e.prototype,"listEfTakeSymbol",void 0),r([l(cc.Prefab)],e.prototype,"effRemoveItem",void 0),r([l(cc.Prefab)],e.prototype,"nodeAddScater",void 0),r([l(cc.Prefab)],e.prototype,"nearFS",void 0),r([l(cc.Prefab)],e.prototype,"coin",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./SymbolAsgard":"SymbolAsgard"}],AssetCaishen:[function(t,e,n){"use strict";cc._RF.push(e,"9860eVrX0dNJLwYhg0q+vC8","AssetCaishen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/BUNDLE"),l=t("../../../Scritps/Game/GAME_TYPE"),u=t("../../../Scritps/Windown"),p=t("./SymbolCaiShen"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atlasSymbol=null,e.atlasSpecial=null,e.listSkeData1=[],e.listSkeData2=[],e.itemSymbolCaishen=null,e.itemEffNearWin=null,e.effectBkgShuffSymbol=null,e.itemNearWinNoSap=null,e.itemXu=null,e.itemSymbolMutil=null,e.itemAddScater=null,e.itemShuffToWild=null,e.itemShuffToNormal=null,e.itemLongWild=null,e.nearFS=null,e.poolSymbol=new cc.NodePool(p.default),e.poolAddScater=new cc.NodePool(p.default),e.poolEffNearWin=new cc.NodePool,e.poolBkgShuffSymbol=new cc.NodePool,e.poolWinSymbol1=new cc.NodePool,e.poolWinSymbol2=new cc.NodePool,e.poolWinSymbol3=new cc.NodePool,e.poolWinSymbol4=new cc.NodePool,e.poolNearWinNoSap=new cc.NodePool,e.poolXu=new cc.NodePool,e.poolShuffToWild=new cc.NodePool,e.poolShuffToNormal=new cc.NodePool,e}return i(e,t),e.prototype.getSfItemSymbol=function(t,e,n){return n?this.atlasSymbol.getSpriteFrame(this.getNameSymbolWithId(t)+"_blur"):this.atlasSymbol.getSpriteFrame(this.getNameSymbolWithId(t))},e.prototype.getSfBgSymbol=function(t,e,n){return n?this.atlasSymbol.getSpriteFrame(this.getNameBgWithId(t)+this.getNameSizeItem(e)+"_blur"):this.atlasSymbol.getSpriteFrame(this.getNameBgWithId(t)+this.getNameSizeItem(e))},e.prototype.getSfBorderSymbol=function(t,e,n){var o;return o=1==t?"h_silver_frame":"h_gold_frame",n?this.atlasSymbol.getSpriteFrame(o+this.getNameSizeItem(e)+"_blur"):this.atlasSymbol.getSpriteFrame(o+this.getNameSizeItem(e))},e.prototype.getSfBgCaishen=function(t,e){var n;return n=1==t?"s_pattern_a"+this.getNameSizeItem(e):"s_pattern_b"+this.getNameSizeItem(e),this.atlasSymbol.getSpriteFrame(n)},e.prototype.getEffectTakeSymbol=function(t){return u.Windown.loadRes(l.default.Caishen+"","Prefabs/TakeItem"+t,cc.Prefab)},e.prototype.getEffRemoveItem=function(t){return u.Windown.loadRes(l.default.Caishen+"","Prefabs/EffRemoveItem"+t,cc.Prefab)},e.prototype.getNameSymbolWithId=function(t){var e="";switch(t){case 0:e="l_10";break;case 1:e="l_j";break;case 2:e="l_q";break;case 3:e="l_k";break;case 4:e="l_a";break;case 5:e="h_cracker";break;case 6:e="h_cymbal";break;case 7:e="h_purse";break;case 8:e="h_koi";break;case 9:e="h_toad";break;case 10:e="h_dragon";break;case 11:e="s_wild";break;case 12:e="s_scatter_a"}return e},e.prototype.getSymbol=function(){var t=null;return(t=this.poolSymbol.size()>0?this.poolSymbol.get():cc.instantiate(this.itemSymbolCaishen)).scale=2/3,t.active=!0,t},e.prototype.putSymbol=function(t){this.poolSymbol.put(t)},e.prototype.getNearWin=function(){var t=null;return(t=this.poolEffNearWin.size()>0?this.poolEffNearWin.get():cc.instantiate(this.itemEffNearWin)).active=!0,t},e.prototype.putNearWin=function(t){t.destroy()},e.prototype.getSpine=function(t,e){return 11!==t?u.Windown.loadRes(c.BUNDLE.Caishen,"Spines/Symbol/"+this.getNameSpineWithID(t,e),sp.SkeletonData):u.Windown.loadRes(c.BUNDLE.Caishen,"Spines/Wild/"+this.getNameSpineWithID(t,e),sp.SkeletonData)},e.prototype.getWildCaishenSpine=function(t){return u.Windown.loadRes(c.BUNDLE.Caishen,"Spines/Wild/"+cc.js.formatStr("s_wild_feature_1x%s_atlas_wilds",t),sp.SkeletonData)},e.prototype.putSymbolMutil=function(t){t.destroy()},e.prototype.getSymbolMutil=function(){return null},e.prototype.getNameSpineWithID=function(t){var e="";switch(t){case 0:e="l_10_atlas_symbols";break;case 1:e="l_j_atlas_symbols";break;case 2:e="l_q_atlas_symbols";break;case 3:e="l_k_atlas_symbols";break;case 4:e="l_a_atlas_symbols";break;case 5:e="h_cracker_atlas_symbols";break;case 6:e="h_cymbal_atlas_symbols";break;case 7:e="h_purse_atlas_symbols";break;case 8:e="h_koi_atlas_symbols";break;case 9:e="h_toad_atlas_symbols";break;case 10:e="h_lion_atlas_symbols";break;case 11:e="s_wild_atlas_wilds";break;case 12:e="s_scatter_a_atlas_symbols"}return e},e.prototype.getBkgShuffSymbol=function(){var t=null;return(t=this.poolBkgShuffSymbol.size()>0?this.poolBkgShuffSymbol.get():cc.instantiate(this.effectBkgShuffSymbol)).active=!0,t},e.prototype.getNameBgWithId=function(t){return t<5?"l_block":"h_block"},e.prototype.getNameSizeItem=function(t){var e="";switch(t){case 1:e="_a";break;case 2:e="_b";break;case 3:e="_c";break;case 4:e="_d"}return e},e.prototype.putBkgShuffSymbol=function(t){t.destroy()},e.prototype.getWinSymbol=function(t){return s(this,void 0,Promise,function(){var e,n;return a(this,function(o){switch(o.label){case 0:return n=(e=cc).instantiate,[4,u.Windown.loadRes(l.default.Caishen+"","Prefabs/TakeItem"+t,cc.Prefab)];case 1:return[2,n.apply(e,[o.sent()])]}})})},e.prototype.putWinSymbol=function(t){t.destroy()},e.prototype.getNearWinNoSap=function(){var t=null;return(t=this.poolNearWinNoSap.size()>0?this.poolNearWinNoSap.get():cc.instantiate(this.itemNearWinNoSap)).active=!0,t},e.prototype.putNearWinNoSap=function(t){t.destroy()},e.prototype.getXu=function(){var t=null;return(t=this.poolXu.size()>0?this.poolXu.get():cc.instantiate(this.itemXu)).active=!0,t},e.prototype.putXu=function(t){this.poolXu.put(t)},e.prototype.preloadTakeSymbol=function(){for(var t=cc.assetManager.getBundle(l.default.Caishen+""),e=1;e<4;e++)t.preload("Prefabs/TakeItem"+e,function(t){t&&cc.log("Err preload:"+t)}),t.preload("Prefabs/EffRemoveItem"+e,function(t){t&&cc.log("Err preload:"+t)})},e.prototype.getAddScater=function(){var t=null;return(t=this.poolAddScater.size()>0?this.poolAddScater.get():cc.instantiate(this.itemAddScater)).active=!0,t},e.prototype.putAddScater=function(t){t.destroy()},e.prototype.getShuffToWild=function(){var t=null;return(t=this.poolShuffToWild.size()>0?this.poolShuffToWild.get():cc.instantiate(this.itemShuffToWild)).active=!0,t},e.prototype.putShuffToWild=function(t){t.destroy()},e.prototype.getShuffToNormal=function(t){return s(this,void 0,Promise,function(){var e,n;return a(this,function(o){switch(o.label){case 0:return n=(e=cc).instantiate,[4,u.Windown.loadRes(l.default.Caishen+"","Prefabs/NodeAddShuff"+t,cc.Prefab)];case 1:return[2,n.apply(e,[o.sent()])]}})})},e.prototype.putShuffToNormal=function(t){t.destroy()},e.prototype.onDestroy=function(){this.poolSymbol.clear(),this.poolEffNearWin.clear(),this.poolBkgShuffSymbol.clear(),this.poolNearWinNoSap.clear(),this.poolXu.clear(),this.poolWinSymbol1.clear(),this.poolWinSymbol2.clear(),this.poolWinSymbol3.clear(),this.poolWinSymbol4.clear(),this.poolAddScater.clear(),this.poolShuffToWild.clear(),this.poolShuffToNormal.clear()},r([f(cc.SpriteAtlas)],e.prototype,"atlasSymbol",void 0),r([f(cc.SpriteAtlas)],e.prototype,"atlasSpecial",void 0),r([f([sp.SkeletonData])],e.prototype,"listSkeData1",void 0),r([f([sp.SkeletonData])],e.prototype,"listSkeData2",void 0),r([f(cc.Prefab)],e.prototype,"itemSymbolCaishen",void 0),r([f(cc.Node)],e.prototype,"itemEffNearWin",void 0),r([f(cc.Node)],e.prototype,"effectBkgShuffSymbol",void 0),r([f(cc.Node)],e.prototype,"itemNearWinNoSap",void 0),r([f(cc.Node)],e.prototype,"itemXu",void 0),r([f(cc.Node)],e.prototype,"itemSymbolMutil",void 0),r([f(cc.Prefab)],e.prototype,"itemAddScater",void 0),r([f(cc.Node)],e.prototype,"itemShuffToWild",void 0),r([f(cc.Node)],e.prototype,"itemShuffToNormal",void 0),r([f(cc.Node)],e.prototype,"itemLongWild",void 0),r([f(cc.Prefab)],e.prototype,"nearFS",void 0),r([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/BUNDLE":"BUNDLE","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Windown":"Windown","./SymbolCaiShen":"SymbolCaiShen"}],AssetCandy:[function(t,e,n){"use strict";cc._RF.push(e,"c76dawj5EdFV7fwsPlFQwWH","AssetCandy");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listSpItem=[],e.listSpItemBlur=[],e.listSkeData=[],e}return i(e,t),e.prototype.start=function(){},r([c([cc.SpriteFrame])],e.prototype,"listSpItem",void 0),r([c([cc.SpriteFrame])],e.prototype,"listSpItemBlur",void 0),r([c([sp.SkeletonData])],e.prototype,"listSkeData",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],AssetDieuThuyen:[function(t,e,n){"use strict";cc._RF.push(e,"1d419F3ytxPxpU6nhk4DeNG","AssetDieuThuyen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listSpItemBlur=[],e.listSpItem=[],e.listSFItem=[],e.itemIconEf=null,e.itemEffNearWin=null,e.itemCanhHoa=null,e.itemXu=null,e.itemScaterShow=null,e.itemScaterIdle=null,e.itemNoLuBo=null,e.itemNoDieuThuyen=null,e.itemWildDieuThuyen=null,e.itemParticleLuBo=null,e.poolIconEf=new cc.NodePool,e.poolEffNearWin=new cc.NodePool,e.poolCanhHoa=new cc.NodePool,e.poolXu=new cc.NodePool,e.poolScaterShow=new cc.NodePool,e.poolScaterIdle=new cc.NodePool,e.poolNoLuBo=new cc.NodePool,e.poolNoDieuThuyen=new cc.NodePool,e.poolWildDieuThuyen=new cc.NodePool,e.poolParticleLuBo=new cc.NodePool,e}return i(e,t),e.prototype.getIconEf=function(){var t=null;return(t=this.poolIconEf.size()>0?this.poolIconEf.get():cc.instantiate(this.itemIconEf)).active=!0,t},e.prototype.putIconEf=function(t){this.poolIconEf.put(t)},e.prototype.getNearWin=function(){var t=null;return(t=this.poolEffNearWin.size()>0?this.poolEffNearWin.get():cc.instantiate(this.itemEffNearWin)).active=!0,t},e.prototype.putNearWin=function(t){this.poolEffNearWin.put(t)},e.prototype.getCanhHoa=function(){var t=null;return(t=this.poolCanhHoa.size()>0?this.poolCanhHoa.get():cc.instantiate(this.itemCanhHoa)).active=!0,t},e.prototype.putCanhHoa=function(t){this.poolCanhHoa.put(t)},e.prototype.getXu=function(){var t=null;return this.poolXu.size()>0?t=this.poolXu.get():(t=cc.instantiate(this.itemXu)).name="Xu",t.active=!0,t},e.prototype.putXu=function(t){this.poolXu.put(t)},e.prototype.getScaterShow=function(){var t=null;return this.poolScaterShow.size()>0?t=this.poolScaterShow.get():(t=cc.instantiate(this.itemScaterShow)).name="ScaterShow",t.active=!0,t},e.prototype.putScaterShow=function(t){this.poolScaterShow.put(t)},e.prototype.getScaterIdle=function(){var t=null;return this.poolScaterIdle.size()>0?t=this.poolScaterIdle.get():(t=cc.instantiate(this.itemScaterIdle)).name="ScaterIdle",t.active=!0,t},e.prototype.putScaterIdle=function(t){this.poolScaterIdle.put(t)},e.prototype.getNoLuBo=function(){var t=null;return this.poolNoLuBo.size()>0?t=this.poolNoLuBo.get():(t=cc.instantiate(this.itemNoLuBo)).name="NoLuBo",t.active=!0,t},e.prototype.putNoLuBo=function(t){this.poolNoLuBo.put(t)},e.prototype.getNoDieuThuyen=function(){var t=null;return this.poolNoDieuThuyen.size()>0?t=this.poolNoDieuThuyen.get():(t=cc.instantiate(this.itemNoDieuThuyen)).name="NoDieuThuyen",t.active=!0,t},e.prototype.putNoDieuThuyen=function(t){this.poolNoDieuThuyen.put(t)},e.prototype.getWildDieuThuyen=function(){var t=null;return this.poolWildDieuThuyen.size()>0?t=this.poolWildDieuThuyen.get():(t=cc.instantiate(this.itemWildDieuThuyen)).name="WildDieuThuyen",t.active=!0,t},e.prototype.putWildDieuThuyen=function(t){this.poolWildDieuThuyen.put(t)},e.prototype.getParticleLuBo=function(){var t=null;return this.poolParticleLuBo.size()>0?t=this.poolParticleLuBo.get():(t=cc.instantiate(this.itemParticleLuBo)).name="ParticleLuBo",t.active=!0,t},e.prototype.putParticleLuBo=function(t){this.poolParticleLuBo.put(t)},e.prototype.onDestroy=function(){this.poolIconEf.clear(),this.poolEffNearWin.clear(),this.poolCanhHoa.clear(),this.poolXu.clear(),this.poolScaterShow.clear(),this.poolScaterIdle.clear(),this.poolNoLuBo.clear(),this.poolNoDieuThuyen.clear(),this.poolWildDieuThuyen.clear(),this.poolParticleLuBo.clear()},r([c([cc.SpriteFrame])],e.prototype,"listSpItemBlur",void 0),r([c([sp.SkeletonData])],e.prototype,"listSpItem",void 0),r([c([cc.SpriteFrame])],e.prototype,"listSFItem",void 0),r([c(cc.Node)],e.prototype,"itemIconEf",void 0),r([c(cc.Node)],e.prototype,"itemEffNearWin",void 0),r([c(cc.Node)],e.prototype,"itemCanhHoa",void 0),r([c(cc.Node)],e.prototype,"itemXu",void 0),r([c(cc.Node)],e.prototype,"itemScaterShow",void 0),r([c(cc.Node)],e.prototype,"itemScaterIdle",void 0),r([c(cc.Node)],e.prototype,"itemNoLuBo",void 0),r([c(cc.Node)],e.prototype,"itemNoDieuThuyen",void 0),r([c(cc.Node)],e.prototype,"itemWildDieuThuyen",void 0),r([c(cc.Node)],e.prototype,"itemParticleLuBo",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],AssetDuaXe:[function(t,e,n){"use strict";cc._RF.push(e,"02ac4SkJh1NNoTNbwBFieYp","AssetDuaXe");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.AssetDuaXe=void 0;var c=t("../../../Scritps/DefineTs/BUNDLE"),l=t("../../../Scritps/Game/GAME_TYPE"),u=t("./SymbolDuaXe"),p=t("./EffectTakeTotalMulti"),h=t("../../../Scritps/Windown"),d=cc._decorator,f=d.ccclass,y=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeAddScater=null,e.itemSymbolDuaXe=null,e.atlasSymbol=null,e.atlasSpecial=null,e.atlasSymbolBlur=null,e.atlasSpecialBlur=null,e.atlasMultiNum=null,e.atlasMultiNumBlur=null,e.nearFS=null,e.nodeTakeTotalMulti=null,e.effRemoveItem=null,e.poolSymbol=new cc.NodePool,e.poolBottle=new cc.NodePool,e}return i(e,t),e.prototype.getSfItemSymbol=function(t,e,n,o){return void 0===n&&(n=1),o?11==t?this.getAtlasBlur(t).getSpriteFrame(this.getNameSymbolWithId(t)+this.getNameSizeItem(e,11)+"_blur"):this.getAtlasBlur(t).getSpriteFrame(this.getNameSymbolWithId(t)+(10!=t?"":n)+"_blur"):11==t?this.getAtlas(t).getSpriteFrame(this.getNameSymbolWithId(t)+this.getNameSizeItem(e,t)):this.getAtlas(t).getSpriteFrame(this.getNameSymbolWithId(t)+(10!=t?"":n))},e.prototype.getAtlasBlur=function(t,e){return void 0===e&&(e=!1),t<10?this.atlasSymbolBlur:t>10?this.atlasSpecialBlur:e?this.atlasSymbolBlur:this.atlasMultiNumBlur},e.prototype.getAtlas=function(t,e){return void 0===e&&(e=!1),t<10?this.atlasSymbol:t>10?this.atlasSpecial:e?this.atlasSymbol:this.atlasMultiNum},e.prototype.getSpine=function(t,e){return h.Windown.loadRes(c.BUNDLE.DuaXe,"spine/"+(t<10?"IconNormal/":"Special/")+this.getNameSpineWithID(t,e),sp.SkeletonData)},e.prototype.getNameSpineWithID=function(t,e){var n="";switch(t){case 0:n="l_10_atlas_symbols";break;case 1:n="l_j_atlas_symbols";break;case 2:n="l_q_atlas_symbols";break;case 3:n="l_k_atlas_symbols";break;case 4:n="l_a_atlas_symbols";break;case 5:n="h_tools_atlas_symbols";break;case 6:n="h_gloves_atlas_symbols";break;case 7:n="h_pump_atlas_symbols";break;case 8:n="h_wheel_atlas_symbols";break;case 9:n="h_car_atlas_symbols";case 10:break;case 11:n=cc.js.formatStr("s_wild%s_atlas_specials",this.getNameSizeItem(e,t));break;case 12:n="s_scatter_atlas_specials"}return n},e.prototype.getSfBkg=function(t,e,n,o){return o?this.getAtlasBlur(t,!0).getSpriteFrame(n==u.TYPE_ITEM.NONE?cc.js.formatStr(this.getNameBkgItem(t),this.getNameSizeItem(e,t,!0))+"_blur":cc.js.formatStr(this.getNameBkgItem(t),this.getNameSizeItem(e,t,!0)+"_blur")):this.getAtlas(t,!0).getSpriteFrame(cc.js.formatStr(this.getNameBkgItem(t),this.getNameSizeItem(e,t,!0)))},e.prototype.getEffectTakeSymbol=function(t){return h.Windown.loadRes(l.default.DuaXe+"","Prefabs/TakeSymbol"+t,cc.Prefab)},e.prototype.getEffRemoveItem=function(t){return h.Windown.loadRes(l.default.DuaXe+"","Prefabs/EffRemoveItem"+t,cc.Prefab)},e.prototype.getEffNearFS=function(){return h.Windown.loadRes(l.default.DuaXe+"","Prefabs/NearFS",cc.Prefab)},e.prototype.getSymbol=function(){var t=null;return(t=this.poolSymbol.size()>0?this.poolSymbol.get():cc.instantiate(this.itemSymbolDuaXe)).active=!0,t.getComponent(u.SymbolDuaXe).skeletonItem.node.setScale(cc.v3(1,1)),t.getComponent(u.SymbolDuaXe).spriteItem.node.setScale(cc.v3(1,1)),t.getComponent(u.SymbolDuaXe).bgScatter.active=!1,t},e.prototype.getNameSymbolWithId=function(t){var e="";switch(t){case 0:e="l_10";break;case 1:e="l_j";break;case 2:e="l_q";break;case 3:e="l_k";break;case 4:e="l_a";break;case 5:e="h_tools";break;case 6:e="h_gloves";break;case 7:e="h_pump";break;case 8:e="h_wheel";break;case 9:e="h_car";break;case 10:e="txt_x";break;case 11:e="s_wild";break;case 12:e="s_scatter"}return e},e.prototype.getNameSizeItem=function(t,e,n){void 0===n&&(n=!1);var o="";if(e<5&&!n)return o;switch(t){case 1:o="_a";break;case 2:o="_b";break;case 3:o="_c";break;case 4:o="_d"}return o},e.prototype.getNameBkgItem=function(t){var e="";switch(t){case 0:case 1:case 2:case 3:case 4:e="l_frame%s";break;case 5:e="h_tools_frame%s";break;case 6:e="h_gloves_frame%s";break;case 7:e="h_pump_frame%s";break;case 8:e="h_wheel_frame%s";break;case 9:e="h_car_frame%s";break;case 10:e="s_mult%s";break;case 11:e="";break;case 12:e="s_scatter%s"}return e},e.prototype.getMultiNum=function(t){return this.atlasMultiNum.getSpriteFrame("txt_x"+t)},e.prototype.putSymbol=function(t){this.poolSymbol.put(t)},e.prototype.getNodeTakeToltaMulti=function(){return cc.instantiate(this.nodeTakeTotalMulti).getComponent(p.EffectTakeTotalMulti)},e.prototype.getEffectTakeMulti=function(t){return s(this,void 0,Promise,function(){return a(this,function(){return[2,h.Windown.loadRes(l.default.DuaXe+"","Prefabs/EffectTakeMultiISymbol"+t,cc.Prefab)]})})},e.prototype.preloadTakeSymbol=function(){for(var t=cc.assetManager.getBundle(l.default.DuaXe+""),e=1;e<4;e++)t.preload("Prefabs/TakeSymbol"+e,function(t){t?cc.log("Err preload:"+t):cc.log("preload take Symbol success")}),t.preload("Prefabs/EffRemoveItem"+e,function(t){t?cc.log("Err preload:"+t):cc.log("preload take Symbol success")})},e.prototype.preloadBigWin=function(){cc.assetManager.getBundle(l.default.DuaXe+"").preload("Prefabs/BigWin",function(t){t?cc.log("Err preload:"+t):cc.log("preloadBigWin success")})},r([y(cc.Prefab)],e.prototype,"nodeAddScater",void 0),r([y(cc.Prefab)],e.prototype,"itemSymbolDuaXe",void 0),r([y(cc.SpriteAtlas)],e.prototype,"atlasSymbol",void 0),r([y(cc.SpriteAtlas)],e.prototype,"atlasSpecial",void 0),r([y(cc.SpriteAtlas)],e.prototype,"atlasSymbolBlur",void 0),r([y(cc.SpriteAtlas)],e.prototype,"atlasSpecialBlur",void 0),r([y(cc.SpriteAtlas)],e.prototype,"atlasMultiNum",void 0),r([y(cc.SpriteAtlas)],e.prototype,"atlasMultiNumBlur",void 0),r([y(cc.Prefab)],e.prototype,"nearFS",void 0),r([y(cc.Prefab)],e.prototype,"nodeTakeTotalMulti",void 0),r([y(cc.Prefab)],e.prototype,"effRemoveItem",void 0),r([f],e)}(cc.Component);n.AssetDuaXe=g,cc._RF.pop()},{"../../../Scritps/DefineTs/BUNDLE":"BUNDLE","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Windown":"Windown","./EffectTakeTotalMulti":"EffectTakeTotalMulti","./SymbolDuaXe":"SymbolDuaXe"}],AssetMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"55535sFirRFx78ntIwg4lDB","AssetMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./SymbolMatChuoc"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atlasSymbol=null,e.atlasSpecial=null,e.atlasSymbolBlur=null,e.atlasSpecialBlur=null,e.atlasMultiCtr=null,e.atlasInfoBar=null,e.itemSymbolMatChuoc=null,e.itemShuffToNormal=null,e.bkgTakeSymbol=null,e.efTakeSymbol=null,e.effRemoveItem=null,e.nodeAddScater=null,e.nearFS=null,e.dragonFS=null,e.coin=null,e.bgDragonFS=null,e.bgMaskNormal=null,e.bgMaskFS=null,e.poolSymbol=new cc.NodePool,e.poolEffNearWin=new cc.NodePool,e.poolWinSymbol=new cc.NodePool,e.poolSmoke=new cc.NodePool,e}return i(e,t),e.prototype.getSymbol=function(){var t=null;return(t=this.poolSymbol.size()>0?this.poolSymbol.get():cc.instantiate(this.itemSymbolMatChuoc)).active=!0,t},e.prototype.putSymbol=function(t){this.poolSymbol.put(t)},e.prototype.getSfItemSymbol=function(t,e){return 9==t?e?this.getAtlasBlur(t).getSpriteFrame("wild_a_blur"):this.getAtlas(t).getSpriteFrame("wild_a"):10==t?e?this.getAtlasBlur(t).getSpriteFrame("s_scatter_blur"):this.getAtlas(t).getSpriteFrame("s_scatter"):t>=0&&t<=5?e?this.getAtlasBlur(t).getSpriteFrame("low_payout_0"+(t+1)+"_blur"):this.getAtlas(t).getSpriteFrame("low_payout_0"+(t+1)):t>=6&&t<=8?e?this.getAtlasBlur(t).getSpriteFrame("high_payout_0"+(t-5)+"_blur"):this.getAtlas(t).getSpriteFrame("high_payout_0"+(t-5)):void 0},e.prototype.getSfBkg=function(t,e,n){return t<9?n?this.getAtlasBlur(t).getSpriteFrame(e==s.TYPE_ITEM.NONE?"symbol_bg_blur":"symbol_base_gold_blur"):this.getAtlas(t).getSpriteFrame(e==s.TYPE_ITEM.NONE?"symbol_bg":"symbol_base_gold"):null},e.prototype.getAtlas=function(t){return t<10?this.atlasSymbol:this.atlasSpecial},e.prototype.getAtlasBlur=function(t){return t<10?this.atlasSymbolBlur:this.atlasSpecialBlur},e.prototype.getBgInfoBar=function(t){return this.atlasInfoBar.getSpriteFrame(1==t?"infoboard_lv01_bonus":"infoboard_lv01")},e.prototype.getBgMaskInfoBar=function(t){return this.atlasInfoBar.getSpriteFrame(1==t?"infoboard_lv01_bonus_mask":"infoboard_lv01_mask")},e.prototype.onDestroy=function(){this.poolSymbol.clear(),this.poolEffNearWin.clear(),this.poolWinSymbol.clear(),this.poolSmoke.clear()},r([l(cc.SpriteAtlas)],e.prototype,"atlasSymbol",void 0),r([l(cc.SpriteAtlas)],e.prototype,"atlasSpecial",void 0),r([l(cc.SpriteAtlas)],e.prototype,"atlasSymbolBlur",void 0),r([l(cc.SpriteAtlas)],e.prototype,"atlasSpecialBlur",void 0),r([l(cc.SpriteAtlas)],e.prototype,"atlasMultiCtr",void 0),r([l(cc.SpriteAtlas)],e.prototype,"atlasInfoBar",void 0),r([l(cc.Prefab)],e.prototype,"itemSymbolMatChuoc",void 0),r([l(cc.Prefab)],e.prototype,"itemShuffToNormal",void 0),r([l(cc.Prefab)],e.prototype,"bkgTakeSymbol",void 0),r([l(cc.Prefab)],e.prototype,"efTakeSymbol",void 0),r([l(cc.Prefab)],e.prototype,"effRemoveItem",void 0),r([l(cc.Prefab)],e.prototype,"nodeAddScater",void 0),r([l(cc.Prefab)],e.prototype,"nearFS",void 0),r([l(cc.Prefab)],e.prototype,"dragonFS",void 0),r([l(cc.Prefab)],e.prototype,"coin",void 0),r([l(cc.Node)],e.prototype,"bgDragonFS",void 0),r([l(cc.SpriteFrame)],e.prototype,"bgMaskNormal",void 0),r([l(cc.SpriteFrame)],e.prototype,"bgMaskFS",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./SymbolMatChuoc":"SymbolMatChuoc"}],AssetMatTroi:[function(t,e,n){"use strict";cc._RF.push(e,"00bc5lPecpBq4qS2VwC9EjS","AssetMatTroi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./ItemMuitlMatTroi"),a=t("./SymbolMatTroi"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atlasSymbol=null,e.atlasSpecial=null,e.listSkeDataSymbol=[],e.itemSymbolNeko=null,e.itemEffNearWin=null,e.effectWinSymbol=[],e.effectBkgShuffSymbol=null,e.itemNearWinNoSap=null,e.backgroundScatter=null,e.effScater=null,e.itemLightingSun=null,e.itemLightingMoon=null,e.poolSymbol=new cc.NodePool(a.default),e.poolAddScater=new cc.NodePool(a.default),e.poolEffNearWin=new cc.NodePool,e.poolBkgShuffSymbol=new cc.NodePool,e.poolWinSymbol1=new cc.NodePool,e.poolWinSymbol0=new cc.NodePool,e.poolNearWinNoSap=new cc.NodePool,e.poolBgScatter=new cc.NodePool,e.poolXu=new cc.NodePool,e.poolSymbolMutil=new cc.NodePool(s.default),e.poolShuffToWild=new cc.NodePool,e.poolShuffToNormal=new cc.NodePool,e.poolLightingSun=new cc.NodePool,e.poolLightingMoon=new cc.NodePool,e}return i(e,t),e.prototype.getSymbol=function(){var t=null;return(t=this.poolSymbol.size()>0?this.poolSymbol.get():cc.instantiate(this.itemSymbolNeko)).active=!0,t},e.prototype.putSymbol=function(t){this.poolSymbol.put(t)},e.prototype.getNearWin=function(){var t=null;return(t=this.poolEffNearWin.size()>0?this.poolEffNearWin.get():cc.instantiate(this.itemEffNearWin)).active=!0,t},e.prototype.putNearWin=function(t){t.destroy()},e.prototype.getBkgShuffSymbol=function(){var t=null;return(t=this.poolBkgShuffSymbol.size()>0?this.poolBkgShuffSymbol.get():cc.instantiate(this.effectBkgShuffSymbol)).active=!0,t},e.prototype.putBkgShuffSymbol=function(t){t.destroy()},e.prototype.getWinSymbol=function(t){var e=null,n=0==t?this.poolWinSymbol0:this.poolWinSymbol1;return(e=n.size()>0?n.get():cc.instantiate(this.effectWinSymbol[t])).active=!0,e},e.prototype.putWinSymbol=function(t){t.destroy()},e.prototype.getNearWinNoSap=function(){var t=null;return(t=this.poolNearWinNoSap.size()>0?this.poolNearWinNoSap.get():cc.instantiate(this.itemNearWinNoSap)).active=!0,t},e.prototype.putNearWinNoSap=function(t){t.destroy()},e.prototype.getBgScatter=function(){var t=null;return(t=this.poolBgScatter.size()>0?this.poolBgScatter.get():cc.instantiate(this.backgroundScatter)).active=!0,t},e.prototype.putBgScatter=function(t){t.destroy()},e.prototype.getItemLighting=function(t){var e=null;return(e=9==t?this.poolLightingMoon.size()>0?this.poolLightingMoon.get():cc.instantiate(this.itemLightingMoon):this.poolLightingSun.size()>0?this.poolLightingSun.get():cc.instantiate(this.itemLightingSun)).active=!0,e},e.prototype.putItemLighting=function(t){t.destroy()},e.prototype.getEffScater=function(){var t=cc.instantiate(this.effScater);return t.active=!0,t},e.prototype.onDestroy=function(){this.poolSymbol.clear(),this.poolEffNearWin.clear(),this.poolBkgShuffSymbol.clear(),this.poolNearWinNoSap.clear(),this.poolXu.clear(),this.poolSymbolMutil.clear(),this.poolWinSymbol0.clear(),this.poolWinSymbol1.clear(),this.poolAddScater.clear(),this.poolShuffToWild.clear(),this.poolShuffToNormal.clear()},r([u(cc.SpriteAtlas)],e.prototype,"atlasSymbol",void 0),r([u(cc.SpriteAtlas)],e.prototype,"atlasSpecial",void 0),r([u([sp.SkeletonData])],e.prototype,"listSkeDataSymbol",void 0),r([u(cc.Node)],e.prototype,"itemSymbolNeko",void 0),r([u(cc.Node)],e.prototype,"itemEffNearWin",void 0),r([u([cc.Node])],e.prototype,"effectWinSymbol",void 0),r([u(cc.Node)],e.prototype,"effectBkgShuffSymbol",void 0),r([u(cc.Node)],e.prototype,"itemNearWinNoSap",void 0),r([u(cc.Node)],e.prototype,"backgroundScatter",void 0),r([u(cc.Node)],e.prototype,"effScater",void 0),r([u(cc.Node)],e.prototype,"itemLightingSun",void 0),r([u(cc.Node)],e.prototype,"itemLightingMoon",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"./ItemMuitlMatTroi":"ItemMuitlMatTroi","./SymbolMatTroi":"SymbolMatTroi"}],AssetNeko:[function(t,e,n){"use strict";cc._RF.push(e,"c2a0aycXpZF67HeKt4IBOrH","AssetNeko");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./ItemMuitlNeko"),a=t("./SymbolNeko"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atlasSymbol=null,e.atlasSpecial=null,e.listSkeData1=[],e.listSkeData2=[],e.itemSymbolNeko=null,e.itemEffNearWin=null,e.effectWinSymbol=[],e.effectBkgShuffSymbol=null,e.itemNearWinNoSap=null,e.itemXu=null,e.itemSymbolMutil=null,e.itemAddScater=null,e.itemShuffToWild=null,e.itemShuffToNormal=null,e.poolSymbol=new cc.NodePool(a.default),e.poolAddScater=new cc.NodePool(a.default),e.poolEffNearWin=new cc.NodePool,e.poolBkgShuffSymbol=new cc.NodePool,e.poolWinSymbol1=new cc.NodePool,e.poolWinSymbol2=new cc.NodePool,e.poolWinSymbol3=new cc.NodePool,e.poolWinSymbol4=new cc.NodePool,e.poolNearWinNoSap=new cc.NodePool,e.poolXu=new cc.NodePool,e.poolSymbolMutil=new cc.NodePool(s.default),e.poolShuffToWild=new cc.NodePool,e.poolShuffToNormal=new cc.NodePool,e}return i(e,t),e.prototype.getSymbol=function(){var t=null;return(t=this.poolSymbol.size()>0?this.poolSymbol.get():cc.instantiate(this.itemSymbolNeko)).active=!0,t},e.prototype.putSymbol=function(t){this.poolSymbol.put(t)},e.prototype.getNearWin=function(){var t=null;return(t=this.poolEffNearWin.size()>0?this.poolEffNearWin.get():cc.instantiate(this.itemEffNearWin)).active=!0,t},e.prototype.putNearWin=function(t){t.destroy()},e.prototype.getBkgShuffSymbol=function(){var t=null;return(t=this.poolBkgShuffSymbol.size()>0?this.poolBkgShuffSymbol.get():cc.instantiate(this.effectBkgShuffSymbol)).active=!0,t},e.prototype.putBkgShuffSymbol=function(t){t.destroy()},e.prototype.getWinSymbol=function(t){var e=null;return(e=this["poolWinSymbol"+t].size()>0?this["poolWinSymbol"+t].get():cc.instantiate(this.effectWinSymbol[t-1])).active=!0,e},e.prototype.putWinSymbol=function(t){t.destroy()},e.prototype.getNearWinNoSap=function(){var t=null;return(t=this.poolNearWinNoSap.size()>0?this.poolNearWinNoSap.get():cc.instantiate(this.itemNearWinNoSap)).active=!0,t},e.prototype.putNearWinNoSap=function(t){t.destroy()},e.prototype.getXu=function(){var t=null;return(t=this.poolXu.size()>0?this.poolXu.get():cc.instantiate(this.itemXu)).active=!0,t},e.prototype.putXu=function(t){this.poolXu.put(t)},e.prototype.getSymbolMutil=function(){var t=null;return(t=this.poolSymbolMutil.size()>0?this.poolSymbolMutil.get():cc.instantiate(this.itemSymbolMutil)).getComponent(cc.ParticleSystem).stopSystem(),t.active=!0,t},e.prototype.putSymbolMutil=function(t){t.destroy()},e.prototype.getAddScater=function(){var t=null;return(t=this.poolAddScater.size()>0?this.poolAddScater.get():cc.instantiate(this.itemAddScater)).active=!0,t},e.prototype.putAddScater=function(t){t.destroy()},e.prototype.getShuffToWild=function(){var t=null;return(t=this.poolShuffToWild.size()>0?this.poolShuffToWild.get():cc.instantiate(this.itemShuffToWild)).active=!0,t},e.prototype.putShuffToWild=function(t){t.destroy()},e.prototype.getShuffToNormal=function(){var t=null;return(t=this.poolShuffToNormal.size()>0?this.poolShuffToNormal.get():cc.instantiate(this.itemShuffToNormal)).active=!0,t},e.prototype.putShuffToNormal=function(t){t.destroy()},e.prototype.onDestroy=function(){this.poolSymbol.clear(),this.poolEffNearWin.clear(),this.poolBkgShuffSymbol.clear(),this.poolNearWinNoSap.clear(),this.poolXu.clear(),this.poolSymbolMutil.clear(),this.poolWinSymbol1.clear(),this.poolWinSymbol2.clear(),this.poolWinSymbol3.clear(),this.poolWinSymbol4.clear(),this.poolAddScater.clear(),this.poolShuffToWild.clear(),this.poolShuffToNormal.clear()},r([u(cc.SpriteAtlas)],e.prototype,"atlasSymbol",void 0),r([u(cc.SpriteAtlas)],e.prototype,"atlasSpecial",void 0),r([u([sp.SkeletonData])],e.prototype,"listSkeData1",void 0),r([u([sp.SkeletonData])],e.prototype,"listSkeData2",void 0),r([u(cc.Node)],e.prototype,"itemSymbolNeko",void 0),r([u(cc.Node)],e.prototype,"itemEffNearWin",void 0),r([u([cc.Node])],e.prototype,"effectWinSymbol",void 0),r([u(cc.Node)],e.prototype,"effectBkgShuffSymbol",void 0),r([u(cc.Node)],e.prototype,"itemNearWinNoSap",void 0),r([u(cc.Node)],e.prototype,"itemXu",void 0),r([u(cc.Node)],e.prototype,"itemSymbolMutil",void 0),r([u(cc.Node)],e.prototype,"itemAddScater",void 0),r([u(cc.Node)],e.prototype,"itemShuffToWild",void 0),r([u(cc.Node)],e.prototype,"itemShuffToNormal",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"./ItemMuitlNeko":"ItemMuitlNeko","./SymbolNeko":"SymbolNeko"}],AssetNgoKhong:[function(t,e,n){"use strict";cc._RF.push(e,"f182ccA64NIRrmSXVXy20/0","AssetNgoKhong");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./SymbolNgoKhong"),a=t("./WildMutilSymbol"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listSpItemBlur=[],e.listSpItem=[],e.listSFItem=[],e.listSpBkgSymbol=[],e.listSpBkgSymbolBlur=[],e.itemSymbolNgoKhong=null,e.itemEffNearWin=null,e.spineGayNhuY=null,e.spineScater=null,e.effectAddSymbol=null,e.effectWinSymbol=null,e.effectBkgAddSymbol=null,e.parentSpineWild=null,e.itemNearWinNoSap=null,e.itemXu=null,e.itemAddSymbol2=null,e.itemSymbolMutilWild=null,e.poolSymbol=new cc.NodePool(s.default),e.poolEffNearWin=new cc.NodePool,e.poolSpineGayNhuY=new cc.NodePool,e.poolSpineScater=new cc.NodePool,e.poolAddSymbol=new cc.NodePool,e.poolBkgAddSymbol=new cc.NodePool,e.poolWinSymbol=new cc.NodePool,e.poolNearWinNoSap=new cc.NodePool,e.poolXu=new cc.NodePool,e.poolAddSymbol2=new cc.NodePool,e.poolSymbolMutilWild=new cc.NodePool(a.default),e}return i(e,t),e.prototype.getSymbol=function(){var t=null;return(t=this.poolSymbol.size()>0?this.poolSymbol.get():cc.instantiate(this.itemSymbolNgoKhong)).active=!0,t},e.prototype.putSymbol=function(t){this.poolSymbol.put(t)},e.prototype.getNearWin=function(){var t=null;return(t=this.poolEffNearWin.size()>0?this.poolEffNearWin.get():cc.instantiate(this.itemEffNearWin)).active=!0,t},e.prototype.putNearWin=function(t){this.poolEffNearWin.put(t)},e.prototype.getSpineGayNhuY=function(){var t=null;return this.poolSpineGayNhuY.size()>0?t=this.poolSpineGayNhuY.get():(t=cc.instantiate(this.spineGayNhuY)).children[0].runAction(cc.repeatForever(cc.rotateBy(2,360))),t.active=!0,t},e.prototype.putSpineGayNhuY=function(t){this.poolSpineGayNhuY.put(t)},e.prototype.getSpineScater=function(){var t=null;return(t=this.poolSpineScater.size()>0?this.poolSpineScater.get():cc.instantiate(this.spineScater)).active=!0,t},e.prototype.putSpineScater=function(t){this.poolSpineScater.put(t)},e.prototype.getAddSymbol=function(){var t=null;return(t=this.poolAddSymbol.size()>0?this.poolAddSymbol.get():cc.instantiate(this.effectAddSymbol)).active=!0,t},e.prototype.putAddSymbol=function(t){this.poolAddSymbol.put(t)},e.prototype.getBkgAddSymbol=function(){var t=null;return(t=this.poolBkgAddSymbol.size()>0?this.poolBkgAddSymbol.get():cc.instantiate(this.effectBkgAddSymbol)).active=!0,t},e.prototype.putBkgAddSymbol=function(t){this.poolBkgAddSymbol.put(t)},e.prototype.getWinSymbol=function(){var t=null;return(t=this.poolWinSymbol.size()>0?this.poolWinSymbol.get():cc.instantiate(this.effectWinSymbol)).active=!0,t},e.prototype.putWinSymbol=function(t){this.poolWinSymbol.put(t)},e.prototype.getNearWinNoSap=function(){var t=null;return(t=this.poolNearWinNoSap.size()>0?this.poolNearWinNoSap.get():cc.instantiate(this.itemNearWinNoSap)).active=!0,t},e.prototype.putNearWinNoSap=function(t){this.poolNearWinNoSap.put(t)},e.prototype.getXu=function(){var t=null;return(t=this.poolXu.size()>0?this.poolXu.get():cc.instantiate(this.itemXu)).active=!0,t},e.prototype.putXu=function(t){this.poolXu.put(t)},e.prototype.getAddSymbol2=function(){var t=null;return(t=this.poolAddSymbol2.size()>0?this.poolAddSymbol2.get():cc.instantiate(this.itemAddSymbol2)).active=!0,t},e.prototype.putAddSymbol2=function(t){this.poolAddSymbol2.put(t)},e.prototype.getSymbolMutilWild=function(){var t=null;return(t=this.poolSymbolMutilWild.size()>0?this.poolSymbolMutilWild.get():cc.instantiate(this.itemSymbolMutilWild)).active=!0,t},e.prototype.putSymbolMutilWild=function(t){this.poolSymbolMutilWild.put(t)},e.prototype.getSpineWild=function(t){var e=cc.instantiate(this.parentSpineWild.children[t-1]);return e.active=!0,e},e.prototype.putSpineWild=function(t){t.destroy()},e.prototype.onDestroy=function(){this.poolSymbol.clear(),this.poolEffNearWin.clear(),this.poolSpineGayNhuY.clear(),this.poolSpineScater.clear(),this.poolAddSymbol.clear(),this.poolBkgAddSymbol.clear(),this.poolNearWinNoSap.clear(),this.poolXu.clear(),this.poolAddSymbol2.clear(),this.poolSymbolMutilWild.clear(),this.poolWinSymbol.clear()},r([u([cc.SpriteFrame])],e.prototype,"listSpItemBlur",void 0),r([u([sp.SkeletonData])],e.prototype,"listSpItem",void 0),r([u([cc.SpriteFrame])],e.prototype,"listSFItem",void 0),r([u([cc.SpriteFrame])],e.prototype,"listSpBkgSymbol",void 0),r([u([cc.SpriteFrame])],e.prototype,"listSpBkgSymbolBlur",void 0),r([u(cc.Node)],e.prototype,"itemSymbolNgoKhong",void 0),r([u(cc.Node)],e.prototype,"itemEffNearWin",void 0),r([u(cc.Node)],e.prototype,"spineGayNhuY",void 0),r([u(cc.Node)],e.prototype,"spineScater",void 0),r([u(cc.Node)],e.prototype,"effectAddSymbol",void 0),r([u(cc.Node)],e.prototype,"effectWinSymbol",void 0),r([u(cc.Node)],e.prototype,"effectBkgAddSymbol",void 0),r([u(cc.Node)],e.prototype,"parentSpineWild",void 0),r([u(cc.Node)],e.prototype,"itemNearWinNoSap",void 0),r([u(cc.Node)],e.prototype,"itemXu",void 0),r([u(cc.Node)],e.prototype,"itemAddSymbol2",void 0),r([u(cc.Node)],e.prototype,"itemSymbolMutilWild",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"./SymbolNgoKhong":"SymbolNgoKhong","./WildMutilSymbol":"WildMutilSymbol"}],AssetQuyBa:[function(t,e,n){"use strict";cc._RF.push(e,"f4ca4sC02hCqpIa6XpeLC+a","AssetQuyBa");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.AssetQuyBa=void 0;var s=t("../../../Scritps/DefineTs/BUNDLE"),a=t("../../../Scritps/Game/GAME_TYPE"),c=t("../../../Scritps/Windown"),l=t("./SymbolQuyBa"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeAddScater=null,e.itemSymbolQuyBa=null,e.itemMultiBottle=null,e.atlasSymbol=null,e.atlasSymbolJQKA=null,e.atlasSymbolJQKABlur=null,e.atlasSpecial=null,e.atlasSymbolBlur=null,e.atlasSpecialBlur=null,e.atlasMultiCtr=null,e.nearFS=null,e.nodeTakeWild=null,e.effRemoveItem=null,e.poolSymbol=new cc.NodePool,e.poolBottle=new cc.NodePool,e}return i(e,t),e.prototype.getSfItemSymbol=function(t,e,n){return n?(this.getAtlasBlur(t).getSpriteFrame(this.getNameSymbolWithId(t)+this.getNameSizeItem(e,t)+"_blur"),this.getAtlasBlur(t).getSpriteFrame(this.getNameSymbolWithId(t)+this.getNameSizeItem(e,t)+"_blur")):this.getAtlas(t).getSpriteFrame(this.getNameSymbolWithId(t)+this.getNameSizeItem(e,t))},e.prototype.getAtlasBlur=function(t){return t<5?this.atlasSymbolJQKABlur:t<11?this.atlasSymbolBlur:this.atlasSpecial},e.prototype.getAtlas=function(t){return t<5?this.atlasSymbolJQKA:t<11?this.atlasSymbol:this.atlasSpecial},e.prototype.getSpine=function(t,e){return c.Windown.loadRes(s.BUNDLE.QuyBa,"Spine/"+this.getNameSpineWithID(t,e),sp.SkeletonData)},e.prototype.getNameSpineWithID=function(t,e){var n="";switch(t){case 0:n="l_10_atlas_symbols";break;case 1:n="l_j_atlas_symbols";break;case 2:n="l_q_atlas_symbols";break;case 3:n="l_k_atlas_symbols";break;case 4:n="l_a_atlas_symbols";break;case 5:n=cc.js.formatStr("h_shot%s_atlas_symbols",this.getNameSizeItem(e,t));break;case 6:n=cc.js.formatStr("h_peachcocktail%s_atlas_symbols",this.getNameSizeItem(e,t));break;case 7:n=cc.js.formatStr("h_greencocktail%s_atlas_symbols",this.getNameSizeItem(e,t));break;case 8:n=cc.js.formatStr("h_bluecocktail%s_atlas_symbols",this.getNameSizeItem(e,t));break;case 9:n=cc.js.formatStr("h_xoglass%s_atlas_symbols",this.getNameSizeItem(e,t));break;case 10:n=cc.js.formatStr("h_xobottle%s_atlas_symbols",this.getNameSizeItem(e,t));break;case 11:n=cc.js.formatStr("s_wild%s_atlas_specials",this.getNameSizeItem(e,t));break;case 12:n=cc.js.formatStr("s_scatter%s_atlas_specials",this.getNameSizeItem(e,t))}return n},e.prototype.getSfBkg=function(t,e,n,o){return o?this.getAtlasBlur(t).getSpriteFrame(n==l.TYPE_ITEM.NONE?cc.js.formatStr(this.getNameBkgItem(t),this.getNameSizeItem(e,t,!0))+"_blur":cc.js.formatStr("s_block_gold%s_blur",this.getNameSizeItem(e,t,!0))):n==l.TYPE_ITEM.NONE?this.getAtlas(t).getSpriteFrame(cc.js.formatStr(this.getNameBkgItem(t),this.getNameSizeItem(e,t,!0))):this.atlasSymbolJQKA.getSpriteFrame("s_block_gold"+this.getNameSizeItem(e,t,!0))},e.prototype.getEffectTakeSymbol=function(t){return c.Windown.loadRes(a.default.QuyBa+"","Prefabs/TakeSymbol"+t,cc.Prefab)},e.prototype.getEffRemoveItem=function(t){return c.Windown.loadRes(a.default.QuyBa+"","Prefabs/EffectRemoveItem"+t,cc.Prefab)},e.prototype.getEffNearFS=function(){return c.Windown.loadRes(a.default.QuyBa+"","Prefabs/NearFS",cc.Prefab)},e.prototype.getSymbol=function(){var t=null;return(t=this.poolSymbol.size()>0?this.poolSymbol.get():cc.instantiate(this.itemSymbolQuyBa)).active=!0,t.getComponent(l.SymbolQuyBa).skeletonItem.node.setScale(cc.v2(1,1)),t.getComponent(l.SymbolQuyBa).spriteItem.node.setScale(cc.v2(1,1)),t.getComponent(l.SymbolQuyBa).bgWild.active=!1,t.getComponent(l.SymbolQuyBa).bgScatter.active=!1,t},e.prototype.getNameSymbolWithId=function(t){var e="";switch(t){case 0:e="l_10";break;case 1:e="l_j";break;case 2:e="l_q";break;case 3:e="l_k";break;case 4:e="l_a";break;case 5:e="h_shot";break;case 6:e="h_peachcocktail";break;case 7:e="h_greencocktail";break;case 8:e="h_bluecocktail";break;case 9:e="h_xoglass";break;case 10:e="h_xobottle";break;case 11:e="s_wild";break;case 12:e="s_scatter"}return e},e.prototype.getNameSizeItem=function(t,e,n){void 0===n&&(n=!1);var o="";if(e<5&&!n)return o;switch(t){case 1:o="_a";break;case 2:o="_b";break;case 3:o="_c";break;case 4:o="_d"}return o},e.prototype.getNameBkgItem=function(t){var e="";switch(t){case 0:case 1:case 2:case 3:case 4:e="l_block%s";break;case 5:e="h_block%s_shot";break;case 6:e="h_block%s_peachcocktail";break;case 7:e="h_block%s_greencocktail";break;case 8:e="h_block%s_bluecocktail";break;case 9:e="h_block%s_xoglass";break;case 10:e="h_block%s_xobottle";break;case 11:case 12:e=""}return e},e.prototype.getMultiBottle=function(){return cc.instantiate(this.itemMultiBottle)},e.prototype.putSymbol=function(t){this.poolSymbol.put(t)},e.prototype.getNodeTakeWild=function(){return cc.instantiate(this.nodeTakeWild)},e.prototype.preloadTakeSymbol=function(){for(var t=cc.assetManager.getBundle(a.default.QuyBa+""),e=1;e<5;e++)t.preload("Prefabs/TakeSymbol"+e,function(t){t&&cc.log("Err preload:"+t)}),t.preload("Prefabs/EffectRemoveItem"+e,function(t){t&&cc.log("Err preload:"+t)})},r([h(cc.Prefab)],e.prototype,"nodeAddScater",void 0),r([h(cc.Prefab)],e.prototype,"itemSymbolQuyBa",void 0),r([h(cc.Prefab)],e.prototype,"itemMultiBottle",void 0),r([h(cc.SpriteAtlas)],e.prototype,"atlasSymbol",void 0),r([h(cc.SpriteAtlas)],e.prototype,"atlasSymbolJQKA",void 0),r([h(cc.SpriteAtlas)],e.prototype,"atlasSymbolJQKABlur",void 0),r([h(cc.SpriteAtlas)],e.prototype,"atlasSpecial",void 0),r([h(cc.SpriteAtlas)],e.prototype,"atlasSymbolBlur",void 0),r([h(cc.SpriteAtlas)],e.prototype,"atlasSpecialBlur",void 0),r([h(cc.SpriteAtlas)],e.prototype,"atlasMultiCtr",void 0),r([h(cc.Prefab)],e.prototype,"nearFS",void 0),r([h(cc.Prefab)],e.prototype,"nodeTakeWild",void 0),r([h(cc.Prefab)],e.prototype,"effRemoveItem",void 0),r([p],e)}(cc.Component);n.AssetQuyBa=d,cc._RF.pop()},{"../../../Scritps/DefineTs/BUNDLE":"BUNDLE","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Windown":"Windown","./SymbolQuyBa":"SymbolQuyBa"}],AssetRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"549cchK8LdH8aKU128SdBDe","AssetRungRam");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./SymbolRungRam"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atlasSymbol=null,e.atlasSpecial=null,e.atlasEffect1=null,e.itemSymbolRungRam=null,e.itemEffNearWin=null,e.effectWinSymbol=null,e.itemAddScater=null,e.itemShuffToNormal=null,e.itemSmoke=null,e.poolSymbol=new cc.NodePool(s.default),e.poolAddScater=new cc.NodePool(s.default),e.poolEffNearWin=new cc.NodePool,e.poolWinSymbol=new cc.NodePool,e.poolShuffToNormal=new cc.NodePool,e.poolSmoke=new cc.NodePool,e}return i(e,t),e.prototype.getSymbol=function(){var t=null;return(t=this.poolSymbol.size()>0?this.poolSymbol.get():cc.instantiate(this.itemSymbolRungRam)).active=!0,t},e.prototype.putSymbol=function(t){this.poolSymbol.put(t)},e.prototype.getNearWin=function(){var t=null;return(t=this.poolEffNearWin.size()>0?this.poolEffNearWin.get():cc.instantiate(this.itemEffNearWin)).active=!0,t},e.prototype.putNearWin=function(t){this.poolEffNearWin.put(t)},e.prototype.getWinSymbol=function(){var t=null;return(t=this.poolWinSymbol.size()>0?this.poolWinSymbol.get():cc.instantiate(this.effectWinSymbol)).active=!0,t},e.prototype.putWinSymbol=function(t){this.poolWinSymbol.put(t)},e.prototype.getAddScater=function(){var t=null;return(t=this.poolAddScater.size()>0?this.poolAddScater.get():cc.instantiate(this.itemAddScater)).active=!0,t},e.prototype.putAddScater=function(t){this.poolAddScater.put(t)},e.prototype.getShuffToNormal=function(){var t=null;return(t=this.poolShuffToNormal.size()>0?this.poolShuffToNormal.get():cc.instantiate(this.itemShuffToNormal)).active=!0,t},e.prototype.putShuffToNormal=function(t){this.poolShuffToNormal.put(t)},e.prototype.getSmoke=function(){var t=null;return(t=this.poolSmoke.size()>0?this.poolSmoke.get():cc.instantiate(this.itemSmoke)).active=!0,t},e.prototype.putSmoke=function(t){this.poolSmoke.put(t)},e.prototype.getSfItemSymbol=function(t,e,n){var o=e;return t<11&&(o=1),12!=t&&(o=cc.misc.clampf(o,1,2)),n?this.getAtlas(t).getSpriteFrame("item_"+t+"_"+o+"_blur"):this.getAtlas(t).getSpriteFrame("item_"+t+"_"+o)},e.prototype.getSfKhungSymbol=function(t,e){return e?this.atlasSymbol.getSpriteFrame("khung_"+t+"_blur"):this.atlasSymbol.getSpriteFrame("khung_"+t)},e.prototype.getSfBkg=function(t,e,n){return t<4&&(t=2),t>11&&(t=11),n?this.getAtlas(t).getSpriteFrame("bkg_"+t+"_"+e+"_blur"):this.getAtlas(t).getSpriteFrame("bkg_"+t+"_"+e)},e.prototype.getAtlas=function(t){return t<12?this.atlasSymbol:this.atlasSpecial},e.prototype.onDestroy=function(){this.poolSymbol.clear(),this.poolEffNearWin.clear(),this.poolWinSymbol.clear(),this.poolAddScater.clear(),this.poolShuffToNormal.clear(),this.poolSmoke.clear()},r([l(cc.SpriteAtlas)],e.prototype,"atlasSymbol",void 0),r([l(cc.SpriteAtlas)],e.prototype,"atlasSpecial",void 0),r([l(cc.SpriteAtlas)],e.prototype,"atlasEffect1",void 0),r([l(cc.Node)],e.prototype,"itemSymbolRungRam",void 0),r([l(cc.Node)],e.prototype,"itemEffNearWin",void 0),r([l(cc.Node)],e.prototype,"effectWinSymbol",void 0),r([l(cc.Node)],e.prototype,"itemAddScater",void 0),r([l(cc.Node)],e.prototype,"itemShuffToNormal",void 0),r([l(cc.Node)],e.prototype,"itemSmoke",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./SymbolRungRam":"SymbolRungRam"}],AssetTruTien:[function(t,e,n){"use strict";cc._RF.push(e,"ba2c0nxtxJNaL0+6m2f3rYT","AssetTruTien");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listSpItemBlur=[],e.listSpItem=[],e.listSFItem=[],e.listSpMutilNormal=[],e.listSpMutilFS=[],e.itemIconEf=null,e.itemEffNearWin=null,e.itemFlyScater=null,e.poolIconEf=new cc.NodePool,e.poolEffNearWin=new cc.NodePool,e}return i(e,t),e.prototype.getIconEf=function(){var t=null;return(t=this.poolIconEf.size()>0?this.poolIconEf.get():cc.instantiate(this.itemIconEf)).active=!0,t},e.prototype.putIconEf=function(t){this.poolIconEf.put(t)},e.prototype.getNearWin=function(){var t=null;return(t=this.poolEffNearWin.size()>0?this.poolEffNearWin.get():cc.instantiate(this.itemEffNearWin)).active=!0,t},e.prototype.putNearWin=function(t){this.poolEffNearWin.put(t)},e.prototype.getFlyScater=function(){var t=cc.instantiate(this.itemFlyScater);return t.active=!0,t},e.prototype.onDestroy=function(){this.poolIconEf.clear(),this.poolEffNearWin.clear()},r([c([cc.SpriteFrame])],e.prototype,"listSpItemBlur",void 0),r([c([sp.SkeletonData])],e.prototype,"listSpItem",void 0),r([c([cc.SpriteFrame])],e.prototype,"listSFItem",void 0),r([c([cc.SpriteFrame])],e.prototype,"listSpMutilNormal",void 0),r([c([cc.SpriteFrame])],e.prototype,"listSpMutilFS",void 0),r([c(cc.Node)],e.prototype,"itemIconEf",void 0),r([c(cc.Node)],e.prototype,"itemEffNearWin",void 0),r([c(cc.Node)],e.prototype,"itemFlyScater",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],AudioAiCap:[function(t,e,n){"use strict";cc._RF.push(e,"9dac09bRfBKv4iFrdCi8/aw","AudioAiCap");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Parent/AudioManager"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click=null,e.bgm_bigwin_cue=null,e.bgm_bigwin_end=null,e.bgm_bigwin_out=null,e.bgm_bigwin=null,e.bgm_feature_begin=null,e.bgm_feature_end=null,e.bgm_feature_loop=null,e.bingo_block=null,e.bingo_infoboard_add_1=null,e.bingo_infoboard_add_2=null,e.bingo_infoboard_add_3=null,e.bingo_infoboard_add_4=null,e.bingo_multiplier_number=null,e.bingo_wheel_in=null,e.bingo_wheel_out=null,e.bingo_wheel_spin_single=null,e.bingo_wheel_startspin=null,e.bingo_winline_1=null,e.bingo_winline_2=null,e.bingo_winline_3=null,e.bingo_winline_4=null,e.list_item_click=null,e.menu_icon_press=null,e.prize_mediumwin_counting=null,e.prize_payout_line1by1=null,e.prize_payout=null,e.prize_smallwin=null,e.slider_effect=null,e.spin_btn=null,e.spin_reelquickstop=null,e.spin_reelspin_loop=null,e.spin_reelstop_single=null,e.wallet_counting_above=null,e}return i(e,t),e.prototype.playClick=function(){this.playEffect(this.click)},e.prototype.playMusic=function(){this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.6))},e.prototype.playIndexTakeLine=function(){},e.prototype.playSmalWin=function(){},r([l(cc.AudioClip)],e.prototype,"click",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_bigwin_cue",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_bigwin_end",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_bigwin_out",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_bigwin",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_feature_begin",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_feature_end",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_feature_loop",void 0),r([l(cc.AudioClip)],e.prototype,"bingo_block",void 0),r([l(cc.AudioClip)],e.prototype,"bingo_infoboard_add_1",void 0),r([l(cc.AudioClip)],e.prototype,"bingo_infoboard_add_2",void 0),r([l(cc.AudioClip)],e.prototype,"bingo_infoboard_add_3",void 0),r([l(cc.AudioClip)],e.prototype,"bingo_infoboard_add_4",void 0),r([l(cc.AudioClip)],e.prototype,"bingo_multiplier_number",void 0),r([l(cc.AudioClip)],e.prototype,"bingo_wheel_in",void 0),r([l(cc.AudioClip)],e.prototype,"bingo_wheel_out",void 0),r([l(cc.AudioClip)],e.prototype,"bingo_wheel_spin_single",void 0),r([l(cc.AudioClip)],e.prototype,"bingo_wheel_startspin",void 0),r([l(cc.AudioClip)],e.prototype,"bingo_winline_1",void 0),r([l(cc.AudioClip)],e.prototype,"bingo_winline_2",void 0),r([l(cc.AudioClip)],e.prototype,"bingo_winline_3",void 0),r([l(cc.AudioClip)],e.prototype,"bingo_winline_4",void 0),r([l(cc.AudioClip)],e.prototype,"list_item_click",void 0),r([l(cc.AudioClip)],e.prototype,"menu_icon_press",void 0),r([l(cc.AudioClip)],e.prototype,"prize_mediumwin_counting",void 0),r([l(cc.AudioClip)],e.prototype,"prize_payout_line1by1",void 0),r([l(cc.AudioClip)],e.prototype,"prize_payout",void 0),r([l(cc.AudioClip)],e.prototype,"prize_smallwin",void 0),r([l(cc.AudioClip)],e.prototype,"slider_effect",void 0),r([l(cc.AudioClip)],e.prototype,"spin_btn",void 0),r([l(cc.AudioClip)],e.prototype,"spin_reelquickstop",void 0),r([l(cc.AudioClip)],e.prototype,"spin_reelspin_loop",void 0),r([l(cc.AudioClip)],e.prototype,"spin_reelstop_single",void 0),r([l(cc.AudioClip)],e.prototype,"wallet_counting_above",void 0),r([c],e)}(s.default);n.default=u,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":"AudioManager"}],AudioAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"3d31eqIRW1FDbZS58CxRkZo","AudioAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Parent/AudioManager"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click=null,e.bgm_fs=null,e.bgmBigwinEnd=null,e.bgmBigwinEndCoins=null,e.bgmBigwinMain=null,e.bgmTotalwinEnd=null,e.bgmTotalwinMain=null,e.fastspinEnd=null,e.fastspinStart=null,e.featureBuyBtn=null,e.featureBuyCancel=null,e.featureBuyHover=null,e.featureBuyStart=null,e.fsIntro=null,e.fsSpin=null,e.fsTrans=null,e.fsWonRemainingIncrease=null,e.fsWonTitle=null,e.heartbeat=null,e.heartbeatNoise=null,e.heartbeatSlowdrop=null,e.list_item_click=null,e.menu_icon_press=null,e.multiCombine=null,e.prizeInfobarTotalwin=null,e.prizeInfobarTotalwinMedEnd=null,e.prizeInfobarTotalwinMedMain=null,e.prizeInfobarUpgrade=null,e.prizeSmallwin=null,e.prizeSmallwinMultiplied=null,e.rouletteEnd=null,e.rouletteLoop=null,e.rouletteStart=null,e.scatterWinHighligh=null,e.slider_effect=null,e.spinActiveLoop=null,e.spinBtn=null,e.spinStop=null,e.spinStopQuick=null,e.symCollapse=null,e.symScatter=null,e.symShrink=null,e.symWild=null,e.uiCollect=null,e.uiInfo=null,e.uiStart=null,e.listSound=[],e.objKey={},e}return i(e,t),e.prototype.onChangeMusic=function(e){t.prototype.onChangeMusic.call(this,e),this.isActiveSound=e},e.prototype.playClick=function(){this.playEffect(this.click)},e.prototype.playMusic=function(){this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.5))},e.prototype.playIndexTakeLine=function(){},e.prototype.playSmalWin=function(){},e.prototype.playBkgfs=function(){this.stopMusic(),this.playEffect(this.bgm_fs,.6,!0)},e.prototype.stopBkgFs=function(){this.stopEffect(this.bgm_fs,!0),this.playMusic()},e.prototype.playSymCollapse=function(){this.playEffect(this.symCollapse)},e.prototype.playStopAudio=function(){var t=this.spinStop;this.playEffect(t)},r([l(cc.AudioClip)],e.prototype,"click",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_fs",void 0),r([l(cc.AudioClip)],e.prototype,"bgmBigwinEnd",void 0),r([l(cc.AudioClip)],e.prototype,"bgmBigwinEndCoins",void 0),r([l(cc.AudioClip)],e.prototype,"bgmBigwinMain",void 0),r([l(cc.AudioClip)],e.prototype,"bgmTotalwinEnd",void 0),r([l(cc.AudioClip)],e.prototype,"bgmTotalwinMain",void 0),r([l(cc.AudioClip)],e.prototype,"fastspinEnd",void 0),r([l(cc.AudioClip)],e.prototype,"fastspinStart",void 0),r([l(cc.AudioClip)],e.prototype,"featureBuyBtn",void 0),r([l(cc.AudioClip)],e.prototype,"featureBuyCancel",void 0),r([l(cc.AudioClip)],e.prototype,"featureBuyHover",void 0),r([l(cc.AudioClip)],e.prototype,"featureBuyStart",void 0),r([l(cc.AudioClip)],e.prototype,"fsIntro",void 0),r([l(cc.AudioClip)],e.prototype,"fsSpin",void 0),r([l(cc.AudioClip)],e.prototype,"fsTrans",void 0),r([l(cc.AudioClip)],e.prototype,"fsWonRemainingIncrease",void 0),r([l(cc.AudioClip)],e.prototype,"fsWonTitle",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeat",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeatNoise",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeatSlowdrop",void 0),r([l(cc.AudioClip)],e.prototype,"list_item_click",void 0),r([l(cc.AudioClip)],e.prototype,"menu_icon_press",void 0),r([l(cc.AudioClip)],e.prototype,"multiCombine",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwin",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwinMedEnd",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwinMedMain",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarUpgrade",void 0),r([l(cc.AudioClip)],e.prototype,"prizeSmallwin",void 0),r([l(cc.AudioClip)],e.prototype,"prizeSmallwinMultiplied",void 0),r([l(cc.AudioClip)],e.prototype,"rouletteEnd",void 0),r([l(cc.AudioClip)],e.prototype,"rouletteLoop",void 0),r([l(cc.AudioClip)],e.prototype,"rouletteStart",void 0),r([l(cc.AudioClip)],e.prototype,"scatterWinHighligh",void 0),r([l(cc.AudioClip)],e.prototype,"slider_effect",void 0),r([l(cc.AudioClip)],e.prototype,"spinActiveLoop",void 0),r([l(cc.AudioClip)],e.prototype,"spinBtn",void 0),r([l(cc.AudioClip)],e.prototype,"spinStop",void 0),r([l(cc.AudioClip)],e.prototype,"spinStopQuick",void 0),r([l(cc.AudioClip)],e.prototype,"symCollapse",void 0),r([l(cc.AudioClip)],e.prototype,"symScatter",void 0),r([l(cc.AudioClip)],e.prototype,"symShrink",void 0),r([l(cc.AudioClip)],e.prototype,"symWild",void 0),r([l(cc.AudioClip)],e.prototype,"uiCollect",void 0),r([l(cc.AudioClip)],e.prototype,"uiInfo",void 0),r([l(cc.AudioClip)],e.prototype,"uiStart",void 0),r([c],e)}(s.default);n.default=u,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":"AudioManager"}],AudioCaishen:[function(t,e,n){"use strict";cc._RF.push(e,"e35130mrZBGiZgFn/dkYp23","AudioCaishen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Parent/AudioManager"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click=null,e.bgm_bigwin_end=null,e.bgm_bigwin_end_coin=null,e.bgm_bigwin_main=null,e.bgm_fs=null,e.bgm_mg=null,e.bgm_totalwin_end=null,e.bgm_totalwin_main=null,e.fastspinEnd=null,e.fastspinStart=null,e.fsIntro=null,e.fsSpin=null,e.heartbeat=null,e.heartbeatNoise=null,e.heartbeatSlowdrop=null,e.list_item_click=null,e.menu_icon_press=null,e.prizeInfobarTotalwin=null,e.prizeInfobarTotalwinAndChip=null,e.spinActiveLoop=null,e.prizeInfoSmallwin=null,e.prizeInfobarTotalwinMedEnd=null,e.prizeInfobarTotalwinMedMain=null,e.prizePayoutHighlight=null,e.prizePayoutHighlightStart=null,e.prizeSmallwin=null,e.prizeWinMultiplied=null,e.scatterWinHighlight=null,e.slider_effect=null,e.spinBtn=null,e.spinStop=null,e.symCollapse=null,e.symRouletteEnd=null,e.symRouletteRolling=null,e.symRouletteStart=null,e.symScatter=null,e.symShrink=null,e.wildShrink=null,e.symWild=null,e.uiCollect=null,e.wallet_counting_above=null,e.spinStopQuick=null,e.bgmBigwinMain=null,e.bgmBigwinEnd=null,e.scatterWinHighligh=null,e.fsTrans=null,e.bgmTotalwinMain=null,e.bgmTotalwinEnd=null,e.openSpinFree=null,e.spinFSTick=null,e.spinFSStop=null,e.fsTransClose=null,e}return i(e,t),e.prototype.playClick=function(){this.playEffect(this.click)},e.prototype.playMusic=function(){this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.6))},e.prototype.playIndexTakeLine=function(){},e.prototype.playSmalWin=function(){},e.prototype.playBkgfs=function(){this.stopMusic(),this.playEffect(this.bgm_fs,.6,!0)},e.prototype.stopBkgFs=function(){this.stopEffect(this.bgm_fs,!0),this.playMusic()},e.prototype.playStopAudio=function(){var t=this.spinStop;this.playEffectNoStop(t,1)},e.prototype.playSymCollapse=function(){this.playEffectNoStop(this.symCollapse,.3)},r([l(cc.AudioClip)],e.prototype,"click",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_bigwin_end",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_bigwin_end_coin",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_bigwin_main",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_fs",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_mg",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_totalwin_end",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_totalwin_main",void 0),r([l(cc.AudioClip)],e.prototype,"fastspinEnd",void 0),r([l(cc.AudioClip)],e.prototype,"fastspinStart",void 0),r([l(cc.AudioClip)],e.prototype,"fsIntro",void 0),r([l(cc.AudioClip)],e.prototype,"fsSpin",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeat",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeatNoise",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeatSlowdrop",void 0),r([l(cc.AudioClip)],e.prototype,"list_item_click",void 0),r([l(cc.AudioClip)],e.prototype,"menu_icon_press",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwin",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwinAndChip",void 0),r([l(cc.AudioClip)],e.prototype,"spinActiveLoop",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfoSmallwin",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwinMedEnd",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwinMedMain",void 0),r([l(cc.AudioClip)],e.prototype,"prizePayoutHighlight",void 0),r([l(cc.AudioClip)],e.prototype,"prizePayoutHighlightStart",void 0),r([l(cc.AudioClip)],e.prototype,"prizeSmallwin",void 0),r([l(cc.AudioClip)],e.prototype,"prizeWinMultiplied",void 0),r([l(cc.AudioClip)],e.prototype,"scatterWinHighlight",void 0),r([l(cc.AudioClip)],e.prototype,"slider_effect",void 0),r([l(cc.AudioClip)],e.prototype,"spinBtn",void 0),r([l(cc.AudioClip)],e.prototype,"spinStop",void 0),r([l(cc.AudioClip)],e.prototype,"symCollapse",void 0),r([l(cc.AudioClip)],e.prototype,"symRouletteEnd",void 0),r([l(cc.AudioClip)],e.prototype,"symRouletteRolling",void 0),r([l(cc.AudioClip)],e.prototype,"symRouletteStart",void 0),r([l(cc.AudioClip)],e.prototype,"symScatter",void 0),r([l(cc.AudioClip)],e.prototype,"symShrink",void 0),r([l(cc.AudioClip)],e.prototype,"wildShrink",void 0),r([l(cc.AudioClip)],e.prototype,"symWild",void 0),r([l(cc.AudioClip)],e.prototype,"uiCollect",void 0),r([l(cc.AudioClip)],e.prototype,"wallet_counting_above",void 0),r([l(cc.AudioClip)],e.prototype,"spinStopQuick",void 0),r([l(cc.AudioClip)],e.prototype,"bgmBigwinMain",void 0),r([l(cc.AudioClip)],e.prototype,"bgmBigwinEnd",void 0),r([l(cc.AudioClip)],e.prototype,"scatterWinHighligh",void 0),r([l(cc.AudioClip)],e.prototype,"fsTrans",void 0),r([l(cc.AudioClip)],e.prototype,"bgmTotalwinMain",void 0),r([l(cc.AudioClip)],e.prototype,"bgmTotalwinEnd",void 0),r([l(cc.AudioClip)],e.prototype,"openSpinFree",void 0),r([l(cc.AudioClip)],e.prototype,"spinFSTick",void 0),r([l(cc.AudioClip)],e.prototype,"spinFSStop",void 0),r([l(cc.AudioClip)],e.prototype,"fsTransClose",void 0),r([c],e)}(s.default);n.default=u,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":"AudioManager"}],AudioDieuThuyen:[function(t,e,n){"use strict";cc._RF.push(e,"393e5qTtCZB2oxSav0+xPXb","AudioDieuThuyen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Parent/AudioManager"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click=null,e.big_win_start=null,e.bonus_multiple_hide=null,e.diao_chan_bg=null,e.diao_chan_expand=null,e.dong_zhuo_bg=null,e.dong_zhuo_four_times=null,e.dong_zhuo_laughing=null,e.dong_zhuo_money_fall=null,e.feature_exchange=null,e.five_kind=null,e.infobar_uplifter=null,e.infobar_uplifter_highlight=null,e.list_item_click=null,e.load_coins=null,e.lv_bu_attacked=null,e.lv_bu_bg=null,e.lv_bu_horse_neigh=null,e.lv_bu_slash_four=null,e.lv_bu_slash_one=null,e.lv_bu_slash_three=null,e.lv_bu_slash_two=null,e.lv_bu_symbol_start=null,e.medium_win=null,e.medium_win_coins=null,e.mega_win_end=null,e.mega_win_start=null,e.menu_icon_press=null,e.multiple_free_spin_effect=null,e.result_count_end=null,e.result_counting=null,e.scatter_explosion=null,e.scatter_scrolling_long=null,e.scatter_scrolling_short=null,e.selector_bgm=null,e.slider_effect=null,e.slot_end_scroll=null,e.slot_scrolling=null,e.slot_scrolling_two=null,e.small_win=null,e.small_win_coins=null,e.spin_click=null,e.wallet_counting_above=null,e.win_rolling=null,e.luboChemGio=null,e}return i(e,t),e.prototype.playClick=function(){this.playEffect(this.click)},e.prototype.playMusic=function(){this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.3))},e.prototype.playChooseFreeType=function(){this.stopMusic(),this.playEffectNoStop(this.selector_bgm,1,!0)},e.prototype.offChooseFree=function(){this.stopEffect(this.selector_bgm)},e.prototype.offFree=function(){this.stopEffect(this.lv_bu_bg),this.stopEffect(this.dong_zhuo_bg),this.stopEffect(this.diao_chan_bg)},r([l(cc.AudioClip)],e.prototype,"click",void 0),r([l(cc.AudioClip)],e.prototype,"big_win_start",void 0),r([l(cc.AudioClip)],e.prototype,"bonus_multiple_hide",void 0),r([l(cc.AudioClip)],e.prototype,"diao_chan_bg",void 0),r([l(cc.AudioClip)],e.prototype,"diao_chan_expand",void 0),r([l(cc.AudioClip)],e.prototype,"dong_zhuo_bg",void 0),r([l(cc.AudioClip)],e.prototype,"dong_zhuo_four_times",void 0),r([l(cc.AudioClip)],e.prototype,"dong_zhuo_laughing",void 0),r([l(cc.AudioClip)],e.prototype,"dong_zhuo_money_fall",void 0),r([l(cc.AudioClip)],e.prototype,"feature_exchange",void 0),r([l(cc.AudioClip)],e.prototype,"five_kind",void 0),r([l(cc.AudioClip)],e.prototype,"infobar_uplifter",void 0),r([l(cc.AudioClip)],e.prototype,"infobar_uplifter_highlight",void 0),r([l(cc.AudioClip)],e.prototype,"list_item_click",void 0),r([l(cc.AudioClip)],e.prototype,"load_coins",void 0),r([l(cc.AudioClip)],e.prototype,"lv_bu_attacked",void 0),r([l(cc.AudioClip)],e.prototype,"lv_bu_bg",void 0),r([l(cc.AudioClip)],e.prototype,"lv_bu_horse_neigh",void 0),r([l(cc.AudioClip)],e.prototype,"lv_bu_slash_four",void 0),r([l(cc.AudioClip)],e.prototype,"lv_bu_slash_one",void 0),r([l(cc.AudioClip)],e.prototype,"lv_bu_slash_three",void 0),r([l(cc.AudioClip)],e.prototype,"lv_bu_slash_two",void 0),r([l(cc.AudioClip)],e.prototype,"lv_bu_symbol_start",void 0),r([l(cc.AudioClip)],e.prototype,"medium_win",void 0),r([l(cc.AudioClip)],e.prototype,"medium_win_coins",void 0),r([l(cc.AudioClip)],e.prototype,"mega_win_end",void 0),r([l(cc.AudioClip)],e.prototype,"mega_win_start",void 0),r([l(cc.AudioClip)],e.prototype,"menu_icon_press",void 0),r([l(cc.AudioClip)],e.prototype,"multiple_free_spin_effect",void 0),r([l(cc.AudioClip)],e.prototype,"result_count_end",void 0),r([l(cc.AudioClip)],e.prototype,"result_counting",void 0),r([l(cc.AudioClip)],e.prototype,"scatter_explosion",void 0),r([l(cc.AudioClip)],e.prototype,"scatter_scrolling_long",void 0),r([l(cc.AudioClip)],e.prototype,"scatter_scrolling_short",void 0),r([l(cc.AudioClip)],e.prototype,"selector_bgm",void 0),r([l(cc.AudioClip)],e.prototype,"slider_effect",void 0),r([l(cc.AudioClip)],e.prototype,"slot_end_scroll",void 0),r([l(cc.AudioClip)],e.prototype,"slot_scrolling",void 0),r([l(cc.AudioClip)],e.prototype,"slot_scrolling_two",void 0),r([l(cc.AudioClip)],e.prototype,"small_win",void 0),r([l(cc.AudioClip)],e.prototype,"small_win_coins",void 0),r([l(cc.AudioClip)],e.prototype,"spin_click",void 0),r([l(cc.AudioClip)],e.prototype,"wallet_counting_above",void 0),r([l(cc.AudioClip)],e.prototype,"win_rolling",void 0),r([l(cc.AudioClip)],e.prototype,"luboChemGio",void 0),r([c],e)}(s.default);n.default=u,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":"AudioManager"}],AudioDuaXe:[function(t,e,n){"use strict";cc._RF.push(e,"9dc733fNAtO54wYzcm0Bzg4","AudioDuaXe");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Parent/AudioManager"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.multiUpupup=null,e.reelQuickStop=null,e.reelStopSingle=null,e.fsMultiplyRefresh=null,e.click=null,e.bgm_fs=null,e.bgmBigwinEnd=null,e.bgmBigwinEndCoins=null,e.bgmBigwinMain=null,e.bgmTotalwinEnd=null,e.bgmTotalwinMain=null,e.fastspinEnd=null,e.fastspinStart=null,e.fsIntro=null,e.fsSpin=null,e.fsTrans=null,e.fsWonRemainingIncrease=null,e.fsWonTitle=null,e.heartbeat=null,e.heartbeatNoise=null,e.heartbeatSlowdrop=null,e.list_item_click=null,e.menu_icon_press=null,e.multiCombine=null,e.symbolBonus=null,e.symbolBonusMove=null,e.textBonusJump=null,e.prizeInfobarTotalwin=null,e.prizeInfobarTotalwinMedEnd=null,e.prizeInfobarTotalwinMedMain=null,e.prizeSmallwin=null,e.prizeInfoSmallwin=null,e.prizeInfobarTotalwinBonus=null,e.prizeSmallwinMultiplied=null,e.rouletteLoop=null,e.scatterWinHighligh=null,e.slider_effect=null,e.spinActiveLoop=null,e.spinBtn=null,e.spinStop=null,e.spinStopQuick=null,e.symCollapse=null,e.symScatter=null,e.symShrink=null,e.symWild=null,e.uiCollect=null,e.uiInfo=null,e.uiStart=null,e.shakerMove=null,e.shakerStop=null,e.objKey={},e}return i(e,t),e.prototype.onChangeMusic=function(e){t.prototype.onChangeMusic.call(this,e),this.isActiveSound=e},e.prototype.playClick=function(){this.playEffect(this.click)},e.prototype.playMusic=function(){this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.5))},e.prototype.playIndexTakeLine=function(){},e.prototype.playSmalWin=function(){},e.prototype.playBkgfs=function(){this.stopMusic(),this.playEffect(this.bgm_fs,.6,!0)},e.prototype.stopBkgFs=function(){this.stopEffect(this.bgm_fs,!0),this.playMusic()},e.prototype.playSymCollapse=function(){this.playEffect(this.symCollapse)},e.prototype.playStopAudio=function(){var t=this.spinStop;this.playEffect(t)},r([l(cc.AudioClip)],e.prototype,"multiUpupup",void 0),r([l(cc.AudioClip)],e.prototype,"reelQuickStop",void 0),r([l(cc.AudioClip)],e.prototype,"reelStopSingle",void 0),r([l(cc.AudioClip)],e.prototype,"fsMultiplyRefresh",void 0),r([l(cc.AudioClip)],e.prototype,"click",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_fs",void 0),r([l(cc.AudioClip)],e.prototype,"bgmBigwinEnd",void 0),r([l(cc.AudioClip)],e.prototype,"bgmBigwinEndCoins",void 0),r([l(cc.AudioClip)],e.prototype,"bgmBigwinMain",void 0),r([l(cc.AudioClip)],e.prototype,"bgmTotalwinEnd",void 0),r([l(cc.AudioClip)],e.prototype,"bgmTotalwinMain",void 0),r([l(cc.AudioClip)],e.prototype,"fastspinEnd",void 0),r([l(cc.AudioClip)],e.prototype,"fastspinStart",void 0),r([l(cc.AudioClip)],e.prototype,"fsIntro",void 0),r([l(cc.AudioClip)],e.prototype,"fsSpin",void 0),r([l(cc.AudioClip)],e.prototype,"fsTrans",void 0),r([l(cc.AudioClip)],e.prototype,"fsWonRemainingIncrease",void 0),r([l(cc.AudioClip)],e.prototype,"fsWonTitle",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeat",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeatNoise",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeatSlowdrop",void 0),r([l(cc.AudioClip)],e.prototype,"list_item_click",void 0),r([l(cc.AudioClip)],e.prototype,"menu_icon_press",void 0),r([l(cc.AudioClip)],e.prototype,"multiCombine",void 0),r([l(cc.AudioClip)],e.prototype,"symbolBonus",void 0),r([l(cc.AudioClip)],e.prototype,"symbolBonusMove",void 0),r([l(cc.AudioClip)],e.prototype,"textBonusJump",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwin",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwinMedEnd",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwinMedMain",void 0),r([l(cc.AudioClip)],e.prototype,"prizeSmallwin",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfoSmallwin",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwinBonus",void 0),r([l(cc.AudioClip)],e.prototype,"prizeSmallwinMultiplied",void 0),r([l(cc.AudioClip)],e.prototype,"rouletteLoop",void 0),r([l(cc.AudioClip)],e.prototype,"scatterWinHighligh",void 0),r([l(cc.AudioClip)],e.prototype,"slider_effect",void 0),r([l(cc.AudioClip)],e.prototype,"spinActiveLoop",void 0),r([l(cc.AudioClip)],e.prototype,"spinBtn",void 0),r([l(cc.AudioClip)],e.prototype,"spinStop",void 0),r([l(cc.AudioClip)],e.prototype,"spinStopQuick",void 0),r([l(cc.AudioClip)],e.prototype,"symCollapse",void 0),r([l(cc.AudioClip)],e.prototype,"symScatter",void 0),r([l(cc.AudioClip)],e.prototype,"symShrink",void 0),r([l(cc.AudioClip)],e.prototype,"symWild",void 0),r([l(cc.AudioClip)],e.prototype,"uiCollect",void 0),r([l(cc.AudioClip)],e.prototype,"uiInfo",void 0),r([l(cc.AudioClip)],e.prototype,"uiStart",void 0),r([l(cc.AudioClip)],e.prototype,"shakerMove",void 0),r([l(cc.AudioClip)],e.prototype,"shakerStop",void 0),r([c],e)}(s.default);n.default=u,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":"AudioManager"}],AudioManager:[function(t,e,n){"use strict";cc._RF.push(e,"29483itIxdEG7fkS4/bZacr","AudioManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Lib/VM/ViewModel"),a=t("../Windown"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.idTiengNo=-1,e.audios=[],e.backgroundMusicAudio=null,e._isActiveSound=!1,e.mapAudioId=new Map,e._isActiveMusic=!1,e}return i(e,t),Object.defineProperty(e.prototype,"isActiveSound",{get:function(){return this._isActiveSound},set:function(t){t!=this._isActiveSound&&(this._isActiveSound=t,t?a.Windown.setLocalStorage("sound","on"):(a.Windown.setLocalStorage("sound","off"),this.stopSound()))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isActiveMusic",{get:function(){return this._isActiveMusic},set:function(t){t!=this._isActiveMusic&&(this._isActiveMusic=t,t?(a.Windown.setLocalStorage("music","on"),this.playMusic()):(a.Windown.setLocalStorage("music","off"),this.stopMusic()))},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){s.VM.bindPath("user.isOnSound",this.onChangeSound,this),s.VM.bindPath("user.isOnMusic",this.onChangeMusic,this),a.Windown.AudioManager=this},e.prototype.onChangeSound=function(t){this.isActiveSound=t},e.prototype.onChangeMusic=function(t){this.isActiveMusic=t},e.prototype.onEnable=function(){this.isActiveMusic=a.Windown.User.isOnMusic,this.isActiveSound=a.Windown.User.isOnSound,this.isActiveMusic&&this.playMusic()},e.prototype.playMusic=function(){a.Windown.BotController||this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.7))},e.prototype.stopMusic=function(){this.backgroundMusicAudio&&cc.audioEngine.stopMusic()},e.prototype.onDestroy=function(){this.stopSound(),this.stopMusic(),a.Windown.AudioManager=null,s.VM.targetOff(this)},e.prototype.stopSound=function(){cc.audioEngine.stopAllEffects()},e.prototype.playEffect=function(t,e,n){if(void 0===e&&(e=1),void 0===n&&(n=!1),t){if(a.Windown.BotController)return-1;if(!this.isActiveSound)return-1;var o=this.getObjSound(t.name);if(o.canStop){o&&o.audioId&&cc.audioEngine.stopEffect(o.audioId);var i=cc.audioEngine.playEffect(t,n);return cc.audioEngine.setVolume(i,e),o.audioId=i,o.canStop=!1,o.timeOutId=setTimeout(function(){o.canStop=!0},75),i}}},e.prototype.playEffectNoStop=function(t,e,n){if(void 0===e&&(e=1),void 0===n&&(n=!1),a.Windown.BotController)return-1;if(!this.isActiveSound)return-1;var o=cc.audioEngine.playEffect(t,n);if(cc.audioEngine.setVolume(o,e),n){var i=this.getObjSound(t.name);i.audioId=o,i.canStop=!1}return o},e.prototype.playEffectSync=function(t,e,n){return void 0===e&&(e=1),a.Windown.BotController&&(e=0),this.isActiveSound||(e=0),new Promise(function(o){var i=cc.audioEngine.playEffect(t,!1);cc.audioEngine.setVolume(i,e),cc.audioEngine.setFinishCallback(i,o),n&&setTimeout(o,1e3*n)})},e.prototype.playTiengNo=function(){},e.prototype.getObjSound=function(t){var e=this.mapAudioId.get(t);return null==e&&((e=Object.create(null)).name=t,e.timeOutId=-1,e.canStop=!0,this.mapAudioId.set(t,e)),e},e.prototype.stopEffect=function(t,e){if(void 0===e&&(e=!1),null!=t&&null!=t){var n=this.mapAudioId.get(t.name);if(null!=n&&null!=n.audioId)if(e){var o=Object.create(null);o.volum=cc.audioEngine.getVolume(n.audioId),cc.tween(o).to(.3,{volum:{value:0,progress:function(t,e,o,i){var r=t+(e-t)*i;return cc.audioEngine.setVolume(n.audioId,r),0==r&&cc.audioEngine.stopEffect(n.audioId),r}}}).start()}else cc.audioEngine.stopEffect(n.audioId)}},e.prototype.reset=function(){this.mapAudioId.forEach(function(t){t&&t.audioId&&cc.audioEngine.stopEffect(t.audioId)})},r([u([cc.AudioClip])],e.prototype,"audios",void 0),r([u(cc.AudioClip)],e.prototype,"backgroundMusicAudio",void 0),r([u],e.prototype,"isActiveMusic",null),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Lib/VM/ViewModel":"ViewModel","../Windown":"Windown"}],AudioMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"29996n/F39A+YUQDZDdJcl3","AudioMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Parent/AudioManager"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.voxRandom=[],e.voxMulti=[],e.voxMultiFS=[],e.voxSymbol=[],e.voxInfoBoard=[],e.voxIsScatter=null,e.multiUpupup=null,e.reelQuickStop=null,e.reelStopSingle=null,e.fsDragonFly=null,e.fsMultiplyRefresh=null,e.click=null,e.bgm_fs=null,e.bgmBigwinEnd=null,e.bgmBigwinEndCoins=null,e.bgmBigwinMain=null,e.bgmTotalwinEnd=null,e.bgmTotalwinMain=null,e.fastspinEnd=null,e.fastspinStart=null,e.featureBuyBtn=null,e.featureBuyCancel=null,e.featureBuyHover=null,e.featureBuyStart=null,e.fsIntro=null,e.fsSpin=null,e.fsTrans=null,e.fsWonRemainingIncrease=null,e.fsWonTitle=null,e.heartbeat=null,e.heartbeatNoise=null,e.heartbeatSlowdrop=null,e.list_item_click=null,e.menu_icon_press=null,e.multiCombine=null,e.prizeInfobarTotalwin=null,e.prizeInfobarTotalwinMedEnd=null,e.prizeInfobarTotalwinMedMain=null,e.prizeInfobarUpgrade=null,e.prizeSmallwin=null,e.prizeSmallwinMultiplied=null,e.rouletteEnd=null,e.rouletteLoop=null,e.rouletteStart=null,e.scatterWinHighligh=null,e.slider_effect=null,e.spinActiveLoop=null,e.spinBtn=null,e.spinStop=null,e.spinStopQuick=null,e.symCollapse=null,e.symScatter=null,e.symShrink=null,e.symWild=null,e.uiCollect=null,e.uiInfo=null,e.uiStart=null,e.objKey={},e}return i(e,t),e.prototype.onChangeMusic=function(e){t.prototype.onChangeMusic.call(this,e),this.isActiveSound=e},e.prototype.playClick=function(){this.playEffect(this.click)},e.prototype.playMusic=function(){this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.5))},e.prototype.playIndexTakeLine=function(){},e.prototype.playSmalWin=function(){},e.prototype.playBkgfs=function(){this.stopMusic(),this.playEffect(this.bgm_fs,.6,!0)},e.prototype.stopBkgFs=function(){this.stopEffect(this.bgm_fs,!0),this.playMusic()},e.prototype.playSymCollapse=function(){this.playEffect(this.symCollapse)},e.prototype.playStopAudio=function(){var t=this.spinStop;this.playEffect(t)},r([l([cc.AudioClip])],e.prototype,"voxRandom",void 0),r([l([cc.AudioClip])],e.prototype,"voxMulti",void 0),r([l([cc.AudioClip])],e.prototype,"voxMultiFS",void 0),r([l([cc.AudioClip])],e.prototype,"voxSymbol",void 0),r([l([cc.AudioClip])],e.prototype,"voxInfoBoard",void 0),r([l(cc.AudioClip)],e.prototype,"voxIsScatter",void 0),r([l(cc.AudioClip)],e.prototype,"multiUpupup",void 0),r([l(cc.AudioClip)],e.prototype,"reelQuickStop",void 0),r([l(cc.AudioClip)],e.prototype,"reelStopSingle",void 0),r([l(cc.AudioClip)],e.prototype,"fsDragonFly",void 0),r([l(cc.AudioClip)],e.prototype,"fsMultiplyRefresh",void 0),r([l(cc.AudioClip)],e.prototype,"click",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_fs",void 0),r([l(cc.AudioClip)],e.prototype,"bgmBigwinEnd",void 0),r([l(cc.AudioClip)],e.prototype,"bgmBigwinEndCoins",void 0),r([l(cc.AudioClip)],e.prototype,"bgmBigwinMain",void 0),r([l(cc.AudioClip)],e.prototype,"bgmTotalwinEnd",void 0),r([l(cc.AudioClip)],e.prototype,"bgmTotalwinMain",void 0),r([l(cc.AudioClip)],e.prototype,"fastspinEnd",void 0),r([l(cc.AudioClip)],e.prototype,"fastspinStart",void 0),r([l(cc.AudioClip)],e.prototype,"featureBuyBtn",void 0),r([l(cc.AudioClip)],e.prototype,"featureBuyCancel",void 0),r([l(cc.AudioClip)],e.prototype,"featureBuyHover",void 0),r([l(cc.AudioClip)],e.prototype,"featureBuyStart",void 0),r([l(cc.AudioClip)],e.prototype,"fsIntro",void 0),r([l(cc.AudioClip)],e.prototype,"fsSpin",void 0),r([l(cc.AudioClip)],e.prototype,"fsTrans",void 0),r([l(cc.AudioClip)],e.prototype,"fsWonRemainingIncrease",void 0),r([l(cc.AudioClip)],e.prototype,"fsWonTitle",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeat",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeatNoise",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeatSlowdrop",void 0),r([l(cc.AudioClip)],e.prototype,"list_item_click",void 0),r([l(cc.AudioClip)],e.prototype,"menu_icon_press",void 0),r([l(cc.AudioClip)],e.prototype,"multiCombine",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwin",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwinMedEnd",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwinMedMain",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarUpgrade",void 0),r([l(cc.AudioClip)],e.prototype,"prizeSmallwin",void 0),r([l(cc.AudioClip)],e.prototype,"prizeSmallwinMultiplied",void 0),r([l(cc.AudioClip)],e.prototype,"rouletteEnd",void 0),r([l(cc.AudioClip)],e.prototype,"rouletteLoop",void 0),r([l(cc.AudioClip)],e.prototype,"rouletteStart",void 0),r([l(cc.AudioClip)],e.prototype,"scatterWinHighligh",void 0),r([l(cc.AudioClip)],e.prototype,"slider_effect",void 0),r([l(cc.AudioClip)],e.prototype,"spinActiveLoop",void 0),r([l(cc.AudioClip)],e.prototype,"spinBtn",void 0),r([l(cc.AudioClip)],e.prototype,"spinStop",void 0),r([l(cc.AudioClip)],e.prototype,"spinStopQuick",void 0),r([l(cc.AudioClip)],e.prototype,"symCollapse",void 0),r([l(cc.AudioClip)],e.prototype,"symScatter",void 0),r([l(cc.AudioClip)],e.prototype,"symShrink",void 0),r([l(cc.AudioClip)],e.prototype,"symWild",void 0),r([l(cc.AudioClip)],e.prototype,"uiCollect",void 0),r([l(cc.AudioClip)],e.prototype,"uiInfo",void 0),r([l(cc.AudioClip)],e.prototype,"uiStart",void 0),r([c],e)}(s.default);n.default=u,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":"AudioManager"}],AudioMatTroi:[function(t,e,n){"use strict";cc._RF.push(e,"89c77NtWgJEKbrWZBjE9f19","AudioMatTroi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Parent/AudioManager"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click=null,e.bgm_bigwin_end=null,e.bgm_bigwin_end_coin=null,e.bgm_bigwin_main=null,e.bgm_fs=null,e.bgm_mg=null,e.bgm_totalwin_end=null,e.bgm_totalwin_main=null,e.fastspinEnd=null,e.fastspinStart=null,e.featureBuyBtn=null,e.featureBuyCancel=null,e.featureBuyHover=null,e.featureBuyStart=null,e.fsIntro=null,e.fsSpin=null,e.heartbeat=null,e.heartbeatNoise=null,e.heartbeatSlowdrop=null,e.list_item_click=null,e.menu_icon_press=null,e.prizeInfobarTotalwin=null,e.spinActiveLoop=null,e.prizePayoutHighlight=null,e.prizePayoutHighlightStart=null,e.prizeSmallwin=null,e.prizeWinMultiplied=null,e.scatterWinHighlight=null,e.spinBtn=null,e.spinStop=null,e.spinStopQuick=null,e.symCollapse=null,e.symScatter=null,e.symShrink=null,e.symWild=null,e.uiCollect=null,e.takeSymTop=null,e.uiInfo=null,e.uiStart=null,e.wallet_counting_above=null,e.spinActivated=null,e.multiLightning=null,e.prizeInfobarSmallwin=null,e.prizeInfobarMultiwin=null,e.multiIncreaseLeft=null,e.multiIncreaseRight=null,e.multiFly=null,e.prizeInfobarCountingMain=null,e.prizeInfobarCountingEnd=null,e.multiIncreaseCenterClose=null,e.multiIncreaseCenter=null,e}return i(e,t),e.prototype.playClick=function(){this.playEffect(this.click)},e.prototype.playMusic=function(){this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.6))},e.prototype.playIndexTakeLine=function(){},e.prototype.playSmalWin=function(){},e.prototype.playBkgfs=function(){this.stopMusic(),this.playEffect(this.fsSpin),this.playEffect(this.bgm_fs,.6,!0)},e.prototype.stopBkgFs=function(){this.stopEffect(this.bgm_fs,!0),this.playMusic()},e.prototype.playStopAudio=function(){var t=this.spinStop;this.playEffect(t,.7)},r([l(cc.AudioClip)],e.prototype,"click",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_bigwin_end",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_bigwin_end_coin",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_bigwin_main",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_fs",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_mg",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_totalwin_end",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_totalwin_main",void 0),r([l(cc.AudioClip)],e.prototype,"fastspinEnd",void 0),r([l(cc.AudioClip)],e.prototype,"fastspinStart",void 0),r([l(cc.AudioClip)],e.prototype,"featureBuyBtn",void 0),r([l(cc.AudioClip)],e.prototype,"featureBuyCancel",void 0),r([l(cc.AudioClip)],e.prototype,"featureBuyHover",void 0),r([l(cc.AudioClip)],e.prototype,"featureBuyStart",void 0),r([l(cc.AudioClip)],e.prototype,"fsIntro",void 0),r([l(cc.AudioClip)],e.prototype,"fsSpin",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeat",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeatNoise",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeatSlowdrop",void 0),r([l(cc.AudioClip)],e.prototype,"list_item_click",void 0),r([l(cc.AudioClip)],e.prototype,"menu_icon_press",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwin",void 0),r([l(cc.AudioClip)],e.prototype,"spinActiveLoop",void 0),r([l(cc.AudioClip)],e.prototype,"prizePayoutHighlight",void 0),r([l(cc.AudioClip)],e.prototype,"prizePayoutHighlightStart",void 0),r([l(cc.AudioClip)],e.prototype,"prizeSmallwin",void 0),r([l(cc.AudioClip)],e.prototype,"prizeWinMultiplied",void 0),r([l(cc.AudioClip)],e.prototype,"scatterWinHighlight",void 0),r([l(cc.AudioClip)],e.prototype,"spinBtn",void 0),r([l(cc.AudioClip)],e.prototype,"spinStop",void 0),r([l(cc.AudioClip)],e.prototype,"spinStopQuick",void 0),r([l(cc.AudioClip)],e.prototype,"symCollapse",void 0),r([l(cc.AudioClip)],e.prototype,"symScatter",void 0),r([l(cc.AudioClip)],e.prototype,"symShrink",void 0),r([l(cc.AudioClip)],e.prototype,"symWild",void 0),r([l(cc.AudioClip)],e.prototype,"uiCollect",void 0),r([l(cc.AudioClip)],e.prototype,"takeSymTop",void 0),r([l(cc.AudioClip)],e.prototype,"uiInfo",void 0),r([l(cc.AudioClip)],e.prototype,"uiStart",void 0),r([l(cc.AudioClip)],e.prototype,"wallet_counting_above",void 0),r([l(cc.AudioClip)],e.prototype,"spinActivated",void 0),r([l(cc.AudioClip)],e.prototype,"multiLightning",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarSmallwin",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarMultiwin",void 0),r([l(cc.AudioClip)],e.prototype,"multiIncreaseLeft",void 0),r([l(cc.AudioClip)],e.prototype,"multiIncreaseRight",void 0),r([l(cc.AudioClip)],e.prototype,"multiFly",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarCountingMain",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarCountingEnd",void 0),r([l(cc.AudioClip)],e.prototype,"multiIncreaseCenterClose",void 0),r([l(cc.AudioClip)],e.prototype,"multiIncreaseCenter",void 0),r([c],e)}(s.default);n.default=u,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":"AudioManager"}],AudioNeko:[function(t,e,n){"use strict";cc._RF.push(e,"94dc6nejsBEiL1X3SDvynjz","AudioNeko");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Parent/AudioManager"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click=null,e.bgm_bigwin_end=null,e.bgm_bigwin_end_coin=null,e.bgm_bigwin_main=null,e.bgm_fs=null,e.bgm_mg=null,e.bgm_totalwin_end=null,e.bgm_totalwin_main=null,e.fastspinEnd=null,e.fastspinStart=null,e.featureBuyBtn=null,e.featureBuyCancel=null,e.featureBuyHover=null,e.featureBuyStart=null,e.fsIntro=null,e.fsSpin=null,e.fsWonRemainingIncrease=null,e.fsWonTitle=null,e.heartbeat=null,e.heartbeatNoise=null,e.heartbeatSlowdrop=null,e.list_item_click=null,e.menu_icon_press=null,e.prizeInfobarTotalwin=null,e.spinActiveLoop=null,e.prizeInfobarTotalwinMedEnd=null,e.prizeInfobarTotalwinMedMain=null,e.prizePayoutHighlight=null,e.prizePayoutHighlightStart=null,e.prizeSmallwin=null,e.prizeWinMultiplied=null,e.scatterWinHighlight=null,e.slider_effect=null,e.spinBtn=null,e.spinStop=null,e.symCollapse=null,e.symMultiFly=null,e.symMultiFlyB=null,e.symMultiReach=null,e.symMultiReachB=null,e.symMultiSpawn=null,e.symRouletteEnd=null,e.symRouletteRolling=null,e.symRouletteStart=null,e.symScatter=null,e.symShrink=null,e.symWild=null,e.uiCollect=null,e.takeSymTop=null,e.uiInfo=null,e.uiStart=null,e.wallet_counting_above=null,e}return i(e,t),e.prototype.playClick=function(){this.playEffect(this.click)},e.prototype.playMusic=function(){this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.6))},e.prototype.playIndexTakeLine=function(){},e.prototype.playSmalWin=function(){},e.prototype.playBkgfs=function(){this.stopMusic(),this.playEffect(this.fsSpin),this.playEffect(this.bgm_fs,.6,!0)},e.prototype.stopBkgFs=function(){this.stopEffect(this.bgm_fs,!0),this.playMusic()},e.prototype.playStopAudio=function(){var t=this.spinStop;this.playEffectNoStop(t,.7)},r([l(cc.AudioClip)],e.prototype,"click",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_bigwin_end",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_bigwin_end_coin",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_bigwin_main",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_fs",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_mg",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_totalwin_end",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_totalwin_main",void 0),r([l(cc.AudioClip)],e.prototype,"fastspinEnd",void 0),r([l(cc.AudioClip)],e.prototype,"fastspinStart",void 0),r([l(cc.AudioClip)],e.prototype,"featureBuyBtn",void 0),r([l(cc.AudioClip)],e.prototype,"featureBuyCancel",void 0),r([l(cc.AudioClip)],e.prototype,"featureBuyHover",void 0),r([l(cc.AudioClip)],e.prototype,"featureBuyStart",void 0),r([l(cc.AudioClip)],e.prototype,"fsIntro",void 0),r([l(cc.AudioClip)],e.prototype,"fsSpin",void 0),r([l(cc.AudioClip)],e.prototype,"fsWonRemainingIncrease",void 0),r([l(cc.AudioClip)],e.prototype,"fsWonTitle",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeat",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeatNoise",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeatSlowdrop",void 0),r([l(cc.AudioClip)],e.prototype,"list_item_click",void 0),r([l(cc.AudioClip)],e.prototype,"menu_icon_press",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwin",void 0),r([l(cc.AudioClip)],e.prototype,"spinActiveLoop",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwinMedEnd",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwinMedMain",void 0),r([l(cc.AudioClip)],e.prototype,"prizePayoutHighlight",void 0),r([l(cc.AudioClip)],e.prototype,"prizePayoutHighlightStart",void 0),r([l(cc.AudioClip)],e.prototype,"prizeSmallwin",void 0),r([l(cc.AudioClip)],e.prototype,"prizeWinMultiplied",void 0),r([l(cc.AudioClip)],e.prototype,"scatterWinHighlight",void 0),r([l(cc.AudioClip)],e.prototype,"slider_effect",void 0),r([l(cc.AudioClip)],e.prototype,"spinBtn",void 0),r([l(cc.AudioClip)],e.prototype,"spinStop",void 0),r([l(cc.AudioClip)],e.prototype,"symCollapse",void 0),r([l(cc.AudioClip)],e.prototype,"symMultiFly",void 0),r([l(cc.AudioClip)],e.prototype,"symMultiFlyB",void 0),r([l(cc.AudioClip)],e.prototype,"symMultiReach",void 0),r([l(cc.AudioClip)],e.prototype,"symMultiReachB",void 0),r([l(cc.AudioClip)],e.prototype,"symMultiSpawn",void 0),r([l(cc.AudioClip)],e.prototype,"symRouletteEnd",void 0),r([l(cc.AudioClip)],e.prototype,"symRouletteRolling",void 0),r([l(cc.AudioClip)],e.prototype,"symRouletteStart",void 0),r([l(cc.AudioClip)],e.prototype,"symScatter",void 0),r([l(cc.AudioClip)],e.prototype,"symShrink",void 0),r([l(cc.AudioClip)],e.prototype,"symWild",void 0),r([l(cc.AudioClip)],e.prototype,"uiCollect",void 0),r([l(cc.AudioClip)],e.prototype,"takeSymTop",void 0),r([l(cc.AudioClip)],e.prototype,"uiInfo",void 0),r([l(cc.AudioClip)],e.prototype,"uiStart",void 0),r([l(cc.AudioClip)],e.prototype,"wallet_counting_above",void 0),r([c],e)}(s.default);n.default=u,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":"AudioManager"}],AudioNgoKhong:[function(t,e,n){"use strict";cc._RF.push(e,"a63ebvLqPJHGbqaP4HGQmjm","AudioNgoKhong");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Parent/AudioManager"),a=t("../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click=null,e.bgm_bigwin_end=null,e.bgm_bigwin_main=null,e.bgm_fs=null,e.bgm_mg=null,e.bgm_totalwin_end=null,e.bgm_totalwin_main_1=null,e.bgm_totalwin_main_2=null,e.bgm_totalwin_main_3=null,e.fastspinEnd=null,e.fastspinStart=null,e.featureJingubangExpand=null,e.featureJingubangSpawn=null,e.fsReelAppear=null,e.fsSpin=null,e.fsTrans=null,e.fsWonRemainingIncrease=null,e.fsWonTitle=null,e.heartbeat=null,e.heartbeatNoise=null,e.heartbeatSlowdrop=null,e.menu_icon_press=null,e.multiTitle=null,e.multiUp=null,e.prizeInfobarTotalwin=null,e.prizeInfobarTotalwinMedEnd=null,e.prizeInfobarTotalwinMedMain=null,e.prizeSmallwin=null,e.prizeSmallwinMultiplied=null,e.reelReset=null,e.scatterWinHighlight=null,e.slider_effect=null,e.spinActiveLoop=null,e.spinBtn=null,e.spinStop=null,e.spinStopQuick=null,e.symCollapse=null,e.symScatter=null,e.symShrink=null,e.symWildSeparate=null,e.symWildSpawn=null,e.uiCollect=null,e.uiInfo=null,e.uiStart=null,e.voxCounting1=null,e.voxCounting2=null,e.voxCounting3=null,e.voxSmallwin1=null,e.voxSmallwin2=null,e.voxSmallwin3=null,e.wallet_counting_above=null,e.slot_scrolling=null,e.lastRdNumber=-1,e.lastRdNumber2=-1,e}return i(e,t),e.prototype.playClick=function(){this.playEffect(this.click)},e.prototype.playMusic=function(){this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.3))},e.prototype.playIndexTakeLine=function(){for(var t=a.Windown.RandomNumber(0,3);t==this.lastRdNumber;)t=a.Windown.RandomNumber(0,3);this.lastRdNumber=t,0==t?this.playEffect(this.voxSmallwin1):1==t?this.playEffect(this.voxSmallwin2):this.playEffect(this.voxSmallwin3)},e.prototype.playSmalWin=function(){for(var t=a.Windown.RandomNumber(0,3);t==this.lastRdNumber2;)t=a.Windown.RandomNumber(0,3);this.lastRdNumber2=t,0==t?this.playEffect(this.voxCounting1):1==t?this.playEffect(this.voxCounting2):this.playEffect(this.voxCounting3)},e.prototype.playBkgfs=function(){var t=this;this.stopMusic(),this.playEffect(this.fsSpin),this.playEffect(this.bgm_fs,.6,!0),this.scheduleOnce(function(){t.playEffect(t.reelReset)},3)},e.prototype.stopBkgFs=function(){this.stopEffect(this.bgm_fs,!0),this.playMusic()},r([u(cc.AudioClip)],e.prototype,"click",void 0),r([u(cc.AudioClip)],e.prototype,"bgm_bigwin_end",void 0),r([u(cc.AudioClip)],e.prototype,"bgm_bigwin_main",void 0),r([u(cc.AudioClip)],e.prototype,"bgm_fs",void 0),r([u(cc.AudioClip)],e.prototype,"bgm_mg",void 0),r([u(cc.AudioClip)],e.prototype,"bgm_totalwin_end",void 0),r([u(cc.AudioClip)],e.prototype,"bgm_totalwin_main_1",void 0),r([u(cc.AudioClip)],e.prototype,"bgm_totalwin_main_2",void 0),r([u(cc.AudioClip)],e.prototype,"bgm_totalwin_main_3",void 0),r([u(cc.AudioClip)],e.prototype,"fastspinEnd",void 0),r([u(cc.AudioClip)],e.prototype,"fastspinStart",void 0),r([u(cc.AudioClip)],e.prototype,"featureJingubangExpand",void 0),r([u(cc.AudioClip)],e.prototype,"featureJingubangSpawn",void 0),r([u(cc.AudioClip)],e.prototype,"fsReelAppear",void 0),r([u(cc.AudioClip)],e.prototype,"fsSpin",void 0),r([u(cc.AudioClip)],e.prototype,"fsTrans",void 0),r([u(cc.AudioClip)],e.prototype,"fsWonRemainingIncrease",void 0),r([u(cc.AudioClip)],e.prototype,"fsWonTitle",void 0),r([u(cc.AudioClip)],e.prototype,"heartbeat",void 0),r([u(cc.AudioClip)],e.prototype,"heartbeatNoise",void 0),r([u(cc.AudioClip)],e.prototype,"heartbeatSlowdrop",void 0),r([u(cc.AudioClip)],e.prototype,"menu_icon_press",void 0),r([u(cc.AudioClip)],e.prototype,"multiTitle",void 0),r([u(cc.AudioClip)],e.prototype,"multiUp",void 0),r([u(cc.AudioClip)],e.prototype,"prizeInfobarTotalwin",void 0),r([u(cc.AudioClip)],e.prototype,"prizeInfobarTotalwinMedEnd",void 0),r([u(cc.AudioClip)],e.prototype,"prizeInfobarTotalwinMedMain",void 0),r([u(cc.AudioClip)],e.prototype,"prizeSmallwin",void 0),r([u(cc.AudioClip)],e.prototype,"prizeSmallwinMultiplied",void 0),r([u(cc.AudioClip)],e.prototype,"reelReset",void 0),r([u(cc.AudioClip)],e.prototype,"scatterWinHighlight",void 0),r([u(cc.AudioClip)],e.prototype,"slider_effect",void 0),r([u(cc.AudioClip)],e.prototype,"spinActiveLoop",void 0),r([u(cc.AudioClip)],e.prototype,"spinBtn",void 0),r([u(cc.AudioClip)],e.prototype,"spinStop",void 0),r([u(cc.AudioClip)],e.prototype,"spinStopQuick",void 0),r([u(cc.AudioClip)],e.prototype,"symCollapse",void 0),r([u(cc.AudioClip)],e.prototype,"symScatter",void 0),r([u(cc.AudioClip)],e.prototype,"symShrink",void 0),r([u(cc.AudioClip)],e.prototype,"symWildSeparate",void 0),r([u(cc.AudioClip)],e.prototype,"symWildSpawn",void 0),r([u(cc.AudioClip)],e.prototype,"uiCollect",void 0),r([u(cc.AudioClip)],e.prototype,"uiInfo",void 0),r([u(cc.AudioClip)],e.prototype,"uiStart",void 0),r([u(cc.AudioClip)],e.prototype,"voxCounting1",void 0),r([u(cc.AudioClip)],e.prototype,"voxCounting2",void 0),r([u(cc.AudioClip)],e.prototype,"voxCounting3",void 0),r([u(cc.AudioClip)],e.prototype,"voxSmallwin1",void 0),r([u(cc.AudioClip)],e.prototype,"voxSmallwin2",void 0),r([u(cc.AudioClip)],e.prototype,"voxSmallwin3",void 0),r([u(cc.AudioClip)],e.prototype,"wallet_counting_above",void 0),r([u(cc.AudioClip)],e.prototype,"slot_scrolling",void 0),r([l],e)}(s.default);n.default=p,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":"AudioManager","../../../Scritps/Windown":"Windown"}],AudioQuyBa:[function(t,e,n){"use strict";cc._RF.push(e,"b55a0glFMRFJKwQ72sqBuiU","AudioQuyBa");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Parent/AudioManager"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.voxRandom=[],e.voxMulti=[],e.voxMultiFS=[],e.voxSymbol=[],e.voxInfoBoard=[],e.voxIsScatter=null,e.multiUpupup=null,e.reelQuickStop=null,e.reelStopSingle=null,e.fsMultiplyRefresh=null,e.click=null,e.bgm_fs=null,e.bgmBigwinEnd=null,e.bgmBigwinEndCoins=null,e.bgmBigwinMain=null,e.bgmTotalwinEnd=null,e.bgmTotalwinMain=null,e.fastspinEnd=null,e.fastspinStart=null,e.fsIntro=null,e.fsSpin=null,e.fsTrans=null,e.fsWonRemainingIncrease=null,e.fsWonTitle=null,e.heartbeat=null,e.heartbeatNoise=null,e.heartbeatSlowdrop=null,e.list_item_click=null,e.menu_icon_press=null,e.multiCombine=null,e.multiActivate=null,e.prizeInfobarTotalwin=null,e.prizeInfobarTotalwinMedEnd=null,e.prizeInfobarTotalwinMedMain=null,e.prizeSmallwin=null,e.prizeSmallwinMultiplied=null,e.rouletteLoop=null,e.symWildActivate=null,e.symWildSpawn=null,e.scatterWinHighligh=null,e.slider_effect=null,e.spinActiveLoop=null,e.spinBtn=null,e.spinStop=null,e.spinStopQuick=null,e.symCollapse=null,e.symScatter=null,e.symShrink=null,e.symWild=null,e.uiCollect=null,e.uiInfo=null,e.uiStart=null,e.shakerMove=null,e.shakerStop=null,e.objKey={},e}return i(e,t),e.prototype.onChangeMusic=function(e){t.prototype.onChangeMusic.call(this,e),this.isActiveSound=e},e.prototype.playClick=function(){this.playEffect(this.click)},e.prototype.playMusic=function(){this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.5))},e.prototype.playIndexTakeLine=function(){},e.prototype.playSmalWin=function(){},e.prototype.playBkgfs=function(){this.stopMusic(),this.playEffect(this.bgm_fs,.6,!0)},e.prototype.stopBkgFs=function(){this.stopEffect(this.bgm_fs,!0),this.playMusic()},e.prototype.playSymCollapse=function(){this.playEffect(this.symCollapse)},e.prototype.playStopAudio=function(){var t=this.spinStop;this.playEffect(t)},r([l([cc.AudioClip])],e.prototype,"voxRandom",void 0),r([l([cc.AudioClip])],e.prototype,"voxMulti",void 0),r([l([cc.AudioClip])],e.prototype,"voxMultiFS",void 0),r([l([cc.AudioClip])],e.prototype,"voxSymbol",void 0),r([l([cc.AudioClip])],e.prototype,"voxInfoBoard",void 0),r([l(cc.AudioClip)],e.prototype,"voxIsScatter",void 0),r([l(cc.AudioClip)],e.prototype,"multiUpupup",void 0),r([l(cc.AudioClip)],e.prototype,"reelQuickStop",void 0),r([l(cc.AudioClip)],e.prototype,"reelStopSingle",void 0),r([l(cc.AudioClip)],e.prototype,"fsMultiplyRefresh",void 0),r([l(cc.AudioClip)],e.prototype,"click",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_fs",void 0),r([l(cc.AudioClip)],e.prototype,"bgmBigwinEnd",void 0),r([l(cc.AudioClip)],e.prototype,"bgmBigwinEndCoins",void 0),r([l(cc.AudioClip)],e.prototype,"bgmBigwinMain",void 0),r([l(cc.AudioClip)],e.prototype,"bgmTotalwinEnd",void 0),r([l(cc.AudioClip)],e.prototype,"bgmTotalwinMain",void 0),r([l(cc.AudioClip)],e.prototype,"fastspinEnd",void 0),r([l(cc.AudioClip)],e.prototype,"fastspinStart",void 0),r([l(cc.AudioClip)],e.prototype,"fsIntro",void 0),r([l(cc.AudioClip)],e.prototype,"fsSpin",void 0),r([l(cc.AudioClip)],e.prototype,"fsTrans",void 0),r([l(cc.AudioClip)],e.prototype,"fsWonRemainingIncrease",void 0),r([l(cc.AudioClip)],e.prototype,"fsWonTitle",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeat",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeatNoise",void 0),r([l(cc.AudioClip)],e.prototype,"heartbeatSlowdrop",void 0),r([l(cc.AudioClip)],e.prototype,"list_item_click",void 0),r([l(cc.AudioClip)],e.prototype,"menu_icon_press",void 0),r([l(cc.AudioClip)],e.prototype,"multiCombine",void 0),r([l(cc.AudioClip)],e.prototype,"multiActivate",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwin",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwinMedEnd",void 0),r([l(cc.AudioClip)],e.prototype,"prizeInfobarTotalwinMedMain",void 0),r([l(cc.AudioClip)],e.prototype,"prizeSmallwin",void 0),r([l(cc.AudioClip)],e.prototype,"prizeSmallwinMultiplied",void 0),r([l(cc.AudioClip)],e.prototype,"rouletteLoop",void 0),r([l(cc.AudioClip)],e.prototype,"symWildActivate",void 0),r([l(cc.AudioClip)],e.prototype,"symWildSpawn",void 0),r([l(cc.AudioClip)],e.prototype,"scatterWinHighligh",void 0),r([l(cc.AudioClip)],e.prototype,"slider_effect",void 0),r([l(cc.AudioClip)],e.prototype,"spinActiveLoop",void 0),r([l(cc.AudioClip)],e.prototype,"spinBtn",void 0),r([l(cc.AudioClip)],e.prototype,"spinStop",void 0),r([l(cc.AudioClip)],e.prototype,"spinStopQuick",void 0),r([l(cc.AudioClip)],e.prototype,"symCollapse",void 0),r([l(cc.AudioClip)],e.prototype,"symScatter",void 0),r([l(cc.AudioClip)],e.prototype,"symShrink",void 0),r([l(cc.AudioClip)],e.prototype,"symWild",void 0),r([l(cc.AudioClip)],e.prototype,"uiCollect",void 0),r([l(cc.AudioClip)],e.prototype,"uiInfo",void 0),r([l(cc.AudioClip)],e.prototype,"uiStart",void 0),r([l(cc.AudioClip)],e.prototype,"shakerMove",void 0),r([l(cc.AudioClip)],e.prototype,"shakerStop",void 0),r([c],e)}(s.default);n.default=u,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":"AudioManager"}],AudioRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"a286fIbi8JHHYoiBsgIm93m","AudioRungRam");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Parent/AudioManager"),a=t("../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click=null,e.bgm_bigwin_end=null,e.bgm_bigwin_main=null,e.bgm_fs=null,e.bgm_mg=null,e.bgm_totalwin_end=null,e.bgm_totalwin_main=null,e.fastspin=null,e.fsTrans=null,e.heartbeat=null,e.heartbeatNoise=null,e.heartbeatSlowdrop=null,e.infobarLevelUp=null,e.infobarTotalwinMedEnd=null,e.infobarTotalwinMedMain=null,e.multiplierUp=null,e.prizeInfobarTotalwin=null,e.prizeMultiplierMedwin=null,e.prizeMultiplierSmallwin=null,e.prizeWinHighlight=null,e.scatterWinHighlight=null,e.slider_effect=null,e.spinActiveLoop=null,e.spinBtn=null,e.spinStop1=null,e.spinStop2=null,e.spinStop3=null,e.spinStop4=null,e.spinStop5=null,e.spinStop6=null,e.spinStopQuick=null,e.symCollapse1=null,e.symCollapse2=null,e.symCollapse3=null,e.symCollapse4=null,e.symCollapse5=null,e.symCollapse6=null,e.symRouletteEnd=null,e.symRouletteRolling=null,e.symRouletteStart=null,e.symScatter=null,e.symShrink=null,e.symWild=null,e.uiInfo=null,e.uiStart=null,e.wallet_counting_above=null,e.waysRolling=null,e}return i(e,t),e.prototype.playClick=function(){this.playEffect(this.click)},e.prototype.playMusic=function(){this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.5))},e.prototype.playIndexTakeLine=function(){},e.prototype.playSmalWin=function(){},e.prototype.playBkgfs=function(){this.stopMusic(),this.playEffect(this.bgm_fs,.6,!0)},e.prototype.stopBkgFs=function(){this.stopEffect(this.bgm_fs,!0),this.playMusic()},e.prototype.playSymCollapse=function(){var t=this["symCollapse"+a.Windown.RandomNumber(1,7)];this.playEffectNoStop(t)},e.prototype.playStopAudio=function(){var t=this["spinStop"+a.Windown.RandomNumber(1,7)];this.playEffectNoStop(t,.7)},r([u(cc.AudioClip)],e.prototype,"click",void 0),r([u(cc.AudioClip)],e.prototype,"bgm_bigwin_end",void 0),r([u(cc.AudioClip)],e.prototype,"bgm_bigwin_main",void 0),r([u(cc.AudioClip)],e.prototype,"bgm_fs",void 0),r([u(cc.AudioClip)],e.prototype,"bgm_mg",void 0),r([u(cc.AudioClip)],e.prototype,"bgm_totalwin_end",void 0),r([u(cc.AudioClip)],e.prototype,"bgm_totalwin_main",void 0),r([u(cc.AudioClip)],e.prototype,"fastspin",void 0),r([u(cc.AudioClip)],e.prototype,"fsTrans",void 0),r([u(cc.AudioClip)],e.prototype,"heartbeat",void 0),r([u(cc.AudioClip)],e.prototype,"heartbeatNoise",void 0),r([u(cc.AudioClip)],e.prototype,"heartbeatSlowdrop",void 0),r([u(cc.AudioClip)],e.prototype,"infobarLevelUp",void 0),r([u(cc.AudioClip)],e.prototype,"infobarTotalwinMedEnd",void 0),r([u(cc.AudioClip)],e.prototype,"infobarTotalwinMedMain",void 0),r([u(cc.AudioClip)],e.prototype,"multiplierUp",void 0),r([u(cc.AudioClip)],e.prototype,"prizeInfobarTotalwin",void 0),r([u(cc.AudioClip)],e.prototype,"prizeMultiplierMedwin",void 0),r([u(cc.AudioClip)],e.prototype,"prizeMultiplierSmallwin",void 0),r([u(cc.AudioClip)],e.prototype,"prizeWinHighlight",void 0),r([u(cc.AudioClip)],e.prototype,"scatterWinHighlight",void 0),r([u(cc.AudioClip)],e.prototype,"slider_effect",void 0),r([u(cc.AudioClip)],e.prototype,"spinActiveLoop",void 0),r([u(cc.AudioClip)],e.prototype,"spinBtn",void 0),r([u(cc.AudioClip)],e.prototype,"spinStop1",void 0),r([u(cc.AudioClip)],e.prototype,"spinStop2",void 0),r([u(cc.AudioClip)],e.prototype,"spinStop3",void 0),r([u(cc.AudioClip)],e.prototype,"spinStop4",void 0),r([u(cc.AudioClip)],e.prototype,"spinStop5",void 0),r([u(cc.AudioClip)],e.prototype,"spinStop6",void 0),r([u(cc.AudioClip)],e.prototype,"spinStopQuick",void 0),r([u(cc.AudioClip)],e.prototype,"symCollapse1",void 0),r([u(cc.AudioClip)],e.prototype,"symCollapse2",void 0),r([u(cc.AudioClip)],e.prototype,"symCollapse3",void 0),r([u(cc.AudioClip)],e.prototype,"symCollapse4",void 0),r([u(cc.AudioClip)],e.prototype,"symCollapse5",void 0),r([u(cc.AudioClip)],e.prototype,"symCollapse6",void 0),r([u(cc.AudioClip)],e.prototype,"symRouletteEnd",void 0),r([u(cc.AudioClip)],e.prototype,"symRouletteRolling",void 0),r([u(cc.AudioClip)],e.prototype,"symRouletteStart",void 0),r([u(cc.AudioClip)],e.prototype,"symScatter",void 0),r([u(cc.AudioClip)],e.prototype,"symShrink",void 0),r([u(cc.AudioClip)],e.prototype,"symWild",void 0),r([u(cc.AudioClip)],e.prototype,"uiInfo",void 0),r([u(cc.AudioClip)],e.prototype,"uiStart",void 0),r([u(cc.AudioClip)],e.prototype,"wallet_counting_above",void 0),r([u(cc.AudioClip)],e.prototype,"waysRolling",void 0),r([l],e)}(s.default);n.default=p,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":"AudioManager","../../../Scritps/Windown":"Windown"}],AudioTL:[function(t,e,n){"use strict";cc._RF.push(e,"12f4f+39W1Knbt7MwWTXeMS","AudioTL");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Parent/AudioManager"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anBai=null,e.chiabaiLoop=null,e.click=null,e.danhBaiVaBocBai=null,e.denTurn=null,e.dichuyenLabai=null,e.Lose=null,e.Win=null,e.startGame=null,e.alert=null,e.fold=null,e.nemxu=null,e.bom=null,e.kiss=null,e.rose=null,e.beer=null,e.water=null,e}return i(e,t),e.prototype.playClick=function(){this.playEffect(this.click)},e.prototype.playMusic=function(){this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.6))},e.prototype.playIndexTakeLine=function(){},e.prototype.playSmalWin=function(){},r([l(cc.AudioClip)],e.prototype,"anBai",void 0),r([l(cc.AudioClip)],e.prototype,"chiabaiLoop",void 0),r([l(cc.AudioClip)],e.prototype,"click",void 0),r([l(cc.AudioClip)],e.prototype,"danhBaiVaBocBai",void 0),r([l(cc.AudioClip)],e.prototype,"denTurn",void 0),r([l(cc.AudioClip)],e.prototype,"dichuyenLabai",void 0),r([l(cc.AudioClip)],e.prototype,"Lose",void 0),r([l(cc.AudioClip)],e.prototype,"Win",void 0),r([l(cc.AudioClip)],e.prototype,"startGame",void 0),r([l(cc.AudioClip)],e.prototype,"alert",void 0),r([l(cc.AudioClip)],e.prototype,"fold",void 0),r([l(cc.AudioClip)],e.prototype,"nemxu",void 0),r([l(cc.AudioClip)],e.prototype,"bom",void 0),r([l(cc.AudioClip)],e.prototype,"kiss",void 0),r([l(cc.AudioClip)],e.prototype,"rose",void 0),r([l(cc.AudioClip)],e.prototype,"beer",void 0),r([l(cc.AudioClip)],e.prototype,"water",void 0),r([c],e)}(s.default);n.default=u,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":"AudioManager"}],AudioTruTien:[function(t,e,n){"use strict";cc._RF.push(e,"dce02PR3rFM5Ykn3YiRVpHG","AudioTruTien");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Parent/AudioManager"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click=null,e.bkgFree=null,e.clickBtnSpin=null,e.reelStop=null,e.showwAllLine=null,e.mutilAppear=null,e.showMoneyFirt=null,e.showMoneyFinal=null,e.listNextMutilNormal=[],e.listNextMutilFS=[],e.scaterFly=null,e.scaterDisapear=null,e.xuatHienFree=null,e.effFree=null,e.xuatHien3IconJP=null,e.showScater=null,e.iconScater=null,e.tienRoi=null,e.startBigWin=null,e.endBigWin=null,e.tiengChemKiem=null,e.showTotalFree=null,e.jpFighting=null,e}return i(e,t),e.prototype.playClick=function(){this.playEffect(this.click)},e.prototype.playMusic=function(){this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.4))},e.prototype.playNextMutilNormal=function(t){t<1||this.playEffect(this.listNextMutilNormal[t-1])},e.prototype.playNextMutilFS=function(t){t<1||(1==t?this.playEffect(this.listNextMutilFS[0]):this.playEffect(this.listNextMutilFS[1]))},e.prototype.playBkgFree=function(){this.stopMusic(),this.playEffect(this.bkgFree,.8,!0)},e.prototype.endbkgFree=function(){this.playMusic(),this.stopEffect(this.bkgFree)},r([l(cc.AudioClip)],e.prototype,"click",void 0),r([l(cc.AudioClip)],e.prototype,"bkgFree",void 0),r([l(cc.AudioClip)],e.prototype,"clickBtnSpin",void 0),r([l(cc.AudioClip)],e.prototype,"reelStop",void 0),r([l(cc.AudioClip)],e.prototype,"showwAllLine",void 0),r([l(cc.AudioClip)],e.prototype,"mutilAppear",void 0),r([l(cc.AudioClip)],e.prototype,"showMoneyFirt",void 0),r([l(cc.AudioClip)],e.prototype,"showMoneyFinal",void 0),r([l([cc.AudioClip])],e.prototype,"listNextMutilNormal",void 0),r([l([cc.AudioClip])],e.prototype,"listNextMutilFS",void 0),r([l(cc.AudioClip)],e.prototype,"scaterFly",void 0),r([l(cc.AudioClip)],e.prototype,"scaterDisapear",void 0),r([l(cc.AudioClip)],e.prototype,"xuatHienFree",void 0),r([l(cc.AudioClip)],e.prototype,"effFree",void 0),r([l(cc.AudioClip)],e.prototype,"xuatHien3IconJP",void 0),r([l(cc.AudioClip)],e.prototype,"showScater",void 0),r([l(cc.AudioClip)],e.prototype,"iconScater",void 0),r([l(cc.AudioClip)],e.prototype,"tienRoi",void 0),r([l(cc.AudioClip)],e.prototype,"startBigWin",void 0),r([l(cc.AudioClip)],e.prototype,"endBigWin",void 0),r([l(cc.AudioClip)],e.prototype,"tiengChemKiem",void 0),r([l(cc.AudioClip)],e.prototype,"showTotalFree",void 0),r([l(cc.AudioClip)],e.prototype,"jpFighting",void 0),r([c],e)}(s.default);n.default=u,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":"AudioManager"}],BUNDLE:[function(t,e,n){"use strict";cc._RF.push(e,"7135e6e261DmLFizmcpIXsb","BUNDLE"),Object.defineProperty(n,"__esModule",{value:!0}),n.BUNDLE=void 0,function(t){t.Main="main",t.FishCaMap="31",t.Neko="37",t.MatTroi="39",t.RungRam="42",t.MiniPoker="43",t.MatChuoc="57",t.QuyBa="58",t.Medusa="51",t.DuaXe="59",t.Caishen="61"}(n.BUNDLE||(n.BUNDLE={})),cc._RF.pop()},{}],"Baccarat.Assets":[function(t,e,n){"use strict";cc._RF.push(e,"c3929B7DJJFJ56uustrPN2z","Baccarat.Assets");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chipBetTemp=null,e.effectWin=null,e.chipBetSprites=[],e.listBetValue=[1,5,10,50,100,500,1e3,2e3,5e3,1e4,5e4,1e5,15e4,2e5],e.chipBetPool=null,e.cardAtlas=null,e.spriteCard=[],e.animDealCardData=null,e.animNanBaiData=null,e}return i(e,t),e.prototype.onLoad=function(){this.chipBetPool=new cc.NodePool("chipbet");for(var t=39;t<52;t++)this.spriteCard.push(this.cardAtlas.getSpriteFrame(t+""));for(t=26;t<39;t++)this.spriteCard.push(this.cardAtlas.getSpriteFrame(t+""));for(t=0;t<13;t++)this.spriteCard.push(this.cardAtlas.getSpriteFrame(t+""));for(t=13;t<26;t++)this.spriteCard.push(this.cardAtlas.getSpriteFrame(t+""))},e.prototype.start=function(){},e.prototype.getCardSprite=function(t){return this.spriteCard[t-1]},e.prototype.getCardBack=function(){return this.cardAtlas.getSpriteFrame("52")},e.prototype.getEffectWin=function(t,e){void 0===e&&(e=!1);var n=cc.instantiate(this.effectWin);return n.getChildByName("lbChipWin").getComponent(cc.Label).string=s.Windown.formatMoney(t),n.active=!0,n},e.prototype.getChipBet=function(t){var e=null;0==this.chipBetPool.size()&&this.chipBetPool.put(cc.instantiate(this.chipBetTemp)),(e=this.chipBetPool.get()).active=!0,e.opacity=255,e.scale=1,e.value=0,e.gate=-1,e.playerID=0,e.isChipPayOther=null;var n=this.listBetValue.indexOf(t/1e3);return e.getComponent(cc.Sprite).spriteFrame=-1!=n?this.chipBetSprites[n]:this.chipBetSprites[this.chipBetSprites.length-1],e},r([l(cc.Node)],e.prototype,"chipBetTemp",void 0),r([l(cc.Node)],e.prototype,"effectWin",void 0),r([l([cc.SpriteFrame])],e.prototype,"chipBetSprites",void 0),r([l(cc.SpriteAtlas)],e.prototype,"cardAtlas",void 0),r([l(sp.SkeletonData)],e.prototype,"animDealCardData",void 0),r([l(sp.SkeletonData)],e.prototype,"animNanBaiData",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],"Baccarat.Audio":[function(t,e,n){"use strict";cc._RF.push(e,"8ca9efPaMxHzZsWZa9sBXbH","Baccarat.Audio");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Parent/AudioManager"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgm_fs=null,e.click=null,e.flipCard=null,e.openCard=null,e.bankerWin=null,e.playerWin=null,e.youWin=null,e.gateWinEffect=null,e.dealer_startBet=null,e.dealer_endBet=null,e.getChip=null,e.chipMoveToPlayer_turn1=null,e.chipMoveToPlayer_turn2=null,e.throwChip=null,e.openPopup=null,e.fsSpin=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.playClick=function(){this.playEffect(this.click)},e.prototype.playMusic=function(){cc.log("chay vao play music "+this.isActiveMusic),this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(1))},e.prototype.playIndexTakeLine=function(){},e.prototype.playSmalWin=function(){},e.prototype.playBkgfs=function(){this.stopMusic(),this.playEffect(this.bgm_fs,.6,!0)},e.prototype.stopBkgFs=function(){this.stopEffect(this.bgm_fs,!0),this.playMusic()},r([l(cc.AudioClip)],e.prototype,"bgm_fs",void 0),r([l(cc.AudioClip)],e.prototype,"click",void 0),r([l(cc.AudioClip)],e.prototype,"flipCard",void 0),r([l(cc.AudioClip)],e.prototype,"openCard",void 0),r([l(cc.AudioClip)],e.prototype,"bankerWin",void 0),r([l(cc.AudioClip)],e.prototype,"playerWin",void 0),r([l(cc.AudioClip)],e.prototype,"youWin",void 0),r([l(cc.AudioClip)],e.prototype,"gateWinEffect",void 0),r([l(cc.AudioClip)],e.prototype,"dealer_startBet",void 0),r([l(cc.AudioClip)],e.prototype,"dealer_endBet",void 0),r([l(cc.AudioClip)],e.prototype,"getChip",void 0),r([l(cc.AudioClip)],e.prototype,"chipMoveToPlayer_turn1",void 0),r([l(cc.AudioClip)],e.prototype,"chipMoveToPlayer_turn2",void 0),r([l(cc.AudioClip)],e.prototype,"throwChip",void 0),r([l(cc.AudioClip)],e.prototype,"openPopup",void 0),r([l(cc.AudioClip)],e.prototype,"fsSpin",void 0),r([c],e)}(s.default);n.default=u,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":"AudioManager"}],"Baccarat.BigRoad":[function(t,e,n){"use strict";cc._RF.push(e,"b11de7wPypMRIitreKWlaa4","Baccarat.BigRoad");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc.Enum({PLAYER:1,TIE:2,BANKER:3,PLAYER_PP:14,PLAYER_BP:15,PLAYER_PBP:145,BANKER_PP:34,BANKER_BP:35,BANKER_PBP:345,TIE_PP:24,TIE_BP:25,TIE_PBP:245}),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spfBanker=null,e.spfPlayer=null,e.spfTieBanker=null,e.spfTiePlayer=null,e.spfTie_BankerWinPlayerPair=null,e.spfTie_BankerWinBankerPair=null,e.spfTie_PlayerWinPlayerPair=null,e.spfBanker_BankerPair=null,e.spfBanker_PlayerPair=null,e.spfBanker_BankerPlayerPair=null,e.spfPlayer_BankerPair=null,e.spfPlayer_PlayerPair=null,e.spfPlayer_BankerPlayerPair=null,e.template=null,e.container=null,e.topRightPos=null,e.BacaratBetSite={PLAYER_PAIR:1,PLAYER:2,TIE:3,BANKER:4,BANKER_PAIR:5},e.dataHistory=[],e.deltaXCol=34,e.deltaYRow=34,e.currentIndex=0,e.currentCol=0,e.currentPosX=0,e}return i(e,t),e.prototype.start=function(){this.currentPosX=this.topRightPos.x},e.prototype.setInfo=function(t){for(var e=0,n=t.length;e<n-1;e++){var o=[];o.push(t[e]);var i=t[e];cc.log("idCheck="+i);for(var r=this.getGateWinNormal(i),a=e+1;a<n;a++){var c=t[a],l=this.getGateWinNormal(c);if(r!=s.TIE){if(r!=l&&r!=s.TIE){0!=o.length&&(e+=o.length-1);break}o.push(c)}else i=c}this.dataHistory.push(o)}for(e=0,n=this.dataHistory.length;e<n;e++){var u=this.dataHistory[e].reverse(),p=0;for(cc.log("dataCol=",u),a=0;a<u.length;a++){var h=u[a];if(this.getGateWinNormal(h)!=s.TIE){var d=cc.instantiate(this.template);d.parent=this.container,d.active=!0,d.getChildByName("spr").getComponent(cc.Sprite).spriteFrame=this.getSpf(h),d.setPosition(cc.v2(this.topRightPos.x-this.deltaXCol*this.currentCol,this.topRightPos.y-this.deltaYRow*p)),this.currentIndex++,p++}else cc.isValid(this.container.children[this.currentIndex-1])&&(this.container.children[this.currentIndex-1].getChildByName("tie").active=!0),a==u.length-1&&this.currentCol--}this.currentCol++}},e.prototype.getSpf=function(t){var e=null;switch(t){case s.BANKER:e=this.spfBanker;break;case s.BANKER_BP:e=this.spfBanker_BankerPair;break;case s.BANKER_PP:e=this.spfBanker_PlayerPair;break;case s.BANKER_PBP:e=this.spfBanker_BankerPlayerPair;break;case s.PLAYER:e=this.spfPlayer;break;case s.PLAYER_BP:e=this.spfPlayer_BankerPair;break;case s.PLAYER_PP:e=this.spfPlayer_PlayerPair;break;case s.PLAYER_PBP:e=this.spfPlayer_BankerPlayerPair;break;default:cc.log("BigRoad:ko vao case nao ca:"+t)}return e},e.prototype.getGateWinNormal=function(t){var e=0;switch(t){case s.PLAYER:case s.PLAYER_BP:case s.PLAYER_PP:case s.PLAYER_PBP:e=s.PLAYER;break;case s.BANKER:case s.BANKER_BP:case s.BANKER_PP:case s.BANKER_PBP:e=s.BANKER;break;case s.TIE:case s.TIE_BP:case s.TIE_PP:case s.TIE_PBP:e=s.TIE;break;default:cc.log("KO vao cAse nao getGateWinNormal:"+t)}return e},r([l(cc.SpriteFrame)],e.prototype,"spfBanker",void 0),r([l(cc.SpriteFrame)],e.prototype,"spfPlayer",void 0),r([l(cc.SpriteFrame)],e.prototype,"spfTieBanker",void 0),r([l(cc.SpriteFrame)],e.prototype,"spfTiePlayer",void 0),r([l(cc.SpriteFrame)],e.prototype,"spfTie_BankerWinPlayerPair",void 0),r([l(cc.SpriteFrame)],e.prototype,"spfTie_BankerWinBankerPair",void 0),r([l(cc.SpriteFrame)],e.prototype,"spfTie_PlayerWinPlayerPair",void 0),r([l(cc.SpriteFrame)],e.prototype,"spfBanker_BankerPair",void 0),r([l(cc.SpriteFrame)],e.prototype,"spfBanker_PlayerPair",void 0),r([l(cc.SpriteFrame)],e.prototype,"spfBanker_BankerPlayerPair",void 0),r([l(cc.SpriteFrame)],e.prototype,"spfPlayer_BankerPair",void 0),r([l(cc.SpriteFrame)],e.prototype,"spfPlayer_PlayerPair",void 0),r([l(cc.SpriteFrame)],e.prototype,"spfPlayer_BankerPlayerPair",void 0),r([l(cc.Node)],e.prototype,"template",void 0),r([l(cc.Node)],e.prototype,"container",void 0),r([l(cc.Vec2)],e.prototype,"topRightPos",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],"Baccarat.ButtonBet":[function(t,e,n){"use strict";cc._RF.push(e,"931e1pN48lEV4zRZ4h/Z0lo","Baccarat.ButtonBet");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrBtn=null,e.btnX2=null,e.btnRebet=null,e.btnBetB=null,e.currbetBtnBet=null,e.chipBorder=null,e.listBetValue=[1,5,10,50,100,500,1e3,2e3,5e3,1e4,5e4,15e4,2e5],e.currentBetValue=1,e}return i(e,t),e.prototype.start=function(){var t=this;this.scrBtn.content.children.forEach(function(e,n){var o=new cc.Component.EventHandler;o.target=t.node,o.component="Baccarat.ButtonBet",o.handler="onClickBet",o.customEventData=t.listBetValue[n]+"",e.getComponent(cc.Button).clickEvents.push(o)}),this.currbetBtnBet.y=10},e.prototype.onClickBet=function(t,e){cc.log("clickbet:"+e),s.Windown.BaccaratView.audio.playEffect(s.Windown.BaccaratView.audio.chipMoveToPlayer_turn1),cc.tween(this.currbetBtnBet).to(.1,{y:0}).start(),this.currbetBtnBet=t.target,this.chipBorder.parent=this.currbetBtnBet,this.currentBetValue=1e3*parseInt(e),s.Windown.BaccaratView.currentBetValue=this.currentBetValue,cc.tween(this.currbetBtnBet).to(.1,{y:10}).start()},e.prototype.onClickX2=function(){var t=s.Windown.BaccaratView.HistoryBet.getTotalHistoryBet(),e=s.Windown.BaccaratView.HistoryBet.ListGateBet;if(2*t>s.Windown.User.userAg)s.Windown.UIManager.showAlertMini("B\u1ea1n kh\xf4ng \u0111\u1ee7 ti\u1ec1n c\u01b0\u1ee3c X2!");else{for(var n=0;n<5;n++)e[n]>0&&(s.Windown.BaccaratController.sendBet(n+1,2*e[n]),s.Windown.BaccaratController.isCanSendData=!0);this.btnRebet.interactable=!1,this.btnX2.interactable=!1}},e.prototype.onClickRebet=function(){var t=s.Windown.BaccaratView.HistoryBet.getTotalHistoryBet(),e=s.Windown.BaccaratView.HistoryBet.ListGateBet;if(t>s.Windown.User.userAg)s.Windown.UIManager.showAlertMini("B\u1ea1n kh\xf4ng \u0111\u1ee7 ti\u1ec1n c\u01b0\u1ee3c l\u1ea1i!");else{for(var n=0;n<5;n++)e[n]>0&&(s.Windown.BaccaratController.sendBet(n+1,e[n]),s.Windown.BaccaratController.isCanSendData=!0);this.btnRebet.interactable=!1,this.btnX2.interactable=!1}},e.prototype.onChangeListChip=function(t,e){var n=this.scrBtn.getScrollOffset(),o=this.scrBtn.getMaxScrollOffset();"previous"==e?n.x<0&&cc.tween(this.scrBtn.content).to(.3,{x:this.scrBtn.content.x+100}).start():Math.abs(n.x)<o.x&&cc.tween(this.scrBtn.content).to(.3,{x:this.scrBtn.content.x-100}).start()},e.prototype.setStatusBtnBet=function(){var t=s.Windown.BaccaratView.HistoryBet.getTotalHistoryBet();cc.log("setStatusBtnBet:"+t),t>0?(this.btnRebet.interactable=t<=s.Windown.User.userAg,this.btnX2.interactable=2*t<s.Windown.User.userAg):this.btnRebet.interactable=this.btnX2.interactable=!1},r([l(cc.ScrollView)],e.prototype,"scrBtn",void 0),r([l(cc.Button)],e.prototype,"btnX2",void 0),r([l(cc.Button)],e.prototype,"btnRebet",void 0),r([l(cc.Button)],e.prototype,"btnBetB",void 0),r([l(cc.Node)],e.prototype,"currbetBtnBet",void 0),r([l(cc.Node)],e.prototype,"chipBorder",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],"Baccarat.Card":[function(t,e,n){"use strict";cc._RF.push(e,"db539tYJPRGlYq+qbrxYgh0","Baccarat.Card");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE_ANIM=n.TYPE_CARD=void 0;var s,a,c=t("../../../Scritps/Windown"),l=cc._decorator,u=l.ccclass,p=l.property;(function(t){t[t.card_LEFT_1=0]="card_LEFT_1",t[t.card_LEFT_2=1]="card_LEFT_2",t[t.card_LEFT_3=2]="card_LEFT_3",t[t.card_RIGHT_1=3]="card_RIGHT_1",t[t.card_RIGHT_2=4]="card_RIGHT_2",t[t.card_RIGHT_3=5]="card_RIGHT_3"})(s=n.TYPE_CARD||(n.TYPE_CARD={})),function(t){t[t.NAN=0]="NAN",t[t.LAT=1]="LAT",t[t.SURE_WIN=2]="SURE_WIN",t[t.HIGHLIGHT=3]="HIGHLIGHT"}(a=n.TYPE_ANIM||(n.TYPE_ANIM={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TYPE=s.card_LEFT_1,e.spineCard=null,e.id=-1,e}return i(e,t),e.prototype.start=function(){},e.prototype.dealCard=function(){this.spineCard.skeletonData=c.Windown.BaccaratView.assets.animDealCardData,this.spineCard.setAnimation(0,this.getAnimNameDealCard(),!1)},e.prototype.nanCard=function(){this.spineCard.skeletonData=c.Windown.BaccaratView.assets.animNanBaiData,this.spineCard.setSkin("card_"+(this.id-1<10?"0"+(this.id-1):this.id-1)),this.spineCard.setSlotsToSetupPose(),this.spineCard.setAnimation(0,this.getAnimCardNan(a.NAN),!1)},e.prototype.openCard=function(){this.spineCard.skeletonData=c.Windown.BaccaratView.assets.animNanBaiData,this.spineCard.setSkin("card_"+(this.id-1<10?"0"+(this.id-1):this.id-1)),this.spineCard.setSlotsToSetupPose(),this.spineCard.setAnimation(0,this.getAnimCardNan(a.LAT),!1)},e.prototype.setCard=function(){c.Windown.BaccaratView.assets.getCardSprite(this.id),this.spineCard.skeletonData=c.Windown.BaccaratView.assets.animNanBaiData,this.spineCard.setSkin("card_"+(this.id-1<10?"0"+(this.id-1):this.id-1)),this.spineCard.setSlotsToSetupPose(),this.spineCard.setAnimation(0,this.getAnimCardValue(),!1)},e.prototype.setCardBack=function(){this.spineCard.skeletonData=c.Windown.BaccaratView.assets.animNanBaiData,this.spineCard.setSkin("card_52"),this.spineCard.setSlotsToSetupPose(),this.spineCard.setAnimation(0,this.getAnimCardValue(),!1)},e.prototype.getAnimCardNan=function(t){var e,n;switch(t){case a.NAN:n="nan";break;case a.LAT:n="lat";break;case a.SURE_WIN:n="surewin";break;case a.HIGHLIGHT:n="highlight"}var o="anim_%s_vertical_%s";switch(this.TYPE){case s.card_LEFT_1:e=cc.js.formatStr(o,n,"left2");break;case s.card_LEFT_2:e=cc.js.formatStr(o,n,"left1");break;case s.card_LEFT_3:e="anim_"+n+"_horizontal_left";break;case s.card_RIGHT_1:e=e=cc.js.formatStr(o,n,"right1");break;case s.card_RIGHT_2:e=e=cc.js.formatStr(o,n,"right2");break;case s.card_RIGHT_3:e="anim_"+n+"_horizontal_right"}return e},e.prototype.getAnimCardValue=function(){var t;switch(this.TYPE){case s.card_LEFT_1:t="Open_vertical_left2";break;case s.card_LEFT_2:t="Open_vertical_left1";break;case s.card_LEFT_3:t="Open_horizontal_left";break;case s.card_RIGHT_1:t="Open_vertical_right1";break;case s.card_RIGHT_2:t="Open_vertical_right2";break;case s.card_RIGHT_3:t="Open__horizontal_right"}return t},e.prototype.getAnimNameDealCard=function(){var t;switch(this.TYPE){case s.card_LEFT_1:t="anim_flycard_vertical_left2";break;case s.card_LEFT_2:t="anim_flycard_vertical_left1";break;case s.card_LEFT_3:t="anim_flycard_horizontal_left";break;case s.card_RIGHT_1:t="anim_flycard_vertical_right1";break;case s.card_RIGHT_2:t="anim_flycard_vertical_right2";break;case s.card_RIGHT_3:t="anim_flycard_horizontal_right"}return t},r([p({type:cc.Enum(s)})],e.prototype,"TYPE",void 0),r([p(sp.Skeleton)],e.prototype,"spineCard",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],"Baccarat.ChipBet":[function(t,e,n){"use strict";cc._RF.push(e,"b2c9dxWN1hHoKMW78LL6xzK","Baccarat.ChipBet");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playerID=0,e.value=0,e.gate=-1,e}return i(e,t),r([a],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],"Baccarat.DishRoadBoard":[function(t,e,n){"use strict";cc._RF.push(e,"8c845LrMoVADKOGcGrNxDL2","Baccarat.DishRoadBoard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc.Enum({PLAYER:1,TIE:2,BANKER:3,PLAYER_PP:14,PLAYER_BP:15,PLAYER_PBP:145,BANKER_PP:34,BANKER_BP:35,BANKER_PBP:345,TIE_PP:24,TIE_BP:25,TIE_PBP:245}),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spfBanker=null,e.spfPlayer=null,e.spfTie=null,e.spfTie_BankerPair=null,e.spfTie_PlayerPair=null,e.spfTie_BankerPlayerPair=null,e.spfBanker_BankerPair=null,e.spfBanker_PlayerPair=null,e.spfBanker_BankerPlayerPair=null,e.spfPlayer_BankerPair=null,e.spfPlayer_PlayerPair=null,e.spfPlayer_BankerPlayerPair=null,e.template=null,e.container=null,e.markRecentMatch=null,e.history=[],e.BacaratBetSite={PLAYER_PAIR:1,PLAYER:2,TIE:3,BANKER:4,BANKER_PAIR:5},e}return i(e,t),e.prototype.start=function(){},e.prototype.setInfo=function(t){var e=this;this.history=t,this.markRecentMatch.active=!1,this.history.forEach(function(t,n){var o=null;o=e.container.childrenCount<72?cc.instantiate(e.template):e.container.children[e.history.indexOf(t)];var i=t,r=e.getSpf(i);o.getComponentInChildren(cc.Sprite).spriteFrame=r,o.parent=e.container,o.active=!0,cc.tween(o).set({opacity:0}).to(.3,{opacity:255}).call(function(){n==e.history.length-1&&(e.markRecentMatch.active=!0,cc.tween(e.markRecentMatch).sequence(cc.tween().to(.5,{scale:1}),cc.tween().to(.5,{scale:.8})).repeatForever().start())}).start()})},e.prototype.getSpf=function(t){var e=null;switch(t){case s.BANKER:case s.BANKER_PP:e=this.spfBanker;break;case s.BANKER_BP:e=this.spfBanker_BankerPair;break;case s.BANKER_PBP:e=this.spfBanker_BankerPlayerPair;break;case s.PLAYER:e=this.spfPlayer;break;case s.PLAYER_BP:e=this.spfPlayer_BankerPair;break;case s.PLAYER_PP:e=this.spfPlayer_PlayerPair;break;case s.PLAYER_PBP:e=this.spfPlayer_BankerPlayerPair;break;case s.TIE:e=this.spfTie;break;case s.TIE_BP:e=this.spfTie_BankerPair;break;case s.TIE_PP:e=this.spfTie_PlayerPair;break;case s.TIE_PBP:e=this.spfTie_BankerPlayerPair;break;default:cc.log("ko vao case nao:result= "+t)}return e},r([l(cc.SpriteFrame)],e.prototype,"spfBanker",void 0),r([l(cc.SpriteFrame)],e.prototype,"spfPlayer",void 0),r([l(cc.SpriteFrame)],e.prototype,"spfTie",void 0),r([l(cc.SpriteFrame)],e.prototype,"spfTie_BankerPair",void 0),r([l(cc.SpriteFrame)],e.prototype,"spfTie_PlayerPair",void 0),r([l(cc.SpriteFrame)],e.prototype,"spfTie_BankerPlayerPair",void 0),r([l(cc.SpriteFrame)],e.prototype,"spfBanker_BankerPair",void 0),r([l(cc.SpriteFrame)],e.prototype,"spfBanker_PlayerPair",void 0),r([l(cc.SpriteFrame)],e.prototype,"spfBanker_BankerPlayerPair",void 0),r([l(cc.SpriteFrame)],e.prototype,"spfPlayer_BankerPair",void 0),r([l(cc.SpriteFrame)],e.prototype,"spfPlayer_PlayerPair",void 0),r([l(cc.SpriteFrame)],e.prototype,"spfPlayer_BankerPlayerPair",void 0),r([l(cc.Node)],e.prototype,"template",void 0),r([l(cc.Node)],e.prototype,"container",void 0),r([l(cc.Node)],e.prototype,"markRecentMatch",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],"Baccarat.HistoryBet":[function(t,e,n){"use strict";cc._RF.push(e,"e6d9eFbBkZBVYxeOPA7zija","Baccarat.HistoryBet");var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=(i.property,function(){function t(){this.BET_PLAYER=0,this.BET_TIE=0,this.BET_BANKER=0,this.BET_PLAYER_P=0,this.BET_BANKER_P=0,this.ListGateBet=[this.BET_PLAYER,this.BET_TIE,this.BET_BANKER,this.BET_PLAYER_P,this.BET_BANKER_P]}return t.prototype.resetHistory=function(){this.ListGateBet.forEach(function(){})},t.prototype.getTotalHistoryBet=function(){var t=0;return this.ListGateBet.forEach(function(e){t+=e}),t},o([r],t)}());n.default=s,cc._RF.pop()},{}],"Baccarat.HistoryMini":[function(t,e,n){"use strict";cc._RF.push(e,"882baXqUhlKe44bJM1ERT8b","Baccarat.HistoryMini");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc.Enum({PLAYER:1,TIE:2,BANKER:3,PLAYER_PP:14,PLAYER_BP:15,PLAYER_PBP:145,BANKER_PP:34,BANKER_BP:35,BANKER_PBP:345,TIE_PP:24,TIE_BP:25,TIE_PBP:245}),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTotalBanker=null,e.lbTotalPlayer=null,e.lbTotalTie=null,e.itemContainer=null,e.itemTemplate=null,e.markRecentMatch=null,e.sprResult=[],e.startPosItem=null,e.spacingY=18,e.spacingX=22,e.totalBanker=0,e.totalPlayer=0,e.totalTie=0,e}return i(e,t),e.prototype.onLoad=function(){this.startPosItem=cc.v2(98.26,28.12)},e.prototype.start=function(){},e.prototype.setInfo=function(t,e){void 0===e&&(e=!1),t.length>40&&(t=t.slice(0,40));for(var n=0,o=t.length;n<o;n++){var i=void 0,r=this.getPosItem(n);(i=cc.instantiate(this.itemTemplate)).parent=this.itemContainer,i.setPosition(r),i.active=!0,i.setSiblingIndex(n);var a=t[n],c=null;switch(this.getTypeGate(a)){case s.BANKER:this.totalBanker++,c=this.sprResult[2];break;case s.PLAYER:this.totalPlayer++,c=this.sprResult[0];break;case s.TIE:this.totalTie++,c=this.sprResult[1]}null==c&&cc.log(" bi null:"+a+"---gate=="+this.getTypeGate(a)),i.getComponent(cc.Sprite).spriteFrame=c}this.lbTotalBanker.string=this.totalBanker+"",this.lbTotalPlayer.string=this.totalPlayer+"",this.lbTotalTie.string=this.totalTie+"",cc.tween(this.markRecentMatch).sequence(cc.tween().to(.5,{scale:1}),cc.tween().to(.5,{scale:.8})).repeatForever().start()},e.prototype.addItemHistory=function(t){var e=this;this.markRecentMatch.active=!1,t.length>40&&(t=t.slice(0,40));var n,o=cc.instantiate(this.itemTemplate);switch(o.parent=this.itemContainer,o.setSiblingIndex(0),o.active=!0,o.setPosition(cc.v2(this.getPosItem(0).x+100,this.getPosItem(0).y)),this.getTypeGate(t[0])){case s.BANKER:this.totalBanker++,this.lbTotalBanker.string=this.totalBanker+"",n=this.sprResult[2];break;case s.PLAYER:this.totalPlayer++,n=this.sprResult[0],this.lbTotalPlayer.string=this.totalPlayer+"";break;case s.TIE:this.totalTie++,n=this.sprResult[1],this.lbTotalTie.string=this.totalTie+""}o.getComponent(cc.Sprite).spriteFrame=n;for(var i=function(t,n){var o=r.itemContainer.children[t],i=r.getPosItem(t);cc.tween(o).to(.3,{x:i.x,y:i.y}).call(function(){t==n-1&&(e.markRecentMatch.active=!0,cc.tween(e.markRecentMatch).sequence(cc.tween().to(.5,{scale:1}),cc.tween().to(.5,{scale:.8})).repeatForever().start())}).start()},r=this,a=0,c=t.length;a<c;a++)i(a,c);var l=this.itemContainer.children[this.itemContainer.childrenCount-1];cc.tween(l).to(.3,{x:l.x-100}).call(function(){l.destroy()}).start()},e.prototype.getPosItem=function(t){var e=cc.v2(0,0);if(t<4)e=cc.v2(this.startPosItem.x,this.startPosItem.y-t*this.spacingY);else{var n=Math.floor(t/4);e.x=this.startPosItem.x-n*this.spacingX,e.y=n%2==0?this.startPosItem.y-t%4*this.spacingY:this.startPosItem.y-(3-t%4)*this.spacingY}return e},e.prototype.getTypeGate=function(t){var e;switch(t){case s.BANKER:case s.BANKER_PP:case s.BANKER_BP:case s.BANKER_PBP:e=s.BANKER;break;case s.PLAYER:case s.PLAYER_PP:case s.PLAYER_BP:case s.PLAYER_PBP:e=s.PLAYER;break;case s.TIE:case s.TIE_PP:case s.TIE_BP:case s.TIE_PBP:e=s.TIE}return e},r([l(cc.Label)],e.prototype,"lbTotalBanker",void 0),r([l(cc.Label)],e.prototype,"lbTotalPlayer",void 0),r([l(cc.Label)],e.prototype,"lbTotalTie",void 0),r([l(cc.Node)],e.prototype,"itemContainer",void 0),r([l(cc.Node)],e.prototype,"itemTemplate",void 0),r([l(cc.Node)],e.prototype,"markRecentMatch",void 0),r([l([cc.SpriteFrame])],e.prototype,"sprResult",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],"Baccarat.MenuView":[function(t,e,n){"use strict";cc._RF.push(e,"6dda6oiz2lCWIhPjbSY5E8H","Baccarat.MenuView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Windown"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.container=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.onshow=function(){cc.tween(this.container).set({x:-cc.winSize.height/2-this.container.width/2-50}).to(.3,{x:-cc.winSize.height/2+this.container.width/2},{easing:cc.easing.sineIn}).start()},e.prototype.onHide=function(){cc.tween(this.container).set({x:-cc.winSize.height/2+this.container.width/2}).to(.3,{x:-cc.winSize.height/2-this.container.width/2-50},{easing:cc.easing.sineOut}).start()},e.prototype.onClickBack=function(){c.Windown.BaccaratView.audio.playClick(),c.Windown.BaccaratController.onClickBackToLobby(),this.onHide()},e.prototype.onClickRule=function(){return s(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:return c.Windown.BaccaratView.audio.playEffect(c.Windown.BaccaratView.audio.openPopup),[4,c.Windown.BaccaratController.loadPrefabBundle("PopupRule")];case 1:return t=n.sent(),(e=cc.instantiate(t)).parent=c.Windown.BaccaratView.node,c.Windown.actionEffectOpenPopup(e),cc.find("Container/btnClose",e).once("click",function(){c.Windown.actionEffectClosePopup(e,function(){e.destroy()})}),this.onHide(),[2]}})})},e.prototype.onClickHistoryBet=function(){return s(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:return[4,c.Windown.BaccaratController.loadPrefabBundle("PopupHistory")];case 1:return t=n.sent(),(e=cc.instantiate(t)).parent=c.Windown.BaccaratView.node,c.Windown.actionEffectOpenPopup(e),this.onHide(),[2]}})})},e.prototype.onClickSetting=function(){return s(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:return c.Windown.BaccaratView.audio.playEffect(c.Windown.BaccaratView.audio.openPopup),[4,c.Windown.BaccaratController.loadPrefabBundle("PopupSetting")];case 1:return t=n.sent(),(e=cc.instantiate(t)).parent=c.Windown.BaccaratView.node,c.Windown.actionEffectOpenPopup(e),this.onHide(),[2]}})})},r([p(cc.Node)],e.prototype,"container",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],"Baccarat.Player":[function(t,e,n){"use strict";cc._RF.push(e,"ad580J02flDJ5w8uubVmJFs","Baccarat.Player");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/PathResource"),l=t("../../../Scritps/Obs/LbMoneyChange"),u=t("../../../Scritps/Util"),p=t("../../../Scritps/Windown"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbNickName=null,e.lbChips=null,e.avatar=null,e.lbChipWin=null,e.posPayChip=[],e.spineEffectWin=null,e.dynamicIndex=0,e.nickname="Player",e.currentChips=0,e.id=0,e.isThisPlayer=!1,e.listChipBet=[],e.listChipPay=[],e.gateBetted=[],e.effecWin=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.setInfo=function(t,e,n,o){this.setName(e),this.setId(t),this.setChip(n),this.setAvatar(o)},e.prototype.setName=function(t){this.lbNickName.string=t,this.nickname=t,t.length>10&&(this.lbNickName.string=t.slice(0,7)+"...")},e.prototype.setChip=function(t,e){void 0===e&&(e=!0),cc.log("player setChip:"+this.nickname+":"+t),this.isThisPlayer?this.lbChips.setMoney(t,!1):this.lbChips.setMoney(t,e),this.currentChips=t},e.prototype.setAvatar=function(t){return s(this,void 0,void 0,function(){var e,n;return a(this,function(o){switch(o.label){case 0:return e=c.PathResource.Avatar.replace("%d",t.toString()),[4,p.Windown.getSpFrameRes(e)];case 1:return n=o.sent(),this.avatar.spriteFrame=n,[2]}})})},e.prototype.setId=function(t){this.id=t},e.prototype.getChipBet=function(t){this.listChipBet.forEach(function(e){var n=t.parent.convertToWorldSpaceAR(t.position),o=e.parent.convertToNodeSpaceAR(n);cc.tween(e).to(1,{position:o},{easing:cc.easing.quintOut}).start(),cc.tween(e).to(1,{opacity:0},{easing:cc.easing.sineOut}).start()})},e.prototype.showWinEffect=function(t,e){return void 0===e&&(e=!1),s(this,void 0,void 0,function(){var n=this;return a(this,function(){return[2,new Promise(function(o){return s(n,void 0,void 0,function(){var n,i=this;return a(this,function(){try{null==this.effecWin?(this.effecWin=p.Windown.BaccaratView.assets.getEffectWin(t),this.effecWin.y=20):this.effecWin.getChildByName("lbChipWin").getComponent(cc.Label).string=p.Windown.formatMoney(t),(n=this.effecWin.getComponentInChildren(sp.Skeleton)).setCompleteListener(null),this.effecWin.parent=this.node,this.effecWin.active=!0,e||(n.setSkin("win"),n.setSlotsToSetupPose(),n.setAnimation(0,"appear",!1),n.setCompleteListener(function(){n.setAnimation(0,"idle",!1),n.setCompleteListener(function(){n.setCompleteListener(null)})}),this.scheduleOnce(function(){o(null),i.effecWin.active=!1},3))}catch(r){u.Util.ThrowErrProsime(r)}return[2]})})})]})})},e.prototype.showWinSpineEffect=function(t){var e=this;this.spineEffectWin.node.scale=1,this.spineEffectWin.node.active=!0,this.lbChipWin.string=p.Windown.formatMoney(t),this.lbChipWin.node.parent.active=!0,this.spineEffectWin.setSkin("win"),this.spineEffectWin.setSlotsToSetupPose(),this.spineEffectWin.setAnimation(0,"appear",!1),cc.tween(this.lbChipWin.node.parent).set({scaleX:0}).to(.3,{scaleX:.5},{easing:cc.easing.backOut}).start(),this.spineEffectWin.setCompleteListener(function(){e.spineEffectWin.setAnimation(0,"idle",!1),e.spineEffectWin.setCompleteListener(null)}),this.scheduleOnce(function(){e.hideSpineWin()},3)},e.prototype.hideSpineWin=function(){var t=this;cc.tween(this.spineEffectWin.node).to(.2,{scaleX:0},{easing:cc.easing.backIn}).call(function(){t.spineEffectWin.node.active=!1}).start()},e.prototype.showButtonBet=function(){this.node.getComponent(cc.Animation).play("EffectShowBtnBet"),p.Windown.BaccaratView.buttonBetController.setStatusBtnBet()},e.prototype.hideButtonBet=function(){this.node.getComponent(cc.Animation).play("EffectHideBtnBet")},e.prototype.resetPlayer=function(){this.listChipBet=[],this.listChipPay=[],this.gateBetted=[]},r([f(cc.Label)],e.prototype,"lbNickName",void 0),r([f(l.default)],e.prototype,"lbChips",void 0),r([f(cc.Sprite)],e.prototype,"avatar",void 0),r([f(cc.Label)],e.prototype,"lbChipWin",void 0),r([f([cc.Vec2])],e.prototype,"posPayChip",void 0),r([f(sp.Skeleton)],e.prototype,"spineEffectWin",void 0),r([f],e.prototype,"isThisPlayer",void 0),r([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/PathResource":"PathResource","../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],"Baccarat.PopupHistory":[function(t,e,n){"use strict";cc._RF.push(e,"12b70F/6IlPrKo5cjLpFF6w","Baccarat.PopupHistory");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listCardPlayer=[],e.listCardBanker=[],e.sprGate=[],e.lbSession=null,e.lbScoreP=null,e.lbScoreB=null,e.lbPage=null,e.scrItemHis=null,e.itemHisTemp=null,e.currentIndexSession=0,e.historyData=[],e}return i(e,t),e.prototype.onLoad=function(){s.Windown.BaccaratView.popupHistoryBetView=this,s.Windown.BaccaratView.audio.playEffect(s.Windown.BaccaratView.audio.openPopup)},e.prototype.start=function(){s.Windown.BaccaratController.sendGetHistoryBet()},e.prototype.setInfo=function(t){this.historyData=JSON.parse(s.Windown.SFSObjToJson(t)).history,this.historyData.reverse(),cc.log("historyData===",this.historyData),this.historyData.length>0&&this.setInfoSession(this.historyData[this.currentIndexSession]),this.lbPage.string="1/"+this.historyData.length},e.prototype.setInfoSession=function(t){var e=this,n=t.round,o=s.Windown.formatDate(new Date(t.time),"HH:mm:ss dd/MM/yyyy");this.lbSession.string=cc.js.formatStr("S\u1ed1 Phi\xean:#%s(%s)",n,o);var i=JSON.parse(t.vP),r=JSON.parse(t.vD);i.forEach(function(t,n){0!=t.I&&(e.listCardPlayer[n].node.active=!0,e.listCardPlayer[n].spriteFrame=s.Windown.BaccaratView.assets.getCardSprite(t.I))}),r.forEach(function(t,n){0!=t.I&&(e.listCardBanker[n].spriteFrame=s.Windown.BaccaratView.assets.getCardSprite(t.I),e.listCardBanker[n].node.active=!0)}),this.listCardBanker[2].node.active=3==r.length&&0!=r[2].I,this.listCardPlayer[2].node.active=3==i.length&&0!=i[2].I,this.lbScoreP.string=s.Windown.BaccaratView.getScore(i,i.length)+"",this.lbScoreB.string=s.Windown.BaccaratView.getScore(r,r.length)+"",this.lbPage.string=this.currentIndexSession+1+"/"+this.historyData.length;var a=t.bet;this.scrItemHis.content.children.forEach(function(t){t.active=!1});for(var c=0;c<a.length;c++){var l=a[c],u=this.scrItemHis.content.children[c];cc.isValid(u)||((u=cc.instantiate(this.itemHisTemp)).parent=this.scrItemHis.content),u.active=!0,u.getComponentInChildren(cc.Sprite).spriteFrame=this.sprGate[l.id-1],u.getChildByName("lbbetValue").getComponent(cc.Label).string=s.Windown.formatMoney(l.agBet,1,100),0==l.agWin?(u.getChildByName("lbWinValue").getComponent(cc.Label).string="-"+s.Windown.formatMoney(l.agBet,1,100),u.getChildByName("lbWinValue").color=cc.Color.RED):(u.getChildByName("lbWinValue").color=cc.Color.GREEN,u.getChildByName("lbWinValue").getComponent(cc.Label).string="+"+s.Windown.formatMoney(l.agWin,1,100))}},e.prototype.onClickClose=function(){var t=this;s.Windown.actionEffectClosePopup(this.node,function(){t.node.destroy(),s.Windown.BaccaratView.popupHistoryBetView=null}),s.Windown.BaccaratView.audio.playClick()},e.prototype.onClickChangePage=function(t,e){"next"==e?this.currentIndexSession<=this.historyData.length-2&&this.currentIndexSession++:this.currentIndexSession>0&&this.currentIndexSession--,this.setInfoSession(this.historyData[this.currentIndexSession])},r([l([cc.Sprite])],e.prototype,"listCardPlayer",void 0),r([l([cc.Sprite])],e.prototype,"listCardBanker",void 0),r([l([cc.SpriteFrame])],e.prototype,"sprGate",void 0),r([l(cc.Label)],e.prototype,"lbSession",void 0),r([l(cc.Label)],e.prototype,"lbScoreP",void 0),r([l(cc.Label)],e.prototype,"lbScoreB",void 0),r([l(cc.Label)],e.prototype,"lbPage",void 0),r([l(cc.ScrollView)],e.prototype,"scrItemHis",void 0),r([l(cc.Node)],e.prototype,"itemHisTemp",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],"Baccarat.ScoreBoard":[function(t,e,n){"use strict";cc._RF.push(e,"fcc79XVRDNDxZhD/f3VQlfC","Baccarat.ScoreBoard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprBgItem=[],e.template=null,e.container=null,e.topRightPos=null,e.dataHistory=[],e.deltaXCol=38.85,e.deltaYRow=39.12,e.currentIndex=0,e.currentCol=0,e.BacaratBetSite={PLAYER_PAIR:1,PLAYER:2,TIE:3,BANKER:4,BANKER_PAIR:5},e}return i(e,t),e.prototype.setInfo=function(t){for(var e=0,n=t.length;e<n-1;e++){var o=[],i=t[e];o.push(i);for(var r=i.BigGateIDWin,s=e+1;s<n;s++){var a=t[s],c=a.BigGateIDWin;if(r!=this.BacaratBetSite.TIE){if(r!=c&&c!=this.BacaratBetSite.TIE){0!=o.length&&(e+=o.length-1);break}o.push(a)}else o.push(a),r=a.BigGateIDWin}this.dataHistory.push(o)}for(this.dataHistory.forEach(function(t){t.forEach(function(t){cc.log(t.BigGateIDWin)})}),e=0,n=this.dataHistory.length;e<n;e++){var l=this.dataHistory[e].reverse(),u=0;for(s=0;s<l.length;s++){i=l[s];var p=cc.instantiate(this.template);p.parent=this.container,p.active=!0,p.getComponent(cc.Sprite).spriteFrame=this.getSpf(i.BigGateIDWin,i.IsBankerPair,i.IsPlayerPair),p.setPosition(cc.v2(this.topRightPos.x-this.deltaXCol*this.currentCol,this.topRightPos.y-this.deltaYRow*u)),this.currentIndex++,u++,i.BigGateIDWin==this.BacaratBetSite.BANKER||i.BigGateIDWin==this.BacaratBetSite.PLAYER?p.getChildByName("lbScoreUp").getComponent(cc.Label).string=i.HandValue:p.getChildByName("lbScoreDown").getComponent(cc.Label).string=i.HandValue,p.position.x<-272&&(p.active=!1)}this.currentCol++}},e.prototype.getSpf=function(t){var e=null;switch(t){case this.BacaratBetSite.BANKER:e=this.sprBgItem[0];break;case this.BacaratBetSite.PLAYER:e=this.sprBgItem[1];break;case this.BacaratBetSite.TIE:e=this.sprBgItem[2]}return e},r([c([cc.SpriteFrame])],e.prototype,"sprBgItem",void 0),r([c(cc.Node)],e.prototype,"template",void 0),r([c(cc.Node)],e.prototype,"container",void 0),r([c(cc.Vec2)],e.prototype,"topRightPos",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],"Baccarat.SettingView":[function(t,e,n){"use strict";cc._RF.push(e,"50329oJ33tAQaFdbELw/pGK","Baccarat.SettingView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tglSound=null,e.tglMusic=null,e}return i(e,t),e.prototype.start=function(){this.tglSound.isChecked=!s.Windown.BaccaratView.audio.isActiveSound,this.tglMusic.isChecked=!s.Windown.BaccaratView.audio.isActiveMusic},e.prototype.onClickTglSound=function(){s.Windown.BaccaratView.audio.isActiveSound=!this.tglSound.isChecked},e.prototype.onClickTglMusic=function(){s.Windown.BaccaratView.audio.isActiveMusic=!this.tglMusic.isChecked},e.prototype.onClickClose=function(){var t=this;s.Windown.actionEffectClose(this.node,function(){t.node.destroy()}),s.Windown.BaccaratView.audio.playClick()},r([l(cc.Toggle)],e.prototype,"tglSound",void 0),r([l(cc.Toggle)],e.prototype,"tglMusic",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],"Baccarat.SoiCauView":[function(t,e,n){"use strict";cc._RF.push(e,"724422/HvZHeoMg/O8YPLNr","Baccarat.SoiCauView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=t("./Baccarat.BigRoad"),c=t("./Baccarat.DishRoadBoard"),l=t("./Baccarat.ScoreBoard"),u=cc.Enum({PLAYER:1,TIE:2,BANKER:3,PLAYER_PP:14,PLAYER_BP:15,PLAYER_PBP:145,BANKER_PP:34,BANKER_BP:35,BANKER_PBP:345,TIE_PP:24,TIE_BP:25,TIE_PBP:245}),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbBankerWin=null,e.lbPlayerWin=null,e.lbTie=null,e.lbBankerPair=null,e.lbPlayerPair=null,e.lbBankerPercent=null,e.lbPlayerPercent=null,e.lbTiePercent=null,e.lbBankerPairPercent=null,e.lbPlayerPairPercent=null,e.dishRoad=null,e.bigRoad=null,e.scoreBoard=null,e.animation=null,e.listDataBankerWin=[],e.listDataPlayerWin=[],e.listDataTie=[],e.listDataBankerPair=[],e.listDataPlayerPair=[],e.dataHistory=[],e}return i(e,t),e.prototype.start=function(){},e.prototype.setInfo=function(){this.dataHistory=s.Windown.BaccaratView.historyTable.slice(0,72),this.listDataBankerWin=this.dataHistory.filter(function(t){return t==u.BANKER}),this.listDataPlayerWin=this.dataHistory.filter(function(t){return t==u.PLAYER}),this.listDataTie=this.dataHistory.filter(function(t){return t==u.TIE}),this.listDataBankerPair=this.dataHistory.filter(function(t){return t==u.PLAYER_BP||t==u.BANKER_BP||t==u.TIE_BP}),this.listDataPlayerPair=this.dataHistory.filter(function(t){return t==u.PLAYER_PP||t==u.BANKER_PP||t==u.TIE_PP}),this.lbBankerWin.string=this.listDataBankerWin.length+"",this.lbPlayerWin.string=this.listDataPlayerWin.length+"",this.lbBankerWin.string=this.listDataBankerWin.length+"",this.lbTie.string=this.listDataTie.length+"",this.lbBankerPair.string=this.listDataBankerPair.length+"",this.lbPlayerPair.string=this.listDataPlayerPair.length+"",this.lbBankerPercent.string=(this.listDataBankerWin.length/this.dataHistory.length*100).toFixed(2)+"%",this.lbPlayerPercent.string=(this.listDataPlayerWin.length/this.dataHistory.length*100).toFixed(2)+"%",this.lbTiePercent.string=(this.listDataTie.length/this.dataHistory.length*100).toFixed(2)+"%",this.lbBankerPairPercent.string=(this.listDataBankerPair.length/this.dataHistory.length*100).toFixed(2)+"%",this.lbPlayerPairPercent.string=(this.listDataPlayerPair.length/this.dataHistory.length*100).toFixed(2)+"%",this.dishRoad.setInfo(s.Windown.BaccaratView.historyTable.slice(0,72)),this.bigRoad.setInfo(s.Windown.BaccaratView.historyTable.slice(0,72)),cc.log("Windown.BaccaratView.historyTable size="+s.Windown.BaccaratView.historyTable.length)},e.prototype.onEnable=function(){this.setInfo()},e.prototype.show=function(){this.node.active=!0,s.Windown.actionEffectOpenPopup(this.node)},e.prototype.hide=function(){var t=this;s.Windown.actionEffectClosePopup(this.node,function(){t.node.active=!1})},r([d(cc.Label)],e.prototype,"lbBankerWin",void 0),r([d(cc.Label)],e.prototype,"lbPlayerWin",void 0),r([d(cc.Label)],e.prototype,"lbTie",void 0),r([d(cc.Label)],e.prototype,"lbBankerPair",void 0),r([d(cc.Label)],e.prototype,"lbPlayerPair",void 0),r([d(cc.Label)],e.prototype,"lbBankerPercent",void 0),r([d(cc.Label)],e.prototype,"lbPlayerPercent",void 0),r([d(cc.Label)],e.prototype,"lbTiePercent",void 0),r([d(cc.Label)],e.prototype,"lbBankerPairPercent",void 0),r([d(cc.Label)],e.prototype,"lbPlayerPairPercent",void 0),r([d(c.default)],e.prototype,"dishRoad",void 0),r([d(a.default)],e.prototype,"bigRoad",void 0),r([d(l.default)],e.prototype,"scoreBoard",void 0),r([d(cc.Animation)],e.prototype,"animation",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../Scritps/Windown":"Windown","./Baccarat.BigRoad":"Baccarat.BigRoad","./Baccarat.DishRoadBoard":"Baccarat.DishRoadBoard","./Baccarat.ScoreBoard":"Baccarat.ScoreBoard"}],BaccaratController:[function(t,e,n){"use strict";cc._RF.push(e,"d65e4chFb9JX5TYXArxHQ4s","BaccaratController");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Scritps/DefineTs/EVENT_MANAGER"),s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/DefineTs/TextDefine"),c=t("../../../Scritps/Game/GAME_TYPE"),l=t("../../../Scritps/Network/ConectManager"),u=t("../../../Scritps/Windown"),p=cc.Enum({BETTING:1,FINISHED:2,WAITTING:3}),h=function(){function t(){this.sfs=null,this.roomSFS=null,this.listTimeOut=[],this.objFinish=null,this.gameType=0,this.isCanSendData=!0,this.joinRoomData=null,this.infoRoom=null,this.startGameData=null,this.sfs=l.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),u.Windown.BaccaratController=this,cc.systemEvent.on(r.EVENT_MANAGER.onDisconnect,this.onDisconnect,this)}return t.prototype.onDisconnect=function(){this.clear(),this.baccaratView.node.destroy()},t.prototype.clear=function(){cc.systemEvent.targetOff(this),this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),this.objFinish&&(this.objFinish.get("agWin"),u.Windown.MoneyUser.removeDelay(this.gameType)),u.Windown.MoneyUser.endGameMOney(this.gameType)},t.prototype.userExitRoom=function(t){if("Baccarat"==t.room.groupId&&t.user.isItMe)return this.onDestroy(),void cc.director.loadScene("main")},t.prototype.onCreateError=function(){cc.log("creat err"),u.Windown.UIManager.hideLoading(),this.onDestroy(),u.Windown.Dialog.showLog(a.TextDefine.ERR_JOIN_ROOM)},t.prototype.onDestroy=function(){u.Windown.UIManager.hideLoadingData(),u.Windown.UIManager.hideLoading(),cc.systemEvent.removeAll(this),this.clearAllTimeOut(),this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),u.Windown.BaccaratController=null,this.roomSFS=null,u.Windown.MoneyUser.targetOff(this),u.Windown.MoneyUser.endGameMOney(c.default.Baccarat)},t.prototype.clearAllTimeOut=function(){this.listTimeOut.forEach(function(t){clearTimeout(t)})},t.prototype.onJoinRoom=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return t.room,u.Windown.UIManager.hideLoadingData(),[2]})})},t.prototype.onJoinRoomErr=function(){u.Windown.UIManager.hideLoading(),u.Windown.Dialog.showLog(a.TextDefine.ERR_JOIN_ROOM),this.onDestroy()},t.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(cc.log("Baccarat Code:"+e+"\n"+u.Windown.SFSObjToJson(n)),e){case s.REQUEST_CODE.BCRPlayerInfo:this.baccaratView.handlePlayerInfo(n);break;case s.REQUEST_CODE.BCRInfoRoom:this.baccaratView.handleRoomInfo(n);break;case s.REQUEST_CODE.BCRStartGame:null==this.baccaratView?this.startGameData=n:this.baccaratView.handleStartGame(n);break;case s.REQUEST_CODE.BCRBet:cc.log("handlePlayerbet"),this.baccaratView.handlePlayerBet(n);break;case s.REQUEST_CODE.BCREndGame:this.baccaratView.handleEndGame(n);break;case s.REQUEST_CODE.BCRHistoryBet:this.baccaratView.popupHistoryBetView.setInfo(n);break;case s.REQUEST_CODE.BCAutoExit:n.getBool("status")&&cc.director.loadScene("main")}},t.prototype.sendJoinRoom=function(){var t=this;u.Windown.UIManager.showLoading();var e=this.sfs.roomManager.getRoomListFromGroup("Baccarat").find(function(t){return cc.log("value"+t.getVariable("cj").value),t.containsVariable("cj")&&t.getVariable("cj").value});e?(this.roomSFS=e,e.isJoined?this.sendGetInfoRoom():(cc.log("nhay vao send join rom: "+e),this.sfs.send(new SFS2X.JoinRoomRequest(e,null,-1)))):setTimeout(function(){t.sendJoinRoom()},3e3)},t.prototype.sendGetInfoRoom=function(){this.sendRequest(s.REQUEST_CODE.BCRInfoRoom,l.ConectManager.getIns().getSFSObj())},t.prototype.sendRequest=function(t,e){l.ConectManager.getIns().sendRequest(t,e,this.roomSFS)},t.prototype.sendToServer=function(t,e){this.isCanSendData&&null!=this.roomSFS&&(this.isCanSendData=!1,l.ConectManager.getIns().sendRequest(t,e,this.roomSFS))},t.prototype.sendBet=function(t,e){var n=l.ConectManager.getIns().getSFSObj();n.putLong("bet",e),n.putInt("id",t),this.sendToServer("bet",n)},t.prototype.sendLeaveRoom=function(){cc.log("SendLeaveRoom");var t=l.ConectManager.getIns().getSFSObj();this.sendToServer("atS",t)},t.prototype.intiGame=function(){return o(this,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:return[4,u.Windown.loadBundle(c.default.Baccarat.toString())];case 1:return t=e.sent(),u.Windown.UIManager.showLoadingData(),t.preloadScene("Baccarat",{},function(t,e){u.Windown.UIManager.setPerData(t/e)},function(e){e?u.Windown.Dialog.showLog(a.TextDefine.Error):t.loadScene("Baccarat",function(t,e){if(t)return u.Windown.Dialog.showLog(a.TextDefine.Error),void u.Windown.UIManager.hideLoadingData();cc.director.runScene(e,null,function(){u.Windown.UIManager.hideLoadingData()})})}),[2]}})})},t.prototype.onClickBackToLobby=function(){this.roomSFS?this.baccaratView.isPlayerBetted?this.baccaratView.gameState==p.WAITTING?this.sendLeaveRoom():(this.baccaratView.isAutoExit=!this.baccaratView.isAutoExit,this.baccaratView.isAutoExit?u.Windown.UIManager.showAlertMini("\u0110\xe3 \u0111\u0103ng k\xfd r\u1eddi b\xe0n v\xe0o cu\u1ed1i v\xe1n"):u.Windown.UIManager.showAlertMini("\u0110\xe3 h\u1ee7y \u0111\u0103ng k\xfd r\u1eddi b\xe0n")):this.sendLeaveRoom():cc.log("Ko co ROOMSFS")},t.prototype.loadPrefabBundle=function(t){return o(this,void 0,void 0,function(){var e;return i(this,function(){return e=cc.assetManager.getBundle(c.default.Baccarat.toString()),[2,new Promise(function(n,o){e.load("Prefab/"+t,function(t,e){if(t)return o(t),null;n(e)})})]})})},t.prototype.sendGetHistoryBet=function(){var t=l.ConectManager.getIns().getSFSObj();this.sendToServer("historyBetBa",t),u.Windown.BaccaratController.isCanSendData=!0},t}();n.default=h,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Windown":"Windown"}],BaccaratView:[function(t,e,n){"use strict";cc._RF.push(e,"91133cyz0FNj4WIQhDdRhjP","BaccaratView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Obs/LbMoneyChange"),l=t("../../../Scritps/Other/MakeDelay"),u=t("../../../Scritps/Util"),p=t("../../../Scritps/Windown"),h=t("./Baccarat.Assets"),d=t("./Baccarat.Audio"),f=t("./Baccarat.ButtonBet"),y=t("./Baccarat.Card"),g=t("./Baccarat.HistoryBet"),m=t("./Baccarat.HistoryMini"),v=t("./Baccarat.MenuView"),S=t("./Baccarat.Player"),b=t("./Baccarat.PopupHistory"),w=t("./Baccarat.SoiCauView"),_=cc._decorator,C=_.ccclass,T=_.property,I=cc.Enum({PLAYER:1,TIE:2,BANKER:3,PLAYER_PAIR:4,BANKER_PAIR:5}),W=cc.Enum({PLAYER:1,TIE:2,BANKER:3,PLAYER_PP:14,PLAYER_BP:15,PLAYER_PBP:145,BANKER_PP:34,BANKER_BP:35,BANKER_PBP:345,TIE_PP:24,TIE_BP:25,TIE_PBP:245}),M=cc.Enum({BETTING:1,FINISHED:2,WAITTING:3}),E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.players=[],e.thisPlayer=null,e.assets=null,e.menu=null,e.buttonBetController=null,e.historyMini=null,e.popupHistoryBetView=null,e.audio=null,e.popupSoiCau=null,e.bkgSprite=null,e.nodeGroupUser=null,e.nodeGateBet=[],e.listCardPlayer=[],e.listCardBanker=[],e.nodeGetChip=null,e.lbOtherPlayer=null,e.lbTimer=null,e.lbWaitting=null,e.lbSession=null,e.sprTimer=null,e.lbScoreP=null,e.lbScoreB=null,e.lbTotalBet=null,e.animDealer=null,e.animWinResult=null,e.posPayChipOther=[],e.lbTotalBetB=null,e.lbTotalBetP=null,e.lbTotalBetT=null,e.lbTotalBetBP=null,e.lbTotalBetPP=null,e.listPosChipOnTable=[],e.lbTotalGateBetUser=[],e.effectWinOther=null,e.currentTimer=60,e.totalBetB=0,e.totalBetP=0,e.totalBetBP=0,e.totalBetPP=0,e.totalBetT=0,e.totalBetAllGate=0,e.agUser=0,e.currentBetValue=1e3,e.listTotalBetValue=null,e.listTotalUserBetGate=null,e.listDataPlayerOther=[],e.listLbTotalBet=[],e.gateWin=null,e.gameState=M.BETTING,e.listValueChip=[.1,1,5,10,50,100,500,1e3,2e3,5e3,1e4,5e4,1e5,15e4,2e5],e.lastPlayerInfoData=null,e.makeDelay=null,e.infoCardOnTable_Player=[],e.infoCardOnTable_Banker=[],e.listChipBet=[],e.listChipbetOther=[],e.listBtnBet=[],e.isResetView=!1,e.isReconnect=!1,e.listGateWin=[],e.HistoryBet=null,e.historyTable=[],e.timeInBg=0,e.isAutoExit=!1,e.isPlayerBetted=!1,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.HistoryBet=new g.default,this.players.forEach(function(t,e){e>0&&(t.node.active=!1)}),this.nodeGateBet.forEach(function(e){t.listBtnBet.push(e.getComponent(cc.Button))});for(var e=0,n=this.listValueChip.length;e<n;e++)this.listValueChip[e]*=1e3;for(e=0;e<3;e++){var o=this.listCardPlayer[e],i={scaleX:o.node.scaleX,scaleY:o.node.scaleY,position:o.node.position};this.infoCardOnTable_Player.push(i);var r=this.listCardBanker[e],s={scaleX:r.node.scaleX,scaleY:r.node.scaleY,position:r.node.position};this.infoCardOnTable_Banker.push(s)}this.listTotalBetValue=[this.totalBetP,this.totalBetT,this.totalBetB,this.totalBetPP,this.totalBetBP],this.listTotalUserBetGate=[0,0,0,0,0],this.listLbTotalBet=[this.lbTotalBetP,this.lbTotalBetT,this.lbTotalBetB,this.lbTotalBetPP,this.lbTotalBetBP],p.Windown.BaccaratController.baccaratView=this,p.Windown.BaccaratView=this,this.makeDelay=new l.default(this),this.agUser=p.Windown.User.userAg},e.prototype.start=function(){p.Windown.BaccaratController.sendJoinRoom(),this.audio.playMusic(),null!=p.Windown.BaccaratController.startGameData&&(this.handleStartGame(p.Windown.BaccaratController.startGameData),p.Windown.BaccaratController.startGameData=null),this.setupTimeRunInBg(),this.setupView()},e.prototype.onDestroy=function(){p.Windown.BaccaratView=null},e.prototype.setupView=function(){if(cc.sys.isMobile)cc.log("view mobile:",cc.winSize),this.node.angle=90,t=this.node.getComponent(cc.Widget),this.bkgSprite.node.angle=90,this.node.setContentSize(cc.winSize.height,cc.winSize.width),this.bkgSprite.node.setContentSize(cc.winSize.height,cc.winSize.width),p.Windown.UIManager.changeRotation(!1);else{cc.log("view web:"+cc.view.getDesignResolutionSize());var t,e=cc.view.getDesignResolutionSize().height/720;this.node.angle=0,this.node.setScale(e,e,e),this.bkgSprite.node.angle=0,this.bkgSprite.node.setContentSize(cc.winSize.width,cc.winSize.height),(t=this.node.getComponent(cc.Widget)).left=0,t.right=0,t.bottom=0,t.top=0,t.updateAlignment(),p.Windown.UIManager.changeRotation(!0)}},e.prototype.getMakeDelay=function(t){return this.makeDelay.getDelay(t)},e.prototype.handlePlayerInfo=function(t){if(this.gameState!=M.FINISHED){this.listDataPlayerOther=[];var e=JSON.parse(p.Windown.SFSArrToJson(t.get("data"))),n=e.find(function(t){return t.id==p.Windown.User.userId});null!=n&&(cc.log("Co this player trong listPlayer, xoa no di"),e.splice(e.indexOf(n),1)),7==e.length&&(this.listDataPlayerOther.push(e.pop()),cc.log("Co 7 player trong listPlayer, xoa 1 thang  di:"+e.length)),this.thisPlayer.setAvatar(p.Windown.User.avatrId),this.thisPlayer.setName(p.Windown.User.nickName),this.thisPlayer.setChip(this.agUser,!1),this.thisPlayer.setId(p.Windown.User.userId);for(var o=1,i=0,r=e.length;i<r;i++){var s=e[i],a=this.players[o];cc.isValid(a)&&a!=this.thisPlayer?(a.node.active=!0,a.resetPlayer(),a.setInfo(s.id,s.nn,s.ag,s.iv),o++):cc.error(" ko du player de hien thi")}for(i=o;i<this.players.length;i++)this.players[i].node.active=!1,this.players[i].resetPlayer();this.lbOtherPlayer.string=t.getInt("so")+this.listDataPlayerOther.length+""}else this.lastPlayerInfoData=t},e.prototype.handleRoomInfo=function(t){return s(this,void 0,void 0,function(){var e,n,o,i,r,s,c,l,u=this;return a(this,function(a){switch(a.label){case 0:return p.Windown.UIManager.hideLoading(),this.currentTimer=t.getInt("time"),this.sprTimer.fillRange=this.currentTimer/30,this.lbSession.string="#"+t.getInt("sision"),e=t.getBool("isG"),n=JSON.parse(p.Windown.SFSArrToJson(t.get("cur"))),this.gameState=e?M.BETTING:M.FINISHED,this.historyTable=JSON.parse(t.get("his")).reverse(),o=this.historyTable[0],this.gameState==M.FINISHED&&this.currentTimer>15&&this.historyTable.splice(0,1),this.historyMini.setInfo(this.historyTable),this.setStateBtnGate(this.gameState==M.BETTING),this.gameState==M.BETTING?this.onCountTimeRemain():this.onCountWaitting(),this.gameState!=M.BETTING?[3,1]:(this.thisPlayer.showButtonBet(),this.setCurBetInfo(n),[3,9]);case 1:if(p.Windown.UIManager.showAlertMini("Vui l\xf2ng ch\u1edd  v\xe1n ch\u01a1i k\u1ebft th\xfac!"),!(this.currentTimer>15))return[3,9];for(i=JSON.parse(t.getUtfString("vP")),r=JSON.parse(t.getUtfString("vD")),cc.log(" Card  Player = ",i),cc.log(" Card  Banker = ",r),s=0;s<i.length;s++)(c=this.listCardPlayer[s]).node.active=!0,c.id=i[s].I,c.setCard(),c.node.opacity=255,c.node.position=this.infoCardOnTable_Player[s].position;for(s=0;s<r.length;s++)(c=this.listCardBanker[s]).node.active=!0,c.id=r[s].I,c.setCard(),c.node.opacity=255,c.node.position=this.infoCardOnTable_Banker[s].position;return l=JSON.parse(p.Windown.SFSArrToJson(t.get("cur"))),this.setCurBetInfo(l),[4,p.Windown.BaccaratView.getMakeDelay(.5).prosime];case 2:return a.sent(),this.listGateWin=[],l.forEach(function(t){t.w&&u.listGateWin.push(t.id)}),this.showScore(I.BANKER,r,2==r.length),this.showScore(I.PLAYER,i,2==i.length),[4,p.Windown.BaccaratView.getMakeDelay(1.5).prosime];case 3:return a.sent(),this.gateWin=parseInt(this.listGateWin.toString().split(",").join("")),[4,this.showWinResult()];case 4:return a.sent(),this.getAllChipOnTable(),[4,this.getMakeDelay(1.5).prosime];case 5:return a.sent(),this.payChipWinOnTalbe(),[4,this.getMakeDelay(1.5).prosime];case 6:return a.sent(),this.moveChipToPlayer(),[4,this.getMakeDelay(1.5).prosime];case 7:return a.sent(),[4,this.showResultAgWinReconnect(l)];case 8:a.sent(),this.historyTable.unshift(o),this.resetView(),a.label=9;case 9:return[2]}})})},e.prototype.setCurBetInfo=function(t){for(var e=0;e<t.length;e++){for(var n=t[e],o=n.id,i=n.b,r=0;r<i.length;r++)for(var s=i[r].bet,a=this.getPlayerWithId(i[r].idP),c=this.getListChipValue(s),l=0,u=c.length;l<u;l++){var h=this.assets.getChipBet(c[l]);cc.isValid(a)?(a.id==p.Windown.User.userId&&(this.totalBetAllGate+=s,this.listTotalUserBetGate[o-1]+=s,this.lbTotalBet.setMoney(this.totalBetAllGate,!0),this.lbTotalGateBetUser[o-1].string=p.Windown.formatMoney(this.listTotalUserBetGate[o-1]),this.lbTotalGateBetUser[o-1].node.parent.active=!0),a.listChipBet.push(h),h.playerID=a.id):(this.listChipbetOther.push(h),h.playerID=-1),this.listChipBet.push(h),h.parent=this.nodeGateBet[o-1],h.gate=o,h.value=c[l];var d=o>3?20:30,f=p.Windown.RandomNumber(this.listPosChipOnTable[o-1].x-d,this.listPosChipOnTable[o-1].x+d),y=p.Windown.RandomNumber(this.listPosChipOnTable[o-1].y-d,this.listPosChipOnTable[o-1].y+d);h.setPosition(cc.v2(f,y))}switch(o){case I.BANKER:this.totalBetB=n.t;break;case I.PLAYER:this.totalBetP=n.t;break;case I.BANKER_PAIR:this.totalBetBP=n.t;break;case I.PLAYER_PAIR:this.totalBetPP=n.t;break;case I.TIE:this.totalBetT=n.t}this.lbTotalBetB.setMoney(this.totalBetB,!0),this.lbTotalBetP.setMoney(this.totalBetP,!0),this.lbTotalBetBP.setMoney(this.totalBetBP,!0),this.lbTotalBetPP.setMoney(this.totalBetPP,!0),this.lbTotalBetT.setMoney(this.totalBetT,!0)}},e.prototype.handleStartGame=function(t){cc.log("handleStartGame"),this.audio.playEffect(this.audio.dealer_startBet),this.setStateBtnGate(!0),this.isResetView=!1,this.lbSession.string="#"+t.getInt("sision"),this.currentTimer=t.getInt("time"),this.lbTimer.string=this.currentTimer+"",this.sprTimer.fillRange=1,this.onCountTimeRemain(),this.setDealerAnim("Start_Bet",!1),this.thisPlayer.showButtonBet()},e.prototype.handlePlayerBet=function(t){var e=t.getInt("pid");this.audio.playEffect(this.audio.throwChip);var n=t.getInt("id"),o=this.getPlayerWithId(e),i=t.getLong("bet");if(null!=o&&o==this.thisPlayer){if(t.containsKey("errorMessage")&&""!=t.getUtfString("errorMessage"))return void p.Windown.UIManager.showAlertMini(t.getUtfString("errorMessage"));this.isPlayerBetted=!0,this.totalBetAllGate+=i,this.listTotalUserBetGate[n-1]+=i,this.lbTotalBet.setMoney(this.totalBetAllGate,!0),this.lbTotalGateBetUser[n-1].string=p.Windown.formatMoney(this.listTotalUserBetGate[n-1]),this.lbTotalGateBetUser[n-1].node.parent.active=!0}for(var r=this.getListChipValue(i),s=0,a=r.length;s<a;s++){var c=this.assets.getChipBet(r[s]);this.listChipBet.push(c);var l=this.nodeGateBet[n-1],u=null;null!=o?(u=l.convertToNodeSpaceAR(o.node.parent.convertToWorldSpaceAR(o.node.position)),o.setChip(t.getLong("ag")),o.listChipBet.push(c),c.playerID=o.id,o.gateBetted.includes(n)||o.gateBetted.push(n)):(u=l.convertToNodeSpaceAR(this.nodeGroupUser.parent.convertToWorldSpaceAR(this.nodeGroupUser.position)),this.listChipbetOther.push(c),c.playerID=-1),c.parent=l,c.gate=n,c.value=r[s],c.setPosition(u);var h=n>3?20:30,d=p.Windown.RandomNumber(this.listPosChipOnTable[n-1].x-h,this.listPosChipOnTable[n-1].x+h),f=p.Windown.RandomNumber(this.listPosChipOnTable[n-1].y-h,this.listPosChipOnTable[n-1].y+h),y=cc.v2(d,f);cc.tween(c).set({position:u}).delay(.05*s).to(.3,{x:y.x,y:y.y},{easing:cc.easing.sineOut}).start()}this.listTotalBetValue[n-1]=t.getLong("ttB"),this.listLbTotalBet[n-1].setMoney(this.listTotalBetValue[n-1],!0)},e.prototype.setStateBtnGate=function(t){this.listBtnBet.forEach(function(e){e.interactable=t})},e.prototype.handleEndGame=function(t){return s(this,void 0,void 0,function(){var e,n,o,i,r,c,l,u,h,d,f,y,g=this;return a(this,function(m){switch(m.label){case 0:return cc.log("handleEndGame"),this.setStateBtnGate(!1),this.onCountWaitting(),this.sprTimer.fillRange=0,this.gameState=M.FINISHED,this.thisPlayer.hideButtonBet(),this.setDealerAnim("Stop_Bet"),this.audio.playEffect(this.audio.dealer_endBet),e=JSON.parse(t.getUtfString("vP")),n=JSON.parse(t.getUtfString("vD")),this.historyTable=JSON.parse(t.get("his")).reverse(),o=JSON.parse(p.Windown.SFSArrToJson(t.get("d7"))),i=t.getLong("agW"),this.agUser=t.getLong("ag"),p.Windown.User.userAg=this.agUser,r=JSON.parse(p.Windown.SFSArrToJson(t.get("w"))),this.listGateWin=[],r.forEach(function(t){g.listGateWin.push(t.id)}),cc.log("vp====",e),cc.log("vD====",n),c=this.animDealer.findAnimation("Stop_Bet").duration,[4,p.Windown.BaccaratView.getMakeDelay(c+.5).prosime];case 1:return m.sent(),this.setDealerAnim("DealCard"),this.gateWin=parseInt(this.listGateWin.toString().split(",").join("")),l=this.infoCardOnTable_Player[0],cc.tween(this.listCardPlayer[0].node).set({x:9,y:145}).delay(.9).call(function(){g.audio.playEffect(g.audio.flipCard),g.listCardPlayer[0].node.active=!0,g.listCardPlayer[0].node.opacity=255,g.listCardPlayer[0].dealCard()}).start(),u=this.infoCardOnTable_Banker[0],cc.tween(this.listCardBanker[0].node).set({x:-2,y:145}).delay(2.25).call(function(){g.audio.playEffect(g.audio.flipCard),g.listCardBanker[0].node.active=!0,g.listCardBanker[0].node.opacity=255,g.listCardBanker[0].dealCard(),g.animDealer.node.setSiblingIndex(g.listCardBanker[0].node.parent.getSiblingIndex()-1)}).delay(.5).call(function(){g.listCardPlayer[0].node.setPosition(l.position),g.listCardPlayer[0].id=e[0].I,g.listCardPlayer[0].nanCard()}).delay(1).call(function(){g.listCardPlayer[0].openCard(),g.audio.playEffect(g.audio.openCard)}).start(),h=this.infoCardOnTable_Player[1],cc.tween(this.listCardPlayer[1].node).set({x:9,y:145}).delay(3.5).call(function(){g.audio.playEffect(g.audio.flipCard),g.listCardPlayer[1].node.active=!0,g.listCardPlayer[1].node.opacity=255,g.listCardPlayer[1].dealCard()}).delay(.5).call(function(){g.listCardBanker[0].node.setPosition(u.position),g.listCardBanker[0].id=n[0].I,g.listCardBanker[0].nanCard()}).delay(1).call(function(){g.listCardBanker[0].openCard(),g.audio.playEffect(g.audio.openCard),g.animDealer.node.setSiblingIndex(g.listCardBanker[0].node.getSiblingIndex()-1)}).start(),d=this.infoCardOnTable_Banker[1],cc.tween(this.listCardBanker[1].node).set({x:-2,y:145}).delay(4.85).call(function(){return s(g,void 0,void 0,function(){return a(this,function(){return this.audio.playEffect(this.audio.flipCard),this.listCardBanker[1].node.active=!0,this.listCardBanker[1].node.opacity=255,this.listCardBanker[1].dealCard(),this.animDealer.node.setSiblingIndex(this.listCardBanker[0].node.parent.getSiblingIndex()+1),[2]})})}).delay(.5).call(function(){return s(g,void 0,void 0,function(){return a(this,function(){return this.listCardPlayer[1].node.setPosition(h.position),this.listCardPlayer[1].id=e[1].I,this.listCardPlayer[1].nanCard(),[2]})})}).delay(1).call(function(){return s(g,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.listCardPlayer[1].openCard(),this.audio.playEffect(this.audio.openCard),[4,this.getMakeDelay(.75).prosime];case 1:return t.sent(),this.showScore(I.PLAYER,e,!0),[2]}})})}).delay(.75).call(function(){return s(g,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.listCardBanker[1].node.setPosition(d.position),this.listCardBanker[1].id=n[1].I,this.listCardBanker[1].nanCard(),[4,this.getMakeDelay(1).prosime];case 1:return t.sent(),this.animDealer.node.setSiblingIndex(this.listCardBanker[1].node.parent.getSiblingIndex()-1),this.listCardBanker[1].openCard(),this.audio.playEffect(this.audio.openCard),[4,this.getMakeDelay(.75).prosime];case 2:return t.sent(),[4,this.showScore(I.BANKER,n,!0)];case 3:return t.sent(),[2]}})})}).start(),[4,this.getMakeDelay(8.25).prosime];case 2:return m.sent(),2!=e.length||2!=n.length?[3,4]:[4,this.getMakeDelay(1.5).prosime];case 3:return m.sent(),[3,8];case 4:return 3!=e.length?[3,6]:(f=this.infoCardOnTable_Player[2],this.setDealerAnim("DealCard_Nan"),cc.tween(this.listCardPlayer[2].node).set({x:9,y:145}).delay(1.1).call(function(){g.audio.playEffect(g.audio.flipCard),g.listCardPlayer[2].node.active=!0,g.listCardPlayer[2].node.opacity=255,g.listCardPlayer[2].dealCard()}).delay(.5).call(function(){return s(g,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.listCardPlayer[2].node.setPosition(f.position),this.listCardPlayer[2].id=e[2].I,this.listCardPlayer[2].nanCard(),[4,this.getMakeDelay(1).prosime];case 1:return t.sent(),this.listCardPlayer[2].openCard(),this.audio.playEffect(this.audio.openCard),[4,this.getMakeDelay(.75).prosime];case 2:return t.sent(),this.showScore(I.PLAYER,e,!1),[2]}})})}).start(),[4,this.getMakeDelay(3.4).prosime]);case 5:m.sent(),m.label=6;case 6:return 3!=n.length?[3,8]:(y=this.infoCardOnTable_Banker[2],this.setDealerAnim("DealCard_Table_Right"),cc.tween(this.listCardBanker[2].node).set({x:-4.6,y:145}).delay(1.1).call(function(){g.audio.playEffect(g.audio.flipCard),g.listCardBanker[2].node.active=!0,g.listCardBanker[2].node.opacity=255,g.listCardBanker[2].dealCard()}).delay(.5).call(function(){return s(g,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.listCardBanker[2].node.setPosition(y.position),this.listCardBanker[2].id=n[2].I,this.listCardBanker[2].nanCard(),[4,this.getMakeDelay(1).prosime];case 1:return t.sent(),this.listCardBanker[2].openCard(),this.audio.playEffect(this.audio.openCard),[4,this.getMakeDelay(.75).prosime];case 2:return t.sent(),this.showScore(I.BANKER,n,!1),[2]}})})}).start(),[4,this.getMakeDelay(3.4).prosime]);case 7:m.sent(),m.label=8;case 8:return[4,this.showWinResult()];case 9:return m.sent(),this.getAllChipOnTable(),[4,this.getMakeDelay(1.5).prosime];case 10:return m.sent(),this.payChipWinOnTalbe(),[4,this.getMakeDelay(1.5).prosime];case 11:return m.sent(),this.moveChipToPlayer(),[4,this.getMakeDelay(1.5).prosime];case 12:return m.sent(),[4,this.showResultAgWin(o,i)];case 13:return m.sent(),this.resetView(),[2]}})})},e.prototype.getAllChipOnTable=function(){var t=this;cc.log("this.listGateWin="+this.listGateWin),this.audio.playEffect(this.audio.getChip),this.listChipBet.forEach(function(e){if(!t.listGateWin.includes(e.gate)){var n=t.nodeGetChip.parent.convertToWorldSpaceAR(t.nodeGetChip.position),o=e.parent.convertToNodeSpaceAR(n);cc.tween(e).delay(p.Windown.RandomNumber(0,3)/10).to(1.5,{position:o},{easing:cc.easing.quintOut}).to(.1,{opacity:0}).call(function(){t.assets.chipBetPool.put(e);var n=t.getPlayerWithId(e.playerID);null!=n&&n.listChipBet.splice(n.listChipBet.indexOf(e),1),t.listChipbetOther.includes(e)&&t.listChipbetOther.splice(t.listChipbetOther.indexOf(e),1)}).start()}})},e.prototype.payChipWinOnTalbe=function(){for(var t=this,e=!1,n=function(n){var i=o.listGateWin[n];o.players.forEach(function(n){n.listChipBet.forEach(function(o,r){if(o.gate==i){e=!0,o.value=t.getChipWinValueOnGate(o.value,i);for(var s=t.getListChipValue(o.value),a=0,c=s.length;a<c;a++)t.effectChipPay(s[a],i,.07*r,n.listChipPay)}})}),o.listChipbetOther.forEach(function(n,o){if(n.gate==i){e=!0,n.value=t.getChipWinValueOnGate(n.value,i);for(var r=t.getListChipValue(n.value),s=0,a=r.length;s<a;s++)t.effectChipPay(r[s],i,.07*o,t.listChipbetOther)}})},o=this,i=0;i<this.listGateWin.length;i++)n(i);e&&this.audio.playEffect(this.audio.chipMoveToPlayer_turn1)},e.prototype.getChipWinValueOnGate=function(t,e){return e!=I.PLAYER_PAIR&&e!=I.BANKER_PAIR||(t*=15),e==I.TIE&&(t*=9),t},e.prototype.moveChipToPlayer=function(){var t=this,e=cc.find("bg/playerContainer",this.node),n=!1;this.players.forEach(function(o){o.listChipBet.forEach(function(i,r){if(r<7){cc.isValid(i.parent)||(cc.log("Chip ko co cha:",i.playerID),i.parent=t.nodeGateBet[i.gate-1]);var s=p.Windown.convertNodeInOtherNode(i,e);i.parent=e,i.setPosition(s),n=!0,cc.tween(i).to(.6,{x:o.posPayChip[0].x,y:o.posPayChip[0].y+5*r,scale:.8*i.scale}).delay(1).to(.3,{position:o.node.position}).call(function(){t.assets.chipBetPool.put(i)}).start()}else cc.log("chip >7"),cc.tween(i).to(.3,{opacity:0},{easing:cc.easing.sineOut}).call(function(){t.assets.chipBetPool.put(i),cc.log("player listchipo bet size="+o.listChipBet.length)}).start()}),o.listChipPay.forEach(function(i,r){if(r<7){var s=p.Windown.convertNodeInOtherNode(i,e);i.parent=e,i.setPosition(s),n=!0,cc.tween(i).to(.6,{x:o.posPayChip[1].x,y:o.posPayChip[1].y+5*r,scale:.8*i.scale}).delay(.75).to(.3,{position:o.node.position}).call(function(){t.assets.chipBetPool.put(i)}).start()}else cc.tween(i).to(.3,{opacity:0},{easing:cc.easing.sineOut}).call(function(){t.assets.chipBetPool.put(i)}).start()})});var o=0;this.listChipbetOther.forEach(function(i,r){if(r<7){n=!0,o+=i.value,cc.log("Chip Parent="+i.parent.name);var s=p.Windown.convertNodeInOtherNode(i,e);i.parent=e,i.setPosition(s);var a=1==i.isChipPayOther?0:1;cc.tween(i).to(.6,{x:t.posPayChipOther[a].x,y:t.posPayChipOther[a].y+5*r,scale:.8*i.scale}).delay(.75).to(.3,{position:t.nodeGroupUser.position}).call(function(){t.assets.chipBetPool.put(i)}).start()}else o+=i.value,t.assets.chipBetPool.put(i)}),this.listChipbetOther.length>0&&cc.tween(this.node).delay(1.5).call(function(){t.showEffectWinOther(o)}).start(),this.listChipBet.forEach(function(e){cc.isValid(t.getPlayerWithId(e.playerID))||t.listChipbetOther.includes(e)||cc.tween(e).to(.3,{opacity:0},{easing:cc.easing.sineOut}).call(function(){t.assets.chipBetPool.put(e)}).start()}),n&&this.audio.playEffect(this.audio.chipMoveToPlayer_turn1)},e.prototype.showEffectWinOther=function(t){var e=this;null==this.effectWinOther?(cc.log("show effectWinOther"),this.effectWinOther=this.assets.getEffectWin(t),this.effectWinOther.parent=this.node,this.effectWinOther.position=this.nodeGroupUser.position):this.effectWinOther.getChildByName("lbChipWin").getComponent(cc.Label).string=p.Windown.formatMoney(t),this.effectWinOther.active=!0;var n=this.effectWinOther.getComponentInChildren(sp.Skeleton);n.setSkin("win"),n.setSlotsToSetupPose(),n.setAnimation(0,"appear",!1),n.setCompleteListener(function(){n.setAnimation(0,"idle",!1),n.setCompleteListener(null)}),this.scheduleOnce(function(){cc.tween(e.effectWinOther).to(.2,{scaleX:0},{easing:cc.easing.backIn}).call(function(){e.effectWinOther.active=!1}).start()},3)},e.prototype.showResultAgWin=function(t,e){return void 0===t&&(t=[]),s(this,void 0,void 0,function(){var n,o,i=this;return a(this,function(r){switch(r.label){case 0:return n=[],o=!1,t.forEach(function(t){var e=t.id,r=i.getPlayerWithId(e);cc.isValid(r)&&t.agw>0&&r!=i.thisPlayer&&(o=!0,n.push(r.showWinEffect(t.agw)),r.setChip(t.ag))}),0!=e&&(n.push(this.thisPlayer.showWinSpineEffect(e)),this.thisPlayer.setChip(this.agUser),this.audio.playEffect(this.audio.youWin)),o&&this.audio.playEffect(this.audio.chipMoveToPlayer_turn2),[4,Promise.all(n)];case 1:return r.sent(),[4,this.getMakeDelay(.25).prosime];case 2:return r.sent(),[2]}})})},e.prototype.showResultAgWinReconnect=function(t){return void 0===t&&(t=[]),s(this,void 0,void 0,function(){var e,n,o,i,r,s=this;return a(this,function(a){switch(a.label){case 0:return e=[],n=!1,o=0,i=[],r=function(t){i.forEach(function(e){return e.idP==t?e:null})},t.forEach(function(t){t.w&&t.b.forEach(function(t){var e=t.idP,n=r(e);null==n?(i.push(t),e==s.thisPlayer.id&&(o=t.agWin)):(n.agWin+=t.agWin,e==s.thisPlayer.id&&(o=n.agWin))})}),cc.log(" Player info=",i),i.forEach(function(t){var o=t.idP,i=s.getPlayerWithId(o);cc.isValid(i)&&t.agWin>0&&i!=s.thisPlayer&&(n=!0,e.push(i.showWinEffect(t.agWin)))}),cc.log(" Player agWinUser=",o),0!=o&&(e.push(this.thisPlayer.showWinSpineEffect(o)),this.thisPlayer.setChip(this.agUser),this.audio.playEffect(this.audio.youWin)),n&&this.audio.playEffect(this.audio.chipMoveToPlayer_turn2),[4,Promise.all(e)];case 1:return a.sent(),[4,this.getMakeDelay(.25).prosime];case 2:return a.sent(),[2]}})})},e.prototype.endResultAgWin=function(){},e.prototype.resetView=function(){var t=this;if(!this.isResetView){this.isPlayerBetted=!1,this.isResetView=!0,this.totalBetAllGate=0,this.lbTotalBet.setMoney(0),this.listChipBet.forEach(function(e){t.assets.chipBetPool.put(e)}),this.listChipBet=[],this.listChipbetOther.forEach(function(e){t.assets.chipBetPool.put(e)}),this.listChipbetOther=[],this.totalBetB=this.totalBetP=this.totalBetPP=this.totalBetBP=0,this.listBtnBet.forEach(function(t){t.getComponentInChildren(cc.Animation).node.active=!1}),this.animWinResult.node.active=!1,this.setDealerAnim("DiscardCard");for(var e=function(e){var o=n.listCardPlayer[e],i=n.listCardBanker[e];o.node.parent.getChildByName("cardBgWin"+(e+1)).active=!1,i.node.parent.getChildByName("cardBgWin"+(e+1)).active=!1,cc.tween(o.node).delay(.1*e).to(.3,{opacity:0},{easing:cc.easing.sineOut}).call(function(){cc.audioEngine.play(t.audio.flipCard,!1,1),o.getComponent(y.default).setCardBack(),o.node.active=!1}).start(),cc.tween(i.node).delay(.1*e).to(.3,{opacity:0},{easing:cc.easing.sineOut}).call(function(){t.audio.playEffect(t.audio.flipCard),o.getComponent(y.default).setCardBack(),i.node.active=!1}).start()},n=this,o=0;o<3;o++)e(o);this.lbScoreP.node.active=!1,this.lbScoreB.node.active=!1,this.players.forEach(function(t){t.resetPlayer()}),this.gameState=M.WAITTING,null!=this.lastPlayerInfoData&&(this.handlePlayerInfo(this.lastPlayerInfoData),this.lastPlayerInfoData=null),this.listLbTotalBet.forEach(function(t){t.setMoneyNoTime(0)}),this.lbTotalGateBetUser.forEach(function(e,n){e.node.parent.active=!1,t.HistoryBet.ListGateBet[n]=t.listTotalUserBetGate[n],t.listTotalUserBetGate[n]=0}),this.historyMini.addItemHistory(this.historyTable),1==this.isAutoExit&&p.Windown.BaccaratController.onClickBackToLobby()}},e.prototype.effectChipPay=function(t,e,n,o,i){void 0===i&&(i=null);var r=this.assets.getChipBet(t);r.isChipPayOther=o==this.listChipbetOther,o.push(r);var s=this.nodeGateBet[e-1];r.parent=s;var a=e>3?20:30,c=p.Windown.RandomNumber(this.listPosChipOnTable[e-1].x-a,this.listPosChipOnTable[e-1].x+a),l=p.Windown.RandomNumber(this.listPosChipOnTable[e-1].y-a,this.listPosChipOnTable[e-1].y+a),u=cc.v2(c,l);n=n<.75?n:.75,r.opacity=0,cc.tween(r).set({x:u.x,y:u.y+50,opacity:0}).delay(n).to(.3,{x:u.x,y:u.y,opacity:255},{easing:cc.easing.sineIn}).call(function(){null!=i&&i()}).start()},e.prototype.showWinResult=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){return[2,new Promise(function(e){return s(t,void 0,void 0,function(){var t,n=this;return a(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),this.animWinResult.node.active=!0,this.audio.playEffect(this.audio.gateWinEffect),this.getGateWinNormal()==I.TIE?(this.animWinResult.node.x=0,this.animWinResult.setSkin("tie"),this.animWinResult.setSlotsToSetupPose()):(this.animWinResult.node.x=this.getGateWinNormal()==I.PLAYER?-170:170,this.animWinResult.setSkin("win"),this.animWinResult.setSlotsToSetupPose(),this.getGateWinNormal()==I.BANKER?this.listCardBanker.forEach(function(t,e){t.node.active&&(t.node.parent.getChildByName("cardBgWin"+(e+1)).active=!0)}):this.listCardPlayer.forEach(function(t,e){t.node.active&&(t.node.parent.getChildByName("cardBgWin"+(e+1)).active=!0)})),this.animWinResult.setAnimation(0,"appear",!1),this.animWinResult.setCompleteListener(function(){n.animWinResult.setAnimation(0,"idle",!0)}),this.setDealerAnim(this.getGateWinNormal()==I.TIE?"Win_Draw":this.getGateWinNormal()==I.PLAYER?"Win_Player":"Win_Banker"),this.listGateWin.forEach(function(t){n.listBtnBet[t-1].getComponentInChildren(cc.Animation).node.active=!0}),[4,this.getMakeDelay(1.5).prosime];case 1:return o.sent(),e(null),[3,3];case 2:return t=o.sent(),u.Util.ThrowErrProsime(t),[3,3];case 3:return[2]}})})})]})})},e.prototype.setDealerAnim=function(t,e,n){var o=this;void 0===e&&(e=!1),void 0===n&&(n=null),this.animDealer.setAnimation(0,t,e),this.animDealer.setCompleteListener(null),null!=n?(this.animDealer.setCompleteListener(n),this.animDealer.setCompleteListener(null)):this.animDealer.setCompleteListener(function(){o.animDealer.setAnimation(0,"Idle_Tap",!0)})},e.prototype.showScore=function(t,e,n){cc.log("arrCArd= ",e);var o=n?2:3,i=this.getScore(e,o),r=cc.tween().set({scale:0}).to(.3,{scale:1},{easing:cc.easing.backOut});t==I.PLAYER?(this.lbScoreP.node.active=!0,n?(this.lbScoreP.setMoneyNoTime(i),r.clone(this.lbScoreP.node).start()):this.lbScoreP.setMoney(i)):(this.lbScoreB.node.active=!0,n?(this.lbScoreB.setMoneyNoTime(i),r.clone(this.lbScoreB.node).start()):this.lbScoreB.setMoney(i))},e.prototype.getScore=function(t,e){void 0===e&&(e=2);for(var n=0,o=0;o<e;o++){var i=t[o];n+=i.N>=10?0:i.N}return n%10},e.prototype.openCard=function(t,e,n){var o=this,i=0;i=t.x>0?10:-10,t.x,t.getPosition(),cc.tween(t).to(.55,{scaleX:.01,angle:n.angle+10,skewX:n.skew.x+i},{easing:cc.easing.cubicInOut}).call(function(){t.getComponent(cc.Sprite).spriteFrame=o.assets.getCardSprite(e),o.audio.playEffect(o.audio.openCard)}).to(.2,{scaleX:n.scaleX,angle:n.angle,skewX:n.skew.x},{easing:cc.easing.cubicInOut}).start()},e.prototype.onCountTimeRemain=function(){var t=this;this.lbTimer.node.active=!0,this.lbWaitting.node.active=!1,cc.Tween.stopAllByTarget(this.lbWaitting),this.lbTimer.string=this.currentTimer+"",this.schedule(function(){t.currentTimer>0?(t.currentTimer--,t.lbTimer.string=t.currentTimer+"",t.currentTimer<6&&cc.tween(t.lbTimer.node).to(.3,{scale:1.5},{easing:cc.easing.sineOut}).to(.3,{scale:1},{easing:cc.easing.sineIn}).start()):t.lbTimer.string="0"},1,this.currentTimer),cc.tween(this.sprTimer).to(this.currentTimer,{fillRange:0}).start()},e.prototype.onCountWaitting=function(){this.lbTimer.node.active=!1,this.lbWaitting.node.active=!0,this.sprTimer.fillRange=0,cc.tween(this.lbWaitting).repeatForever(cc.tween().set({string:""}).delay(.5).set({string:"."}).delay(.5).set({string:".."}).delay(.5).set({string:"..."}).delay(.5)).start()},e.prototype.getPlayerWithId=function(t){return t==p.Windown.User.userId?this.thisPlayer:this.players.find(function(e){return e.id==t})},e.prototype.getListChipValue=function(t){var e=[];return this.getNameChip(t,e),e},e.prototype.getNameChip=function(t,e){for(var n,o,i=0,r=0;r<this.listValueChip.length;r++)if(this.listValueChip[r]>t){i=this.listValueChip[r-1];break}if(0==i)for(r=this.listValueChip.length-1;r>=0;r++)if(t>=this.listValueChip[r]){i=this.listValueChip[r];break}if(n=Math.floor(t/i),t=o=t%i,i>=1e3)for(r=0;r<n;r++)e.push(i);o>0&&this.getNameChip(t,e)},e.prototype.getGateWinNormal=function(){var t=0;switch(this.gateWin){case W.PLAYER:case W.PLAYER_BP:case W.PLAYER_PP:case W.PLAYER_PBP:t=W.PLAYER;break;case W.BANKER:case W.BANKER_BP:case W.BANKER_PP:case W.BANKER_PBP:t=W.BANKER;break;case W.TIE:case W.TIE_BP:case W.TIE_PP:case W.TIE_PBP:t=W.TIE}return t},e.prototype.onClickSendBet=function(t,e){p.Windown.BaccaratController.sendBet(parseInt(e),this.currentBetValue),setTimeout(function(){p.Windown.BaccaratController.isCanSendData=!0},500)},e.prototype.onClickShowMenu=function(){this.audio.playClick(),this.menu.node.active=!0,this.menu.onshow()},e.prototype.onClickShowPopupSoiCau=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return null!=this.popupSoiCau?[3,2]:(p.Windown.UIManager.showLoading(),[4,p.Windown.BaccaratController.loadPrefabBundle("PopupSoiCau")]);case 1:t=e.sent(),this.popupSoiCau=cc.instantiate(t).getComponent(w.default),this.popupSoiCau.node.parent=p.Windown.BaccaratView.node,p.Windown.UIManager.hideLoading(),e.label=2;case 2:return this.popupSoiCau.node.active=!0,this.popupSoiCau.show(),[2]}})})},e.prototype.setupTimeRunInBg=function(){var t=this;cc.game.on(cc.game.EVENT_HIDE,function(){t.timeInBg=cc.sys.now()}),cc.game.on(cc.game.EVENT_SHOW,function(){var e=cc.sys.now(),n=t.timeInBg;cc.director.getActionManager().update((e-n)/1e3),cc.Tween.stopAllByTag(1),(e-n)/1e3>15&&null!=p.Windown.BaccaratController&&p.Windown.BaccaratController.onClickBackToLobby()})},r([T([S.default])],e.prototype,"players",void 0),r([T(S.default)],e.prototype,"thisPlayer",void 0),r([T(h.default)],e.prototype,"assets",void 0),r([T(v.default)],e.prototype,"menu",void 0),r([T(f.default)],e.prototype,"buttonBetController",void 0),r([T(m.default)],e.prototype,"historyMini",void 0),r([T(b.default)],e.prototype,"popupHistoryBetView",void 0),r([T(d.default)],e.prototype,"audio",void 0),r([T(w.default)],e.prototype,"popupSoiCau",void 0),r([T(cc.Sprite)],e.prototype,"bkgSprite",void 0),r([T(cc.Node)],e.prototype,"nodeGroupUser",void 0),r([T([cc.Node])],e.prototype,"nodeGateBet",void 0),r([T([y.default])],e.prototype,"listCardPlayer",void 0),r([T([y.default])],e.prototype,"listCardBanker",void 0),r([T(cc.Node)],e.prototype,"nodeGetChip",void 0),r([T(cc.Label)],e.prototype,"lbOtherPlayer",void 0),r([T(cc.Label)],e.prototype,"lbTimer",void 0),r([T(cc.Label)],e.prototype,"lbWaitting",void 0),r([T(cc.Label)],e.prototype,"lbSession",void 0),r([T(cc.Sprite)],e.prototype,"sprTimer",void 0),r([T(c.default)],e.prototype,"lbScoreP",void 0),r([T(c.default)],e.prototype,"lbScoreB",void 0),r([T(c.default)],e.prototype,"lbTotalBet",void 0),r([T(sp.Skeleton)],e.prototype,"animDealer",void 0),r([T(sp.Skeleton)],e.prototype,"animWinResult",void 0),r([T([cc.Vec2])],e.prototype,"posPayChipOther",void 0),r([T(c.default)],e.prototype,"lbTotalBetB",void 0),r([T(c.default)],e.prototype,"lbTotalBetP",void 0),r([T(c.default)],e.prototype,"lbTotalBetT",void 0),r([T(c.default)],e.prototype,"lbTotalBetBP",void 0),r([T(c.default)],e.prototype,"lbTotalBetPP",void 0),r([T([cc.Vec2])],e.prototype,"listPosChipOnTable",void 0),r([T([cc.Label])],e.prototype,"lbTotalGateBetUser",void 0),r([C],e)}(cc.Component);n.default=E,cc._RF.pop()},{"../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Other/MakeDelay":"MakeDelay","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./Baccarat.Assets":"Baccarat.Assets","./Baccarat.Audio":"Baccarat.Audio","./Baccarat.ButtonBet":"Baccarat.ButtonBet","./Baccarat.Card":"Baccarat.Card","./Baccarat.HistoryBet":"Baccarat.HistoryBet","./Baccarat.HistoryMini":"Baccarat.HistoryMini","./Baccarat.MenuView":"Baccarat.MenuView","./Baccarat.Player":"Baccarat.Player","./Baccarat.PopupHistory":"Baccarat.PopupHistory","./Baccarat.SoiCauView":"Baccarat.SoiCauView"}],BanPhimTaiXiu:[function(t,e,n){"use strict";cc._RF.push(e,"f28a6gGsthGSbAU837Uux9B","BanPhimTaiXiu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Network/ConectManager"),c=t("../../../Scritps/Windown"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.input1=null,e.input2=null,e._infoBet=null,e.totalBet=0,e.totalBetLe="0",e}return i(e,t),e.prototype.init=function(t){c.Windown.TaiXiu.sound.playClick(),this.node.active=!0,this._infoBet=t,this.totalBet=0},e.prototype.onClickNum=function(t,e,n){if(void 0===n&&(n=!0),cc.log("data: "+e),this._infoBet){n&&c.Windown.TaiXiu.sound.playClick();var o=parseInt(e);this.totalBet+=o,c.Windown.User.userAg<1e3?c.Windown.TaiXiu.showLog("M\u1ee9c c\u01b0\u1ee3c t\u1ed1i ti\u1ec3u l\xe0 1.000"):(this.totalBet=cc.misc.clampf(this.totalBet,0,c.Windown.User.userAg),this._infoBet.setMoneyTempBet(this.totalBet))}},e.prototype.onClickNumLe=function(t,e,n){void 0===n&&(n=!0),this._infoBet&&(n&&c.Windown.TaiXiu.sound.playClick(),parseInt(e),this.totalBetLe+=e,this.totalBetLe.length>1&&"0"==this.totalBetLe[0]&&(this.totalBetLe=this.totalBetLe.substring(1,this.totalBetLe.length)),this.totalBet=parseInt(this.totalBetLe),c.Windown.User.userAg<1e3?c.Windown.TaiXiu.showLog("M\u1ee9c c\u01b0\u1ee3c t\u1ed1i ti\u1ec3u l\xe0 1.000"):(this.totalBet=cc.misc.clampf(this.totalBet,0,c.Windown.User.userAg),this._infoBet.setMoneyTempBet(this.totalBet),cc.log("totalBetLe=="+this.totalBetLe)))},e.prototype.onClickSoKhac=function(){this.input1.active=!this.input1.active,this.input2.active=!this.input2.active},e.prototype.onClickHuy=function(){this.totalBet=0,this.totalBetLe="0",this.node.active=!1,this._infoBet&&this._infoBet.onHuyBet(),c.Windown.TaiXiu.sound.playClick()},e.prototype.onClickDongY=function(){if(0!=this.totalBet&&null!=this._infoBet)if(this.totalBet<1e3)c.Windown.TaiXiu.showLog("M\u1ee9c c\u01b0\u1ee3c t\u1ed1i ti\u1ec3u l\xe0 1.000");else{var t=a.ConectManager.getIns().getSFSObj();t.putInt("type",this._infoBet.type),t.putLong("bet",this.totalBet),c.Windown.TaiXiu.sendRequest(s.REQUEST_CODE.TXbet,t),c.Windown.TaiXiu.sound.playClick()}},e.prototype.onClickXoa=function(){"0"!=this.totalBetLe&&this.totalBetLe.length>1&&(this.totalBetLe=this.totalBetLe.substring(0,this.totalBetLe.length-1)),1==this.totalBetLe.length&&(this.totalBetLe="0"),this.totalBet=parseInt(this.totalBetLe),c.Windown.User.userAg<1e3?c.Windown.TaiXiu.showLog("M\u1ee9c c\u01b0\u1ee3c t\u1ed1i ti\u1ec3u l\xe0 1.000"):(this.totalBet=cc.misc.clampf(this.totalBet,0,c.Windown.User.userAg),this._infoBet.setMoneyTempBet(this.totalBet))},e.prototype.onClickAllIn=function(){this.onClickNum(null,1e8)},e.prototype.reset=function(){this.totalBet=0,this.totalBetLe="0",this.onClickNum(null,"0",!1)},e.prototype.onClickX2=function(){this.onClickNum(null,this._infoBet.lastBet),c.Windown.TaiXiu.sound.playClick()},r([p(cc.Node)],e.prototype,"input1",void 0),r([p(cc.Node)],e.prototype,"input2",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Windown":"Windown"}],BaseBulletBD:[function(t,e,n){"use strict";cc._RF.push(e,"945cbQpaL9M0YHt+40KOX71","BaseBulletBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMe=!1,e.fishTarget=null,e}return i(e,t),e.prototype.onCollisionEnter=function(t){var e=s.Windown.FishBongDem.fishMng.getFishById(t.tag);e&&e.getCanColision()&&this.onCollision(e,t)},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown"}],BaseButton:[function(t,e,n){"use strict";cc._RF.push(e,"3fb0epD9JpOPKJU2XkKBnxh","BaseButton");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodePress=null,e.timeDelay=.2,e.timeUpdate=0,e.deltaPlus=10,e.funMaxSpeed=null,e.funMaxSpeed2=null,e.isClick=!1,e.isInitEvent=!1,e.xengController=null,e.soundManager=null,e}return i(e,t),e.prototype.onTouchStart=function(t){var e=this;this.timeDelay=.2,this.isClick=!0,this.nodePress.active=!0,this.deltaPlus=10,this.onPress(this.deltaPlus*s.Windown.XengController.mutil),this.timeUpdate=0,this.scheduleOnce(this.funMaxSpeed=function(){e.timeDelay=0,e.schedule(e.funMaxSpeed2=function(){e.deltaPlus+=10},.7)},.5),t.stopPropagation()},e.prototype.initGameController=function(t){this.xengController=t},e.prototype.onTouchEnd=function(t){this.isClick=!1,this.timeDelay=.2,this.deltaPlus=10,this.unschedule(this.funMaxSpeed),this.unschedule(this.funMaxSpeed2),this.nodePress.active=!1,t.stopPropagation()},e.prototype.onTouchCancel=function(t){this.isClick=!1,this.timeDelay=.2,this.deltaPlus=10,this.unschedule(this.funMaxSpeed),this.unschedule(this.funMaxSpeed2),this.nodePress.active=!1,t.stopPropagation()},e.prototype.initEvent=function(){this.isInitEvent||(this.timeDelay=.2,this.isInitEvent=!0,this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this))},e.prototype.offEvent=function(){this.isInitEvent&&(this.timeUpdate=0,this.isInitEvent=!1,this.isClick=!1,this.nodePress.active=!1,this.node.targetOff(this))},e.prototype.onDestroy=function(){this.offEvent()},e.prototype.update=function(t){this.isClick&&(this.timeUpdate+=t,this.timeUpdate<this.timeDelay||(this.onPress(this.deltaPlus*s.Windown.XengController.mutil),this.timeUpdate=0))},e.prototype.start=function(){this.nodePress.active=!1,this.initEvent(),this.xengController&&(this.soundManager=this.xengController.getSoundMng()),this.reset()},r([l(cc.Node)],e.prototype,"nodePress",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown"}],BaseCuaHang:[function(t,e,n){"use strict";cc._RF.push(e,"b1c2e4WOBBMtbLXsYzYV0JY","BaseCuaHang");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listSFItem=[],e.listSFItemSpecial=[],e.spAuto=null,e.spGunSet=null,e.nodeInfo=null,e.parentItem=null,e.isInit=!1,e}return i(e,t),e.prototype.getSFByType=function(t){return t<5?this.listSFItem[t-1]:1e3==t?this.spGunSet:1001==t?this.spAuto:this.listSFItemSpecial[t-100]},e.prototype.onClickClose=function(){var t=this;s.Windown.actionEffectClose(this.node,function(){t.node.parent=null})},r([l(cc.SpriteFrame)],e.prototype,"listSFItem",void 0),r([l(cc.SpriteFrame)],e.prototype,"listSFItemSpecial",void 0),r([l(cc.SpriteFrame)],e.prototype,"spAuto",void 0),r([l(cc.SpriteFrame)],e.prototype,"spGunSet",void 0),r([l(cc.Node)],e.prototype,"nodeInfo",void 0),r([l(cc.Node)],e.prototype,"parentItem",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../Windown":"Windown"}],BaseEditbox:[function(t,e,n){"use strict";cc._RF.push(e,"24409kKZQlHAY7HY5EIIe/x","BaseEditbox");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeMove=null,e}return i(e,t),e.prototype.initNodeMove=function(t){cc.sys.isNative&&(this.nodeMove=t)},e.prototype.resignEdb=function(t){if(cc.sys.isNative&&null!=t){var e=new cc.Component.EventHandler;e.target=this.node,e.component="BaseEditbox",e.handler="editBegan",e.customEventData="",t.editingDidBegan.push(e);var n=new cc.Component.EventHandler;n.target=this.node,n.component="BaseEditbox",n.handler="editEnd",n.customEventData="",t.editingDidEnded.push(n)}},e.prototype.resignNext=function(t,e){if(void 0===e&&(e=""),cc.sys.isNative&&null!=t){var n=new cc.Component.EventHandler;n.target=this.node,n.component="BaseEditbox",n.handler="editNext",n.customEventData=e,t.editingReturn.push(n),t.returnType=5}},e.prototype.resetEmitNext=function(t){cc.sys.isNative&&null!=t&&(t.editingReturn.length=0)},e.prototype.editBegan=function(t){s.Windown.EDBController.checkAndChangePositionEDB(t,this.nodeMove||this.node)},e.prototype.editEnd=function(){s.Windown.EDBController.endNodeEDB()},e.prototype.editNext=function(t,e){var n=this;cc.sys.isNative&&this.scheduleOnce(function(){var t=n[e];t&&t.focus()},.4)},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../Windown":"Windown"}],BaseEffectAnTruoc:[function(t,e,n){"use strict";cc._RF.push(e,"c8a23y/rjpJS6MEeXwJuZZK","BaseEffectAnTruoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataFinishItemAnTruoc=null,e}return i(e,t),e.prototype.intData=function(t){return this.dataFinishItemAnTruoc=t,this},e}(t("./BaseEffect").default);n.default=r,cc._RF.pop()},{"./BaseEffect":"BaseEffect"}],BaseEffectEnd:[function(t,e,n){"use strict";cc._RF.push(e,"e8435fv8hREwo4alW31oc3a","BaseEffectEnd");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataFinishiItemNomarl=null,e}return i(e,t),e.prototype.intiData=function(t){return this.dataFinishiItemNomarl=t,this},e}(t("./BaseEffect").default);n.default=r,cc._RF.pop()},{"./BaseEffect":"BaseEffect"}],BaseEffectFish:[function(t,e,n){"use strict";cc._RF.push(e,"e1822LmedJHlJIp9CvD2WV4","BaseEffectFish");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fish=null,e.currentTime=0,e}return i(e,t),e.prototype.setFish=function(t,e){return this.fish=t,this.fish.addEffect(this),this.currentTime=e,this},e.prototype.update=function(t){this.currentTime-=t,this.currentTime<=0&&this.reset()},r([a],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],BaseEffectPlayer:[function(t,e,n){"use strict";cc._RF.push(e,"c0970pvzSZFupN01VnVbCio","BaseEffectPlayer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.time=0,e.type=0,e.player=null,e}return i(e,t),e.prototype.initPlayer=function(t,e,n){this.player=t,this.time=e,this.type=n},e.prototype.end=function(){var t;null===(t=this.player)||void 0===t||t.endEffect(this.type),this.player=null,this.time=0,s.Windown.FishBongDem.pool.putEffectPlayer(this)},e.prototype.update=function(t){t*=cc.director.getScheduler().getTimeScale(),this.time-=t,this.time<=0&&this.end()},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../../../Scritps/Windown":"Windown"}],BaseEffectXDVEnd:[function(t,e,n){"use strict";cc._RF.push(e,"9c7b9aL6sRHe7iN+bNoDLQL","BaseEffectXDVEnd");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataFinishXDV=null,e}return i(e,t),e.prototype.intiData=function(t){return this.dataFinishXDV=t,this},e}(t("./BaseEffect").default);n.default=r,cc._RF.pop()},{"./BaseEffect":"BaseEffect"}],BaseEffect:[function(t,e,n){"use strict";cc._RF.push(e,"2e16beucptECbftQ8r2VhF9","BaseEffect"),Object.defineProperty(n,"__esModule",{value:!0});var o=[22,4,10,16],i=[[21,22,23,0,1,2,3],[9,10,11,12,13,14,15],[15,16,17,18,19,20,21],[3,4,5,6,7,8,9]],r=function(){function t(t){this.xengController=null,this.soundMgn=null,this.currentBtnTrai=null,this.currentBtnPhai=null,this._listRun=null,this.xengController=t,this.soundMgn=t.getSoundMng(),this.currentBtnTrai=t.btnChangePointL,this.currentBtnPhai=t.btnChangePointR}return t.prototype.getBtnItem=function(t){return(null==t||null==t||t<0)&&(t=0),this.xengController.listBtnItem[t]},t.prototype.setColor=function(t){this.xengController.xengView.setColor(t)},t.prototype.getBtnItemXDV=function(t){return this.xengController.getBtnItemXDV(t)},t.prototype.setPointItem=function(t,e){this.getBtnItem(t).setPoint(e)},t.prototype.setStringLbHeSo=function(t){this.xengController.xengView.setStringLbHeSo(t)},t.prototype.getLbBtnItem=function(t){return this.getBtnItem(t).lbPoint},t.prototype.getNodeLbItem=function(t){return this.getBtnItem(t).lbPoint.node},t.prototype.getListNodeLbItem=function(){var t=[];return this.xengController.listBtnItem.forEach(function(e){t.push(e.lbPoint.node)}),t},t.prototype.getNodeLbItemXDV=function(t){return this.getBtnItemXDV(t).lbPoint.node},t.prototype.getNodeLbHeso=function(){return this.xengController.xengView.lbHeso.node},t.prototype.getLbHeso=function(){return this.xengController.xengView.lbHeso},t.prototype.getLbLeft=function(){return this.currentBtnTrai.lbPoint},t.prototype.getNodeLbLeft=function(){return this.getLbLeft().node},t.prototype.getLbRight=function(){return this.currentBtnPhai.lbPoint},t.prototype.getNodeLbRight=function(){return this.getLbRight().node},t.prototype.getIdListLastResutl=function(){return this.xengController.xengView.getIdListLastResutl()},t.prototype.getListRun=function(){var t=this,e=this._listRun;return null==e&&(e=[],i.forEach(function(n){var o=[];n.forEach(function(e){o.push(t.getChildById(e))}),e.push(o)})),e},t.prototype.getChildById=function(t){return this.xengController.xengView.getChildById(t)},t.prototype.getChildXDVById=function(t){return this.xengController.xengView.getChildXDVById(t)},t.prototype.getChildXoSoById=function(t){return this.xengController.xengView.getChildXoSoById(t)},t.prototype.getListLastResult=function(){return this.xengController.xengView.getListLastResult()},t.prototype.getListChildren=function(){return this.xengController.xengView.getListChildren()},t.prototype.getListXDV=function(){return this.xengController.xengView.getListChildXDV()},t.prototype.getListXoSo=function(){return this.xengController.xengView.getListChildXoSo()},t.prototype.getIdIndexRun=function(){return o.slice()},t.prototype.getLightMid=function(t){return this.xengController.xengView.getLightMid(t)},t.prototype.getListLightMid=function(){return this.xengController.xengView.getListLightMid()},t.prototype.randomLbHeSo=function(){this.xengController.xengView.randomLbHeSo()},t.prototype.runEffectNhapNhay1Lan=function(t,e){this.xengController.runEffectNhapNhay1Lan(t,e)},t.prototype.runEffectNhapNhay=function(t,e,n){this.xengController.runEffectNhapNhay(t,e,n)},t.prototype.runEffectRandomLabelHeso=function(t,e){this.xengController.xengView.runEffectRandomLabelHeso(t,e)},t.prototype.runEffectRandomLabelHesoSpecial=function(){this.xengController.xengView.runEffectRandomLabelHesoSpecial()},t.prototype.runEffectActiveAndHideWithTime=function(t,e){this.xengController.runEffectActiveAndHideWithTime(t,e)},t.prototype.offEffect=function(t){this.xengController.offEffect(t)},t.prototype.offEffectRandomLabelHeso=function(t){this.xengController.xengView.offEffectRandomLabelHeso(t)},t.prototype.offItem=function(t){this.xengController.offItem(t)},t.prototype.getNodeJp=function(){return this.xengController.xengView.getNodeJp()},t.prototype.pushIdResult=function(t){this.xengController.xengView.putIdResult(t)},t.prototype.pushIdXDVResult=function(t){var e=this;t.forEach(function(t){return e.xengController.xengView.putIdXDVResult(t)})},t.prototype.resetIdXDVResult=function(){this.xengController.xengView.resetIdXDVResult()},t.prototype.resetIdResult=function(){this.xengController.xengView.resetIdResult()},t.prototype.actionFade=function(t,e){e?(t.stopAllActions(),t.runAction(cc.fadeIn(e))):t.opacity=255},t.prototype.activeIcon=function(t){this.xengController.xengView.activeIcon(t)},t.prototype.actionNhapNhay=function(t,e,n,o){void 0===o&&(o=!1),t.stopAllActions(),t.opacity=255,o?t.runAction(cc.sequence(cc.blink(n,e),cc.callFunc(function(){t.opacity=255}))):t.runAction(cc.sequence(cc.blink(n,e),cc.callFunc(function(){t.opacity=0})))},t.prototype.activeWithTime=function(t,e){this.offItem(t),t.opacity=255,t.runAction(cc.sequence(cc.delayTime(e),cc.fadeOut(0)))},t.prototype.activeWithTimeFadeOut=function(t,e,n){this.offItem(t),t.opacity=255,t.runAction(cc.sequence(cc.delayTime(e),cc.fadeOut(n)))},t.prototype.hideWithTimeFadeIn=function(t,e,n){this.offItem(t),t.opacity=0,t.runAction(cc.sequence(cc.delayTime(e),cc.fadeIn(n)))},t.prototype.makeDelay=function(t){return this.xengController.makeDelay(t)},t}();n.default=r,cc._RF.pop()},{}],BaseFishBD:[function(t,e,n){"use strict";cc._RF.push(e,"e51edMOcQpFw679+8LtG8rl","BaseFishBD"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../../Scritps/Windown"),i=t("./FishStateBD"),r=[{x:-280,y:-115},{x:280,y:-115},{x:280,y:115},{x:-280,y:115}],s=function(){function t(t){this.fishId=-1,this.fishType=-1,this._fishState=-2,this.timeMove=0,this.currentTimeInPath=0,this.timeEffectIce=0,this.timeEffectWaiting=0,this.timeEffectHide=0,this.speed=1,this.speedAdd=1,this.infoAni="",this.fishMng=null,this.isInitView=!1,this.isInList=!0,this.isDeadEffect=!1,this.listEffectFish=[],this.fishView=null,this.funCallBackWhenInitView=null,this.fishMng=t}return Object.defineProperty(t.prototype,"fishState",{get:function(){return this._fishState},set:function(t){t!=this._fishState&&(t==i.default.NORMAL?this.effectNormal():t==i.default.ICE?this.effectIce():t==i.default.WATING&&this.effectWating(),this._fishState=t)},enumerable:!1,configurable:!0}),t.prototype.update=function(t){this.timeEffectIce<=0&&this.timeEffectWaiting<=0&&(this.fishState=i.default.NORMAL),this.timeEffectHide>0&&(this.timeEffectHide-=t);var e=this.checkTimeEffect(t);this.currentTimeInPath+=e*this.speed,this.currentTimeInPath>=this.timeMove&&(this.removeFishFromList(),this.destroy())},t.prototype.getAniClipFromString=function(t){var e=JSON.parse(t);this.fishMng.fishBD.playerIdMe>2&&this.setUpLat(e);var n=new cc.AnimationClip;for(var o in e)n[o]=e[o];return n},t.prototype.setUpLat=function(t){if(t.curveData.props.position)for(var e=0,n=t.curveData.props.position;e<n.length;e++){var o=(p=n[e]).value,i=p.motionPath;if(o[1]*=-1,i)for(var r=0,s=i;r<s.length;r++){var a=s[r];for(var c in a)Number(c)%2!=0&&(a[c]*=-1)}}if(t.curveData.props.angle)for(var l=0,u=t.curveData.props.angle;l<u.length;l++){var p;(p=u[l]).value=-180-p.value}},t.prototype.addEffect=function(t){return!!this.fishView&&(this.listEffectFish.push(t),!0)},t.prototype.removeEffect=function(t){var e=this.listEffectFish.indexOf(t);-1!=e&&(this.listEffectFish.splice(e,1),t.reset())},t.prototype.removeFishFromList=function(){this.isInList=!1,this.fishMng.removeFish(this.fishId)},t.prototype.getPosDeadPlayer=function(t){var e=r[t-1];return cc.v2(e.x+o.Windown.RandomNumber(-60,60),e.y+o.Windown.RandomNumber(-40,40))},t.prototype.checkTimeEffect=function(t){return this.timeEffectIce>0?(this.fishState=i.default.ICE,this.timeEffectIce-=t,0):(this.timeEffectIce<=0&&(this.timeEffectIce=0),this.timeEffectWaiting>0?(this.timeEffectIce<=0&&(this.timeEffectWaiting-=t,this.fishState=i.default.WATING),0):(this.timeEffectWaiting<=0&&(this.timeEffectWaiting=0),t))},t.prototype.destroy=function(){this.listEffectFish.forEach(function(t){t.reset()}),this.listEffectFish.length=0},t.prototype.checkColiderInScreen=function(t){return this.fishView?this.fishView.checkColiderInScreen(t):null},t.prototype.getColiderInScreen=function(t){return this.fishView?this.fishView.getColiderInScreen(t):null},t.prototype.getPointColider=function(t){return this.fishView?this.fishView.getPointColider(t):null},t}();n.default=s,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./FishStateBD":"FishStateBD"}],BaseFishColision:[function(t,e,n){"use strict";cc._RF.push(e,"e7c8beBwpNGQqJGbqMZEfdU","BaseFishColision"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../../Scritps/DefineTs/PlayerPP"),i=t("../../../../Scritps/Windown"),r=t("../Fish/DeadEffect/FishDeadBoom"),s=t("../Fish/DeadEffect/FishDeadCaXau"),a=t("../Fish/DeadEffect/FishDeadGroup"),c=t("../Fish/DeadEffect/FishDeadGroup4"),l=t("../Fish/DeadEffect/FishDeadJackpot"),u=t("../Fish/DeadEffect/FishDeadMutilReward"),p=t("../Fish/DeadEffect/FishDeadNoEffect"),h=t("../Fish/DeadEffect/FishDeadNormal"),d=t("../Fish/DeadEffect/FishDeadNormalRd"),f=t("../Fish/DeadEffect/FishDeadRua"),y=t("../Fish/DeadEffect/FishDeadTrieuHoi"),g=t("../Fish/DeadEffect/FishDeadTruyGai"),m=t("../Fish/DeadEffect/FishDeadVongQuay"),v=t("../Fish/FISH_TYPE"),S=function(){function t(t){var e=this;this.listFish=[],this.listFishValue=[],this.player=null,this.moneyPlayer=0,this.type=-1,this.totalExp=0,this.moneyGun=0,this.idByFish=-1,this.sfsObj=null,this.sfsObj=t,JSON.parse(t.getUtfString("listFishId")).forEach(function(t){var n=i.Windown.FishBongDem.fishMng.getFishById(t);n&&(n.fishView?e.listFish.push(n):n.removeFishFromList())});var n=t.getInt(o.PlayerPP.AccountId);this.player=i.Windown.FishBongDem.playerMng.getPlayerById(n),this.moneyPlayer=t.getLong("AccountBalance"),this.listFishValue=JSON.parse(t.getUtfString("listFishValue")),this.type=t.getInt("deadType"),this.totalExp=t.getInt("totalExp"),this.moneyGun=t.getInt("moneyGun"),this.idByFish=t.get("byFish"),null==this.player?this.listFish.forEach(function(t){t.removeFishFromList(),t.destroy()}):(this.player.updateExp(this.totalExp),t.containsKey("Items")&&this.player.takeItemFish(t.getSFSArray("Items"),this.listFish[0]),this.player.moneyCache=this.moneyPlayer,this.listFish.forEach(function(t,n){e.player.pushDelay(e.listFishValue[n])}))}return t.prototype.getDeadEffectWithFishType=function(t,e,n){return t.fishType==v.default.LAZE||t.fishType==v.default.SONG_AM||t.fishType==v.default.MUI_KHOAN||t.fishType==v.default.GUN_FIRE?new p.default(t,n,e):t.fishType==v.default.BOOM?new r.default(t,n,e):t.fishType==v.default.CA_XAU?new s.default(t,n,e):t.fishType==v.default.TRUY_GAI?new g.default(t,n,e):t.fishType==v.default.RUA?new f.default(t,n,e):t.fishType==v.default.VONG_QUAY?new m.default(t,n,e):t.fishType==v.default.CA_GROUP||t.fishType==v.default.CA_GROUP4?new a.default(t,n,e):t.fishType==v.default.CA_GROUP4_1?new c.default(t,n,e):t.fishType<15||t.fishType==v.default.CA_TRAN_1||t.fishType>28&&t.fishType<33?new h.default(t,n,e):t.fishType==v.default.MUTIL?new u.default(t,n,e):t.fishType==v.default.JACKPOT?n.isMe?new l.default(t,n,e):new h.default(t,n,e):t.fishType>=70&&t.fishType<=73?new y.default(t,n,e):new d.default(t,n,e)},t}();n.default=S,cc._RF.pop()},{"../../../../Scritps/DefineTs/PlayerPP":"PlayerPP","../../../../Scritps/Windown":"Windown","../Fish/DeadEffect/FishDeadBoom":"FishDeadBoom","../Fish/DeadEffect/FishDeadCaXau":"FishDeadCaXau","../Fish/DeadEffect/FishDeadGroup":"FishDeadGroup","../Fish/DeadEffect/FishDeadGroup4":"FishDeadGroup4","../Fish/DeadEffect/FishDeadJackpot":"FishDeadJackpot","../Fish/DeadEffect/FishDeadMutilReward":"FishDeadMutilReward","../Fish/DeadEffect/FishDeadNoEffect":"FishDeadNoEffect","../Fish/DeadEffect/FishDeadNormal":"FishDeadNormal","../Fish/DeadEffect/FishDeadNormalRd":"FishDeadNormalRd","../Fish/DeadEffect/FishDeadRua":"FishDeadRua","../Fish/DeadEffect/FishDeadTrieuHoi":"FishDeadTrieuHoi","../Fish/DeadEffect/FishDeadTruyGai":"FishDeadTruyGai","../Fish/DeadEffect/FishDeadVongQuay":"FishDeadVongQuay","../Fish/FISH_TYPE":"FISH_TYPE"}],BaseFishDeaditemDrag:[function(t,e,n){"use strict";cc._RF.push(e,"fa7cekXgTxNCY41G7k3RIhj","BaseFishDeaditemDrag"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../../Scritps/DefineTs/PlayerPP"),i=t("../../../../Scritps/Windown"),r=t("../Fish/DeadEffect/FISH_DEAD_BD_TYPE");n.default=function(t){var e=this;this.listFish=[],this.listFishValue=[],this.player=null,this.moneyPlayer=0,this.type=-1,this.totalExp=0,this.moneyGun=0,this.idByFish=-1,this.sfsObj=null,this.sfsObj=t,JSON.parse(t.getUtfString("listFishId")).forEach(function(t){var n=i.Windown.FishBongDem.fishMng.getFishById(t);n&&(n.fishView?e.listFish.push(n):n.removeFishFromList())});var n=t.getInt(o.PlayerPP.AccountId);this.player=i.Windown.FishBongDem.playerMng.getPlayerById(n),this.moneyPlayer=t.getLong("AccountBalance"),this.listFishValue=JSON.parse(t.getUtfString("listFishValue")),this.type=t.getInt("deadType"),this.totalExp=t.getInt("totalExp"),this.moneyGun=t.getInt("moneyGun"),this.idByFish=t.get("byFish"),this.type!=r.default.ITEM_HAI_THAN&&this.type!=r.default.HAI_THAN||(this.idByFish=this.sfsObj.get("byIdItemDrag"))},cc._RF.pop()},{"../../../../Scritps/DefineTs/PlayerPP":"PlayerPP","../../../../Scritps/Windown":"Windown","../Fish/DeadEffect/FISH_DEAD_BD_TYPE":"FISH_DEAD_BD_TYPE"}],BaseFishDead:[function(t,e,n){"use strict";cc._RF.push(e,"78d63f3KJFPXKmcsz1/siU+","BaseFishDead"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../../../Scritps/Windown"),i=function(){function t(t,e,n){this.fishBd=null,this.player=null,this.moneyRevice=0,this.moneyGun=0,this.soundBongDem=null,this.funCall=null,this.fishBd=t,this.player=e,this.moneyGun=n,this.soundBongDem=o.Windown.FishBongDem.getSound()}return t.prototype.makeDelay=function(t){return o.Windown.FishBongDem.makeDelay(t)},t.prototype.getListCoinByType=function(t){var e=[],n=1,i=.4;switch(t){case 1:case 2:case 3:n=1,i=.4;break;case 4:case 5:case 6:case 7:n=2,i=.3;break;case 8:case 9:case 10:case 11:n=4,i=.25;break;case 12:case 13:case 14:case 15:case 16:n=6,i=.25;break;default:n=10,i=.25}for(var r=0;r<n;r++){var s=o.Windown.FishBongDem.pool.getCoin(this.player.isMe);s.scale=i,s.parent=o.Windown.FishBongDem.fishBDView.parentEffect,e.push(s)}return e},t}();n.default=i,cc._RF.pop()},{"../../../../../Scritps/Windown":"Windown"}],BaseItemDrag:[function(t,e,n){"use strict";cc._RF.push(e,"eb1d2zfkFBKh4zDUkT1upoQ","BaseItemDrag"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../../Scritps/Windown"),i=function(){function t(t,e,n){this.player=null,this.timeUse=0,this.timeRemove=0,this.type=-1,this.config=null,this.id=-1,this.player=t,this.type=e,this.id=n,this.config=o.Windown.FishBongDem.getGunSpecialConfigType(e)}return t.prototype.update=function(t){this.timeUse>0?this.timeUse-=t:this.timeRemove<=0&&this.remove(),this.timeRemove>0?this.timeRemove-=t:this.timeUse<=0&&this.remove()},t.prototype.remove=function(){this.player.removeItemDrag(this.id)},t.prototype.excuted=function(){this.timeRemove=this.config.getInt("TimeRemoveNotUse")-o.Windown.LagValue,this.timeUse=0},t.prototype.using=function(){this.timeRemove=0,this.timeUse=this.config.getInt("TimeToUse")-o.Windown.LagValue},t}();n.default=i,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown"}],BaseItemMutilAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"97b1ap7EDFPWYkC1UAT0nhH","BaseItemMutilAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Other/LbMonoSpace"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mutilMng=null,e.mutil=1,e.lbMutil=null,e}return i(e,t),r([l(s.default)],e.prototype,"lbMutil",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace"}],BaseItemMutil:[function(t,e,n){"use strict";cc._RF.push(e,"2839aOOabZBdIg2eqqhV/Dr","BaseItemMutil");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Other/LbMonoSpace"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mutilMng=null,e.mutil=1,e.lbMutil=null,e}return i(e,t),r([l(s.default)],e.prototype,"lbMutil",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace"}],BaseItemQuick:[function(t,e,n){"use strict";cc._RF.push(e,"435459VK31KTYZ9yb1w2C5Q","BaseItemQuick");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=-1,e}return i(e,t),r([c(cc.Integer)],e.prototype,"type",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],BasePlayerBD:[function(t,e,n){"use strict";cc._RF.push(e,"e430eWUs3NFrJdxAc/5n1KD","BasePlayerBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../../Scritps/Game/GAME_TYPE"),u=t("../../../../Scritps/Network/ConectManager"),p=t("../../../../Scritps/Obs/ItemLevelController"),h=t("../../../../Scritps/Obs/LbMoneyChange"),d=t("../../../../Scritps/Windown"),f=t("../Boom/DinhBa"),y=t("../Boom/DropBoom"),g=t("../Gun/GunFishBD"),m=t("../Gun/GUN_TYPE_BD"),v=t("../Gun/MatThan"),S=t("../Gun/StateGunFire"),b=t("./BaseItemDrag"),w=t("./Effect/PlayerUsingAuto"),_=t("./Effect/PlayerUsingIce"),C=t("./Effect/PlayerUsingSpeed"),T=t("./Effect/PlayerUsingTarget"),I=t("./Effect/TypePlayerEffectBD"),W=t("./TypeItemDragBD"),M=[188,282,424,635,952,1427,2139,3206,4806,7206,10806,15816,22820,32323,44834,60941,80942,105960,135981,172003,212128,258358,311568,372808,442958,523172,618413,733437,874069,1039309,1234969,1465170,1735520,2056522,2441782,2902985,3453987,4103990,4864200,5754410,6794640,7998160,9384362,10970563,12771785,14822815,17222926,20129246,23650247,27866250],E=[{x:-475,y:-312},{x:475,y:-312},{x:475,y:312},{x:-475,y:312}],R=[-118,118,118,-118],A=[15,-15,-15,15],B=[1,-1,-1,1],O=[-52.593,50,50,-52],D=[-63.66,-55.087,-55.087,-63.66],N=cc._decorator,P=N.ccclass,k=N.property,F=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbGold=null,e.lbName=null,e.lbLevel=null,e.lbTimeCD=null,e.spAva=null,e.gunFishBd=null,e.spProgressLevel=null,e.sfBgPlayer=[],e.parentPanel=null,e.listitemLevel=[],e.playerManager=null,e.namePlayer="",e.gold=0,e.SFSInfo=null,e.playerSiting=-1,e.playerId=-1,e.acountId=-1,e.currentGunId=-1,e.timeItemSpeed=0,e.isItemSpeed=!1,e.timeItemTarget=0,e.isItemTarget=!1,e.timeItemIce=0,e.isItemIce=!1,e.timeItemAuto=0,e.isItemAuto=!1,e.initPosCoin=0,e.initPosLbName=0,e.initPosLbGold=0,e.timeItemTrieuHoi=0,e.indexMoneyGun=0,e.currentTimeGunToUseSpecial=0,e.currentTimeGunRemoveSpecial=0,e.isMe=!1,e.level=0,e.exp=0,e.totalLevel=0,e.listPlayerEffect=[],e.listItemDrag=[],e.mapNodePanel=new Map,e.mapMatThan=new Map,e.listDelayMoney=[],e.moneyCache=0,e}return i(e,t),e.prototype.setPlayerMng=function(t){this.playerManager=t},e.prototype.onLoad=function(){this.initPosCoin=cc.find("username/coin",this.node).x,this.initPosLbGold=this.lbGold.node.x,this.initPosLbName=this.lbName.node.x},e.prototype.initPlayer=function(t,e){this.SFSInfo=t,this.gold=t.getLong("ag"),this.moneyCache=this.gold,this.namePlayer=t.getUtfString("nickname"),this.level=t.getInt("currentlevel"),this.totalLevel=t.getInt("totallevelpoint"),this.exp=t.getInt("currentlevelpoint"),this.acountId=t.getInt("id"),this.playerId=t.getInt("SittingId"),this.currentGunId=t.getInt("CurrentGunId"),this.indexMoneyGun=t.getInt("IndexMoneyGun"),this.currentTimeGunRemoveSpecial=t.get("TimeRemoveSpecilGun"),this.currentTimeGunToUseSpecial=t.get("TimeUseSpecilGun"),this.playerSiting=e,this.isMe=!1,this.acountId==d.Windown.User.userId&&(this.isMe=!0,this.playerManager.fishBD.me=this,d.Windown.FishBongDem.fishBDView.setItemInfo(t.getSFSArray("ItemFish")),d.Windown.MoneyUser.dangKyHandle(this.setGold,this)),this.setUpView(),this.setAva(this.SFSInfo),this.setExp(this.exp/this.totalLevel),this.setLevel(this.level),this.setName(this.namePlayer),this.setGold(this.gold),this.lbGold.setMoneyNoTime(this.gold),this.gunFishBd.setPlayer(this),this.gunFishBd.initGun(this.currentGunId),this.gunFishBd.setMoneyGun(this.indexMoneyGun),this.updateItem(t);for(var n=t.getSFSArray("ListItemDrag"),o=0,i=n.size();o<i;o++){var r=n.getSFSObject(o);r.get("TimeRemoveNotUse")>0&&this.addItemDrag(r)}this.isMe&&(this.listitemLevel.forEach(function(t){t.updateLevelConfig(),t.setRoom(1)}),this.updateItemLevel(this.indexMoneyGun)),this.test()},e.prototype.test=function(){return s(this,void 0,void 0,function(){return a(this,function(){return[2]})})},e.prototype.setUpView=function(){this.node.setPosition(E[this.playerSiting-1].x,E[this.playerSiting-1].y);var t=cc.find("BtnInfo",this.node);t.x=R[this.playerSiting-1],(t=cc.find("username",this.node)).getChildByName("name_ingame").scaleX=B[this.playerSiting-1],t.getChildByName("name_ingame").x=O[this.playerSiting-1],t.x=A[this.playerSiting-1];var e=cc.find("username/coin",this.node);cc.find("gun/bkgMoneyGun",this.node).getComponent(cc.Sprite).spriteFrame=this.isMe?this.sfBgPlayer[0]:this.sfBgPlayer[1],cc.find("gun/bkgMoneyGun",this.node).scaleY=this.playerSiting-1==0||this.playerSiting-1==1?1:-1,this.gunFishBd.bodyGun.y=this.playerSiting-1==0||this.playerSiting-1==1?15:-15,this.lbName.node.x=this.playerSiting-1==1||this.playerSiting-1==2?this.initPosLbName+50:this.initPosLbName,this.lbGold.node.x=this.playerSiting-1==1||this.playerSiting-1==2?this.initPosLbGold+9:this.initPosLbGold,e.x=D[this.playerSiting-1];var n=e.parent.convertToWorldSpaceAR(e.getPosition()),o=d.Windown.FishBongDem.fishBDView.parentEffect.convertToNodeSpaceAR(n);this.posBoxCoin=o;var i=this.lbTimeCD.node.parent.convertToWorldSpaceAR(this.lbTimeCD.node.getPosition()),r=d.Windown.FishBongDem.fishBDView.parentEffect.convertToNodeSpaceAR(i);this.posMoneyMini=r;var s=[cc.v2(-45,43),cc.v2(45,43),cc.v2(45,-43),cc.v2(-45,-43)];this.parentPanel.setPosition(s[this.playerSiting-1]),this.parentPanel.anchorY=[0,0,1,1][this.playerSiting-1]},e.prototype.getPosInVew=function(){return cc.v2(E[this.playerSiting-1].x,E[this.playerSiting-1].y)},e.prototype.updateExp=function(t){this.exp+=t,this.checkLvlUp()&&this.setLevel(this.level),this.setExp(this.exp/this.totalLevel)},e.prototype.reset=function(){var t,e;if(this.node){for(;this.listPlayerEffect.length>0;)this.listPlayerEffect[0].end();try{this.mapNodePanel.forEach(function(t){t.destroy()}),this.mapMatThan.forEach(function(t){t.node.destroy()})}catch(n){}this.listDelayMoney.length=0,this.indexMoneyGun=0,this.listItemDrag.length=0,this.mapNodePanel.clear(),this.mapMatThan.clear(),null===(e=null===(t=this.gunFishBd)||void 0===t?void 0:t.stateGun)||void 0===e||e.cancleAtack(),this.playerManager.putPlayerViewPool(this.node),this.isMe&&(d.Windown.MoneyUser.targetOff(this),d.Windown.MoneyUser.endGameMOney(l.default.BongDem))}},e.prototype.onDestroy=function(){d.Windown.MoneyUser.targetOff(this),this.isMe&&d.Windown.MoneyUser.endGameMOney(l.default.BongDem)},e.prototype.checkLvlUp=function(){for(var t=!1;this.exp>=this.totalLevel;)this.level++,this.exp=this.exp-this.totalLevel,this.totalLevel=M[this.level-1],t=!0;return t},e.prototype.takeItemFish=function(t,e){var n=this;if(t)for(var o=d.Windown.FishBongDem.getSound(),i=function(i){var s=t.getSFSObject(i),a=s.get("Value"),c=s.get("Type");if(null!=e){console.log("type la: "+c);var l=d.Windown.FishBongDem.pool.getItemTakeFish(c);l.parent=d.Windown.FishBongDem.fishBDView.parentEffect,l.setPosition(e.getPoint()),l.runAction(cc.sequence(cc.jumpTo(.5,cc.v2(l.x-d.Windown.RandomNumber(-100,100),l.y+50),50,1),cc.delayTime(1),cc.moveTo(.6,r.gunFishBd.pointInScreen).easing(cc.easeBackIn()),cc.callFunc(function(){o.playEffect(o.hitIncredible);var t=d.Windown.FishBongDem.pool.getCountItem();t.parent=d.Windown.FishBongDem.fishBDView.parentEffect,t.setPosition(n.gunFishBd.pointInScreen.x,n.gunFishBd.pointInScreen.y+50),t.runAction(cc.sequence(cc.moveBy(1,0,n.playerSiting<3?100:-100),cc.callFunc(function(){t.destroy()})))}),cc.scaleTo(.15,1.1),cc.scaleTo(.15,.8),cc.delayTime(.5),cc.callFunc(function(){d.Windown.FishBongDem.pool.putItemTakeFish(l),n.isMe&&d.Windown.FishBongDem.fishBDView.reviceItemWhenLvlUp(c,a)})))}else r.isMe&&d.Windown.FishBongDem.fishBDView.reviceItemWhenLvlUp(c,a)},r=this,s=0,a=t.size();s<a;s++)i(s)},e.prototype.updateItemLevel=function(t){var e=t+1,n=t-1;n<0&&(n=d.Windown.FishBongDem.listGunMoney.length-1),e>=d.Windown.FishBongDem.listGunMoney.length&&(e=0),this.listitemLevel[0].setGunId(n),this.listitemLevel[1].setGunId(e)},e.prototype.getPosCoint=function(){return this.getPosCoin()},e.prototype.rotateGun=function(t){this.gunFishBd.rotate(t)},e.prototype.atack=function(){this.gunFishBd.stateGun.atack()},e.prototype.dromBoom=function(t){return s(this,void 0,void 0,function(){var e,n,o;return a(this,function(i){switch(i.label){case 0:return d.Windown.FishBongDem.getSound().playEffect(d.Windown.FishBongDem.getSound().comingJackpot),[4,d.Windown.loadRes(l.default.BongDem.toString(),"Prefabs/Game/DropBoom",cc.Prefab)];case 1:return e=i.sent(),(n=cc.instantiate(e)).parent=d.Windown.FishBongDem.fishBDView.node,o=this.gunFishBd.pointInScreen.clone(),this.playerSiting<3?o.y-=200:o.y+=200,n.getComponent(y.default).init(o,t,this),[2]}})})},e.prototype.dromDinhBa=function(t){return s(this,void 0,void 0,function(){var e,n,o;return a(this,function(i){switch(i.label){case 0:return[4,d.Windown.loadRes(l.default.BongDem.toString(),"Prefabs/Game/DinhBa",cc.Prefab)];case 1:return e=i.sent(),(n=cc.instantiate(e)).parent=d.Windown.FishBongDem.fishBDView.node,o=this.gunFishBd.pointInScreen.clone(),n.getComponent(f.default).init(o,t,this),[2]}})})},e.prototype.dropMatThan=function(t,e,n,o){return s(this,void 0,void 0,function(){var i,r,s;return a(this,function(a){switch(a.label){case 0:return(e-n)/o<6?[2]:[4,d.Windown.loadRes(l.default.BongDem.toString(),"Prefabs/Game/EyeOcean0",cc.Prefab)];case 1:return i=a.sent(),(r=cc.instantiate(i)).parent=this.node.parent,(s=r.getComponent(v.default)).init(this,e,n,t,o),this.mapMatThan.set(t,s),[2]}})})},e.prototype.addItemDrag=function(t){var e=t.get("Type"),n=t.get("Id"),o=this.getItemDrag(n);if(null==o)if(o=this.creatItemDrag(e,n),this.listItemDrag.push(o),o.excuted(),o.timeRemove=t.get("TimeRemoveNotUse"),o.timeUse=t.get("TimeToUse"),e==W.default.LAZE)this.gunFishBd.initGun(m.default.LAZE,n);else if(e==W.default.SONG_AM)this.gunFishBd.initGun(m.default.SONG_AM,n);else if(e==W.default.MUI_KHOAN)this.gunFishBd.initGun(m.default.MUI_KHOAN,n);else if(e==W.default.GUN_FIRE){if(this.gunFishBd.initGun(m.default.FIRE,n),o.timeUse>0){var i=this.gunFishBd.stateGun;i instanceof S.default&&i.unLock()}}else e==W.default.BOOM_NGUYEN_TU?this.dromBoom(n):e==W.default.DINH_BA?this.dromDinhBa(n):e==W.default.MAT_THAN&&this.dropMatThan(n,t.get("custom").get("maxMn"),t.get("custom").get("cur"),t.get("MnG"));else o.excuted()},e.prototype.getCanTarget=function(){return this.gunFishBd.stateGun.type==m.default.NORMAL||this.gunFishBd.stateGun.type==m.default.FIRE||this.gunFishBd.stateGun.type==m.default.SET},e.prototype.getCanAuto=function(){return!this.isItemTarget&&this.getCanTarget()},e.prototype.removeItemDrag=function(t){for(var e=0,n=this.listItemDrag.length;e<n;e++)if(this.listItemDrag[e].id==t){this.listItemDrag.splice(e,1);break}},e.prototype.usingItemDrag=function(t,e){var n=this.getItemDrag(t);if(null!=n){var o=n.type;if(n.using(),o==W.default.LAZE){var i=e.get("PointX"),r=e.get("PointY"),s=cc.v2(i,r);d.Windown.FishBongDem.convertVec(s),this.gunFishBd.rotate(s),this.atack()}else if(o==W.default.SONG_AM)i=e.get("PointX"),r=e.get("PointY"),s=cc.v2(i,r),d.Windown.FishBongDem.convertVec(s),this.gunFishBd.rotate(s),this.atack();else if(o==W.default.MUI_KHOAN)i=e.get("PointX"),r=e.get("PointY"),s=cc.v2(i,r),d.Windown.FishBongDem.convertVec(s),this.gunFishBd.rotate(s),this.atack();else if(o==W.default.GUN_FIRE){var a=this.gunFishBd.stateGun;a instanceof S.default&&a.unLock()}else o==W.default.BOOM_NGUYEN_TU||W.default.MAT_THAN}},e.prototype.creatItemDrag=function(t,e){return new b.default(this,t,e)},e.prototype.getItemDrag=function(t){for(var e=0,n=this.listItemDrag;e<n.length;e++){var o=n[e];if(o.id==t)return o}return null},e.prototype.updateItem=function(t){this.timeItemTarget=t.getFloat("TimeItemTarget")-d.Windown.LagValue,this.timeItemSpeed=t.getFloat("TimeItemSpeed")-d.Windown.LagValue,this.timeItemIce=t.getFloat("TimeItemIce")-d.Windown.LagValue,this.timeItemTrieuHoi=t.getFloat("TimeItemTrieuHoi")-d.Windown.LagValue},e.prototype.cancleGun=function(){this.gunFishBd.cancleAtack()},e.prototype.changeIndexMoneyGun=function(t){this.indexMoneyGun=t,this.gunFishBd.setMoneyGun(t),this.isMe&&(this.updateItemLevel(t),d.Windown.FishBongDem.emitNewIndexJp())},e.prototype.changeGun=function(t){this.currentGunId=t,this.gunFishBd.initGun(this.currentGunId)},e.prototype.setName=function(t){this.lbName.string=t},e.prototype.setAva=function(t){d.Windown.updateAvatar(t,this.spAva)},e.prototype.pushDelay=function(t){this.listDelayMoney.push(t),this.isMe&&d.Windown.MoneyUser.pushDelayMoney(l.default.BongDem,this.moneyCache,t)},e.prototype.addGold=function(t){if(0!=t){this.gold+=t,this.lbGold.setMoneyNoTime(this.gold),this.lbGold.node.stopAllActions(),this.lbGold.node.scale=1.6,this.lbGold.node.runAction(cc.scaleTo(.2,1));var e=d.Windown.FishBongDem.pool.getTextMoneyMini(this.isMe);this.playerSiting<3?e.setPosition(this.posMoneyMini.x,this.posMoneyMini.y+30):e.setPosition(this.posMoneyMini.x,this.posMoneyMini.y-120),e.parent=d.Windown.FishBongDem.fishBDView.parentEffect,e.opacity=255,e.scale=0,e.stopAllActions(),e.getComponent(cc.Label).string="+"+t;var n=cc.scaleTo(.1,1).easing(cc.easeBackOut()),o=cc.delayTime(.2),i=cc.spawn(cc.fadeTo(.1,150),cc.scaleTo(.2,.8)),r=cc.moveBy(1,0,80),s=cc.callFunc(function(){d.Windown.FishBongDem.pool.putTextMoneyMini(e)});e.runAction(cc.sequence(cc.spawn(r,cc.sequence(n,o,i)),s)),this.checkAndFixedMoney(t)}else this.checkAndFixedMoney(t)},e.prototype.checkAndFixedMoney=function(t){this.listDelayMoney.pop(),this.isMe&&(d.Windown.MoneyUser.pushDelayMoney(l.default.BongDem,this.moneyCache,-t),d.Windown.MoneyUser.updateMoney()),this.listDelayMoney.length<1&&(this.setGold(this.moneyCache),this.isMe&&d.Windown.MoneyUser.removeDelay(l.default.BongDem))},e.prototype.subGold=function(t,e){this.gold-=t,this.gold<0&&(this.gold=0),this.lbGold.setMoneyNoTime(this.gold),this.moneyCache=e,this.isMe?d.Windown.MoneyUser.subMoney(t,d.Windown.MoneyUser.moneyCache-t):this.listDelayMoney.length<1&&this.setGold(this.moneyCache)},e.prototype.setGold=function(t){this.gold!=t&&(this.gold=t,this.lbGold.setMoneyNoTime(this.gold))},e.prototype.setLevel=function(t){this.lbLevel.string=t},e.prototype.setExp=function(t){this.spProgressLevel.fillRange=t},e.prototype.onClickAva=function(){d.Windown.UIManager.showLoading();var t=u.ConectManager.getIns().getSFSObj();t.putInt("Id",this.acountId),u.ConectManager.getIns().sendRequest(c.REQUEST_CODE.GetInfo,t)},e.prototype.getPosCoin=function(){return this.posBoxCoin},e.prototype.startTarget=function(){this.isItemTarget=!0},e.prototype.setEffect=function(t,e){for(var n=null,o=0,i=this.listPlayerEffect;o<i.length;o++){var r=i[o];if(r.type==t)return void((n=r).time=e)}if(null==n){var s=d.Windown.FishBongDem.pool.getEffectPlayer(t);switch(t){case I.default.ICE:n=s.getComponent(_.default),this.isItemIce=!0;break;case I.default.SPEED:n=s.getComponent(C.default),this.isItemSpeed=!0;break;case I.default.TARGET:n=s.getComponent(T.default),this.isItemTarget=!0;break;case I.default.AUTO:n=s.getComponent(w.default),this.isItemAuto=!0}}n&&(this.listPlayerEffect.push(n),n.initPlayer(this,e,t),n.excuted())},e.prototype.forceEndEffect=function(t){for(var e=0,n=this.listPlayerEffect;e<n.length;e++){var o=n[e];if(o.type==t)return void o.end()}},e.prototype.getPlayerEffect=function(t){for(var e=0,n=this.listPlayerEffect;e<n.length;e++){var o=n[e];if(o.type==t)return o}return null},e.prototype.endEffect=function(t){switch(t){case I.default.ICE:this.isItemIce=!1,this.timeItemIce=0;break;case I.default.SPEED:this.isItemSpeed=!1,this.timeItemSpeed=0;break;case I.default.TARGET:this.isItemTarget=!1,this.timeItemTarget=0;break;case I.default.AUTO:this.isItemAuto=!1,this.timeItemAuto=0}for(var e=0,n=this.listPlayerEffect.length;e<n;e++)if(this.listPlayerEffect[e].type==t){this.listPlayerEffect.splice(e,1);break}},e.prototype.backToCurrentGun=function(){this.gunFishBd.initGun(this.currentGunId)},e.prototype.update=function(t){t*=cc.director.getScheduler().getTimeScale(),this.gunFishBd.updateCp(t),this.listItemDrag.forEach(function(e){e.update(t)}),this.timeItemTarget>0&&(this.timeItemTarget-=t,this.isItemTarget||this.setEffect(I.default.TARGET,this.timeItemTarget)),this.timeItemSpeed>0&&(this.timeItemSpeed-=t,this.isItemSpeed||this.setEffect(I.default.SPEED,this.timeItemSpeed)),this.timeItemIce>0&&(this.timeItemIce-=t,this.isItemIce||this.setEffect(I.default.ICE,this.timeItemIce),this.isItemIce=!0),this.timeItemAuto>0&&(this.timeItemAuto-=t,this.isItemAuto||this.setEffect(I.default.AUTO,this.timeItemAuto),this.isItemAuto=!0),this.timeItemTrieuHoi>0&&(this.timeItemTrieuHoi-=t)},r([k(h.default)],e.prototype,"lbGold",void 0),r([k(cc.Label)],e.prototype,"lbName",void 0),r([k(cc.Label)],e.prototype,"lbLevel",void 0),r([k(cc.Label)],e.prototype,"lbTimeCD",void 0),r([k(cc.Sprite)],e.prototype,"spAva",void 0),r([k(g.default)],e.prototype,"gunFishBd",void 0),r([k(cc.Sprite)],e.prototype,"spProgressLevel",void 0),r([k([cc.SpriteFrame])],e.prototype,"sfBgPlayer",void 0),r([k(cc.Node)],e.prototype,"parentPanel",void 0),r([k([p.default])],e.prototype,"listitemLevel",void 0),r([P],e)}(cc.Component);n.default=F,cc._RF.pop()},{"../../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Obs/ItemLevelController":"ItemLevelController","../../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../../Scritps/Windown":"Windown","../Boom/DinhBa":"DinhBa","../Boom/DropBoom":"DropBoom","../Gun/GUN_TYPE_BD":"GUN_TYPE_BD","../Gun/GunFishBD":"GunFishBD","../Gun/MatThan":"MatThan","../Gun/StateGunFire":"StateGunFire","./BaseItemDrag":"BaseItemDrag","./Effect/PlayerUsingAuto":"PlayerUsingAuto","./Effect/PlayerUsingIce":"PlayerUsingIce","./Effect/PlayerUsingSpeed":"PlayerUsingSpeed","./Effect/PlayerUsingTarget":"PlayerUsingTarget","./Effect/TypePlayerEffectBD":"TypePlayerEffectBD","./TypeItemDragBD":"TypeItemDragBD"}],BaseScrollView:[function(t,e,n){"use strict";cc._RF.push(e,"65d20PGXAxEpZqR+kJ25zRs","BaseScrollView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc.Enum({NODE:1,PREFAB:2}),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateType=s.PREFAB,e.itemTemplateNode=null,e.itemTemplate=null,e.nameComponentItem="",e.funtionSetInfo="initItem",e.scrollView=null,e.spawnCount=5,e.spacing=0,e.isViewBottomFirt=!1,e.items=[],e._listInfo=[],e.content=null,e._sumHeight=0,e._isStateWatting=!1,e._init=!1,e.updateTimer=0,e.updateInterval=.05,e.lastContentPosY=0,e.bufferZone=0,e.itemPool=null,e.firtHeight=0,e.totalCount=0,e}return i(e,t),e.prototype.onLoad=function(){this._init=!0,this.scrollView=this.getComponent(cc.ScrollView),this.content=this.scrollView.content,this.items=[],this.updateTimer=0,this.updateInterval=.05,this.lastContentPosY=0,this._sumHeight=0,this.bufferZone=0,this.itemPool=new cc.NodePool,this.itemTemplate=this.templateType==s.PREFAB?this.itemTemplate:this.itemTemplateNode},e.prototype.getItemPool=function(){if(this.itemPool.size()>0)return this.itemPool.get();var t=cc.instantiate(this.itemTemplate);return t.active=!0,t},e.prototype.resetScr=function(){if(this._init){for(var t=this.content.childrenCount,e=this.content.children,n=0;n<t;n++)this.itemPool.put(e[0]);this.items.length=0,this._listInfo=[]}},e.prototype.init=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),n=this.getItemPool().height,e=t.length*n,this.items.length=0;var o=t.length;this._listInfo=t;var i=0;o>0&&(i=this._listInfo[0].height||n),this.firtHeight=i;var r=this.spawnCount;r=r<o?r:o,this.bufferZone=this.scrollView.node.height/2+i,this.totalCount=o,this._sumHeight=0;var s=this.totalCount*this.spacing-this.spacing+e;this.content.height=s;var a=this.content;if(this.isViewBottomFirt){this._isStateWatting=!1;var c=s-this.scrollView.node.height/2;c>0&&(a.y=c);var l=o-r;l<0&&(l=0);for(var u=null,p=null,h=o-1;h>=l;h--){var d=this._listInfo[h],f=this.getItemPool();a.insertChild(f,0),(y=f.getComponent(this.nameComponentItem)).itemID=h,y[this.funtionSetInfo](d),this.items.push(f),h==o-1?f.setPosition(0,f.height/2-s):f.setPosition(0,p+u/2+f.height/2+this.spacing),u=f.height,p=f.y,this._sumHeight+=f.height+this.spacing}}else for(this._isStateWatting=!0,u=null,p=null,a.y=this.scrollView.node.height/2,h=0;h<r;++h){var y;d=this._listInfo[h],f=this.getItemPool(),a.addChild(f),(y=f.getComponent(this.nameComponentItem)).itemID=h,y[this.funtionSetInfo](d),this.items.push(f),0==h?f.setPosition(0,-f.height/2):f.setPosition(0,p-u/2-f.height/2-this.spacing),u=f.height,p=f.y,this._sumHeight+=f.height+this.spacing}},e.prototype.getPositionInView=function(t){var e=t.parent.convertToWorldSpaceAR(t.position);return this.scrollView.node.convertToNodeSpaceAR(e)},e.prototype.update=function(t){if(this.updateTimer+=t,!(this.updateTimer<this.updateInterval)){this.updateTimer=0;var e=this.items,n=this.bufferZone,o=this.content.y<this.lastContentPosY,i=this._sumHeight,r=this.content.height;this.content.y>=r-this.scrollView.node.height/2-10?this._isStateWatting=!1:this._isStateWatting=!0;for(var s=0;s<e.length;++s){var a=this.getPositionInView(e[s]);if(o){if(a.y<-n&&e[s].y+i<0){var c=this.content.children[0];if((u=c.getComponent(this.nameComponentItem).itemID)>0){e[s].setSiblingIndex(0),this._sumHeight-=e[s].height;var l=u-1;(p=e[s].getComponent(this.nameComponentItem)).itemID=l,p[this.funtionSetInfo](this._listInfo[l]),e[s].y=c.y+c.height/2+e[s].height/2+this.spacing,this._sumHeight+=e[s].height}}}else if(a.y>n&&e[s].y-i>-r){var u,p,h=this.content.children[this.content.childrenCount-1];if((u=h.getComponent(this.nameComponentItem).itemID)<this.totalCount-1)e[s].setSiblingIndex(this.content.childrenCount-1),this._sumHeight-=e[s].height,l=u+1,(p=e[s].getComponent(this.nameComponentItem)).itemID=l,p[this.funtionSetInfo](this._listInfo[l]),e[s].y=h.y-h.height/2-e[s].height/2-this.spacing,this._sumHeight+=e[s].height}}this.lastContentPosY=this.scrollView.content.y}},e.prototype.addItem=function(t){var e;if(e=null!=t.height?t.height:this.firtHeight,this._listInfo.push(t),this.content.height+=e+this.spacing,this.totalCount+=1,!this._isStateWatting){var n=null,o=this.content.children[this.content.childrenCount-1];if(this.content.childrenCount<this.spawnCount?(n=this.getItemPool(),this.content.addChild(n)):n=this.content.children[0],null==o){var i=0;n.setSiblingIndex(this.content.childrenCount-1),this._sumHeight-=n.height;var r=i+1;(s=n.getComponent(this.nameComponentItem)).itemID=r,s[this.funtionSetInfo](t),n.y=-n.height/2,this._sumHeight+=n.height}else{var s;i=o.getComponent(this.nameComponentItem).itemID,n.setSiblingIndex(this.content.childrenCount-1),this._sumHeight-=n.height,r=i+1,(s=n.getComponent(this.nameComponentItem)).itemID=r,s[this.funtionSetInfo](t),n.y=o.y-o.height/2-n.height/2-this.spacing,this._sumHeight+=n.height}this.scrollView.stopAutoScroll(),this.scrollView.scrollToBottom(.2)}},e.prototype.updateAllItemInView=function(){for(var t=this.getListItemCpInView(),e=0,n=t.length;e<n;e++){var o=t[e],i=this._listInfo[o.itemID];o[this.funtionSetInfo](i)}},e.prototype.getListItemCpInView=function(){return this.content.getComponentsInChildren(this.nameComponentItem)},e.prototype.addListItem=function(t,e){var n=t.length;this.content.height+=this.spacing*n+e,this.totalCount+=n,this._listInfo=this._listInfo.concat(t)},e.prototype.getItemAtBottom=function(){for(var t=this.items[0],e=1;e<this.items.length;++e)t.y>this.items[e].y&&(t=this.items[e]);return t},e.prototype.scrollToFixedPosition=function(){this.scrollView.scrollToOffset(cc.v2(0,500),2)},e.prototype.onDestroy=function(){this.itemPool.clear()},r([l({type:s})],e.prototype,"templateType",void 0),r([l({type:cc.Node,visible:function(){var t=this.templateType==s.NODE;return t||(this.tmpNode=null),t}})],e.prototype,"itemTemplateNode",void 0),r([l({type:cc.Prefab,visible:function(){var t=this.templateType==s.PREFAB;return t||(this.tmpPrefab=null),t}})],e.prototype,"itemTemplate",void 0),r([l(cc.String)],e.prototype,"nameComponentItem",void 0),r([l(cc.String)],e.prototype,"funtionSetInfo",void 0),r([l(cc.Integer)],e.prototype,"spawnCount",void 0),r([l(cc.Integer)],e.prototype,"spacing",void 0),r([l(cc.Boolean)],e.prototype,"isViewBottomFirt",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],BaseStateGunBD:[function(t,e,n){"use strict";cc._RF.push(e,"f5763ypNBBOuY6KXh7jNeVw","BaseStateGunBD"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../DeadBevhavior/PanelPoint"),i=function(){function t(t,e){this.type=0,this.gunBD=null,this.indexMoneyGun=null,this.idFishTarget=-1,this.indexColider=-1,this.timeDelay=0,this.timeUpdate=0,this.speedBullet=1e3,this.idGunNow=-1,this.gunBD=t,this.type=e}return t.prototype.removeNodePanel=function(){var t=this.gunBD.playerBD.mapNodePanel.get(this.idGunNow);null!=t&&t.getComponent(o.default).end()},t}();n.default=i,cc._RF.pop()},{"../DeadBevhavior/PanelPoint":"PanelPoint"}],BaseStateNap:[function(t,e,n){"use strict";cc._RF.push(e,"595c9YW76ZFF5wbRn2zC1ak","BaseStateNap"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(t){this.napView=null,this.napView=t},cc._RF.pop()},{}],BaseState:[function(t,e,n){"use strict";cc._RF.push(e,"4d8a5pxCdVL1o/9t0n6f6Rr","BaseState"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t){this.type=t}return t.prototype.initGameController=function(t){this.xengController=t},t}();n.default=o,cc._RF.pop()},{}],BatDrag:[function(t,e,n){"use strict";cc._RF.push(e,"3821fZWQd1CqISYlOJC1cC9","BatDrag");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isTouch=!1,e._v2OffsetChange=null,e._isOpenBat=!1,e.updateTimer=0,e.updateInterval=0,e.isNan=!0,e.vecStart=null,e}return i(e,t),e.prototype.onLoad=function(){this.updateInterval=.2,this.updateTimer=0,this.vecStart=this.node.getPosition()},e.prototype.startGame=function(){this.reset(),this.getComponent(cc.Animation).play("EffectDongBat")},e.prototype.reset=function(){this.node.opacity=255,this.node.setPosition(this.vecStart),this.getComponent(cc.Animation).stop()},e.prototype.setIsNan=function(t){this.isNan=t},e.prototype.handleFinish=function(){this.isNan?this.canDrag():(this._isTouch=!1,this.openBat())},e.prototype.checkOpenBat=function(){this._isOpenBat||(this.offDrag(),this.node.getPosition().subSelf(this.vecStart).mag()<5?(this.openBat(),cc.log("nhay vao openBat")):(cc.log("nhay vao forceOpenbat"),this.forceOpenbat()))},e.prototype.canDrag=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this._isOpenBat=!1},e.prototype.touchStart=function(t){var e=cc.v2(t.getLocation()),n=this.node.parent.convertToNodeSpaceAR(e);this._v2OffsetChange=this.node.getPosition().subSelf(n),this._isTouch=!0,t.stopPropagation()},e.prototype.touchMove=function(t){if(this._isTouch){var e=cc.v2(t.getLocation()),n=this.node.parent.convertToNodeSpaceAR(e);this.node.setPosition(n.add(this._v2OffsetChange))}t.stopPropagation()},e.prototype.touchEnd=function(t){this._isTouch=!1,t.stopPropagation()},e.prototype.update=function(t){this._isOpenBat||(this.updateTimer+=t,this.updateTimer<this.updateInterval||(this.updateTimer=0,this.node.getPosition().subSelf(this.vecStart).mag()>170&&(this._isOpenBat=!0,this.offDrag(),s.Windown.TaiXiu.handleFinish())))},e.prototype.offDrag=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this),this.node.off(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.runAction(cc.fadeOut(.4)),this._isOpenBat=!0},e.prototype.openBat=function(){this._isTouch||this.node.runAction(cc.moveTo(1,cc.v2(-7,-1486))),s.Windown.TaiXiu&&s.Windown.TaiXiu.handleFinish(),this._isOpenBat=!0},e.prototype.forceOpenbat=function(){if(s.Windown.TaiXiu){s.Windown.TaiXiu.handleFinish();var t=this.node.getPosition().subSelf(this.vecStart);t.normalizeSelf().mulSelf(1e3),this.node.runAction(cc.moveTo(.3,t))}},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],BhvButtonGroup:[function(t,e,n){"use strict";cc._RF.push(e,"478974WiLROooVAdyAvLtPW","BhvButtonGroup");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s,a=cc._decorator,c=a.ccclass,l=a.property,u=a.menu;(function(t){t[t.CHILDREN_INDEX=0]="CHILDREN_INDEX",t[t.CHILDREN_NAME=1]="CHILDREN_NAME"})(s||(s={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.transition=cc.Button.Transition.NONE,e.hoverColor=cc.color(255,255,255),e.normalColor=cc.color(214,214,214),e.pressedColor=cc.color(211,211,211),e.disabledColor=cc.color(124,124,124),e.normalSprite=null,e.pressedSprite=null,e.hoverSprite=null,e.disabledSprite=null,e.duration=1,e.zoomScale=1.1,e.paramType=s.CHILDREN_INDEX,e.touchEvents=[],e}return i(e,t),e.prototype.onLoad=function(){var t=this;console.log("nhay vao onload ne"),this.node.children.forEach(function(e,n){var o=e.getComponent(cc.Button);o||(o=e.addComponent(cc.Button)),o.target=e,o.transition=t.transition,o.zoomScale=t.zoomScale,o.disabledSprite=t.disabledSprite,o.hoverSprite=t.hoverSprite,o.normalSprite=t.normalSprite,o.pressedSprite=t.pressedSprite,o.hoverColor=t.hoverColor,o.normalColor=t.normalColor,o.pressedColor=t.pressedColor,o.disabledColor=t.disabledColor,t.touchEvents.forEach(function(i){var r=new cc.Component.EventHandler;r.target=i.target,r.handler=i.handler,r.component=i.component,r._componentId=i._componentId,t.paramType===s.CHILDREN_INDEX?r.customEventData=n.toString():r.customEventData=e.name,o.clickEvents.push(r)})})},r([l({type:cc.Enum(cc.Button.Transition)})],e.prototype,"transition",void 0),r([l({visible:function(){return this.transition===cc.Button.Transition.COLOR}})],e.prototype,"hoverColor",void 0),r([l({visible:function(){return this.transition===cc.Button.Transition.COLOR}})],e.prototype,"normalColor",void 0),r([l({visible:function(){return this.transition===cc.Button.Transition.COLOR}})],e.prototype,"pressedColor",void 0),r([l({visible:function(){return this.transition===cc.Button.Transition.COLOR}})],e.prototype,"disabledColor",void 0),r([l({type:cc.SpriteFrame,visible:function(){return this.transition===cc.Button.Transition.SPRITE}})],e.prototype,"normalSprite",void 0),r([l({type:cc.SpriteFrame,visible:function(){return this.transition===cc.Button.Transition.SPRITE}})],e.prototype,"pressedSprite",void 0),r([l({type:cc.SpriteFrame,visible:function(){return this.transition===cc.Button.Transition.SPRITE}})],e.prototype,"hoverSprite",void 0),r([l({type:cc.SpriteFrame,visible:function(){return this.transition===cc.Button.Transition.SPRITE}})],e.prototype,"disabledSprite",void 0),r([l({visible:function(){return this.transition===cc.Button.Transition.SCALE||this.transition===cc.Button.Transition.COLOR}})],e.prototype,"duration",void 0),r([l({visible:function(){return this.transition===cc.Button.Transition.SCALE}})],e.prototype,"zoomScale",void 0),r([l({type:cc.Enum(s)})],e.prototype,"paramType",void 0),r([l([cc.Component.EventHandler])],e.prototype,"touchEvents",void 0),r([c,u("BHV/Input/Button Group(\u4e00\u7ec4\u6309\u94ae\u63a7\u5236)")],e)}(cc.Component);n.default=p,cc._RF.pop()},{}],BhvFrameIndex:[function(t,e,n){"use strict";cc._RF.push(e,"8d8e0a/sBZG2KBfyST2hRLo","BhvFrameIndex");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=s.executeInEditMode,u=s.requireComponent,p=s.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteFrames=[null],e.changeEvents=[],e._index=0,e}return i(e,t),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},set:function(t){if(!(t<0)){this._index=t%this.spriteFrames.length;var e=this.node.getComponent(cc.Sprite);e.spriteFrame!=this.spriteFrames[this._index]&&this.changeEvents.forEach(function(t){t.emit([])}),e.spriteFrame=this.spriteFrames[this._index]}},enumerable:!1,configurable:!0}),e.prototype.setName=function(t){var e=this.spriteFrames.findIndex(function(e){return e.name==t});e<0&&cc.error("frameIndex \u0111\u1eb7t kh\xf4ng t\u1ed3n t\u1ea1iname:",t),this.index=e||0},e.prototype.random=function(t,e){if(this.spriteFrames){var n=this.spriteFrames.length;(null==t||t<0)&&(t=0),(null==e||e>n)&&(e=n),this.index=Math.floor(Math.random()*(e-t)+t)}},e.prototype.next=function(){this.index++},e.prototype.previous=function(){this.index--},r([c({type:[cc.SpriteFrame],tooltip:"sprite h\xecnh \u1ea3nh khung s\u1ebd \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng"})],e.prototype,"spriteFrames",void 0),r([c({type:[cc.Component.EventHandler],tooltip:"Event change spriteFrame if dif old sprite frame"})],e.prototype,"changeEvents",void 0),r([c({tooltip:"khung hi\u1ec7n \u0111ang hi\u1ec3n th\u1ecb",type:cc.Integer})],e.prototype,"index",null),r([c],e.prototype,"_index",void 0),r([a,l,u(cc.Sprite),p("BHV/UI/Frame Index(\u5e27\u56fe\u6539\u53d8)")],e)}(cc.Component);n.default=h,cc._RF.pop()},{}],BhvRollNumber:[function(t,e,n){"use strict";cc._RF.push(e,"c0c3abOOmVM8Z9659VAp1Vo","BhvRollNumber");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s,a=cc._decorator,c=a.ccclass,l=a.property,u=a.menu;(function(t){t[t.INTEGER=0]="INTEGER",t[t.FIXED_2=1]="FIXED_2",t[t.TIMER=2]="TIMER",t[t.PERCENTAGE=3]="PERCENTAGE",t[t.KMBT_FIXED2=4]="KMBT_FIXED2",t[t.CUSTOMER=5]="CUSTOMER"})(s||(s={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.value=0,e.showPlusSymbol=!1,e._targetValue=100,e.lerp=.1,e.playAtStart=!0,e.runWaitTimer=0,e.valueType=s.INTEGER,e._custom_callback=null,e.isScrolling=!1,e._lastLabelText="",e}return i(e,t),Object.defineProperty(e.prototype,"targetValue",{get:function(){return this._targetValue},set:function(t){this._targetValue=t,this.scroll()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){null==this.label&&(this.label=this.node.getComponent(cc.Label)),this.playAtStart&&(this.updateLabel(),this.scroll())},e.prototype.scroll=function(){var t=this;this.isScrolling||(this.runWaitTimer>0?this.scheduleOnce(function(){t.isScrolling=!0},this.runWaitTimer):this.isScrolling=!0)},e.prototype.stop=function(){this.value=this.targetValue,this.isScrolling=!1,this.updateLabel()},e.prototype.init=function(t,e,n){this.targetValue=e||0,this.value=t||0,this.lerp=n||.1},e.prototype.scrollTo=function(t){null!=t&&(this.targetValue=t)},e.prototype.updateLabel=function(){var t=this.value,e="";switch(this.valueType){case s.INTEGER:e=Math.round(t)+"";break;case s.FIXED_2:e=t.toFixed(2);break;case s.TIMER:e=h(t);break;case s.PERCENTAGE:e=Math.round(100*t)+"%";break;case s.KMBT_FIXED2:e=t>=Number.MAX_VALUE?"MAX":t>1e12?(t/1e12).toFixed(2)+"T":t>1e9?(t/1e9).toFixed(2)+"B":t>1e6?(t/1e6).toFixed(2)+"M":t>1e3?(t/1e3).toFixed(2)+"K":Math.round(t).toString();break;case s.CUSTOMER:this._custom_callback&&(e=this._custom_callback(this.value,this.targetValue))}if(this.showPlusSymbol&&(t>0?e="+"+e:t<0&&(e="-"+e)),this.label){if(e===this.label.string)return;this.label.string=e}},e.prototype.update=function(){if(0!=this.isScrolling)return this.value=cc.misc.lerp(this.value,this.targetValue,this.lerp),this.updateLabel(),Math.abs(this.value-this.targetValue)<=1e-4?(this.value=this.targetValue,void(this.isScrolling=!1)):void 0},r([l({type:cc.Label,tooltip:"C\u1ea7n cu\u1ed9n Label Th\xe0nh ph\u1ea7n, n\u1ebfu kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1eb7t, n\xf3 s\u1ebd t\u1ef1 \u0111\u1ed9ng \u0111\u01b0\u1ee3c t\xecm ki\u1ebfm t\u1eeb n\xfat ri\xeang c\u1ee7a n\xf3"})],e.prototype,"label",void 0),r([l({tooltip:"Gi\xe1 tr\u1ecb cu\u1ed9n hi\u1ec7n t\u1ea1i (gi\xe1 tr\u1ecb cu\u1ed9n b\u1eaft \u0111\u1ea7u)"})],e.prototype,"value",void 0),r([l({tooltip:"C\xf3 hi\u1ec3n th\u1ecb c\xe1c bi\u1ec3u t\u01b0\u1ee3ng t\xedch c\u1ef1c v\xe0 ti\xeau c\u1ef1c hay kh\xf4ng"})],e.prototype,"showPlusSymbol",void 0),r([l({tooltip:"gi\xe1 tr\u1ecb m\u1ee5c ti\xeau l\u0103n"})],e.prototype,"targetValue",null),r([l],e.prototype,"_targetValue",void 0),r([l({tooltip:"s\u1ef1 kh\xe1c bi\u1ec7t tuy\u1ebfn t\xednh l\u0103n",step:.01,max:1,min:0})],e.prototype,"lerp",void 0),r([l({tooltip:"c\xf3 n\xean ch\u01a1i ngay t\u1eeb \u0111\u1ea7u kh\xf4ng"})],e.prototype,"playAtStart",void 0),r([l({tooltip:"s\u1ebd \u0111\u1ee3i v\xe0i gi\xe2y tr\u01b0\u1edbc khi cu\u1ed9n",step:.1,max:1,min:0})],e.prototype,"runWaitTimer",void 0),r([l({type:cc.Enum(s),tooltip:"c\xf3 n\xean ch\u01a1i ngay t\u1eeb \u0111\u1ea7u kh\xf4ng"})],e.prototype,"valueType",void 0),r([c,u("BHV/UI/Roll Number")],e)}(cc.Component);function h(t,e){void 0===t&&(t=0),void 0===e&&(e=!0);var n=Math.floor(t),o=Math.floor(n/3600),i=Math.floor(n%3600/60),r=n%60,s=""+i,a=""+r;return r<10&&(a="0"+r),e?(i<10&&(s="0"+i),o+":"+s+":"+a):(s=""+(i+60*o),i<10&&(s="0"+i),s+":"+a)}n.default=p,cc._RF.pop()},{}],BhvSwitchPage:[function(t,e,n){"use strict";cc._RF.push(e,"2a010mi2MNG5Yy50Gu8rA3G","BhvSwitchPage");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=s.executeInEditMode,u=s.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLoopPage=!1,e._index=0,e.preIndex=0,e._isChanging=!1,e}return i(e,t),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},set:function(t){if(!this.isChanging){t=Math.round(t);var e=this.node.childrenCount-1;this.isLoopPage?(t>e&&(t=0),t<0&&(t=e)):(t>e&&(t=e),t<0&&(t=0)),this.preIndex=this._index,this._index=t,this._updatePage(t)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isChanging",{get:function(){return this._isChanging},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.preIndex=this.index},e.prototype._updateEditorPage=function(){},e.prototype._updatePage=function(){var t=this.node.children,e=this.preIndex,n=this.index;if(e!==n){var o=t[e],i=t[n];o.active=!1,i.active=!0}},e.prototype.next=function(){return!this.isChanging&&(this.index++,!0)},e.prototype.previous=function(){return!this.isChanging&&(this.index--,!0)},e.prototype.setEventIndex=function(t,e){return this.index>=0&&null!=this.index&&!1===this.isChanging&&(this.index=e,!0)},r([c],e.prototype,"isLoopPage",void 0),r([c],e.prototype,"_index",void 0),r([c({type:cc.Integer})],e.prototype,"index",null),r([a,l,u("BHV/UI/Switch Page (\u5207\u6362\u9875\u9762)")],e)}(cc.Component);n.default=p,cc._RF.pop()},{}],BigWinCaiShen:[function(t,e,n){"use strict";cc._RF.push(e,"ed905nILIdAx47oqlinLTaU","BigWinCaiShen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.BigWinCaishen=void 0;var c=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Game/GAME_TYPE"),u=t("../../../Scritps/DefineTs/REQUEST_CODE"),p=t("../../../Scritps/Windown"),h=t("../../../Scritps/Util"),d=t("../../../Scritps/Network/ConectManager"),f=cc._decorator,y=f.ccclass,g=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bigWin=null,e.megaWin=null,e.superWin=null,e.coinTemp=null,e.coinParent=null,e.lb_Money=null,e.btnFast=null,e.chipPool=null,e.listPromiseIgro=[],e.isClickBtnFast=!1,e}return i(e,t),e.prototype.init=function(t,e){var n=this;return this.bigWin.node.active=!1,this.megaWin.node.active=!1,this.superWin.node.active=!1,new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s,c,f,y,g,m=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,7,,8]),this.btnFast.interactable=!1,this.scheduleOnce(function(){m.btnFast.interactable=!0},1),this.lb_Money.node.active=!0,this.lb_Money.node.active=!0,this.lb_Money.resetLb(),4,n=e<15?6:e<30?10:14,this.lb_Money.time=n,this.lb_Money.setMoney(t),this.bigWin.node.active=!0,this.bigWin.play("BigWinStart"),(i=this.bigWin.getComponentInChildren(sp.Skeleton)).setAnimation(0,"spawn",!1),i.setCompleteListener(function(){i.setAnimation(0,"idle",!0),i.setCompleteListener(null)}),this.bigWin.once(cc.Animation.EventType.FINISHED,function(){m.bigWin.play("BigWinLoop")}),p.Windown.Caishen.audio.playEffect(p.Windown.Caishen.audio.bgmBigwinMain),r=p.Windown.Caishen.getMakeDelay(4),this.listPromiseIgro.push(r),[4,r.prosime];case 1:return a.sent(),e>=30?(this.bigWin.node.active=!1,this.megaWin.node.active=!0,(i=this.megaWin.getComponentInChildren(sp.Skeleton)).setAnimation(0,"spawn",!1),i.setCompleteListener(function(){i.setAnimation(0,"idle",!0),i.setCompleteListener(null)}),this.megaWin.play("MegaWinStart"),this.megaWin.once(cc.Animation.EventType.FINISHED,function(){m.megaWin.play("MegaWinLoop")}),p.Windown.Caishen.audio.playEffect(p.Windown.Caishen.audio.bgmBigwinEnd),this.isClickBtnFast?[3,3]:(s=p.Windown.Caishen.getMakeDelay(4),this.listPromiseIgro.push(s),[4,s.prosime])):[3,3];case 2:a.sent(),a.label=3;case 3:return e>=50?(this.megaWin.node.active=!1,this.superWin.node.active=!0,(i=this.superWin.getComponentInChildren(sp.Skeleton)).setAnimation(0,"spawn",!1),i.setCompleteListener(function(){i.setAnimation(0,"idle",!0),i.setCompleteListener(null)}),this.superWin.play("SuperWinStart"),this.superWin.once(cc.Animation.EventType.FINISHED,function(){m.superWin.play("SuperWinLoop")}),p.Windown.Caishen.audio.playEffect(p.Windown.Caishen.audio.bgmBigwinEnd),this.isClickBtnFast?[3,5]:(s=p.Windown.Caishen.getMakeDelay(4),this.listPromiseIgro.push(s),[4,s.prosime])):[3,5];case 4:a.sent(),a.label=5;case 5:return p.Windown.Caishen.audio.stopEffect(p.Windown.Caishen.audio.bgmBigwinMain),p.Windown.Caishen.audio.playEffect(p.Windown.Caishen.audio.bgmBigwinEnd),this.lb_Money.setMoneyNoTime(t),this.lb_Money.node.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.2,1))),(c=this.node.getChildByName("bw_shine")).active=!0,cc.tween(c).set({scale:0,opacity:255}).to(.3,{scale:3.75}).to(1.5,{scale:5,opacity:0},{easing:cc.easing.sineOut}).call(function(){c.active=!1}).start(),f=p.Windown.Caishen.getMakeDelay(4),this.listPromiseIgro.push(f),this.btnFast.interactable=!0,(y=d.ConectManager.getIns().getSFSObj()).putInt("gt",l.default.Caishen),y.putInt("mt",t),y.putUtfString("nn",p.Windown.User.nickName),y.putUtfString("dt","bw"),d.ConectManager.getIns().sendRequest(u.REQUEST_CODE.AddBigWin,y),[4,f.prosime];case 6:return a.sent(),p.Windown.stopAllActionByTarget(this.node),this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){o(null),m.node.destroy()}))),[3,8];case 7:return g=a.sent(),o(null),this.node.destroy(),cc.log(g.stack),h.Util.ThrowErrProsime(g),[3,8];case 8:return[2]}})})})},e.prototype.startChipFalling=function(){var t=this,e=cc.tween(this.node).call(function(){for(var e=function(){var e=p.Windown.RandomNumber(-360,360),n=640+p.Windown.RandomNumber(50,1e3),o=p.Windown.RandomNumber(3,6),i=t.getChip(),r=p.Windown.RandomFloatNumber(.6,1.01),s=p.Windown.RandomNumber(0,360);i.setScale(r,r),i.setPosition(e,n),i.parent=t.coinParent,i.angle=s,cc.tween(i).by(o,{position:cc.v3(i.getPosition().x,-cc.view.getVisibleSize().height-i.getPosition().y,0)}).call(function(){t.chipPool.put(i)}).start()},n=0;n<20;n++)e()}),n=cc.tween(this.node).delay(2);cc.tween(this.node).sequence(e,n).repeatForever().start()},e.prototype.getChip=function(){return 0==this.chipPool.size()&&this.chipPool.put(cc.instantiate(this.coinTemp.node)),this.chipPool.get()},e.prototype.onClickBtnShowFast=function(){for(this.btnFast.interactable=!1,this.isClickBtnFast=!0;this.listPromiseIgro.length>0;)this.listPromiseIgro.shift().cancle(!0)},r([g(cc.Animation)],e.prototype,"bigWin",void 0),r([g(cc.Animation)],e.prototype,"megaWin",void 0),r([g(cc.Animation)],e.prototype,"superWin",void 0),r([g(cc.Animation)],e.prototype,"coinTemp",void 0),r([g(cc.Node)],e.prototype,"coinParent",void 0),r([g(c.default)],e.prototype,"lb_Money",void 0),r([g(cc.Button)],e.prototype,"btnFast",void 0),r([y],e)}(cc.Component);n.BigWinCaishen=m,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],BigWinDuaXe:[function(t,e,n){"use strict";cc._RF.push(e,"0fe979xx7FEZbDjGfE4jDJD","BigWinDuaXe");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.BigWinDuaXe=void 0;var c=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Windown"),u=t("../../../Scritps/Util"),p=t("../../../Scritps/Network/ConectManager"),h=t("../../../Scritps/Game/GAME_TYPE"),d=t("../../../Scritps/DefineTs/REQUEST_CODE"),f=cc._decorator,y=f.ccclass,g=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bigWin=null,e.megaWin=null,e.superWin=null,e.lb_Money=null,e.btnFast=null,e.listPromiseIgro=[],e.isClickBtnFast=!1,e}return i(e,t),e.prototype.start=function(){},e.prototype.init=function(t,e){var n=this;return new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s,c,f,y=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,8,,9]),this.node.opacity=0,this.node.runAction(cc.fadeIn(.2)),4,n=e<15?4:e<30?8:12,this.lb_Money.time=n+.5,this.lb_Money.setMoney(t,!1),this.bigWin.node.active=!0,this.megaWin.node.active=!1,this.superWin.node.active=!1,l.Windown.DuaXe.audio.playEffect(l.Windown.DuaXe.audio.bgmBigwinMain),this.bigWin.stop(),this.bigWin.play("BigWinStart"),[4,l.Windown.DuaXe.getMakeDelay(.25).prosime];case 1:return a.sent(),this.bigWin.once(cc.Animation.EventType.FINISHED,function(){y.bigWin.play("BigWinLoop")}),i=l.Windown.DuaXe.getMakeDelay(4),this.listPromiseIgro.push(i),[4,i.prosime];case 2:return a.sent(),e>=30?(this.bigWin.node.active=!1,this.megaWin.node.active=!0,this.megaWin.play("MegaWinStart"),this.megaWin.once(cc.Animation.EventType.FINISHED,function(){y.megaWin.play("MegaWinLoop")}),l.Windown.DuaXe.audio.playEffect(l.Windown.DuaXe.audio.bgmBigwinEnd),this.isClickBtnFast?[3,4]:(r=l.Windown.DuaXe.getMakeDelay(4),this.listPromiseIgro.push(r),[4,r.prosime])):[3,4];case 3:a.sent(),a.label=4;case 4:return e>=50?(this.megaWin.node.active=!1,this.superWin.node.active=!0,this.superWin.play("SuperWinShow"),this.superWin.once(cc.Animation.EventType.FINISHED,function(){y.superWin.play("SuperWinLoop")}),l.Windown.DuaXe.audio.playEffect(l.Windown.DuaXe.audio.bgmBigwinEnd),this.isClickBtnFast?[3,6]:(r=l.Windown.DuaXe.getMakeDelay(4),this.listPromiseIgro.push(r),[4,r.prosime])):[3,6];case 5:a.sent(),a.label=6;case 6:return l.Windown.DuaXe.audio.stopEffect(l.Windown.DuaXe.audio.bgmBigwinMain),l.Windown.DuaXe.audio.playEffect(l.Windown.DuaXe.audio.bgmBigwinEnd),this.lb_Money.setMoneyNoTime(t,!1),this.lb_Money.node.runAction(cc.sequence(cc.scaleTo(.2,1.05),cc.scaleTo(.2,.9))),s=l.Windown.DuaXe.getMakeDelay(4),this.listPromiseIgro.push(s),this.btnFast.interactable=!0,(c=p.ConectManager.getIns().getSFSObj()).putInt("gt",h.default.DuaXe),c.putInt("mt",t),c.putUtfString("nn",l.Windown.User.nickName),c.putUtfString("dt","bw"),p.ConectManager.getIns().sendRequest(d.REQUEST_CODE.AddBigWin,c),[4,s.prosime];case 7:return a.sent(),l.Windown.stopAllActionByTarget(this.node),this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){o(null),y.node.destroy()}))),[3,9];case 8:return f=a.sent(),o(null),this.node.destroy(),cc.log(f.stack),u.Util.ThrowErrProsime(f),[3,9];case 9:return[2]}})})})},e.prototype.onClickBtnShowFast=function(){for(this.btnFast.interactable=!1,this.isClickBtnFast=!0;this.listPromiseIgro.length>0;)this.listPromiseIgro.shift().cancle(!0)},r([g(cc.Animation)],e.prototype,"bigWin",void 0),r([g(cc.Animation)],e.prototype,"megaWin",void 0),r([g(cc.Animation)],e.prototype,"superWin",void 0),r([g(c.default)],e.prototype,"lb_Money",void 0),r([g(cc.Button)],e.prototype,"btnFast",void 0),r([y],e)}(cc.Component);n.BigWinDuaXe=m,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],BigWinLobbyView:[function(t,e,n){"use strict";cc._RF.push(e,"8d17cAOQTFAIKFnPBX225tx","BigWinLobbyView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../Windown"),a=t("./ItemBigWin"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.isRunAction=!1,e.pool=new cc.NodePool,e}return i(e,t),e.prototype.start=function(){s.Windown.BigWinLobby.bigWinView=this,this.scheduleOnce(this.updateView,.5)},e.prototype.onDestroy=function(){this.pool.clear(),s.Windown.BigWinLobby.bigWinView=null},e.prototype.getItem=function(){return this.pool.size()<1?cc.instantiate(this.parentItem.children[0]):this.pool.get()},e.prototype.updateView=function(){for(var t=this;this.parentItem.childrenCount>0;)this.pool.put(this.parentItem.children[0]);this.isRunAction=!0;for(var e=s.Windown.BigWinLobby.listBigWin,n=0,o=e.length;n<o;n++){var i=this.getItem();i.active=!0,i.parent=this.parentItem,i.zIndex=0,i.setPosition(0,(o-n-.5)*i.height),i.stopAllActions(),i.runAction(cc.moveTo(.3,cc.v2(0,(-n-.5)*i.height))),i.getComponent(a.default).initItem(e[n])}this.unscheduleAllCallbacks(),this.scheduleOnce(function(){t.isRunAction=!1},.5)},e.prototype.addBigWin=function(){for(var t=this,e=5;e<this.parentItem.childrenCount;e++)this.pool.put(this.parentItem.children[5]),e--;var n=s.Windown.BigWinLobby.getListCache();if(!(n.length<1)){for(var o=n.length,i=(e=0,this.parentItem.childrenCount);e<i;e++)this.parentItem.children[e].zIndex=e+o;for(this.isRunAction=!0,e=0,i=o;e<i;e++){var r=this.getItem();r.parent=this.parentItem,r.zIndex=e,r.setPosition(0,(i-e-.5)*r.height+50),r.getComponent(a.default).initItem(s.Windown.BigWinLobby.listBigWin[0])}this.parentItem.sortAllChildren();var c=function(e){var n=l.parentItem.children[e];n.stopAllActions(),n.runAction(cc.sequence(cc.delayTime(e<o?.2:0),cc.moveTo(.2,cc.v2(0,(-e-.5)*n.height)),cc.callFunc(function(){0==e&&(t.isRunAction=!1,t.addBigWin())})))},l=this;for(e=0,i=this.parentItem.childrenCount;e<i;e++)c(e)}},r([u(cc.Node)],e.prototype,"parentItem",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Windown":"Windown","./ItemBigWin":"ItemBigWin"}],BigWinLobby:[function(t,e,n){"use strict";cc._RF.push(e,"5ca8cJ2tvNAjLCVtIIt9vHd","BigWinLobby"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../DefineTs/EVENT_MANAGER"),i=t("../../DefineTs/REQUEST_CODE"),r=t("../../Network/ConectManager"),s=function(){function t(){this.listBigWin=[],this.listCacheRunAction=[],this.bigWinView=null,this.alertMessageView=null,this.notiFish=null,this.isInit=!1,cc.systemEvent.on(o.EVENT_MANAGER.onConnect,this.onConnect,this),cc.systemEvent.on(o.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),cc.systemEvent.on(i.REQUEST_CODE.GetListBigWin,this.responseGetListBigWin,this),cc.systemEvent.on(i.REQUEST_CODE.AddBigWin,this.responseAddBigWin,this)}return t.prototype.onConnect=function(){r.ConectManager.getIns().sendRequest(i.REQUEST_CODE.GetListBigWin,null)},t.prototype.onDisconnect=function(){this.isInit=!1},t.prototype.sendAddBigWinToServer=function(t){r.ConectManager.getIns().sendRequest(i.REQUEST_CODE.AddBigWin,t)},t.prototype.responseGetListBigWin=function(t){this.isInit=!0,this.listBigWin=[];for(var e=t.getSFSArray("data"),n=0;n<e.size();n++)this.listBigWin.unshift(e.getSFSObject(n));this.listBigWin=this.listBigWin.slice(0,5),this.listCacheRunAction=this.listCacheRunAction.concat(this.listBigWin),this.alertMessageView&&this.alertMessageView.addBigWin()},t.prototype.responseAddBigWin=function(t){this.isInit&&(this.listBigWin.unshift(t),this.listBigWin.length>5&&this.listBigWin.pop(),this.bigWinView,this.alertMessageView&&this.listCacheRunAction.push(t),this.notiFish&&this.notiFish.addNotiShow(t))},t.prototype.getListCache=function(){return this.listCacheRunAction.splice(0,this.listCacheRunAction.length)},t}();n.default=s,cc._RF.pop()},{"../../DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../Network/ConectManager":"ConectManager"}],BigWinQuyBa:[function(t,e,n){"use strict";cc._RF.push(e,"fe00alNp31OW7C2eqJjhlDZ","BigWinQuyBa");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.BigWinQuyBa=void 0;var c=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Game/GAME_TYPE"),u=t("../../../Scritps/DefineTs/REQUEST_CODE"),p=t("../../../Scritps/Windown"),h=t("../../../Scritps/Util"),d=t("../../../Scritps/Network/ConectManager"),f=cc._decorator,y=f.ccclass,g=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bigWin=null,e.megaWin=null,e.superWin=null,e.coinTemp=null,e.coinParent=null,e.lb_Money=null,e.btnFast=null,e.chipPool=null,e.listPromiseIgro=[],e.isClickBtnFast=!1,e}return i(e,t),e.prototype.init=function(t,e){var n=this;return this.chipPool=new cc.NodePool("chipPool"),this.bigWin.node.active=!1,this.megaWin.node.active=!1,this.superWin.node.active=!1,new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s,c,f,y=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,7,,8]),this.node.opacity=0,this.node.runAction(cc.fadeIn(.2)),this.btnFast.interactable=!1,this.scheduleOnce(function(){y.btnFast.interactable=!0},1),this.startChipFalling(),this.lb_Money.node.active=!0,this.lb_Money.node.active=!0,this.lb_Money.resetLb(),4,n=e<15?4:e<30?8:12,this.lb_Money.time=n,this.lb_Money.setMoney(t),this.bigWin.node.active=!0,this.bigWin.play("Bigwin_Show"),this.bigWin.once(cc.Animation.EventType.FINISHED,function(){y.bigWin.play("Bigwin_Loop")}),p.Windown.QuyBa.audio.playEffect(p.Windown.QuyBa.audio.bgmBigwinMain),i=p.Windown.QuyBa.getMakeDelay(4),this.listPromiseIgro.push(i),[4,i.prosime];case 1:return a.sent(),e>=30?(this.bigWin.node.active=!1,this.megaWin.node.active=!0,this.megaWin.play("MegaWin_Show"),this.megaWin.once(cc.Animation.EventType.FINISHED,function(){y.megaWin.play("MegaWin_Loop")}),p.Windown.QuyBa.audio.playEffect(p.Windown.QuyBa.audio.bgmBigwinEnd),this.isClickBtnFast?[3,3]:(r=p.Windown.QuyBa.getMakeDelay(4),this.listPromiseIgro.push(r),[4,r.prosime])):[3,3];case 2:a.sent(),a.label=3;case 3:return e>=50?(this.megaWin.node.active=!1,this.superWin.node.active=!0,this.superWin.play("SuperWin_Show"),this.superWin.once(cc.Animation.EventType.FINISHED,function(){y.superWin.play("SuperWin_Loop")}),p.Windown.QuyBa.audio.playEffect(p.Windown.QuyBa.audio.bgmBigwinEnd),this.isClickBtnFast?[3,5]:(r=p.Windown.QuyBa.getMakeDelay(4),this.listPromiseIgro.push(r),[4,r.prosime])):[3,5];case 4:a.sent(),a.label=5;case 5:return p.Windown.QuyBa.audio.stopEffect(p.Windown.QuyBa.audio.bgmBigwinMain),p.Windown.QuyBa.audio.playEffect(p.Windown.QuyBa.audio.bgmBigwinEnd),p.Windown.QuyBa.dataFinish.agWin>1e4&&((s=d.ConectManager.getIns().getSFSObj()).putInt("gt",l.default.QuyBa),s.putInt("mt",p.Windown.MatChuoc.dataFinish.agWin),s.putUtfString("nn",p.Windown.User.nickName),s.putUtfString("dt","bw"),d.ConectManager.getIns().sendRequest(u.REQUEST_CODE.AddBigWin,s)),this.lb_Money.setMoneyNoTime(t),this.lb_Money.node.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.2,1))),c=p.Windown.QuyBa.getMakeDelay(4),this.listPromiseIgro.push(c),this.btnFast.interactable=!0,[4,c.prosime];case 6:return a.sent(),p.Windown.stopAllActionByTarget(this.node),this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){o(null),y.node.destroy()}))),[3,8];case 7:return f=a.sent(),o(null),this.node.destroy(),cc.log(f.stack),h.Util.ThrowErrProsime(f),[3,8];case 8:return[2]}})})})},e.prototype.startChipFalling=function(){var t=this,e=cc.tween(this.node).call(function(){for(var e=function(){var e=p.Windown.RandomNumber(-360,360),n=640+p.Windown.RandomNumber(50,1e3),o=p.Windown.RandomNumber(3,6),i=t.getChip(),r=p.Windown.RandomFloatNumber(.6,1.01),s=p.Windown.RandomNumber(0,360);i.setScale(r,r),i.setPosition(e,n),i.parent=t.coinParent,i.angle=s,cc.tween(i).by(o,{position:cc.v3(i.getPosition().x,-cc.view.getVisibleSize().height-i.getPosition().y,0)}).call(function(){t.chipPool.put(i)}).start()},n=0;n<20;n++)e()}),n=cc.tween(this.node).delay(2);cc.tween(this.node).sequence(e,n).repeatForever().start()},e.prototype.getChip=function(){return 0==this.chipPool.size()&&this.chipPool.put(cc.instantiate(this.coinTemp.node)),this.chipPool.get()},e.prototype.onClickBtnShowFast=function(){for(this.btnFast.interactable=!1,this.isClickBtnFast=!0;this.listPromiseIgro.length>0;)this.listPromiseIgro.shift().cancle(!0)},r([g(cc.Animation)],e.prototype,"bigWin",void 0),r([g(cc.Animation)],e.prototype,"megaWin",void 0),r([g(cc.Animation)],e.prototype,"superWin",void 0),r([g(cc.Animation)],e.prototype,"coinTemp",void 0),r([g(cc.Node)],e.prototype,"coinParent",void 0),r([g(c.default)],e.prototype,"lb_Money",void 0),r([g(cc.Button)],e.prototype,"btnFast",void 0),r([y],e)}(cc.Component);n.BigWinQuyBa=m,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],BigwinAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"ede81s5ZHNHtKcf30/GR7+E","BigwinAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../../Scritps/Game/GAME_TYPE"),u=t("../../../../Scritps/Network/ConectManager"),p=t("../../../../Scritps/Other/LbMonoSpace"),h=t("../../../../Scritps/Util"),d=t("../../../../Scritps/Windown"),f=cc._decorator,y=f.ccclass,g=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lb_Money=null,e.btnFast=null,e.listPromiseIgro=[],e.isClickBtnFast=!1,e.bigWin=null,e.megaWin=null,e.superWin=null,e.animTake1=null,e.animTake2=null,e.listColor=[],e}return i(e,t),e.prototype.init=function(t,e){var n=this;return this.bigWin.node.active=!1,this.megaWin.node.active=!1,this.superWin.node.active=!1,new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s,p,f,y,g,m=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,7,,8]),this.btnFast.interactable=!1,this.scheduleOnce(function(){m.btnFast.interactable=!0},1),this.lb_Money.node.active=!0,this.node.opacity=255,this.lb_Money.resetLb(),4,n=e<30?4:e<50?8:12,this.lb_Money.time=n,this.lb_Money.setMoney(t),this.animTake1.play("BigWin2"),this.animTake2.play("BigWin3"),this.animTake1.node.color=this.listColor[0],this.animTake2.node.color=this.listColor[0],this.bigWin.node.active=!0,this.bigWin.play("BigWin1"),this.bigWin.playAdditive("BigWinLoop1"),d.Windown.Asgard.audio.playEffect(d.Windown.Asgard.audio.bgmBigwinMain),i=d.Windown.Asgard.getMakeDelay(4),this.listPromiseIgro.push(i),[4,i.prosime];case 1:return a.sent(),e>=30?(this.bigWin.node.active=!1,this.megaWin.node.active=!0,this.megaWin.play("MegaWin3"),this.megaWin.playAdditive("MegaWinLoop2"),d.Windown.Asgard.audio.playEffect(d.Windown.Asgard.audio.bgmBigwinEnd),this.animTake1.play("BigWin2"),this.animTake2.play("BigWin3"),this.animTake1.node.color=this.listColor[1],this.animTake2.node.color=this.listColor[1],r=cc.find("ParentCoint",this.megaWin.node),this.megaWin.schedule(function(){if(d.Windown.RandomNumber(0,100)<30){var t=cc.instantiate(d.Windown.Asgard.asset.coin);t.parent=r,t.getComponent(cc.Animation).play("Coind").time=d.Windown.RandomNumber(0,100),t.setPosition(d.Windown.RandomNumber(-350,350),640),t.runAction(cc.sequence(cc.moveBy(1.5,0,-1280),cc.callFunc(function(){t.destroy()})))}},.016),this.isClickBtnFast?[3,3]:(p=d.Windown.Asgard.getMakeDelay(4),this.listPromiseIgro.push(p),[4,p.prosime])):[3,3];case 2:a.sent(),a.label=3;case 3:return e>=50?(this.megaWin.node.active=!1,this.superWin.node.active=!0,this.superWin.play("SuperWin1"),this.superWin.playAdditive("SuperWinLoop2"),d.Windown.Asgard.audio.playEffect(d.Windown.Asgard.audio.bgmBigwinEnd),this.animTake1.play("BigWin2"),this.animTake2.play("BigWin3"),this.animTake1.node.color=this.listColor[2],this.animTake2.node.color=this.listColor[2],s=cc.find("ParentCoint",this.superWin.node),this.superWin.schedule(function(){if(d.Windown.RandomNumber(0,100)<60){var t=cc.instantiate(d.Windown.Asgard.asset.coin);t.parent=s,t.getComponent(cc.Animation).play("Coind").time=d.Windown.RandomNumber(0,100),t.setPosition(d.Windown.RandomNumber(-350,350),640),t.runAction(cc.sequence(cc.moveBy(1.5,0,-1280),cc.callFunc(function(){t.destroy()})))}},.016),this.isClickBtnFast?[3,5]:(p=d.Windown.Asgard.getMakeDelay(4),this.listPromiseIgro.push(p),[4,p.prosime])):[3,5];case 4:a.sent(),a.label=5;case 5:return d.Windown.Asgard.audio.stopEffect(d.Windown.Asgard.audio.bgmBigwinMain),d.Windown.Asgard.audio.playEffect(d.Windown.Asgard.audio.bgmBigwinEnd),d.Windown.Asgard.dataFinish.get("agWin")>1e4&&((f=u.ConectManager.getIns().getSFSObj()).putInt("gt",l.default.Asgard),f.putInt("mt",d.Windown.Asgard.dataFinish.get("agWin")),f.putUtfString("nn",d.Windown.User.nickName),f.putUtfString("dt","bw"),u.ConectManager.getIns().sendRequest(c.REQUEST_CODE.AddBigWin,f)),this.animTake1.play("BigWin2"),this.animTake2.play("BigWin3"),this.lb_Money.setMoneyNoTime(t),this.lb_Money.node.runAction(cc.sequence(cc.scaleTo(.2,1.3),cc.scaleTo(.2,1))),y=d.Windown.Asgard.getMakeDelay(4),this.listPromiseIgro.push(y),this.btnFast.interactable=!0,[4,y.prosime];case 6:return a.sent(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){o(null),m.node.destroy()}))),[3,8];case 7:return g=a.sent(),o(null),this.node.destroy(),cc.log(g.stack),h.Util.ThrowErrProsime(g),[3,8];case 8:return[2]}})})})},e.prototype.onClickBtnShowFast=function(){for(this.btnFast.interactable=!1,this.isClickBtnFast=!0;this.listPromiseIgro.length>0;)this.listPromiseIgro.shift().cancle(!0)},r([g(p.default)],e.prototype,"lb_Money",void 0),r([g(cc.Button)],e.prototype,"btnFast",void 0),r([g(cc.Animation)],e.prototype,"bigWin",void 0),r([g(cc.Animation)],e.prototype,"megaWin",void 0),r([g(cc.Animation)],e.prototype,"superWin",void 0),r([g(cc.Animation)],e.prototype,"animTake1",void 0),r([g(cc.Animation)],e.prototype,"animTake2",void 0),r([g([cc.Color])],e.prototype,"listColor",void 0),r([y],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../../Scritps/Util":"Util","../../../../Scritps/Windown":"Windown"}],BigwinMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"46e54WPV/FAhpmc2paFsDFI","BigwinMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,l=c.ccclass,u=c.property,p=t("../../../../Scritps/DefineTs/REQUEST_CODE"),h=t("../../../../Scritps/Game/GAME_TYPE"),d=t("../../../../Scritps/Network/ConectManager"),f=t("../../../../Scritps/Other/LbMonoSpace"),y=t("../../../../Scritps/Util"),g=t("../../../../Scritps/Windown"),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lb_Money=null,e.btnFast=null,e.listPromiseIgro=[],e.isClickBtnFast=!1,e.bigWin=null,e.megaWin=null,e.superWin=null,e.animTake1=null,e.animTake2=null,e.nodeLoopCoinMega=null,e.nodeLoopCoinSuperWin=null,e.listColor=[],e}return i(e,t),e.prototype.init=function(t,e){var n=this;return this.bigWin.node.active=!1,this.megaWin.node.active=!1,this.superWin.node.active=!1,new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s,c,l,u=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,7,,8]),this.btnFast.interactable=!1,this.scheduleOnce(function(){u.btnFast.interactable=!0},1),this.lb_Money.node.active=!0,this.node.opacity=0,this.nodeLoopCoinMega.opacity=0,this.nodeLoopCoinSuperWin.opacity=0,this.node.runAction(cc.fadeIn(.3)),this.lb_Money.resetLb(),4,n=e<15?4:e<30?8:12,this.lb_Money.time=n,this.lb_Money.setMoney(t),this.animTake1.play("BigWin2"),this.animTake2.play("BigWin3"),this.bigWin.node.active=!0,this.bigWin.play("BigWin1"),g.Windown.MatChuoc.audio.playEffect(g.Windown.MatChuoc.audio.bgmBigwinMain),i=g.Windown.MatChuoc.getMakeDelay(4),this.listPromiseIgro.push(i),[4,i.prosime];case 1:return a.sent(),e>=30?(this.bigWin.node.active=!1,this.megaWin.node.active=!0,this.nodeLoopCoinMega.runAction(cc.fadeIn(.4)),this.megaWin.play("MegaWin1"),g.Windown.MatChuoc.audio.playEffect(g.Windown.MatChuoc.audio.bgmBigwinEnd),this.animTake1.play("BigWin2"),this.animTake2.play("BigWin3"),this.isClickBtnFast?[3,3]:(r=g.Windown.MatChuoc.getMakeDelay(4),this.listPromiseIgro.push(r),[4,r.prosime])):[3,3];case 2:a.sent(),a.label=3;case 3:return e>=50?(this.megaWin.node.active=!1,this.superWin.node.active=!0,this.superWin.play("SuperWin1"),this.nodeLoopCoinSuperWin.runAction(cc.fadeIn(.4)),g.Windown.MatChuoc.audio.playEffect(g.Windown.MatChuoc.audio.bgmBigwinEnd),this.animTake1.play("BigWin2"),this.animTake2.play("BigWin3"),cc.find("ParentCoint",this.superWin.node),this.isClickBtnFast?[3,5]:(r=g.Windown.MatChuoc.getMakeDelay(4),this.listPromiseIgro.push(r),[4,r.prosime])):[3,5];case 4:a.sent(),a.label=5;case 5:return g.Windown.MatChuoc.audio.stopEffect(g.Windown.MatChuoc.audio.bgmBigwinMain),g.Windown.MatChuoc.audio.playEffect(g.Windown.MatChuoc.audio.bgmBigwinEnd),g.Windown.MatChuoc.dataFinish.agWin>1e4&&((s=d.ConectManager.getIns().getSFSObj()).putInt("gt",h.default.MatChuoc),s.putInt("mt",g.Windown.MatChuoc.dataFinish.agWin),s.putUtfString("nn",g.Windown.User.nickName),s.putUtfString("dt","bw"),d.ConectManager.getIns().sendRequest(p.REQUEST_CODE.AddBigWin,s)),this.animTake1.play("BigWin2"),this.animTake2.play("BigWin3"),this.lb_Money.setMoneyNoTime(t),this.lb_Money.node.runAction(cc.sequence(cc.scaleTo(.2,1.3),cc.scaleTo(.2,1))),c=g.Windown.MatChuoc.getMakeDelay(4),this.listPromiseIgro.push(c),this.btnFast.interactable=!0,[4,c.prosime];case 6:return a.sent(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){o(null),u.node.destroy()}))),[3,8];case 7:return l=a.sent(),o(null),this.node.destroy(),cc.log(l.stack),y.Util.ThrowErrProsime(l),[3,8];case 8:return[2]}})})})},e.prototype.onClickBtnShowFast=function(){for(this.btnFast.interactable=!1,this.isClickBtnFast=!0;this.listPromiseIgro.length>0;)this.listPromiseIgro.shift().cancle(!0)},r([u(f.default)],e.prototype,"lb_Money",void 0),r([u(cc.Button)],e.prototype,"btnFast",void 0),r([u(cc.Animation)],e.prototype,"bigWin",void 0),r([u(cc.Animation)],e.prototype,"megaWin",void 0),r([u(cc.Animation)],e.prototype,"superWin",void 0),r([u(cc.Animation)],e.prototype,"animTake1",void 0),r([u(cc.Animation)],e.prototype,"animTake2",void 0),r([u(cc.Node)],e.prototype,"nodeLoopCoinMega",void 0),r([u(cc.Node)],e.prototype,"nodeLoopCoinSuperWin",void 0),r([u([cc.Color])],e.prototype,"listColor",void 0),r([l],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../../Scritps/Util":"Util","../../../../Scritps/Windown":"Windown"}],BkgFs:[function(t,e,n){"use strict";cc._RF.push(e,"923c90e409JMLgAQ2C576Tw","BkgFs");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node1=null,e.node2=null,e.parentEff=null,e.parentCoin=null,e}return i(e,t),e.prototype.start=function(){var t=this,e=!1;this.schedule(function(){var n=cc.instantiate(t.node1),o=cc.instantiate(t.node2);n.parent=t.parentEff,o.parent=t.parentEff,e&&(n.position=t.node2.position,o.position=t.node1.position,n.y-=40,o.y-=40),e=!e,n.setSiblingIndex(0),o.setSiblingIndex(0),n.runAction(cc.sequence(cc.moveBy(6,0,-150).easing(cc.easeQuadraticActionIn()),cc.callFunc(function(){n.destroy()}))),o.runAction(cc.sequence(cc.moveBy(6,0,-150).easing(cc.easeQuadraticActionIn()),cc.callFunc(function(){o.destroy()})))},1)},e.prototype.update=function(){if(s.Windown.RandomNumber(0,100)<7){var t=cc.instantiate(s.Windown.Asgard.asset.coin);t.parent=this.parentCoin,t.scale=.4,t.angle=s.Windown.RandomNumber(0,360),t.getComponent(cc.Animation).play("Coind").time=s.Windown.RandomNumber(0,100),t.setPosition(s.Windown.RandomNumber(-344,-183),-223),t.runAction(cc.sequence(cc.moveBy(3,0,-400),cc.callFunc(function(){t.destroy()})))}if(s.Windown.RandomNumber(0,100)<7){var e=cc.instantiate(s.Windown.Asgard.asset.coin);e.parent=this.parentCoin,e.scale=.4,e.angle=s.Windown.RandomNumber(0,360),e.getComponent(cc.Animation).play("Coind").time=s.Windown.RandomNumber(0,100),e.setPosition(s.Windown.RandomNumber(183,344),-223),e.runAction(cc.sequence(cc.moveBy(3,0,-400),cc.callFunc(function(){e.destroy()})))}},r([l(cc.Node)],e.prototype,"node1",void 0),r([l(cc.Node)],e.prototype,"node2",void 0),r([l(cc.Node)],e.prototype,"parentEff",void 0),r([l(cc.Node)],e.prototype,"parentCoin",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown"}],BonusNap:[function(t,e,n){"use strict";cc._RF.push(e,"0a24eKo1A9OsZ7SPdIKPnLU","BonusNap");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/REQUEST_CODE"),a=t("../../Network/ConectManager"),c=t("../../Windown"),l=cc._decorator,u=l.ccclass,p=l.property,h={TANTHU:0,TANTHUNAP:1,INFO:2},d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listSp=[],e.pageBanner=null,e.btnLeft=null,e.btnRight=null,e.typeBanner=h.TANTHU,e.listData=null,e.currentIndex=0,e.currentIdNap=0,e.currentValue=0,e.currentPage=0,e.idNeedNap=null,e.isShowNextFun=!1,e.listValueNap=[5e4,1e5,2e5],e}return i(e,t),e.prototype.onLoad=function(){c.Windown.BonusNap=this},e.prototype.onDestroy=function(){c.Windown.BonusNap=null},e.prototype.onDisable=function(){this.typeBanner=h.TANTHU,cc.systemEvent.targetOff(this)},e.prototype.onEnable=function(){cc.systemEvent.on(s.REQUEST_CODE.GetConfigShopVip,this.responseServer,this),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.GetConfigShopVip,null),c.Windown.UIManager.showLoading(),this.autoNext()},e.prototype.responseServer=function(t){cc.log("GetConfigShopVip:",c.Windown.SFSObjToJson(t));var e=t.getSFSArray("ListConfig");c.Windown.UIManager.hideLoading();for(var n=0;n<e.size();n++)e.getSFSObject(n).getInt("price")},e.prototype.initData=function(){if(this.idNeedNap){this.currentIndex=0;for(var t=0,e=this.listData.size();t<e&&this.listData.getSFSObject(t).getInt("id")!=this.idNeedNap;t++)this.currentIndex++}this.currentIndex>=this.listData.size()&&(this.currentIndex=0);var n=this.listData.getSFSObject(this.currentIndex);n&&(this.currentIdNap=n.getInt("id"),this.currentValue=n.getInt("price"),this.idNeedNap=null,this.setStateButton())},e.prototype.setStateButton=function(){},e.prototype.autoNext=function(){var t=this;this.unscheduleAllCallbacks(),this.schedule(function(){t.currentPage++,t.currentPage==t.pageBanner.content.childrenCount&&(t.currentPage=0),t.pageBanner.setCurrentPageIndex(t.currentPage)},3)},e.prototype.onClickBtn=function(t,e){"0"==e?this.currentIndex--:this.currentIndex++,this.currentIndex>2&&(this.currentIndex=2),this.currentIndex<0&&(this.currentIndex=0),this.pageBanner.scrollToPage(this.currentIndex,.3)},e.prototype.onClickNapTanThu=function(t,e){var n=["50000","100000","200000"].indexOf(e);c.Windown.UIManager.showQuickShop(n+1,parseInt(e)),this.node.parent=null},e.prototype.onPageEvent=function(t){cc.log(t)},e.prototype.show=function(t,e,n){this.isShowNextFun=t,c.Windown.actionEffectOpenPopup(this.node),this.idNeedNap=e,null==e&&(this.currentIndex=0),null!=n&&(this.typeBanner=n),this.setBanner()},e.prototype.onClickNap=function(t,e){c.Windown.UIManager.showShop(parseInt(e),0,0,!0),this.node.parent=null,this.idNeedNap=null},e.prototype.onClickClose=function(){var t=this;this.idNeedNap=null,this.listData=a.ConectManager.getIns().getSFSArray(),c.Windown.actionEffectClosePopup(this.node,function(){t.node.parent=null,t.isShowNextFun&&c.Windown.UIManager.showFunFirtLogin()})},e.prototype.onClickOpenShop=function(){var t=this;c.Windown.actionEffectClose(this.node,function(){t.node.parent=null,c.Windown.UIManager.showShop(2,0,0,!0)})},e.prototype.setBanner=function(){switch(cc.log("setBanner:"+this.typeBanner),this.typeBanner){case h.TANTHU:this.pageBanner.content.getChildByName("Banner_TanThu").setSiblingIndex(0),this.pageBanner.content.getChildByName("Banner_TanThuNap").setSiblingIndex(1);break;case h.TANTHUNAP:this.pageBanner.content.getChildByName("Banner_TanThuNap").setSiblingIndex(0),this.pageBanner.content.getChildByName("Banner_TanThu").setSiblingIndex(1)}this.pageBanner.scrollToPage(0,.1)},r([p([cc.SpriteFrame])],e.prototype,"listSp",void 0),r([p(cc.PageView)],e.prototype,"pageBanner",void 0),r([p(cc.Node)],e.prototype,"btnLeft",void 0),r([p(cc.Node)],e.prototype,"btnRight",void 0),r([u],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../Network/ConectManager":"ConectManager","../../Windown":"Windown"}],BonusTruTien:[function(t,e,n){"use strict";cc._RF.push(e,"f6289Tl/11GnrT2YfsMYG9Y","BonusTruTien");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.sprItem=null,t.sprItemOff=null,t.sprItemXHeSo=null,t.sprItemSpecial=null,t.btn_quickOpen=null,t.lb_ChipGet=null,t.lb_hsBonus=null,t.lb_time=null,t.parentItem=null,t.popupInfo=null,t.lbChipWin=null,t.lb_hsWin=null,t.miniGame=null,t.listItemMini=[],t.listLb=[],t.fontEgrypt=null,t.listItem=[],t.listItemClicked=[],t.indexClick=0,t.totalBonusWin=0,t.curBonusWin=0,t.clickLeft=0,t.indexClickMiniGame=null,t.dataBonus=[],t.hsBonus=1,t.indexPos=cc.v2(-375,145),t.curTime=15,t.clickCheck=!1,t.itemBonusMini=null,t.canTouch=!1,t.funNext=null,t}return i(n,e),n.prototype.onLoad=function(){this.lb_ChipGet.string="0",this.lb_hsBonus.string="X1",this.indexClick=0,this.totalBonusWin=0,this.curBonusWin=0,this.clickLeft=0,this.listItemClicked=[],this.indexClickMiniGame=null,this.dataBonus=[],this.hsBonus=1,this.popupInfo.zIndex=10,this.curTime=15,this.clickCheck=!1,this.miniGame.scale=0,this.itemBonusMini=null,this.canTouch=!1,this.funNext=null},n.prototype.start=function(){},n.prototype.initItem=function(){var t=this;this.node.on("touchend",function(e){t.canTouch&&t.handleTouch(e)});for(var e=this.parentItem.children,n=0,o=e.length;n<o;n++){var i=e[n];this.listItem.push(i),i.scale=0,cc.tween(i).to(.2,{scale:1},{easing:"backOut"}).start()}this.scheduleOnce(function(){t.canTouch=!0},.2)},n.prototype.initBonus=function(t,e){this.indexClick=0,this.dataBonus=this.convertDataBonus(t);for(var n=0;n<this.dataBonus.length;n++)this.totalBonusWin+=this.dataBonus[n].chip;this.hsBonus=s.Windown.TruTien.dataFinish.startBonus,this.lb_hsBonus.string="X"+this.hsBonus,this.clickLeft=this.dataBonus.length,this.funNext=e,this.curTime=s.Windown.TruTien.isMaxSpeed?5:15,this.initItem(),this.onCountTime()},n.prototype.convertDataBonus=function(t){for(var e=t.split(";"),n=[],o=0;o<e.length;o++){var i=e[o].split(","),r={index:(i=i.map(function(t){return parseInt(t)}))[0],idBonus:i[1],chip:i[3],mutiplier:i[2]};n.push(r)}return n},n.prototype.handleTouch=function(t){cc.log("chay vao handle touch");for(var e=0;e<this.listItem.length;e++){var n=this.listItem[e];n.getBoundingBoxToWorld().contains(t.getLocation())&&!this.listItemClicked.includes(n)&&(this.indexClick++,this.clickLeft--,this.handleClickItem(n),this.listItemClicked.push(n))}},n.prototype.playSound=function(){},n.prototype.handleClickItem=function(e){var n=this;if(this.clickLeft>=0){this.lb_hsBonus.string="X"+this.hsBonus,this.clickCheck=!0;for(var o=0;o<this.dataBonus.length;o++){var i=this.dataBonus[o];i.index===this.indexClick&&this.effShowItem(e,i)}}this.unscheduleAllCallbacks(),0===this.clickLeft&&this.dataBonus[this.dataBonus.length-1].idBonus>=210&&setTimeout(function(){var e={};e[20]=s.Windown.TruTien.gameType,e[1]=s.Windown.TruTien.indexRoom,t("SendRequest").getIns().MST_Client_Slot_Play_Bonus(e),n.onShowPopupInfo()},1e3)},n.prototype.effShowItem=function(t,e){var n=this,o=e.idBonus,i=this.parentItem.convertToWorldSpaceAR(t.position),r=this.node.convertToNodeSpaceAR(i);if(o>210){var a=s.Windown.formatMoney(e.chip);cc.log("str la "+a);var c=this.createLb(a,r);this.curBonusWin+=e.chip,this.node.addChild(c.node,this.popupInfo.zIndex-1),c.node.scale=0,c.node.runAction(cc.scaleTo(.2,1).easing(cc.easeBackOut())),this.lb_ChipGet.getComponent("LbMonneyChange").setMoney(this.curBonusWin),t.getComponentInChildren(cc.Sprite).spriteFrame=this.sprItemOff}else if(210===o){this.hsBonus++,t.getComponentInChildren(cc.Sprite).spriteFrame=this.sprItemXHeSo;var l=cc.instantiate(t);l.scale=.4,this.node.addChild(l,this.popupInfo.zIndex-1),l.runAction(cc.sequence(cc.moveTo(.5,this.lb_hsBonus.node.getPosition()),cc.callFunc(function(){n.lb_hsBonus.string="X"+n.hsBonus,n.lb_hsBonus.node.runAction(cc.sequence(cc.scaleBy(.1,.1),cc.scaleTo(.1,1))),l.destroy()}))),t.scale=0,t.runAction(cc.scaleTo(.2,1).easing(cc.easeBackOut()))}else{t.getComponentInChildren(cc.Sprite).spriteFrame=this.sprItemSpecial,this.itemBonusMini=t,this.miniGame.active=!0,this.miniGame.getComponent(cc.Sprite).enabled=!1,this.miniGame.getChildByName("lb_title").active=!1,this.miniGame.zIndex=50,this.miniGame.position=t.position,this.miniGame.runAction(cc.sequence(cc.spawn(cc.moveTo(.5,cc.v2(0,0)).easing(cc.easeSineOut()),cc.scaleTo(.5,1).easing(cc.easeSineOut())),cc.callFunc(function(){n.miniGame.getComponent(cc.Sprite).enabled=!0,n.miniGame.getChildByName("lb_title").active=!0}))),this.node.off("touchend"),this.indexClickMiniGame=null;for(var u=0;u<this.listItemMini.length;u++)this.listItemMini[u].on("touchend",function(t){n.handleTouchMiniItem(t,e)})}},n.prototype.handleClickMiniItem=function(t,e){var n=this,o=e.chip;this.listLb[t].string=s.Windown.formatMoney(o),cc.log("chip get dc la "+this.listLb[t].string),this.listItemMini[t].getComponent(cc.Sprite).spriteFrame=this.sprItemOff,this.listLb[t].node.active=!0;for(var i=0;i<this.listItemMini.length;i++)this.listItemMini[i].off("touchend");this.scheduleOnce(function(){n.resetMiniGame(t);var e=s.Windown.formatMoney(o),i=n.parentItem.convertToWorldSpaceAR(n.itemBonusMini.position),r=n.node.convertToNodeSpaceAR(i),a=n.createLb(e,r);n.node.addChild(a.node),n.curBonusWin+=o,n.lb_ChipGet.getComponent("LbMonneyChange").setMoney(n.curBonusWin),n.node.on("touchend",function(t){n.canTouch&&n.handleTouch(t)}),0===n.clickLeft&&n.onClickQuickOpen()},2)},n.prototype.handleTouchMiniItem=function(t,e){for(var n=0;n<this.listItemMini.length;n++)this.listItemMini[n].getBoundingBoxToWorld().contains(t.getLocation())&&n!=this.indexClickMiniGame&&(this.indexClickMiniGame=n,this.handleClickMiniItem(n,e))},n.prototype.createLb=function(t,e){var n=new cc.Node("hsWin"),o=n.addComponent(cc.Label);return o.font=this.fontEgrypt,o.string=t,o.fontSize=40,o.lineHeight=40,n.setPosition(cc.v2(e.x,e.y-20)),o},n.prototype.onClickQuickOpen=function(){this.unscheduleAllCallbacks(),this.clickCheck=!0,this.onShowPopupInfo(),this.miniGame.active=!1},n.prototype.onCloseInfoNode=function(){var t=this;s.Windown.actionEffectClose(this.popupInfo,function(){t.popupInfo.active=!1,s.Windown.TruTien.effectShowItemWithBonusGame(),t.funNext(),t.onClose()})},n.prototype.onShowPopupInfo=function(){var t=this;this.popupInfo.active=!0,this.lbChipWin.node.getComponent("LbMonneyChange").setMoney(this.totalBonusWin),s.Windown.TruTien.isAutoSpin&&this.scheduleOnce(function(){t.onCloseInfoNode()},2)},n.prototype.onCountTime=function(){var t=this;this.schedule(function(){!t.clickCheck&&t.curTime>0?(t.curTime--,t.lb_time.string="T\u1ef1 \u0111\u1ed9ng ch\u01a1i sau: "+t.curTime+"s"):0===t.curTime&&t.onClickQuickOpen()},1)},n.prototype.onClose=function(){this.hsBonus=1,this.node.destroy()},n.prototype.onDestroy=function(){s.Windown.TruTien.sendEndBonsuServer()},n.prototype.resetMiniGame=function(t){this.miniGame.active=!1,this.miniGame.scale=0;for(var e=0;e<this.listItemMini.length;e++)this.listItemMini[e].getComponent(cc.Sprite).spriteFrame=this.sprItem,this.listLb[e].node.active=!1,this.listItemMini[e].off("touchend");this.listLb[t].node.y-=40,this.listLb[t].node.scale=1},r([l(cc.SpriteFrame)],n.prototype,"sprItem",void 0),r([l(cc.SpriteFrame)],n.prototype,"sprItemOff",void 0),r([l(cc.SpriteFrame)],n.prototype,"sprItemXHeSo",void 0),r([l(cc.SpriteFrame)],n.prototype,"sprItemSpecial",void 0),r([l(cc.Button)],n.prototype,"btn_quickOpen",void 0),r([l(cc.Label)],n.prototype,"lb_ChipGet",void 0),r([l(cc.Label)],n.prototype,"lb_hsBonus",void 0),r([l(cc.Label)],n.prototype,"lb_time",void 0),r([l(cc.Node)],n.prototype,"parentItem",void 0),r([l(cc.Node)],n.prototype,"popupInfo",void 0),r([l(cc.Label)],n.prototype,"lbChipWin",void 0),r([l(cc.Label)],n.prototype,"lb_hsWin",void 0),r([l(cc.Node)],n.prototype,"miniGame",void 0),r([l([cc.Node])],n.prototype,"listItemMini",void 0),r([l([cc.Label])],n.prototype,"listLb",void 0),r([l(cc.Font)],n.prototype,"fontEgrypt",void 0),r([c],n)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown",SendRequest:void 0}],BotControler:[function(t,e,n){"use strict";cc._RF.push(e,"a6eab8+bRtJUJ78JrOE/JeJ","BotControler");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../DefineTs/EVENT_MANAGER"),a=t("../DefineTs/REQUEST_CODE"),c=t("../Network/ConectManager"),l=t("../Windown"),u=t("./CreatBot"),p=cc._decorator,h=p.ccclass,d=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.funPing=null,e.funDelayListBot=null,e.bot=new u.default,e.isBotTaiXiu=!1,e}return i(e,t),e.prototype.onLoad=function(){l.Windown.BotController=this,cc.renderer.render=function(){},cc.game.addPersistRootNode(this.node);var t=new URL(window.location.toString()),e=new URLSearchParams(t.search).get("taiXiu");null!=e&&""!=e&&(this.isBotTaiXiu=!0)},e.prototype.onDestroy=function(){l.Windown.BotController=null},e.prototype.start=function(){cc.systemEvent.on(s.EVENT_MANAGER.onConnect,this.onServerConect,this),cc.systemEvent.on(s.EVENT_MANAGER.onDisconnect,this.onServerDisconnect,this);var t=new cc.Node;t.addComponent(cc.Label).string="IsBot",t.color=cc.Color.BLACK,t.parent=this.node},e.prototype.onServerConect=function(){c.ConectManager.getIns().sendRequestToCallback(a.REQUEST_CODE.GetListBot,null,this.responseListBot.bind(this)),this.scheduleOnce(this.funDelayListBot=function(){l.Windown.restartGame()},120)},e.prototype.responseListBot=function(t){this.unschedule(this.funDelayListBot);var e=t.getSFSArray("arrayInfoLogin");if(e.size()<1)this.bot.sendSignUp(),cc.log("nhay vao creat acoumnt");else{var n=e.getSFSObject(l.Windown.RandomNumber(0,e.size()));this.bot.sendLogin(n.getUtfString("userName"),n.getUtfString("userPass"))}},e.prototype.onServerDisconnect=function(){this.unschedule(this.funPing),this.scheduleOnce(function(){l.Windown.restartGame()},5)},e.prototype.onLogin=function(){cc.log("leven user la: "+l.Windown.User.currentLevel),this.scheduleOnce(function(){l.Windown.restartGame()},l.Windown.RandomNumber(1800,3600)),this.isBotTaiXiu||l.Windown.MainView.scheduleOnce(function(){l.Windown.MainView.onClickJoinBongDem(null,null,!1)},5),l.Windown.BtnMiniGame.onClick(null,null,!0)},e.prototype.onLeaveRoomFish=function(){this.isBotTaiXiu||l.Windown.MainView.scheduleOnce(function(){var t=parseInt(l.Windown.User.userAg/65e4),e=l.Windown.User.userAg%65e4;if(1==t&&e>l.Windown.RandomNumber(5e4,2e5))(n=c.ConectManager.getIns().getSFSObj()).putInt("moneyCash",65e4*t),c.ConectManager.getIns().sendRequest(a.REQUEST_CODE.CashOutCard,n),l.Windown.MainView.scheduleOnce(function(){cc.log("onclick 1"),l.Windown.MainView&&l.Windown.MainView.onClickJoinBongDem(null,null,!1)},l.Windown.RandomNumber(15,60));else if(t>1){var n;(n=c.ConectManager.getIns().getSFSObj()).putInt("moneyCash",65e4*t),c.ConectManager.getIns().sendRequest(a.REQUEST_CODE.CashOutCard,n),l.Windown.MainView.scheduleOnce(function(){l.Windown.MainView&&l.Windown.MainView.onClickJoinBongDem(null,null,!1)},l.Windown.RandomNumber(15,60))}else l.Windown.MainView.scheduleOnce(function(){l.Windown.MainView&&l.Windown.MainView.onClickJoinBongDem(null,null,!1)},l.Windown.RandomNumber(0,5))},2)},r([h],e)}(cc.Component));n.default=d,cc._RF.pop()},{"../DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../DefineTs/REQUEST_CODE":"REQUEST_CODE","../Network/ConectManager":"ConectManager","../Windown":"Windown","./CreatBot":"CreatBot"}],BottleControllerQuyBa:[function(t,e,n){"use strict";cc._RF.push(e,"1ebednmDx5BYYGE9xN/+Tk9","BottleControllerQuyBa");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.BottleControllerQuyBa=void 0;var c=t("./BottleItemQuyBa"),l=t("../../../Scritps/Other/LbMonoSpace"),u=t("../../../Scritps/Windown"),p=t("../../../Scritps/Util"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listBottle=[],e.listPosBottle=[],e.listPosBottleHis=[],e.listBonus=[2,2,2,2],e.listBonusOld=[2,2,2,2],e.nodeAddMoney=null,e.thanhBar=null,e.isHistory=!1,e}return i(e,t),e.prototype.onLoad=function(){this.listPosBottle=[cc.v2(-237,-49.5),cc.v2(-123,-49.5),cc.v2(-9,-49.5),cc.v2(115,-49.5),cc.v2(260,-30)],this.listPosBottleHis=[cc.v2(-143.23,-49.5),cc.v2(-51.756,-49.5),cc.v2(38.516,-49.5),cc.v2(133.602,-49.5),cc.v2(248.41,-38)],this.initBottleFirstGame()},e.prototype.start=function(){this.node.children[0].setSiblingIndex(this.node.children.length-1)},e.prototype.updateBonus=function(t){this.listBonusOld=this.listBonus.slice(),this.listBonus=t},e.prototype.initBottleFirstGame=function(){for(var t=0;t<5;t++){var e=u.Windown.QuyBa.asset.getMultiBottle();this.listBottle.push(e);var n=e.getComponent(c.BottleItemQuyBa);e.setPosition(this.isHistory?this.listPosBottleHis[t]:this.listPosBottle[t]),e.setParent(this.isHistory?this.node.getChildByName("Container"):this.node),n.bottleController=this,n.index=t,e.setScale(this.isHistory?cc.v2(.8,.8):cc.v2(.9,.9))}this.listBottle[4].getComponent(cc.Animation).play("BotleNormalGold"),this.listBottle[4].getComponent(c.BottleItemQuyBa).lbMultiNormal.string="x4",this.listBottle[4].getComponent(c.BottleItemQuyBa).multi=4,this.isHistory&&this.node.children[0].getChildByName("main_bg_multiplier_mask").setSiblingIndex(this.node.children[0].children.length-1)},e.prototype.getBottle=function(t){return this.listBottle[t]},e.prototype.effectBottleTakeMulti=function(t){this.listBottle[t].getComponent(c.BottleItemQuyBa).takeBottleItem(this.listBonus[t])},e.prototype.effectTextTakeMulti=function(t){return this.listBottle[t].getComponent(c.BottleItemQuyBa).multiTakeEffect()},e.prototype.effectTextMergeMulti=function(t,e){return this.listBottle[t].getComponent(c.BottleItemQuyBa).multiMergeEffect(e)},e.prototype.mutilUpReel=function(t){return s(this,void 0,void 0,function(){var e=this;return a(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,c,l;return a(this,function(){try{for(e=Math.max.apply(Math,t.lsstack),o=!1,i=0,r=e;i<=r;i++)for(s=u.Windown.QuyBa.stateSpin.listColum[i],c=s.result,l=0;l<c.length;l++)11==c[l].i&&(o=!0,this.effectBottleTakeMulti(s.index-1));o&&u.Windown.QuyBa.audio.playEffect(u.Windown.QuyBa.audio.symWildActivate),n(null)}catch(a){p.Util.ThrowErrProsime(a)}return[2]})})})]})})},e.prototype.multiTakeEffect=function(t,e){var n=this;return new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s,h,d,f,y,g=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),n=[],i=this.getListCollumWild(t,e),r=0,i.length>0&&(1==i.length?(n.push(this.effectTextTakeMulti(i[0]-1)),r+=this.listBonus[i[0]-1],u.Windown.QuyBa.audio.playEffect(u.Windown.QuyBa.audio.multiActivate)):(s=this.getDistanceCol(i[0]-1,i[i.length-1]-1),i.forEach(function(t){n.push(g.effectTextMergeMulti(t-1,s)),r+=g.listBonus[t-1]}))),n.length>0?(u.Windown.QuyBa.audio.playEffect(u.Windown.QuyBa.audio.multiCombine),[4,u.Windown.QuyBa.getPromiseAll(n)]):[3,2];case 1:a.sent(),a.label=2;case 2:return i.length>1?(h=this.getDistanceCol(i[0]-1,i[i.length-1]-1),d=this.listBottle[i[0]-1].getComponent(c.BottleItemQuyBa).lbMultiEffect.node,(f=cc.instantiate(d)).getComponent(l.default).string="x"+r,f.name="FakeMulti",f.setParent(this.node),f.active=!0,f.setPosition(h),cc.tween(f).to(.1,{scale:3.5}).to(.1,{position:this.nodeAddMoney.position},{easing:"cubicIn"}).call(function(){o(null)}).to(.1,{opacity:0,scale:4},{easing:"sineOut"}).call(function(){f.destroy()}).start()):o(null),[3,4];case 3:return y=a.sent(),p.Util.ThrowErrProsime(y),[3,4];case 4:return[2]}})})})},e.prototype.getListCollumWild=function(t,e){for(var n=[],o=Math.max.apply(Math,e.lsstack),i=0;i<=o;i++)null==t[i].find(function(t){return 11==t.i})||n.includes(i)||n.push(i);return n},e.prototype.getDistanceCol=function(t,e){var n=this.listBottle[t].getComponent(c.BottleItemQuyBa),o=this.listBottle[e].getComponent(c.BottleItemQuyBa),i=u.Windown.convertNodeInOtherNode(n.lbMultiEffect.node,this.node),r=u.Windown.convertNodeInOtherNode(o.lbMultiEffect.node,this.node),s=i.x+(r.x-i.x)/2;return cc.v2(s,i.y)},e.prototype.updatePositionBottle=function(t){return s(this,void 0,void 0,function(){var e=this;return a(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,l,h,d,f,y=this;return a(this,function(a){switch(a.label){case 0:if(a.trys.push([0,2,,3]),this.updateBonus(t),2==t[3])return n(null),[2];for(e=0,o=function(t){var n=i.listBottle[t];if(cc.isValid(n)){i.listBottle[t]=null;var o=n.getComponent(c.BottleItemQuyBa),r=o.index-e;o.nextStep(i.listPosBottle[r],function(){o.index=r,y.listBottle[r]=n})}else e++},i=this,h=0;h<4;h++)o(h);return 0!=e&&u.Windown.QuyBa.audio.playEffect(u.Windown.QuyBa.audio.shakerMove),cc.log("updatePositionBottle step="+e),[4,u.Windown.QuyBa.getMakeDelay(.2).prosime];case 1:for(a.sent(),r=0,s=function(t){var e=l.listBottle[t];if(!cc.isValid(e)){var n=l.listBottle[4];if(cc.isValid(n))u.Windown.QuyBa.audio.playEffect(u.Windown.QuyBa.audio.shakerMove),n.getComponent(c.BottleItemQuyBa).jumpStep(l.listPosBottle[3],l.listPosBottle[t],function(){y.listBottle[t]=n,n.getComponent(c.BottleItemQuyBa).index=t,u.Windown.QuyBa.audio.playEffect(u.Windown.QuyBa.audio.shakerStop)}),l.listBottle[4]=null,r++;else{var o=u.Windown.QuyBa.asset.getMultiBottle();o.setParent(l.node);var i=o.getComponent(c.BottleItemQuyBa);i.bottleController=l,i.index=t,i.setMulti(l.listBonus[t]),o.setPosition(l.listPosBottle[4].x+100,l.listPosBottle[4].y),l.thanhBar.setSiblingIndex(l.node.children.length),cc.tween(o).delay((u.Windown.QuyBa.stateSpin.isMaxSpeed?.1:.2)*r).to(u.Windown.QuyBa.stateSpin.isMaxSpeed?.1:.2,{position:cc.v3(l.listPosBottle[4].x,l.listPosBottle[4].y)}).call(function(){i.jumpStep(y.listPosBottle[3],y.listPosBottle[t],function(){cc.log("Set Listbottle index:"+t),y.listBottle[t]=o,i.index=t,u.Windown.QuyBa.audio.playEffect(u.Windown.QuyBa.audio.shakerStop)})}).start(),r++}}},l=this,h=0;h<4;h++)s(h);return 0!=r?((d=u.Windown.QuyBa.asset.getMultiBottle()).setParent(this.node),d.setPosition(this.listPosBottle[4].x+100,this.listPosBottle[4].y),d.getComponent(c.BottleItemQuyBa).bottleController=this,d.getComponent(c.BottleItemQuyBa).index=4,d.getComponent(c.BottleItemQuyBa).setMulti(this.listBonus[this.listBonus.length-1]+2),this.thanhBar.setSiblingIndex(this.node.children.length),cc.tween(d).delay((u.Windown.QuyBa.stateSpin.isMaxSpeed?.15:.3)*r).to(u.Windown.QuyBa.stateSpin.isMaxSpeed?.15:.3,{position:cc.v3(this.listPosBottle[4].x,this.listPosBottle[4].y)}).call(function(){y.listBottle[4]=d,cc.log("Update PositionBottle1"),cc.log(y.listBottle),n(null)}).start()):(cc.log("Update PositionBottle2"),cc.log(this.listBottle),n(null)),[3,3];case 2:return f=a.sent(),p.Util.ThrowErrProsime(f),[3,3];case 3:return[2]}})})})]})})},e.prototype.resetBottle=function(){var t=this;this.listBottle.forEach(function(e,n){var o=e.getComponent(c.BottleItemQuyBa);n<4&&2!=t.listBonus[n]&&(o.multi=2,o.reset()),4==n&&4!=o.multi&&(o.multi=4,o.reset())})},e.prototype.setBonusHistory=function(t){for(var e=0;e<t.length;e++){var n=t[e];n>2&&this.listBottle[e].getComponent(c.BottleItemQuyBa).setMultiHistory(n)}},e.prototype.onClickTest=function(t,e){this.listBottle[parseInt(e)].getComponent(c.BottleItemQuyBa).takeBottleItem(2)},r([f(cc.Node)],e.prototype,"nodeAddMoney",void 0),r([f(cc.Node)],e.prototype,"thanhBar",void 0),r([f],e.prototype,"isHistory",void 0),r([d],e)}(cc.Component);n.BottleControllerQuyBa=y,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./BottleItemQuyBa":"BottleItemQuyBa"}],BottleItemQuyBa:[function(t,e,n){"use strict";cc._RF.push(e,"70d92OYmJJLgLDLyPcJY/Fx","BottleItemQuyBa");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.BottleItemQuyBa=void 0;var c=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=t("./QuyBaSpeedControl"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbMultiEffect=null,e.lbMultiNormal=null,e.animation=null,e.multi=2,e.initPosYMultiEff=23.584,e.bottleController=null,e.index=0,e}return i(e,t),e.prototype.start=function(){this.lbMultiEffect.node.active=!1,this.lbMultiNormal.node.active=!0},e.prototype.setMulti=function(t){this.multi=t,this.lbMultiNormal.string="x"+this.multi,this.lbMultiEffect.string="x"+this.multi,this.multi>2&&this.animation.play("BotleNormalGold")},e.prototype.setMultiHistory=function(t,e){var n=this;void 0===e&&(e=!1),2==t?this.animation.play("BotleNormal"):this.animation.play("BotleNormalGold"),this.scheduleOnce(function(){e?(n.lbMultiEffect.string="x"+t,n.lbMultiEffect.node.position=cc.v3(n.lbMultiEffect.node.position.x,110),n.lbMultiEffect.node.active=!0,n.lbMultiNormal.node.active=!1,n.lbMultiEffect.node.setScale(cc.v3(2,2))):(n.lbMultiNormal.string="x"+t,n.lbMultiEffect.node.active=!1,n.lbMultiNormal.node.active=!0)},1)},e.prototype.takeBottleItem=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e=this;return a(this,function(){try{cc.tween(this.lbMultiEffect.node).delay(u.Windown.QuyBa.stateSpin.isMaxSpeed?.15:.3).call(function(){e.lbMultiEffect.node.active=!0,e.lbMultiEffect.string="x"+t,e.lbMultiNormal.node.active=!1;var n=t>=4?"TakeBotleGold":"TakeBottle";e.animation.play(n),e.animation.getComponent(p.QuyBaSpeedControl).onPlay()}).to(u.Windown.QuyBa.stateSpin.isMaxSpeed?.1:.2,{scale:2.4,position:cc.v3(this.lbMultiEffect.node.position.x,139)},{easing:"sineIn"}).start(),n(null)}catch(o){l.Util.ThrowErrProsime(o)}return[2]})})})},e.prototype.multiTakeEffect=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){return[2,new Promise(function(e){return s(t,void 0,void 0,function(){var t,n=this;return a(this,function(){try{t=u.Windown.convertNodeInOtherNode(this.lbMultiEffect.node,this.bottleController.node),this.lbMultiEffect.node.parent=this.bottleController.node,this.lbMultiEffect.node.opacity=255,this.lbMultiEffect.node.setPosition(t),cc.tween(this.lbMultiEffect.node).to(u.Windown.QuyBa.stateSpin.isMaxSpeed?.05:.1,{scale:3.5}).to(u.Windown.QuyBa.stateSpin.isMaxSpeed?.1:.2,{position:this.bottleController.nodeAddMoney.position},{easing:"cubicIn"}).call(function(){n.bottleController.listBottle[n.bottleController.listBottle.indexOf(n.node)]=null,cc.log("set bang null1"),e(null)}).to(u.Windown.QuyBa.stateSpin.isMaxSpeed?.1:.2,{opacity:0,scale:5},{easing:"cubicOut"}).delay(.25).call(function(){n.node.destroy(),n.lbMultiEffect.node.destroy()}).start()}catch(o){l.Util.ThrowErrProsime(o)}return[2]})})})]})})},e.prototype.multiMergeEffect=function(t){var e=this;return cc.log("multiMergeEffect"),new Promise(function(n){return s(e,void 0,void 0,function(){var e,o=this;return a(this,function(){try{(e=cc.instantiate(this.lbMultiEffect.node)).name="FakeMulti",e.setParent(this.bottleController.node),e.setPosition(u.Windown.convertNodeInOtherNode(this.lbMultiEffect.node,this.bottleController.node)),this.lbMultiEffect.node.active=!1,cc.tween(e).to(.1,{position:t},{easing:cc.easing.quadIn}).call(function(){n(null)}).to(.1,{opacity:0}).delay(.2).call(function(){o.bottleController.listBottle[o.bottleController.listBottle.indexOf(o.node)]=null}).delay(.25).call(function(){o.node.destroy(),e.destroy()}).start()}catch(i){l.Util.ThrowErrProsime(i)}return[2]})})})},e.prototype.nextStep=function(t,e){cc.tween(this.node).to(u.Windown.QuyBa.stateSpin.isMaxSpeed?.1:.2,{position:t},{easing:cc.easing.sineIn}).call(function(){e()}).start()},e.prototype.jumpStep=function(t,e,n){this.node.runAction(cc.sequence(cc.jumpTo(u.Windown.QuyBa.stateSpin.isMaxSpeed?.1:.2,cc.v2(t.x,t.y),50,1).easing(cc.easeSineIn(.3)),cc.moveTo(u.Windown.QuyBa.stateSpin.isMaxSpeed?.1:.2,e),cc.callFunc(n)))},e.prototype.reset=function(){this.animation.play("BottleReset"),this.node.getChildByName("ReadyState").active=4!=this.index,this.node.getChildByName("PrepareState").active=4==this.index},e.prototype.resetTextMulti=function(){cc.log("resetTextMulti"),this.lbMultiEffect.string="x"+this.multi,this.lbMultiNormal.string="x"+this.multi},r([f(c.default)],e.prototype,"lbMultiEffect",void 0),r([f(c.default)],e.prototype,"lbMultiNormal",void 0),r([f(cc.Animation)],e.prototype,"animation",void 0),r([d],e)}(cc.Component);n.BottleItemQuyBa=y,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./QuyBaSpeedControl":"QuyBaSpeedControl"}],"BtnAll+1":[function(t,e,n){"use strict";cc._RF.push(e,"400d4wgb2JE4ZOMWAeIdTlA","BtnAll+1");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../State/StateGame"),a=t("./BaseButton"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onPress=function(t){this.xengController.stateGame.type!=s.default.PLAYINGMINI&&this.xengController.onClickAllAdd1(t)},e.prototype.reset=function(){},r([l],e)}(a.default));n.default=u,cc._RF.pop()},{"../State/StateGame":"StateGame","./BaseButton":"BaseButton"}],BtnBetItem:[function(t,e,n){"use strict";cc._RF.push(e,"07b52urzBxFS6FM9h79knOF","BtnBetItem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=t("../State/StateGame"),c=t("./BaseButton"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbPoint=null,e.point=0,e}return i(e,t),e.prototype.onPress=function(t){if(this.xengController.stateGame.type==a.default.WATINGPLAYGAME)return this.soundManager.playEffect(this.soundManager.Ting),void this.xengController.setCurrentState(a.default.WATING);this.point>=990*s.Windown.XengController.mutil||this.xengController.btnChangePointR.point<1||(this.xengController.btnChangePointR.point<t&&(t=this.xengController.btnChangePointR.point),this.setPointBy(t),this.xengController.btnChangePointR.setPointBy(-t),this.soundManager.playEffect(this.soundManager.Ting),this.xengController.setCurrentState(a.default.PLAYING))},e.prototype.setLbPoint=function(){this.node&&this.lbPoint.node&&(this.lbPoint.string=(this.point/s.Windown.XengController.mutil).toString())},e.prototype.reset=function(){this.point=0,this.setLbPoint()},e.prototype.setPointBy=function(t,e){void 0===e&&(e=!0),this.point+=t,this.point=cc.misc.clampf(this.point,0,990*s.Windown.XengController.mutil),e&&this.setLbPoint()},e.prototype.setPoint=function(t,e){void 0===e&&(e=!0),this.point=t,e&&this.setLbPoint()},r([p(cc.Label)],e.prototype,"lbPoint",void 0),r([u],e)}(c.default);n.default=h,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","../State/StateGame":"StateGame","./BaseButton":"BaseButton"}],BtnBetXDV:[function(t,e,n){"use strict";cc._RF.push(e,"d2606Bla8NMbIeRU0pYLbT6","BtnBetXDV");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=t("../State/StateGame"),c=t("./BaseButton"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbPoint=null,e.point=0,e}return i(e,t),e.prototype.onPress=function(t){this.point>=9990*s.Windown.XengController.mutil||this.xengController.btnChangePointR.point<1||(this.xengController.btnChangePointR.point<t&&(t=this.xengController.btnChangePointR.point),this.setPointBy(t),this.soundManager.playEffect(this.soundManager.Ting),this.xengController.btnChangePointR.setPointBy(-t),this.xengController.setCurrentState(a.default.PLAYING))},e.prototype.setLbPoint=function(){this.node&&this.lbPoint.node&&(this.lbPoint.string=(this.point/s.Windown.XengController.mutil).toString())},e.prototype.reset=function(){this.point=0,this.setLbPoint()},e.prototype.setPointBy=function(t,e){void 0===e&&(e=!0),this.point+=t,this.point=cc.misc.clampf(this.point,0,9990*s.Windown.XengController.mutil),e&&this.setLbPoint()},e.prototype.setPoint=function(t,e){void 0===e&&(e=!0),this.point=t,e&&this.setLbPoint()},r([p(cc.Label)],e.prototype,"lbPoint",void 0),r([u],e)}(c.default);n.default=h,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","../State/StateGame":"StateGame","./BaseButton":"BaseButton"}],BtnChangePointLeft:[function(t,e,n){"use strict";cc._RF.push(e,"9f2e3Tpzz9CX4wCsu35fqoK","BtnChangePointLeft");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=t("../State/StateGame"),c=t("./BaseButton"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbPoint=null,e.point=0,e}return i(e,t),e.prototype.onPress=function(t){0!=this.xengController.btnChangePointR.point&&(this.xengController.btnChangePointR.point<t&&(t=this.xengController.btnChangePointR.point),this.setPointBy(t),this.xengController.btnChangePointR.setPointBy(-t),this.soundManager.playEffect(this.soundManager.Ting),this.xengController.setCurrentState(a.default.PLAYINGMINI))},e.prototype.setPointBy=function(t,e){void 0===e&&(e=!0),this.point+=t,e&&this.setLbPoint()},e.prototype.setPoint=function(t,e){void 0===e&&(e=!0),this.point=t,e&&this.setLbPoint()},e.prototype.reset=function(){this.point=0,this.setLbPoint()},e.prototype.setLbPoint=function(){this.node&&this.lbPoint.node&&(this.lbPoint.string=cc.misc.clampf(parseInt(this.point/s.Windown.XengController.mutil),0,999999).toString())},r([p(cc.Label)],e.prototype,"lbPoint",void 0),r([u],e)}(c.default);n.default=h,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","../State/StateGame":"StateGame","./BaseButton":"BaseButton"}],BtnChangePointRight:[function(t,e,n){"use strict";cc._RF.push(e,"22e7eg/USZHh4jZCYWZI6GQ","BtnChangePointRight");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Game/GAME_TYPE"),a=t("../../../../Scritps/Windown"),c=t("../State/StateGame"),l=t("./BaseButton"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbPoint=null,e.point=0,e}return i(e,t),e.prototype.onPress=function(t){0!=this.xengController.btnChangePointL.point&&(this.xengController.btnChangePointL.point<t&&(t=this.xengController.btnChangePointL.point),this.setPointBy(t),this.xengController.btnChangePointL.setPointBy(-t),this.soundManager.playEffect(this.soundManager.Ting),this.xengController.btnChangePointL.point<1&&this.xengController.setCurrentState(c.default.WATING))},e.prototype.reset=function(){},e.prototype.setPointBy=function(t,e){void 0===e&&(e=!0),t<0&&a.Windown.MoneyUser.pushDelayMoney(s.default.Xeng,a.Windown.MoneyUser.moneyCache,-t),this.point=a.Windown.MoneyUser.getMoneyCurrentWhitDelay(),e&&this.setLbPoint()},e.prototype.setPoint=function(t,e){void 0===e&&(e=!0),this.point=t,e&&this.setLbPoint()},e.prototype.setLbPoint=function(){this.node&&this.lbPoint.node&&(this.lbPoint.string=cc.misc.clampf(parseInt(this.point/a.Windown.XengController.mutil),0,999999).toString())},r([h(cc.Label)],e.prototype,"lbPoint",void 0),r([p],e)}(l.default);n.default=d,cc._RF.pop()},{"../../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../../Scritps/Windown":"Windown","../State/StateGame":"StateGame","./BaseButton":"BaseButton"}],BtnClick:[function(t,e,n){"use strict";cc._RF.push(e,"0913fTmuXJLqKoO1wAaD3t3","BtnClick");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./BaseButton"),a=cc.Enum({BIG:1,SMALL:2,LE:3,CHAN:4}),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=a.BIG,e}return i(e,t),e.prototype.onPress=function(){switch(cc.log("on press nay"),this.type){case a.BIG:this.xengController.onClick8_13();break;case a.SMALL:this.xengController.onClick1_6();break;case a.CHAN:this.xengController.onClickChan();break;case a.LE:this.xengController.onClickLe()}},e.prototype.reset=function(){},r([u({type:a})],e.prototype,"type",void 0),r([l],e)}(s.default);n.default=p,cc._RF.pop()},{"./BaseButton":"BaseButton"}],BtnGo:[function(t,e,n){"use strict";cc._RF.push(e,"0daa1dePORASKhxJvObZ14u","BtnGo");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./BaseButton"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onPress=function(){this.xengController.onClickGo(),this.soundManager.playEffect(this.soundManager.Ting)},e.prototype.reset=function(){},r([c],e)}(s.default));n.default=l,cc._RF.pop()},{"./BaseButton":"BaseButton"}],BtnMiniGame:[function(t,e,n){"use strict";cc._RF.push(e,"34c3fl19vhH/4zYj16zUswQ","BtnMiniGame");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Bundle/DownloadProgress"),l=t("../DefineTs/EVENT_MANAGER"),u=t("../DefineTs/REQUEST_CODE"),p=t("../Game/GAME_TYPE"),h=t("../Windown"),d=t("./DragMiniGame"),f=cc._decorator,y=f.ccclass,g=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeTimeTx=null,e.nodeResultTx=null,e.parentIcon=null,e.Mask=null,e._isTouch=!1,e._isMoveBtnMiniGame=!1,e._listShowed=[],e._v2OffsetChange=null,e._vecStart=null,e.lbTimeTx=cc.Label,e.contentTime=cc.Node,e.btnTaiXiu=cc.Node,e.nodeBg=cc.Node,e.height=0,e.width=0,e.funCd=null,e.initPosIcon=[],e}return i(e,t),e.prototype.onLoad=function(){var t=this;h.Windown.BtnMiniGame=this,this.parentIcon.opacity=0,this.height=cc.winSize.height/2,this.width=cc.winSize.width/2,this.node.on(cc.Node.EventType.TOUCH_START,function(e){var n=cc.v2(e.getLocation()).subSelf(cc.v2(t.width,t.height));t._vecStart=n,t._v2OffsetChange=t.node.getPosition().subSelf(n),t._isMoveBtnMiniGame=!1,t._isTouch=!0}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){if(t._isTouch){var n=cc.v2(e.getLocation()).subSelf(cc.v2(t.width,t.height));t.node.setPosition(n.addSelf(t._v2OffsetChange)),t._isMoveBtnMiniGame=!0}}),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(){t._isTouch=!1,t._isMoveBtnMiniGame||t.onClick(null,null,null)}),this.node.on(cc.Node.EventType.TOUCH_END,function(e){t._isTouch=!1,cc.v2(e.getLocation()).subSelf(cc.v2(t.width,t.height)).subSelf(t._vecStart).mag()<15&&t.onClick(null,null,null)}),this.node.active=!1,this.nodeResultTx.opacity=0,this.nodeTimeTx.opacity=0,cc.systemEvent.on(l.EVENT_MANAGER.LOGIN,function(){t.node.active=!0},this),cc.systemEvent.on(l.EVENT_MANAGER.onDisconnect,function(){t.node.active=!1},this),cc.systemEvent.on(u.REQUEST_CODE.TXstartGame,this.startGameTx,this),cc.systemEvent.on(u.REQUEST_CODE.TXendGame,this.endGameTx,this),cc.systemEvent.on(l.EVENT_MANAGER.CHANG_ROTATION,this.onChangRotate,this)},e.prototype.onChangRotate=function(t){t?(this.node.rotation=0,this.node.scale=1):(this.node.rotation=-90,this.node.scale=1)},e.prototype.startGameTx=function(t){var e=this;cc.log("startGameTx"),this.nodeTimeTx.opacity=255,this.nodeResultTx.opacity=0;var n=t.get("time");this.unschedule(this.funCd),this.schedule(this.funCd=function(){e.nodeTimeTx.getComponentInChildren(cc.Label).string=n,n--},1,n,.01)},e.prototype.endGameTx=function(t){this.nodeTimeTx.opacity=0,this.nodeResultTx.opacity=255;var e=JSON.parse(t.get("view")),n=(t.get("time"),0);e.forEach(function(t){n+=t});var o=this.nodeResultTx.getComponentInChildren(sp.Skeleton);n>10?(o.node.x=-17,o.setAnimation(0,"AnimTai",!0)):(o.node.x=17,o.setAnimation(0,"AnimXiu",!0)),null==h.Windown.TaiXiu&&h.Windown.MoneyUser.endGameMOney(p.default.TaiXiu)},e.prototype.onActiveTx=function(){this.nodeResultTx.active=!1,this.nodeTimeTx.active=!1},e.prototype.onDeActiveTx=function(){this.nodeResultTx.active=!0,this.nodeTimeTx.active=!0},e.prototype.onClick=function(){return s(this,void 0,void 0,function(){var t,e,n=this;return a(this,function(){return this.parentIcon.stopAllActions(),255==this.parentIcon.opacity?(cc.tween(this.Mask).to(.2,{opacity:0},{easing:cc.easing.backIn}).start(),cc.tween(this.parentIcon).to(.2,{position:cc.v3(0,0),scale:0},{easing:cc.easing.sineIn}).call(function(){n.changeParentNodeTime(n.node),n.Mask.active=!1,n.parentIcon.opacity=0}).start()):(this.changeParentNodeTime(this.getIconByType(p.default.TaiXiu)[0]),this.checkPosition(),this.Mask.active=!0,t=h.Windown.UIManager.node.convertToWorldSpaceAR(cc.v2(0,0)),e=this.node.convertToNodeSpaceAR(t),this.parentIcon.setPosition(cc.v2(0,0)),this.parentIcon.setScale(0),this.parentIcon.opacity=255,cc.tween(this.Mask).to(.2,{opacity:150},{easing:"sineOut"}).start(),cc.tween(this.parentIcon).to(.2,{scale:.8,position:cc.v3(e.x,e.y)},{easing:cc.easing.sineOut}).start()),[2]})})},e.prototype.changeParentNodeTime=function(t){this.nodeTimeTx.parent=t,this.nodeResultTx.parent=t,t==this.node?(this.nodeTimeTx.setPosition(-25.115,30),this.nodeTimeTx.scale=.8,this.nodeResultTx.scale=.8):(this.nodeTimeTx.setPosition(-40.926,25.142),this.nodeTimeTx.scale=1,this.nodeResultTx.scale=1)},e.prototype.onClickMiniPoker=function(){return s(this,void 0,void 0,function(){var t,e,n,o,i,r,s;return a(this,function(a){switch(a.label){case 0:return this.onClick(),h.Windown.UIManager.checkAndShowDangNhap(),h.Windown.MiniPoker?(h.Windown.MiniPoker.getComponent(d.default).nomalSize(),h.Windown.MiniPoker.node.setPosition(0,0),h.Windown.MiniPoker.isDelayLeave=!1,h.Windown.MiniPoker.node.active=!0,[2]):h.Windown.UIManager.onClickOpenBigGame(p.default.MiniPoker,null)?[3,3]:(h.Windown.UIManager.objGameWating[p.default.MiniPoker]=!0,[4,h.Windown.loadBundle(p.default.MiniPoker.toString())]);case 1:return a.sent(),t=[],e=[this.node],null!=h.Windown.MainView&&e.push(h.Windown.MainView.btnMiniPoker),e.forEach(function(e){var n=cc.instantiate(h.Windown.UIManager.prefabDownload).getComponent(c.default);n.node.name="ProgressDownload",n.node.active=!0,n.node.scale=.7,e.addChild(n.node),t.push(n)}),n=0,o=function(e,o){for(var i=0,r=t;i<r.length;i++)r[i].setPercent(n),e/o>n&&(n=e/o)},[4,h.Windown.loadRes(p.default.MiniPoker.toString(),"MiniPoker",cc.Prefab,o)];case 2:for(i=a.sent(),cc.instantiate(i).parent=h.Windown.UIManager.parentMiniGame,h.Windown.UIManager.objGameWating[p.default.MiniPoker]=!1,r=0,s=t;r<s.length;r++)s[r].node.destroy();a.label=3;case 3:return[2]}})})},e.prototype.onClickMiniSlot=function(){return s(this,void 0,void 0,function(){var t,e,n,o,i,r,s;return a(this,function(a){switch(a.label){case 0:return 0==this.parentIcon.opacity?[2]:(this.onClick(),h.Windown.UIManager.checkAndShowDangNhap(),h.Windown.MiniSlot?(h.Windown.MiniSlot.getComponent(d.default).nomalSize(),h.Windown.MiniSlot.node.setPosition(0,0),h.Windown.MiniSlot.isDelayLeave=!1,h.Windown.MiniSlot.node.active=!0,[2]):h.Windown.UIManager.onClickOpenBigGame(p.default.MiniSlot,null)?[3,3]:(h.Windown.UIManager.objGameWating[p.default.MiniSlot]=!0,[4,h.Windown.loadBundle(p.default.MiniSlot.toString())]));case 1:return a.sent(),t=[],e=[this.node],null!=h.Windown.MainView&&e.push(h.Windown.MainView.btnMiniSlot),e.forEach(function(e){var n=cc.instantiate(h.Windown.UIManager.prefabDownload).getComponent(c.default);n.node.name="ProgressDownload",n.node.active=!0,n.node.scale=.7,e.addChild(n.node),t.push(n)}),n=0,o=function(e,o){for(var i=0,r=t;i<r.length;i++)r[i].setPercent(n),e/o>n&&(n=e/o)},[4,h.Windown.loadRes(p.default.MiniSlot.toString(),"MiniSlot",cc.Prefab,o)];case 2:for(i=a.sent(),cc.instantiate(i).parent=h.Windown.UIManager.parentMiniGame,h.Windown.UIManager.objGameWating[p.default.MiniSlot]=!1,r=0,s=t;r<s.length;r++)s[r].node.destroy();a.label=3;case 3:return[2]}})})},e.prototype.onClickMiniTx=function(){return s(this,void 0,void 0,function(){var t,e,n,o,i,r,s;return a(this,function(a){switch(a.label){case 0:return this.onClick(),h.Windown.UIManager.checkAndShowDangNhap(),h.Windown.TaiXiu?(h.Windown.TaiXiu.getComponent(d.default).nomalSize(),h.Windown.TaiXiu.node.setPosition(0,0),h.Windown.TaiXiu.isDelayLeave=!1,h.Windown.TaiXiu.node.active=!0,[2]):h.Windown.UIManager.onClickOpenBigGame(p.default.TaiXiu,null)?[3,3]:(h.Windown.UIManager.objGameWating[p.default.TaiXiu]=!0,[4,h.Windown.loadBundle(p.default.TaiXiu.toString())]);case 1:return a.sent(),t=[],e=[this.node],null!=h.Windown.MainView&&e.push(h.Windown.MainView.btnTaiXiu),e.forEach(function(e){var n=cc.instantiate(h.Windown.UIManager.prefabDownload).getComponent(c.default);n.node.name="ProgressDownload",n.node.active=!0,n.node.scale=.7,e.addChild(n.node),t.push(n)}),n=0,o=function(e,o){for(var i=0,r=t;i<r.length;i++)r[i].setPercent(n),e/o>n&&(n=e/o)},[4,h.Windown.loadRes(p.default.TaiXiu.toString(),"TaiXiu",cc.Prefab,o)];case 2:for(i=a.sent(),cc.instantiate(i).parent=h.Windown.UIManager.parentMiniGame,h.Windown.UIManager.objGameWating[p.default.TaiXiu]=!1,r=0,s=t;r<s.length;r++)s[r].node.destroy();a.label=3;case 3:return[2]}})})},e.prototype.checkPosition=function(){cc.log("checkPosition")},e.prototype.getIconByType=function(t){var e=[],n=cc.find(t.toString(),this.parentIcon);return n&&e.push(n),e},r([g(cc.Node)],e.prototype,"nodeTimeTx",void 0),r([g(cc.Node)],e.prototype,"nodeResultTx",void 0),r([g(cc.Node)],e.prototype,"parentIcon",void 0),r([g(cc.Node)],e.prototype,"Mask",void 0),r([y],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../Bundle/DownloadProgress":"DownloadProgress","../DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../DefineTs/REQUEST_CODE":"REQUEST_CODE","../Game/GAME_TYPE":"GAME_TYPE","../Windown":"Windown","./DragMiniGame":"DragMiniGame"}],BulletFire:[function(t,e,n){"use strict";cc._RF.push(e,"ec658oejMdJ1Z6tZ9Pqi+bs","BulletFire");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Network/ConectManager"),a=t("../../../../Scritps/Windown"),c=t("../Fish/FISH_TYPE"),l=t("../Network/CODE_EVT"),u=t("../Player/TypeItemDragBD"),p=t("./BaseBulletBD"),h=cc._decorator,d=h.ccclass,f=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.byFish=-1,e.listIdFishCache=[],e.panelPoint=null,e}return i(e,t),e.prototype.creat=function(t){this.byFish=t.get("byFish"),this.unschedule(this.sendToServer),this.schedule(this.sendToServer,.2),this.listIdFishCache.length=0},e.prototype.onCollision=function(){},e.prototype.onCollisionStay=function(t){var e=a.Windown.FishBongDem.fishMng.getFishById(t.tag);if(e){var n=e.fishId,o=e.fishType;this.listIdFishCache.includes(n)||o==c.default.MUI_KHOAN||o==c.default.SONG_AM||o==c.default.LAZE||o==c.default.BOOM||o==c.default.GUN_FIRE||o==c.default.VONG_QUAY||this.listIdFishCache.push(n)}},e.prototype.remove=function(){},e.prototype.update=function(){},e.prototype.setPanel=function(t){this.panelPoint=t},e.prototype.sendToServer=function(){if(this.listIdFishCache.length>0){var t=s.ConectManager.getIns().getSFSArray();this.listIdFishCache.forEach(function(e){t.addInt(e)});var e=s.ConectManager.getIns().getSFSObj();e.putInt("Type",u.default.GUN_FIRE),e.putLong("byFish",this.byFish),e.putLong("Id",this.byFish),e.putSFSArray("ListFishId",t),e.putInt("lastMoneyRevice",this.panelPoint.moneyCurrent),a.Windown.FishBongDem.sendRequest(l.default.FishSpecialColisionBD,e),this.listIdFishCache.length=0}},e.prototype.start=function(){},r([d],e)}(p.default));n.default=f,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Windown":"Windown","../Fish/FISH_TYPE":"FISH_TYPE","../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD","./BaseBulletBD":"BaseBulletBD"}],BulletLazeBD:[function(t,e,n){"use strict";cc._RF.push(e,"d4783j8kwRD9pqpUj7bVq5h","BulletLazeBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Network/ConectManager"),a=t("../../../../Scritps/Windown"),c=t("../Network/CODE_EVT"),l=t("../Player/TypeItemDragBD"),u=t("./BaseBulletBD"),p=cc._decorator,h=p.ccclass,d=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.funDeactive=null,e.funDelaySendFish=null,e.SFSArrayFish=null,e.byFish=-1,e}return i(e,t),e.prototype.creat=function(){},e.prototype.init=function(t,e){var n=this;this.node.active=!0,this.byFish=e,this.SFSArrayFish=s.ConectManager.getIns().getSFSArray(),this.unschedule(this.funDeactive),this.unschedule(this.funDelaySendFish),this.scheduleOnce(this.funDeactive=function(){n.sendToServer(),n.unschedule(n.funDelaySendFish),n.node.active=!1},t),this.schedule(this.funDelaySendFish=function(){n.sendToServer()},.5)},e.prototype.sendToServer=function(){this.unschedule(this.funDelaySendFish);var t=s.ConectManager.getIns().getSFSObj();t.putInt("Type",l.default.LAZE),t.putLong("byFish",this.byFish),t.putLong("Id",this.byFish),t.putSFSArray("ListFishId",this.SFSArrayFish),a.Windown.FishBongDem.sendRequest(c.default.FishSpecialColisionBD,t),this.SFSArrayFish=s.ConectManager.getIns().getSFSArray()},e.prototype.onCollision=function(t){t.getCanColision()&&this.SFSArrayFish.addInt(t.fishId)},e.prototype.remove=function(){},e.prototype.update=function(){},r([h],e)}(u.default));n.default=d,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Windown":"Windown","../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD","./BaseBulletBD":"BaseBulletBD"}],BulletMatThan:[function(t,e,n){"use strict";cc._RF.push(e,"1f1c0GXoFVABaUAtzzmOMF0","BulletMatThan");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Network/ConectManager"),a=t("../../../../Scritps/Windown"),c=t("../Network/CODE_EVT"),l=t("../Player/TypeItemDragBD"),u=cc._decorator,p=u.ccclass,h=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMe=!1,e.fishTarget=void 0,e.speed=500,e.posCashe=cc.v2(0,0),e.matThan=null,e.isDeadtroy=!1,e.currentPosColider=cc.v2(0,0),e}return i(e,t),e.prototype.creat=function(t,e,n){this.node.children[0].active=!0,this.node.children[1].active=!1,this.fishTarget=t,this.isMe=n,this.matThan=e,this.isDeadtroy=!1,this.getComponent(cc.BoxCollider).enabled=!0},e.prototype.getVec=function(t){var e=null;if(this.isDeadtroy)return e;t?(this.posCashe=t.clone(),e=t):(this.matThan.removeBullet(this),e=this.posCashe,cc.Vec2.distance(this.node.getPosition(),e)<5&&!this.isDeadtroy&&this.effectDestroy());var n=cc.Vec2.subtract(cc.v2(),e,this.node.getPosition()),o=180*Math.atan2(n.x,n.y)/Math.PI,i=this.speed,r=i*Math.sin(o*Math.PI/180),s=i*Math.cos(o*Math.PI/180);return this.node.angle=-o,cc.v2(r,s)},e.prototype.effectDestroy=function(){this.matThan.putBullet(this),this.isDeadtroy=!0},e.prototype.creatLuoi=function(){this.isDeadtroy=!0,this.node.children[0].active=!1;var t=this.node.children[1];t.active=!0,t.scale=.8,t.opacity=255;var e=cc.scaleTo(.2,1),n=cc.scaleTo(.25,.3),o=cc.fadeOut(.25).easing(cc.easeOut(1)),i=cc.callFunc(this.effectDestroy,this);t.stopAllActions(),t.runAction(cc.sequence(e,cc.spawn(n,o),i))},e.prototype.onCollisionEnter=function(t){var e=a.Windown.FishBongDem.fishMng.getFishById(t.tag);if(e&&e==this.fishTarget&&e.getCanColision()){if(this.isDeadtroy||!e.getCanColision())return;if(e.onColision(t),this.matThan.removeBullet(this),this.creatLuoi(),this.getComponent(cc.BoxCollider).enabled=!1,this.isMe){var n=s.ConectManager.getIns().getSFSArray();n.addInt(e.fishId);var o=s.ConectManager.getIns().getSFSObj();o.putInt("Type",l.default.MAT_THAN),o.putLong("byFish",this.matThan.idItemDrag),o.putLong("Id",this.matThan.idItemDrag),o.putSFSArray("ListFishId",n),a.Windown.FishBongDem.sendRequest(c.default.FishSpecialColisionBD,o)}}},e.prototype.update=function(t){t*=cc.director.getScheduler().getTimeScale();var e=this.getVec(this.currentPosColider);if(e){var n=e.x*t,o=e.y*t,i=this.node.x+n,r=this.node.y+o;this.node.x=i,this.node.y=r}},r([p],e)}(cc.Component));n.default=h,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Windown":"Windown","../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD"}],BulletMuiKhoanBD:[function(t,e,n){"use strict";cc._RF.push(e,"c9ef2hnYLBOt7g+Pu8ToUma","BulletMuiKhoanBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Network/ConectManager"),a=t("../../../../Scritps/Windown"),c=t("../Network/CODE_EVT"),l=t("../Player/TypeItemDragBD"),u=t("./BaseBulletBD"),p=cc._decorator,h=p.ccclass,d=p.property,f={normal:0,ganEnd:1,end:2,stop:3},y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spBinhThuong=null,e.spGanHet=null,e.spHet=null,e.spineBullet=null,e.spineExplode=null,e.funDeactive=null,e.funDelaySendFish=null,e.SFSArrayFish=null,e.byFish=-1,e.limitTop=360,e.limitBottom=-360,e.limitRight=640,e.limitLeft=-640,e.vx=0,e.vy=0,e.isMe=!1,e.speed=0,e.state=f.normal,e.timeTotalLife=0,e.vXS=-1,e.vYS=-1,e.spineNameBinhThuong="animation1",e.spineNameGanHet="animation2",e.spineNameHet="animation3",e.panelPoint=null,e}return i(e,t),e.prototype.creat=function(t,e,n){void 0===n&&(n=!1);var o=t.getFloat("VelocityX"),i=t.getFloat("VelocityY"),r=t.getFloat("PositionX"),a=t.getFloat("PositionY"),c=t.getFloat("Angle"),l=t.getInt("Speed");this.speed=l,this.gunBD=e,this.node.angle=-c,this.node.x=r,this.node.y=a,this.vx=o,this.vy=i,this.vXS=o,this.vYS=i,this.isMe=n,this.byFish=t.get("byFish"),this.timeTotalLife=t.get("timeTotalLife"),this.SFSArrayFish=s.ConectManager.getIns().getSFSArray(),this.node.children[0].angle=0,this.node.children[1].active=!1,this.unschedule(this.sendToServer),this.schedule(this.sendToServer,.1),this.node.children[0].active=!0,this.node.children[2].active=!0},e.prototype.setPanel=function(t){this.panelPoint=t},e.prototype.sendToServer=function(){var t=s.ConectManager.getIns().getSFSObj();t.putInt("Type",l.default.MUI_KHOAN),t.putLong("byFish",this.byFish),t.putLong("Id",this.byFish),t.putSFSArray("ListFishId",this.SFSArrayFish),t.putInt("lastMoneyRevice",this.panelPoint.moneyCurrent),a.Windown.FishBongDem.sendRequest(c.default.FishSpecialColisionBD,t),this.SFSArrayFish=s.ConectManager.getIns().getSFSArray()},e.prototype.onCollision=function(t,e){if(t.getCanColision()){this.SFSArrayFish.addInt(t.fishId);var n=a.Windown.FishBongDem.pool.getVaChamMuiKhoan();n.parent=a.Windown.FishBongDem.fishBDView.parentEffect;var o=e.node.parent.convertToWorldSpaceAR(e.node.getPosition()),i=a.Windown.FishBongDem.fishBDView.parentEffect.convertToNodeSpaceAR(o);n.setPosition(i),n.opacity=255,n.scale=0,n.stopAllActions(),n.runAction(cc.sequence(cc.scaleTo(.1,1),cc.fadeOut(.3),cc.callFunc(function(){a.Windown.FishBongDem.pool.putVaChamMuiKhoan(n)})));var r=a.Windown.FishBongDem.getSound();r.playEffectNoStop(r.trungMuiKhoan)}},e.prototype.remove=function(){},e.prototype.checkState=function(){var t=this;if(this.timeTotalLife>4)this.state!=f.normal&&(this.vx=this.vXS,this.vy=this.vYS,this.spineBullet.setAnimation(0,this.spineNameBinhThuong,!0)),this.state=f.normal;else if(this.timeTotalLife>2)this.state!=f.ganEnd&&(this.node.children[2].active=!1,this.vx=.6*this.vXS,this.vy=.6*this.vYS,this.spineBullet.setAnimation(0,this.spineNameGanHet,!0)),this.state=f.ganEnd;else if(this.timeTotalLife>0)this.state!=f.end&&(this.node.children[0].runAction(cc.rotateBy(2,720)),this.vx=.3*this.vXS,this.vy=.3*this.vYS,this.spineBullet.setAnimation(0,this.spineNameHet,!0)),this.state=f.end;else{if(this.state!=f.stop){this.unschedule(this.sendToServer),this.node.children[0].active=!1;var e=this.spineExplode;e.node.active=!0,e.setAnimation(0,"animation",!1),a.Windown.FishBongDem.fishBDView.shakeScence(.1),this.scheduleOnce(function(){var e=s.ConectManager.getIns().getSFSObj();e.putInt("Type",l.default.END_MUI_KHOAN),e.putLong("Id",t.byFish+1),a.Windown.FishBongDem.sendRequest(c.default.UsingItemDrag,e);for(var n=s.ConectManager.getIns().getSFSArray(),o=a.Windown.FishBongDem.fishMng.getMapFish().values(),i=o.next();!i.done;){var r=i.value;i=o.next();var u=cc.Vec2.distance(r.getPoint(),t.node.getPosition());r.isInScreen()&&r.fishType<8&&u<300&&n.addInt(r.fishId)}var p=s.ConectManager.getIns().getSFSObj();p.putInt("Type",l.default.END_MUI_KHOAN),p.putLong("byFish",t.byFish),p.putLong("Id",t.byFish+1),p.putSFSArray("ListFishId",n),p.putInt("lastMoneyRevice",t.panelPoint.moneyCurrent),a.Windown.FishBongDem.sendRequest(c.default.FishSpecialColisionBD,p),a.Windown.FishBongDem.getSound().playEffect(a.Windown.FishBongDem.getSound().fishBoom),t.scheduleOnce(function(){a.Windown.FishBongDem.pool.putBulletMuiKhoan(t.node)},1.5)},.2)}this.state=f.stop}},e.prototype.update=function(t){if(t*=cc.director.getScheduler().getTimeScale(),this.timeTotalLife-=t,this.checkState(),!(this.timeTotalLife<0)){var e=this.vx*t,n=this.vy*t,o=this.node.x+e,i=this.node.y+n;(o>=this.limitRight||o<=this.limitLeft)&&(a.Windown.FishBongDem.fishBDView.shakeScence(.05),this.vx*=-1,this.vXS*=-1,this.node.angle=-this.node.angle,o=o>=this.limitRight?this.limitRight-1:this.limitLeft+1),(i>=this.limitTop||i<=this.limitBottom)&&(a.Windown.FishBongDem.fishBDView.shakeScence(.05),this.vy*=-1,this.vYS*=-1,this.node.angle=-180-this.node.angle,i=i>=this.limitTop?this.limitTop-1:this.limitBottom+1),this.node.x=o,this.node.y=i}},r([d(cc.SpriteFrame)],e.prototype,"spBinhThuong",void 0),r([d(cc.SpriteFrame)],e.prototype,"spGanHet",void 0),r([d(cc.SpriteFrame)],e.prototype,"spHet",void 0),r([d(sp.Skeleton)],e.prototype,"spineBullet",void 0),r([d(sp.Skeleton)],e.prototype,"spineExplode",void 0),r([h],e)}(u.default);n.default=y,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Windown":"Windown","../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD","./BaseBulletBD":"BaseBulletBD"}],BulletNormal:[function(t,e,n){"use strict";cc._RF.push(e,"0e784kwooxEireyBGENd22q","BulletNormal");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Network/ConectManager"),a=t("../../../../Scritps/Windown"),c=t("../Network/CODE_EVT"),l=t("./BaseBulletBD"),u=cc._decorator,p=u.ccclass,h=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.limitTop=360,e.limitBottom=-360,e.limitRight=640,e.limitLeft=-640,e.lifeTime=4,e._idBullet=0,e.isCanColision=!1,e.type=null,e.vx=0,e.vy=0,e.fishIdTarget=-1,e.isMe=!1,e.fishTarget=void 0,e.speed=0,e.coliderTarget=null,e}return i(e,t),e.prototype.creat=function(t,e,n){void 0===n&&(n=!1);var o=t.getFloat("VelocityX"),i=t.getFloat("VelocityY"),r=t.getFloat("PositionX"),s=t.getFloat("PositionY"),c=t.getFloat("Angle"),l=t.getInt("Speed");this.speed=l,this.gunBD=e,this.getComponent(cc.BoxCollider).enabled=!0,this.type=t.getInt("GunType"),this._idBullet=t.get("BulletId"),this.fishIdTarget=t.getInt("FishIdTarget")||-1,this.fishTarget=a.Windown.FishBongDem.fishMng.getFishById(this.fishIdTarget),this.fishTarget&&this.fishTarget.getListColider().length>0&&(this.coliderTarget=this.fishTarget.getListColider()[t.get("IC")]),this.node.angle=-c,this.node.x=r,this.node.y=s,this.lifeTime=4,this.vx=o,this.vy=i,this.isCanColision=!0,this.isMe=n,this.node.children[0].active=!0,this.node.children[1].active=!1},e.prototype.onCollision=function(t,e){this.onColisionFishNormal(t,e)},e.prototype.onColisionFishNormal=function(t,e){if(this.isCanColision&&t.getCanColision()&&(-1==this.fishIdTarget||t.fishId==this.fishIdTarget)&&(t.onColision(e),this.creatLuoi(),this.getComponent(cc.BoxCollider).enabled=!1,this.isCanColision=!1,this.isMe)){var n=s.ConectManager.getIns().getSFSObj();n.putLong("BulletId",this._idBullet),n.putInt("FishId",t.fishId),n.putInt("FishType",t.fishType),a.Windown.FishBongDem.sendRequest(c.default.FishColisionBD,n)}},e.prototype.update=function(t){if(this.isCanColision){t*=cc.director.getScheduler().getTimeScale(),this.getVec();var e=this.vx*t,n=this.vy*t,o=this.node.x+e,i=this.node.y+n;(o>=this.limitRight||o<=this.limitLeft)&&(this.vx*=-1,this.lifeTime--,this.fishIdTarget=-1,this.node.angle=-this.node.angle,o=o>=this.limitRight?this.limitRight-1:this.limitLeft+1,this.lifeTime<1&&this.remove()),(i>=this.limitTop||i<=this.limitBottom)&&(this.vy*=-1,this.node.angle=-180-this.node.angle,i=i>=this.limitTop?this.limitTop-1:this.limitBottom+1,this.lifeTime--,this.fishIdTarget=-1,this.lifeTime<1&&this.remove()),this.node.x=o,this.node.y=i}},e.prototype.getVec=function(){if(-1!=this.fishIdTarget&&this.fishTarget&&this.coliderTarget&&this.coliderTarget.node&&this.fishTarget.isInList){var t=this.coliderTarget.node.parent.convertToWorldSpaceAR(this.coliderTarget.node.getPosition()),e=a.Windown.FishBongDem.fishBDView.parentFish.convertToNodeSpaceAR(t).subSelf(this.node.getPosition()),n=180*Math.atan2(e.x,e.y)/Math.PI,o=this.speed,i=o*Math.sin(n*Math.PI/180),r=o*Math.cos(n*Math.PI/180);this.vx=i,this.vy=r,this.node.angle=-n}return cc.v2(this.vx,this.vy)},e.prototype.creatLuoi=function(){this.node.children[0].active=!1;var t=this.node.children[1];t.active=!0,t.scale=.8,t.opacity=255;var e=cc.scaleTo(.2,1),n=cc.scaleTo(.25,.3),o=cc.fadeOut(.25).easing(cc.easeOut(1)),i=cc.callFunc(this.remove,this);t.stopAllActions(),t.runAction(cc.sequence(e,cc.spawn(n,o),i))},e.prototype.remove=function(){this.fishTarget=null,this.gunBD.putButtletNormal(this.node)},r([p],e)}(l.default));n.default=h,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Windown":"Windown","../Network/CODE_EVT":"CODE_EVT","./BaseBulletBD":"BaseBulletBD"}],BulletSongAmBD:[function(t,e,n){"use strict";cc._RF.push(e,"b0337fHJ7xPzYGnmR4F2Uav","BulletSongAmBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Network/ConectManager"),a=t("../../../../Scritps/Windown"),c=t("../Network/CODE_EVT"),l=t("../Player/TypeItemDragBD"),u=t("./BaseBulletBD"),p=cc._decorator,h=p.ccclass,d=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.funDeactive=null,e.funDelaySendFish=null,e.SFSArrayFish=null,e.byFish=-1,e}return i(e,t),e.prototype.creat=function(){},e.prototype.init=function(t,e){var n=this;this.node.active=!0,this.byFish=e,this.SFSArrayFish=s.ConectManager.getIns().getSFSArray(),this.unschedule(this.funDeactive),this.unschedule(this.funDelaySendFish),this.scheduleOnce(this.funDeactive=function(){n.sendToServer(),n.unschedule(n.funDelaySendFish),n.node.active=!1},t),this.schedule(this.funDelaySendFish=function(){n.sendToServer()},.5)},e.prototype.sendToServer=function(){var t=s.ConectManager.getIns().getSFSObj();t.putInt("Type",l.default.SONG_AM),t.putLong("byFish",this.byFish),t.putLong("Id",this.byFish),t.putSFSArray("ListFishId",this.SFSArrayFish),a.Windown.FishBongDem.sendRequest(c.default.FishSpecialColisionBD,t),this.SFSArrayFish=s.ConectManager.getIns().getSFSArray()},e.prototype.onCollision=function(t){t.getCanColision()&&this.SFSArrayFish.addInt(t.fishId)},e.prototype.remove=function(){},e.prototype.update=function(){},r([h],e)}(u.default));n.default=d,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Windown":"Windown","../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD","./BaseBulletBD":"BaseBulletBD"}],ButtonExpand:[function(t,e,n){"use strict";cc._RF.push(e,"aa19cAnlXtHq5Ygofb3jT5l","ButtonExpand");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},e.prototype.onClick=function(){s.Windown.MainView.onClickHideTab()},r([l(cc.Label)],e.prototype,"label",void 0),r([l],e.prototype,"text",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../Windown":"Windown"}],1:[function(t,e,n){"use strict";n.byteLength=function(t){var e=l(t),n=e[0],o=e[1];return 3*(n+o)/4-o},n.toByteArray=function(t){var e,n,o=l(t),s=o[0],a=o[1],c=new r(u(0,s,a)),p=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],c[p++]=e>>16&255,c[p++]=e>>8&255,c[p++]=255&e;return 2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,c[p++]=255&e),1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,c[p++]=e>>8&255,c[p++]=255&e),c},n.fromByteArray=function(t){for(var e,n=t.length,i=n%3,r=[],s=0,a=n-i;s<a;s+=16383)r.push(p(t,s,s+16383>a?a:s+16383));return 1===i?(e=t[n-1],r.push(o[e>>2]+o[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],r.push(o[e>>10]+o[e>>4&63]+o[e<<2&63]+"=")),r.join("")};for(var o=[],i=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)o[a]=s[a],i[s.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,n){return 3*(e+n)/4-n}function p(t,e,n){for(var i,r,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(o[(r=i)>>18&63]+o[r>>12&63]+o[r>>6&63]+o[63&r]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(t,e,n){(function(e){"use strict";var o=t("base64-js"),i=t("ieee754"),r=t("isarray");function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return l(this,t,e,n)}function l(t,e,n,o){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?y(t,e,n,o):"string"==typeof e?d(t,e,n):g(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function p(t,e,n,o){return u(e),e<=0?a(t,e):void 0!==n?"string"==typeof o?a(t,e).fill(n,o):a(t,e).fill(n):a(t,e)}function h(t,e){if(u(e),t=a(t,e<0?0:0|m(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var o=0|v(e,n),i=(t=a(t,o)).write(e,n);return i!==o&&(t=t.slice(0,i)),t}function f(t,e){var n=e.length<0?0:0|m(e.length);t=a(t,n);for(var o=0;o<n;o+=1)t[o]=255&e[o];return t}function y(t,e,n,o){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(o||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===o?new Uint8Array(e):void 0===o?new Uint8Array(e,n):new Uint8Array(e,n,o),c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=f(t,e),t}function g(t,e){if(c.isBuffer(e)){var n=0|m(e.length);return 0===(t=a(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(o=e.length)!=o?a(t,0):f(t,e);if("Buffer"===e.type&&r(e.data))return f(t,e.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function v(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(t).length;default:if(o)return Q(t).length;e=(""+e).toLowerCase(),o=!0}}function S(t,e,n){var o=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,n);case"utf8":case"utf-8":return A(this,e,n);case"ascii":return D(this,e,n);case"latin1":case"binary":return N(this,e,n);case"base64":return R(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,n);default:if(o)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),o=!0}}function b(t,e,n){var o=t[e];t[e]=t[n],t[n]=o}function w(t,e,n,o,i){if(0===t.length)return-1;if("string"==typeof n?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,o)),c.isBuffer(e))return 0===e.length?-1:_(t,e,n,o,i);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):_(t,[e],n,o,i);throw new TypeError("val must be string, number or Buffer")}function _(t,e,n,o,i){var r,s=1,a=t.length,c=e.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var u=-1;for(r=n;r<a;r++)if(l(t,r)===l(e,-1===u?0:r-u)){if(-1===u&&(u=r),r-u+1===c)return u*s}else-1!==u&&(r-=r-u),u=-1}else for(n+c>a&&(n=a-c),r=n;r>=0;r--){for(var p=!0,h=0;h<c;h++)if(l(t,r+h)!==l(e,h)){p=!1;break}if(p)return r}return-1}function C(t,e,n,o){n=Number(n)||0;var i=t.length-n;o?(o=Number(o))>i&&(o=i):o=i;var r=e.length;if(r%2!=0)throw new TypeError("Invalid hex string");o>r/2&&(o=r/2);for(var s=0;s<o;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function T(t,e,n,o){return Y(Q(e,t.length-n),t,n,o)}function I(t,e,n,o){return Y(K(e),t,n,o)}function W(t,e,n,o){return I(t,e,n,o)}function M(t,e,n,o){return Y(q(e),t,n,o)}function E(t,e,n,o){return Y(J(e,t.length-n),t,n,o)}function R(t,e,n){return 0===e&&n===t.length?o.fromByteArray(t):o.fromByteArray(t.slice(e,n))}function A(t,e,n){n=Math.min(t.length,n);for(var o=[],i=e;i<n;){var r,s,a,c,l=t[i],u=null,p=l>239?4:l>223?3:l>191?2:1;if(i+p<=n)switch(p){case 1:l<128&&(u=l);break;case 2:128==(192&(r=t[i+1]))&&(c=(31&l)<<6|63&r)>127&&(u=c);break;case 3:r=t[i+1],s=t[i+2],128==(192&r)&&128==(192&s)&&(c=(15&l)<<12|(63&r)<<6|63&s)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:r=t[i+1],s=t[i+2],a=t[i+3],128==(192&r)&&128==(192&s)&&128==(192&a)&&(c=(15&l)<<18|(63&r)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(u=c)}null===u?(u=65533,p=1):u>65535&&(u-=65536,o.push(u>>>10&1023|55296),u=56320|1023&u),o.push(u),i+=p}return O(o)}n.Buffer=c,n.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},n.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),n.kMaxLength=s(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return l(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return p(null,t,e,n)},c.allocUnsafe=function(t){return h(null,t)},c.allocUnsafeSlow=function(t){return h(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,o=e.length,i=0,r=Math.min(n,o);i<r;++i)if(t[i]!==e[i]){n=t[i],o=e[i];break}return n<o?-1:o<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!r(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var o=c.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(o,i),i+=s.length}return o},c.byteLength=v,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)b(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):S.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,o,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===o&&(o=0),void 0===i&&(i=this.length),e<0||n>t.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&e>=n)return 0;if(o>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var r=(i>>>=0)-(o>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(r,s),l=this.slice(o,i),u=t.slice(e,n),p=0;p<a;++p)if(l[p]!==u[p]){r=l[p],s=u[p];break}return r<s?-1:s<r?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return w(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return w(this,t,e,n,!1)},c.prototype.write=function(t,e,n,o){if(void 0===e)o="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)o=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===o&&(o="utf8")):(o=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var r=!1;;)switch(o){case"hex":return C(this,t,e,n);case"utf8":case"utf-8":return T(this,t,e,n);case"ascii":return I(this,t,e,n);case"latin1":case"binary":return W(this,t,e,n);case"base64":return M(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(r)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),r=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;function O(t){var e=t.length;if(e<=B)return String.fromCharCode.apply(String,t);for(var n="",o=0;o<e;)n+=String.fromCharCode.apply(String,t.slice(o,o+=B));return n}function D(t,e,n){var o="";n=Math.min(t.length,n);for(var i=e;i<n;++i)o+=String.fromCharCode(127&t[i]);return o}function N(t,e,n){var o="";n=Math.min(t.length,n);for(var i=e;i<n;++i)o+=String.fromCharCode(t[i]);return o}function P(t,e,n){var o,i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",s=e;s<n;++s)r+=(o=t[s])<16?"0"+o.toString(16):o.toString(16);return r}function k(t,e,n){for(var o=t.slice(e,n),i="",r=0;r<o.length;r+=2)i+=String.fromCharCode(o[r]+256*o[r+1]);return i}function F(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,n,o,i,r){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<r)throw new RangeError('"value" argument is out of bounds');if(n+o>t.length)throw new RangeError("Index out of range")}function x(t,e,n,o){e<0&&(e=65535+e+1);for(var i=0,r=Math.min(t.length-n,2);i<r;++i)t[n+i]=(e&255<<8*(o?i:1-i))>>>8*(o?i:1-i)}function j(t,e,n,o){e<0&&(e=4294967295+e+1);for(var i=0,r=Math.min(t.length-n,4);i<r;++i)t[n+i]=e>>>8*(o?i:3-i)&255}function U(t,e,n,o){if(n+o>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function G(t,e,n,o,r){return r||U(t,0,n,4),i.write(t,e,n,o,23,4),n+4}function V(t,e,n,o,r){return r||U(t,0,n,8),i.write(t,e,n,o,52,8),n+8}c.prototype.slice=function(t,e){var n,o=this.length;if((t=~~t)<0?(t+=o)<0&&(t=0):t>o&&(t=o),(e=void 0===e?o:~~e)<0?(e+=o)<0&&(e=0):e>o&&(e=o),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var i=e-t;n=new c(i,void 0);for(var r=0;r<i;++r)n[r]=this[r+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var o=this[t],i=1,r=0;++r<e&&(i*=256);)o+=this[t+r]*i;return o},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var o=this[t+--e],i=1;e>0&&(i*=256);)o+=this[t+--e]*i;return o},c.prototype.readUInt8=function(t,e){return e||F(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||F(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||F(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var o=this[t],i=1,r=0;++r<e&&(i*=256);)o+=this[t+r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var o=e,i=1,r=this[t+--o];o>0&&(i*=256);)r+=this[t+--o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readInt8=function(t,e){return e||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||F(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||F(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||F(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||F(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||F(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||F(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,o){t=+t,e|=0,n|=0,o||L(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,r=0;for(this[e]=255&t;++r<n&&(i*=256);)this[e+r]=t/i&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,o){t=+t,e|=0,n|=0,o||L(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,r=1;for(this[e+i]=255&t;--i>=0&&(r*=256);)this[e+i]=t/r&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):x(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):x(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):j(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,o){if(t=+t,e|=0,!o){var i=Math.pow(2,8*n-1);L(this,t,e,n,i-1,-i)}var r=0,s=1,a=0;for(this[e]=255&t;++r<n&&(s*=256);)t<0&&0===a&&0!==this[e+r-1]&&(a=1),this[e+r]=(t/s>>0)-a&255;return e+n},c.prototype.writeIntBE=function(t,e,n,o){if(t=+t,e|=0,!o){var i=Math.pow(2,8*n-1);L(this,t,e,n,i-1,-i)}var r=n-1,s=1,a=0;for(this[e+r]=255&t;--r>=0&&(s*=256);)t<0&&0===a&&0!==this[e+r+1]&&(a=1),this[e+r]=(t/s>>0)-a&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):x(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):x(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):j(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return G(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return G(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return V(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return V(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,o){if(n||(n=0),o||0===o||(o=this.length),e>=t.length&&(e=t.length),e||(e=0),o>0&&o<n&&(o=n),o===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-e<o-n&&(o=t.length-e+n);var i,r=o-n;if(this===t&&n<e&&e<o)for(i=r-1;i>=0;--i)t[i+e]=this[i+n];else if(r<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<r;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+r),e);return r},c.prototype.fill=function(t,e,n,o){if("string"==typeof t){if("string"==typeof e?(o=e,e=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!c.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var r;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(r=e;r<n;++r)this[r]=t;else{var s=c.isBuffer(t)?t:Q(new c(t,o).toString()),a=s.length;for(r=0;r<n-e;++r)this[r+e]=s[r%a]}return this};var X=/[^+\/0-9A-Za-z-_]/g;function H(t){if((t=z(t).replace(X,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function z(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Q(t,e){var n;e=e||1/0;for(var o=t.length,i=null,r=[],s=0;s<o;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(s+1===o){(e-=3)>-1&&r.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&r.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&r.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;r.push(n)}else if(n<2048){if((e-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function K(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function J(t,e){for(var n,o,i,r=[],s=0;s<t.length&&!((e-=2)<0);++s)o=(n=t.charCodeAt(s))>>8,i=n%256,r.push(i),r.push(o);return r}function q(t){return o.toByteArray(H(t))}function Y(t,e,n,o){for(var i=0;i<o&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:4,isarray:3}],3:[function(t,e){var n={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}],4:[function(t,e,n){n.read=function(t,e,n,o,i){var r,s,a=8*i-o-1,c=(1<<a)-1,l=c>>1,u=-7,p=n?i-1:0,h=n?-1:1,d=t[e+p];for(p+=h,r=d&(1<<-u)-1,d>>=-u,u+=a;u>0;r=256*r+t[e+p],p+=h,u-=8);for(s=r&(1<<-u)-1,r>>=-u,u+=o;u>0;s=256*s+t[e+p],p+=h,u-=8);if(0===r)r=1-l;else{if(r===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,o),r-=l}return(d?-1:1)*s*Math.pow(2,r-o)},n.write=function(t,e,n,o,i,r){var s,a,c,l=8*r-i-1,u=(1<<l)-1,p=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=o?0:r-1,f=o?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+p>=1?h/c:h*Math.pow(2,1-p))*c>=2&&(s++,c/=2),s+p>=u?(a=0,s=u):s+p>=1?(a=(e*c-1)*Math.pow(2,i),s+=p):(a=e*Math.pow(2,p-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=f,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+d]=255&s,d+=f,s/=256,l-=8);t[n+d-f]|=128*y}},{}],CODE_EVT:[function(t,e,n){"use strict";cc._RF.push(e,"bf90fPO1FVMz6hLkFqxnblM","CODE_EVT"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.OtherJoinBDRoom="otherJoinBDRoom",t.CreatFishBD="creatFishBD",t.ChangeMoneyGun="changeMoneyGun",t.RemoveListFishBD="removeListFishBD",t.GunAtackBD="gunAtackBD",t.FishColisionBD="fishColisionBD",t.FishSpecialColisionBD="fishSpecialColisionBD",t.IceAllFishBD="iceAllFishBD",t.RemoveAllFish="removeAllFish",t.PlayerUsingItemFishBD="playerUsingItemFishBD",t.NotFindFishBD="notFindFishBD",t.InfoFishRoomBD="infoFishRoomBD",t.SetTimeFishEffectBD="setTimeFishEffectBD",t.TimeOutPlayBD="timeOutPlayBD",t.AddItemDrag="addItemDrag",t.UsingItemDrag="usingItemDrag",t.ChangeGunFishBD="changeGunFishBD",t.Upacingame="upacingame",t.RequestLeaveRoom="requestLeaveRoom",t.RotateGun="rotateGun",t.GetLogJackpot="getLogJackpot",t.TakeItemFish="takeItemFish",t.MatThanAtack="mtat",t.RemoveMatThan="rmmt",t.TrieuHoi="th",t}();n.default=o,cc._RF.pop()},{}],CachChoiAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"98fd4Arq5pI+qX2TxKeGNlB","CachChoiAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onClickClose=function(){var t=this;s.Windown.Asgard.audio.playClick(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.node.destroy()})))},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],CachChoiCaishen:[function(t,e,n){"use strict";cc._RF.push(e,"dfad0GpVfNJnLWtCk9mHqVi","CachChoiCaishen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onClickClose=function(){var t=this;s.Windown.Caishen.audio.playClick(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.node.destroy()})))},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],CachChoiDuaXe:[function(t,e,n){"use strict";cc._RF.push(e,"9727cmyuFBEcIOrg0xJZAlM","CachChoiDuaXe");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onClickClose=function(){var t=this;cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).call(function(){cc.tween(t.node).to(.3,{opacity:0}).start()}).call(function(){t.node.destroy()}).start()},r([a],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],CachChoiMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"4b538+4ftVLpb71leELKQdH","CachChoiMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onClickClose=function(){var t=this;s.Windown.MatChuoc.audio.playClick(),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).call(function(){cc.tween(t.node).to(.3,{opacity:0}).start()}).call(function(){t.node.destroy()}).start()},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],CachChoiMatTroi:[function(t,e,n){"use strict";cc._RF.push(e,"9f436FbBvtKwqNcsP6rvDqW","CachChoiMatTroi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onClickClose=function(){var t=this;s.Windown.MatTroiView.audio.playClick(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.node.destroy()})))},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],CachChoiQuyBa:[function(t,e,n){"use strict";cc._RF.push(e,"75943vJ8ZFNxKZ0sEr1NaPz","CachChoiQuyBa");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onClickClose=function(){var t=this;cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).call(function(){cc.tween(t.node).to(.3,{opacity:0}).start()}).call(function(){t.node.destroy()}).start()},r([a],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],CachChoiRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"77d46utwjVBaaXoxThsqzEI","CachChoiRungRam");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onClickClose=function(){var t=this;s.Windown.RungRam.audio.playClick(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.node.destroy()})))},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],CaiDat:[function(t,e,n){"use strict";cc._RF.push(e,"c758eoB2q1ISoLktYepsrCL","CaiDat");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../DefineTs/PathResource"),l=t("../../DefineTs/TextDefine"),u=t("../../Game/GAME_TYPE"),p=t("../../Windown"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.toggleSound=null,e.toggleMusic=null,e.nodeXoaGame=null,e.nodeListGame=null,e.lbCurrentGame=null,e.lbUserID=null,e.lbUsername=null,e.lbUserdiamond=null,e.avatar=null,e.currentGameType=0,e.listGame=[u.default.CaMap,u.default.NgoKhong,u.default.DieuThuyen,u.default.TruTien,u.default.Xeng],e}return i(e,t),e.prototype.onLoad=function(){"CaiDatFish"==this.node.name?(p.Windown.CaiDatFish=this,this.node.getChildByName("Bkg").angle=p.Windown.UIManager.isVertical?0:90):p.Windown.CaiDat=this},e.prototype.onDestroy=function(){p.Windown.CaiDat=null},e.prototype.start=function(){return s(this,void 0,void 0,function(){var t,e,n,o,i,r,s,l;return a(this,function(a){switch(a.label){case 0:return t=p.Windown.getLocalStorage("sound"),e=p.Windown.getLocalStorage("music"),0!=(n=p.Windown.User.typeAvarta)?[3,2]:(o=p.Windown.User.avatrId,i=c.PathResource.Avatar.replace("%d",o),r=this.avatar,[4,p.Windown.getSpFrameRes(i)]);case 1:return r.spriteFrame=a.sent(),[3,5];case 2:return 1!=n?[3,3]:[3,5];case 3:return 2!=n?[3,5]:(s=p.Windown.User.base64Ava,l=this.avatar,[4,p.Windown.getSpFrameByBase64(s)]);case 4:l.spriteFrame=a.sent(),a.label=5;case 5:return"off"==t?this.toggleSound.uncheck():this.toggleSound.check(),"off"==e?this.toggleMusic.uncheck():this.toggleMusic.check(),this.lbUserID.string=p.Windown.User.userId+"",this.lbUsername.string=p.Windown.User.nickName,this.lbUserdiamond.string=p.Windown.User.currentVipPoint+"",[2]}})})},e.prototype.show=function(){p.Windown.actionEffectOpen(this.node)},e.prototype.onClickClose=function(){var t=this;p.Windown.actionEffectClose(this.node,function(){t.node.parent=null})},e.prototype.onSoundClicked=function(){var t=this.toggleSound.isChecked;p.Windown.AudioManager?p.Windown.AudioManager.isActiveSound=t:t?p.Windown.setLocalStorage("sound","on"):p.Windown.setLocalStorage("sound","off")},e.prototype.onMusicClicked=function(){var t=this.toggleMusic.isChecked;p.Windown.AudioManager?p.Windown.AudioManager.isActiveMusic=t:t?p.Windown.setLocalStorage("music","on"):p.Windown.setLocalStorage("music","off")},e.prototype.onClickShowListGame=function(){this.nodeListGame.parent.parent.active=!this.nodeListGame.parent.parent.active,cc.Tween.stopAllByTarget(this.nodeListGame.parent.parent),this.nodeListGame.parent.parent.scaleY=0,cc.tween(this.nodeListGame.parent.parent).to(.25,{scaleY:1},{easing:"backOut"}).start()},e.prototype.onClickChooseTypeGame=function(t,e){var n=parseInt(e);this.currentGameType=n,this.lbCurrentGame.string=p.Windown.getNameGameByType(n),this.onClickShowListGame()},e.prototype.onClickXoa=function(){if(0!=this.currentGameType){var t=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+"AllGame/"+this.currentGameType,e=jsb.fileUtils.removeDirectory(t)?"th\xe0nh c\xf4ng":"th\u1ea5t b\u1ea1i";p.Windown.Dialog.showLog(l.TextDefine.NOTI_REMOVE_BUNDLE.formatString(e)),this.currentGameType=0,this.lbCurrentGame.string="Ch\u1ecdn game"}else p.Windown.Dialog.showLog("Vui l\xf2ng ch\u1ecdn game \u0111\u1ec3 x\xf3a")},e.prototype.onClickQuit=function(){cc.game.end()},e.prototype.onClickLogout=function(){p.Windown.MainView.onClickThoat()},e.prototype.onClickGroupTele=function(){cc.sys.openURL("https://t.me/rongva68")},e.prototype.onClickFanpage=function(){cc.sys.openURL("https://www.facebook.com/rongva68")},r([f(cc.Toggle)],e.prototype,"toggleSound",void 0),r([f(cc.Toggle)],e.prototype,"toggleMusic",void 0),r([f(cc.Node)],e.prototype,"nodeXoaGame",void 0),r([f(cc.Node)],e.prototype,"nodeListGame",void 0),r([f(cc.Label)],e.prototype,"lbCurrentGame",void 0),r([f(cc.Label)],e.prototype,"lbUserID",void 0),r([f(cc.Label)],e.prototype,"lbUsername",void 0),r([f(cc.Label)],e.prototype,"lbUserdiamond",void 0),r([f(cc.Sprite)],e.prototype,"avatar",void 0),r([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../DefineTs/PathResource":"PathResource","../../DefineTs/TextDefine":"TextDefine","../../Game/GAME_TYPE":"GAME_TYPE","../../Windown":"Windown"}],CaishenSpeedControl:[function(t,e,n){"use strict";cc._RF.push(e,"56991p0DvdLVrMFm5aq9Y9S","CaishenSpeedControl");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.CaishenSpeedControl=void 0;var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.normalSpeed=1,e.animation=null,e.spine=null,e.isSpine=!1,e}return i(e,t),e.prototype.onLoad=function(){this.isSpine?this.spine=this.node.getComponent(sp.Skeleton):this.animation=this.node.getComponent(cc.Animation)},e.prototype.start=function(){},e.prototype.onPlay=function(){null!=this.animation&&(this.animation.getAnimationState(this.animation.currentClip.name).speed=s.Windown.Caishen.stateSpin.isMaxSpeed?2:this.normalSpeed)},e.prototype.onEnable=function(){cc.isValid(this.spine)&&(this.spine.timeScale=s.Windown.Caishen.stateSpin.isMaxSpeed?2:1)},r([l],e.prototype,"isSpine",void 0),r([c],e)}(cc.Component);n.CaishenSpeedControl=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],CaishenView:[function(t,e,n){"use strict";cc._RF.push(e,"61c30bFkqZAmJv8hatv66Ss","CaishenView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/BUNDLE"),l=t("../../../Scritps/DefineTs/EVENT_MANAGER"),u=t("../../../Scritps/DefineTs/PlayerPP"),p=t("../../../Scritps/DefineTs/REQUEST_CODE"),h=t("../../../Scritps/DefineTs/StateReelSlot"),d=t("../../../Scritps/DefineTs/TextDefine"),f=t("../../../Scritps/Game/GAME_TYPE"),y=t("../../../Scritps/Network/ConectManager"),g=t("../../../Scritps/Obs/LbMoneyChange"),m=t("../../../Scritps/Other/LbMonoSpace"),v=t("../../../Scritps/Other/MakeDelay"),S=t("../../../Scritps/Util"),b=t("../../../Scritps/Windown"),w=t("./AssetCaishen"),_=t("./AudioCaishen"),C=t("./EffectCaishen"),T=t("./InfoBarControllerCaishen"),I=t("./ItemSlotCaishen"),W=t("./ItemSlotCaishenNgang"),M=t("./LichSuCaishen"),E=t("./SpinNormalCaishen"),R=cc._decorator,A=R.ccclass,B=R.property,O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.asset=null,e.bkgSprite=null,e.itemSlotCaishenNgang=null,e.parentItem=null,e.parentEffect=null,e.parentItemFront=null,e.parentItemActive=null,e.nodeLine=null,e.effect=null,e.labelChipReviceInBox=null,e.lb_totalBet=null,e.lb_FSLeft=null,e.lb_BonusFS=null,e.lb_TotalLine=null,e.lb_TotalLineFS=null,e.lb_CountAuto=null,e.infoBar=null,e.btnSpin=null,e.parentMask=null,e.nodeChooseAuto=null,e._popupLichSu=null,e.audio=null,e.listNodeDeactive=[],e.nodeBtnPlay=null,e.nodeBtnSeting=null,e.toggleTurbo=null,e.btnStartAuto=null,e.nearWinNoSap=null,e.listColum=[],e.listResult=null,e.listResultConvert=[],e.listConfigBet=[],e.gameType=-1,e.sfs=null,e.roomSFS=null,e.stateReel=0,e.totalLineBet=20,e.curRoomBet=50,e.funEnd=null,e.isShowBtnPlay=!0,e.dataFinish=null,e.sfsObjTest=null,e.sfsObjTest2=null,e.stateSpin=null,e.makeDelay=null,e.isDoneStartSpin=!1,e.currentTotalLine=1,e.index=-1,e}return i(e,t),e.prototype.onLoad=function(){b.Windown.Caishen=this,this.makeDelay=new v.default(this),cc.log("start Caishen"),this.gameType=f.default.Caishen,this.sfs=y.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(l.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),cc.systemEvent.on(l.EVENT_MANAGER.LOGIN,this.onLogin,this),this.stateReel=h.default.WAITING,this.stateSpin=new E.default,this.sendJoinRoom(),this.activeMask(!1)},e.prototype.onLogin=function(){this.sendJoinRoom()},e.prototype.sendJoinRoom=function(){var t=y.ConectManager.getIns().getSFSObj();t.putInt("gameType",f.default.Caishen),t.putInt("roomType",-1),t.putInt("mark",-1),y.ConectManager.getIns().sendRequest(p.REQUEST_CODE.GetIdJoinRoom,t)},e.prototype.onDisconnect=function(){cc.log("disconnect"),b.Windown.UIManager.hideLoading(),b.Windown.UIManager.hideLoadingData(),cc.director.loadScene("main")},e.prototype.userExitRoom=function(t){cc.log("user exit room"),"SlotCS"==t.room.groupId&&t.user.isItMe&&cc.director.loadScene("main")},e.prototype.onCreateError=function(){cc.log("creat errr"),b.Windown.UIManager.hideLoading(),cc.director.loadScene("main"),b.Windown.Dialog.showLog(d.TextDefine.ERR_JOIN_ROOM)},e.prototype.onJoinRoom=function(t){cc.log("onJoinRoom "+t.room.groupId);var e=t.room;if("SlotCS"==e.groupId){this.roomSFS=e,b.Windown.UIManager.hideLoadingData();var n=e.getVariable("cf").value;cc.log(n);var o=[],i=JSON.parse(n);for(var r in i){var s=Object.create(null);s.bet=parseInt(r),s.perJp=i[r].percentPot/100,o.push(s)}o.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=o,this.curRoomBet=this.listConfigBet[0].bet,this.lb_totalBet.string=b.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.switchBkgGame=function(t){var e=cc.find("Game/Background/FreeSpin",this.node),n=cc.find("Game/Background/Line/Normal",this.node),o=cc.find("Game/Background/Line/FreeSpin",this.node),i=cc.find("Game/Background/ui_reel_frame",this.node),r=cc.find("Game/Background/bns_reel_frame",this.node),s=cc.find("Game/Background/Bot/Normal",this.node),a=cc.find("Game/Background/Bot/FreeSpin",this.node),c=cc.find("Game/Background/bg_btm",this.node),l=cc.find("Game/Background/bns_bg",this.node);t?(n.active=i.active=s.active=c.active=!1,o.active=r.active=e.active=a.active=l.active=!0,b.Windown.Caishen.lb_FSLeft.node.parent.active=!0,this.infoBar.reset(),this.infoBar.showRdContent()):(n.active=i.active=s.active=c.active=!0,e.active=o.active=r.active=a.active=l.active=!1,b.Windown.Caishen.lb_FSLeft.node.parent.active=!1,this.infoBar.reset(),this.infoBar.showRdContent())},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),b.Windown.UIManager.hideLoading(),b.Windown.UIManager.hideLoadingData(),b.Windown.Dialog.showLog(d.TextDefine.ERR_JOIN_ROOM),cc.director.loadScene("main")},e.prototype.activeMask=function(t,e){var n=this.parentMask.children;t?e?(n[e].stopAllActions(),n[e].runAction(cc.fadeTo(.3,150))):n.forEach(function(t){t.stopAllActions(),t.runAction(cc.fadeTo(.3,150))}):e?(n[e].stopAllActions(),n[e].runAction(cc.fadeOut(.3))):n.forEach(function(t){t.stopAllActions(),t.runAction(cc.fadeOut(.3))})},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(e){case p.REQUEST_CODE.SpinCaishen:this.handleFinish(n);break;case p.REQUEST_CODE.HistoryCaishen:this._popupLichSu&&this._popupLichSu.responseServer(n);break;case p.REQUEST_CODE.HistoryChiTietCaishen:this._popupLichSu&&this._popupLichSu.responseServerChiTiet(n);break;case p.REQUEST_CODE.REQUEST_GET_LastSpin_SLOT:this.handleGetLastSpinSlot(n)}},e.prototype.handleGetLastSpinSlot=function(t){var e=t.get("t"),n=t.get("iF");if(e==f.default.Caishen&&n&&null==this.dataFinish){var o=t.get("d"),i=o.get("numFreeSpin");return this.stateSpin.lastFreeSpinLeft=i+1,this.stateSpin.freeSpinLeft=i,this.lb_FSLeft.string=this.stateSpin.lastFreeSpinLeft.toString(),o.get("bonusSpin"),cc.log(b.Windown.SFSObjToJson(o)),this.dataFinish=o,void this.onClickBtnSpin()}e==f.default.Caishen&&this.stateReel==h.default.RUN&&(!t.containsKey("d")||this.dataFinish&&b.Windown.SFSObjToJson(this.dataFinish)==b.Windown.SFSObjToJson(t.get("d"))?this.sendClickSpin():this.handleFinish(t.get("d")))},e.prototype.handleWaitSPin=function(){},e.prototype.handleFinish=function(t){var e=this;if(this.isDoneStartSpin){if(t.containsKey(u.PlayerPP.ERR_MESSAGE))return this.stateSpin.handleErrSpin(),b.Windown.Dialog.showLog(t.get(u.PlayerPP.ERR_MESSAGE)),this.activeAllBtn(),void this.onClickResetCountAuto();this.dataFinish=t,cc.log(b.Windown.SFSObjToJson(t)),b.Windown.MoneyUser.pushDelayMoney(this.gameType,this.dataFinish.get("agUser"),t.get("agWin")),this.truTienBet(this.dataFinish.get("agBet")*this.totalLineBet,this.dataFinish.get("agUser")),this.listResult=t.get("views");var n=t.get("bonusSpin");this.lb_BonusFS.string=n+"",this.listResultConvert=this.convertResult(this.listResult,JSON.parse(b.Windown.SFSArrToJson(t.get("listItemWin"))),n),this.stateSpin.isMaxSpeed,this.stateReel=h.default.CAN_STOP;var o=this.stateSpin.isMaxSpeed?0:.5;this.scheduleOnce(this.funEnd=function(){e.stateSpin.onEnd()},o)}else this.scheduleOnce(function(){e.handleFinish(t)},.05)},e.prototype.onDestroy=function(){b.Windown.Caishen=null,this.dataFinish&&(b.Windown.MoneyUser.removeDelay(this.gameType),this.dataFinish=null),b.Windown.MoneyUser.endGameMOney(this.gameType),cc.systemEvent.removeAll(this),this.roomSFS=null,this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),this.clearAllMakeDelay()},e.prototype.start=function(){var t=this;this.setupView(),this.initItem(),cc.sys.isNative||this.scheduleOnce(function(){return s(t,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,b.Windown.loadBundle(f.default.Caishen.toString())];case 1:return t.sent().loadDir("Spine",function(){}),[2]}})})},3),this.asset.preloadTakeSymbol()},e.prototype.initItem=function(){for(var t=cc.instantiate(this.parentItem.children[0]),e=t.width,n=0;n<6;n++){var o=this.parentItem.children[n];null==o&&((o=cc.instantiate(t)).parent=this.parentItem);var i=o.getComponent(I.default);this.listColum.push(i),i.index=n,i.node.x=e*n+e/2-6*e/2,i.node.y=0,i.setResultFirtGame()}this.itemSlotCaishenNgang.index=0,this.itemSlotCaishenNgang.setResultFirtGame()},e.prototype.setupView=function(){var t=cc.find("Game",this.node);if(cc.sys.isMobile)e=1280/720;else{var e=cc.view.getDesignResolutionSize().height/1280;t.setScale(e,e,e),this.bkgSprite.setContentSize(cc.winSize),b.Windown.UIManager.changeRotation(!0)}},e.prototype.sendClickSpin=function(){if(null!=this.sfsObjTest)return y.ConectManager.getIns().sendRequest("testSpin",this.sfsObjTest,this.roomSFS),void(this.sfsObjTest=null);if(null!=this.sfsObjTest2)return y.ConectManager.getIns().sendRequest("testSpin2",this.sfsObjTest2,this.roomSFS),void(this.sfsObjTest2=null);var t=y.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),y.ConectManager.getIns().sendRequest(p.REQUEST_CODE.SpinCaishen,t,this.roomSFS)},e.prototype.onClickBtnSpin=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),this.stateReel!=h.default.WAITING?[3,2]:(this.audio.playEffect(this.audio.spinBtn),this.stateReel=h.default.RUN,this.setStateEffBtnSpin(),this.offAllBtn(),this.infoBar.reset(),this.sendClickSpin(),this.isDoneStartSpin=!1,[4,this.stateSpin.onStart()]);case 1:return e.sent(),this.isDoneStartSpin=!0,[3,3];case 2:this.stateReel==h.default.CAN_STOP?this.stateSpin.isMaxSpeed||(this.stateReel=h.default.RUN,this.unschedule(this.funEnd),this.stateSpin.onForceEnd()):this.stateReel==h.default.STOP||this.stateReel==h.default.SHOW_EFFECT&&(this.stateSpin.resetForNextNextSpin(),this.onClickBtnSpin()),e.label=3;case 3:return[3,5];case 4:return t=e.sent(),S.Util.ThrowErrProsime(t),[3,5];case 5:return[2]}})})},e.prototype.showContentTip=function(){},e.prototype.updateNewTotalLine=function(t){this.currentTotalLine*=t,this.lb_TotalLine.string=this.currentTotalLine.toString(),this.lb_TotalLineFS.string=this.currentTotalLine.toString()},e.prototype.resetForNewGame=function(){this.stateReel=h.default.WAITING,this.setStateEffBtnSpin()},e.prototype.resetLbTotalLine=function(){this.currentTotalLine=1,this.lb_TotalLine.string="...",this.lb_TotalLineFS.string="..."},e.prototype.setStateEffBtnSpin=function(){var t=this.btnSpin.getComponent(cc.Animation),e=cc.find("sb_arrow",this.btnSpin),n=cc.find("sb_arrow_blur",this.btnSpin);if(this.stateReel!=h.default.STOP){e.color=cc.Color.WHITE;var o=cc.Material.getBuiltinMaterial("2d-sprite");e.getComponent(cc.Sprite).setMaterial(0,o)}if(this.stateReel==h.default.WAITING||this.stateReel==h.default.SHOW_EFFECT)n.active=!1,e.active=!0,b.Windown.stopAllActionByTarget(e),e.runAction(cc.repeatForever(cc.rotateBy(3,-360)));else if(this.stateReel==h.default.RUN)t.play("ButtonSpin_Click"),n.active=!0,b.Windown.stopAllActionByTarget(n),n.runAction(cc.repeatForever(cc.rotateBy(.3,-360))),e.active=!1,this.infoBar.showRdContent();else if(this.stateReel==h.default.STOP){e.active=!0,n.active=!1,b.Windown.stopAllActionByTarget(n),b.Windown.stopAllActionByTarget(e);var i=cc.Material.getBuiltinMaterial("2d-gray-sprite");e.getComponent(cc.Sprite).setMaterial(0,i),e.color=cc.Color.GRAY}},e.prototype.setLbFreeSpinLeft=function(t){var e=this.lb_FSLeft.node.parent;this.lb_FSLeft.string=t+"",t<1?(cc.find("last",e).active=!0,cc.find("remaining",e).active=!1,this.lb_FSLeft.node.active=!1):(cc.find("last",e).active=!1,cc.find("remaining",e).active=!0,this.lb_FSLeft.node.active=!0)},e.prototype.setCountAuto=function(t){this.lb_CountAuto.node.parent.active=!(t<1),this.lb_CountAuto.string=t.toString()},e.prototype.showMoneyAllWin=function(t){cc.log("money win: "+t),this.labelChipReviceInBox.setMoney(t),b.Windown.MoneyUser.removeDelay(this.gameType)},e.prototype.offLbFree=function(){this.lb_FSLeft.node.parent.active=!1},e.prototype.onClickSendObjTest=function(){var t=y.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),t.putUtfString("arr",'[[{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":12},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":1}],\n            [{"size":2,"typeItem":1,"idItem":0},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":11},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":0}],\n            [{"size":1,"typeItem":0,"idItem":12},{"size":2,"typeItem":1,"idItem":0},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":11}],\n            [{"size":1,"typeItem":0,"idItem":12},{"size":3,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":12}],\n            [{"size":4,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":4}],\n            [{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":2}]]'),this.sfsObjTest=t,this.onClickBtnSpin(),cc.log("onClickSendObjTest")},e.prototype.onClickSendFixData=function(){var t=y.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),this.index++,t.putUtfString("arr",'[[{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":7}],[{"size":2,"typeItem":1,"idItem":0},{"size":2,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":5}],[{"size":3,"typeItem":1,"idItem":6},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":12},{"size":1,"typeItem":0,"idItem":5}],[{"size":1,"typeItem":0,"idItem":12},{"size":3,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":12},{"size":1,"typeItem":0,"idItem":12}],[{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":6},{"size":2,"typeItem":1,"idItem":9},{"size":1,"typeItem":0,"idItem":5}],[{"size":1,"typeItem":0,"idItem":12},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":2}]]'),this.sfsObjTest=t,this.onClickBtnSpin()},e.prototype.onClickSendFixData2=function(){var t=y.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet);var e="";-1==this.index?e='{"agWin":550,"bonusSpin":0,"numFreeSpin":0,"listItemWin":[{"lsIdItem":"[2,1]","lsstack":"[2,2]","lsAgWin":"[50,100]"},{"lsIdItem":"[3]","lsstack":"[4]","lsAgWin":"[400]"}],"agUser":31553270,"Scarter4":false,"agBet":50,"views":[[[{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":3}],[{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":3},{"size":3,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":6}],[{"size":1,"typeItem":0,"idItem":1},{"size":2,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":6}],[{"size":3,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":4}],[{"size":1,"typeItem":0,"idItem":7},{"size":2,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":11},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":1}],[{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":10},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":7}]],[[{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":8}],[{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":6}],[{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":4},{"size":3,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":6}],[{"size":3,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":4}],[{"size":1,"typeItem":0,"idItem":7},{"size":2,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":11},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":1}],[{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":10},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":7}]],[[{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":1}],[{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":6}],[{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":4},{"size":2,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":6}],[{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":5},{"size":2,"typeItem":1,"idItem":6},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":4}],[{"size":1,"typeItem":0,"idItem":7},{"size":2,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":1}],[{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":10},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":7}]]]}':0==this.index?e='{"agWin":2950,"bonusSpin":0,"numFreeSpin":0,"listItemWin":[{"lsIdItem":"[8]","lsstack":"[2]","lsAgWin":"[1000]"},{"lsIdItem":"[3,1,0]","lsstack":"[5,3,2]","lsAgWin":"[500,100,50]"},{"lsIdItem":"[9,5]","lsstack":"[2,2]","lsAgWin":"[1000,300]"}],"agUser":31564220,"Scarter4":false,"agBet":50,"views":[[[{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":9}],[{"size":1,"typeItem":0,"idItem":7},{"size":4,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":3}],[{"size":4,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":8}],[{"size":3,"typeItem":1,"idItem":3},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":0}],[{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":1}],[{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":8}]],[[{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":4}],[{"size":1,"typeItem":0,"idItem":7},{"size":2,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":3}],[{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":2},{"size":2,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":0}],[{"size":3,"typeItem":1,"idItem":3},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":1}],[{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":4}],[{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":8}]],[[{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":1}],[{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":5},{"size":2,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":4}],[{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":0},{"size":2,"typeItem":1,"idItem":0},{"size":1,"typeItem":0,"idItem":9}],[{"size":3,"typeItem":2,"idItem":2},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":1}],[{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":8}],[{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":8}]],[[{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":6}],[{"size":1,"typeItem":0,"idItem":7},{"size":2,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":4}],[{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":0},{"size":2,"typeItem":1,"idItem":0},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":1}],[{"size":3,"typeItem":2,"idItem":2},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":8}],[{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":8}],[{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":8}]]]}':1==this.index?e='{"agWin":0,"bonusSpin":0,"numFreeSpin":0,"listItemWin":[],"agUser":31572870,"Scarter4":false,"agBet":50,"views":[[[{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":4}],[{"size":1,"typeItem":0,"idItem":2},{"size":2,"typeItem":0,"idItem":10},{"size":2,"typeItem":1,"idItem":4},{"size":1,"typeItem":0,"idItem":7}],[{"size":3,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":5}],[{"size":1,"typeItem":0,"idItem":6},{"size":3,"typeItem":1,"idItem":8},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":4}],[{"size":2,"typeItem":1,"idItem":7},{"size":2,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":4}],[{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":10},{"size":1,"typeItem":0,"idItem":9}]]]}':2==this.index?e='{"agWin":0,"bonusSpin":0,"numFreeSpin":0,"listItemWin":[],"agUser":31571870,"Scarter4":false,"agBet":50,"views":[[[{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":5}],[{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":11},{"size":2,"typeItem":1,"idItem":2},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":2}],[{"size":3,"typeItem":1,"idItem":6},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":2}],[{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":3},{"size":3,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":1}],[{"size":3,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":7}],[{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":4}]]]}':3==this.index&&(e='{"agWin":2400,"bonusSpin":0,"numFreeSpin":0,"listItemWin":[{"lsIdItem":"[8]","lsstack":"[3]","lsAgWin":"[1250]"},{"lsIdItem":"[1]","lsstack":"[5]","lsAgWin":"[400]"},{"lsIdItem":"[0]","lsstack":"[2]","lsAgWin":"[300]"},{"lsIdItem":"[4]","lsstack":"[2]","lsAgWin":"[400]"},{"lsIdItem":"[2]","lsstack":"[2]","lsAgWin":"[50]"}],"agUser":31573270,"Scarter4":false,"agBet":50,"views":[[[{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":3}],[{"size":1,"typeItem":0,"idItem":4},{"size":4,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":4}],[{"size":2,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":8},{"size":2,"typeItem":1,"idItem":0},{"size":1,"typeItem":0,"idItem":0}],[{"size":1,"typeItem":0,"idItem":6},{"size":3,"typeItem":1,"idItem":1},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":11}],[{"size":2,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":3},{"size":2,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":2}],[{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":2}]],[[{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":0}],[{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":3},{"size":2,"typeItem":1,"idItem":6},{"size":1,"typeItem":0,"idItem":4}],[{"size":2,"typeItem":0,"idItem":0},{"size":2,"typeItem":1,"idItem":0},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":0}],[{"size":1,"typeItem":0,"idItem":6},{"size":3,"typeItem":1,"idItem":1},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":2}],[{"size":2,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":3},{"size":2,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":1}],[{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":2}]],[[{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":0}],[{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":3},{"size":2,"typeItem":1,"idItem":6},{"size":1,"typeItem":0,"idItem":11},{"size":1,"typeItem":0,"idItem":4}],[{"size":2,"typeItem":0,"idItem":0},{"size":2,"typeItem":1,"idItem":0},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":0}],[{"size":1,"typeItem":0,"idItem":6},{"size":3,"typeItem":2,"idItem":6},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":2}],[{"size":2,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":3},{"size":2,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":6}],[{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":3}]],[[{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":2}],[{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":3},{"size":2,"typeItem":1,"idItem":6},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":4}],[{"size":2,"typeItem":2,"idItem":6},{"size":1,"typeItem":0,"idItem":2},{"size":2,"typeItem":1,"idItem":4},{"size":1,"typeItem":0,"idItem":2}],[{"size":1,"typeItem":0,"idItem":6},{"size":3,"typeItem":2,"idItem":6},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":6}],[{"size":2,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":3},{"size":2,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":5}],[{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":3}]],[[{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":8}],[{"size":1,"typeItem":0,"idItem":3},{"size":2,"typeItem":1,"idItem":6},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":2}],[{"size":2,"typeItem":2,"idItem":6},{"size":1,"typeItem":0,"idItem":2},{"size":2,"typeItem":2,"idItem":5},{"size":1,"typeItem":0,"idItem":6}],[{"size":1,"typeItem":0,"idItem":6},{"size":3,"typeItem":2,"idItem":6},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":5}],[{"size":2,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":3},{"size":2,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":1}],[{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":3}]],[[{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":1}],[{"size":1,"typeItem":0,"idItem":3},{"size":2,"typeItem":1,"idItem":6},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":6}],[{"size":2,"typeItem":2,"idItem":6},{"size":2,"typeItem":2,"idItem":5},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":5}],[{"size":1,"typeItem":0,"idItem":6},{"size":3,"typeItem":2,"idItem":6},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":1}],[{"size":2,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":3},{"size":2,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":8}],[{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":3}]]]}'),this.index++,t.putUtfString("data",e),this.sfsObjTest2=t,this.onClickBtnSpin()},e.prototype.onClickTest=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(){return(t=y.ConectManager.getIns().getSFSObj()).putInt("bet",this.curRoomBet),t.putUtfString("arr",'[[{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":1}],[{"size":1,"typeItem":0,"idItem":12},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":0}],[{"size":1,"typeItem":0,"idItem":8},{"size":3,"typeItem":1,"idItem":2},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":2}],[{"size":3,"typeItem":1,"idItem":0},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":9}],[{"size":1,"typeItem":0,"idItem":12},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":3}],[{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":7}]]'),this.sfsObjTest=t,this.onClickBtnSpin(),[2]})})},e.prototype.onClickResetCountAuto=function(){this.stateSpin.countAutoSpin=0,this.lb_CountAuto.node.parent.active=!1,b.Windown.Caishen.audio.playClick()},e.prototype.onClickItemAutoSpin=function(t){b.Windown.Caishen.audio.playClick(),this.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer).allowSwitchOff=!1;var e=t.node.name,n=Number(e);this.stateSpin.countAutoSpin=n,this.btnStartAuto.interactable=!0,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#FF8E26")},e.prototype.onClickStartAutoSpin=function(){this.onClickBtnSpin(),this.onClickCloseListAuto(),b.Windown.Caishen.stateSpin.countAutoSpin>0&&b.Windown.Caishen.setCountAuto(b.Windown.Caishen.stateSpin.countAutoSpin)},e.prototype.onClickShowListAuto=function(){b.Windown.Caishen.audio.playClick(),this.nodeChooseAuto.active=!0,this.nodeChooseAuto.opacity=0,this.nodeChooseAuto.runAction(cc.fadeIn(.3)),this.btnStartAuto.interactable=!1,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")},e.prototype.onClickCloseListAuto=function(){var t=this;b.Windown.Caishen.audio.playClick(),this.nodeChooseAuto.stopAllActions(),this.nodeChooseAuto.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){var e=t.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer);e.allowSwitchOff=!0,e.toggleItems.forEach(function(t){t.isChecked&&t.uncheck()}),t.nodeChooseAuto.active=!1,t.btnStartAuto.interactable=!1,t.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")})))},e.prototype.convertResult=function(t,e,n){var o=this,i=[];return b.Windown.foreachSFSArray(t,function(t){var r=Object.create(null);r.listSFSObj=[],r.listSFSObjNgang=[],r.mutil=n,r.agWin=0,b.Windown.foreachSFSArray(t,function(n,o){var i=[];if(b.Windown.foreachSFSArray(n,function(t,e){e==n.size()-1&&o>0&&o<5?r.listSFSObjNgang.push(t):i.push(t)}),i.reverse(),r.listSFSObj.push(i),o==t.size()-1){var s=e.shift();s&&(s.lsIdItem=JSON.parse(s.lsIdItem),s.lsstack=JSON.parse(s.lsstack),s.lsAgWin=JSON.parse(s.lsAgWin),s.lsAgWin.length>0&&(r.listItemWin=s,r.isNoSap=!0),s.lsAgWin.forEach(function(t){r.agWin+=t}))}}),r.countScater=o.getCountScater(r.listSFSObj,r.listSFSObjNgang),r.listSFSObjNgang.reverse(),i.push(r)}),i},e.prototype.setResult=function(){},e.prototype.getListActiveScaster=function(t,e){var n=[],o=0;e.forEach(function(t){12==t.getInt("idItem")&&o++});for(var i=0;i<t.length;i++)o>2?n.push(!0):n.push(!1),t[i].forEach(function(t){12==t.getInt("idItem")&&o++});return n},e.prototype.onClickChangeBet=function(t,e){if(b.Windown.Caishen.audio.playClick(),this.listConfigBet.length<1)b.Windown.Dialog.showLog(d.TextDefine.Error);else{var n=-1;for(var o in this.listConfigBet)if(this.listConfigBet[o].bet==this.curRoomBet){n=parseInt(o);break}0==e?n--:n++,n<0&&(n=this.listConfigBet.length-1),n>this.listConfigBet.length-1&&(n=0),this.curRoomBet=this.listConfigBet[n].bet,this.lb_totalBet.string=b.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.onClickCachChoi=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return b.Windown.Caishen.audio.playClick(),b.Windown.UIManager.showLoading(),[4,b.Windown.loadRes(this.gameType.toString(),"Prefabs/CachChoi",cc.Prefab)];case 1:return t=e.sent(),cc.instantiate(t).parent=b.Windown.Caishen.node.getChildByName("Game"),b.Windown.UIManager.hideLoading(),[2]}})})},e.prototype.onClickBackToLobby=function(){b.Windown.Caishen.audio.playClick(),this.roomSFS?y.ConectManager.getIns().sendLeaveRoom(this.roomSFS):cc.director.loadScene("main")},e.prototype.onClickTurbo=function(){b.Windown.Caishen.audio.playClick();var t=this.toggleTurbo.isChecked;this.toggleTurbo.node.children[1].active=!t,this.stateSpin.isMaxSpeed=t,t?b.Windown.UIManager.showAlertMini("\u0110\xe3 b\u1eadt Auto"):b.Windown.UIManager.showAlertMini("T\u1eaft Auto")},e.prototype.onClickSeting=function(){if(b.Windown.Caishen.audio.playClick(),cc.log("click onClickSeting"),this.isShowBtnPlay=!this.isShowBtnPlay,this.isShowBtnPlay)t=cc.v2(0,-750),this.nodeBtnPlay.runAction(cc.fadeIn(.4)),this.nodeBtnSeting.runAction(cc.spawn(cc.fadeOut(.3),cc.moveTo(.3,t)));else{this.nodeBtnPlay.stopAllActions(),this.nodeBtnSeting.stopAllActions();var t=cc.v2(0,-525.279);this.nodeBtnPlay.runAction(cc.fadeOut(.3)),this.nodeBtnSeting.opacity=0,this.nodeBtnSeting.runAction(cc.spawn(cc.fadeIn(.4),cc.moveTo(.4,t)))}},e.prototype.getCountScater=function(t,e){var n=0;return t.forEach(function(t){t.forEach(function(t){12==t.getInt("idItem")&&n++})}),e.forEach(function(t){12==t.getInt("idItem")&&n++}),n},e.prototype.getMakeDelay=function(t){return this.makeDelay.getDelay(t)},e.prototype.clearAllMakeDelay=function(){this.makeDelay.clear()},e.prototype.activeAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!0,t.node.children.forEach(function(t){t.color=cc.Color.fromHEX(new cc.Color,"#FFD500")})})},e.prototype.offAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!1,t.node.children.forEach(function(t){t.color=cc.Color.fromHEX(new cc.Color,"#999999")})})},e.prototype.truTienBet=function(t,e){0!=t&&b.Windown.MoneyUser.subMoney(t,e)},e.prototype.effectShake=function(t,e){void 0===t&&(t=.2),void 0===e&&(e=10)},e.prototype.onClickLichSu=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){return b.Windown.Caishen.audio.playClick(),b.Windown.UIManager.showLoading(),cc.assetManager.getBundle(c.BUNDLE.Caishen).load("Prefabs/LichSu",cc.Prefab,function(e,n){var o=n;t._popupLichSu=cc.instantiate(o).getComponent(M.default),t._popupLichSu.node.parent=b.Windown.Caishen.node.getChildByName("Game"),t._popupLichSu.show()}),[2]})})},e.prototype.getPromise=function(t){return b.Windown.CpPromise.getDelayByPromise(t,this).prosime},e.prototype.getPromiseAll=function(t){return b.Windown.CpPromise.getDelayPromiseAll(t,this).prosime},r([B(w.default)],e.prototype,"asset",void 0),r([B(cc.Node)],e.prototype,"bkgSprite",void 0),r([B(W.default)],e.prototype,"itemSlotCaishenNgang",void 0),r([B(cc.Node)],e.prototype,"parentItem",void 0),r([B(cc.Node)],e.prototype,"parentEffect",void 0),r([B(cc.Node)],e.prototype,"parentItemFront",void 0),r([B(cc.Node)],e.prototype,"parentItemActive",void 0),r([B(cc.Node)],e.prototype,"nodeLine",void 0),r([B(C.EffectCaishen)],e.prototype,"effect",void 0),r([B(g.default)],e.prototype,"labelChipReviceInBox",void 0),r([B(cc.Label)],e.prototype,"lb_totalBet",void 0),r([B(m.default)],e.prototype,"lb_FSLeft",void 0),r([B(m.default)],e.prototype,"lb_BonusFS",void 0),r([B(m.default)],e.prototype,"lb_TotalLine",void 0),r([B(m.default)],e.prototype,"lb_TotalLineFS",void 0),r([B(m.default)],e.prototype,"lb_CountAuto",void 0),r([B(T.default)],e.prototype,"infoBar",void 0),r([B(cc.Node)],e.prototype,"btnSpin",void 0),r([B(cc.Node)],e.prototype,"parentMask",void 0),r([B(cc.Node)],e.prototype,"nodeChooseAuto",void 0),r([B(_.default)],e.prototype,"audio",void 0),r([B([cc.Button])],e.prototype,"listNodeDeactive",void 0),r([B(cc.Node)],e.prototype,"nodeBtnPlay",void 0),r([B(cc.Node)],e.prototype,"nodeBtnSeting",void 0),r([B(cc.Toggle)],e.prototype,"toggleTurbo",void 0),r([B(cc.Button)],e.prototype,"btnStartAuto",void 0),r([B(cc.Node)],e.prototype,"nearWinNoSap",void 0),r([A],e)}(cc.Component);n.default=O,cc._RF.pop()},{"../../../Scritps/DefineTs/BUNDLE":"BUNDLE","../../../Scritps/DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../../Scritps/DefineTs/PlayerPP":"PlayerPP","../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Other/MakeDelay":"MakeDelay","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./AssetCaishen":"AssetCaishen","./AudioCaishen":"AudioCaishen","./EffectCaishen":"EffectCaishen","./InfoBarControllerCaishen":"InfoBarControllerCaishen","./ItemSlotCaishen":"ItemSlotCaishen","./ItemSlotCaishenNgang":"ItemSlotCaishenNgang","./LichSuCaishen":"LichSuCaishen","./SpinNormalCaishen":"SpinNormalCaishen"}],CamMayBongDem:[function(t,e,n){"use strict";cc._RF.push(e,"ce29evF3QxKWayplje1FPaw","CamMayBongDem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=t("./Player/Effect/TypePlayerEffectBD"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.toggleStart=null,e.pageTime=null,e.listTime=[300,900,1800,3600,7200],e.isAuto=!1,e}return i(e,t),e.prototype.show=function(){this.node.active=!0,s.Windown.actionEffectOpen(this.node)},e.prototype.onClickClose=function(){var t=this;s.Windown.actionEffectClose(this.node,function(){t.node.active=!1})},e.prototype.onClickChangeTime=function(t,e){"+"==e?this.pageTime.scrollToPage(this.pageTime.getCurrentPageIndex()+1,.3):this.pageTime.scrollToPage(this.pageTime.getCurrentPageIndex()-1,.3),this.pageTime.getCurrentPageIndex()==this.pageTime.getPages().length-1?cc.find("Time/add",this.node).getComponent(cc.Button).interactable=!1:cc.find("Time/add",this.node).getComponent(cc.Button).interactable=!0,0==this.pageTime.getCurrentPageIndex()?cc.find("Time/sub",this.node).getComponent(cc.Button).interactable=!1:cc.find("Time/sub",this.node).getComponent(cc.Button).interactable=!0},e.prototype.onToggle=function(){var t=this.listTime[this.pageTime.getCurrentPageIndex()];this.toggleStart.isChecked?(this.onClickClose(),s.Windown.FishBongDem.me.timeItemAuto=t):s.Windown.FishBongDem.me.forceEndEffect(a.default.AUTO)},e.prototype.disableToggle=function(){this.toggleStart.isChecked=!1,this.toggleStart.checkMark.node.active=!1},r([u(cc.Toggle)],e.prototype,"toggleStart",void 0),r([u(cc.PageView)],e.prototype,"pageTime",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":"Windown","./Player/Effect/TypePlayerEffectBD":"TypePlayerEffectBD"}],CanvasControl:[function(t,e){"use strict";cc._RF.push(e,"f23a8Cl8gpAKoL9DleE3cPq","CanvasControl"),cc.Class({extends:cc.Component,properties:{isMask:!1},onEnable:function(){this.funUpdate(),cc.view.on("canvas-resize",this.funUpdate,this),window.addEventListener("orientationchange",this.funUpdate.bind(this)),this.isMask&&(this.getComponent(cc.Mask).enabled=!0)},funUpdate:function(){cc.winSize.width/cc.winSize.height<=9/16?(cc.Canvas.instance.fitHeight=!1,cc.Canvas.instance.fitWidth=!0):(cc.Canvas.instance.fitHeight=!0,cc.Canvas.instance.fitWidth=!1)},onDestroy:function(){cc.view.targetOff(this),window.removeEventListener("orientationchange",this.funUpdate)}}),cc._RF.pop()},{}],CapNhatTaiKhoan:[function(t,e,n){"use strict";cc._RF.push(e,"e06e31f6b9F/Y5eAi57k/d8","CapNhatTaiKhoan");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/EVENT_MANAGER"),a=t("../../DefineTs/TextDefine"),c=t("../../Network/ConectManager"),l=t("../../Parent/BaseEditbox"),u=t("../../Windown"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.edbUserName=null,e.edbNickName=null,e.edbUserPass=null,e.edbUserRePass=null,e}return i(e,t),e.prototype.onLoad=function(){u.Windown.CapNhatTaiKhoan=this},e.prototype.start=function(){c.ConectManager.getIns().checkConnectAndConnect(),cc.systemEvent.on(s.EVENT_MANAGER.onEnter,this.onClickDangKy,this),this.resignEdb(this.edbUserName),this.resignEdb(this.edbNickName),this.resignEdb(this.edbUserPass),this.resignEdb(this.edbUserRePass),this.resignNext(this.edbUserName,"edbNickName"),this.resignNext(this.edbNickName,"edbUserPass"),this.resignNext(this.edbUserPass,"edbUserRePass")},e.prototype.show=function(){u.Windown.actionEffectOpen(this.node)},e.prototype.onClickDangKy=function(){if(this.edbUserName.string.length<6)u.Windown.Dialog.showLog(a.TextDefine.DangNhapNhoHon6);else if(""!=this.edbNickName.string&&this.edbNickName.string.length<6)u.Windown.Dialog.showLog(a.TextDefine.NickNameNhoHon6);else if(this.edbUserPass.string.length<6)u.Windown.Dialog.showLog(a.TextDefine.MatKhauNhoHon6);else if(this.edbUserPass.string==this.edbUserRePass.string){var t=c.ConectManager.getIns().getSFSObj();t.putUtfString("username",this.edbUserName.string),""!=this.edbNickName.string&&t.putUtfString("nickname",this.edbNickName.string),t.putUtfString("password",this.edbUserPass.string),c.ConectManager.getIns().sendUpdateTaiKhoan(t)}else u.Windown.Dialog.showLog(a.TextDefine.MatKhauKhongTrung)},e.prototype.onDestroy=function(){u.Windown.CapNhatTaiKhoan=null,cc.systemEvent.off(s.EVENT_MANAGER.onEnter,this.onClickDangKy,this)},e.prototype.clickRefeshCaptcha=function(){u.Windown.CapchaController.requestCapcha()},e.prototype.onClickClose=function(){var t=this;u.Windown.actionEffectClose(this.node,function(){t.node.parent=null})},r([d(cc.EditBox)],e.prototype,"edbUserName",void 0),r([d(cc.EditBox)],e.prototype,"edbNickName",void 0),r([d(cc.EditBox)],e.prototype,"edbUserPass",void 0),r([d(cc.EditBox)],e.prototype,"edbUserRePass",void 0),r([h],e)}(l.default);n.default=f,cc._RF.pop()},{"../../DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../DefineTs/TextDefine":"TextDefine","../../Network/ConectManager":"ConectManager","../../Parent/BaseEditbox":"BaseEditbox","../../Windown":"Windown"}],CaptchaController:[function(t,e,n){(function(o){"use strict";cc._RF.push(e,"ff9dd69bo5KXKG4LlQT6611","CaptchaController");var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../DefineTs/REQUEST_CODE"),c=t("../Network/ConectManager"),l=t("../Windown"),u=cc._decorator,p=u.ccclass,h=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.base64="",e.listSpriteCapcha=[],e.spriteFrameCacha=null,e}return r(e,t),e.prototype.requestCapcha=function(){c.ConectManager.getIns().sendRequestToCallback(a.REQUEST_CODE.RequestCaptcha,null,this.responseServer.bind(this))},e.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node),l.Windown.CapchaController=this},e.prototype.start=function(){},e.prototype.onDestroy=function(){this.spriteFrameCacha=null,l.Windown.CapchaController=null},e.prototype.responseServer=function(t){this.base64=t.getUtfString("captcha"),this.getCapcha(this.base64)},e.prototype.emitNewCacha=function(){if(null!=this.spriteFrameCacha)for(var t=0,e=this.listSpriteCapcha.length;t<e;t++)this.listSpriteCapcha[t].spriteFrame=this.spriteFrameCacha.clone()},e.prototype.dangKy=function(t){this.listSpriteCapcha.includes(t)||this.listSpriteCapcha.push(t),this.spriteFrameCacha&&t.spriteFrame&&(t.spriteFrame=this.spriteFrameCacha.clone())},e.prototype.huyDangKy=function(t){var e=this.listSpriteCapcha.indexOf(t);e>-1&&this.listSpriteCapcha.splice(e,1)},e.prototype.getCapcha=function(t){var e=this;if(cc.sys.isNative){this.spriteFrameCacha=null;for(var n=new o(t,"base64"),i=n.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=n[s];var a=jsb.fileUtils.getWritablePath()+"base64_img.png";cc.loader.release(a),jsb.fileUtils.writeDataToFile(r,a)&&cc.loader.load(a,function(t,n){!t&&n&&(e.spriteFrameCacha=new cc.SpriteFrame(n),e.emitNewCacha(),jsb.fileUtils.removeFile(a))})}else{var c="data:image/png;base64,"+t,l=new Image;l.src=c,setTimeout(function(){var t=new cc.Texture2D;t.initWithElement(l),t.handleLoadedTexture(),e.spriteFrameCacha=new cc.SpriteFrame(t),e.emitNewCacha()},10)}},s([p],e)}(cc.Component));n.default=h,cc._RF.pop()}).call(this,t("buffer").Buffer)},{"../DefineTs/REQUEST_CODE":"REQUEST_CODE","../Network/ConectManager":"ConectManager","../Windown":"Windown",buffer:2}],CaptchaItem:[function(t,e,n){"use strict";cc._RF.push(e,"a2595sv7PBBRqClGtm5M/Gc","CaptchaItem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){s.Windown.CapchaController.dangKy(this.getComponent(cc.Sprite))},e.prototype.onDestroy=function(){s.Windown.CapchaController.huyDangKy(this.getComponent(cc.Sprite))},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../Windown":"Windown"}],CardResultType:[function(t,e,n){"use strict";cc._RF.push(e,"681f8vrrSJG8bMFd0cDQo3g","CardResultType"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.NONE=0,t.THUNG_PHA_SANH_DAI=9,t.THUNG_PHA_SANH=8,t.TU_QUY=7,t.CU_LU=6,t.THUNG=5,t.SANH=4,t.SAM_CO=3,t.HAI_DOI=2,t.DOI=1,t.DOI_BE=10,t.BAI_CAO=11,t}();n.default=o,cc._RF.pop()},{}],CardTL:[function(t,e,n){"use strict";cc._RF.push(e,"8f29aoxhuNJOJY4vWRouOv0","CardTL");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Game/GAME_TYPE"),a=t("../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imgBackground=null,e.imgValue=null,e.imgSuitSmall=null,e.imgSuitLarge=null,e.borderCard=null,e.bg_cardSmall=null,e.bkgMask=null,e.listFrameCard=null,e.card_border_blue=null,e.code=0,e.N=0,e.S=0,e.nameCard="",e.isSelect=!1,e.isTouch=!0,e}return i(e,t),e.prototype.start=function(){},e.prototype.setTextureWithCode=function(t,e,n,o){if(void 0===e&&(e=!1),void 0===n&&(n=!1),void 0===o&&(o=!1),this.code=t,this.code<=0||this.code>52)this.imgValue.node.active=!1,this.imgSuitSmall.node.active=!1,this.imgSuitLarge.node.active=!1,this.bg_cardSmall.active=!1,this.imgBackground.spriteFrame=this.listFrameCard.getSpriteFrame("card_back_red1");else{this.imgValue.node.active=!0,this.imgSuitSmall.node.active=!0,this.imgSuitLarge.node.active=!0,this.decodeCard(this.code),this.imgBackground.spriteFrame=this.listFrameCard.getSpriteFrame("card_bg");var i=this.getSuitInVN();this.imgValue.spriteFrame=this.listFrameCard.getSpriteFrame(cc.js.formatStr("card_%d",this.getValue())),this.imgSuitSmall.spriteFrame=this.listFrameCard.getSpriteFrame(cc.js.formatStr("card_%s_small",i)),this.N>=11&&this.N<=13?this.imgSuitLarge.spriteFrame=this.listFrameCard.getSpriteFrame(cc.js.formatStr("card_%d_%s",this.getValue(),i)):this.imgSuitLarge.spriteFrame=this.listFrameCard.getSpriteFrame(cc.js.formatStr("card_%s",i)),this.imgValue.node.color="tep"===i||"bich"===i?cc.Color.BLACK:cc.Color.RED,this.imgValue.type=cc.Sprite.Type.SIMPLE,this.imgValue.sizeMode=cc.Sprite.SizeMode.CUSTOM,this.imgSuitSmall.type=cc.Sprite.Type.SIMPLE,this.imgSuitSmall.sizeMode=cc.Sprite.SizeMode.CUSTOM,this.imgSuitLarge.type=cc.Sprite.Type.SIMPLE,this.imgSuitLarge.sizeMode=cc.Sprite.SizeMode.CUSTOM,this.imgValue.node.setContentSize(32,50),this.imgSuitSmall.node.setContentSize(38,34),this.imgSuitLarge.node.setContentSize(90,100),this.imgValue.node.setScale(1),this.imgSuitSmall.node.setScale(1),this.imgSuitLarge.node.setScale(1)}var r=this.bg_cardSmall.children[0].getComponent(cc.Sprite),s=this.bg_cardSmall.children[1].getComponent(cc.Sprite);r.spriteFrame=this.imgValue.spriteFrame,r.node.color=this.imgValue.node.color,s.spriteFrame=this.imgSuitSmall.spriteFrame,r.type=cc.Sprite.Type.SIMPLE,r.sizeMode=cc.Sprite.SizeMode.CUSTOM,s.type=cc.Sprite.Type.SIMPLE,s.sizeMode=cc.Sprite.SizeMode.CUSTOM,r.node.setContentSize(48.6,64.3),s.node.setContentSize(73,79.4),s.node.setPosition(10.5,-83.2)},e.prototype.encodeCard=function(){return 13*(this.S-1)+this.N-1},e.prototype.decodeCard=function(t){try{this.code=t,this.S=Math.floor((t-1)/13)+1,this.N=Math.floor((t-1)%13)+2,14===this.N&&a.Windown.GameView.gameType==s.default.Binh&&(this.N=1),this.nameCard=this.N+this.getSuitInVN()}catch(e){console.log(e)}},e.prototype.getSuitInVN=function(){switch(this.S){case 1:return"bich";case 2:return"tep";case 3:return"ro";case 4:return"co";default:return"joker"}},e.prototype.getValue=function(){return this.N>13?this.N-13:this.N},e.prototype.resetCard=function(){this.setBorder(!1)},e.prototype.setBorder=function(t){this.borderCard.node.active=t},e.prototype.moveCardNoBug=function(t,e){this.node.runAction(cc.moveTo(t,e).easing(cc.easeCubicActionOut()))},e.prototype.turnBorderBlue=function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=1),this.card_border_blue.node.active=t,this.card_border_blue.node.setScale(e,n)},r([u(cc.Sprite)],e.prototype,"imgBackground",void 0),r([u(cc.Sprite)],e.prototype,"imgValue",void 0),r([u(cc.Sprite)],e.prototype,"imgSuitSmall",void 0),r([u(cc.Sprite)],e.prototype,"imgSuitLarge",void 0),r([u(cc.Sprite)],e.prototype,"borderCard",void 0),r([u(cc.Node)],e.prototype,"bg_cardSmall",void 0),r([u(cc.Node)],e.prototype,"bkgMask",void 0),r([u(cc.SpriteAtlas)],e.prototype,"listFrameCard",void 0),r([u(cc.Sprite)],e.prototype,"card_border_blue",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Windown":"Windown"}],ChanSuKien:[function(t,e){"use strict";cc._RF.push(e,"3de1aUrAWdFMot+McQkbTc4","ChanSuKien"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(t){t.stopPropagation()}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){t.stopPropagation()}),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){t.stopPropagation()}),this.node.on(cc.Node.EventType.TOUCH_END,function(t){t.stopPropagation()})}}),cc._RF.pop()},{}],ChatAdminController:[function(t,e,n){"use strict";cc._RF.push(e,"281b0AvA05FvreHpCnxQk6/","ChatAdminController");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.ChatAdminController=void 0;var r=t("../../DefineTs/PathResource"),s=t("../../DefineTs/REQUEST_CODE"),a=t("../../Network/ConectManager"),c=t("../../Windown"),l=t("./ItemMoveIconChat"),u=t("./WindownChat"),p=function(){function t(){this.listWindownChat=[],this.listSchedule=[],this.itemIconChat=null,this.nodeRemoveIconChat=null,this.mapNumNotRead=new Map,cc.systemEvent.on(s.REQUEST_CODE.SendMessageToAdmin,this.responseChat,this),cc.systemEvent.on(s.REQUEST_CODE.GetListChat,this.responseGetListChat,this)}return t.prototype.responseGetListChat=function(t){var e=t.getBool("isOnline"),n=t.getUtfString("adminName");cc.log(c.Windown.SFSObjToJson(t));var o=this.getWindownChat(n);if(null!=o&&(o.updateStatusAdmin(e),t.containsKey("listData"))){var i=t.getSFSArray("listData");o.initListItem(i)}},t.prototype.responseChat=function(t){c.Windown.Dialog.checkAndShowLog(t,!1);var e=t.getUtfString("adminName");this.checkAddCountNotRead(e),this.checkAndAddAdminString(e),this.showIconMoveChat();var n=this.getWindownChat(e);n&&n.addMessage(t.getSFSObject("objChat"))},t.prototype.addCountNotRead=function(t){var e=this.mapNumNotRead.get(t);null==e&&(e=0),e++,this.mapNumNotRead.set(t,e)},t.prototype.checkAddCountNotRead=function(t){null!=this.itemIconChat&&this.itemIconChat.currentNameAdmin==t||this.addCountNotRead(t)},t.prototype.getTotalCountNotRead=function(){var t=0;return this.mapNumNotRead.forEach(function(e){t+=e}),t},t.prototype.getCountNotReadByAdmin=function(t){var e=this.mapNumNotRead.get(t);return null==e&&(e=0),e},t.prototype.onRemoveCountNotRead=function(t){this.mapNumNotRead.delete(t)},t.prototype.checkAndAddAdminString=function(t){for(var e=0,n=this.listSchedule;e<n.length;e++)if(n[e].adminName==t)return;var o=Object.create(null);o.adminName=t,this.listSchedule.push(o)},t.prototype.onClick=function(){},t.prototype.showIconMoveChat=function(t){return o(this,void 0,void 0,function(){var e,n,o,s,a;return i(this,function(i){switch(i.label){case 0:return null!=this.itemIconChat?[3,2]:[4,c.Windown.getPrefabRes(r.PathResource.ItemMoveIconChat)];case 1:e=i.sent(),this.itemIconChat=cc.instantiate(e).getComponent(l.default),i.label=2;case 2:for(null==this.itemIconChat.node.parent&&this.itemIconChat.firtShow(),this.itemIconChat.node.parent=c.Windown.UIManager.parentPopup,c.Windown.UIManager.hideLoading(),t&&this.checkAndAddAdminString(t),n=[],o=0,s=this.listSchedule;o<s.length;o++)a=s[o],n.push(a.adminName);return this.itemIconChat.initListIcon(n,t),[2]}})})},t.prototype.showWindownChat=function(t,e){return o(this,void 0,void 0,function(){var n,o;return i(this,function(i){switch(i.label){case 0:return null!=(n=this.getWindownChat(t))?[3,2]:[4,c.Windown.getPrefabRes(r.PathResource.WindownChat)];case 1:o=i.sent(),n=cc.instantiate(o).getComponent(u.default),this.listWindownChat.push(n),i.label=2;case 2:return this.itemIconChat.addWindown(n.node,t),n.show(t,e),[2]}})})},t.prototype.scheduleGetNewSate=function(t,e){for(var n=null,o=0,i=this.listSchedule;o<i.length;o++){var r=i[o];if(r.adminName==t){n=r;break}}if(null==n&&((n=Object.create(null)).adminName=t,this.listSchedule.push(n)),clearInterval(n.funShchedu),e){var c=a.ConectManager.getIns().getSFSObj();c.putUtfString("adminName",t),c.putBool("isGetData",e),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.GetListChat,c)}n.funShchedu=setInterval(function(){var e=a.ConectManager.getIns().getSFSObj();e.putUtfString("adminName",t),e.putBool("isGetData",!1),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.GetListChat,e)},5e3)},t.prototype.onCloseWindow=function(t){for(var e=null,n=0,o=this.listSchedule;n<o.length;n++){var i=o[n];if(i.adminName==t){e=i;break}}e&&clearInterval(e.funShchedu)},t.prototype.getWindownChat=function(t){for(var e=null,n=0,o=this.listWindownChat;n<o.length;n++){var i=o[n];if(i.lbNameAdmin.string==t){e=i;break}}return e},t}();n.ChatAdminController=p,cc._RF.pop()},{"../../DefineTs/PathResource":"PathResource","../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../Network/ConectManager":"ConectManager","../../Windown":"Windown","./ItemMoveIconChat":"ItemMoveIconChat","./WindownChat":"WindownChat"}],ChatTaiXiu:[function(t,e,n){"use strict";cc._RF.push(e,"cf8f3ovChBAm4fdQnC32uyg","ChatTaiXiu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Network/ConectManager"),c=t("../../../Scritps/Windown"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrChat=null,e.itemChat=null,e.edbChat=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.setInfo=function(t){for(var e=Math.min(20,t.size()),n=t.size()-e,o=t.size();n<o;n++)this.addItemMess(t.getSFSObject(n));this.scrChat.scrollToBottom(.3)},e.prototype.addItemMess=function(t){var e=this,n=t.get("username");n.length>15&&(n=n.substr(0,12)+"...");var o,i=t.get("mes");this.scrChat.content.childrenCount<20?(o=cc.instantiate(this.itemChat),this.scrChat.content.addChild(o)):(o=cc.instantiate(this.itemChat),this.scrChat.content.addChild(o),setTimeout(function(){e.scrChat.content.children[0],e.scrChat.scrollToBottom()},500));var r=o.children[0].getComponent(cc.Label),s=o.children[0].children[0].getComponent(cc.Label);r.string=n+": "+i,s.string=n+": ",n==c.Windown.User.nickName||n==c.Windown.User.userName?(s.node.color=cc.Color.GREEN,r.node.color=(new cc.Color).fromHEX("#00ADFF")):"admin"==n.toLocaleLowerCase()?(s.node.color=cc.Color.RED,r.node.color=cc.Color.GREEN):(s.node.color=cc.Color.YELLOW,r.node.color=cc.Color.WHITE),o.active=!0},e.prototype.onClickSend=function(){var t=this;if(""!=this.edbChat.string.trim()){var e=a.ConectManager.getIns().getSFSObj();e.putUtfString("mes",this.edbChat.string),c.Windown.TaiXiu.sendRequest(s.REQUEST_CODE.TXChat,e),c.Windown.TaiXiu.sound.playClick(),this.edbChat.string="",this.scheduleOnce(function(){t.edbChat.focus()},.5)}},r([p(cc.ScrollView)],e.prototype,"scrChat",void 0),r([p(cc.Node)],e.prototype,"itemChat",void 0),r([p(cc.EditBox)],e.prototype,"edbChat",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Windown":"Windown"}],CheckPass:[function(t,e,n){"use strict";cc._RF.push(e,"293caSbA6hEuIKluXIZ0JOp","CheckPass");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../DefineTs/REQUEST_CODE"),a=t("../Game/GAME_TYPE"),c=t("../Windown"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.editBoxPass=null,e.gameId=0,e.roomId=0,e.sfs=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.onLoad=function(){cc.systemEvent.on(s.REQUEST_CODE.FINDTABLE,this.handleJoinTable,this)},e.prototype.onDestroy=function(){cc.systemEvent.removeAll(this)},e.prototype.init=function(t,e){this.gameId=t,this.roomId=e,c.Windown.actionEffectOpen(this.node)},e.prototype.onClose=function(){this.node.removeFromParent(!1),this.node.destroy()},e.prototype.onClickCheckPass=function(){if(""!=this.editBoxPass.string){switch(this.gameId){case a.default.Tongits:c.Windown.MainView.onClickJoinTongits(null,null,!1,this.roomId,-1,this.editBoxPass.string,!0);break;case a.default.TienLen:c.Windown.MainView.onClickJoinTienLen(null,null,!1,this.roomId,-1,this.editBoxPass.string,!0);break;case a.default.Binh:c.Windown.MainView.onClickJoinBinh(null,null,!1,this.roomId,-1,this.editBoxPass.string,!0);break;default:return}this.onClose()}},e.prototype.handleJoinTable=function(t){cc.log(s.REQUEST_CODE.FINDTABLE+": ",c.Windown.SFSObjToJson(t))},r([p(cc.EditBox)],e.prototype,"editBoxPass",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../DefineTs/REQUEST_CODE":"REQUEST_CODE","../Game/GAME_TYPE":"GAME_TYPE","../Windown":"Windown"}],ChiTietPhien:[function(t,e,n){"use strict";cc._RF.push(e,"0bf8dPlDgtLH4DJxMXhdRAS","ChiTietPhien");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Parent/BaseScrollView"),c=t("../../../Scritps/Popup/PageData/PageData"),l=t("../../../Scritps/Windown"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrTai=null,e.scrXiu=null,e.parentResult=null,e.lbPhien=null,e.lbSumTai=null,e.lbSumXiu=null,e.lbMd5=null,e.lbMd5Raw=null,e.skeWin=null,e.pageDate=null,e.iconTai=null,e.iconXiu=null,e.sprDice=[],e.arrHistory=null,e.xTai=-205.773,e.xXiu=219.544,e}return i(e,t),e.prototype.start=function(){l.Windown.TaiXiu&&l.Windown.TaiXiu.sendRequest(s.REQUEST_CODE.TXinfoRoundBetOld,null)},e.prototype.responseServer=function(t){var e=t.getSFSArray("data");this.arrHistory=e,this.pageDate.setTotalPage(e.size(),!0),l.Windown.UIManager.hideLoading()},e.prototype.onChangePage=function(t){for(var e=this,n=this.arrHistory.getSFSObject(t-1),o=JSON.parse(n.get("view")),i=n.get("result"),r=n.get("rounds"),s=n.get("MD5"),a=n.get("MD5finish"),c=n.getSFSArray("dataTai"),u=n.getSFSArray("dataXiu"),p=[],h=[],d=0,f=0,y=0,g=c.size();y<g;y++){var m=c.getSFSObject(y);p.push(m),d+=m.get("agBet")}for(y=0,g=u.size();y<g;y++)m=u.getSFSObject(y),h.push(m),f+=m.get("agBet");this.scrTai.resetScr(),this.scrXiu.resetScr(),this.scrTai.init(p),this.scrXiu.init(h),this.parentResult.children.forEach(function(t,n){t.getComponent(cc.Sprite).spriteFrame=e.sprDice[o[n]-1]}),this.lbPhien.string="#"+r,this.setInfoSkeWin(i),this.lbMd5.string=s,this.lbMd5Raw.string=a,this.lbSumTai.string=l.Windown.formatNumber(d),this.lbSumXiu.string=l.Windown.formatNumber(f)},e.prototype.setInfoSkeWin=function(t){t>10?(this.skeWin.node.x=this.xTai,this.skeWin.setAnimation(0,"tai",!0),this.iconTai.active=!1,this.iconXiu.active=!0):(this.skeWin.node.x=this.xXiu,this.skeWin.setAnimation(0,"xiu",!0),this.iconTai.active=!0,this.iconXiu.active=!1)},e.prototype.onClickClose=function(){l.Windown.TaiXiu&&(l.Windown.TaiXiu.chiTietPhien=null),this.node.destroy()},e.prototype.onClickCopyMd5=function(){l.Windown.coppyToClip(this.lbMd5.string)},e.prototype.onClickCopyMd5Raw=function(){l.Windown.coppyToClip(this.lbMd5Raw.string)},r([h(a.default)],e.prototype,"scrTai",void 0),r([h(a.default)],e.prototype,"scrXiu",void 0),r([h(cc.Node)],e.prototype,"parentResult",void 0),r([h(cc.Label)],e.prototype,"lbPhien",void 0),r([h(cc.Label)],e.prototype,"lbSumTai",void 0),r([h(cc.Label)],e.prototype,"lbSumXiu",void 0),r([h(cc.Label)],e.prototype,"lbMd5",void 0),r([h(cc.Label)],e.prototype,"lbMd5Raw",void 0),r([h(sp.Skeleton)],e.prototype,"skeWin",void 0),r([h(c.default)],e.prototype,"pageDate",void 0),r([h(cc.Node)],e.prototype,"iconTai",void 0),r([h(cc.Node)],e.prototype,"iconXiu",void 0),r([h([cc.SpriteFrame])],e.prototype,"sprDice",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Parent/BaseScrollView":"BaseScrollView","../../../Scritps/Popup/PageData/PageData":"PageData","../../../Scritps/Windown":"Windown"}],ChuyenTien:[function(t,e,n){"use strict";cc._RF.push(e,"a48f3ct1WtBuLXXCc+HDCzr","ChuyenTien");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../DefineTs/REQUEST_CODE"),a=t("../../../DefineTs/TextDefine"),c=t("../../../Network/ConectManager"),l=t("../../../Windown"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.edbUserId=null,e.edbGold=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.reset=function(){this.edbGold.string="",this.edbUserId.string=""},e.prototype.onClickXacNhan=function(){if(""!=this.edbUserId.string)if(""!=this.edbGold.string){var t=c.ConectManager.getIns().getSFSObj();t.putLong("ag",l.Windown.splitToInt(this.edbGold.string)),t.putInt("idPlayerTg",parseInt(this.edbUserId.string)),c.ConectManager.getIns().sendRequestToCallback(s.REQUEST_CODE.Transfer,t,this.responseChuyenTien.bind(this))}else l.Windown.UIManager.showAlertMini(a.TextDefine.NullValueTrans);else l.Windown.UIManager.showAlertMini(a.TextDefine.NullUserID)},e.prototype.responseChuyenTien=function(t){cc.log("responseChuyenTien:",l.Windown.SFSObjToJson(t)),l.Windown.Dialog.showDialog(t.getUtfString("message")),t.getBool("status")&&c.ConectManager.getIns().sendRequest(s.REQUEST_CODE.GetAccountBlance,null)},r([h(cc.EditBox)],e.prototype,"edbUserId",void 0),r([h(cc.EditBox)],e.prototype,"edbGold",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../DefineTs/TextDefine":"TextDefine","../../../Network/ConectManager":"ConectManager","../../../Windown":"Windown"}],ClearCacheBase64:[function(t,e,n){"use strict";cc._RF.push(e,"927c2cG+fZPp71Nv79Ab04d","ClearCacheBase64");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=s.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isEmitDisble=!1,e}return i(e,t),e.prototype.onDisable=function(){this.isEmitDisble&&this.onClear()},e.prototype.onClear=function(){var t=this.getComponent(cc.Sprite);t.spriteFrame&&cc.path.basename(t.spriteFrame.getTexture().nativeUrl).indexOf("base64")- -1&&(cc.log("xoa dc roi nay"),cc.assetManager.releaseAsset(t.spriteFrame.getTexture()),cc.assetManager.releaseAsset(t.spriteFrame),t.spriteFrame=null)},e.prototype.onDestroy=function(){this.onClear()},r([c(cc.Boolean)],e.prototype,"isEmitDisble",void 0),r([a,l("ClearCacheBase64")],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],ColisionBoomNguyenTu:[function(t,e,n){"use strict";cc._RF.push(e,"8c359IUSINLDqxBy7ak0DpZ","ColisionBoomNguyenTu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Windown"),c=t("./BaseFishDeaditemDrag"),l=t("./PanelPoint"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodePanel=null,e}return i(e,t),e.prototype.excuted=function(){return r(this,void 0,void 0,function(){var t,e,n,o;return s(this,function(i){switch(i.label){case 0:if(null==this.player)return[2];for(e in t=[],this.listFishValue)t.push(e);n=0,i.label=1;case 1:return n<t.length?(o=t[n],this.handleMoneydAdd(this.listFishValue[o]),[4,a.Windown.FishBongDem.makeDelay(.2)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.getNode=function(){var t=this.player.mapNodePanel.get(this.idByFish);return null==t?null:t},e.prototype.end=function(){},e.prototype.handleMoneydAdd=function(t){var e=this.getNode();e&&(this.nodePanel=e.getComponent(l.default),this.nodePanel.addMoney(t))},e}(c.default);n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./BaseFishDeaditemDrag":"BaseFishDeaditemDrag","./PanelPoint":"PanelPoint"}],ColisionCrabBoom:[function(t,e,n){"use strict";cc._RF.push(e,"e2094+14WpM8739szj2x1kn","ColisionCrabBoom");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.excuted=function(){return r(this,void 0,void 0,function(){return s(this,function(){return t.prototype.excuted.call(this),this.nodePanel&&this.nodePanel.end(),[2]})})},e}(t("./ColisionCrab").default);n.default=a,cc._RF.pop()},{"./ColisionCrab":"ColisionCrab"}],ColisionCrabEndMuiKhoan:[function(t,e,n){"use strict";cc._RF.push(e,"38c7fs+Qp5Gqof0nQ5wwUU/","ColisionCrabEndMuiKhoan");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Windown"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodePanel=null,e}return i(e,t),e.prototype.excuted=function(){return r(this,void 0,void 0,function(){return s(this,function(){return t.prototype.excuted.call(this),this.nodePanel&&this.nodePanel.end(),[2]})})},e.prototype.getPoolNode=function(){return a.Windown.FishBongDem.pool.getPanelMuiKhoan()},e}(t("./ColisionCrab").default);n.default=c,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./ColisionCrab":"ColisionCrab"}],ColisionCrabGunFire:[function(t,e,n){"use strict";cc._RF.push(e,"8982dhlNr5CIpd2V8B1i4yu","ColisionCrabGunFire");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Windown"),c=t("./BaseFishDeaditemDrag"),l=t("./PanelPoint"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodePanel=null,e}return i(e,t),e.prototype.excuted=function(){return r(this,void 0,void 0,function(){var t,e,n,o;return s(this,function(i){switch(i.label){case 0:if(null==this.player)return[2];for(e in t=[],this.listFishValue)t.push(e);n=0,i.label=1;case 1:return n<t.length?(o=t[n],this.handleMoneydAdd(this.listFishValue[o]),[4,a.Windown.FishBongDem.makeDelay(.2)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.getNode=function(){var t=this.player.mapNodePanel.get(this.idByFish);return null==t?null:t},e.prototype.putNode=function(t){a.Windown.FishBongDem.pool.putPanelLaze(t),this.player.mapNodePanel.delete(this.idByFish)},e.prototype.getPoolNode=function(){return a.Windown.FishBongDem.pool.getPanelLaze()},e.prototype.end=function(){},e.prototype.handleMoneydAdd=function(t){var e=this.getNode();e&&(this.nodePanel=e.getComponent(l.default),this.nodePanel.addMoney(t))},e}(c.default);n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./BaseFishDeaditemDrag":"BaseFishDeaditemDrag","./PanelPoint":"PanelPoint"}],ColisionCrabMuiKhoan:[function(t,e,n){"use strict";cc._RF.push(e,"8834b9abh9Lv5h5BRYygtXJ","ColisionCrabMuiKhoan");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Windown"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getPoolNode=function(){return r.Windown.FishBongDem.pool.getPanelMuiKhoan()},e}(t("./ColisionCrab").default);n.default=s,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./ColisionCrab":"ColisionCrab"}],ColisionCrabSongAm:[function(t,e,n){"use strict";cc._RF.push(e,"33d13lVQ4JEKKXMWMa7W/L+","ColisionCrabSongAm");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Windown"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getPoolNode=function(){return r.Windown.FishBongDem.pool.getPanelSongAm()},e}(t("./ColisionCrab").default);n.default=s,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./ColisionCrab":"ColisionCrab"}],ColisionCrab:[function(t,e,n){"use strict";cc._RF.push(e,"9df77QN+RxIMYKEwU96ceOk","ColisionCrab");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Fish/DeadEffect/FishDeadNormal"),c=t("../Fish/DeadEffect/FishDeadNormalRd"),l=t("./BaseFishColision"),u=t("./PanelPoint"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodePanel=null,e}return i(e,t),e.prototype.excuted=function(){return r(this,void 0,void 0,function(){var t,e,n,o,i=this;return s(this,function(){if(null==this.player)return[2];for(o in this.nodePanel=this.getNode(),t=0,e=function(e){var o=n.getDeadEffectWithFishType(n.listFish[e],n.moneyGun,n.player);o.moneyRevice=n.listFishValue[e],n.nodePanel&&(o.funCall=function(t){i.nodePanel&&(i.nodePanel.addMoney(t),i.nodePanel.removeHandle(o.funCall))},n.nodePanel.addHandle(o.funCall)),o.execute(t,!0),t+=.3},n=this,this.listFish)e(o);return[2]})})},e.prototype.getNode=function(){var t=this.player.mapNodePanel.get(this.idByFish);return null==t?null:t.getComponent(u.default)},e.prototype.getDeadEffectWithFishType=function(t,e,n){return t.fishType<15?new a.default(t,n,e):new c.default(t,n,e)},e}(l.default);n.default=p,cc._RF.pop()},{"../Fish/DeadEffect/FishDeadNormal":"FishDeadNormal","../Fish/DeadEffect/FishDeadNormalRd":"FishDeadNormalRd","./BaseFishColision":"BaseFishColision","./PanelPoint":"PanelPoint"}],ColisionDinhBa:[function(t,e,n){"use strict";cc._RF.push(e,"84d00t2HRtPVKgLNfbknbvc","ColisionDinhBa");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Windown"),c=t("./BaseFishDeaditemDrag"),l=t("./PanelPoint"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodePanel=null,e}return i(e,t),e.prototype.excuted=function(){return r(this,void 0,void 0,function(){var t,e,n,o,i,r;return s(this,function(s){switch(s.label){case 0:if(null==this.player)return[2];for(n in this.listFish.forEach(function(t){if(t.isInList=!1,t.fishType<33){var e=1==a.Windown.RandomNumber(0,2)?a.Windown.RandomNumber(200,720):a.Windown.RandomNumber(-720,-200);t.setTimeEffectWating(2);var n=t.getViewNode();n.opacity=150,n.runAction(cc.sequence(cc.spawn(cc.sequence(cc.moveBy(1,0,150).easing(cc.easeSineOut()),cc.moveBy(1,0,-150).easing(cc.easeSineIn())),cc.rotateBy(2,e)),cc.delayTime(1)))}}),t={time:0},cc.tween(t).delay(.5).call(function(){a.Windown.FishBongDem&&a.Windown.FishBongDem.fishBDView&&a.Windown.FishBongDem.fishBDView.effectSlowmotion(1,.2)}).start(),e=[],this.listFishValue)e.push(n);o=0,s.label=1;case 1:return o<e.length?(i=e[o],this.handleMoneydAdd(this.listFishValue[i]),[4,a.Windown.FishBongDem.makeDelay(.2)]):[3,4];case 2:s.sent(),s.label=3;case 3:return o++,[3,1];case 4:return[4,a.Windown.FishBongDem.makeDelay(8)];case 5:return s.sent(),(r=this.getNode())&&(this.nodePanel=r.getComponent(l.default),this.nodePanel.end()),[2]}})})},e.prototype.getNode=function(){var t=this.player.mapNodePanel.get(this.idByFish);return null==t?null:t},e.prototype.end=function(){},e.prototype.handleMoneydAdd=function(t){var e=this.getNode();e&&(this.nodePanel=e.getComponent(l.default),this.nodePanel.addMoney(t))},e}(c.default);n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./BaseFishDeaditemDrag":"BaseFishDeaditemDrag","./PanelPoint":"PanelPoint"}],ColisionFish74:[function(t,e,n){"use strict";cc._RF.push(e,"b32cfIYyrdOuoToDsd4GXpW","ColisionFish74");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Windown"),c=t("../Fish/DeadEffect/FishDeadNormal"),l=t("../Fish/DeadEffect/FishDeadNormalRd"),u=t("../Fish/FISH_TYPE"),p=t("./ColisionCrab"),h=t("./PanelPoint"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodePanel=null,e}return i(e,t),e.prototype.excuted=function(){return r(this,void 0,void 0,function(){var e,n,o,i,r,c,l,p,d,f,y,g;return s(this,function(s){switch(s.label){case 0:if(null==this.player)return[2];for(e=a.Windown.FishBongDem.pool.getPanelFish74(),this.idByFish=this.listFish[0].fishId,e.getComponent(h.default).init(this.player,this.idByFish,u.default.FISH_74),n=[],o=this.listFish.shift(),this.listFishValue.shift(),o.playAniDead(),o.removeFishFromList(),this.player.addGold(0),i=0,r=this.listFish;i<r.length;i++)c=r[i],a.Windown.FishBongDem.getSound().playEffectNoStop(a.Windown.FishBongDem.getSound().Electricity),c.playAniDead(),c.removeFishFromList(),(l=a.Windown.FishBongDem.pool.getEffectFishSet74()).parent=a.Windown.FishBongDem.fishBDView.parentEffect,p=o.getPoint(),d=c.getPoint(),l.setPosition(p),n.push(l),f=d.clone().subSelf(p),y=180*Math.atan2(f.x,f.y)/Math.PI,g=cc.Vec2.distance(d,p),l.angle=-y,l.height=g,l.children[0].y=g;return[4,a.Windown.FishBongDem.makeDelay(2)];case 1:return s.sent(),o.playAniRemove(),n.forEach(function(t){t.destroy()}),t.prototype.excuted.call(this),e.getComponent(h.default).end(),[2]}})})},e.prototype.getNode=function(){var t=this.player.mapNodePanel.get(this.idByFish);return null==t?null:t.getComponent(h.default)},e.prototype.getDeadEffectWithFishType=function(t,e,n){return t.fishType<15?new c.default(t,n,e):new l.default(t,n,e)},e}(p.default);n.default=d,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","../Fish/DeadEffect/FishDeadNormal":"FishDeadNormal","../Fish/DeadEffect/FishDeadNormalRd":"FishDeadNormalRd","../Fish/FISH_TYPE":"FISH_TYPE","./ColisionCrab":"ColisionCrab","./PanelPoint":"PanelPoint"}],ColisionHaiThanDead:[function(t,e,n){"use strict";cc._RF.push(e,"2f919qAfMFMMaQo1uWnaq0x","ColisionHaiThanDead");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Windown"),c=t("../Fish/DeadEffect/FishDeadChildHT"),l=t("../Fish/DeadEffect/FishDeadHaiThan"),u=t("./BaseFishColision"),p=t("./PanelPoint"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pannelPoint=null,e}return i(e,t),e.prototype.excuted=function(){return r(this,void 0,void 0,function(){var t,e,n,o,i,r,c=this;return s(this,function(s){switch(s.label){case 0:if(null==this.player)return[2];for(i in t=a.Windown.FishBongDem.getSound(),e=a.Windown.FishBongDem.pool.getPanelHaiThan(),this.pannelPoint=e.getComponent(p.default),this.pannelPoint.reset(),this.player.mapNodePanel.set(this.idByFish,e),e.parent=this.player.parentPanel,e.scale=0,e.opacity=255,e.stopAllActions(),e.runAction(cc.scaleTo(.3,1).easing(cc.easeBackOut())),n=0,o=[],this.listFish)(r=this.getDeadEffectWithFishType(this.listFish[i],this.moneyGun,this.player)).moneyRevice=this.listFishValue[i],r.funCall=function(t){c.handleMoneydAdd(t)},o.push(r.execute(n,!0)),n+=.2;return a.Windown.FishBongDem.setTimeout(function(){t.playEffect(t.demTien,c.player.isMe?.8:.4,!0)},1.9),[4,Promise.all(o)];case 1:return s.sent(),t.stopEffect(t.demTien),t.playEffect(t.caLonChet),e.stopAllActions(),e.runAction(cc.sequence(cc.scaleTo(.5,1.3),cc.scaleTo(.3,1),cc.delayTime(3),cc.fadeOut(.5),cc.callFunc(function(){c.pannelPoint.node&&(a.Windown.FishBongDem.pool.putPanelHaiThan(c.pannelPoint.node),c.player.mapNodePanel.delete(c.idByFish))}))),[2]}})})},e.prototype.handleMoneydAdd=function(t){this.pannelPoint.addMoney(t)},e.prototype.getDeadEffectWithFishType=function(t,e,n){return t.fishType>28&&t.fishType<33?new c.default(t,n,e):new l.default(t,n,e)},e}(u.default);n.default=h,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","../Fish/DeadEffect/FishDeadChildHT":"FishDeadChildHT","../Fish/DeadEffect/FishDeadHaiThan":"FishDeadHaiThan","./BaseFishColision":"BaseFishColision","./PanelPoint":"PanelPoint"}],ColisionItemHaiThan:[function(t,e,n){"use strict";cc._RF.push(e,"a4c8cEUS9VOwJmjoGVUN7IT","ColisionItemHaiThan");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Windown"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.excuted=function(){var t=this;if(null!=this.player){var e=r.Windown.FishBongDem.fishMng.getFishById(this.sfsObj.get("byFish")),n=e.stateItem,o=r.Windown.FishBongDem.pool.getItemMiniBoss(n);o.parent=r.Windown.FishBongDem.fishBDView.parentEffect,o.setPosition(e.getPointItem()),o.scale=0,o.angle=0;var i=e.getViewNode().x+-200,s=e.getViewNode().y-50,a=cc.spawn(cc.jumpTo(1,cc.v2(i,s),100,3),cc.rotateBy(1,720),cc.scaleTo(.2,1)),c=cc.delayTime(2),l=cc.moveTo(1,this.player.gunFishBd.pointInScreen).easing(cc.easeBackIn()),u=cc.callFunc(function(){r.Windown.FishBongDem.pool.putItemMiniBoss(o),t.player.addGold(t.listFishValue[0])});o.runAction(cc.sequence(a,c,l,u)),e.stateItem++,e.updateStateAni();var p=r.Windown.FishBongDem.getSound();p.playEffect(p.miniBossRoiItem)}},e}(t("./BaseFishColision").default);n.default=s,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./BaseFishColision":"BaseFishColision"}],ColisionLocXoay:[function(t,e,n){"use strict";cc._RF.push(e,"c34de9B6x5HUaDgPn4FerYi","ColisionLocXoay");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Windown"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.excuted=function(){return r(this,void 0,void 0,function(){var t,e,n,o,i,r,c,l;return s(this,function(s){switch(s.label){case 0:return null==this.player?[2]:((t=this.listFish[0]).removeFishFromList(),t.playAniDead(),t.playAniRemove(),e=t.getPoint(),[4,a.Windown.FishBongDem.makeDelay(1)]);case 1:return s.sent(),this.addMoney(this.listFishValue[0],e,this.player),(n=a.Windown.FishBongDem.pool.getLocXoay()).parent=a.Windown.FishBongDem.fishBDView.parentFish,n.zIndex=cc.macro.MIN_ZINDEX,n.setPosition(e),n.scale=0,n.runAction(cc.scaleTo(1,1.5)),[4,a.Windown.FishBongDem.makeDelay(1)];case 2:for(c in s.sent(),this.listFish)(l=this.listFish[c]).removeFishFromList(),l!=t&&this.playActionFish(l,e);return[4,a.Windown.FishBongDem.makeDelay(3)];case 3:for(i in s.sent(),o=[],this.listFish)o.push(i);r=0,s.label=4;case 4:return r<o.length?(c=o[r],(l=this.listFish[c])==t?[3,6]:(this.addMoney(this.listFishValue[c],e,this.player),[4,a.Windown.FishBongDem.makeDelay(.2)])):[3,7];case 5:s.sent(),s.label=6;case 6:return r++,[3,4];case 7:return n.stopAllActions(),n.runAction(cc.sequence(cc.scaleTo(1,0),cc.callFunc(function(){a.Windown.FishBongDem.pool.putLocXoay(n)}))),[2]}})})},e.prototype.addMoney=function(t,e,n){if(null!=(n=a.Windown.FishBongDem.playerMng.getPlayerById(n.acountId))){var o=a.Windown.FishBongDem.pool.getTextMoney(n.isMe);o.getComponent(cc.Label).string=t.toString(),o.parent=a.Windown.FishBongDem.fishBDView.parentEffect,o.opacity=255,o.setPosition(e),o.scale=0;var i=cc.scaleTo(.1,1).easing(cc.easeBackOut()),r=cc.delayTime(.2),s=cc.spawn(cc.fadeTo(.1,150),cc.scaleTo(.2,.8)),c=cc.moveBy(1,0,80),l=cc.callFunc(function(){a.Windown.FishBongDem.pool.putTextMoney(o)});o.runAction(cc.sequence(cc.spawn(c,cc.sequence(i,r,s)),l)),n.addGold(t);var u=a.Windown.FishBongDem.getSound();u.playEffectNoStop(u.coinVeTui,n.isMe?.8:.4)}},e.prototype.playActionFish=function(t,e){t.fishView&&t.fishView.aniStateMove&&t.fishView.aniStateMove.pause();var n=e.clone().subSelf(t.getPoint()),o=180*Math.atan2(n.x,n.y)/Math.PI,i=t.getViewNode();i.stopAllActions();var r=cc.sequence(cc.delayTime(2.5),cc.scaleTo(.5,0)),s=cc.moveTo(3,e).easing(cc.easeSineOut()),a=cc.rotateTo(.5,-o-180),c=cc.spawn(r,s,a);i.runAction(cc.sequence(c,cc.callFunc(t.destroy,t)))},e}(t("./BaseFishColision").default);n.default=c,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./BaseFishColision":"BaseFishColision"}],ColisionMatThan:[function(t,e,n){"use strict";cc._RF.push(e,"cafd3LCT0lIvIYHUPig6Ozw","ColisionMatThan");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Windown"),c=t("./BaseFishDeaditemDrag"),l=t("./PanelPoint"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodePanel=null,e}return i(e,t),e.prototype.excuted=function(){return r(this,void 0,void 0,function(){var t,e,n,o,i;return s(this,function(r){switch(r.label){case 0:if(null==this.player)return[2];for(e in t=[],this.listFishValue)t.push(e);n=0,r.label=1;case 1:return n<t.length?(o=t[n],this.handleMoneydAdd(this.listFishValue[o]),(i=this.player.mapMatThan.get(this.idByFish))&&i.emitNewMoney(),[4,a.Windown.FishBongDem.makeDelay(.2)]):[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.getNode=function(){var t=this.player.mapNodePanel.get(this.idByFish);return null==t?null:t},e.prototype.end=function(){},e.prototype.handleMoneydAdd=function(t){var e=this.getNode();e&&(this.nodePanel=e.getComponent(l.default),this.nodePanel.addMoney(t))},e}(c.default);n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./BaseFishDeaditemDrag":"BaseFishDeaditemDrag","./PanelPoint":"PanelPoint"}],ColisionNormal:[function(t,e,n){"use strict";cc._RF.push(e,"b39c2cLUMJOWojbko/HkUGU","ColisionNormal");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.excuted=function(){if(null!=this.player){var t=0;for(var e in this.listFish){var n=this.getDeadEffectWithFishType(this.listFish[e],this.moneyGun,this.player);n.moneyRevice=this.listFishValue[e],n.execute(t,!0),t+=.2}}},e}(t("./BaseFishColision").default);n.default=r,cc._RF.pop()},{"./BaseFishColision":"BaseFishColision"}],ConectManager:[function(t,e,n){"use strict";cc._RF.push(e,"4e64bkzZ+VOY4JtwMW0v4tz","ConectManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.ConectManager=void 0;var o=t("../DefineTs/EVENT_MANAGER"),i=t("../DefineTs/PlayerPP"),r=t("../DefineTs/REQUEST_CODE"),s=t("../DefineTs/TextDefine"),a=t("../InfoERR"),c=t("../Windown"),l=function(){function t(){this.objHandle=null,this.userNameCache="",this.userPassCache="",this.currentHost=""}return t.getIns=function(){return null==t.instance&&(t.instance=new t),t.instance},t.prototype.init=function(){this.objHandle={},this.sfs=new SFS2X.SmartFox,this.sfs.addEventListener(SFS2X.SFSEvent.CONNECTION,this.onConnection,this),this.sfs.addEventListener(SFS2X.SFSEvent.CONNECTION_LOST,this.onConnectionLost,this),this.sfs.addEventListener(SFS2X.SFSEvent.LOGIN,this.onLogin,this),this.sfs.addEventListener(SFS2X.SFSEvent.LOGIN_ERROR,this.onLoginError,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.onExtensionResponse,this),this.sfs.addEventListener(SFS2X.SFSEvent.LOGOUT,this.onLogOut,this),this.sfs.addEventListener(SFS2X.SFSEvent.PING_PONG,this.pingPong,this),this.sfs.addEventListener(SFS2X.SFSEvent.ADMIN_MESSAGE,this.messageAdmin,this),this.sfs.addEventListener(SFS2X.SFSEvent.MODERATOR_MESSAGE,this.messageMode,this),this.sfs.addEventListener(SFS2X.SFSEvent.OBJECT_MESSAGE,this.messageObject,this),this.sfs.addEventListener(SFS2X.SFSEvent.PUBLIC_MESSAGE,this.messagePublic,this)},t.prototype.messageMode=function(t){c.Windown.Dialog.showLog(t.message)},t.prototype.messageAdmin=function(t){c.Windown.Dialog.showLog(t.message)},t.prototype.messageObject=function(t){c.Windown.Dialog.showLog(t.message)},t.prototype.messagePublic=function(t){c.Windown.Dialog.showLog(t.message)},t.prototype.connectToServer=function(){cc.log("connectToServer:"+c.Windown.Define.configNetwork.hostHttps),c.Windown.UIManager.showLoading(),cc.sys.isNative?(this.sfs.connect(c.Windown.Define.configNetwork.hostIP,8080,!1),this.currentHost=c.Windown.Define.configNetwork.hostIP,cc.log("Connect Native:"+this.currentHost)):(this.sfs.connect(c.Windown.Define.configNetwork.hostHttps,c.Windown.Define.configNetwork.portWebSServer,!0),this.currentHost=c.Windown.Define.configNetwork.hostHttps,cc.log("Connect Web:"+this.currentHost))},t.prototype.pingPong=function(t){c.Windown.LagValue=t.lagValue/1e3/2},t.prototype.onConnection=function(t){t.success?(cc.log("ket noi thanh cong"),this.sfs.send(new SFS2X.LoginRequest("","",null,c.Windown.Define.configNetwork.zoneLogin))):(c.Windown.UIManager.hideLoading(),c.Windown.Dialog.showLog("Kh\xf4ng th\u1ec3 k\u1ebft n\u1ed1i"),c.Windown.BotController&&c.Windown.restartGame())},t.prototype.onConnectionLost=function(){cc.log("connect lost"),this.objHandle={},c.Windown.UIManager.showAlertMini("M\u1ea5t k\u1ebft n\u1ed1i"),this.emitOnDisconnect()},t.prototype.onLogin=function(){this.objHandle={},c.Windown.UIManager.hideLoading(),this.emitOnConnect()},t.prototype.emitOnConnect=function(){cc.systemEvent.emit(o.EVENT_MANAGER.onConnect)},t.prototype.emitOnDisconnect=function(){cc.systemEvent.emit(o.EVENT_MANAGER.onDisconnect),null==c.Windown.MainView&&(cc.director.loadScene("main"),cc.log("loadScene main"))},t.prototype.onLoginError=function(){this.emitOnDisconnect()},t.prototype.getValibleRoomName=function(){for(var t=this.makeId(8);this.sfs.roomManager.containsRoom(t);)t=this.makeId(8);return t},t.prototype.makeId=function(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=n.length,i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*o));return e},t.prototype.onExtensionResponse=function(t){var e=t.cmd,n=t.params;switch(this.objHandle[e]&&(this.objHandle[e](n),this.objHandle[e]=null,delete this.objHandle[e]),e){case r.REQUEST_CODE.ForceRestart:return cc.sys.isNative,void c.Windown.restartGame();case r.REQUEST_CODE.Dialog:return void c.Windown.Dialog.showLog(n.getUtfString("msg"));case r.REQUEST_CODE.ActiveAutoFish:cc.log("nhay vao fish auto ne");var o=n.getInt("isActive");return void(c.Windown.User.isAutoFish=0!=o);case r.REQUEST_CODE.ActiveGunSet:var i=n.getInt("isActive");return void(c.Windown.User.isGunSet=0!=i);case r.REQUEST_CODE.ListRoom:case r.REQUEST_CODE.Dangky:case r.REQUEST_CODE.Login:return;case r.REQUEST_CODE.Logout:return c.Windown.Dialog.checkAndShowLog(n,!0),this.sfs.enableLagMonitor(!1),void this.emitOnDisconnect();case r.REQUEST_CODE.BuyIn:n.isNull("data")||(a=n.getUtfString("data"));var s=JSON.parse(a);return void(100!=s.errorCode?c.Windown.Dialog.showLog(s.msg):(c.Windown.User.userAg+=s.ag,c.Windown.Dialog.showLog(a.msg)));case r.REQUEST_CODE.RequestCaptcha:return;case r.REQUEST_CODE.GiftCode:return n.isNull("errorMessage")||cc.log(n.getUtfString("errorMessage")),void(n.isNull("message")||cc.log(n.getUtfString("message")));case r.REQUEST_CODE.GetAccountBlance:return c.Windown.MoneyUser.moneyCache=n.getLong("AccountBalance"),void c.Windown.MoneyUser.updateMoney();case r.REQUEST_CODE.NotiJackpotFish:return void c.Windown.UIManager.showNotiNoHu(n);case r.REQUEST_CODE.InfoJackpot:return void c.Windown.JackpotManager.reviceData(n);case r.REQUEST_CODE.LvlUp:return void c.Windown.UIManager.showLvlUp(n);case r.REQUEST_CODE.ReviceListItem:return void c.Windown.UIManager.showReviceItem(n);case r.REQUEST_CODE.GetInfo:return c.Windown.Dialog.checkAndShowLog(n,!1),void c.Windown.UIManager.showThongTin(n.getSFSObject("info"));case r.REQUEST_CODE.UpdateAccount:return void this.responseUpdateTaiKhoan(n);case r.REQUEST_CODE.GETLISTMARKGAME:return cc.log(c.Windown.SFSObjToJson(n)),void c.Windown.UIManager.onShowLobbyView(c.Windown.SFSObjToJson(n),c.Windown.UIManager.currentGameId);case r.REQUEST_CODE.GetConfig:cc.log("--------GetConfig"),cc.log(c.Windown.SFSObjToJson(n));var a=JSON.parse(n.getUtfString("data")),l=JSON.parse(a.info);return c.Windown.LinkResetPass=l.ResetPass,void cc.log("ResetPass==",c.Windown.LinkResetPass)}cc.systemEvent.emit(e,n)},t.prototype.onLogOut=function(){console.log("logout roi=== "),this.objHandle={},this.emitOnDisconnect()},t.prototype.sendLogout=function(){var t=new SFS2X.SFSObject;this.sendRequest(r.REQUEST_CODE.Logout,t)},t.prototype.sendJoinRoom=function(t,e){this.sfs.send(new SFS2X.JoinRoomRequest(t,e))},t.prototype.sendLeaveRoom=function(t){if(!this.sfs.roomManager.containsRoom(t.id)||!this.sfs.getJoinedRooms().includes(t))throw new a.InfoErr("");this.sfs.send(new SFS2X.LeaveRoomRequest(t))},t.prototype.sendSignUp=function(e,n,o,i,s,a,l,u){c.Windown.UIManager.showLoading();var p=t.getIns().getSFSObj();p.putUtfString("username",e),p.putUtfString("password",o),""!=u&&p.putUtfString("madaily",u),p.putUtfString("maBank",s),p.putUtfString("stk",l),p.putUtfString("ttk",a),p.putUtfString("captcha",i),p.putInt("deviceOS",c.Windown.getOS()),p.putUtfString("deviceID",c.Windown.getDeviceID()),p.putUtfString("deviceName",c.Windown.getDeviceName()),p.putUtfString("ip",c.Windown.UserIpAddress),null!=n&&""!=n&&p.putUtfString("nickname",n),t.getIns().sendRequestToCallback(r.REQUEST_CODE.SignUp,p,this.responseSignUp.bind(this)),t.getIns().dangKyCallBackByCode(r.REQUEST_CODE.Login,this.responseLogin.bind(this))},t.prototype.sendLogin=function(e,n,o){c.Windown.UIManager.showLoading();var i=t.getIns().getSFSObj();i.putUtfString("username",e),i.putUtfString("password",c.Windown.getMD5(n)),i.putUtfString("captcha",o),i.putInt("deviceOS",c.Windown.getOS()),i.putUtfString("deviceID",c.Windown.getDeviceID()),i.putUtfString("deviceName",c.Windown.getDeviceName()),i.putUtfString("ip",c.Windown.UserIpAddress),this.userNameCache=e,this.userPassCache=n,t.getIns().sendRequestToCallback(r.REQUEST_CODE.Login,i,this.responseLogin.bind(this)),c.Windown.UIManager.showLoading()},t.prototype.loginFb=function(e){c.Windown.UIManager.showLoading();try{var n=t.getIns().getSFSObj();e.id&&n.putUtfString("id",e.id),e.token&&n.putUtfString("token",e.token),e.tokenInWeb&&n.putUtfString("tokenInWeb",e.tokenInWeb),n.putInt("deviceOS",c.Windown.getOS()),n.putUtfString("deviceID",c.Windown.getDeviceID()),n.putUtfString("deviceName",c.Windown.getDeviceName()),t.getIns().sendRequestToCallback(r.REQUEST_CODE.LoginFb,n,this.responseLoginFaceBook.bind(this))}catch(o){c.Windown.UIManager.hideLoading(),c.Windown.Dialog.showLog(s.TextDefine.ErrorDeviceId)}},t.prototype.loginGuest=function(){try{var e=t.getIns().getSFSObj();e.putInt("deviceOS",c.Windown.getOS()),e.putUtfString("deviceID",c.Windown.getDeviceID()),e.putUtfString("deviceName",c.Windown.getDeviceName()),e.putUtfString("ip",c.Windown.UserIpAddress),t.getIns().sendRequestToCallback(r.REQUEST_CODE.LoginPlaynow,e,this.responseLoginPlayNow.bind(this))}catch(n){c.Windown.Dialog.showLog(s.TextDefine.ErrorDeviceId)}},t.prototype.sendUpdateTaiKhoan=function(e){t.getIns().sendRequest(r.REQUEST_CODE.UpdateAccount,e)},t.prototype.responseSignUp=function(t){cc.log("responseSignUp:",c.Windown.SFSObjToJson(t)),c.Windown.DangKy&&!t.isNull("activeCaptcha")&&(c.Windown.DangKy.edbCaptcha.node.active=!0,c.Windown.UIManager.hideLoading()),t.containsKey("errorMessage")?(c.Windown.Dialog.showLog(t.getUtfString("errorMessage")),c.Windown.UIManager.hideLoading()):c.Windown.DangKy.node.destroy()},t.prototype.responseLogin=function(e){if(cc.log("responseLogin:"+c.Windown.SFSObjToJson(e)),c.Windown.UIManager.hideLoading(),c.Windown.DangNhap&&(e.containsKey("activeCaptcha")&&(c.Windown.DangNhap.edbCaptcha.node.active=!0,c.Windown.CapchaController.requestCapcha()),c.Windown.DangNhap.toggleAuto.isChecked&&(c.Windown.setLocalStorage("userName",this.userNameCache),c.Windown.setLocalStorage("userPass",this.userPassCache))),e.containsKey(i.PlayerPP.ERR_MESSAGE))return c.Windown.Dialog.showLog(e.getUtfString(i.PlayerPP.ERR_MESSAGE)),c.Windown.setLocalStorage("autoLogin","false"),void(c.Windown.BotController&&c.Windown.UIManager.scheduleOnce(function(){c.Windown.restartGame()},10));c.Windown.DangNhap&&c.Windown.DangNhap.node.destroy(),c.Windown.DangKy&&c.Windown.DangKy.node&&c.Windown.DangKy.node.destroy(),t.getIns().sfs.enableLagMonitor(!0),c.Windown.initUser(e),c.Windown.initConfig(),c.Windown.initGameConfig(e.getUtfString("gameConfig")),c.Windown.MainView.initUIUser(),e.getBool("isSigup"),cc.systemEvent.emit(o.EVENT_MANAGER.LOGIN)},t.prototype.responseLoginFaceBook=function(e){c.Windown.DangNhap&&c.Windown.DangNhap.node.destroy(),c.Windown.DangKy&&c.Windown.DangKy.node&&c.Windown.DangKy.node.destroy(),e.containsKey(i.PlayerPP.ERR_MESSAGE)&&(cc.log(e.get("tk")),c.Windown.MainView&&c.Windown.MainView.listTkErr.push(e.get("tk"))),c.Windown.Dialog.checkAndShowLog(e,!1),t.getIns().sfs.enableLagMonitor(!0),c.Windown.initUser(e),c.Windown.initConfig(),c.Windown.initGameConfig(e.getUtfString("gameConfig")),c.Windown.MainView.initUIUser(),e.getBool("isSigup"),cc.systemEvent.emit(o.EVENT_MANAGER.LOGIN),c.Windown.setLocalStorage("isLogInFb","true")},t.prototype.responseLoginPlayNow=function(e){c.Windown.DangNhap&&c.Windown.DangNhap.node.destroy(),c.Windown.DangKy&&c.Windown.DangKy.node&&c.Windown.DangKy.node.destroy(),c.Windown.Dialog.checkAndShowLog(e,!1),t.getIns().sfs.enableLagMonitor(!0),c.Windown.initUser(e),c.Windown.initConfig(),c.Windown.initGameConfig(e.getUtfString("gameConfig")),c.Windown.MainView.initUIUser(),e.getBool("isSigup"),c.Windown.setLocalStorage("isLogInPlayNow","true"),cc.systemEvent.emit(o.EVENT_MANAGER.LOGIN)},t.prototype.responseUpdateTaiKhoan=function(e){if(c.Windown.Dialog.checkAndShowLog(e,!0),c.Windown.CapNhatTaiKhoan&&c.Windown.CapNhatTaiKhoan.onClickClose(),c.Windown.ThongTin&&c.Windown.ThongTin.node.parent&&c.Windown.MainView){var n=t.getIns().getSFSObj();n.putInt("Id",c.Windown.User.userId),t.getIns().sendRequest(r.REQUEST_CODE.GetInfo,n)}c.Windown.initUser(e),c.Windown.MainView&&c.Windown.MainView.initUIUser()},t.prototype.getRoomById=function(t){return this.sfs.roomManager.getRoomById(t)},t.prototype.getMD5=function(t){var e=function(){this.hexcase=0,this.b64pad=""};return(e.prototype={}).hex_md5=function(t){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(t)))},e.prototype.b64_md5=function(t){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(t)))},e.prototype.any_md5=function(t,e){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(t)),e)},e.prototype.hex_hmac_md5=function(t,e){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},e.prototype.b64_hmac_md5=function(t,e){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},e.prototype.any_hmac_md5=function(t,e,n){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)),n)},e.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},e.prototype.rstr_md5=function(t){return this.binl2rstr(this.binl_md5(this.rstr2binl(t),8*t.length))},e.prototype.rstr_hmac_md5=function(t,e){var n=this.rstr2binl(t);n.length>16&&(n=this.binl_md5(n,8*t.length));for(var o=Array(16),i=Array(16),r=0;r<16;r++)o[r]=909522486^n[r],i[r]=1549556828^n[r];var s=this.binl_md5(o.concat(this.rstr2binl(e)),512+8*e.length);return this.binl2rstr(this.binl_md5(i.concat(s),640))},e.prototype.rstr2hex=function(t){try{this.hexcase}catch(t){this.hexcase=0}for(var e,n=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",o="",i=0;i<t.length;i++)e=t.charCodeAt(i),o+=n.charAt(e>>>4&15)+n.charAt(15&e);return o},e.prototype.rstr2b64=function(t){try{this.b64pad}catch(t){this.b64pad=""}for(var e="",n=t.length,o=0;o<n;o+=3)for(var i=t.charCodeAt(o)<<16|(o+1<n?t.charCodeAt(o+1)<<8:0)|(o+2<n?t.charCodeAt(o+2):0),r=0;r<4;r++)8*o+6*r>8*t.length?e+=this.b64pad:e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>>6*(3-r)&63);return e},e.prototype.rstr2any=function(t,e){var n,o,i,r,s,a=e.length,c=Array(Math.ceil(t.length/2));for(n=0;n<c.length;n++)c[n]=t.charCodeAt(2*n)<<8|t.charCodeAt(2*n+1);var l=Math.ceil(8*t.length/(Math.log(e.length)/Math.log(2))),u=Array(l);for(o=0;o<l;o++){for(s=Array(),r=0,n=0;n<c.length;n++)r=(r<<16)+c[n],r-=(i=Math.floor(r/a))*a,(s.length>0||i>0)&&(s[s.length]=i);u[o]=r,c=s}var p="";for(n=u.length-1;n>=0;n--)p+=e.charAt(u[n]);return p},e.prototype.str2rstr_utf8=function(t){for(var e,n,o="",i=-1;++i<t.length;)e=t.charCodeAt(i),n=i+1<t.length?t.charCodeAt(i+1):0,55296<=e&&e<=56319&&56320<=n&&n<=57343&&(e=65536+((1023&e)<<10)+(1023&n),i++),e<=127?o+=String.fromCharCode(e):e<=2047?o+=String.fromCharCode(192|e>>>6&31,128|63&e):e<=65535?o+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):e<=2097151&&(o+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return o},e.prototype.str2rstr_utf16le=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(255&t.charCodeAt(n),t.charCodeAt(n)>>>8&255);return e},e.prototype.str2rstr_utf16be=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t.charCodeAt(n)>>>8&255,255&t.charCodeAt(n));return e},e.prototype.rstr2binl=function(t){for(var e=Array(t.length>>2),n=0;n<e.length;n++)e[n]=0;for(n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<n%32;return e},e.prototype.binl2rstr=function(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>n%32&255);return e},e.prototype.binl_md5=function(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n=1732584193,o=-271733879,i=-1732584194,r=271733878,s=0;s<t.length;s+=16){var a=n,c=o,l=i,u=r;n=this.md5_ff(n,o,i,r,t[s+0],7,-680876936),r=this.md5_ff(r,n,o,i,t[s+1],12,-389564586),i=this.md5_ff(i,r,n,o,t[s+2],17,606105819),o=this.md5_ff(o,i,r,n,t[s+3],22,-1044525330),n=this.md5_ff(n,o,i,r,t[s+4],7,-176418897),r=this.md5_ff(r,n,o,i,t[s+5],12,1200080426),i=this.md5_ff(i,r,n,o,t[s+6],17,-1473231341),o=this.md5_ff(o,i,r,n,t[s+7],22,-45705983),n=this.md5_ff(n,o,i,r,t[s+8],7,1770035416),r=this.md5_ff(r,n,o,i,t[s+9],12,-1958414417),i=this.md5_ff(i,r,n,o,t[s+10],17,-42063),o=this.md5_ff(o,i,r,n,t[s+11],22,-1990404162),n=this.md5_ff(n,o,i,r,t[s+12],7,1804603682),r=this.md5_ff(r,n,o,i,t[s+13],12,-40341101),i=this.md5_ff(i,r,n,o,t[s+14],17,-1502002290),o=this.md5_ff(o,i,r,n,t[s+15],22,1236535329),n=this.md5_gg(n,o,i,r,t[s+1],5,-165796510),r=this.md5_gg(r,n,o,i,t[s+6],9,-1069501632),i=this.md5_gg(i,r,n,o,t[s+11],14,643717713),o=this.md5_gg(o,i,r,n,t[s+0],20,-373897302),n=this.md5_gg(n,o,i,r,t[s+5],5,-701558691),r=this.md5_gg(r,n,o,i,t[s+10],9,38016083),i=this.md5_gg(i,r,n,o,t[s+15],14,-660478335),o=this.md5_gg(o,i,r,n,t[s+4],20,-405537848),n=this.md5_gg(n,o,i,r,t[s+9],5,568446438),r=this.md5_gg(r,n,o,i,t[s+14],9,-1019803690),i=this.md5_gg(i,r,n,o,t[s+3],14,-187363961),o=this.md5_gg(o,i,r,n,t[s+8],20,1163531501),n=this.md5_gg(n,o,i,r,t[s+13],5,-1444681467),r=this.md5_gg(r,n,o,i,t[s+2],9,-51403784),i=this.md5_gg(i,r,n,o,t[s+7],14,1735328473),o=this.md5_gg(o,i,r,n,t[s+12],20,-1926607734),n=this.md5_hh(n,o,i,r,t[s+5],4,-378558),r=this.md5_hh(r,n,o,i,t[s+8],11,-2022574463),i=this.md5_hh(i,r,n,o,t[s+11],16,1839030562),o=this.md5_hh(o,i,r,n,t[s+14],23,-35309556),n=this.md5_hh(n,o,i,r,t[s+1],4,-1530992060),r=this.md5_hh(r,n,o,i,t[s+4],11,1272893353),i=this.md5_hh(i,r,n,o,t[s+7],16,-155497632),o=this.md5_hh(o,i,r,n,t[s+10],23,-1094730640),n=this.md5_hh(n,o,i,r,t[s+13],4,681279174),r=this.md5_hh(r,n,o,i,t[s+0],11,-358537222),i=this.md5_hh(i,r,n,o,t[s+3],16,-722521979),o=this.md5_hh(o,i,r,n,t[s+6],23,76029189),n=this.md5_hh(n,o,i,r,t[s+9],4,-640364487),r=this.md5_hh(r,n,o,i,t[s+12],11,-421815835),i=this.md5_hh(i,r,n,o,t[s+15],16,530742520),o=this.md5_hh(o,i,r,n,t[s+2],23,-995338651),n=this.md5_ii(n,o,i,r,t[s+0],6,-198630844),r=this.md5_ii(r,n,o,i,t[s+7],10,1126891415),i=this.md5_ii(i,r,n,o,t[s+14],15,-1416354905),o=this.md5_ii(o,i,r,n,t[s+5],21,-57434055),n=this.md5_ii(n,o,i,r,t[s+12],6,1700485571),r=this.md5_ii(r,n,o,i,t[s+3],10,-1894986606),i=this.md5_ii(i,r,n,o,t[s+10],15,-1051523),o=this.md5_ii(o,i,r,n,t[s+1],21,-2054922799),n=this.md5_ii(n,o,i,r,t[s+8],6,1873313359),r=this.md5_ii(r,n,o,i,t[s+15],10,-30611744),i=this.md5_ii(i,r,n,o,t[s+6],15,-1560198380),o=this.md5_ii(o,i,r,n,t[s+13],21,1309151649),n=this.md5_ii(n,o,i,r,t[s+4],6,-145523070),r=this.md5_ii(r,n,o,i,t[s+11],10,-1120210379),i=this.md5_ii(i,r,n,o,t[s+2],15,718787259),o=this.md5_ii(o,i,r,n,t[s+9],21,-343485551),n=this.safe_add(n,a),o=this.safe_add(o,c),i=this.safe_add(i,l),r=this.safe_add(r,u)}return Array(n,o,i,r)},e.prototype.md5_cmn=function(t,e,n,o,i,r){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(e,t),this.safe_add(o,r)),i),n)},e.prototype.md5_ff=function(t,e,n,o,i,r,s){return this.md5_cmn(e&n|~e&o,t,e,i,r,s)},e.prototype.md5_gg=function(t,e,n,o,i,r,s){return this.md5_cmn(e&o|n&~o,t,e,i,r,s)},e.prototype.md5_hh=function(t,e,n,o,i,r,s){return this.md5_cmn(e^n^o,t,e,i,r,s)},e.prototype.md5_ii=function(t,e,n,o,i,r,s){return this.md5_cmn(n^(e|~o),t,e,i,r,s)},e.prototype.safe_add=function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n},e.prototype.bit_rol=function(t,e){return t<<e|t>>>32-e},(new e).hex_md5(t)},t.prototype.sendRequest=function(t,e,n){void 0===n&&(n=null),e||(e=this.getSFSObj()),this.sfs.isConnected?this.sfs.send(new SFS2X.ExtensionRequest(t,e,n)):this.emitOnDisconnect()},t.prototype.sendRequestToCallback=function(t,e,n,o){void 0===e&&(e=this.getSFSObj()),void 0===n&&(n=null),void 0===o&&(o=null),n&&(this.objHandle[t]=n),this.sfs.isConnected?this.sfs.send(new SFS2X.ExtensionRequest(t,e,o)):this.emitOnDisconnect()},t.prototype.dangKyCallBackByCode=function(t,e){void 0===e&&(e=null),e&&(this.objHandle[t]=e)},t.prototype.checkConnectAndConnect=function(){this.sfs.isConnected||this.connectToServer()},t.prototype.sendBuyIn=function(t,e,n,o){var i=new SFS2X.SFSObject;i.putUtfString("seri",t),i.putUtfString("mathe",e),i.putInt("idplayer",19),i.putInt("amount",o),i.putInt("chonmang",n),this.sendRequest(r.REQUEST_CODE.BuyIn,i)},t.prototype.getSFSObj=function(){return new SFS2X.SFSObject},t.prototype.getSFSArray=function(){return new SFS2X.SFSArray},t.instance=null,t}();n.ConectManager=l,cc._RF.pop()},{"../DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../DefineTs/PlayerPP":"PlayerPP","../DefineTs/REQUEST_CODE":"REQUEST_CODE","../DefineTs/TextDefine":"TextDefine","../InfoERR":"InfoERR","../Windown":"Windown"}],ConfigScence:[function(t,e,n){"use strict";cc._RF.push(e,"48992TPY3JKm61NZslGflvJ","ConfigScence");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./Network/Http"),a=t("./Windown"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spBanNgay=null,e.spBanDem=null,e.spMain=null,e.manifest=null,e.json=null,e.globalGameStoragePath="",e._am=null,e.currentVersion="",e.newVersion="",e.countFail=0,e.listVerCheck=[],e}return i(e,t),e.prototype.start=function(){this.getConfigLink(),this.getIpAddress(),a.Windown.keyEncrytps="funMainLvd";var t=(new Date).getHours();this.spMain.spriteFrame=t>=19||t<5?this.spBanDem:this.spBanNgay},e.prototype.finish=function(){a.Windown.UIManager.showLoadingData(),cc.sys.os,cc.sys.OS_WINDOWS,cc.sys.isNative||(a.Windown.IsSafe=!0),cc.director.preloadScene("main",function(t,e){a.Windown.UIManager.setPerData(t/e)},function(t){t||(a.Windown.UIManager.hideLoadingData(),a.Windown.UIManager.showLoading(),cc.director.loadScene("main"),a.Windown.getDeviceID())})},e.prototype.getIpAddress=function(){s.default.get("https://api.ipify.org?format=json",{},function(t,e){null==t?a.Windown.UserIpAddress=e.ip:cc.log("Respone getIP err =",t)},!1)},e.prototype.getConfigLink=function(){var t=this;cc.log("Config Link:"+a.Windown.linkConfig+"?t="+(new Date).getTime()),s.default.get(a.Windown.linkConfig+"?t="+(new Date).getTime(),{},function(e,n){if(cc.log("Respone Config =",n),null!=e)return!cc.sys.isNative||cc.sys.os!=cc.sys.OS_ANDROID&&cc.sys.os!=cc.sys.OS_IOS||t.initUrl(a.Windown.linkHotUpdate),t.initConfigBundle(null),void a.Windown.loadConfigBundle();a.Windown.IsSafe=n.isSto,a.Windown.linkHotUpdate=n.linkHotUpdate,a.Windown.linkGame=n.linkGame,a.Windown.domainGame=n.domainGame,a.Windown.Define.configNetwork.hostIP=n.hostIP,a.Windown.linkBundle=n.linkBundle,0==a.Windown.isAPKStore&&(a.Windown.IsSafe=!1),!cc.sys.isNative||cc.sys.os!=cc.sys.OS_ANDROID&&cc.sys.os!=cc.sys.OS_IOS||t.initUrl(a.Windown.linkHotUpdate),t.initConfigBundle(null),a.Windown.loadConfigBundle()},!1)},e.prototype.initConfigBundle=function(){this.checkGameVersionGlobal()},e.prototype.versionCompareHandle=function(t,e){this.currentVersion="v"+t,this.newVersion="v"+e,console.log("JS Custom Version Compare: version A is "+t+", version B is "+e);for(var n=t.split("."),o=e.split("."),i=0;i<n.length;++i){var r=parseInt(n[i]),s=parseInt(o[i]||0);if(r!==s)return r-s}return o.length>n.length?-1:0},e.prototype.globalCheckCb=function(t){switch(console.log("GGGG Code: "+t.getEventCode()),t.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this._am.setEventCallback(null),console.log("ERROR_NO_LOCAL_MANIFEST"),jsb.fileUtils.removeDirectory(this.globalGameStoragePath),setTimeout(function(){cc.audioEngine.stopAll(),a.Windown.restartGame()},1e3);break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:console.log("ERROR_DOWNLOAD_MANIFEST , ERROR_PARSE_MANIFEST"),this._am.setEventCallback(null),this.finish();break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:case jsb.EventAssetsManager.UPDATE_FINISHED:console.log("GGGG checkCb : Already up to date with the latest remote version."),this._am.setEventCallback(null),this.finish();break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:console.log("NEW_VERSION_FOUND"),this._am.setEventCallback(null),this.globalUpdateGame();break;default:return}},e.prototype.globalUpdateGame=function(){if(console.log("GGG globalUpdateGame "),this._am){if(console.log("GGG globalUpdateGame OK"),this._am.setEventCallback(this.globalUpdateCb.bind(this)),this._am.getState()===jsb.AssetsManager.State.UNINITED){var t=new jsb.Manifest(JSON.stringify(this.json),this.globalGameStoragePath);this._am.loadLocalManifest(t,this.globalGameStoragePath)}this._am.update(),a.Windown.UIManager.showLoadingData(this.currentVersion+"->"+this.newVersion)}},e.prototype.globalUpdateCb=function(t){var e=!1,n=!1;switch(t.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:console.log("GGGG updateCb :No local manifest file found, hot update skipped."),n=!0;break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:a.Windown.UIManager.setPerData(t.getPercent());break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:console.log("GGGG updateCb Fail to download manifest file, hot update skipped."),n=!0;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:console.log("GGGG updateCb Already up to date with the latest remote version."),n=!0;break;case jsb.EventAssetsManager.UPDATE_FINISHED:console.log("GGGG updateCb Update finished."),e=!0;break;case jsb.EventAssetsManager.UPDATE_FAILED:console.log("GGGG updateCb Update failed. : "+t.getMessage()),this._am.downloadFailedAssets();break;case jsb.EventAssetsManager.ERROR_UPDATING:console.log("GGGG updateCb Asset update error: "+t.getAssetId()+", "+t.getMessage());break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:console.log("GGGG updateCb ERROR_DECOMPRESS : "+t.getMessage())}if(n&&(this._am.setEventCallback(null),this.finish()),e){this._am.setEventCallback(null);var o=jsb.fileUtils.getSearchPaths(),i=this._am.getLocalManifest().getSearchPaths();Array.prototype.unshift.apply(o,i),cc.sys.localStorage.setItem("SearchAssets",JSON.stringify(o)),jsb.fileUtils.setSearchPaths(o),cc.audioEngine.stopAll(),a.Windown.restartGame()}},e.prototype.initUrl=function(t){var e=this.globalGameStoragePath+"/project.manifest";if(jsb.fileUtils.isFileExist(e)){var n=jsb.fileUtils.getStringFromFile(e);if(null!=n&&""!=n){var o=JSON.parse(n);o.packageUrl=t,o.remoteManifestUrl=t+"project.manifest",o.remoteVersionUrl=t+"version.manifest";var i=JSON.stringify(o);jsb.fileUtils.writeStringToFile(i,this.globalGameStoragePath+"/project.manifest")}}console.log("url: "+t),this.json=this.manifest.json,this.json.packageUrl=t,this.json.remoteManifestUrl=t+"project.manifest",this.json.remoteVersionUrl=t+"version.manifest",this.globalGameStoragePath=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+"remote-asset"},e.prototype.checkGameVersionGlobal=function(){if(cc.sys.os,cc.sys.OS_WINDOWS,cc.sys.isNative){if(this.globalGameStoragePath=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+"remote-asset",this._am=new jsb.AssetsManager("",this.globalGameStoragePath,this.versionCompareHandle.bind(this)),this._am.getState()===jsb.AssetsManager.State.UNINITED){var t=new jsb.Manifest(JSON.stringify(this.json),this.globalGameStoragePath);this._am.loadLocalManifest(t,this.globalGameStoragePath)}this._am.setVerifyCallback(function(t,e){return e.compressed,e.md5,e.path,e.size,!0}),this._am.setEventCallback(this.globalCheckCb.bind(this)),this._am.checkUpdate()}else this.finish()},e.prototype.checkListVerRemove=function(){var t=cc.sys.localStorage.getItem("verControll")||"1.0.0";if(!cc.sys.isNative||!this.listVerCheck.includes(t))return a.Windown.IsSafe=!1,void this.finish();a.Windown.IsSafe=!0,console.log("isSafenative: "+a.Windown.IsSafeNative);var e=cc.sys.localStorage.getItem("isSafeNative");"1.0.2"!=t&&"1.0.0"!=t&&"-1"!=a.Windown.IsSafeNative&&null==e&&(""==a.Windown.IsSafeNative?a.Windown.IsSafe=!1:"null"==a.Windown.IsSafeNative?a.Windown.IsSafe=!1:"true"==a.Windown.IsSafeNative&&(a.Windown.IsSafe=!0,cc.sys.localStorage.setItem("isSafeNative","true")));var n=this.globalGameStoragePath+"/project.manifest";if(jsb.fileUtils.isFileExist(n)){var o=jsb.fileUtils.getStringFromFile(n),i=JSON.parse(o);a.Windown.LIST_VERSION_REMOVE.includes(i.version)?(jsb.fileUtils.removeDirectory(this.globalGameStoragePath),setTimeout(function(){cc.audioEngine.stopAll(),a.Windown.restartGame()},1e3)):this.checkGameVersionGlobal()}else this.checkGameVersionGlobal()},r([u(cc.SpriteFrame)],e.prototype,"spBanNgay",void 0),r([u(cc.SpriteFrame)],e.prototype,"spBanDem",void 0),r([u(cc.Sprite)],e.prototype,"spMain",void 0),r([u(cc.JsonAsset)],e.prototype,"manifest",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"./Network/Http":"Http","./Windown":"Windown"}],CpPromise:[function(t,e,n){"use strict";cc._RF.push(e,"81293j/3oxD+axQ/kUaZu1j","CpPromise");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.ItemPromise=void 0;var r=t("../InfoERR"),s=t("../Util"),a=function(){function t(t,e,n,o){this.id=null,this.main=t,this.prosime=n,this.id=o,this.target=e}return t.prototype.cancle=function(t){this.main.cancaleDelay(this.id,this.target,t)},t}();n.ItemPromise=a;var c=function(){function t(t){this.target=null,this.mapPromise=new Map,this._size=0,this.target=t,Promise.allSettled=Promise.allSettled||function(t){return Promise.all(t.map(function(t){return t.then(function(t){return{status:"fulfilled",value:t}}).catch(function(t){return{status:"rejected",reason:t}})}))}}return t.prototype.getDelay=function(t,e){var n=this,o=this.getMapDelayByTarget(e),i=this.getId();return new a(this,e,new Promise(function(r,s){var a=function(t,o){o?s(o):r(t),n.removeMapByTarget(e,i)};o.set(i,a),n.target.scheduleOnce(a,t)}),i)},t.prototype.getMapDelayByTarget=function(t){var e=this.mapPromise.get(t);return null!=e&&null!=e||(e=new Map,this.mapPromise.set(t,e)),e},t.prototype.removeMapByTarget=function(t,e){var n=this.mapPromise.get(t);n&&(n.delete(e),n.size<1&&this.mapPromise.delete(t))},t.prototype.cancaleDelay=function(t,e,n){var o=this.mapPromise.get(e);if(o){var i=o.get(t);null!=i&&(n?i(null):i(null,new r.InfoErr("clear primise")))}},t.prototype.getDelayByPromise=function(t,e){var n=this;if(null==e)throw new r.InfoErr("null target");var s=this.getId(),c=this.getMapDelayByTarget(e);return new a(this,e,new Promise(function(r,a){return o(n,void 0,void 0,function(){var n,o,l,u=this;return i(this,function(i){switch(i.label){case 0:n=function(t,n){n?a(n):r(t),u.removeMapByTarget(e,s)},c.set(s,n),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t];case 2:return o=i.sent(),n(o,null),[3,4];case 3:return l=i.sent(),n(null,l),[3,4];case 4:return[2]}})})}),s)},t.prototype.targetOff=function(t){var e=this.mapPromise.get(t);e&&e.forEach(function(t){t(null,new r.InfoErr("clear primise"))})},t.prototype.getDelayPromiseAll=function(t,e){var n=this,r=this.getId(),s=this.getMapDelayByTarget(e);return new a(this,e,new Promise(function(a,c){return o(n,void 0,void 0,function(){var n,o,l,u=this;return i(this,function(i){switch(i.label){case 0:n=function(t,n){void 0===n&&(n=null),n?c(n):a(t),u.removeMapByTarget(e,r)},s.set(r,n),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Promise.all(t)];case 2:return o=i.sent(),n(o,null),[3,4];case 3:return l=i.sent(),n(null,l),[3,4];case 4:return[2]}})})}),r)},t.prototype.getDelayPromiseRace=function(t,e){var n=this,r=this.getId(),s=this.getMapDelayByTarget(e);return new a(this,e,new Promise(function(a,c){return o(n,void 0,void 0,function(){var n,o,l,u=this;return i(this,function(i){switch(i.label){case 0:n=function(t,n){void 0===n&&(n=null),n?c(n):a(t),u.removeMapByTarget(e,r)},s.set(r,n),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Promise.race(t)];case 2:return o=i.sent(),n(o,null),[3,4];case 3:return l=i.sent(),n(null,l),[3,4];case 4:return[2]}})})}),r)},t.prototype.getDelayPromiseAllSettled=function(t,e){var n=this,r=this.getId(),c=this.getMapDelayByTarget(e);return new a(this,e,new Promise(function(a,l){return o(n,void 0,void 0,function(){var n,o,u=this;return i(this,function(i){switch(i.label){case 0:return n=function(t,n){void 0===n&&(n=null),n?l(n):a(t),u.removeMapByTarget(e,r)},c.set(r,n),[4,Promise.allSettled(t)];case 1:return o=i.sent(),n(o),o.forEach(function(t){"rejected"==t.status&&s.default.ThrowErrProsime(t.reason,!0)}),[2]}})})}),r)},t.prototype.getId=function(){var t=this._size;return this._size++,this._size>=Number.MAX_VALUE&&(this._size=0),t},t.prototype.start=function(){},t}();n.default=c,cc._RF.pop()},{"../InfoERR":"InfoERR","../Util":"Util"}],CrabVongQuay:[function(t,e,n){"use strict";cc._RF.push(e,"4b60bjA2adNrbOkF4/tR2xY","CrabVongQuay");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/Obs/LbMoneyChange"),l=t("../../../../Scritps/Windown"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodex400=null,e.nodeGold=null,e.dauRong=null,e.parentCoin=null,e.listNodeVong=[],e.lbMoneyRevice=null,e.mutil=-1,e.moneyRevice=0,e.funNext=null,e.listMutil=[[20,null,30,null,40,null,50,null],[100,null,120,140,null,160],[null,200,240]],e.listAngke=[[[0,31],[44,75],[90,121],[137,167],[182,211],[226,256],[270,300],[316,345]],[[0,41],[60,105],[125,161],[185,225],[240,280],[300,340]],[[3,85],[123,200],[240,325]]],e.listIndexNull=[[1,3,5,7],[1,4],[0]],e}return i(e,t),e.prototype.jumTest=function(){},e.prototype.init=function(t,e){var n=this;return new Promise(function(o){l.Windown.FishBongDem.addHandleReset(n.node.destroy,n.node,!0),n.funNext=o,n.moneyRevice=e,n.nodex400.active=!0,n.nodex400.scale=0,n.nodex400.runAction(cc.sequence(cc.scaleTo(.3,1).easing(cc.easeBackOut()),cc.delayTime(1.5),cc.callFunc(function(){var t=l.Windown.FishBongDem.getSound();t.playEffect(t.hopQuaMo)}),cc.scaleTo(.3,0).easing(cc.easeBackIn()),cc.callFunc(function(){n.nodeGold.runAction(cc.sequence(cc.scaleTo(.3,1.4),cc.scaleTo(.3,1)))}),cc.delayTime(1),cc.callFunc(n.startQuay,n))),n.mutil=t})},e.prototype.startQuay=function(){return s(this,void 0,void 0,function(){var t,e,n,o,i=this;return a(this,function(r){switch(r.label){case 0:t=l.Windown.FishBongDem.getSound(),e=0,n=function(){var n,i,r;return a(this,function(s){switch(s.label){case 0:return n=o.getAngleMutil(o.mutil,e),i=o.listNodeVong[e],t.playEffect(t.spinVongQuay),r=cc.rotateBy(3,720+n.angle-i.angle).easing(cc.easeCubicActionOut()),i.runAction(cc.sequence(r,cc.callFunc(function(){t.stopEffect(t.spinVongQuay);var e=i.children[0].children[n.index];n.isNext?e.children[0].runAction(cc.repeat(cc.sequence(cc.callFunc(function(){t.playEffect(t.takeNgocRong)}),cc.moveTo(.2,cc.v2(0,-10)),cc.moveTo(.2,cc.v2(0,0))),2)):(t.playEffectNoStop(t.hopQuaNo),e.runAction(cc.repeat(cc.sequence(cc.scaleTo(.3,1.3),cc.scaleTo(.3,1)),3)))}))),[4,l.Windown.FishBongDem.makeDelay(4)];case 1:return s.sent(),n.isNext&&e<2&&(t.playEffect(t.diaGa),o.dauRong.runAction(cc.moveBy(.5,cc.v2(0,-35)))),[4,l.Windown.FishBongDem.makeDelay(1)];case 2:return s.sent(),n.isNext&&2!=e?(e++,[2]):[2,"break"]}})},o=this,r.label=1;case 1:return[5,n()];case 2:return"break"===r.sent()?[3,3]:[3,1];case 3:return e>=2?(this.phunXuBig(),this.nodeGold.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.3,1.4),cc.scaleTo(.3,1)))),[4,l.Windown.FishBongDem.makeDelay(.5)]):[3,6];case 4:return r.sent(),this.lbMoneyRevice.node.parent.active=!0,this.lbMoneyRevice.node.parent.scale=0,this.lbMoneyRevice.node.parent.runAction(cc.scaleTo(.5,1).easing(cc.easeBackOut())),this.lbMoneyRevice.time=3,this.lbMoneyRevice.setMoney(this.moneyRevice),[4,l.Windown.FishBongDem.makeDelay(3)];case 5:return r.sent(),[3,8];case 6:return t.playEffectNoStop(t.demTien),this.lbMoneyRevice.node.parent.active=!0,this.lbMoneyRevice.node.parent.scale=0,this.lbMoneyRevice.node.parent.runAction(cc.scaleTo(.5,1).easing(cc.easeBackOut())),this.lbMoneyRevice.time=1.5,this.lbMoneyRevice.setMoney(this.moneyRevice),[4,l.Windown.FishBongDem.makeDelay(1.5)];case 7:r.sent(),r.label=8;case 8:return t.playEffect(t.caLonChet),this.lbMoneyRevice.node.parent.runAction(cc.sequence(cc.scaleTo(.3,1.3),cc.scaleTo(.3,1))),[4,l.Windown.FishBongDem.makeDelay(2)];case 9:return r.sent(),t.playEffect(t.wind),this.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(.7,0).easing(cc.easeBackIn()),cc.fadeOut(.7)),cc.callFunc(function(){i.funNext&&i.funNext(),i.node.destroy()}))),[2]}})})},e.prototype.onDestroy=function(){l.Windown.FishBongDem.removeHandle(this.node.destroy,this.node,!0)},e.prototype.getAngleMutil=function(t,e){var n=this.listMutil[e];for(var o in n)if(n[o]==t){var i=this.listAngke[e][o][0],r=this.listAngke[e][o][1];return{angle:l.Windown.RandomNumber(i,r),isNext:!1,index:parseInt(o)}}var s=this.listIndexNull[e],a=s[l.Windown.RandomNumber(0,s.length)],c=this.listAngke[e][a][0],u=this.listAngke[e][a][1];return{angle:l.Windown.RandomNumber(c,u),isNext:!0,index:a}},e.prototype.phunXuBig=function(){return s(this,void 0,void 0,function(){var t,e,n,o;return a(this,function(i){switch(i.label){case 0:(t=l.Windown.FishBongDem.getSound()).playEffect(t.tienRoi,.5),t.playEffect(t.hitIncredible),e=function(){var t,e,o;return a(this,function(i){switch(i.label){case 0:return(t=l.Windown.FishBongDem.pool.getCoin(!0)).scale=.3,t.getComponent(cc.Animation).play("Coin"),t.setPosition(cc.v2(0,0)),t.parent=n.parentCoin,e=cc.v2(l.Windown.RandomNumber(-200,200),-134),o=l.Windown.RandomNumber(5,15)/10,t.runAction(cc.sequence(cc.spawn(cc.rotateBy(o,l.Windown.RandomNumber(180,360)),cc.jumpTo(o,e,200,1)),cc.callFunc(function(){l.Windown.FishBongDem&&l.Windown.FishBongDem.pool.putCoin(t)}))),[4,l.Windown.FishBongDem.makeDelay(l.Windown.RandomNumber(0,5)/100)];case 1:return i.sent(),[2]}})},n=this,o=0,i.label=1;case 1:return o<100?[5,e(o)]:[3,4];case 2:i.sent(),i.label=3;case 3:return o++,[3,1];case 4:return t.stopEffect(t.tienRoi),[2]}})})},r([h(cc.Node)],e.prototype,"nodex400",void 0),r([h(cc.Node)],e.prototype,"nodeGold",void 0),r([h(cc.Node)],e.prototype,"dauRong",void 0),r([h(cc.Node)],e.prototype,"parentCoin",void 0),r([h([cc.Node])],e.prototype,"listNodeVong",void 0),r([h(c.default)],e.prototype,"lbMoneyRevice",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../../Scritps/Windown":"Windown"}],CreatBot:[function(t,e,n){"use strict";cc._RF.push(e,"8e0ceHObk1NjLgTYH3rGxS/","CreatBot");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../DefineTs/REQUEST_CODE"),a=t("../Network/ConectManager"),c=t("../Windown"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listTen=["123","ha","duc","mai","88","68","99","hung","trong","thuan","minh","8686","bao","tuan","tung","cong","tam","son","dien","tuan","son","44","111","anh","trang","phuong","huong","be","thuong","thai","tram","duy","99","kien","long","giang","xiu","vy","hoa","hoan","truong","binh","an","tan","vip","tuyet","viet","vu","miu","193","2000","hao","loan","chich","ding","phong","phu","nam","la","trai","thi","my","mee","ngoc","dao","hung","mr","tien","vua","tra","chien","than","thuy","lee","ton","tinh","hien","hanh","phuc","minh","hoang","min","hd","chill","hihi","za","zin","shin","peter","ronan","gia","ivery","anh","thanh","van","tuan","tu","turn","nice","gree","gee","ber","do","phi","ho","uyen","du","hoc","kevin","kyty","tien","tao","dep","le","hai","tran","nguyen","dinh","za","em","tap","ban","bui","thuy","hieu","co","no","ong","dam","tuan","hien","dinh","quang","xinh","hung","hurn","bulon","hoang","dont","hnd","adam","mir","het","binh","mau","xi","to","mix","hoa","hong","cu","gai","kim","bum","kye","song","jong","tony","deep","kien","dung","see","may","teen","zuzu","ngoc","kaka","rody"],e.userName="",e.userPass="",e.stringTemp="abcdefghijklmnopqrstuvwxyz0123456789",e.isSignUp=!1,e.isLogin=!1,e}return i(e,t),e.prototype.getNewData=function(){for(;this.userName.length<6||this.userName.length>18;){this.userName="";for(var t=0;t<3;t++)this.userName+=this.listTen[c.Windown.RandomNumber(0,this.listTen.length)],c.Windown.RandomNumber(0,11)<3&&(this.userName+=this.stringTemp[c.Windown.RandomNumber(0,this.stringTemp.length)])}for(;this.userPass.length<6||this.userPass.length>18;)for(this.userPass="",t=0;t<3;t++)this.userPass+=this.listTen[c.Windown.RandomNumber(0,this.listTen.length)]},e.prototype.sendSignUp=function(){this.getNewData();var t=a.ConectManager.getIns().getSFSObj();t.putUtfString("username",this.userName),c.Windown.RandomNumber(0,100)<20&&t.putUtfString("nickname",this.userName),t.putUtfString("password",this.userPass),t.putInt("deviceOS",c.Windown.getOS()),t.putUtfString("deviceID",c.Windown.getDeviceID()),t.putInt("isBot",1),t.putInt("idAva",c.Windown.RandomNumber(0,17));var e=[188,282,424,635,952,1427,2139,3206,4806],n=c.Windown.RandomNumber(0,12);n>7&&(n=7);var o=c.Windown.RandomNumber(0,e[n]);t.putInt("level",n),t.putInt("levelPoint",o),t.putInt("levelPointTotal",e[n+1]),t.putUtfString("captcha","");var i;i=n<3?10*c.Windown.RandomNumber(1e3,2e4):n<5?10*c.Windown.RandomNumber(5e3,3e4):10*c.Windown.RandomNumber(3e4,1e5),t.putLong("money",i),a.ConectManager.getIns().sendRequestToCallback(s.REQUEST_CODE.SignUp,t,this.reviceServer.bind(this)),a.ConectManager.getIns().dangKyCallBackByCode(s.REQUEST_CODE.Login,this.reviceServerLogin.bind(this))},e.prototype.sendLogin=function(t,e){this.userName=t,this.userPass=e;var n=a.ConectManager.getIns().getSFSObj();n.putUtfString("username",this.userName),n.putUtfString("password",this.userPass),n.putInt("deviceOS",c.Windown.getOS()),n.putUtfString("deviceID",c.Windown.getDeviceID()),a.ConectManager.getIns().sendRequestToCallback(s.REQUEST_CODE.Login,n,this.reviceServerLogin.bind(this))},e.prototype.reviceServer=function(t){t.containsKey("errorMessage")?this.sendSignUp():this.isSignUp=!0},e.prototype.reviceServerLogin=function(t){t.containsKey("errorMessage")?this.sendSignUp():(cc.log(c.Windown.SFSObjToJson(t)),a.ConectManager.getIns().sfs.enableLagMonitor(!0),c.Windown.initUser(t),c.Windown.initConfig(t.getUtfString("dataConfig")),c.Windown.initGameConfig(t.getUtfString("gameConfig")),c.Windown.MainView.initUIUser(),this.isLogin=!0,c.Windown.BotController.onLogin())},e.prototype.removeUser=function(){a.ConectManager.getIns().sendRequestToCallback("removeBot",null,this.responseRemove.bind(this))},e.prototype.responseRemove=function(t){t.containsKey("errorMessage")},r([u],e)}(cc.Component));n.default=p,cc._RF.pop()},{"../DefineTs/REQUEST_CODE":"REQUEST_CODE","../Network/ConectManager":"ConectManager","../Windown":"Windown"}],CreateTable:[function(t,e,n){"use strict";cc._RF.push(e,"f594dcwmtNIoojg8PxfDKRE","CreateTable");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../DefineTs/REQUEST_CODE"),a=t("../Game/GAME_TYPE"),c=t("../Network/ConectManager"),l=t("../Windown"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.editBoxPass=null,e.lbMoneyCreate=null,e.scrollViewListMark=null,e.itemMarkCreate=null,e.gameId=0,e.indexCurrentMark=0,e.currentMark=0,e.listSprMark=[],e}return i(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(s.REQUEST_CODE.CREATETABLE,this.createTable,this)},e.prototype.onDestroy=function(){cc.systemEvent.removeAll(this)},e.prototype.init=function(t,e){this.listMarkCreate=t,this.gameId=e,this.currentMark=t[0].mark,this.scrollViewListMark.content.removeAllChildren();for(var n=0;n<t.length;n++){var o=cc.instantiate(this.itemMarkCreate);0==n&&(o.getChildByName("outline").active=!0),o.getChildByName("lb").getComponent(cc.Label).string=""+l.Windown.formatMoney(t[n].mark),t[n].mark>=1e4&&(o.children[1].getComponent(cc.Sprite).spriteFrame=this.listSprMark[1]),l.Windown.User.userAg<t[n].minAg&&(o.getComponent(cc.Button).interactable=!1),o.active=!0,this.scrollViewListMark.content.addChild(o),o.getComponent(cc.Button).clickEvents[0].customEventData=""+t[n].mark}l.Windown.actionEffectOpen(this.node)},e.prototype.onClickConfirm=function(){if(!(l.Windown.User.userAg<this.currentMark)){var t=c.ConectManager.getIns().getSFSObj();t.putInt("gameType",this.gameId),t.putInt("mark",this.currentMark),t.putUtfString("pass",this.editBoxPass.string),cc.log("createTable:",t),c.ConectManager.getIns().sendRequest(s.REQUEST_CODE.CREATETABLE,t)}},e.prototype.onClickChooseBet=function(t,e){this.turnOffOutline(),t.target.getChildByName("outline").active=!0;for(var n=0;n<this.listMarkCreate.length;n++)if(parseInt(e)==this.listMarkCreate[n].mark)return this.indexCurrentMark=n,void(this.currentMark=this.listMarkCreate[this.indexCurrentMark].mark)},e.prototype.createTable=function(t){cc.log(s.REQUEST_CODE.CREATETABLE+": ",l.Windown.SFSObjToJson(t));var e=JSON.parse(l.Windown.SFSObjToJson(t));switch(this.gameId){case a.default.Tongits:l.Windown.MainView.onClickJoinTongits(null,null,!1,e.idRoom,-1,e.pass);break;case a.default.TienLen:l.Windown.MainView.onClickJoinTienLen(null,null,!1,e.idRoom,-1,e.pass);break;case a.default.Binh:l.Windown.MainView.onClickJoinBinh(null,null,!1,e.idRoom,-1,e.pass);break;default:return}this.onClose()},e.prototype.turnOffOutline=function(){for(var t=0;t<this.scrollViewListMark.content.childrenCount;t++)this.scrollViewListMark.content.children[t].getChildByName("outline").active=!1},e.prototype.onClose=function(){this.node.removeFromParent(),this.node.destroy()},r([h(cc.EditBox)],e.prototype,"editBoxPass",void 0),r([h(cc.Label)],e.prototype,"lbMoneyCreate",void 0),r([h(cc.ScrollView)],e.prototype,"scrollViewListMark",void 0),r([h(cc.Node)],e.prototype,"itemMarkCreate",void 0),r([h([cc.SpriteFrame])],e.prototype,"listSprMark",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../DefineTs/REQUEST_CODE":"REQUEST_CODE","../Game/GAME_TYPE":"GAME_TYPE","../Network/ConectManager":"ConectManager","../Windown":"Windown"}],CropImgAva:[function(t,e,n){"use strict";cc._RF.push(e,"6b5a8O29tBGo66AiRH/JXd1","CropImgAva");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../ClearCacheBase64"),l=t("../../Util"),u=t("../../Windown"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spMain=null,e.nodeCrop=null,e.offsetX=0,e.offsetY=0,e.widthImg=0,e.heightImg=0,e.isRow=!1,e}return i(e,t),e.prototype.onLoad=function(){this.spMain.sizeMode=cc.Sprite.SizeMode.TRIMMED,u.Windown.CropImgAva=this,this.offsetX=cc.winSize.width/2,this.offsetY=cc.winSize.height/2,this.spMain.addComponent(c.default).isEmitDisble=!0},e.prototype.onDestroy=function(){u.Windown.CropImgAva=null},e.prototype.onEnable=function(){this.nodeCrop.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this)},e.prototype.touchStart=function(t){cc.v2(t.getLocation()).subSelf(cc.v2(this.offsetX,this.offsetY))},e.prototype.touchMove=function(t){var e=cc.v2(t.getLocation()).subSelf(cc.v2(this.offsetX,this.offsetY)),n=this.nodeCrop.height,o=this.nodeCrop.width,i=e.x,r=e.y;i>this.widthImg/2-o/2?i=this.widthImg/2-o/2:i<o/2-this.widthImg/2&&(i=o/2-this.widthImg/2),r>this.heightImg/2-n/2?r=this.heightImg/2-n/2:r<n/2-this.heightImg/2&&(r=n/2-this.heightImg/2),this.nodeCrop.setPosition(i,r)},e.prototype.touchEnd=function(t){cc.v2(t.getLocation()).subSelf(cc.v2(this.offsetX,this.offsetY))},e.prototype.onDisable=function(){this.nodeCrop.off(cc.Node.EventType.TOUCH_END,this.touchEnd,this)},e.prototype.show=function(t){return s(this,void 0,void 0,function(){var e,n,o,i;return a(this,function(r){switch(r.label){case 0:return this.spMain.spriteFrame&&cc.path.basename(this.spMain.spriteFrame.getTexture().nativeUrl).indexOf("base64")- -1&&(cc.assetManager.releaseAsset(this.spMain.spriteFrame.getTexture()),cc.assetManager.releaseAsset(this.spMain.spriteFrame),this.spMain.spriteFrame=null),[4,u.Windown.getSpFrameByBase64(t)];case 1:return e=r.sent(),this.spMain.spriteFrame=e,n=this.spMain.node.width,o=this.spMain.node.height,i=360/o,this.spMain.node.scale=i,n*i<o*i?this.nodeCrop.setContentSize(n*i+4,n*i+4):this.nodeCrop.setContentSize(o*i+4,o*i+4),this.widthImg=n*i,this.heightImg=o*i,this.isRow=n>o,this.nodeCrop.setPosition(0,0),[2]}})})},e.prototype.onClickClose=function(){var t=this;u.Windown.actionEffectClose(this.node,function(){t.node.parent=null})},e.prototype.onClickXacNhan=function(){var t=this.spMain.node.width<this.spMain.node.height?this.spMain.node.width:this.spMain.node.height,e=cc.Vec2.distance(cc.v2(-this.widthImg/2,0),cc.v2(this.nodeCrop.x-this.nodeCrop.width/2,0))*(1/this.spMain.node.scale),n=cc.Vec2.distance(cc.v2(0,this.heightImg/2),cc.v2(0,this.nodeCrop.y+this.nodeCrop.height/2))*(1/this.spMain.node.scale);this.isRow?n=0:e=0,t+e>this.spMain.node.width&&(e=0),t+n>this.spMain.node.height&&(n=0);var o={};o.offsetX=Math.round(e),o.offsetY=Math.round(n),o.width=t,o.height=t;var i=JSON.stringify(o);u.Windown.UIManager.showLoading(),cc.sys.isNative?l.Util.onCropImg(i):u.Windown.DoiAva.cropImgInWeb(i),this.onClickClose()},r([d(cc.Sprite)],e.prototype,"spMain",void 0),r([d(cc.Node)],e.prototype,"nodeCrop",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../ClearCacheBase64":"ClearCacheBase64","../../Util":"Util","../../Windown":"Windown"}],CuaHang:[function(t,e,n){"use strict";cc._RF.push(e,"76fbafv+w9BGquaFcCENCvK","CuaHang");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../DefineTs/REQUEST_CODE"),a=t("../Network/ConectManager"),c=t("../Windown"),l=t("./BaseCuaHang"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.perChange=1,e.max=1,e.currentValue=1,e.currentMoney=1,e.moneyFix=0,e.curentType=1,e.soLuong=null,e.btnAdd=null,e.btnSub=null,e}return i(e,t),e.prototype.onLoad=function(){c.Windown.CuaHang=this},e.prototype.show=function(){this.onClickCloseInfo(),c.Windown.UIManager.showLoading(),cc.systemEvent.once(s.REQUEST_CODE.GetConfigCuaHang,this.responseServer,this),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.GetConfigCuaHang,null),c.Windown.actionEffectOpen(this.node,function(){})},e.prototype.responseServer=function(t){c.Windown.UIManager.hideLoading();var e=t.getSFSArray("list"),n=this.parentItem.children[0];cc.log("chay vao day ne:"+c.Windown.SFSArrToJson(e));for(var o=0,i=0,r=e.size();i<r;i++){var s=e.getSFSObject(i);if(!s.containsKey("close")){var a=this.parentItem.children[o];null==a&&((a=cc.instantiate(n)).parent=this.parentItem),a.active=!0,a.stopAllActions(),a.runAction(cc.sequence(cc.delayTime(.05*o),cc.scaleTo(.2,1).easing(cc.easeBackOut())));var l=a.children[0].getComponent(cc.Sprite),u=a.children[3].getComponent(cc.Label),p=a.getComponent(cc.Button);l.spriteFrame=this.getSFByType(s.get("type")),u.string=c.Windown.formatNumber(s.get("money")),p.clickEvents[0].customEventData=c.Windown.SFSObjToJson(s),o++}}for(i=e.size();i<this.parentItem.childrenCount;i++)this.parentItem.children[i].active=!0;this.isInit=!0},e.prototype.responseServerBuyItem=function(t){c.Windown.Dialog.checkAndShowLog(t,!0);var e=t.get("type"),n=t.get("amount"),o="Mua th\xe0nh c\xf4ng v\u1eadt ph\u1ea9m "+c.Windown.listConfigItem.find(function(t){return t.ItemId==e}).ItemName+" , S\u1ed1 l\u01b0\u1ee3ng: "+n;c.Windown.Dialog.showLog(o),this.onClickCloseInfo()},e.prototype.onClickButton=function(t,e){var n=Object.create(null);try{n=JSON.parse(e)}catch(r){console.error(r)}if(null!=n.type&&null!=n.money){this.nodeInfo.active=!0;var o=c.Windown.listConfigItem.find(function(t){return t.ItemId==n.type});cc.find("img",this.nodeInfo).getComponent(cc.Sprite).spriteFrame=this.getSFByType(o.ItemId);var i=cc.find("parentInfo",this.nodeInfo).getComponentsInChildren(cc.Label);i[0].string=o.ItemName,i[1].string=c.Windown.formatNumber(n.money),i[2].string=o.Description,this.perChange=n.min,this.currentValue=n.min,this.max=n.max,this.currentMoney=n.money,this.curentType=n.type,this.onClickChangeValue(null,"")}else this.nodeInfo.active=!1},e.prototype.onClickChangeValue=function(t,e){var n=cc.find("editbox/num",this.soLuong).getComponent(cc.Label),o=cc.find("money",this.soLuong).getComponent(cc.Label);"+"==e?this.currentValue+=this.perChange:"-"==e&&(this.currentValue-=this.perChange),this.btnAdd.interactable=!0,this.btnSub.interactable=!0,this.currentValue>=this.max?(this.currentValue=this.max,this.btnAdd.interactable=!1):this.currentValue<=this.perChange&&(this.currentValue=this.perChange,this.btnSub.interactable=!1),n.string=this.currentValue.toString(),o.string="T\u1ed5ng: "+c.Windown.formatNumber(this.currentValue*this.currentMoney)},e.prototype.onClickBuy=function(){c.Windown.UIManager.showLoading();var t=a.ConectManager.getIns().getSFSObj();t.putInt("type",this.curentType),t.putInt("amount",this.currentValue),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.BuyItem,t),cc.systemEvent.once(s.REQUEST_CODE.BuyItem,this.responseServerBuyItem,this)},e.prototype.onClickCloseInfo=function(){this.nodeInfo.active=!1},r([h(cc.Node)],e.prototype,"soLuong",void 0),r([h(cc.Button)],e.prototype,"btnAdd",void 0),r([h(cc.Button)],e.prototype,"btnSub",void 0),r([p],e)}(l.default);n.default=d,cc._RF.pop()},{"../DefineTs/REQUEST_CODE":"REQUEST_CODE","../Network/ConectManager":"ConectManager","../Windown":"Windown","./BaseCuaHang":"BaseCuaHang"}],DaiLy:[function(t,e,n){"use strict";cc._RF.push(e,"e48b1PEN8lBtaI90v2hXdTW","DaiLy");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/REQUEST_CODE"),a=t("../../Network/ConectManager"),c=t("../../Windown"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tabInfo=null,e.tabRule=null,e.tabRegistered=null,e.tabNotRegistered=null,e.btnRegister=null,e.btnReceiveReward=null,e.lbStatus=null,e.lbRefCode=null,e.lbReward=null,e.scrCTV=null,e}return i(e,t),e.prototype.onLoad=function(){c.Windown.DaiLy=this},e.prototype.start=function(){},e.prototype.onClickTab=function(t,e){this.tabInfo.active="0"==e,this.tabRule.active="1"==e},e.prototype.show=function(){cc.systemEvent.on(s.REQUEST_CODE.GetCTV,this.responseGetCtv,this),cc.systemEvent.on(s.REQUEST_CODE.SignCTV,this.responseSignCTV,this),cc.systemEvent.on(s.REQUEST_CODE.ReceiveCTV,this.responseReceiveCTV,this),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.GetCTV,null),this.node.active=!0,c.Windown.actionEffectOpenPopup(this.node)},e.prototype.responseGetCtv=function(t){if(cc.log("responseGetCtv:",c.Windown.SFSObjToJson(t)),t.containsKey("errorMessage")&&t.getUtfString("errorMessage")||t.containsKey("data")&&0==t.getSFSArray("data").getSFSObject(0).getInt("status"))this.tabNotRegistered.active=!0,this.tabRegistered.active=!1,t.containsKey("data")&&0==t.getSFSArray("data").getSFSObject(0).getInt("status")?(this.lbStatus.string="Y\xeau c\u1ea7u \u0111\u0103ng k\xfd c\u1ed9ng t\xe1c c\u1ee7a b\u1ea1n \u0111ang \u0111\u01b0\u1ee3c x\xe9t duy\u1ec7t!",this.btnRegister.node.active=!1):(this.btnRegister.node.active=!0,this.lbStatus.string="\u0110\u0103ng k\xfd c\u1ed9ng t\xe1c ngay \u0111\u1ec3 nh\u1eadn nh\u1eefng \u01b0u \u0111\xe3i tuy\u1ec7t v\u1eddi t\u1eeb Big99");else{this.tabNotRegistered.active=!1,this.tabRegistered.active=!0;var e=t.getSFSArray("data").getSFSObject(0);if(this.lbRefCode.string=e.getUtfString("mgt"),this.lbReward.string=c.Windown.formatNumber(e.getLong("agtt")),this.btnReceiveReward.interactable=e.getLong("agtt")>0,e.containsKey("data")&&""!=e.getUtfString("data"))for(var n=JSON.parse(e.getUtfString("data")),o=0,i=n.length;o<i;o++){var r=n[o],s=this.scrCTV.content.children[0];cc.isValid(s)||((s=cc.instantiate(this.scrCTV.content.children[0])).parent=this.scrCTV.content),s.active=!0,s.getChildByName("lbNickname").getComponent(cc.Label).string=r.nickname,s.getChildByName("lbReward").getComponent(cc.Label).string=c.Windown.formatNumber(r.agtt),s.getChildByName("bgId").active=o%2==0}}},e.prototype.onClickRegisterCTV=function(){a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.SignCTV,null)},e.prototype.onClickReceiveCTV=function(){a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.ReceiveCTV,null)},e.prototype.responseSignCTV=function(t){cc.log("responseSignCTV:",c.Windown.SFSObjToJson(t)),this.lbStatus.string=t.getUtfString("message"),this.btnRegister.node.active=!1},e.prototype.responseReceiveCTV=function(t){cc.log("responseReceiveCTV:",c.Windown.SFSObjToJson(t))},e.prototype.onClickClose=function(){var t=this;c.Windown.actionEffectClosePopup(this.node,function(){t.node.parent=null})},e.prototype.onClickCopyRefCode=function(){c.Windown.coppyToClip(this.lbRefCode.string)},r([p(cc.Node)],e.prototype,"tabInfo",void 0),r([p(cc.Node)],e.prototype,"tabRule",void 0),r([p(cc.Node)],e.prototype,"tabRegistered",void 0),r([p(cc.Node)],e.prototype,"tabNotRegistered",void 0),r([p(cc.Button)],e.prototype,"btnRegister",void 0),r([p(cc.Button)],e.prototype,"btnReceiveReward",void 0),r([p(cc.Label)],e.prototype,"lbStatus",void 0),r([p(cc.Label)],e.prototype,"lbRefCode",void 0),r([p(cc.Label)],e.prototype,"lbReward",void 0),r([p(cc.ScrollView)],e.prototype,"scrCTV",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../Network/ConectManager":"ConectManager","../../Windown":"Windown"}],DangKy:[function(t,e,n){"use strict";cc._RF.push(e,"b8b2fJyyChER5D1au1YxnZ1","DangKy");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/EVENT_MANAGER"),a=t("../../DefineTs/TextDefine"),c=t("../../Network/ConectManager"),l=t("../../Parent/BaseEditbox"),u=t("../../Windown"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.edbUserName=null,e.edbNickName=null,e.edbRef=null,e.edbBankAcName=null,e.edbBankNumber=null,e.edbBankCode=null,e.edbUserPass=null,e.edbUserRePass=null,e.edbCaptcha=null,e.scrItemBank=null,e.bankCode="",e}return i(e,t),e.prototype.onEnable=function(){this.setListBankSuggest()},e.prototype.onLoad=function(){u.Windown.DangKy=this},e.prototype.start=function(){c.ConectManager.getIns().checkConnectAndConnect(),cc.systemEvent.on(s.EVENT_MANAGER.onEnter,this.onClickDangKy,this),this.resignEdb(this.edbUserName),this.resignEdb(this.edbNickName),this.resignEdb(this.edbRef),this.resignEdb(this.edbUserPass),this.resignEdb(this.edbUserRePass),this.resignNext(this.edbUserName,"edbNickName"),this.resignNext(this.edbRef,"edbRef"),this.resignNext(this.edbNickName,"edbUserPass"),this.resignNext(this.edbUserPass,"edbUserRePass")},e.prototype.onClickDangKy=function(){this.edbUserName.string.length<6?u.Windown.Dialog.showLog(a.TextDefine.DangNhapNhoHon6):this.edbNickName.string.length>0&&this.edbNickName.string.length<6?u.Windown.Dialog.showLog(a.TextDefine.NickNameNhoHon6):this.edbUserPass.string.length<6?u.Windown.Dialog.showLog(a.TextDefine.MatKhauNhoHon6):this.edbUserPass.string==this.edbUserRePass.string?""!=this.edbBankAcName.string?""!=this.edbBankNumber.string?""!=this.bankCode?c.ConectManager.getIns().sendSignUp(this.edbUserName.string,this.edbNickName.string,this.edbUserPass.string,this.edbCaptcha.string,this.bankCode,this.edbBankAcName.string,this.edbBankNumber.string,this.edbRef.string):u.Windown.Dialog.showLog(a.TextDefine.NullBANK):u.Windown.Dialog.showLog(a.TextDefine.NullSdtBANK):u.Windown.Dialog.showLog(a.TextDefine.NullTtkBANK):u.Windown.Dialog.showLog(a.TextDefine.MatKhauKhongTrung)},e.prototype.onDestroy=function(){u.Windown.DangKy=null,cc.systemEvent.off(s.EVENT_MANAGER.onEnter,this.onClickDangKy,this)},e.prototype.clickRefeshCaptcha=function(){u.Windown.CapchaController.requestCapcha()},e.prototype.onClickClose=function(){var t=this;u.Windown.actionEffectClose(this.node,function(){t.node.destroy()})},e.prototype.onClickChooseBank=function(){var t=this.scrItemBank.node;t.stopAllActions(),t.active?t.runAction(cc.sequence(cc.scaleTo(.3,1,0).easing(cc.easeBackIn()),cc.callFunc(function(){t.active=!1}))):(t.active=!0,t.setPosition(u.Windown.convertNodeInOtherNode(t,this.node)),t.setParent(this.node),t.runAction(cc.scaleTo(.3,1,1).easing(cc.easeBackOut())))},e.prototype.setListBankSuggest=function(){for(var t=u.Windown.listBankVN.slice(0,17),e=0,n=t.length;e<n;e++){var o=t[e],i=this.scrItemBank.content.children[e];cc.isValid(i)||((i=cc.instantiate(this.scrItemBank.content.children[0])).parent=this.scrItemBank.content),i.getComponentInChildren(cc.Label).string=o.name,i.nameBank=o.name}for(e=t.length;e<this.scrItemBank.content.children.length;e++)this.scrItemBank.content.children[e].active=!1},e.prototype.onClickItemBank=function(t){cc.log(t);var e=t.target,n=e.getComponentInChildren(cc.Label).string,o=e.nameBank;this.onClickChooseBank(),this.edbBankCode.string=o,this.bankCode=n},r([d(cc.EditBox)],e.prototype,"edbUserName",void 0),r([d(cc.EditBox)],e.prototype,"edbNickName",void 0),r([d(cc.EditBox)],e.prototype,"edbRef",void 0),r([d(cc.EditBox)],e.prototype,"edbBankAcName",void 0),r([d(cc.EditBox)],e.prototype,"edbBankNumber",void 0),r([d(cc.EditBox)],e.prototype,"edbBankCode",void 0),r([d(cc.EditBox)],e.prototype,"edbUserPass",void 0),r([d(cc.EditBox)],e.prototype,"edbUserRePass",void 0),r([d(cc.EditBox)],e.prototype,"edbCaptcha",void 0),r([d(cc.ScrollView)],e.prototype,"scrItemBank",void 0),r([h],e)}(l.default);n.default=f,cc._RF.pop()},{"../../DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../DefineTs/TextDefine":"TextDefine","../../Network/ConectManager":"ConectManager","../../Parent/BaseEditbox":"BaseEditbox","../../Windown":"Windown"}],DangNhap:[function(t,e,n){"use strict";cc._RF.push(e,"e56a3rpsfFIZJduek0yoMKh","DangNhap");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/EVENT_MANAGER"),a=t("../../DefineTs/TextDefine"),c=t("../../Network/ConectManager"),l=t("../../Parent/BaseEditbox"),u=t("../../Windown"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.edbUserName=null,e.edbUserPass=null,e.edbCaptcha=null,e.toggleAuto=null,e}return i(e,t),e.prototype.start=function(){u.Windown.DangNhap=this,c.ConectManager.getIns().checkConnectAndConnect();var t=u.Windown.getLocalStorage("autoLogin");if(t)if("true"==t){this.toggleAuto.check();var e=u.Windown.getLocalStorage("userName"),n=u.Windown.getLocalStorage("userPass");e&&""!=e&&n&&""!=n&&(this.edbUserName.string=e,this.edbUserPass.string=n,this.onClickDangNhap())}else this.toggleAuto.uncheck();else this.toggleAuto.uncheck();cc.systemEvent.on(s.EVENT_MANAGER.onEnter,this.onClickDangNhap,this),this.resignEdb(this.edbUserName),this.resignEdb(this.edbUserPass),this.resignNext(this.edbUserName,"edbUserPass")},e.prototype.onCheckAuto=function(){this.toggleAuto.isChecked?u.Windown.setLocalStorage("autoLogin","true"):u.Windown.setLocalStorage("autoLogin","false")},e.prototype.onClickDangNhap=function(){this.edbUserName.string.length<6?u.Windown.Dialog.showLog(a.TextDefine.DangNhapNhoHon6):this.edbUserPass.string.length<6?u.Windown.Dialog.showLog(a.TextDefine.MatKhauNhoHon6):c.ConectManager.getIns().sendLogin(this.edbUserName.string,this.edbUserPass.string,this.edbCaptcha.string)},e.prototype.onDestroy=function(){u.Windown.DangNhap=null,cc.systemEvent.off(s.EVENT_MANAGER.onEnter,this.onClickDangNhap,this)},e.prototype.clickRefeshCaptcha=function(){u.Windown.CapchaController.requestCapcha()},e.prototype.onClickClose=function(){var t=this;u.Windown.actionEffectClose(this.node,function(){t.node.destroy()})},e.prototype.onClickQuenPass=function(){cc.sys.openURL(u.Windown.LinkResetPass)},r([d(cc.EditBox)],e.prototype,"edbUserName",void 0),r([d(cc.EditBox)],e.prototype,"edbUserPass",void 0),r([d(cc.EditBox)],e.prototype,"edbCaptcha",void 0),r([d(cc.Toggle)],e.prototype,"toggleAuto",void 0),r([h],e)}(l.default);n.default=f,cc._RF.pop()},{"../../DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../DefineTs/TextDefine":"TextDefine","../../Network/ConectManager":"ConectManager","../../Parent/BaseEditbox":"BaseEditbox","../../Windown":"Windown"}],DefineSpeedGunBD:[function(t,e,n){"use strict";cc._RF.push(e,"1ebcf2eVuxNgaeMI+1t2L5c","DefineSpeedGunBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.NORMAL=.22,e.SET=.18,e.SPEED=.05,e}(cc.Component);n.default=r,cc._RF.pop()},{}],DetailHistoryAiCap:[function(t,e,n){"use strict";cc._RF.push(e,"e23a1vDiJVHyKHq+AyGdm2N","DetailHistoryAiCap");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=t("./SymbolAiCap"),c=cc._decorator,l=c.ccclass,u=c.property,p=[[1,1,1],[0,0,0],[2,2,2],[0,1,2],[2,1,0],[1,0,1],[1,2,1],[0,1,0],[2,1,2]],h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.itemTemplate=null,e.lbTitle=null,e.lbTime=null,e.lbBet=null,e.lbWin=null,e.lbMNUser=null,e.lbCuocCoSo=null,e.listColum=[],e.lineTemp=null,e.listLineWin=null,e.listLinesSprite=[],e.parentBauVat=null,e.atlasBauVatOf=null,e.atlasBauVatOn=null,e.lbTotalMutil=null,e.currentMutil=0,e.isFreeSpin=!1,e}return i(e,t),e.prototype.show=function(t){this.listLineWin.children.forEach(function(t){t.destroy()}),this.node.active=!0,this.node.x=721.812,this.node.stopAllActions(),this.node.opacity=0,this.node.runAction(cc.spawn(cc.moveTo(.3,0,0),cc.fadeIn(.3).easing(cc.easeElasticIn(3))));var e=t.get("date"),n=t.get("infolog");console.log(n);var o=JSON.parse(n);this.isFreeSpin=o.numFreeSpin>0,this.checkAndShowBauVat(o),0==o.agBet?this.lbTitle.string="Free Spin":this.lbTitle.string="Spin normal",this.lbTime.string=s.Windown.formatDate(new Date(e),"dd/MM HH:mm:ss"),this.lbBet.string=s.Windown.formatNumber(20*o.agBet),this.lbWin.string=s.Windown.formatNumber(o.agWin),this.lbMNUser.string=s.Windown.formatNumber(o.agUser),this.lbCuocCoSo.string=s.Windown.formatNumber(o.agBet);for(var i=0;i<3;i++)for(var r=0;r<3;r++)this.listColum[i].children[r].getComponent(a.default).resetState();for(i=0;i<o.views.length;i++){var c=o.views[i];for(r=0;r<c.length;r++)this.listColum[i].children[r].getComponent(a.default).setResultHistory(c[r].idItem)}for(i=0;i<this.listColum.length;i++)this.listColum[i].children.forEach(function(t){t.getComponent(a.default).offItem()});for(r=0;r<o.listItemWin.length;r++){var l=o.listItemWin[r];if(l){this.checkAndShowLineAn(l,l.agWin,!1);var u=cc.instantiate(this.lineTemp);u.getChildByName("lineSprite").getComponent(cc.Sprite).spriteFrame=this.listLinesSprite[l.id],u.getChildByName("lineSprite").children[0].getComponent(cc.Label).string="0"+l.id,u.getChildByName("agWin").getComponent(cc.Label).string="\u0111"+s.Windown.formatNumber(l.agWin,!1)+(this.currentMutil>0?"x"+this.currentMutil:""),u.active=!0,this.listLineWin.addChild(u)}}},e.prototype.checkAndShowBauVat=function(t){var e=this;this.offAllBauVat();for(var n=this.parentBauVat.children,o=function(o){var i=JSON.parse(t["lineBonus"+o]),r=n[o-1];i.forEach(function(t,n){var o=t.status,i=t.id;e.setTypeBauVat(r.children[n],i,1==o)})},i=1;i<5;i++)o(i);var r=0;JSON.parse(t.multis).forEach(function(t){r+=t}),this.currentMutil=r,this.lbTotalMutil.string="x"+r,this.lbTotalMutil.node.active=r>0},e.prototype.offAllBauVat=function(){this.parentBauVat.children.forEach(function(t){t.children.forEach(function(t){return t.getComponent(cc.Sprite).enabled=!1})})},e.prototype.setTypeBauVat=function(t,e,n){var o=this.getNameAtlasSpriteFrame(e,n);cc.log(o);var i=t.getComponentInChildren(cc.Sprite);n?(i.dstBlendFactor=cc.macro.BlendFactor.ONE,t.getComponent(cc.Sprite).enabled=!0):i.dstBlendFactor=cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA,i.spriteFrame=o},e.prototype.getNameAtlasSpriteFrame=function(t,e){var n="",o=null;switch(t){case 0:n="top_jar_";break;case 1:n="top_ankh_";break;case 2:n="top_cross_";break;case 3:n="top_eye_";break;case 4:n="top_crane_";break;case 5:n="top_snake_";break;case 6:n="top_cat_";break;case 7:n="top_anubis_";break;case 8:n="top_horus_";break;case 9:n="top_pharaoh_"}return e?(n+="b",o=this.atlasBauVatOn):(n+="a",o=this.atlasBauVatOf),o.getSpriteFrame(n)},e.prototype.checkAndShowLineAn=function(t,e,n){for(var o=t.id,i=0;i<3;i++)this.listColum[i].children[p[o][i]].getComponent(a.default).takeItem(i,e,n)},e.prototype.onClickClose=function(){var t=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.3,721.812,0),cc.fadeOut(.3).easing(cc.easeElasticOut(3))),cc.callFunc(function(){t.node.active=!1})))},r([u(cc.Node)],e.prototype,"parentItem",void 0),r([u(cc.Node)],e.prototype,"itemTemplate",void 0),r([u(cc.Label)],e.prototype,"lbTitle",void 0),r([u(cc.Label)],e.prototype,"lbTime",void 0),r([u(cc.Label)],e.prototype,"lbBet",void 0),r([u(cc.Label)],e.prototype,"lbWin",void 0),r([u(cc.Label)],e.prototype,"lbMNUser",void 0),r([u(cc.Label)],e.prototype,"lbCuocCoSo",void 0),r([u([cc.Node])],e.prototype,"listColum",void 0),r([u(cc.Node)],e.prototype,"lineTemp",void 0),r([u(cc.Node)],e.prototype,"listLineWin",void 0),r([u([cc.SpriteFrame])],e.prototype,"listLinesSprite",void 0),r([u(cc.Node)],e.prototype,"parentBauVat",void 0),r([u(cc.SpriteAtlas)],e.prototype,"atlasBauVatOf",void 0),r([u(cc.SpriteAtlas)],e.prototype,"atlasBauVatOn",void 0),r([u(cc.Label)],e.prototype,"lbTotalMutil",void 0),r([l],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/Windown":"Windown","./SymbolAiCap":"SymbolAiCap"}],DetailHistoryAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"21d51yJUkhENb4XDjEekJUG","DetailHistoryAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=t("./ItemResultDetailAsgard"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.itemTemplate=null,e.lbTitle=null,e.lbTime=null,e.lbBet=null,e.lbWin=null,e.lbMNUser=null,e.lbCuocCoSo=null,e.isFreeSpin=!1,e}return i(e,t),e.prototype.show=function(t){var e=this;this.node.active=!0,this.node.x=721.812,this.node.stopAllActions(),this.node.opacity=0,this.node.runAction(cc.spawn(cc.moveTo(.3,0,0),cc.fadeIn(.3).easing(cc.easeElasticIn(3))));var n=t.get("date"),o=t.get("infolog"),i=JSON.parse(o);cc.log(o),this.isFreeSpin=i.numFreeSpin>0,0==i.agBet?this.lbTitle.string="Free spin":this.lbTitle.string="Spin normal",this.lbTime.string=s.Windown.formatDate(new Date(n),"dd/MM HH:mm:ss"),this.lbBet.string=s.Windown.formatNumber(20*i.agBet),this.lbWin.string=s.Windown.formatNumber(i.agWin),this.lbMNUser.string=s.Windown.formatNumber(i.agUser),this.lbCuocCoSo.string=s.Windown.formatNumber(i.agBet);for(var r=JSON.parse(i.arrBonus);this.parentItem.childrenCount>0;){var c=this.parentItem.children[0];c.removeFromParent(),c.destroy()}i.views.forEach(function(t,n){var o=e.parentItem.children[n];null==o&&((o=cc.instantiate(e.itemTemplate)).parent=e.parentItem,o.active=!0),o.active=!0;var s=o.getComponent(a.default);i.listItemWin[n]&&(i.listItemWin[n].lsIdItem=JSON.parse(i.listItemWin[n].lsIdItem),i.listItemWin[n].lsstack=JSON.parse(i.listItemWin[n].lsstack),i.listItemWin[n].lsAgWin=JSON.parse(i.listItemWin[n].lsAgWin)),s.init(t,i.listItemWin[n],r[n],i.agBet)});for(var l=i.views.length;l<this.parentItem.childrenCount;l++)this.parentItem.children[l].active=!1},e.prototype.onClickClose=function(){var t=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.3,721.812,0),cc.fadeOut(.3).easing(cc.easeElasticOut(3))),cc.callFunc(function(){t.node.active=!1})))},r([u(cc.Node)],e.prototype,"parentItem",void 0),r([u(cc.Node)],e.prototype,"itemTemplate",void 0),r([u(cc.Label)],e.prototype,"lbTitle",void 0),r([u(cc.Label)],e.prototype,"lbTime",void 0),r([u(cc.Label)],e.prototype,"lbBet",void 0),r([u(cc.Label)],e.prototype,"lbWin",void 0),r([u(cc.Label)],e.prototype,"lbMNUser",void 0),r([u(cc.Label)],e.prototype,"lbCuocCoSo",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":"Windown","./ItemResultDetailAsgard":"ItemResultDetailAsgard"}],DetailHistoryCaishen:[function(t,e,n){"use strict";cc._RF.push(e,"da27fwYoF5G2oJhk4ZFP7fa","DetailHistoryCaishen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=t("./ItemResultDetailCaishen"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.itemTemplate=null,e.lbTitle=null,e.lbTime=null,e.lbBet=null,e.lbWin=null,e.lbMNUser=null,e.lbCuocCoSo=null,e.isFreeSpin=!1,e}return i(e,t),e.prototype.show=function(t){var e=this;this.node.active=!0,this.node.x=721.812,this.node.stopAllActions(),this.node.opacity=0,this.node.runAction(cc.spawn(cc.moveTo(.3,0,0),cc.fadeIn(.3).easing(cc.easeElasticIn(3))));var n=t.get("date"),o=t.get("infolog"),i=JSON.parse(o);cc.log(o),this.isFreeSpin=i.numFreeSpin>0,0==i.agBet?this.lbTitle.string="Quay Mi\u1ec5n Ph\xed":this.lbTitle.string="Quay Th\u01b0\u1eddng",this.lbTime.string=s.Windown.formatDate(new Date(n),"dd/MM HH:mm:ss"),this.lbBet.string=s.Windown.formatNumber(20*i.agBet),this.lbWin.string=s.Windown.formatNumber(i.agWin),this.lbMNUser.string=s.Windown.formatNumber(i.agUser),this.lbCuocCoSo.string=s.Windown.formatNumber(i.agBet);var r=i.bonusSpin;for(cc.log(s.Windown.SFSObjToJson(t));this.parentItem.childrenCount>0;){var c=this.parentItem.children[0];c.removeFromParent(),c.destroy()}i.views.forEach(function(t,n){var o=e.parentItem.children[n];null==o&&((o=cc.instantiate(e.itemTemplate)).parent=e.parentItem,o.active=!0),o.active=!0;var s=o.getComponent(a.default);i.listItemWin[n]&&(i.listItemWin[n].lsIdItem=JSON.parse(i.listItemWin[n].lsIdItem),i.listItemWin[n].lsstack=JSON.parse(i.listItemWin[n].lsstack),i.listItemWin[n].lsAgWin=JSON.parse(i.listItemWin[n].lsAgWin)),s.init(t,i.listItemWin[n],r,i.agBet)});for(var l=i.views.length;l<this.parentItem.childrenCount;l++)this.parentItem.children[l].active=!1},e.prototype.onClickClose=function(){var t=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.3,721.812,0),cc.fadeOut(.3).easing(cc.easeElasticOut(3))),cc.callFunc(function(){t.node.active=!1})))},r([u(cc.Node)],e.prototype,"parentItem",void 0),r([u(cc.Node)],e.prototype,"itemTemplate",void 0),r([u(cc.Label)],e.prototype,"lbTitle",void 0),r([u(cc.Label)],e.prototype,"lbTime",void 0),r([u(cc.Label)],e.prototype,"lbBet",void 0),r([u(cc.Label)],e.prototype,"lbWin",void 0),r([u(cc.Label)],e.prototype,"lbMNUser",void 0),r([u(cc.Label)],e.prototype,"lbCuocCoSo",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":"Windown","./ItemResultDetailCaishen":"ItemResultDetailCaishen"}],DetailHistoryDieuThuyen:[function(t,e,n){"use strict";cc._RF.push(e,"ef1ab1A745CcIxS9KEtTBIH","DetailHistoryDieuThuyen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/TextDefine"),a=t("../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.lbTitle=null,e.lbTime=null,e.lbBet=null,e.lbWin=null,e.lbMNUser=null,e.parentMutil=null,e.spAtlas=null,e.parentItemLine=null,e.colorOf=null,e.isFreeSpin=!1,e}return i(e,t),e.prototype.show=function(t){this.node.active=!0,this.node.x=721.812,this.node.stopAllActions(),this.node.opacity=0,this.node.runAction(cc.spawn(cc.moveTo(.3,0,0),cc.fadeIn(.3).easing(cc.easeElasticIn(3))));var e=t.get("date"),n=t.get("infolog"),o=null;try{o=JSON.parse(n)}catch(c){return void a.Windown.Dialog.showLog(s.TextDefine.Error)}this.isFreeSpin=o.freeSpin;var i=JSON.parse(o.views2);this.setResult(i),this.setLineAn(o.listLineWin),o.isTakeJP?this.lbTitle.string="N\u1ed5 H\u0169":o.freeSpin?this.lbTitle.string="Quay mi\u1ec5n ph\xed":this.lbTitle.string="Quay th\u01b0\u1eddng",this.lbTime.string=a.Windown.formatDate(new Date(e),"dd/MM HH:mm:ss"),this.lbBet.string=a.Windown.formatNumber(30*o.agBet),this.lbWin.string=a.Windown.formatNumber(o.agWin),this.lbMNUser.string=a.Windown.formatNumber(o.agUser);var r=o.freeNow;this.parentMutil.active=!0,this.parentMutil.children.forEach(function(t){return t.active=!1}),2==r?this.parentMutil.children[0].active=!0:4==r?this.parentMutil.children[1].active=!0:this.parentMutil.active=!1},e.prototype.setResult=function(t){for(var e=this.parentItem.children,n=0;n<t.length;n++)for(var o=t[n],i=0;i<o.length;i++){var r=o[i];e[n].children[i].getComponent(cc.Sprite).spriteFrame=a.Windown.DieuThuyen.asset.listSFItem[r],e[n].children[i].color=this.colorOf}},e.prototype.setLineAn=function(t){for(var e=this.parentItem.children,n=this.parentItemLine,o=n.children,i=o[0],r=0,s=t.length;r<s;r++){var c=t[r],l=c.id,u=c.agWinLine,p=JSON.parse(c.lineIndex),h=l;h<10&&(h="0"+h);for(var d=u,f=0;f<p.length;f++)e[f].children[p[f]].color=cc.Color.WHITE;var y=o[r];null==y&&((y=cc.instantiate(i)).parent=n),y.active=!0,y.children[0].getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(h.toString()),y.children[1].getComponent(cc.Label).string="W:"+a.Windown.formatMoney(d,1)}for(r=t.length;r<o.length;r++)o[r].active=!1},e.prototype.onClickClose=function(){var t=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.3,721.812,0),cc.fadeOut(.3).easing(cc.easeElasticOut(3))),cc.callFunc(function(){t.node.active=!1})))},r([u(cc.Node)],e.prototype,"parentItem",void 0),r([u(cc.Label)],e.prototype,"lbTitle",void 0),r([u(cc.Label)],e.prototype,"lbTime",void 0),r([u(cc.Label)],e.prototype,"lbBet",void 0),r([u(cc.Label)],e.prototype,"lbWin",void 0),r([u(cc.Label)],e.prototype,"lbMNUser",void 0),r([u(cc.Node)],e.prototype,"parentMutil",void 0),r([u(cc.SpriteAtlas)],e.prototype,"spAtlas",void 0),r([u(cc.Node)],e.prototype,"parentItemLine",void 0),r([u(cc.Color)],e.prototype,"colorOf",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Windown":"Windown"}],DetailHistoryDuaXe:[function(t,e,n){"use strict";cc._RF.push(e,"8459eXcsAdDTZE7Kja5nk1a","DetailHistoryDuaXe");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=t("../../../Scritps/Windown"),u=t("./ItemResultDetailDuaXe"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.itemTemplate=null,e.lbTitle=null,e.lbTime=null,e.lbBet=null,e.lbWin=null,e.lbMNUser=null,e.lbCuocCoSo=null,e.isFreeSpin=!1,e}return i(e,t),e.prototype.onLoad=function(){this.itemTemplate.active=!1},e.prototype.show=function(t){var e=this;this.node.active=!0,this.node.setPosition(721.812,this.node.position.y),l.Windown.stopAllActionByTarget(this.node),this.node.opacity=0,this.node.runAction(cc.spawn(cc.moveTo(.3,cc.v2(0,0)),cc.fadeIn(.3).easing(cc.easeElasticIn(.3))));var n=t.date,o=t.infolog,i=JSON.parse(o);cc.log(o),this.isFreeSpin=i.numFreeSpin>0,0==i.agBet?this.lbTitle.string="Free spin":this.lbTitle.string="Spin normal",this.lbTime.string=l.Windown.formatDate(new Date(n),"dd/MM HH:mm:ss"),this.lbBet.string=l.Windown.formatNumber(20*i.agBet),this.lbWin.string=l.Windown.formatNumber(i.agWin),this.lbMNUser.string=l.Windown.formatNumber(i.agUser),this.lbCuocCoSo.string=l.Windown.formatNumber(i.agBet);for(var r=JSON.parse(i.bonus);this.parentItem.children.length>0;){var s=this.parentItem.children[0];s.removeFromParent(),s.destroy()}var a=0;i.views.forEach(function(t,n){var o=e.parentItem.children[n];null==o&&((o=cc.instantiate(e.itemTemplate)).parent=e.parentItem,o.active=!0),o.active=!0;var s=o.getComponent(u.default);i.listItemWin[n]&&(i.listItemWin[n].lsIdItem=JSON.parse(i.listItemWin[n].lsIdItem),i.listItemWin[n].lsstack=JSON.parse(i.listItemWin[n].lsstack),i.listItemWin[n].lsAgWin=JSON.parse(i.listItemWin[n].lsAgWin),a+=i.listItemWin[n].lsAgWin.reduce(function(t,e){return t+e},0)),s.init(t,i.listItemWin[n],r,a,i.basebet,i.agWin)});for(var c=i.views.length;c<this.parentItem.children.length;c++)this.parentItem.children[c].active=!1},e.prototype.onClickClose=function(){var t=this;l.Windown.stopAllActionByTarget(this.node),this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.3,cc.v2(721.812,0)),cc.fadeOut(.3).easing(cc.easeElasticOut(3))),cc.callFunc(function(){t.node.active=!1})))},r([c(cc.Node)],e.prototype,"parentItem",void 0),r([c(cc.Node)],e.prototype,"itemTemplate",void 0),r([c(cc.Label)],e.prototype,"lbTitle",void 0),r([c(cc.Label)],e.prototype,"lbTime",void 0),r([c(cc.Label)],e.prototype,"lbBet",void 0),r([c(cc.Label)],e.prototype,"lbWin",void 0),r([c(cc.Label)],e.prototype,"lbMNUser",void 0),r([c(cc.Label)],e.prototype,"lbCuocCoSo",void 0),r([a],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":"Windown","./ItemResultDetailDuaXe":"ItemResultDetailDuaXe"}],DetailHistoryMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"3460boap1RJ2rrp4p2T+4vS","DetailHistoryMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=t("../../../Scritps/Windown"),u=t("./ItemResultDetailMatChuoc"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.itemTemplate=null,e.lbTitle=null,e.lbTime=null,e.lbBet=null,e.lbWin=null,e.lbMNUser=null,e.lbCuocCoSo=null,e.isFreeSpin=!1,e}return i(e,t),e.prototype.show=function(t){var e=this;console.log("DetailHistoryMatChuoc: "+JSON.stringify(t)),this.node.active=!0,this.node.position.x=721.812,this.node.stopAllActions(),this.node.opacity=0,this.node.runAction(cc.spawn(cc.moveTo(.3,cc.v2(0,0)),cc.fadeIn(.3).easing(cc.easeElasticIn(3))));var n=t.date,o=t.infolog,i=JSON.parse(o);cc.log(o),this.isFreeSpin=i.numFreeSpin>0,0==i.agBet?this.lbTitle.string="Free spin":this.lbTitle.string="Spin normal",this.lbTime.string=l.Windown.formatDate(new Date(n),"dd/MM HH:mm:ss"),this.lbBet.string=l.Windown.formatNumber(20*i.agBet),this.lbWin.string=l.Windown.formatNumber(i.agWin),this.lbMNUser.string=l.Windown.formatNumber(i.agUser),this.lbCuocCoSo.string=l.Windown.formatNumber(i.agBet);var r=JSON.parse(i.arrBonus);for(0!=i.agBet?r.unshift(1):r.unshift(2);this.parentItem.children.length>0;){var s=this.parentItem.children[0];s.removeFromParent(),s.destroy()}i.views.forEach(function(t,n){var o=e.parentItem.children[n];null==o&&((o=cc.instantiate(e.itemTemplate)).parent=e.parentItem,o.active=!0),o.active=!0;var s=o.getComponent(u.default);i.listItemWin[n]&&(i.listItemWin[n].lsIdItem=JSON.parse(i.listItemWin[n].lsIdItem),i.listItemWin[n].lsstack=JSON.parse(i.listItemWin[n].lsstack),i.listItemWin[n].lsAgWin=JSON.parse(i.listItemWin[n].lsAgWin)),s.init(t,i.listItemWin[n],r[n],i.agBet)});for(var a=i.views.length;a<this.parentItem.children.length;a++)this.parentItem.children[a].active=!1},e.prototype.onClickClose=function(){var t=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.3,cc.v2(721.812,0)),cc.fadeOut(.3).easing(cc.easeElasticOut(3))),cc.callFunc(function(){t.node.active=!1})))},r([c(cc.Node)],e.prototype,"parentItem",void 0),r([c(cc.Node)],e.prototype,"itemTemplate",void 0),r([c(cc.Label)],e.prototype,"lbTitle",void 0),r([c(cc.Label)],e.prototype,"lbTime",void 0),r([c(cc.Label)],e.prototype,"lbBet",void 0),r([c(cc.Label)],e.prototype,"lbWin",void 0),r([c(cc.Label)],e.prototype,"lbMNUser",void 0),r([c(cc.Label)],e.prototype,"lbCuocCoSo",void 0),r([a],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":"Windown","./ItemResultDetailMatChuoc":"ItemResultDetailMatChuoc"}],DetailHistoryMatTroi:[function(t,e,n){"use strict";cc._RF.push(e,"dc92cFkWI5E5Lc0yzLbtnRn","DetailHistoryMatTroi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Network/ConectManager"),a=t("../../../Scritps/Other/LbMonoSpace"),c=t("../../../Scritps/Windown"),l=t("./ItemSlotMatTroi"),u=t("./ItemWinDetailHistory"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.itemTemplate=null,e.lbTitle=null,e.lbTime=null,e.lbBet=null,e.lbWin=null,e.lbMNUser=null,e.lbCuocCoSo=null,e.listColum=[],e.scrItemWin=null,e.itemWinTemplate=null,e.btnNextView=null,e.btnBackView=null,e.lbBonusSun=null,e.lbBonusMoon=null,e.lbNoWin=null,e.viewDetail=null,e.CApem=null,e.totalViews=[],e.currentView=0,e.dataHistory=null,e.isFreeSpin=!1,e}return i(e,t),e.prototype.onEnable=function(){this.totalViews=[],this.currentView=0,this.dataHistory=null},e.prototype.show=function(t){this.node.active=!0,this.node.x=721.812,this.node.stopAllActions(),this.node.opacity=0,this.node.runAction(cc.spawn(cc.moveTo(.3,0,0),cc.fadeIn(.3).easing(cc.easeElasticIn(3))));var e=t.get("date"),n=t.get("infolog"),o=JSON.parse(n);this.dataHistory=o,cc.log("Detail:",n),this.initItem(),this.isFreeSpin=o.numFreeSpin>0,0==o.agBet?this.lbTitle.string="Quay Mi\u1ec5n Ph\xed":this.lbTitle.string="Quay Th\u01b0\u1eddng",this.lbTime.string=c.Windown.formatDate(new Date(e),"dd/MM HH:mm:ss"),this.lbBet.string=c.Windown.formatNumber(20*o.agBet),this.lbWin.string=c.Windown.formatNumber(o.agWin),this.lbMNUser.string=c.Windown.formatNumber(o.agUser),this.lbCuocCoSo.string=c.Windown.formatNumber(o.agBet),this.totalViews=o.views,this.totalViews.length>1?this.btnNextView.node.active=!0:this.btnNextView.node.active=!1,this.setViewHistory()},e.prototype.setViewHistory=function(){var t=this;this.scrItemWin.content.destroyAllChildren();var e=this.totalViews[this.currentView];e.forEach(function(e,n){for(var o=[],i=0;i<e.length;i++)o.push(t.createSFSObjResult(e[i]));o.reverse(),t.listColum[n].setResultIcon(o)});var n=[],o=[],i=[],r=[],s=[],a=this.dataHistory.bonusSpinR,c=this.dataHistory.bonusSpinL;if(this.lbBonusMoon.string="x"+a,c.length>0&&c[this.currentView]>1?(this.lbBonusSun.string="x"+c[this.currentView],this.lbBonusSun.node.opacity=255,this.lbBonusSun.node.scale=.6):(this.lbBonusSun.node.opacity=133,this.lbBonusSun.string="x1",this.lbBonusSun.node.scale=.5),a.length>0&&a[this.currentView]>1?(this.lbBonusMoon.string="x"+a[this.currentView],this.lbBonusMoon.node.opacity=255,this.lbBonusMoon.node.scale=.6):(this.lbBonusMoon.node.opacity=133,this.lbBonusMoon.string="x1",this.lbBonusMoon.node.scale=.5),this.dataHistory.listItemWinL.length>0&&null!=this.dataHistory.listItemWinL[this.currentView]){n=this.dataHistory.listItemWinL[this.currentView],i=JSON.parse(n.lsIdItem),r=JSON.parse(n.lsAgWin),s=JSON.parse(n.lsstack);for(var l=function(t){for(var n=[],o=0,a=e.length;o<a;o++){var c=e[o].filter(function(e){return e.idItem!=i[t]&&10!=e.idItem||10==e.idItem&&(e.isWinLeft=!0),e.idItem==i[t]||10==e.idItem}).length;if(0==c)break;n.push(c)}u.addItemWinPayline(i[t]+1,s[t],r[t],0,n)},u=this,p=0;p<i.length;p++)l(p)}if(this.dataHistory.listItemWinR.length>0&&null!=this.dataHistory.listItemWinR[this.currentView]){o=this.dataHistory.listItemWinR[this.currentView],i=JSON.parse(o.lsIdItem),r=JSON.parse(o.lsAgWin),s=JSON.parse(o.lsstack);var h=function(t){for(var n=[],o=e.length-1;o>0;o--){var a=e[o].filter(function(e){return(e.idItem==i[t]||10==e.idItem)&&(!e.hasOwnProperty("isWinLeft")||e.hasOwnProperty("isWinLeft")&&0==e.isWinLeft)}).length;if(0==a)break;n.push(a)}d.addItemWinPayline(i[t]+1,s[t],r[t],1,n)},d=this;for(p=0;p<i.length;p++)h(p)}null==this.dataHistory.listItemWinR[this.currentView]&&null==this.dataHistory.listItemWinL[this.currentView]?this.lbNoWin.active=!0:this.lbNoWin.active=!1},e.prototype.addItemWinPayline=function(t,e,n,o,i){var r=cc.instantiate(this.itemWinTemplate).getComponent(u.default);this.scrItemWin.content.addChild(r.node),r.setInfo(t,e,n,o,i),r.node.active=!0},e.prototype.createSFSObjResult=function(t){var e=null;return(e=s.ConectManager.getIns().getSFSObj()).putInt("size",t.size),e.putInt("idItem",t.idItem),e.putInt("typeItem",t.typeItem),e},e.prototype.initItem=function(){for(var t=cc.instantiate(this.parentItem.children[0]),e=(t.width,0);e<6;e++){var n=this.parentItem.children[e];null==n&&((n=cc.instantiate(t)).parent=this.parentItem);var o=n.getComponent(l.default);this.listColum.push(o),o.index=e,o.setResultFirtGame(),o.node.y=0}},e.prototype.onClickClose=function(){var t=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.3,721.812,0),cc.fadeOut(.3).easing(cc.easeElasticOut(3))),cc.callFunc(function(){t.node.active=!1})))},e.prototype.onClickNextView=function(){var t=this;this.currentView<this.totalViews.length-1&&this.currentView++,cc.tween(this.viewDetail).to(.3,{opacity:0},{easing:cc.easing.sineOut}).call(function(){t.setViewHistory(),t.currentView==t.totalViews.length-1?(t.btnNextView.node.active=!1,t.btnBackView.node.active=!0):(t.btnNextView.node.active=!0,t.btnBackView.node.active=!0)}).to(.3,{opacity:255},{easing:cc.easing.sineIn}).start()},e.prototype.onClickBackView=function(){var t=this;this.currentView>0&&this.currentView--,cc.tween(this.viewDetail).to(.3,{opacity:0},{easing:cc.easing.sineOut}).call(function(){t.setViewHistory(),0==t.currentView?(t.btnNextView.node.active=!0,t.btnBackView.node.active=!1):(t.btnNextView.node.active=!0,t.btnBackView.node.active=!0)}).to(.3,{opacity:255},{easing:cc.easing.sineIn}).start()},r([d(cc.Node)],e.prototype,"parentItem",void 0),r([d(cc.Node)],e.prototype,"itemTemplate",void 0),r([d(cc.Label)],e.prototype,"lbTitle",void 0),r([d(cc.Label)],e.prototype,"lbTime",void 0),r([d(cc.Label)],e.prototype,"lbBet",void 0),r([d(cc.Label)],e.prototype,"lbWin",void 0),r([d(cc.Label)],e.prototype,"lbMNUser",void 0),r([d(cc.Label)],e.prototype,"lbCuocCoSo",void 0),r([d(l.default)],e.prototype,"listColum",void 0),r([d(cc.ScrollView)],e.prototype,"scrItemWin",void 0),r([d(cc.Node)],e.prototype,"itemWinTemplate",void 0),r([d(cc.Button)],e.prototype,"btnNextView",void 0),r([d(cc.Button)],e.prototype,"btnBackView",void 0),r([d(a.default)],e.prototype,"lbBonusSun",void 0),r([d(a.default)],e.prototype,"lbBonusMoon",void 0),r([d(cc.Node)],e.prototype,"lbNoWin",void 0),r([d(cc.Node)],e.prototype,"viewDetail",void 0),r([d(cc.Asset)],e.prototype,"CApem",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Windown":"Windown","./ItemSlotMatTroi":"ItemSlotMatTroi","./ItemWinDetailHistory":"ItemWinDetailHistory"}],DetailHistoryNeko:[function(t,e,n){"use strict";cc._RF.push(e,"4bc1aZ4BYRFNpHJVnHewMbA","DetailHistoryNeko");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=t("./ItemResultDetailNeko"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.itemTemplate=null,e.lbTitle=null,e.lbTime=null,e.lbBet=null,e.lbWin=null,e.lbMNUser=null,e.lbCuocCoSo=null,e.isFreeSpin=!1,e}return i(e,t),e.prototype.show=function(t){var e=this;this.node.active=!0,this.node.x=721.812,this.node.stopAllActions(),this.node.opacity=0,this.node.runAction(cc.spawn(cc.moveTo(.3,0,0),cc.fadeIn(.3).easing(cc.easeElasticIn(3))));var n=t.get("date"),o=t.get("infolog"),i=JSON.parse(o);cc.log(o),this.isFreeSpin=i.numFreeSpin>0,0==i.agBet?this.lbTitle.string="Quay mi\u1ec5n ph\xed":this.lbTitle.string="Quay th\u01b0\u1eddng",this.lbTime.string=s.Windown.formatDate(new Date(n),"dd/MM HH:mm:ss"),this.lbBet.string=s.Windown.formatNumber(20*i.agBet),this.lbWin.string=s.Windown.formatNumber(i.agWin),this.lbMNUser.string=s.Windown.formatNumber(i.agUser),this.lbCuocCoSo.string=s.Windown.formatNumber(i.agBet);for(var r=i.bonusSpin;this.parentItem.childrenCount>0;){var c=this.parentItem.children[0];c.removeFromParent(),c.destroy()}i.views.forEach(function(t,n){var o=e.parentItem.children[n];null==o&&((o=cc.instantiate(e.itemTemplate)).parent=e.parentItem,o.active=!0),o.active=!0;var s=o.getComponent(a.default);i.listItemWin[n]&&(i.listItemWin[n].lsIdItem=JSON.parse(i.listItemWin[n].lsIdItem),i.listItemWin[n].lsstack=JSON.parse(i.listItemWin[n].lsstack),i.listItemWin[n].lsAgWin=JSON.parse(i.listItemWin[n].lsAgWin)),s.init(t,i.listItemWin[n],r[n],i.agBet)});for(var l=i.views.length;l<this.parentItem.childrenCount;l++)this.parentItem.children[l].active=!1},e.prototype.onClickClose=function(){var t=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.3,721.812,0),cc.fadeOut(.3).easing(cc.easeElasticOut(3))),cc.callFunc(function(){t.node.active=!1})))},r([u(cc.Node)],e.prototype,"parentItem",void 0),r([u(cc.Node)],e.prototype,"itemTemplate",void 0),r([u(cc.Label)],e.prototype,"lbTitle",void 0),r([u(cc.Label)],e.prototype,"lbTime",void 0),r([u(cc.Label)],e.prototype,"lbBet",void 0),r([u(cc.Label)],e.prototype,"lbWin",void 0),r([u(cc.Label)],e.prototype,"lbMNUser",void 0),r([u(cc.Label)],e.prototype,"lbCuocCoSo",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":"Windown","./ItemResultDetailNeko":"ItemResultDetailNeko"}],DetailHistoryNgoKhong:[function(t,e,n){"use strict";cc._RF.push(e,"9ce4fJPlAJBQqYO8KTMyLpG","DetailHistoryNgoKhong");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=t("./ItemResultDetail"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.itemTemplate=null,e.lbTitle=null,e.lbTime=null,e.lbBet=null,e.lbWin=null,e.lbMNUser=null,e.lbCuocCoSo=null,e.isFreeSpin=!1,e}return i(e,t),e.prototype.show=function(t){this.node.active=!0,this.node.x=721.812,this.node.stopAllActions(),this.node.opacity=0,this.node.runAction(cc.spawn(cc.moveTo(.3,0,0),cc.fadeIn(.3).easing(cc.easeElasticIn(3))));var e=t.get("date"),n=t.get("infolog"),o=JSON.parse(n);this.isFreeSpin=o.numFreeSpin>0,0==o.agBet?this.lbTitle.string="Quay mi\u1ec5n ph\xed":this.lbTitle.string="Quay th\u01b0\u1eddng",this.lbTime.string=s.Windown.formatDate(new Date(e),"dd/MM HH:mm:ss"),this.lbBet.string=s.Windown.formatNumber(20*o.agBet),this.lbWin.string=s.Windown.formatNumber(o.agWin),this.lbMNUser.string=s.Windown.formatNumber(o.agUser),this.lbCuocCoSo.string=s.Windown.formatNumber(o.agBet);var i=JSON.parse(o.bonusFreeSpin)[0]||1,r=null;try{r=s.Windown.NgoKhong.convertResult(JSON.parse(o.views),o.listItemWin)}catch(d){this.onClickClose()}for(cc.log(JSON.stringify(r));this.parentItem.childrenCount>0;)(u=this.parentItem.children[0]).removeFromParent(),u.destroy();for(var c=0,l=r.length;c<l;c++){var u;null==(u=this.parentItem.children[c])&&((u=cc.instantiate(this.itemTemplate)).parent=this.parentItem,u.active=!0);var p=u.getComponent(a.default),h=r[c];p.init(h.listIdSymbol,h.listItemWin,i,o.agBet),0==o.agBet&&h.listItemWin&&i++}},e.prototype.onClickClose=function(){var t=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.3,721.812,0),cc.fadeOut(.3).easing(cc.easeElasticOut(3))),cc.callFunc(function(){t.node.active=!1})))},r([u(cc.Node)],e.prototype,"parentItem",void 0),r([u(cc.Node)],e.prototype,"itemTemplate",void 0),r([u(cc.Label)],e.prototype,"lbTitle",void 0),r([u(cc.Label)],e.prototype,"lbTime",void 0),r([u(cc.Label)],e.prototype,"lbBet",void 0),r([u(cc.Label)],e.prototype,"lbWin",void 0),r([u(cc.Label)],e.prototype,"lbMNUser",void 0),r([u(cc.Label)],e.prototype,"lbCuocCoSo",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":"Windown","./ItemResultDetail":"ItemResultDetail"}],DetailHistoryQuyBa:[function(t,e,n){"use strict";cc._RF.push(e,"cba40rcoMxHqK84MTtvhloC","DetailHistoryQuyBa");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=t("./ItemResultDetailQuyBa"),u=t("../../../Scritps/Windown"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.itemTemplate=null,e.lbTitle=null,e.lbTime=null,e.lbBet=null,e.lbWin=null,e.lbMNUser=null,e.lbCuocCoSo=null,e.isFreeSpin=!1,e}return i(e,t),e.prototype.onLoad=function(){this.itemTemplate.active=!1},e.prototype.show=function(t){var e=this;this.node.active=!0,this.node.setPosition(721.812,this.node.position.y),u.Windown.stopAllActionByTarget(this.node),this.node.opacity=0,this.node.runAction(cc.spawn(cc.moveTo(.3,cc.v2(0,0)),cc.fadeIn(.3).easing(cc.easeElasticIn(.3))));var n=t.date,o=t.infolog,i=JSON.parse(o);cc.log(o),this.isFreeSpin=i.numFreeSpin>0,0==i.agBet?this.lbTitle.string="Free spin":this.lbTitle.string="Spin normal",this.lbTime.string=u.Windown.formatDate(new Date(n),"dd/MM HH:mm:ss"),this.lbBet.string=u.Windown.formatNumber(20*i.agBet),this.lbWin.string=u.Windown.formatNumber(i.agWin),this.lbMNUser.string=u.Windown.formatNumber(i.agUser),this.lbCuocCoSo.string=u.Windown.formatNumber(i.agBet);for(var r=JSON.parse(i.arrBonus);this.parentItem.children.length>0;){var s=this.parentItem.children[0];s.removeFromParent(),s.destroy()}i.views.forEach(function(t,n){var o=e.parentItem.children[n];null==o&&((o=cc.instantiate(e.itemTemplate)).parent=e.parentItem,o.active=!0),o.active=!0;var s=o.getComponent(l.default);i.listItemWin[n]&&(i.listItemWin[n].lsIdItem=JSON.parse(i.listItemWin[n].lsIdItem),i.listItemWin[n].lsstack=JSON.parse(i.listItemWin[n].lsstack),i.listItemWin[n].lsAgWin=JSON.parse(i.listItemWin[n].lsAgWin)),s.init(t,i.listItemWin[n],r[n],i.agBet)});for(var a=i.views.length;a<this.parentItem.children.length;a++)this.parentItem.children[a].active=!1},e.prototype.onClickClose=function(){var t=this;u.Windown.stopAllActionByTarget(this.node),this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.3,cc.v2(721.812,0)),cc.fadeOut(.3).easing(cc.easeElasticOut(3))),cc.callFunc(function(){t.node.active=!1})))},r([c(cc.Node)],e.prototype,"parentItem",void 0),r([c(cc.Node)],e.prototype,"itemTemplate",void 0),r([c(cc.Label)],e.prototype,"lbTitle",void 0),r([c(cc.Label)],e.prototype,"lbTime",void 0),r([c(cc.Label)],e.prototype,"lbBet",void 0),r([c(cc.Label)],e.prototype,"lbWin",void 0),r([c(cc.Label)],e.prototype,"lbMNUser",void 0),r([c(cc.Label)],e.prototype,"lbCuocCoSo",void 0),r([a],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":"Windown","./ItemResultDetailQuyBa":"ItemResultDetailQuyBa"}],DetailHistoryRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"a254cH6SoFDCK1/TuUQArCH","DetailHistoryRungRam");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=t("./ItemResultDetailRungRam"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.itemTemplate=null,e.lbTitle=null,e.lbTime=null,e.lbBet=null,e.lbWin=null,e.lbMNUser=null,e.lbCuocCoSo=null,e.isFreeSpin=!1,e}return i(e,t),e.prototype.show=function(t){var e=this;this.node.active=!0,this.node.x=721.812,this.node.stopAllActions(),this.node.opacity=0,this.node.runAction(cc.spawn(cc.moveTo(.3,0,0),cc.fadeIn(.3).easing(cc.easeElasticIn(3))));var n=t.get("date"),o=t.get("infolog"),i=JSON.parse(o);cc.log(o),this.isFreeSpin=i.numFreeSpin>0,0==i.agBet?this.lbTitle.string="Free spin":this.lbTitle.string="Spin normal",this.lbTime.string=s.Windown.formatDate(new Date(n),"dd/MM HH:mm:ss"),this.lbBet.string=s.Windown.formatNumber(20*i.agBet),this.lbWin.string=s.Windown.formatNumber(i.agWin),this.lbMNUser.string=s.Windown.formatNumber(i.agUser),this.lbCuocCoSo.string=s.Windown.formatNumber(i.agBet);for(var r=i.bonusSpin;this.parentItem.childrenCount>0;){var c=this.parentItem.children[0];c.removeFromParent(),c.destroy()}i.views.forEach(function(t,n){var o=e.parentItem.children[n];null==o&&((o=cc.instantiate(e.itemTemplate)).parent=e.parentItem,o.active=!0),o.active=!0;var s=o.getComponent(a.default);i.listItemWin[n]&&(i.listItemWin[n].lsIdItem=JSON.parse(i.listItemWin[n].lsIdItem),i.listItemWin[n].lsstack=JSON.parse(i.listItemWin[n].lsstack),i.listItemWin[n].lsAgWin=JSON.parse(i.listItemWin[n].lsAgWin)),s.init(t,i.listItemWin[n],r[n],i.agBet)});for(var l=i.views.length;l<this.parentItem.childrenCount;l++)this.parentItem.children[l].active=!1},e.prototype.onClickClose=function(){var t=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.3,721.812,0),cc.fadeOut(.3).easing(cc.easeElasticOut(3))),cc.callFunc(function(){t.node.active=!1})))},r([u(cc.Node)],e.prototype,"parentItem",void 0),r([u(cc.Node)],e.prototype,"itemTemplate",void 0),r([u(cc.Label)],e.prototype,"lbTitle",void 0),r([u(cc.Label)],e.prototype,"lbTime",void 0),r([u(cc.Label)],e.prototype,"lbBet",void 0),r([u(cc.Label)],e.prototype,"lbWin",void 0),r([u(cc.Label)],e.prototype,"lbMNUser",void 0),r([u(cc.Label)],e.prototype,"lbCuocCoSo",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":"Windown","./ItemResultDetailRungRam":"ItemResultDetailRungRam"}],DetailHistoryTruTien:[function(t,e,n){"use strict";cc._RF.push(e,"0c4903dZDxOZLSQYoLN6uR3","DetailHistoryTruTien");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.lbTitle=null,e.lbTime=null,e.lbBet=null,e.lbWin=null,e.lbMNUser=null,e.lbMultil=null,e.spAtlas=null,e.parentItemLine=null,e.colorOf=null,e.isFreeSpin=!1,e}return i(e,t),e.prototype.show=function(t){this.node.active=!0,this.node.x=721.812,this.node.stopAllActions(),this.node.opacity=0,this.node.runAction(cc.spawn(cc.moveTo(.3,0,0),cc.fadeIn(.3).easing(cc.easeElasticIn(3))));var e=t.get("date"),n=t.get("infolog"),o=JSON.parse(n);this.isFreeSpin=o.freeSpin;var i=JSON.parse(o.views);this.setResult(i),this.setLineAn(o.listLineWin,i),o.isTakeJP?this.lbTitle.string="N\u1ed5 H\u0169":o.freeSpin?this.lbTitle.string="Quay mi\u1ec5n ph\xed":this.lbTitle.string="Quay th\u01b0\u1eddng",this.lbTime.string=s.Windown.formatDate(new Date(e),"dd/MM HH:mm:ss"),this.lbBet.string=s.Windown.formatNumber(50*o.agBet),this.lbWin.string=s.Windown.formatNumber(o.agWin),this.lbMNUser.string=s.Windown.formatNumber(o.agUser),this.lbMultil.string="x"+o.rankNow},e.prototype.setResult=function(t){for(var e=this.parentItem.children,n=0;n<t.length;n++)for(var o=t[n],i=0;i<o.length;i++){var r=o[i];8==r&&this.isFreeSpin&&(r=9),e[n].children[i].getComponent(cc.Sprite).spriteFrame=s.Windown.TruTien.asset.listSFItem[r],e[n].children[i].color=this.colorOf}},e.prototype.setLineAn=function(t,e){for(var n=this.parentItem.children,o=this.parentItemLine,i=o.children,r=i[0],a=0,c=t.length;a<c;a++){var l=t[a],u=l.id,p=u;p<10&&(p="0"+p);for(var h=l.agWinLine,d=s.Windown.TruTien.getListActiveByIdLine(u,e),f=0;f<d.length;f++)n[f].children[d[f]].color=cc.Color.WHITE;var y=i[a];null==y&&((y=cc.instantiate(r)).parent=o),y.active=!0,y.children[0].getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(p.toString()),y.children[1].getComponent(cc.Label).string="W:"+s.Windown.formatMoney(h,1)}for(a=t.length;a<i.length;a++)i[a].active=!1},e.prototype.onClickClose=function(){var t=this;s.Windown.TruTien.audio.playClick(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.3,721.812,0),cc.fadeOut(.3).easing(cc.easeElasticOut(3))),cc.callFunc(function(){t.node.active=!1})))},r([l(cc.Node)],e.prototype,"parentItem",void 0),r([l(cc.Label)],e.prototype,"lbTitle",void 0),r([l(cc.Label)],e.prototype,"lbTime",void 0),r([l(cc.Label)],e.prototype,"lbBet",void 0),r([l(cc.Label)],e.prototype,"lbWin",void 0),r([l(cc.Label)],e.prototype,"lbMNUser",void 0),r([l(cc.Label)],e.prototype,"lbMultil",void 0),r([l(cc.SpriteAtlas)],e.prototype,"spAtlas",void 0),r([l(cc.Node)],e.prototype,"parentItemLine",void 0),r([l(cc.Color)],e.prototype,"colorOf",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],DevDatePicker:[function(t,e,n){"use strict";cc._RF.push(e,"f4aa14fLZtGh5Cvk5tL3JP/","DevDatePicker");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./DevItemDay"),a=t("./DropBoxView"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dropSelectMonth=null,e.lbSelectMonth=null,e.dropSelecYear=null,e.lbSelectYear=null,e.ndDays=null,e.pfbDay=null,e.date=null,e.year=null,e.month=null,e.day=null,e.pfgListDay=[],e.ickDateCallback=null,e.isBlockAfterDay=!0,e.isPicked=!1,e}return i(e,t),e.prototype.onLoad=function(){this.initData(),this.updateDate(!0)},e.prototype.onEnable=function(){this.isPicked=!1},e.prototype.initData=function(){var t=this;this.date=this.date?this.date:new Date,this.year=this.date.getFullYear(),this.month=this.date.getMonth(),this.day=this.date.getDate(),this.lbSelectMonth.string="Th\xe1ng "+(this.month+1),this.lbSelectYear.string=this.year,this.pfgListDay=[];for(var e=0;e<31;++e){var n=cc.instantiate(this.pfbDay);n.parent=this.ndDays,this.pfgListDay.push(n)}this.dropSelectMonth.init([1,2,3,4,5,6,7,8,9,10,11,12],function(t,e){t.getComponentInChildren(cc.Label).string="Th\xe1ng "+e,t.data=e-1},function(e){t.month=e.target.data,t.lbSelectMonth.string="Th\xe1ng "+(t.month+1),t.dropSelectMonth.node.active=!1,t.updateDate()},function(){t.dropSelectMonth.node.active=!t.dropSelectMonth.node.active},!0);var o=[this.year,this.year+1];this.dropSelecYear.init(o,function(t,e){t.getComponentInChildren(cc.Label).string=e,t.data=e},function(e){t.year=e.target.data,t.lbSelectYear.string=t.year,t.dropSelecYear.node.active=!1,t.updateDate()},function(){t.dropSelecYear.node.active=!t.dropSelecYear.node.active},!0)},e.prototype.setDate=function(t,e,n){this.date=new Date(t,e,n),this.year=this.date.getFullYear(),this.month=this.date.getMonth(),this.day=this.date.getDate(),this.updateDate()},e.prototype.updateDate=function(t){var e=this;void 0===t&&(t=!1);for(var n=new Date,o=new Date(this.year,this.month,0),i=o.getDate(),r=o.getDay(),a=0,c=0;c<this.pfgListDay.length;++c){var l=this.pfgListDay[c];if(c<i){l.active=!0;var u=r+c+1;l.x=.5*-(this.ndDays.width-72)+u%7*72,l.y=.5*(this.ndDays.height-l.height)-a*l.height,l.x==this.ndDays.width/2-36&&a++;var p=l.getComponent(s.default),h=function(t,n){e.day=n,e.isPicked=!0,e.updateDate()};this.isBlockAfterDay?this.year>n.getFullYear()||this.month>n.getMonth()||(this.month<n.getMonth()?h=null:c+1<n.getDate()&&(h=null)):this.year>n.getFullYear()?h=null:this.month>n.getMonth()?h=null:this.month<n.getMonth()||c+1>=n.getDate()&&(h=null),p.setDay(c,c+1,this.day==c+1&&this.month==n.getMonth()&&this.year==n.getFullYear(),h)}else l.active=!1}this.ickDateCallback&&!t&&this.isPicked&&this.ickDateCallback(this.year,this.month,this.day)},e.prototype.onClickLeft=function(){this.month>0?this.month-=1:(this.month=11,this.year-=1),this.date.setFullYear(this.year),this.date.setMonth(this.month),this.updateDate()},e.prototype.onClickRight=function(){this.month<11?this.month+=1:(this.month=0,this.year+=1),this.date.setFullYear(this.year),this.date.setMonth(this.month),this.updateDate()},e.prototype.setPickDateCallback=function(t){this.ickDateCallback=t},e.prototype.onClickClose=function(){this.ickDateCallback&&this.isPicked&&this.ickDateCallback(this.year,this.month,this.day),this.node.active=!1},r([u(a.default)],e.prototype,"dropSelectMonth",void 0),r([u(cc.Label)],e.prototype,"lbSelectMonth",void 0),r([u(a.default)],e.prototype,"dropSelecYear",void 0),r([u(cc.Label)],e.prototype,"lbSelectYear",void 0),r([u(cc.Node)],e.prototype,"ndDays",void 0),r([u(cc.Prefab)],e.prototype,"pfbDay",void 0),r([u],e.prototype,"isBlockAfterDay",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"./DevItemDay":"DevItemDay","./DropBoxView":"DropBoxView"}],DevItemDay:[function(t,e,n){"use strict";cc._RF.push(e,"87408OjACNI3qVQRpMsquIp","DevItemDay");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbDay=null,e.spSel=null,e.index=null,e.day=null,e.ClickItemCallback=null,e}return i(e,t),e.prototype.setDay=function(t,e,n,o){this.index=t,this.day=e,this.ClickItemCallback=o,this.lbDay.string=e,this.spSel.enabled=n,this.node.color=null==o?cc.Color.GRAY:cc.Color.WHITE,this.lbDay.node.color=this.node.color},e.prototype.onClickItem=function(){this.ClickItemCallback&&!this.spSel.enabled&&this.ClickItemCallback(this.index,this.day)},r([c(cc.Label)],e.prototype,"lbDay",void 0),r([c(cc.Sprite)],e.prototype,"spSel",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],Dialog:[function(t,e,n){"use strict";cc._RF.push(e,"56258jF0npOIIwTyzr0Qs3w","Dialog");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/PlayerPP"),a=t("../../InfoERR"),c=t("../../Windown"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.container=null,e.btnBuy=null,e.btnXacNhan=null,e.lbMesage=null,e.lbRichTextMesage=null,e}return i(e,t),e.prototype.checkAndShowLog=function(t,e){if(void 0===e&&(e=!0),c.Windown.UIManager.hideLoading(),t.containsKey(s.PlayerPP.ERR_MESSAGE))throw this.showLog(t.getUtfString(s.PlayerPP.ERR_MESSAGE)),new a.InfoErr("Loi");e&&t.containsKey(s.PlayerPP.MESSAGE)&&this.showLog(t.getUtfString(s.PlayerPP.MESSAGE))},e.prototype.showLog=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1),this.node.stopAllActions(),this.node.scale=1,this.node.opacity=255,this.node.active=!0,this.btnBuy.active=!1,cc.find("Container/label",this.node).getComponent(cc.Label).string=t,this.lbRichTextMesage.node.active=n,this.lbMesage.node.active=!n,n?this.lbRichTextMesage.string=t:this.lbMesage.string=t,null!=e&&(this.fun=e,this.btnBuy.active=!0)},e.prototype.showDialog=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!1),this.node.stopAllActions(),this.node.opacity=255,this.node.active=!0,this.btnBuy.active=!1,cc.find("Container/label",this.node).getComponent(cc.Label).string=t,this.lbRichTextMesage.node.active=!1,this.lbMesage.node.active=!0,this.lbMesage.string=t,null!=e?(this.fun=e,this.btnBuy.active=n):this.btnBuy.active=!1},e.prototype.onClickClose=function(){},e.prototype.onClickDongY=function(){null!=this.fun&&this.fun(),this.onClickHuy()},e.prototype.onClickHuy=function(){var t=this;this.fun=null,c.Windown.actionEffectClosePopup(this.node,function(){t.node.active=!1})},r([p(cc.Node)],e.prototype,"container",void 0),r([p(cc.Node)],e.prototype,"btnBuy",void 0),r([p(cc.Node)],e.prototype,"btnXacNhan",void 0),r([p(cc.Label)],e.prototype,"lbMesage",void 0),r([p(cc.RichText)],e.prototype,"lbRichTextMesage",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../DefineTs/PlayerPP":"PlayerPP","../../InfoERR":"InfoERR","../../Windown":"Windown"}],DieuThuyenView:[function(t,e,n){"use strict";cc._RF.push(e,"4d531ADUAlKnJwp03UHWXVZ","DieuThuyenView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/EVENT_MANAGER"),l=t("../../../Scritps/DefineTs/PlayerPP"),u=t("../../../Scritps/DefineTs/REQUEST_CODE"),p=t("../../../Scritps/DefineTs/StateReelSlot"),h=t("../../../Scritps/DefineTs/TextDefine"),d=t("../../../Scritps/Game/GAME_TYPE"),f=t("../../../Scritps/Network/ConectManager"),y=t("../../../Scritps/Obs/LbMoneyChange"),g=t("../../../Scritps/Util"),m=t("../../../Scritps/Windown"),v=t("./AssetDieuThuyen"),S=t("./AudioDieuThuyen"),b=t("./EffectDieuThuyen"),w=t("./InfoBarController"),_=t("./ItemReel/ItemSlotDieuThuyen"),C=t("./LichSuDieuThuyen"),T=t("./SetingSpinDieuThuyen"),I=t("./StateSpin/SpinNormal"),W=cc._decorator,M=W.ccclass,E=W.property,R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bkgSprite=null,e.asset=null,e.parentItem=null,e.parentLine=null,e.lb_Mn_Per_Line=null,e.effect=null,e.nodeBtnPlay=null,e.nodeBtnSeting=null,e.bangThuong=null,e.cachChoi=null,e.labelChipReviceInBox=null,e.lb_totalBet=null,e.lb_FSLeft=null,e.lb_CountAuto=null,e.audio=null,e.btnSpin=null,e.nodeFireLuBo=null,e.infoBar=null,e.parentMutil=null,e.toggleMusic=null,e.parentItemBet=null,e.setingSpin=null,e.listNodeDeactive=[],e.popupLichSu=null,e.currentMutil=1,e.stateSpin=null,e.listColum=[],e.listConfigBet=[],e.listResult=[],e.listResult2=[],e.listIdLineAn=[],e.dataFinish=null,e.sfs=null,e.roomSFS=null,e.sfsObjTest=null,e.gameType=null,e.stateReel=0,e.totalLineBet=30,e.curRoomBet=50,e.funEnd=null,e.isShowBtnPlay=!0,e.listConfigLine=[[1,1,1,1,1],[0,0,0,0,0],[2,2,2,2,2],[0,1,2,1,0],[2,1,0,1,2],[0,0,1,0,0],[2,2,1,2,2],[1,2,2,2,1],[1,0,0,0,1],[0,1,1,1,0],[2,1,1,1,2],[1,1,0,1,1],[1,1,2,1,1],[0,2,2,2,0],[2,0,0,0,2],[1,0,1,0,1],[1,2,1,2,1],[0,2,0,2,0],[2,0,2,0,2],[0,1,0,1,0],[2,1,2,1,2],[0,2,1,2,0],[2,0,1,0,2],[1,0,2,0,1],[1,2,0,2,1],[0,0,2,0,0],[2,2,0,2,2],[0,0,0,0,1],[2,2,2,2,1],[1,1,1,1,0]],e}return i(e,t),e.prototype.onLoad=function(){m.Windown.DieuThuyen=this,this.initItem(),cc.log("start dieu thuyen"),this.gameType=d.default.DieuThuyen,this.sfs=f.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(c.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),this.setupView(),this.stateReel=p.default.WAITING,this.stateSpin=new I.default,this.sendJoinRoom()},e.prototype.start=function(){m.Windown.AudioManager.isActiveSound&&m.Windown.AudioManager.isActiveMusic?(this.toggleMusic.isChecked=!0,this.toggleMusic.checkMark.node.active=!0,this.toggleMusic.node.children[0].active=!1):(this.toggleMusic.isChecked=!1,this.toggleMusic.checkMark.node.active=!1,this.toggleMusic.node.children[0].active=!0)},e.prototype.sendJoinRoom=function(){cc.log("send creat room");try{var t=f.ConectManager.getIns().getValibleRoomName(),e=new SFS2X.RoomSettings(t),n=new SFS2X.RoomExtension("DieuThuyenExtension","ext.Room.SlotDieuThuyen.SlotGameView");e.extension=n,e.isGame=!0,e.maxUsers=1,e.groupId="DieuThuyen",this.sfs.send(new SFS2X.CreateRoomRequest(e,!0))}catch(o){cc.error(o),this.onDisconnect()}},e.prototype.onDisconnect=function(){cc.log("disconnect"),m.Windown.UIManager.hideLoading(),m.Windown.UIManager.hideLoadingData(),cc.director.loadScene("main")},e.prototype.userExitRoom=function(t){cc.log("user exit room"),"DieuThuyen"==t.room.groupId&&t.user.isItMe&&cc.director.loadScene("main")},e.prototype.onCreateError=function(){cc.log("creat errr"),m.Windown.UIManager.hideLoading(),cc.director.loadScene("main"),m.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM)},e.prototype.onJoinRoom=function(t){var e=t.room;if("DieuThuyen"==e.groupId){this.roomSFS=e,m.Windown.UIManager.hideLoadingData();var n=e.getVariable("cf").value;cc.log(n);var o=[],i=JSON.parse(n);for(var r in i){var s=Object.create(null);s.bet=parseInt(r),s.perJp=i[r].percentPot/100,o.push(s)}o.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=o,this.infoBar.showRdContent();for(var a=this.parentItemBet.children[0],c=0,l=o.length;c<l;c++){var u=this.parentItemBet.children[c];null==u&&((u=cc.instantiate(a)).parent=this.parentItemBet),u.active=!0,u.getComponent(cc.Button).clickEvents[0].customEventData=c.toString(),u.getComponentInChildren(cc.Label).string=m.Windown.formatNumber(o[c].bet*this.totalLineBet)}this.onClickChooseBet(null,0),cc.log(JSON.stringify(o))}},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),m.Windown.UIManager.hideLoading(),m.Windown.UIManager.hideLoadingData(),m.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM),cc.director.loadScene("main")},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(e){case u.REQUEST_CODE.SpinDieuThuyen:cc.log(m.Windown.SFSObjToJson(n)),this.handleFinish(n);break;case u.REQUEST_CODE.HistoryDieuThuyen:this.popupLichSu.responseServer(n)}},e.prototype.handleFinish=function(t){var e=this;if(t.containsKey(l.PlayerPP.ERR_MESSAGE))return this.stateSpin.onEnd(),m.Windown.Dialog.showLog(t.get(l.PlayerPP.ERR_MESSAGE)),void this.activeAllBtn();if(!(t.containsKey("agUser")&&t.containsKey("agBet")&&t.containsKey("views")&&t.containsKey("views2")&&t.containsKey("agWin")))return this.stateSpin.onEnd(),m.Windown.Dialog.showLog(h.TextDefine.Error),void this.activeAllBtn();this.dataFinish=t,m.Windown.MoneyUser.pushDelayMoney(this.gameType,this.dataFinish.get("agUser"),this.dataFinish.getLong("agWin")),this.truTienBet(this.dataFinish.get("agBet")*this.totalLineBet,this.dataFinish.get("agUser")),this.listResult=JSON.parse(t.get("views")),this.listResult2=JSON.parse(t.get("views2")),this.setResult(),this.getAllLineItem();var n=this.stateSpin.isMaxSpeed?2.5:1;this.scheduleOnce(function(){e.stateReel=p.default.CAN_STOP;var t=e.stateSpin.isMaxSpeed?.2:.5;e.scheduleOnce(e.funEnd=function(){e.stateSpin.onEnd()},t)},.4/n)},e.prototype.onDestroy=function(){m.Windown.DieuThuyen=null,this.dataFinish&&(m.Windown.MoneyUser.removeDelay(this.gameType),this.dataFinish=null),m.Windown.MoneyUser.endGameMOney(this.gameType),cc.systemEvent.removeAll(this),this.roomSFS=null,this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse)},e.prototype.setupView=function(){var t=cc.find("Game",this.node);if(cc.sys.isMobile)e=1280/720;else{var e=cc.view.getDesignResolutionSize().height/1280;t.setScale(e,e,e),this.bkgSprite.setContentSize(cc.winSize),m.Windown.UIManager.changeRotation(!0)}},e.prototype.initItem=function(){for(var t=this.parentItem.children[0],e=0;e<5;e++){var n=this.parentItem.children[e];null!=n&&"fire"!=n.name||((n=cc.instantiate(t)).parent=this.parentItem);var o=n.getComponent(_.default);this.listColum.push(o),o.index=e,o.randomFirtGame(),o.node.x=o.node.width*e+o.node.width/2+2*e+7,o.node.y=0}this.nodeFireLuBo.parent=this.parentItem,this.nodeFireLuBo.setPosition(293.488,-309.26)},e.prototype.setResult=function(){var t=this,e=0;this.listResult.forEach(function(n){t.listColum[e].setResult(n),e++})},e.prototype.getBo5=function(){for(var t=!1,e=0,n=this.listIdLineAn;e<n.length;e++)if(n[e].listItem.length>4){t=!0;break}return t},e.prototype.getLitsChangLuBo=function(){for(var t=[[-1,-1,-1],[-1,-1,-1],[-1,-1,-1],[-1,-1,-1],[-1,-1,-1]],e=JSON.parse(this.dataFinish.get("views2")),n=0;n<e.length;n++)for(var o=0;o<e[n].length;o++)0==n&&1==o||e[n][o]!=this.listResult[n][o]&&(t[n][o]=o);return t},e.prototype.getAllLineItem=function(){this.listIdLineAn=[];var t=this.dataFinish.getSFSArray("listLineWin");if(!(t.size()<1)){for(var e=0,n=t.size();e<n;e++){var o=t.getSFSObject(e),i=o.get("id"),r=o.get("agWinLine"),s=Object.create(null);s.id=i,s.money=r,s.listItem=JSON.parse(o.get("lineIndex")),this.listIdLineAn.push(s)}cc.log(JSON.stringify(this.listIdLineAn))}},e.prototype.getListActiveByIdLine=function(t,e){for(var n=[],o=this.getIdItemByIdLine(t,e),i=this.listConfigLine[t-1].slice(),r=0;r<5;r++){var s=e[r][i[r]];if(9!=s&&s!=o)break;n.push(i[r])}return n},e.prototype.getIdItemByIdLine=function(t,e){for(var n=this.listConfigLine[t-1].slice(),o=0,i=n.length;o<i;o++){var r=e[o][n[o]];if(9!=r)return r}return cc.error("loi get id Line"),-1},e.prototype.getListActiveScaster=function(){for(var t=[],e=this.listResult,n=0,o=0;o<e.length;o++)n>=2?t.push(!0):t.push(!1),e[o].includes(10)&&n++;return t},e.prototype.showEffectMoneyPerLine=function(t){this.lb_Mn_Per_Line.string=m.Windown.formatNumber(t),this.lb_Mn_Per_Line.node.active=!0,this.lb_Mn_Per_Line.node.stopAllActions(),this.lb_Mn_Per_Line.node.opacity=255,this.lb_Mn_Per_Line.node.runAction(cc.fadeOut(1.4).easing(cc.easeSineIn()))},e.prototype.setMutilMoney=function(){this.currentMutil=this.dataFinish.get("freeBonus")},e.prototype.getMutilMoney=function(){return this.currentMutil},e.prototype.showMoneyAllWin=function(t){this.labelChipReviceInBox.setMoney(t),m.Windown.MoneyUser.removeDelay(this.gameType)},e.prototype.makeDelay=function(t){var e=this;return new Promise(function(n){e.scheduleOnce(n,t)})},e.prototype.onClickBtnSpin=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),this.stateReel!=p.default.WAITING?[3,2]:(this.stateReel=p.default.RUN,this.setStateEffBtnSpin(),this.offAllBtn(),[4,this.stateSpin.onStart()]);case 1:return e.sent(),cc.log("chay xuogn duoi nay"),this.sendClickSpin(),[3,3];case 2:this.stateReel==p.default.CAN_STOP?(this.unschedule(this.funEnd),this.stateReel=p.default.STOP,this.stateSpin.onForceEnd()):this.stateReel==p.default.STOP||this.stateReel==p.default.SHOW_EFFECT&&(this.audio.playClick(),this.stateSpin.resetForNextNextSpin(),this.onClickBtnSpin()),e.label=3;case 3:return[3,5];case 4:return t=e.sent(),g.Util.ThrowErrProsime(t),[3,5];case 5:return[2]}})})},e.prototype.sendClickSpin=function(){if(null!=this.sfsObjTest)return f.ConectManager.getIns().sendRequest("testSpin",this.sfsObjTest,this.roomSFS),void(this.sfsObjTest=null);var t=f.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),f.ConectManager.getIns().sendRequest(u.REQUEST_CODE.SpinDieuThuyen,t,this.roomSFS)},e.prototype.setStateEffBtnSpin=function(){var t=this.btnSpin.children[2].getComponent(cc.Animation),e=this.btnSpin.children[3];if(this.stateReel!=p.default.STOP){var n=cc.Material.getBuiltinMaterial("2d-sprite");e.getComponent(cc.Sprite).setMaterial(0,n)}if(this.stateReel==p.default.WAITING||this.stateReel==p.default.SHOW_EFFECT)e.children[0].active=!1,e.runAction(cc.repeatForever(cc.rotateBy(3,-360)));else if(this.stateReel==p.default.RUN)this.audio.playEffect(this.audio.spin_click),t.play("BtnSpinTab"),e.stopAllActions(),e.runAction(cc.repeatForever(cc.rotateBy(.3,-360))),e.children[0].active=!0;else if(this.stateReel==p.default.STOP){e.stopAllActions(),e.children[0].active=!1;var o=cc.Material.getBuiltinMaterial("2d-gray-sprite");e.getComponent(cc.Sprite).setMaterial(0,o)}},e.prototype.offAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!1,t.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")})},e.prototype.activeAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!0,t.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#FFA300")})},e.prototype.activeLbFree=function(){this.lb_FSLeft.node.parent.active=!0},e.prototype.offLbFree=function(){this.lb_FSLeft.node.parent.active=!1},e.prototype.activeNodeMutil=function(){var t=this.getMutilMoney();1!=t&&(cc.log("mutil la: "+t),this.parentMutil.active=!0,this.parentMutil.children.forEach(function(t){t.active=!1}),2==t?this.parentMutil.children[0].active=!0:this.parentMutil.children[1].active=!0)},e.prototype.offNodeMutil=function(){this.parentMutil.active=!1},e.prototype.getNodeActionMutil=function(){var t=this.getMutilMoney();return 2==t?this.parentMutil.children[0]:4==t?this.parentMutil.children[1]:void 0},e.prototype.setLbFreeSpinLeft=function(t){var e=this.lb_FSLeft.node.parent;this.lb_FSLeft.string=t,t<1?(cc.find("last_spin",e).active=!0,cc.find("remaining_spin",e).active=!1,this.lb_FSLeft.node.active=!1):(cc.find("last_spin",e).active=!1,cc.find("remaining_spin",e).active=!0,this.lb_FSLeft.node.active=!0)},e.prototype.setCountAuto=function(t){this.lb_CountAuto.node.parent.active=!(t<1),this.lb_CountAuto.string=t.toString()},e.prototype.onClickResetCountAuto=function(){this.stateSpin.countAutoSpin=0,this.lb_CountAuto.node.parent.active=!1},e.prototype.onClickSeting=function(){if(this.audio.playClick(),cc.log("click onClickSeting"),this.isShowBtnPlay=!this.isShowBtnPlay,this.isShowBtnPlay)t=cc.v2(0,-732.036),this.nodeBtnPlay.runAction(cc.fadeIn(.25)),this.nodeBtnSeting.runAction(cc.spawn(cc.fadeOut(.2),cc.moveTo(.2,t)));else{this.nodeBtnPlay.stopAllActions(),this.nodeBtnSeting.stopAllActions();var t=cc.v2(0,-525.727);this.nodeBtnPlay.runAction(cc.fadeOut(.2)),this.nodeBtnSeting.runAction(cc.spawn(cc.fadeIn(.25),cc.moveTo(.2,t)))}},e.prototype.resetForNewGame=function(){this.stateReel=p.default.WAITING,this.setStateEffBtnSpin(),this.parentLine.children.forEach(function(t){return t.active=!1}),this.labelChipReviceInBox.setMoney(this.dataFinish.getLong("agWin"))},e.prototype.actionHideBtnSpin=function(){var t=this;this.btnSpin.stopAllActions(),this.btnSpin.runAction(cc.sequence(cc.spawn(cc.fadeOut(.32),cc.moveTo(.32,cc.v2(0,-712))),cc.callFunc(function(){t.btnSpin.active=!1})))},e.prototype.actionShowBtnSpin=function(){this.btnSpin.active=!0,this.btnSpin.runAction(cc.spawn(cc.fadeIn(.32),cc.moveTo(.32,cc.v2(0,-533.092))))},e.prototype.showContentTip=function(){},e.prototype.offAllLineWin=function(){this.lb_Mn_Per_Line.node.active=!1,this.parentLine.children.forEach(function(t){return t.active=!1})},e.prototype.onClickOpenChooseBet=function(){this.audio.playClick();var t=this.parentItemBet.parent.parent.parent;t.active?(t.stopAllActions(),t.runAction(cc.sequence(cc.scaleTo(.3,1,0).easing(cc.easeBackIn()),cc.callFunc(function(){t.active=!1})))):(t.active=!0,t.stopAllActions(),t.runAction(cc.scaleTo(.3,1,1).easing(cc.easeBackOut())))},e.prototype.onClickOpenChooseTypeSpin=function(){this.audio.playClick(),this.setingSpin.show()},e.prototype.onClickChooseBet=function(t,e){if(this.audio.playClick(),this.listConfigBet.length<1&&m.Windown.Dialog.showLog(h.TextDefine.Error),this.stateSpin.lastFreeSpinLeft>0)m.Windown.Dialog.showLog(h.TextDefine.ERR_CHANGE_BET_FS);else{var n=JSON.parse(e);this.curRoomBet=this.listConfigBet[n].bet,this.lb_totalBet.string=m.Windown.formatNumber(this.totalLineBet*this.curRoomBet),"string"==typeof e&&this.onClickOpenChooseBet()}},e.prototype.onClickMusic=function(){var t=this.toggleMusic.isChecked;this.toggleMusic.node.children[0].active=!t,m.Windown.AudioManager?(m.Windown.AudioManager.isActiveSound=t,m.Windown.AudioManager.isActiveMusic=t):t?(m.Windown.setLocalStorage("sound","on"),m.Windown.setLocalStorage("music","on")):(m.Windown.setLocalStorage("sound","off"),m.Windown.setLocalStorage("music","off"))},e.prototype.onClickBackToLobby=function(){this.roomSFS?f.ConectManager.getIns().sendLeaveRoom(this.roomSFS):cc.director.loadScene("main")},e.prototype.onClickCachChoi=function(){this.cachChoi.active=!0,this.cachChoi.y=-1280,this.cachChoi.stopAllActions(),this.cachChoi.runAction(cc.moveTo(.3,0,0))},e.prototype.onCloseCachChoi=function(){var t=this;this.cachChoi.stopAllActions(),this.cachChoi.runAction(cc.sequence(cc.moveTo(.3,0,-1280),cc.callFunc(function(){t.cachChoi.active=!1})))},e.prototype.closeBangThuong=function(){var t=this;this.bangThuong.stopAllActions(),this.bangThuong.runAction(cc.sequence(cc.moveTo(.3,0,-1280),cc.callFunc(function(){t.bangThuong.active=!1})))},e.prototype.onClickBangThuong=function(){this.bangThuong.active=!0,this.bangThuong.y=-1280,this.bangThuong.stopAllActions(),this.bangThuong.runAction(cc.moveTo(.3,0,0))},e.prototype.onClickLichSu=function(){this.popupLichSu.show()},e.prototype.onClickTest=function(t,e){return s(this,void 0,void 0,function(){var t;return a(this,function(){return(t=f.ConectManager.getIns().getSFSObj()).putInt("bet",this.curRoomBet),"2 scater"==e?t.putUtfString("arr","[[10,8,2],[10,8,0],[3,8,0],[2,8,0],[1,8,5]]"):"3 scater"==e?t.putUtfString("arr","[[0,8,2],[10,8,0],[10,8,0],[2,8,0],[10,8,5]]"):"4 scater"==e?t.putUtfString("arr","[[10,8,2],[10,8,0],[10,8,0],[10,8,0],[1,8,5]]"):"5 scater"==e&&t.putUtfString("arr","[[10,8,2],[10,8,0],[10,8,0],[10,8,0],[10,8,5]]"),this.sfsObjTest=t,this.onClickBtnSpin(),[2]})})},e.prototype.truTienBet=function(t,e){0!=t&&m.Windown.MoneyUser.subMoney(t,e)},e.prototype.playerEffect1=function(t,e,n){var o=t.parent.convertToWorldSpaceAR(t.getPosition()),i=e.convertToNodeSpaceAR(o),r=cc.instantiate(t);r.parent=e,r.opacity=100,r.setPosition(i),n&&(r.x+=n.x,r.y+=n.y),r.runAction(cc.sequence(cc.spawn(cc.scaleBy(.17,1.6*r.scale),cc.fadeOut(.17)),cc.callFunc(function(){r.destroy()})))},e.prototype.playerEffect2=function(t,e){var n=t.scale;t.stopAllActions(),t.runAction(cc.sequence(cc.scaleTo(.1,.6*n),cc.callFunc(function(){var n=t.parent.convertToWorldSpaceAR(t.getPosition()),o=e.convertToNodeSpaceAR(n),i=cc.instantiate(t);i.setPosition(o),i.parent=e,i.opacity=120,i.runAction(cc.sequence(cc.spawn(cc.scaleTo(.2,1.3*i.scale),cc.fadeOut(.2).easing(cc.easeIn(3))),cc.callFunc(function(){i.destroy()})))}),cc.scaleTo(.05,n)))},r([E(cc.Node)],e.prototype,"bkgSprite",void 0),r([E(v.default)],e.prototype,"asset",void 0),r([E(cc.Node)],e.prototype,"parentItem",void 0),r([E(cc.Node)],e.prototype,"parentLine",void 0),r([E(cc.Label)],e.prototype,"lb_Mn_Per_Line",void 0),r([E(b.default)],e.prototype,"effect",void 0),r([E(cc.Node)],e.prototype,"nodeBtnPlay",void 0),r([E(cc.Node)],e.prototype,"nodeBtnSeting",void 0),r([E(cc.Node)],e.prototype,"bangThuong",void 0),r([E(cc.Node)],e.prototype,"cachChoi",void 0),r([E(y.default)],e.prototype,"labelChipReviceInBox",void 0),r([E(cc.Label)],e.prototype,"lb_totalBet",void 0),r([E(cc.Label)],e.prototype,"lb_FSLeft",void 0),r([E(cc.Label)],e.prototype,"lb_CountAuto",void 0),r([E(S.default)],e.prototype,"audio",void 0),r([E(cc.Node)],e.prototype,"btnSpin",void 0),r([E(cc.Node)],e.prototype,"nodeFireLuBo",void 0),r([E(w.default)],e.prototype,"infoBar",void 0),r([E(cc.Node)],e.prototype,"parentMutil",void 0),r([E(cc.Toggle)],e.prototype,"toggleMusic",void 0),r([E(cc.Node)],e.prototype,"parentItemBet",void 0),r([E(T.default)],e.prototype,"setingSpin",void 0),r([E([cc.Button])],e.prototype,"listNodeDeactive",void 0),r([E(C.default)],e.prototype,"popupLichSu",void 0),r([M],e)}(cc.Component);n.default=R,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../../Scritps/DefineTs/PlayerPP":"PlayerPP","../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./AssetDieuThuyen":"AssetDieuThuyen","./AudioDieuThuyen":"AudioDieuThuyen","./EffectDieuThuyen":"EffectDieuThuyen","./InfoBarController":"InfoBarController","./ItemReel/ItemSlotDieuThuyen":"ItemSlotDieuThuyen","./LichSuDieuThuyen":"LichSuDieuThuyen","./SetingSpinDieuThuyen":"SetingSpinDieuThuyen","./StateSpin/SpinNormal":"SpinNormal"}],DinhBa:[function(t,e,n){"use strict";cc._RF.push(e,"d10bbKm9yNN14n8R5GB9e2+","DinhBa");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/Network/ConectManager"),l=t("../../../../Scritps/Windown"),u=t("../DeadBevhavior/PanelPoint"),p=t("../Network/CODE_EVT"),h=t("../Player/TypeItemDragBD"),d=cc._decorator,f=d.ccclass,y=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hold=null,e.che=null,e.spineVuNo=null,e.dinhBa=null,e.panelPoint=null,e.listPos=[cc.v2(326.231,-160),cc.v2(-326.231,160),cc.v2(-326.231,-160),cc.v2(326.231,160),cc.v2(0,-100)],e.indexNo=1,e.idItemDrag=-1,e.player=null,e}return i(e,t),e.prototype.init=function(t,e,n){return s(this,void 0,void 0,function(){var o,i=this;return a(this,function(r){switch(r.label){case 0:return this.idItemDrag=e,this.player=n,this.panelPoint.node.active=!0,this.panelPoint.init(this.player,this.idItemDrag,h.default.DINH_BA),l.Windown.FishBongDem.getSound().playEffect(l.Windown.FishBongDem.getSound().WindShort,1,!0),[4,this.runActionDinhBa(t)];case 1:return r.sent(),(o=c.ConectManager.getIns().getSFSObj()).putInt("Type",h.default.DINH_BA),o.putLong("Id",e),l.Windown.FishBongDem.sendRequest(p.default.UsingItemDrag,o),this.scheduleOnce(function(){l.Windown.FishBongDem.getSound().playEffect(l.Windown.FishBongDem.getSound().DromDinhBa)},.2),this.dinhBa.runAction(cc.sequence(cc.moveTo(.3,0,220),cc.callFunc(function(){if(l.Windown.FishBongDem.getSound().playEffectNoStop(l.Windown.FishBongDem.getSound().fishBoom),i.hold.active=!0,i.hold.parent=l.Windown.FishBongDem.fishBDView.bkgSprite.node,i.hold.opacity=0,i.che.active=!0,i.hold.runAction(cc.fadeIn(.1)),l.Windown.FishBongDem.fishBDView.shakeScence(.5,50),i.spineVuNo.node.active=!0,i.spineVuNo.setAnimation(0,"animation",!1),i.player.isMe){var t=c.ConectManager.getIns().getSFSArray();l.Windown.FishBongDem.fishMng.forEachListFish(function(e){e.getColiderInScreen()&&t.addInt(e.fishId)});var e=c.ConectManager.getIns().getSFSObj();e.putInt("Type",h.default.DINH_BA),e.putLong("byFish",i.idItemDrag),e.putLong("Id",i.idItemDrag),e.putSFSArray("ListFishId",t),l.Windown.FishBongDem.sendRequest(p.default.FishSpecialColisionBD,e)}}),cc.delayTime(2),cc.callFunc(function(){i.node.runAction(cc.sequence(cc.fadeOut(1),cc.callFunc(function(){i.node.destroy()}))),i.hold.runAction(cc.sequence(cc.fadeOut(1),cc.callFunc(function(){i.hold.destroy()})))}))),[2]}})})},e.prototype.effectFishDead=function(){},e.prototype.runActionDinhBa=function(t){var e=this;return new Promise(function(n){e.dinhBa.scale=0,e.dinhBa.angle=-90,e.dinhBa.setPosition(t),e.dinhBa.runAction(cc.sequence(cc.spawn(cc.moveTo(.5,0,0),cc.rotateBy(2,-2160),cc.scaleTo(.7,1).easing(cc.easeSineOut())),cc.callFunc(function(){l.Windown.FishBongDem.getSound().stopEffect(l.Windown.FishBongDem.getSound().WindShort)}),cc.spawn(cc.scaleTo(0,1.5),cc.delayTime(.3),cc.moveTo(.2,0,1e3)),cc.delayTime(1),cc.callFunc(n)))})},r([y(cc.Node)],e.prototype,"hold",void 0),r([y(cc.Node)],e.prototype,"che",void 0),r([y(sp.Skeleton)],e.prototype,"spineVuNo",void 0),r([y(cc.Node)],e.prototype,"dinhBa",void 0),r([y(u.default)],e.prototype,"panelPoint",void 0),r([f],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Windown":"Windown","../DeadBevhavior/PanelPoint":"PanelPoint","../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD"}],DoiAva:[function(t,e,n){"use strict";cc._RF.push(e,"ba51fvrj5tBorC/gLfH5P+n","DoiAva");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/TextDefine"),a=t("../../Util"),c=t("../../Windown"),l=t("./ItemDoiAva"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemDoiAva=null,e.parentItem=null,e.itemAvaCustom=null,e.itemAvaFB=null,e.currentFile=null,e.currentBase64Crop="",e}return i(e,t),e.prototype.onLoad=function(){c.Windown.DoiAva=this},e.prototype.onDestroy=function(){c.Windown.DoiAva=null},e.prototype.start=function(){var t=this;c.Windown.actionEffectOpen(this.node,function(){t.itemAvaCustom&&(t.itemAvaCustom.node.active=!1),t.itemAvaFB&&(t.itemAvaFB.node.active=!1),(2==c.Windown.User.typeAvarta||c.Windown.SFSInfouser.get("base64Ava"))&&t.creatItemCustom(c.Windown.SFSInfouser.get("base64Ava")),(1==c.Windown.User.typeAvarta||c.Windown.SFSInfouser.containsKey("userFbId"))&&t.creatItemFb();for(var e=0;e<17;e++){var n=cc.instantiate(t.itemDoiAva);t.parentItem.addChild(n),n.active=!0,n.getComponent(l.default).init(e)}})},e.prototype.responseChangeAva=function(t){c.Windown.Dialog.checkAndShowLog(t);var e=t.getInt("id"),n=t.getInt("type");c.Windown.User.avatrId=e,c.Windown.SFSInfouser.putInt("idava",e),c.Windown.SFSInfouser.putInt("typeava",n),c.Windown.SFSInfouser.putText("base64Ava",this.currentBase64Crop),c.Windown.User.typeAvarta=n,c.Windown.User.avatrId=e,this.parentItem.children.forEach(function(t){var e=t.getComponent(l.default);e&&e.updateTich()}),c.Windown.ThongTin.node.parent&&c.Windown.ThongTin.updateAva(c.Windown.SFSInfouser),c.Windown.MainView&&c.Windown.MainView.updateAvatar(c.Windown.SFSInfouser),c.Windown.UIManager.hideLoading()},e.prototype.onClickClose=function(){var t=this;c.Windown.actionEffectClose(this.node,function(){t.node.destroy()})},e.prototype.onClickAddAva=function(){cc.sys.isNative?a.Util.onGetImgInLibary():this.addAvaInWeb()},e.prototype.creatItemCustom=function(t,e){if(void 0===e&&(e=!1),null==this.itemAvaCustom){var n=cc.instantiate(this.itemDoiAva);this.parentItem.insertChild(n,1),n.active=!0,this.itemAvaCustom=n.getComponent(l.default)}this.itemAvaCustom.node.active=!0,this.itemAvaCustom.initWithCustom(t),e&&(this.itemAvaCustom.nodeTick.active=!1,this.itemAvaCustom.onClick())},e.prototype.creatItemFb=function(){var t=c.Windown.SFSInfouser.getUtfString("userFbId"),e=c.Windown.SFSInfouser.getUtfString("tokenfacebook");if(null==this.itemAvaFB){var n=cc.instantiate(this.itemDoiAva),o=this.parentItem.children[1];o&&2==o.getComponent(l.default).type?this.parentItem.insertChild(n,2):this.parentItem.insertChild(n,1),n.active=!0,this.itemAvaFB=n.getComponent(l.default)}this.itemAvaFB.node.active=!0,this.itemAvaFB.initFb(t,e)},e.prototype.addAvaInWeb=function(){var t=this,e=null;(e=document.getElementById("file-uploader")).addEventListener("change",function(e){var n=e.target.files[0];t.currentFile=n;var o=new FileReader;o.readAsDataURL(n),o.onload=function(){var t=o.result.replace("data:","").replace(/^.+,/,"");c.Windown.DoiAva.creatItemCustom(t),c.Windown.UIManager.showCropImg(t)}}),e.click()},e.prototype.cropImgInWeb=function(t){var e=JSON.parse(t),n=e.width,o=e.height,i=e.offsetX,r=e.offsetY,s=this.currentFile,a=URL.createObjectURL(s),l=new Image;l.src=a,l.onerror=function(){URL.revokeObjectURL(this.src),console.log("Cannot load image")},l.onload=function(){URL.revokeObjectURL(this.src);var t=document.createElement("canvas");t.width=n,t.height=o;var e=150/n;e>1&&(e=1),t.getContext("2d").drawImage(l,i,r,n,o,0,0,n,o),t.toBlob(function(e){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){var e=n.result.replace("data:","").replace(/^.+,/,"");c.Windown.DoiAva.reviecNewBase64ToAddCustom(e),t.remove()}},"image/jpeg",e)}},e.prototype.reviecNewBase64ToAddCustom=function(t){c.Windown.UIManager.hideLoading(),"null"!=t?(this.currentBase64Crop=t,c.Windown.DoiAva.creatItemCustom(this.currentBase64Crop,!0)):c.Windown.Dialog.showLog(s.TextDefine.ERR_CROP_IMG)},r([h(cc.Node)],e.prototype,"itemDoiAva",void 0),r([h(cc.Node)],e.prototype,"parentItem",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../DefineTs/TextDefine":"TextDefine","../../Util":"Util","../../Windown":"Windown","./ItemDoiAva":"ItemDoiAva"}],DoiBankJP:[function(t,e,n){"use strict";cc._RF.push(e,"e4c53JzeHBExoH6Ie67O4nM","DoiBankJP");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../DefineTs/REQUEST_CODE"),a=t("../../../DefineTs/TextDefine"),c=t("../../../InfoERR"),l=t("../../../Network/ConectManager"),u=t("../../../Windown"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbMenhGiaBank=null,e.lbCurrentBank=null,e.lbCurrentNameBank=null,e.lbNoteMenhGiaBank=null,e.lbNeedBankInfo=null,e.edbStkBank=null,e.edbTtkBank=null,e.btnAddBank=null,e.contentBank=null,e.scrItemBank=null,e.currentMenhGia=0,e.currentMenhGiaBank=0,e.lastMenhGiaBankNode=null,e.listBank=[],e}return i(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(s.REQUEST_CODE.GetListBankOut,this.responseListBank,this),this.listBank=[{code:"Yucho",name:"Yucho"},{code:"Sumitomo Mitsui",name:"Sumitomo Mitsui"},{code:"Rakuten",name:"Rakuten"},{code:"Mitsubishi UFJ",name:"Mitsubishi UFJ"},{code:"Sumishin SBI Netto",name:"Sumishin SBI Netto"},{code:"Risona",name:"Risona"},{code:"Aozora",name:"Aozora"},{code:"Ion",name:"Ion"},{code:"Fukuoka",name:"Fukuoka"},{code:"Shizuoka ",name:"Shizuoka"},{code:"Hachijuni ",name:"Hachijuni"},{code:"Tokyo Suta",name:"Tokyo Suta"},{code:"Yokohama ",name:"Yokohama"},{code:"Mizuho ",name:"Mizuho "},{code:"Seben",name:"Seben"},{code:"Jiemuo Aozora Netto",name:"Jiemuo Aozora Netto"},{code:"Nagano",name:"Nagano"},{code:"Nishi Nihon Shiti",name:"Nishi Nihon Shiti"},{code:"Japan Netto",name:"Japan Netto"},{code:"Miyazaki Taiyo",name:"Miyazaki Taiyo"},{code:"Miyazaki",name:"Miyazaki"},{code:"Joyo",name:"Joyo"},{code:"Shichi Ju Shichi",name:"Shichi Ju Shichi"}]},e.prototype.onEnable=function(){this.initMenhGia(),this.reset(),this.responseListBank(),this.edbTtkBank.enabled=this.edbTtkBank.enabled=!1},e.prototype.responseListBank=function(){for(var t=0,e=this.listBank.length;t<e;t++){var n=this.listBank[t],o=this.scrItemBank.content.children[t];cc.isValid(o)||((o=cc.instantiate(this.scrItemBank.content.children[0])).parent=this.scrItemBank.content),o.getComponentInChildren(cc.Label).string=n.code,o.nameBank=n.name}},e.prototype.reset=function(){this.edbStkBank.string="",this.edbTtkBank.string="",this.lbMenhGiaBank.string="0 WON",this.currentMenhGiaBank=0,this.lbCurrentNameBank.string="Ch\u1ecdn ng\xe2n h\xe0ng",this.lbNoteMenhGiaBank.active=!0,""!=u.Windown.User.bankHCode?(this.lbCurrentNameBank.string=u.Windown.User.bankHCode,this.lbCurrentNameBank.enableUnderline=!1,this.lbCurrentNameBank.enableItalic=!1,this.lbCurrentBank.string=u.Windown.User.bankHCode,this.edbStkBank.string=u.Windown.User.bankHNumber,this.edbTtkBank.string=u.Windown.User.bankHAcName,this.btnAddBank.interactable=!1,this.lbNeedBankInfo.string="Th\xf4ng Tin Ng\u01b0\u1eddi Nh\u1eadn",this.lbNeedBankInfo.node.color=cc.Color.WHITE,this.lbNeedBankInfo.fontSize=35,this.lbNeedBankInfo.lineHeight=40):(this.btnAddBank.interactable=!0,this.edbStkBank.string=this.edbTtkBank.string="",this.lbCurrentNameBank.string="Th\xeam th\xf4ng tin ngay",this.lbCurrentNameBank.enableUnderline=!0,this.lbCurrentNameBank.enableItalic=!0,this.lbNeedBankInfo.string="B\u1ea1n ch\u01b0a th\xeam th\xf4ng tin ng\xe2n h\xe0ng!\nVui l\xf2ng click n\xfat b\xean d\u01b0\u1edbi \u0111\u1ec3 b\u1ed5 sung.",this.lbNeedBankInfo.node.color=cc.Color.RED,this.lbNeedBankInfo.fontSize=20,this.lbNeedBankInfo.lineHeight=25),this.edbStkBank.enabled=!1,this.edbTtkBank.enabled=!1},e.prototype.initMenhGia=function(){var t=u.Windown.ShopView.ArrInfoTranfer;if(null!=t){this.offAllActiveBank();for(var e=[],n=0,o=t.size();n<o;n++)1==(a=t.getSFSObject(n)).get("status")&&1==a.getInt("type")&&10==a.getInt("nhamangtype")&&e.push(a);var i=this.contentBank,r=i.children,s=r[0];for(e.sort(function(t,e){return t.getInt("requireVnd")-e.getInt("requireVnd")}),n=0,o=e.length;n<o;n++){var a=e[n];cc.log("sfsObj: ",u.Windown.SFSObjToJson(a));var c=r[n];null==c&&((c=cc.instantiate(s)).parent=i),c.active=!0;var l=c.getComponentsInChildren(cc.Label);l[0].string=u.Windown.formatNumber(a.getInt("requireVnd"))+" WON",l[1].string=u.Windown.formatNumber(a.getInt("gold")),c.getComponent(cc.Button).clickEvents[0].customEventData=a.getInt("requireVnd").toString(),cc.Tween.stopAllByTarget(c),cc.tween(c).set({skewY:-15,scaleX:0,scaleY:1}).delay(.1*n).to(.2,{scale:1,skewX:0,skewY:0},{easing:cc.easing.cubicOut}).start()}for(n=e.length,o=r.length;n<o;n++)r[n].active=!1}},e.prototype.onClickDoiBank=function(){try{this.checkValidationDoiMomo(),this.sendDoiBank()}catch(t){u.Windown.Dialog.showLog(t.message.replace("lvd----",""))}},e.prototype.sendDoiBank=function(){var t=l.ConectManager.getIns().getSFSObj();t.putInt("cardAmount",this.currentMenhGia),t.putInt("cardType",10),t.putUtfString("stk",this.edbStkBank.string),t.putUtfString("ttk",this.edbTtkBank.string),t.putUtfString("bn",this.lbCurrentNameBank.string),l.ConectManager.getIns().sendRequestToCallback(s.REQUEST_CODE.CashOutCard,t,this.responseDoiBank.bind(this))},e.prototype.responseDoiBank=function(t){cc.log("responseDoiBank:",u.Windown.SFSObjToJson(t)),u.Windown.UIManager.hideLoading(),u.Windown.Dialog.checkAndShowLog(t,!0)},e.prototype.onClickChooseBank=function(){u.Windown.MainView.onClickThongTin(),u.Windown.ShopView.onClickClose()},e.prototype.onClickItemBank=function(t){cc.log(t);var e=t.target,n=e.getComponentInChildren(cc.Label).string;cc.log(n),this.onClickChooseBank(),this.lbCurrentNameBank.string=n,this.lbCurrentBank.string=e.nameBank},e.prototype.onClickItemMenhGia=function(t,e){this.offAllActiveBank(),t.target.getChildByName("active").active=!0;var n=Number(e);this.currentMenhGia=n,cc.Tween.stopAllByTarget(this.lbMenhGiaBank.node),this.lbMenhGiaBank.node.scale=2,cc.tween(this.lbMenhGiaBank.node).to(.2,{scale:1}).start(),this.lbMenhGiaBank.string=u.Windown.formatNumber(n)+" WON",this.lbNoteMenhGiaBank.active=!1},e.prototype.offAllActiveBank=function(){this.lastMenhGiaBankNode&&(cc.find("active",this.lastMenhGiaBankNode).active=!1),this.contentBank.children.forEach(function(t){cc.find("active",t).active=!1})},e.prototype.nodeMenhGiaActiveBank=function(t){cc.find("active",t).active=!0,this.lastMenhGiaBankNode=t},e.prototype.checkValidationDoiMomo=function(){if(0==this.currentMenhGia)throw new c.InfoErr(a.TextDefine.NullMenhGia);if(""==this.edbStkBank.string)throw new c.InfoErr(a.TextDefine.NullSdtBANK);if(""==this.edbTtkBank.string)throw new c.InfoErr(a.TextDefine.NullTtkBANK);if(""==this.lbCurrentNameBank.string)throw new c.InfoErr(a.TextDefine.NullBANK)},r([d(cc.Label)],e.prototype,"lbMenhGiaBank",void 0),r([d(cc.Label)],e.prototype,"lbCurrentBank",void 0),r([d(cc.Label)],e.prototype,"lbCurrentNameBank",void 0),r([d(cc.Node)],e.prototype,"lbNoteMenhGiaBank",void 0),r([d(cc.Label)],e.prototype,"lbNeedBankInfo",void 0),r([d(cc.EditBox)],e.prototype,"edbStkBank",void 0),r([d(cc.EditBox)],e.prototype,"edbTtkBank",void 0),r([d(cc.Button)],e.prototype,"btnAddBank",void 0),r([d(cc.Node)],e.prototype,"contentBank",void 0),r([d(cc.ScrollView)],e.prototype,"scrItemBank",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../DefineTs/TextDefine":"TextDefine","../../../InfoERR":"InfoERR","../../../Network/ConectManager":"ConectManager","../../../Windown":"Windown"}],DoiBank:[function(t,e,n){"use strict";cc._RF.push(e,"25157gwm6xCgZTHDyH9gG9J","DoiBank");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../DefineTs/REQUEST_CODE"),a=t("../../../DefineTs/TextDefine"),c=t("../../../InfoERR"),l=t("../../../Network/ConectManager"),u=t("../../../Windown"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbMenhGiaBank=null,e.lbCurrentBank=null,e.lbCurrentNameBank=null,e.lbNeedBankInfo=null,e.lbNoteMenhGiaBank=null,e.edbStkBank=null,e.edbTtkBank=null,e.contentBank=null,e.btnAddBank=null,e.scrItemBank=null,e.currentMenhGia=0,e.currentMenhGiaBank=0,e.lastMenhGiaBankNode=null,e}return i(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(s.REQUEST_CODE.GetListBankOut,this.responseListBank,this)},e.prototype.onEnable=function(){cc.log("enable bank ne"),this.initMenhGia(),this.reset(),l.ConectManager.getIns().sendRequest(s.REQUEST_CODE.GetListBankOut,null)},e.prototype.responseListBank=function(t){cc.log("responseListBank Out==",u.Windown.SFSObjToJson(t));for(var e=t.getSFSArray("listBank"),n=0,o=e.size();n<o;n++){var i=e.getSFSObject(n),r=this.scrItemBank.content.children[n];cc.isValid(r)||((r=cc.instantiate(this.scrItemBank.content.children[0])).parent=this.scrItemBank.content),r.getComponentInChildren(cc.Label).string=i.getUtfString("code"),r.nameBank=i.getUtfString("name")}},e.prototype.reset=function(){if(this.edbStkBank.string="",this.edbTtkBank.string="",this.lbMenhGiaBank.string="0 VN\u0110",this.currentMenhGiaBank=0,this.lbCurrentNameBank.string="Ch\u1ecdn ng\xe2n h\xe0ng",this.lbNoteMenhGiaBank.active=!0,""!=u.Windown.User.bankCode){this.lbCurrentNameBank.string=u.Windown.User.bankCode,this.lbCurrentNameBank.enableUnderline=!1,this.lbCurrentNameBank.enableItalic=!1;var t=u.Windown.listBankVN.find(function(t){return t.code==u.Windown.User.bankCode});cc.log("bank data==",t),this.lbCurrentBank.string=t.name,this.edbStkBank.string=u.Windown.User.bankNumber,this.edbTtkBank.string=u.Windown.User.bankAcName,this.edbStkBank.enabled=this.edbTtkBank.enabled=!1,this.btnAddBank.interactable=!1,this.lbNeedBankInfo.string="Th\xf4ng Tin Ng\u01b0\u1eddi Nh\u1eadn",this.lbNeedBankInfo.node.color=cc.Color.WHITE,this.lbNeedBankInfo.fontSize=30,this.lbNeedBankInfo.lineHeight=40}else this.btnAddBank.interactable=!0,this.edbStkBank.string=this.edbTtkBank.string="",this.lbCurrentNameBank.string="Th\xeam th\xf4ng tin ngay",this.lbCurrentNameBank.enableUnderline=!0,this.lbCurrentNameBank.enableItalic=!0,this.lbNeedBankInfo.string="B\u1ea1n ch\u01b0a th\xeam th\xf4ng tin ng\xe2n h\xe0ng!\nVui l\xf2ng click n\xfat b\xean d\u01b0\u1edbi \u0111\u1ec3 b\u1ed5 sung.",this.lbNeedBankInfo.node.color=cc.Color.RED,this.lbNeedBankInfo.fontSize=20,this.lbNeedBankInfo.lineHeight=25,this.edbStkBank.enabled=this.edbTtkBank.enabled=!0},e.prototype.initMenhGia=function(){var t=u.Windown.ShopView.ArrInfoTranfer;if(null!=t){this.offAllActiveBank();for(var e=[],n=0,o=t.size();n<o;n++)1==(a=t.getSFSObject(n)).get("status")&&1==a.getInt("type")&&6==a.getInt("nhamangtype")&&e.push(a);var i=this.contentBank,r=i.children,s=r[0];for(e.sort(function(t,e){return t.getInt("requireVnd")-e.getInt("requireVnd")}),n=0,o=e.length;n<o;n++){var a=e[n];cc.log("sfsObj: ",u.Windown.SFSObjToJson(a));var c=r[n];null==c&&((c=cc.instantiate(s)).parent=i),c.active=!0;var l=c.getComponentsInChildren(cc.Label);l[0].string=u.Windown.formatNumber(a.getInt("requireVnd"))+" VN\u0110",l[1].string=u.Windown.formatNumber(a.getInt("gold")),c.getComponent(cc.Button).clickEvents[0].customEventData=a.getInt("requireVnd").toString(),cc.Tween.stopAllByTarget(c),cc.tween(c).set({skewY:-15,scaleX:0,scaleY:1}).delay(.1*n).to(.2,{scale:1,skewX:0,skewY:0},{easing:cc.easing.cubicOut}).start()}for(n=e.length,o=r.length;n<o;n++)r[n].active=!1}},e.prototype.onClickDoiBank=function(){try{this.checkValidationDoiMomo(),this.sendDoiBank()}catch(t){u.Windown.Dialog.showLog(t.message.replace("lvd----",""))}},e.prototype.sendDoiBank=function(){var t=l.ConectManager.getIns().getSFSObj();t.putInt("cardAmount",this.currentMenhGia),t.putInt("cardType",6),t.putUtfString("stk",this.edbStkBank.string),t.putUtfString("ttk",this.edbTtkBank.string),t.putUtfString("bn",this.lbCurrentNameBank.string),l.ConectManager.getIns().sendRequestToCallback(s.REQUEST_CODE.CashOutCard,t,this.responseDoiBank.bind(this))},e.prototype.responseDoiBank=function(t){cc.log("responseDoiBank:",u.Windown.SFSObjToJson(t)),u.Windown.UIManager.hideLoading(),u.Windown.Dialog.checkAndShowLog(t,!0)},e.prototype.onClickChooseBank=function(){var t=this.scrItemBank.node;t.stopAllActions(),t.active?t.runAction(cc.sequence(cc.scaleTo(.3,1,0).easing(cc.easeBackIn()),cc.callFunc(function(){t.active=!1}))):(t.active=!0,t.runAction(cc.scaleTo(.3,1,1).easing(cc.easeBackOut())))},e.prototype.onClickItemBank=function(t){cc.log(t);var e=t.target,n=e.getComponentInChildren(cc.Label).string;cc.log(n),this.onClickChooseBank(),this.lbCurrentNameBank.string=n,this.lbCurrentBank.string=e.nameBank},e.prototype.onClickItemMenhGia=function(t,e){this.offAllActiveBank(),t.target.getChildByName("active").active=!0;var n=Number(e);this.currentMenhGia=n,cc.Tween.stopAllByTarget(this.lbMenhGiaBank.node),this.lbMenhGiaBank.node.scale=2,cc.tween(this.lbMenhGiaBank.node).to(.2,{scale:1}).start(),this.lbMenhGiaBank.string=u.Windown.formatNumber(n)+" VN\u0110",this.lbNoteMenhGiaBank.active=!1},e.prototype.offAllActiveBank=function(){this.lastMenhGiaBankNode&&(cc.find("active",this.lastMenhGiaBankNode).active=!1),this.contentBank.children.forEach(function(t){cc.find("active",t).active=!1})},e.prototype.nodeMenhGiaActiveBank=function(t){cc.find("active",t).active=!0,this.lastMenhGiaBankNode=t},e.prototype.checkValidationDoiMomo=function(){if(0==this.currentMenhGia)throw new c.InfoErr(a.TextDefine.NullMenhGia);if(""==this.edbStkBank.string)throw new c.InfoErr(a.TextDefine.NullSdtBANK);if(""==this.edbTtkBank.string)throw new c.InfoErr(a.TextDefine.NullTtkBANK);if(""==this.lbCurrentNameBank.string)throw new c.InfoErr(a.TextDefine.NullBANK)},r([d(cc.Label)],e.prototype,"lbMenhGiaBank",void 0),r([d(cc.Label)],e.prototype,"lbCurrentBank",void 0),r([d(cc.Label)],e.prototype,"lbCurrentNameBank",void 0),r([d(cc.Label)],e.prototype,"lbNeedBankInfo",void 0),r([d(cc.Node)],e.prototype,"lbNoteMenhGiaBank",void 0),r([d(cc.EditBox)],e.prototype,"edbStkBank",void 0),r([d(cc.EditBox)],e.prototype,"edbTtkBank",void 0),r([d(cc.Node)],e.prototype,"contentBank",void 0),r([d(cc.Button)],e.prototype,"btnAddBank",void 0),r([d(cc.ScrollView)],e.prototype,"scrItemBank",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../DefineTs/TextDefine":"TextDefine","../../../InfoERR":"InfoERR","../../../Network/ConectManager":"ConectManager","../../../Windown":"Windown"}],DoiTab:[function(t,e,n){"use strict";cc._RF.push(e,"d96be3SsUdN0IR/grRmthjl","DoiTab");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/REQUEST_CODE"),a=t("../../DefineTs/TextDefine"),c=t("../../InfoERR"),l=t("../../Network/ConectManager"),u=t("../../Windown"),p=t("./Doi/ChuyenTien"),h=t("./Doi/DoiBank"),d=t("./Doi/DoiBankJP"),f=cc._decorator,y=f.ccclass,g=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeCard=null,e.nodeVDT=null,e.edbStkMomo=null,e.edbTtkMomo=null,e.toggleVt=null,e.content=null,e.contentMomo=null,e.toggleCard=null,e.toggleVdt=null,e.toggleBank=null,e.toggleChuyenTien=null,e.toggleBankHan=null,e.lbMenhGiaMomo=null,e.lbNoteMenhGiaMomo=null,e.doiBank=null,e.doiBankJP=null,e.chuyenTien=null,e.currentMenhGia=0,e.currentTypeNhaMang=-1,e.currentMenhGiaMomo=0,e.lastMenhGiaCardNode=null,e.lastMenhGiaMomoNode=null,e}return i(e,t),e.prototype.onEnable=function(){},e.prototype.emitNewData=function(){this.nodeVDT.active&&(this.currentTypeNhaMang=4),this.initMenhGia()},e.prototype.checkTab=function(){cc.log("Check Tabbb Windown.User.userNhat:"+u.Windown.User.userNhat)},e.prototype.reset=function(){this.toggleVdt.check(),this.currentTypeNhaMang=1,this.edbStkMomo.string="",this.edbTtkMomo.string="",this.lbMenhGiaMomo.string="0 VN\u0110",this.currentMenhGia=0,this.checkTab()},e.prototype.resetChangeMomo=function(){this.edbStkMomo.string="",this.edbTtkMomo.string="",this.lbMenhGiaMomo.string="0 VN\u0110",this.currentMenhGiaMomo=0,this.lbNoteMenhGiaMomo.active=!0},e.prototype.toggleCardCheck=function(t){cc.log("card check "+t.isChecked),t.isChecked&&(this.nodeCard.active=!0,this.nodeVDT.active=!1,this.doiBank.node.active=!1,this.chuyenTien.node.active=!1,this.toggleVt.check(),this.currentTypeNhaMang=1,this.initMenhGia(),this.toggleBank.uncheck(),this.toggleVdt.uncheck(),this.toggleChuyenTien.uncheck())},e.prototype.toggleVDTCheck=function(t){t.isChecked&&(this.nodeCard.active=!1,this.nodeVDT.active=!0,this.doiBank.node.active=!1,this.chuyenTien.node.active=!1,this.doiBankJP.node.active=!1,this.resetChangeMomo(),this.currentTypeNhaMang=4,this.initMenhGia(),this.toggleBank.uncheck(),this.toggleCard.uncheck(),this.toggleBankHan.uncheck(),this.toggleChuyenTien.uncheck())},e.prototype.toggleBankCheck=function(t){t.isChecked&&(this.nodeCard.active=!1,this.nodeVDT.active=!1,this.chuyenTien.node.active=!1,this.doiBank.node.active=!0,this.doiBankJP.node.active=!1,this.doiBank.reset(),this.toggleVdt.uncheck(),this.toggleBankHan.uncheck(),this.toggleChuyenTien.uncheck())},e.prototype.toggleChuyenTienCheck=function(t){t.isChecked&&(this.nodeCard.active=!1,this.nodeVDT.active=!1,this.doiBank.node.active=!1,this.doiBankJP.node.active=!1,this.chuyenTien.node.active=!0,this.chuyenTien.reset(),this.toggleVdt.uncheck(),this.toggleBankHan.uncheck(),this.toggleBank.uncheck(),this.toggleCard.uncheck())},e.prototype.toggleBankHanCheck=function(t){t.isChecked&&(this.nodeCard.active=!1,this.nodeVDT.active=!1,this.doiBank.node.active=!1,this.doiBankJP.node.active=!0,this.doiBankJP.reset(),this.toggleVdt.uncheck(),this.toggleBank.uncheck())},e.prototype.toggleNhaMangCheck=function(t){cc.log(t.node.name),"toggleVT"==t.node.name?(this.currentTypeNhaMang=1,this.initMenhGia()):"toggleMB"==t.node.name?(this.currentTypeNhaMang=2,this.initMenhGia()):"toggleVN"==t.node.name?(this.currentTypeNhaMang=3,this.initMenhGia()):"toggleVB"==t.node.name&&(this.currentTypeNhaMang=5,this.initMenhGia())},e.prototype.initMenhGia=function(){var t=u.Windown.ShopView.ArrInfoTranfer;if(null!=t){cc.log("init menh gia ne:",u.Windown.SFSArrToJson(t)),this.offAllActive(),this.offAllActiveMomo();for(var e=[],n=0,o=t.size();n<o;n++)1==(a=t.getSFSObject(n)).get("status")&&1==a.getInt("type")&&a.getInt("nhamangtype")==this.currentTypeNhaMang&&e.push(a);var i=4==this.currentTypeNhaMang?this.contentMomo.children:this.content.children,r=4==this.currentTypeNhaMang?this.contentMomo:this.content,s=i[0];for(e.sort(function(t,e){return t.getInt("requireVnd")-e.getInt("requireVnd")}),n=0,o=e.length;n<o;n++){var a=e[n],c=i[n];null==c&&((c=cc.instantiate(s)).parent=r),c.active=!0;var l=c.getComponentsInChildren(cc.Label);l[0].string=u.Windown.formatNumber(a.getInt("requireVnd"))+" VN\u0110",l[1].string=u.Windown.formatNumber(a.getInt("gold")),c.getComponent(cc.Button).clickEvents[0].customEventData=a.getInt("requireVnd").toString(),cc.Tween.stopAllByTarget(c),cc.tween(c).set({skewY:-15,scaleX:0,scaleY:1}).delay(.1*n).to(.2,{scale:1,skewX:0,skewY:0},{easing:cc.easing.cubicOut}).start()}for(n=e.length,o=i.length;n<o;n++)i[n].active=!1}},e.prototype.onClickItemBtn=function(t,e){this.offAllActive();var n=Number(e);this.currentMenhGia=n,this.nodeMenhGiaActive(t.target)},e.prototype.onClickItemMomoBtn=function(t,e){this.offAllActiveMomo();var n=Number(e);this.currentMenhGia=n,cc.Tween.stopAllByTarget(this.lbMenhGiaMomo.node),null==this.lbMenhGiaMomo.node.initPosY&&(this.lbMenhGiaMomo.node.initPosY=this.lbMenhGiaMomo.node.y),cc.tween(this.lbMenhGiaMomo.node).set({opacity:0,y:this.lbMenhGiaMomo.node.initPosY+50}).to(.2,{opacity:255,y:this.lbMenhGiaMomo.node.initPosY},{easing:cc.easing.sineIn}).start(),this.lbMenhGiaMomo.string=u.Windown.formatNumber(n)+" VN\u0110",this.lbNoteMenhGiaMomo.active=!1,cc.find("active",t.target).active=!0},e.prototype.offAllActive=function(){this.lastMenhGiaCardNode&&(cc.find("active",this.lastMenhGiaCardNode).active=!1),this.content.children.forEach(function(t){cc.find("active",t).active=!1})},e.prototype.nodeMenhGiaActive=function(t){cc.find("active",t).active=!0,this.lastMenhGiaCardNode=t},e.prototype.offAllActiveMomo=function(){this.lastMenhGiaMomoNode&&(cc.find("active",this.lastMenhGiaMomoNode).active=!1),this.contentMomo.children.forEach(function(t){cc.find("active",t).active=!1})},e.prototype.nodeMenhGiaActiveMomo=function(t){cc.find("active",t).active=!0,this.lastMenhGiaMomoNode=t},e.prototype.onClickDoi=function(){cc.log("type: "+this.currentTypeNhaMang);try{this.checkValidationDoi(),this.sendDoiCard()}catch(t){u.Windown.Dialog.showLog(t.message.replace("lvd----",""))}},e.prototype.onClickDoiMomo=function(){try{this.checkValidationDoiMomo(),this.sendDoiMomo()}catch(t){u.Windown.Dialog.showLog(t.message.replace("lvd----",""))}},e.prototype.sendDoiCard=function(){var t=l.ConectManager.getIns().getSFSObj();t.putInt("cardAmount",this.currentMenhGia),t.putInt("cardType",this.currentTypeNhaMang),l.ConectManager.getIns().sendRequestToCallback(s.REQUEST_CODE.CashOutCard,t,this.responseDoiCard.bind(this)),u.Windown.UIManager.showLoading()},e.prototype.responseDoiCard=function(t){u.Windown.UIManager.hideLoading(),u.Windown.Dialog.checkAndShowLog(t,!0)},e.prototype.sendDoiMomo=function(){var t=this,e="B\u1ea1n c\xf3 x\xe1c nh\u1eadn r\xfat "+u.Windown.formatNumber(this.currentMenhGia)+" v\u1ec1 t\xe0i kho\u1ea3n MOMO "+this.edbStkMomo.string+" ?(*L\u01b0u \xfd sai th\xf4ng tin s\u1ebd b\u1ecb m\u1ea5t ti\u1ec1n)";u.Windown.Dialog.showLog(e,function(){var e=l.ConectManager.getIns().getSFSObj();e.putInt("cardAmount",t.currentMenhGia),e.putInt("cardType",4),e.putUtfString("stk",t.edbStkMomo.string),e.putUtfString("ttk",t.edbTtkMomo.string),l.ConectManager.getIns().sendRequestToCallback(s.REQUEST_CODE.CashOutCard,e,t.responseDoiCard.bind(t)),u.Windown.UIManager.showLoading()})},e.prototype.checkValidationDoi=function(){if(0==this.currentMenhGia)throw new c.InfoErr(a.TextDefine.NullMenhGia)},e.prototype.checkValidationDoiMomo=function(){if(0==this.currentMenhGia)throw new c.InfoErr(a.TextDefine.NullMenhGia);if(""==this.edbStkMomo.string)throw new c.InfoErr(a.TextDefine.NullSdtMomo);if(""==this.edbTtkMomo.string)throw new c.InfoErr(a.TextDefine.NullTtkMomo)},r([g(cc.Node)],e.prototype,"nodeCard",void 0),r([g(cc.Node)],e.prototype,"nodeVDT",void 0),r([g(cc.EditBox)],e.prototype,"edbStkMomo",void 0),r([g(cc.EditBox)],e.prototype,"edbTtkMomo",void 0),r([g(cc.Toggle)],e.prototype,"toggleVt",void 0),r([g(cc.Node)],e.prototype,"content",void 0),r([g(cc.Node)],e.prototype,"contentMomo",void 0),r([g(cc.Toggle)],e.prototype,"toggleCard",void 0),r([g(cc.Toggle)],e.prototype,"toggleVdt",void 0),r([g(cc.Toggle)],e.prototype,"toggleBank",void 0),r([g(cc.Toggle)],e.prototype,"toggleChuyenTien",void 0),r([g(cc.Toggle)],e.prototype,"toggleBankHan",void 0),r([g(cc.Label)],e.prototype,"lbMenhGiaMomo",void 0),r([g(cc.Node)],e.prototype,"lbNoteMenhGiaMomo",void 0),r([g(h.default)],e.prototype,"doiBank",void 0),r([g(d.default)],e.prototype,"doiBankJP",void 0),r([g(p.default)],e.prototype,"chuyenTien",void 0),r([y],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../DefineTs/TextDefine":"TextDefine","../../InfoERR":"InfoERR","../../Network/ConectManager":"ConectManager","../../Windown":"Windown","./Doi/ChuyenTien":"ChuyenTien","./Doi/DoiBank":"DoiBank","./Doi/DoiBankJP":"DoiBankJP"}],DoiThangThai:[function(t,e,n){"use strict";cc._RF.push(e,"9d350OuUi1AT5Btae92Oc1j","DoiThangThai");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/REQUEST_CODE"),a=t("../../DefineTs/TextDefine"),c=t("../../Network/ConectManager"),l=t("../../Windown"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.edbTrangThai=null,e}return i(e,t),e.prototype.onLoad=function(){l.Windown.DoiThangThai=this},e.prototype.onDestroy=function(){l.Windown.DoiThangThai=null},e.prototype.start=function(){l.Windown.actionEffectOpen(this.node,null)},e.prototype.onClickDoiTrangThai=function(){if(this.edbTrangThai.string.length<1)l.Windown.Dialog.showLog(a.TextDefine.NullTrangThai);else{var t=c.ConectManager.getIns().getSFSObj();t.putUtfString("status",this.edbTrangThai.string),c.ConectManager.getIns().sendRequestToCallback(s.REQUEST_CODE.ChangeStatus,t,this.responseChangeStatus.bind(this))}},e.prototype.responseChangeStatus=function(t){l.Windown.Dialog.checkAndShowLog(t);var e=t.getUtfString("status");l.Windown.User.status=e,l.Windown.SFSInfouser.putUtfString("status",e),l.Windown.ThongTin&&l.Windown.ThongTin.node.parent&&l.Windown.ThongTin.updateTrangThai(e),this.onClickClose()},e.prototype.onClickClose=function(){var t=this;l.Windown.actionEffectClose(this.node,function(){t.node.destroy()})},r([h(cc.EditBox)],e.prototype,"edbTrangThai",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../DefineTs/TextDefine":"TextDefine","../../Network/ConectManager":"ConectManager","../../Windown":"Windown"}],DownloadProgress:[function(t,e,n){"use strict";cc._RF.push(e,"0aefaLob9hMq7S5xnHNTMay","DownloadProgress");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbPro=null,e.sprLoadingBar=null,e}return i(e,t),e.prototype.onLoad=function(){this.lbPro.string="0%"},e.prototype.setPercent=function(t){if(null!=this.node&&!isNaN(t)){var e=100*t;this.lbPro.string=e.toFixed(0)+"%",this.sprLoadingBar.fillRange=t}},r([c(cc.Label)],e.prototype,"lbPro",void 0),r([c(cc.Sprite)],e.prototype,"sprLoadingBar",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],DragMiniGame:[function(t,e,n){"use strict";cc._RF.push(e,"8d5cfgFfglIX61Uhpf9n7jL","DragMiniGame");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Windown"),a=t("./OffMiniGame"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isMoveBtnMiniGame=!1,e._isTouch=!1,e._v2OffsetChange=null,e._isDrag=!1,e._isMiniSize=!1,e.offsetX=0,e.offsety=0,e}return i(e,t),e.prototype.onLoad=function(){this.offsetX=cc.winSize.width/2,this.offsety=cc.winSize.height/2,this.node.on(cc.Node.EventType.TOUCH_START,this._touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._touchMove,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_END,this._touchEnd,this)},e.prototype._touchEnd=function(t){this._isTouch=!1,t.stopPropagation()},e.prototype._touchMove=function(t){if(this._isTouch&&!this._isDrag){if(this.node.isRunEffect)return;var e=cc.v2(t.getLocation()).subSelf(cc.v2(this.offsetX,this.offsety));this.node.setPosition(e.add(this._v2OffsetChange)),this._isMoveBtnMiniGame=!0}t.stopPropagation()},e.prototype._touchStart=function(t){var e=cc.v2(t.getLocation()).subSelf(cc.v2(this.offsetX,this.offsety));this._v2OffsetChange=this.node.getPosition().subSelf(e),this._isMoveBtnMiniGame=!1,this._isTouch=!0,s.Windown.UIManager.checkShowMiniGame(this,!1),t.stopPropagation(),this.node.isRunEffect},e.prototype.miniSize=function(t){void 0===t&&(t=!0),this.node.stopAllActions(),t?this.node.runAction(cc.fadeTo(.2,90)):this.node.opacity=90;var e=this.getComponent("TaiXiu");e&&e.node&&e.miniSize()},e.prototype.nomalSize=function(){this.node.stopAllActions(),this.node.runAction(cc.fadeIn(0)),this._isMiniSize=!1,s.Windown.UIManager.parentMiniGame.getComponentInChildren(a.default).onEvent();var t=this.getComponent("TaiXiu");t&&t.node&&t.normalSize()},e.prototype.onToggleChangeSize=function(){this._isMiniSize=!this._isMiniSize,this._isMiniSize?this.miniSize():s.Windown.UIManager.checkShowMiniGame(this,!1)},e.prototype.onDestroy=function(){s.Windown.UIManager.parentMiniGame.getComponentInChildren(a.default)._touchStart(null)},r([l],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../Windown":"Windown","./OffMiniGame":"OffMiniGame"}],DropBoom:[function(t,e,n){"use strict";cc._RF.push(e,"c6ddaGLUr1IH7T8DhgIkx69","DropBoom");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/Network/ConectManager"),l=t("../../../../Scritps/Windown"),u=t("../DeadBevhavior/PanelPoint"),p=t("../Network/CODE_EVT"),h=t("../Player/TypeItemDragBD"),d=t("./ItemBoom"),f=cc._decorator,y=f.ccclass,g=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeBoom=null,e.nodeVuNo=null,e.hold=null,e.panelPoint=null,e.parentItemTarget=null,e.listPos=[cc.v2(326.231,-160),cc.v2(-326.231,160),cc.v2(-326.231,-160),cc.v2(326.231,160),cc.v2(0,-100)],e.indexNo=1,e.idItemDrag=-1,e.player=null,e}return i(e,t),e.prototype.init=function(t,e,n){return s(this,void 0,void 0,function(){var o,i,r,s,u,f,y,g,m=this;return a(this,function(a){switch(a.label){case 0:for(this.idItemDrag=e,this.player=n,o=[],this.panelPoint.node.active=!0,this.panelPoint.init(this.player,this.idItemDrag,h.default.BOOM_NGUYEN_TU),r=0;r<1;r++)(s=cc.instantiate(this.nodeBoom)).active=!0,s.parent=l.Windown.FishBongDem.fishBDView.parentEffect,this.listPos[r].clone().addSelf(cc.v2(l.Windown.RandomNumber(-50,50),l.Windown.RandomNumber(-50,50))),(u=t.clone()).x+=l.Windown.RandomNumber(-50,50),u.y=600,s.setPosition(t.x+l.Windown.RandomNumber(-100,100),t.y),f=s.getComponent(d.default),o.push(f.moveBoom(cc.v2(0,480),.3*r,this.listPos[r]));return l.Windown.FishBongDem.getSound().playEffect(l.Windown.FishBongDem.getSound().startBoom),this.scheduleOnce(this.actionTarget,1.5),[4,Promise.all(o)];case 1:for(a.sent(),i=[],r=0;r<5;r++)(s=cc.instantiate(this.nodeBoom)).active=!0,s.parent=l.Windown.FishBongDem.fishBDView.parentEffect,this.listPos[r].clone().addSelf(cc.v2(l.Windown.RandomNumber(-50,50),l.Windown.RandomNumber(-50,50))),(u=t.clone()).x+=l.Windown.RandomNumber(-50,50),u.y=600,s.setPosition(t.x+l.Windown.RandomNumber(-100,100),t.y),f=s.getComponent(d.default),o.push(f.moveBoom(cc.v2(0,480),.3*r,this.listPos[r])),i.push(f);return(y=c.ConectManager.getIns().getSFSObj()).putInt("Type",h.default.BOOM_NGUYEN_TU),y.putLong("Id",e),l.Windown.FishBongDem.sendRequest(p.default.UsingItemDrag,y),g=0,i.forEach(function(t){t.moveNo(g,m),g+=.3}),[2]}})})},e.prototype.actionTarget=function(){l.Windown.FishBongDem.getSound().playEffect(l.Windown.FishBongDem.getSound().dropBoom);for(var t=this.parentItemTarget.children,e=function(e){var n=t[e];n.active=!0,n.opacity=0,n.runAction(cc.sequence(cc.delayTime(.1*e),cc.spawn(cc.fadeIn(.2),cc.callFunc(function(){n.getComponent(cc.Animation).play("TargetBoom")}))))},n=0,o=t.length;n<o;n++)e(n)},e.prototype.onNo=function(t){var e=this;l.Windown.FishBongDem.fishBDView.shakeScence(.3,60),l.Windown.FishBongDem.getSound().playEffectNoStop(l.Windown.FishBongDem.getSound().fishBoom);var n=cc.instantiate(this.nodeVuNo);n.active=!0,n.parent=l.Windown.FishBongDem.fishBDView.parentEffect,n.setPosition(t.getPosition());var o=260;if(5==this.indexNo&&(this.hold.active=!0,this.hold.parent=l.Windown.FishBongDem.fishBDView.bkgSprite.node,this.hold.setPosition(0,-50),this.hold.opacity=0,this.hold.runAction(cc.sequence(cc.delayTime(.2),cc.fadeIn(0),cc.delayTime(1),cc.fadeIn(1.5),cc.callFunc(function(){return s(e,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.hold.destroy(),[4,l.Windown.FishBongDem.makeDelay(2)];case 1:return t.sent(),this.panelPoint.end(),this.node.destroy(),[2]}})})}))),n.scale=5,o=500),this.player.isMe){var i=c.ConectManager.getIns().getSFSArray();l.Windown.FishBongDem.fishMng.forEachListFish(function(e){e.getColiderInScreen()&&cc.Vec2.distance(e.getPoint(),t.getPosition())<=o&&i.addInt(e.fishId)});var r=c.ConectManager.getIns().getSFSObj();r.putInt("Type",h.default.BOOM_NGUYEN_TU),r.putLong("byFish",this.idItemDrag),r.putLong("Id",this.idItemDrag),r.putSFSArray("ListFishId",i),l.Windown.FishBongDem.sendRequest(p.default.FishSpecialColisionBD,r)}t.destroy(),this.indexNo++},r([g(cc.Node)],e.prototype,"nodeBoom",void 0),r([g(cc.Node)],e.prototype,"nodeVuNo",void 0),r([g(cc.Node)],e.prototype,"hold",void 0),r([g(u.default)],e.prototype,"panelPoint",void 0),r([g(cc.Node)],e.prototype,"parentItemTarget",void 0),r([y],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Windown":"Windown","../DeadBevhavior/PanelPoint":"PanelPoint","../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD","./ItemBoom":"ItemBoom"}],DropBoxView:[function(t,e,n){"use strict";cc._RF.push(e,"28470b01WxAUaBz5a2Pdaf6","DropBoxView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrItems=null,e.isSelectFist=!0,e._callbackSelect=null,e._callbackShowSelect=null,e}return i(e,t),e.prototype.init=function(t,e,n,o,i){void 0===o&&(o=null),void 0===i&&(i=!1),this._callbackSelect=n,this._callbackShowSelect=o;for(var r=t.length,s=0;s<r;s++){var a=t[s],c=this.scrItems.content.children[s];cc.isValid(c)||((c=cc.instantiate(this.scrItems.content.children[0])).parent=this.scrItems.content),c.active=!0,c.zIndex=i?s:r-s,e(c,a);var l=c.getComponent(cc.Button);null==l&&(l=c.addComponent(cc.Button));var u=new cc.Component.EventHandler;u.target=this.node,u.component="DropBoxView",u.handler="onClickSelect",c.getComponent(cc.Button).clickEvents=[u]}t.length>0&&this.isSelectFist&&this.onClickSelect({target:this.scrItems.content.children[0]},"")},e.prototype.onClickSelect=function(t,e){this._callbackSelect(t,e)},e.prototype.onClickShowSelect=function(t,e){this._callbackShowSelect&&this._callbackShowSelect(t,e)},r([c(cc.ScrollView)],e.prototype,"scrItems",void 0),r([c],e.prototype,"isSelectFist",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],DuaXeEffect:[function(t,e,n){"use strict";cc._RF.push(e,"78708kWy7xAAqrNBsxJ9SBJ","DuaXeEffect");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.DuaXeEffect=void 0;var c=t("../../../Scritps/Game/GAME_TYPE"),l=t("./BigWinDuaXe"),u=t("./NearFSDuaXe"),p=t("./StartFreeSpinDuaXe"),h=t("./EndFreeSpinDuaXe"),d=t("../../../Scritps/Windown"),f=t("../../../Scritps/Util"),y=cc._decorator,g=y.ccclass,m=y.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeEffNearWin=null,e.listNodeBoxMoney=[],e}return i(e,t),e.prototype.start=function(){},e.prototype.showTakeFreeSpin=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r;return a(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),d.Windown.DuaXe.stateSpin.freeSpinCache=t,d.Windown.DuaXe.stateSpin.activeAllSymbol(),d.Windown.DuaXe.listColum.forEach(function(t){t.getListSymbolResult().forEach(function(t){t.effectScaterShowFS()})}),d.Windown.DuaXe.audio.playEffect(d.Windown.DuaXe.audio.fsWonTitle),d.Windown.loadRes(c.default.DuaXe.toString(),"Prefabs/ShowFreeSpin",cc.Prefab),[4,d.Windown.DuaXe.getMakeDelay(1.3).prosime];case 1:return s.sent(),d.Windown.DuaXe.audio.playEffect(d.Windown.DuaXe.audio.scatterWinHighligh),d.Windown.UIManager.showLoading(),[4,d.Windown.loadRes(c.default.DuaXe.toString(),"Prefabs/ShowFreeSpin",cc.Prefab)];case 2:return e=s.sent(),d.Windown.UIManager.hideLoading(),(o=cc.instantiate(e)).parent=this.node,i=o.getComponent(p.StartFreeSpinDuaXe),[4,d.Windown.DuaXe.getPromise(i.show(t))];case 3:return s.sent(),d.Windown.DuaXe.setLbFreeSpinLeft(t),d.Windown.DuaXe.effect.switchFS(!0),[4,d.Windown.DuaXe.getMakeDelay(1).prosime];case 4:return s.sent(),n(null),[3,6];case 5:return r=s.sent(),f.Util.ThrowErrProsime(r),[3,6];case 6:return[2]}})})})},e.prototype.showBigWin=function(t,e){var n=this;return new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r;return a(this,function(s){switch(s.label){case 0:return[4,d.Windown.loadRes(c.default.DuaXe.toString(),"Prefabs/BigWin",cc.Prefab)];case 1:return n=s.sent(),(i=cc.instantiate(n)).parent=this.node,r=i.getComponent(l.BigWinDuaXe),[4,d.Windown.DuaXe.getPromise(r.init(t,e))];case 2:return s.sent(),o(null),[2]}})})})},e.prototype.activeNodeNearWin=function(t){if(d.Windown.DuaXe.activeMask(!0),d.Windown.DuaXe.activeMask(!1,t-1),null==this.nodeEffNearWin){this.nodeEffNearWin=cc.instantiate(d.Windown.DuaXe.asset.nearFS),this.nodeEffNearWin.setParent(d.Windown.DuaXe.parentItemActive),d.Windown.DuaXe.infoBar.showOneMoreScater();for(var e=0;e<t;e++)d.Windown.DuaXe.listColum[e].getListSymbolResult().forEach(function(t){return t.effectScaterShowFS()})}this.nodeEffNearWin.getComponent(u.NearFSDuaXe).init(t)},e.prototype.offNearWin=function(){d.Windown.DuaXe.activeMask(!1),d.Windown.DuaXe.audio.stopEffect(d.Windown.DuaXe.audio.fastspinStart),this.nodeEffNearWin&&this.nodeEffNearWin.getComponent(u.NearFSDuaXe).effOff(),this.nodeEffNearWin=null;for(var t=0,e=d.Windown.DuaXe.listColum;t<e.length;t++)for(var n=0,o=e[t].getListSymbolResult();n<o.length;n++){var i=o[n];i.checkIsInView()&&i.effectScaterIdle()}},e.prototype.activeNearWinNoSap=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r,s,c,l,u,p,h,y,g,m,v,S,b,w;return a(this,function(a){switch(a.label){case 0:if(a.trys.push([0,5,,6]),t=d.Windown.DuaXe.stateSpin.curentCountScater>2&&!d.Windown.DuaXe.stateSpin.isMaxSpeed,d.Windown.DuaXe.nearWinNoSap.active||!t)return e(null),[2];for(d.Windown.DuaXe.nearWinNoSap.opacity=255,d.Windown.DuaXe.nearWinNoSap.active=!0,d.Windown.DuaXe.audio.playEffect(d.Windown.DuaXe.audio.heartbeatNoise),n=!1,d.Windown.DuaXe.stateSpin.offAllSymbol(!1),o=0,i=d.Windown.DuaXe.listColum;o<i.length;o++){for(m=i[o],r=0,s=m.getListSymbolResult();r<s.length;r++)if(!(b=s[r]).checkIsInView()){n=!0;break}if(n)break}if(!n)return e(null),[2];for(c=0,l=d.Windown.DuaXe.listColum;c<l.length;c++)for(m=l[c],u=0,p=m.getListSymbolResult();u<p.length;u++)(b=p[u]).checkIsInView()&&b.effectNearWinScater(!0);d.Windown.DuaXe.infoBar.showOneMoreScater(),h=0,a.label=1;case 1:return h<4?(d.Windown.DuaXe.audio.playEffectNoStop(d.Windown.DuaXe.audio.heartbeat),[4,d.Windown.DuaXe.getMakeDelay(.7).prosime]):[3,4];case 2:a.sent(),a.label=3;case 3:return h++,[3,1];case 4:for(d.Windown.DuaXe.activeMask(!1),y=0,g=d.Windown.DuaXe.listColum;y<g.length;y++)for(m=g[y],v=0,S=m.getListSymbolResult();v<S.length;v++)(b=S[v]).checkIsInView()&&b.effectScaterIdle();return e(null),[3,6];case 5:return w=a.sent(),f.Util.ThrowErrProsime(w),[3,6];case 6:return[2]}})})})},e.prototype.offNearWinNoSap=function(){d.Windown.DuaXe.nearWinNoSap.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){d.Windown.DuaXe.nearWinNoSap.active=!1})))},e.prototype.switchFS=function(t,e){t?(this.listNodeBoxMoney.forEach(function(t){t.setPosition(t.position.x,-609)}),d.Windown.DuaXe.switchBkgGame(!0,e)):(d.Windown.DuaXe.switchBkgGame(!1),this.listNodeBoxMoney.forEach(function(t){t.setPosition(t.position.x,-381.5)}))},e.prototype.showEndFree=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r;return a(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),cc.log("showEndFree totalMoney="+t),t<1?(d.Windown.DuaXe.audio.stopBkgFs(),this.switchFS(!1),n(null),[2]):[4,d.Windown.loadRes(c.default.DuaXe.toString(),"Prefabs/EndFreeSpinDuaXe",cc.Prefab)];case 1:return e=s.sent(),this.switchFS(!1),(o=cc.instantiate(e)).parent=this.node,i=o.getComponent(h.EndFreeSpinDuaXe),[4,d.Windown.DuaXe.getPromise(i.show(t))];case 2:return s.sent(),n(null),[3,4];case 3:return r=s.sent(),f.Util.ThrowErrProsime(r),[3,4];case 4:return[2]}})})})},r([m([cc.Node])],e.prototype,"listNodeBoxMoney",void 0),r([g],e)}(cc.Component);n.DuaXeEffect=v,cc._RF.pop()},{"../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./BigWinDuaXe":"BigWinDuaXe","./EndFreeSpinDuaXe":"EndFreeSpinDuaXe","./NearFSDuaXe":"NearFSDuaXe","./StartFreeSpinDuaXe":"StartFreeSpinDuaXe"}],DuaXeSpeedControl:[function(t,e,n){"use strict";cc._RF.push(e,"0445dANJI9NiqUZ+e3eFKFk","DuaXeSpeedControl");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.DuaXeSpeedControl=void 0;var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.normalSpeed=1,e.animation=null,e.spine=null,e.isSpine=!1,e}return i(e,t),e.prototype.onLoad=function(){this.isSpine?this.spine=this.node.getComponent(sp.Skeleton):this.animation=this.node.getComponent(cc.Animation)},e.prototype.start=function(){},e.prototype.onPlay=function(){null!=this.animation&&(this.animation.getAnimationState(this.animation.currentClip.name).speed=s.Windown.DuaXe.stateSpin.isMaxSpeed?2:this.normalSpeed)},e.prototype.onEnable=function(){cc.isValid(this.spine)&&(this.spine.timeScale=s.Windown.DuaXe.stateSpin.isMaxSpeed?2:1)},r([l],e.prototype,"isSpine",void 0),r([c],e)}(cc.Component);n.DuaXeSpeedControl=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],DuaXeView:[function(t,e,n){"use strict";cc._RF.push(e,"f6146nQOLxMhKMOvEg6Z7xd","DuaXeView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.DuaXeView=void 0;var c=t("./DuaXeEffect"),l=t("./EndFreeSpinDuaXe"),u=t("../../../Scritps/DefineTs/StateReelSlot"),p=t("./InfoBarControllerDuaXe"),h=t("./SpinNormalDuaXe"),d=t("../../../Scritps/Game/GAME_TYPE"),f=t("../../../Scritps/DefineTs/TextDefine"),y=t("../../../Scritps/DefineTs/EVENT_MANAGER"),g=t("./ItemSlotDuaXe"),m=t("./AssetDuaXe"),v=t("../../../Scritps/Other/LbMonoSpace"),S=t("./ItemSlotDuaXeNgang"),b=t("../../../Scritps/Obs/LbMoneyChange"),w=t("./MultiEffectDuaXe"),_=t("./LichSuDuaXe"),C=t("./AudioDuaXe"),T=t("../../../Scritps/Windown"),I=t("../../../Scritps/Network/ConectManager"),W=t("../../../Scritps/DefineTs/REQUEST_CODE"),M=t("../../../Scritps/Util"),E=cc._decorator,R=E.ccclass,A=E.property,B=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.effTest=null,e.bkgSprite=null,e.btnSpin=null,e.parentMask=null,e.parentItem=null,e.parentItemFront=null,e.parentItemActive=null,e.parentEffect=null,e.parentMultiEffect=null,e.nearWinNoSap=null,e.nodeBtnPlay=null,e.nodeChooseAuto=null,e.nodeBtnSeting=null,e.btnStartAuto=null,e.toggleTurbo=null,e.listNodeDeactive=[],e.lb_totalBet=null,e.lb_TotalLine=null,e.listColum=[],e.effect=null,e.multiController=null,e.infoBar=null,e.asset=null,e.itemSlotDuaXeNgang=null,e.lb_FSLeft=null,e.lb_CountAuto=null,e.labelChipReviceInBox=null,e._popupLichSu=null,e.audio=null,e.stateSpin=null,e.isDoneStartSpin=!1,e.isShowBtnPlay=!0,e.stateReel=0,e.curRoomBet=50,e.bonus=0,e.currentBonusFS=0,e.gameType=-1,e.totalLineBet=20,e.funEnd=null,e.currentTotalLine=1,e.dataFinish=null,e.listConfigBet=[],e.listResult=null,e.listResultConvert=[],e.sfsObjTest=null,e.roomSFS=null,e.sfs=null,e.indexFinish=0,e}return i(e,t),e.prototype.onLoad=function(){T.Windown.DuaXe=this,cc.log("start Duaxe"),this.gameType=d.default.DuaXe,this.gameType=d.default.DuaXe,this.sfs=I.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(y.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),this.stateReel=u.default.WAITING,this.stateSpin=new h.SpinNormalDuaXe,this.sendJoinRoom(),this.activeMask(!1),cc.game.setFrameRate(60)},e.prototype.start=function(){this.setupView(),this.setStateEffBtnSpin(),this.initItem(),this.asset.preloadTakeSymbol(),this.asset.preloadBigWin()},e.prototype.onDestroy=function(){T.Windown.DuaXe=null,this.dataFinish&&(T.Windown.MoneyUser.removeDelay(this.gameType),this.dataFinish=null),T.Windown.MoneyUser.endGameMOney(this.gameType),cc.systemEvent.removeAll(this),this.roomSFS=null,this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),this.clearAllMakeDelay()},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(e){case W.REQUEST_CODE.SpinDuaXe:this.handleFinish(n);break;case W.REQUEST_CODE.HistoryDuaXe:this._popupLichSu&&this._popupLichSu.responseServer(n);break;case W.REQUEST_CODE.HistoryChiTietDuaXe:this._popupLichSu&&this._popupLichSu.responseServerChiTiet(n)}},e.prototype.onJoinRoom=function(t){cc.log("onJoinRoom "+t.room.groupId);var e=t.room;if("SlotDX"==e.groupId){this.roomSFS=e,T.Windown.UIManager.hideLoadingData();var n=e.getVariable("cf").value;cc.log(n);var o=[],i=JSON.parse(n);for(var r in i){var s=Object.create(null);s.bet=parseInt(r),s.perJp=i[r].percentPot/100,o.push(s)}o.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=o,this.curRoomBet=this.listConfigBet[0].bet,this.lb_totalBet.string=T.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),T.Windown.UIManager.hideLoading(),T.Windown.UIManager.hideLoadingData(),T.Windown.Dialog.showLog(f.TextDefine.ERR_JOIN_ROOM),cc.director.loadScene("main")},e.prototype.onCreateError=function(){cc.log("creat errr"),T.Windown.UIManager.hideLoading(),cc.director.loadScene("main"),T.Windown.Dialog.showLog(f.TextDefine.ERR_JOIN_ROOM)},e.prototype.userExitRoom=function(t){cc.log("user exit room"),"SlotDX"==t.room.groupId&&t.user.isItMe&&cc.director.loadScene("main")},e.prototype.switchBkgGame=function(t){var e=this,n=cc.find("Game/BkgGround/FreeSpin",this.node),o=cc.find("Game/BkgGround/Normal",this.node),i=cc.find("Game/BkgGround/freespin_bg",this.node);t?(n.active=!0,o.active=!1,this.lb_FSLeft.node.parent.active=!0,i.active=!0,this.nodeBtnPlay.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){e.nodeBtnPlay.active=!1})))):(n.active=!1,o.active=!0,i.active=!1,this.lb_FSLeft.node.parent.active=!1,this.nodeBtnPlay.active=!0,this.nodeBtnPlay.opacity=255,this.multiController.lbMultiTotalFS.node.parent.active=!1),this.lb_TotalLine._updateString()},e.prototype.initItem=function(){for(var t,e=this.getRdViewFirtGame(),n=this.getRdViewForLoop(0),o=cc.instantiate(this.parentItem.children[0]),i=2*o.width/3,r=(o.height,0);r<7;r++){var s=n[r].pop();e[r].unshift(s),e[r].push(s);var a=null;if(r>0){var c=this.parentItem.children[r-1];null==c&&((c=cc.instantiate(o)).parent=this.parentItem),(a=c.getComponent(g.ItemSlotDuaXe)).node.setPosition(cc.v3(i*(r-1)+i/2-6*i/2,0,0))}else a=this.itemSlotDuaXeNgang;a.index=r,this.listColum.push(a),n[r].length>0&&(t=a.listResultRandomCache).unshift.apply(t,n[r]),a.setResultFirtGame(e[r])}},e.prototype.getRdViewFirtGame=function(){for(var t,e,n,o=[],i=0,r=function(){var t=T.Windown.RandomNumber(0,100);return t<20?3:t<50?2:1},s=function(){var t=T.Windown.RandomNumber(0,100);return t<20?T.Windown.RandomNumber(8,11):t<50?T.Windown.RandomNumber(5,8):T.Windown.RandomNumber(2,5)},a=0;a<7;a++){for(var c=[],l=0;l<(0==a?4:5);l++)(p=Object.create(null)).i=(t=a,e=l,void 0,(n=T.Windown.RandomNumber(0,100))<3&&i<3?(i++,12):n<10&&e>0&&t>0?11:T.Windown.RandomNumber(0,11)),p.s=1,p.b=s(),(a<2||a>5)&&10==p.i&&(p.b=s()),c.push(p);o.push(c)}var u=function(t,e,n,o){if(!(n+o<=5))return!1;for(var i=n;i<o+n;i++){var r=t[e][i];if(1!=r.s||12==r.i)return!1}return!0};for(o.forEach(function(t,e){t.forEach(function(t,n){if(e>1&&e<6&&12!=t.i){var i=s(),a=r();if(u(o,e,n,a))for(var c=t.i,l=n;l<a+n;l++)o[e][l].i=c,o[e][l].s=a,o[e][l].b=i}})}),a=0;a<o.length;a++)for(c=o[a],l=0;l<c.length;l++){var p;if((p=c[l])&&1!=p.s)for(var h=l+1,d=l+1+p.s-1;h<d;h++)c[h]=null}for(var f in o)o[f]=o[f].filter(function(t){return null!=t});return o},e.prototype.getRdViewForLoop=function(t){for(var e,n=function(){var t=T.Windown.RandomNumber(0,100);return t<20?T.Windown.RandomNumber(8,11):t<50?T.Windown.RandomNumber(5,8):T.Windown.RandomNumber(2,5)},o=[],i=0,r=7-t;i<r;i++){var s=t>0&&6!=t&&T.Windown.RandomNumber(0,100)<20?T.Windown.RandomNumber(3,5):T.Windown.RandomNumber(1,3),a=(void 0,(e=T.Windown.RandomNumber(0,100))<5?12:e<10?11:T.Windown.RandomNumber(0,9));o.push([{i:a,s:s,b:10==a&&T.Windown.RandomNumber(0,100)<30?n():1}])}var c=0;return o.forEach(function(t){var e=t[0].s||1;e>c&&(c=e)}),o.forEach(function(t){for(var e=t[0].s||1,n=0,o=c-e;n<o;n++)t.unshift({i:T.Windown.RandomNumber(0,12),b:1,s:1})}),o},e.prototype.sendJoinRoom=function(){var t=I.ConectManager.getIns().getSFSObj();t.putInt("gameType",d.default.DuaXe),t.putInt("roomType",-1),t.putInt("mark",-1),I.ConectManager.getIns().sendRequest(W.REQUEST_CODE.GetIdJoinRoom,t)},e.prototype.handleHistoryInfoD=function(t){this._popupLichSu&&this._popupLichSu.responseServerChiTiet(t)},e.prototype.handleHistory=function(t){this._popupLichSu&&this._popupLichSu.responseServer(t)},e.prototype.handleResponse=function(t,e){console.log("handleResponse: "+JSON.stringify(t)),console.log("handleResponse: "+e)},e.prototype.onDisconnect=function(){cc.log("disconnect"),T.Windown.UIManager.hideLoading(),T.Windown.UIManager.hideLoadingData(),cc.director.loadScene("main")},e.prototype.handleFinish=function(t){var e=this,n=JSON.parse(T.Windown.SFSObjToJson(t));if(this.isDoneStartSpin){if(cc.log(n),this.indexFinish++,n.errorMessage)return this.stateSpin.handleErrSpin(),T.Windown.Dialog.showLog(n.errorMessage),this.activeAllBtn(),void this.onClickResetCountAuto();this.dataFinish=n,this.bonus=n.bonus,T.Windown.MoneyUser.pushDelayMoney(this.gameType,this.dataFinish.agUser,n.agWin),this.truTienBet(this.dataFinish.agBet*this.totalLineBet,this.dataFinish.agUser),this.listResult=n.views,this.listResultConvert=this.convertResult(this.listResult,n.listItemWin),this.stateSpin.isMaxSpeed,this.stateReel=u.default.CAN_STOP;var o=this.stateSpin.isMaxSpeed?0:.5;this.scheduleOnce(this.funEnd=function(){e.stateSpin.onEnd()},o)}else this.scheduleOnce(function(){e.handleFinish(t)},.05)},e.prototype.setLbFreeSpinLeft=function(t){var e=this.lb_FSLeft.node.parent;this.lb_FSLeft.string=t.toString(),t<1?(cc.find("last_spin",e).active=!0,cc.find("remaining_spin",e).active=!1,this.lb_FSLeft.node.active=!1):(cc.find("last_spin",e).active=!1,cc.find("remaining_spin",e).active=!0,this.lb_FSLeft.node.active=!0)},e.prototype.resetForNewGame=function(){this.stateReel=u.default.WAITING,this.setStateEffBtnSpin(),this.currentBonusFS=this.bonus},e.prototype.getListActiveScaster=function(t){for(var e=[],n=0,o=0;o<t.length;o++)n>=3?e.push(!0):e.push(!1),t[o].forEach(function(t){12==t.i&&n++});return e},e.prototype.effectShake=function(){var t=this;this.unschedule(this.shake);var e=T.Windown.randomInt(10,15),n=0;this.schedule(this.shake=function(){n!=e?t.camera.setPosition(T.Windown.randomInt(-3,3),T.Windown.randomInt(-3,3)):t.camera.setPosition(0,0),n++},0,e)},e.prototype.convertResult=function(t,e,n){var o=this;void 0===n&&(n=null);var i=[],r=e.slice();return t.forEach(function(n,s){var a=Object.create(null);a.listSFSObj=[],a.listSFSObj=[[]],r.length>0&&r[s]&&Math.max.apply(Math,JSON.parse(r[s].lsstack)),a.agWin=0,a.mutil=1,a.view=t[s],n.forEach(function(t,o){var i=[];if(t.forEach(function(e,n){n==t.length-1&&o>0&&o<5?a.listSFSObj[0].push(e):i.push(e)}),i.reverse(),a.listSFSObj.push(i),o==n.length-1){var r=e.shift();r&&(r.lsIdItem=JSON.parse(r.lsIdItem),r.lsstack=JSON.parse(r.lsstack),r.lsAgWin=JSON.parse(r.lsAgWin),r.lsAgWin.length>0&&(a.listItemWin=r,a.isNoSap=!0),r.lsAgWin.forEach(function(t){a.agWin+=t}))}}),a.countScater=o.getCountScater(a.listSFSObj),a.listSFSObj[0].reverse(),i.push(a)}),i},e.prototype.getCountScater=function(t){var e=0;return t.forEach(function(t){t.forEach(function(t){12==t.i&&e++})}),e},e.prototype.truTienBet=function(t,e){0!=t&&T.Windown.MoneyUser.subMoney(t,e)},e.prototype.activeAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!0,t.node.children.forEach(function(t){t.getComponent(cc.Sprite)&&(t.getComponent(cc.Sprite).node.color=cc.Color.fromHEX(new cc.Color,"#E48731"))})})},e.prototype.offAllScatter=function(){return s(this,void 0,void 0,function(){var t,e,n,o=this;return a(this,function(i){switch(i.label){case 0:for(n in t=[],e=function(t){for(var e=o.listColum[t].getListSymbol(),n=0;n<e.length;n++)if(12==e[n].result||11==e[n].result)return!0;return!1},this.listColum)e(n)&&t.push(this.listColum[n].offAllScatterAndWild());return[4,T.Windown.DuaXe.getPromiseAll(t)];case 1:return i.sent(),[2]}})})},e.prototype.showMoneyAllWin=function(t){this.labelChipReviceInBox.setMoney(t),T.Windown.MoneyUser.removeDelay(this.gameType)},e.prototype.onClickResetCountAuto=function(){this.stateSpin.countAutoSpin=0,this.lb_CountAuto.node.parent.active=!1,this.btnSpin.getChildByName("sb_button").active=!0,T.Windown.DuaXe.audio.playClick()},e.prototype.setCountAuto=function(t){t<1?(this.lb_CountAuto.node.parent.active=!1,this.btnSpin.getChildByName("sb_button").active=!0):(this.lb_CountAuto.node.parent.active=!0,this.btnSpin.getChildByName("sb_button").active=!1),this.lb_CountAuto.string=t.toString()},e.prototype.onJoinGame=function(t){console.log("OnJoin Game: "+JSON.stringify(t));var e=[],n=t;for(var o in n){var i=Object.create(null);i.bet=parseInt(o),i.perJp=n[o].percentPot/100,e.push(i)}e.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=e,this.curRoomBet=this.listConfigBet[0].bet,this.lb_totalBet.string=T.Windown.formatNumber(this.totalLineBet*this.curRoomBet)},e.prototype.setupView=function(){var t=cc.find("Game",this.node);if(cc.sys.isMobile)e=1280/720;else{var e=cc.view.getDesignResolutionSize().height/1280;t.setScale(e,e,e),this.bkgSprite.setContentSize(cc.winSize),T.Windown.UIManager.changeRotation(!0)}},e.prototype.resetLbTotalLine=function(){this.currentTotalLine=1,this.lb_TotalLine.string="..."},e.prototype.activeMask=function(t,e){var n=this.parentMask.children;t?e?(T.Windown.stopAllActionByTarget(n[e]),n[e].runAction(cc.fadeTo(.3,150))):n.forEach(function(t){T.Windown.stopAllActionByTarget(t),t.runAction(cc.fadeTo(.3,150))}):e?(T.Windown.stopAllActionByTarget(n[e]),n[e].runAction(cc.fadeOut(.3))):n.forEach(function(t){T.Windown.stopAllActionByTarget(t),t.runAction(cc.fadeOut(.3))})},e.prototype.onClickBtnSpin=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:cc.log("stateReel="+this.stateReel),e.label=1;case 1:return e.trys.push([1,6,,7]),this.stateReel!=u.default.WAITING?[3,4]:(this.audio.playEffect(this.audio.spinBtn),this.stateReel=u.default.RUN,this.setStateEffBtnSpin(),[4,this.offAllScatter()]);case 2:return e.sent(),this.offAllBtn(),this.infoBar.reset(),this.isDoneStartSpin=!1,this.sendClickSpin(),[4,T.Windown.DuaXe.getPromise(this.stateSpin.onStart())];case 3:return e.sent(),this.isDoneStartSpin=!0,[3,5];case 4:this.stateReel==u.default.CAN_STOP?this.stateSpin.isMaxSpeed||(this.stateReel=u.default.RUN,this.unschedule(this.funEnd),this.stateSpin.onForceEnd()):this.stateReel==u.default.STOP||this.stateReel==u.default.SHOW_EFFECT&&(this.audio.playClick(),this.stateSpin.resetForNextNextSpin(),this.onClickBtnSpin()),e.label=5;case 5:return[3,7];case 6:return t=e.sent(),M.Util.ThrowErrProsime(t),[3,7];case 7:return[2]}})})},e.prototype.onClickSendFixData=function(){var t=Object.create(null);t.view=[[{i:9},{i:3},{i:7},{i:1},{i:7}],[{i:6,s:2},{i:2,s:2},{i:12},{i:2}],[{i:12},{i:2,s:2},{i:6,s:2},{i:12}],[{i:9},{i:6},{i:2,s:2},{i:6},{i:12}],[{i:1,s:3},{i:5},{i:4},{i:4}],[{i:9},{i:7},{i:6},{i:0},{i:7}]],t.bet=this.curRoomBet,this.sfsObjTest=t,this.onClickBtnSpin()},e.prototype.sendClickSpin=function(){if(null!=this.sfsObjTest)return I.ConectManager.getIns().sendRequest("testSpin",this.sfsObjTest,this.roomSFS),this.sfsObjTest=null,void cc.log("send test ne");var t=I.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),I.ConectManager.getIns().sendRequest(W.REQUEST_CODE.SpinDuaXe,t,this.roomSFS)},e.prototype.setStateEffBtnSpin=function(){var t=this.btnSpin.getComponent(cc.Animation),e=cc.find("sb_arrow",this.btnSpin.getChildByName("sb_button")),n=cc.find("sb_arrow_blur",this.btnSpin.getChildByName("sb_button"));if(this.stateReel!=u.default.STOP){e.getComponent(cc.Sprite).node.color=cc.Color.WHITE;var o=cc.Material.getBuiltinMaterial("2d-sprite");e.getComponent(cc.Sprite).setMaterial(0,o)}if(this.stateReel==u.default.WAITING||this.stateReel==u.default.SHOW_EFFECT)n.active=!1,e.active=!0,T.Windown.stopAllActionByTarget(e),e.runAction(cc.repeatForever(cc.rotateBy(3,360)));else if(this.stateReel==u.default.RUN)t.play("ButtonSpinClick"),n.active=!0,T.Windown.stopAllActionByTarget(n),n.runAction(cc.repeatForever(cc.rotateBy(.2,360))),e.active=!1,this.infoBar.showRdContent();else if(this.stateReel==u.default.STOP){e.active=!0,n.active=!1,T.Windown.stopAllActionByTarget(n),T.Windown.stopAllActionByTarget(e);var i=cc.Material.getBuiltinMaterial("2d-gray-sprite");e.getComponent(cc.Sprite).setMaterial(0,i)}},e.prototype.offAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!1,t.node.children.forEach(function(t){t.getComponent(cc.Sprite)&&(t.getComponent(cc.Sprite).node.color=cc.Color.fromHEX(new cc.Color,"#999999"))})})},e.prototype.updateNewTotalLine=function(t){this.currentTotalLine*=t,this.lb_TotalLine.string=this.currentTotalLine.toString()},e.prototype.onClickTest=function(){var t=cc.instantiate(this.effTest);t.setParent(cc.find("Game",this.node)),t.getComponent(l.EndFreeSpinDuaXe).show(59999)},e.prototype.getMakeDelay=function(t){return T.Windown.CpPromise.getDelay(t,this)},e.prototype.getPromise=function(t){return T.Windown.CpPromise.getDelayByPromise(t,this).prosime},e.prototype.getPromiseAll=function(t){return T.Windown.CpPromise.getDelayPromiseAll(t,this).prosime},e.prototype.clearAllMakeDelay=function(){T.Windown.CpPromise.targetOff(this)},e.prototype.onClickChangeBet=function(t,e){if(this.audio.playClick(),this.listConfigBet.length<1)T.Windown.Dialog.showLog(f.TextDefine.Error);else{var n=-1;for(var o in this.listConfigBet)if(this.listConfigBet[o].bet==this.curRoomBet){n=parseInt(o);break}0==e?n--:n++,n<0&&(n=this.listConfigBet.length-1),n>this.listConfigBet.length-1&&(n=0),this.curRoomBet=this.listConfigBet[n].bet,this.lb_totalBet.string=T.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.onClickTurbo=function(){T.Windown.DuaXe.audio.playClick(),cc.log("clmm onClickTurbo");var t=this.toggleTurbo.isChecked;this.toggleTurbo.node.children[1].active=!t,this.stateSpin.isMaxSpeed=t,t?T.Windown.UIManager.showAlertMini("\u0110\xe3 b\u1eadt quay nhanh"):T.Windown.UIManager.showAlertMini("\u0110\xe3 t\u1eaft quay nhanh")},e.prototype.onClickCloseListAuto=function(){var t=this;cc.log("onClickCloseListAuto"),T.Windown.DuaXe.audio.playClick(),T.Windown.stopAllActionByTarget(this.nodeChooseAuto),this.nodeChooseAuto.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){var e=t.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer);e.allowSwitchOff=!0,e.toggleItems.forEach(function(t){t.isChecked&&(t.isChecked=!1)}),t.nodeChooseAuto.active=!1,t.btnStartAuto.interactable=!1,t.btnStartAuto.node.children[0].getComponent(cc.Sprite).node.color=cc.Color.fromHEX(new cc.Color,"#E48731")})))},e.prototype.onClickBackToLobby=function(){T.Windown.DuaXe.audio.playClick(),this.roomSFS?(cc.log("Vao day"),I.ConectManager.getIns().sendLeaveRoom(this.roomSFS)):cc.director.loadScene("main")},e.prototype.onClickStartAutoSpin=function(){this.onClickBtnSpin(),this.onClickCloseListAuto(),T.Windown.DuaXe.stateSpin.countAutoSpin>0&&T.Windown.DuaXe.setCountAuto(T.Windown.DuaXe.stateSpin.countAutoSpin)},e.prototype.onClickShowListAuto=function(){T.Windown.DuaXe.audio.playClick(),this.nodeChooseAuto.active=!0,this.nodeChooseAuto.opacity=0,this.nodeChooseAuto.runAction(cc.fadeIn(.3)),this.btnStartAuto.interactable=!1,this.btnStartAuto.node.children[0].getComponent(cc.Sprite).node.color=cc.Color.fromHEX(new cc.Color,"#E48731")},e.prototype.onClickSeting=function(){if(T.Windown.DuaXe.audio.playClick(),this.isShowBtnPlay=!this.isShowBtnPlay,this.isShowBtnPlay)t=cc.v2(0,-750),this.nodeBtnPlay.runAction(cc.fadeIn(.4)),this.nodeBtnSeting.runAction(cc.spawn(cc.fadeOut(.3),cc.moveTo(.3,t)));else{T.Windown.stopAllActionByTarget(this.nodeBtnPlay),T.Windown.stopAllActionByTarget(this.nodeBtnSeting);var t=cc.v2(0,-485.279);this.nodeBtnPlay.runAction(cc.fadeOut(.3)),this.nodeBtnSeting.opacity=0,this.nodeBtnSeting.runAction(cc.spawn(cc.fadeIn(.4),cc.moveTo(.3,t)))}},e.prototype.onClickItemAutoSpin=function(t){T.Windown.DuaXe.audio.playClick(),this.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer).allowSwitchOff=!1;var e=t.node.name,n=Number(e);this.stateSpin.countAutoSpin=n,this.btnStartAuto.interactable=!0,this.btnStartAuto.node.children[0].getComponent(cc.Sprite).node.color=cc.Color.fromHEX(new cc.Color,"#00CCFF")},e.prototype.onClickCachChoi=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return T.Windown.DuaXe.audio.playClick(),T.Windown.UIManager.showLoading(),[4,T.Windown.loadRes(this.gameType.toString(),"Prefabs/CachChoi",cc.Prefab)];case 1:return t=e.sent(),cc.instantiate(t).parent=T.Windown.DuaXe.node.getChildByName("Game"),T.Windown.UIManager.hideLoading(),[2]}})})},e.prototype.onClickLichSu=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return T.Windown.DuaXe.audio.playClick(),T.Windown.UIManager.showLoading(),[4,T.Windown.loadRes(this.gameType.toString(),"Prefabs/LichSu",cc.Prefab)];case 1:return t=e.sent(),this._popupLichSu=cc.instantiate(t).getComponent(_.LichSuDuaXe),this._popupLichSu.node.parent=T.Windown.DuaXe.node.getChildByName("Game"),this._popupLichSu.show(),[2]}})})},r([A(cc.Node)],e.prototype,"camera",void 0),r([A(cc.Prefab)],e.prototype,"effTest",void 0),r([A(cc.Node)],e.prototype,"bkgSprite",void 0),r([A(cc.Node)],e.prototype,"btnSpin",void 0),r([A(cc.Node)],e.prototype,"parentMask",void 0),r([A(cc.Node)],e.prototype,"parentItem",void 0),r([A(cc.Node)],e.prototype,"parentItemFront",void 0),r([A(cc.Node)],e.prototype,"parentItemActive",void 0),r([A(cc.Node)],e.prototype,"parentEffect",void 0),r([A(cc.Node)],e.prototype,"parentMultiEffect",void 0),r([A(cc.Node)],e.prototype,"nearWinNoSap",void 0),r([A(cc.Node)],e.prototype,"nodeBtnPlay",void 0),r([A(cc.Node)],e.prototype,"nodeChooseAuto",void 0),r([A(cc.Node)],e.prototype,"nodeBtnSeting",void 0),r([A(cc.Button)],e.prototype,"btnStartAuto",void 0),r([A(cc.Toggle)],e.prototype,"toggleTurbo",void 0),r([A([cc.Button])],e.prototype,"listNodeDeactive",void 0),r([A(cc.Label)],e.prototype,"lb_totalBet",void 0),r([A(v.default)],e.prototype,"lb_TotalLine",void 0),r([A(c.DuaXeEffect)],e.prototype,"effect",void 0),r([A(w.MultiEffectDuaXe)],e.prototype,"multiController",void 0),r([A(p.InfoBarControllerDuaXe)],e.prototype,"infoBar",void 0),r([A(m.AssetDuaXe)],e.prototype,"asset",void 0),r([A(S.ItemSlotDuaXeNgang)],e.prototype,"itemSlotDuaXeNgang",void 0),r([A(v.default)],e.prototype,"lb_FSLeft",void 0),r([A(v.default)],e.prototype,"lb_CountAuto",void 0),r([A(b.default)],e.prototype,"labelChipReviceInBox",void 0),r([A(_.LichSuDuaXe)],e.prototype,"_popupLichSu",void 0),r([A(C.default)],e.prototype,"audio",void 0),r([R],e)}(cc.Component);n.DuaXeView=B,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./AssetDuaXe":"AssetDuaXe","./AudioDuaXe":"AudioDuaXe","./DuaXeEffect":"DuaXeEffect","./EndFreeSpinDuaXe":"EndFreeSpinDuaXe","./InfoBarControllerDuaXe":"InfoBarControllerDuaXe","./ItemSlotDuaXe":"ItemSlotDuaXe","./ItemSlotDuaXeNgang":"ItemSlotDuaXeNgang","./LichSuDuaXe":"LichSuDuaXe","./MultiEffectDuaXe":"MultiEffectDuaXe","./SpinNormalDuaXe":"SpinNormalDuaXe"}],EVENT_MANAGER:[function(t,e,n){"use strict";cc._RF.push(e,"5fb52Ox00ZNz5hXr0iklV0b","EVENT_MANAGER"),Object.defineProperty(n,"__esModule",{value:!0}),n.EVENT_MANAGER=void 0;var o=function(){function t(){}return t.onConnect="onConnect",t.onDisconnect="onDisconnect",t.onEnter="onEnter",t.onCloseXepHang="onCloseXepHang",t.LEVEL_UP="LevelUp",t.LOGIN="Login",t.GET_IMG_CHAT="getImgChat",t.CHANG_ROTATION="changeRotation",t}();n.EVENT_MANAGER=o,cc._RF.pop()},{}],EdbLoDeController:[function(t,e,n){"use strict";cc._RF.push(e,"35f77OSJ31JQbf9to+vZSQa","EdbLoDeController");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u={PRICE:1,TOTAL_BET:2,INPUT_NUMBER:3},p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.edbPrice=null,e.edbTotalBet=null,e.lbLabelOn=null,e.lbTotalWin=null,e.TYPE_EDB=u.PRICE,e.listNumber=[],e}var n;return i(e,t),n=e,e.prototype.start=function(){},e.prototype.initInfo=function(){this.TYPE_EDB==u.TOTAL_BET&&(3==s.Windown.LoDe.typeBet?this.edbTotalBet.getComponent(n).lbLabelOn.string=s.Windown.LoDe.priceLo+"":this.edbTotalBet.getComponent(n).lbLabelOn.string="1",this.edbTotalBet.string=this.lbLabelOn.string,this.edbTotalBet.textLabel.node.active=!1),this.TYPE_EDB==u.PRICE&&(this.edbPrice.getComponent(n).lbLabelOn.string="1",this.edbPrice.string="1",this.edbPrice.textLabel.node.active=!1),s.Windown.LoDe.edbNumberBet.getComponent(n).lbLabelOn.string="",this.lbLabelOn.node.active=!0;var t=s.Windown.LoDe.totalWinPerNum=parseInt(this.edbPrice.getComponent(n).lbLabelOn.string)*this.getRateAndPrice("rate")*1e3;this.lbTotalWin.string=s.Windown.formatMoney(t),s.Windown.LoDe.totalWinPerNum=t},e.prototype.onEdbBegin=function(){this.lbLabelOn.node.active=!1,this.getComponent(cc.EditBox).string="",this.getComponent(cc.EditBox).textLabel.node.active=!0},e.prototype.getRateAndPrice=function(t){var e=1,n=1;switch(s.Windown.LoDe.typeBet){case 1:e=s.Windown.LoDe.priceDe,n=s.Windown.LoDe.rateDe;break;case 2:e=s.Windown.LoDe.price3Cang,n=s.Windown.LoDe.rate3Cang;break;case 3:e=s.Windown.LoDe.priceLo,n=s.Windown.LoDe.rateLo;break;case 4:n=s.Windown.LoDe.rateLoXien2,e=s.Windown.LoDe.priceLoXien2;break;case 5:n=s.Windown.LoDe.rateLoXien3,e=s.Windown.LoDe.priceLoXien3;break;case 6:n=s.Windown.LoDe.rateLoXien4,e=s.Windown.LoDe.priceLoXien4}return"rate"==t?n:e},e.prototype.onEdbEnd=function(){if(""==this.getComponent(cc.EditBox).string)return this.edbPrice.getComponent(n).initInfo(),void this.edbTotalBet.getComponent(n).initInfo();this.getComponent(cc.EditBox).textLabel.node.active=!1,this.lbLabelOn.node.active=!0;var t=this.getRateAndPrice("price"),e=(this.getRateAndPrice("rate"),s.Windown.LoDe.edbNumberBet.getComponent(n).listNumber);if(this.TYPE_EDB==u.PRICE&&(this.lbLabelOn.string=parseInt(this.edbPrice.string)+"",4!=s.Windown.LoDe.typeBet&&5!=s.Windown.LoDe.typeBet&&6!=s.Windown.LoDe.typeBet?this.edbTotalBet.getComponent(n).lbLabelOn.string=parseInt(this.edbPrice.string)*t*e.length+"":(cc.log("clmmmmmm"),this.edbTotalBet.getComponent(n).lbLabelOn.string=parseInt(this.edbPrice.string)*t+""),this.lbTotalWin.string=s.Windown.formatMoney(this.getTotalWin(),2),s.Windown.LoDe.totalWinPerNum=parseFloat(this.getTotalWin()),this.edbTotalBet.string=this.edbTotalBet.getComponent(n).lbLabelOn.string),this.TYPE_EDB==u.TOTAL_BET){var o=parseInt(this.edbTotalBet.string);3==s.Windown.LoDe.typeBet&&(o=o<s.Windown.LoDe.priceLo?s.Windown.LoDe.priceLo:o),this.lbLabelOn.string=o+"",4!=s.Windown.LoDe.typeBet&&5!=s.Windown.LoDe.typeBet&&6!=s.Windown.LoDe.typeBet?this.edbPrice.getComponent(n).lbLabelOn.string=(o/t/e.length).toFixed(2).replace(/\.00$/,""):(cc.log("clmmmmmm"),this.edbPrice.getComponent(n).lbLabelOn.string=(o/t).toFixed(2).replace(/\.00$/,"")),this.lbTotalWin.string=s.Windown.formatMoney(this.getTotalWin(),2),s.Windown.LoDe.totalWinPerNum=parseFloat(this.getTotalWin())}},e.prototype.getTotalWin=function(){var t=this.getRateAndPrice("rate"),e=parseFloat(this.edbPrice.getComponent(n).lbLabelOn.string);return s.Windown.LoDe.totalWinPerNum=e,1e3*t*e+""},e.prototype.onEdbNumberEnd=function(t){if(""!=t.string){var e=t.string.replace(/\D/g,""),o=void 0;2!=s.Windown.LoDe.typeBet?1==(o=e.match(/.{1,2}/g))[o.length-1].length&&o.pop():(o=e.match(/.{1,3}/g))[o.length-1].length<3&&o.pop(),this.listNumber=o.map(Number);var i=o.join("-");this.lbLabelOn.string=i,this.lbLabelOn.node.active=!0,this.getComponent(cc.EditBox).string=i,this.getComponent(cc.EditBox).textLabel.node.active=!1;var r=this.getRateAndPrice("price");4!=s.Windown.LoDe.typeBet&&5!=s.Windown.LoDe.typeBet&&6!=s.Windown.LoDe.typeBet?this.edbTotalBet.getComponent(n).lbLabelOn.string=(this.listNumber.length*this.edbPrice.getComponent(n).getNumberValue()*r).toFixed(2).replace(/\.00$/,""):this.edbTotalBet.getComponent(n).lbLabelOn.string=(this.edbPrice.getComponent(n).getNumberValue()*r).toFixed(2).replace(/\.00$/,"")}},e.prototype.onEdbNumberBegin=function(){this.lbLabelOn.node.active=!1,this.getComponent(cc.EditBox).string=this.lbLabelOn.string},e.prototype.getNumberValue=function(){return parseFloat(this.lbLabelOn.string)},e.prototype.onClickClear=function(){this.listNumber=[],this.getComponent(n).lbLabelOn.string="",this.getComponent(cc.EditBox).string="",this.edbPrice.getComponent(n).initInfo(),this.edbTotalBet.getComponent(n).initInfo()},r([l(cc.EditBox)],e.prototype,"edbPrice",void 0),r([l(cc.EditBox)],e.prototype,"edbTotalBet",void 0),r([l(cc.Label)],e.prototype,"lbLabelOn",void 0),r([l(cc.Label)],e.prototype,"lbTotalWin",void 0),r([l],e.prototype,"TYPE_EDB",void 0),n=r([c],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],EditboxFormatter:[function(t,e,n){"use strict";cc._RF.push(e,"88666e4iVxOlLZtZX7ISJ1w","EditboxFormatter");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE_EDB=void 0;var s,a=t("../Windown"),c=cc._decorator,l=c.ccclass,u=c.property;(function(t){t[t.NONE=0]="NONE",t[t.MONEY=1]="MONEY",t[t.NUMBER=2]="NUMBER",t[t.NAME=3]="NAME",t[t.NICKNAME=4]="NICKNAME"})(s=n.TYPE_EDB||(n.TYPE_EDB={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.edb=null,e.TYPE=s.NONE,e.isCheckWithBalance=!1,e}return i(e,t),e.prototype.start=function(){},e.prototype.onEdbChange=function(t,e,n){var o=a.Windown.splitToInt(this.edb.string);if(o=Math.abs(o),this.TYPE==s.NUMBER||this.TYPE==s.MONEY){var i=a.Windown.ToVND(o);this.isCheckWithBalance&&a.Windown.User.userAg<o&&(i=a.Windown.ToVND(a.Windown.User.userAg)),this.TYPE==s.NUMBER?this.edb.string=a.Windown.formatNumber(i):this.edb.string=a.Windown.formatMoney(i)}else this.TYPE==s.NICKNAME?this.onFormatNickname(n):this.TYPE==s.NAME&&this.onFormatName(n)},e.prototype.onFormatName=function(t){this.edb.string=a.Windown.formatNameBank(this.edb.string),cc.sys.isBrowser&&"changed"==t&&this.edb.focus()},e.prototype.onFormatNickname=function(t){this.edb.string=this.edb.string.replace(/\s/g,""),this.edb.string=a.Windown.formatNickname(this.edb.string).trim(),cc.sys.isBrowser&&"changed"==t&&this.edb.focus()},r([u(cc.EditBox)],e.prototype,"edb",void 0),r([u({type:cc.Enum(s)})],e.prototype,"TYPE",void 0),r([u],e.prototype,"isCheckWithBalance",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Windown":"Windown"}],Editboxcontroller:[function(t,e,n){"use strict";cc._RF.push(e,"1fffc6BzktOBKYLD1N1DxYY","Editboxcontroller");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../DefineTs/EVENT_MANAGER"),a=t("../Windown"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeCacheEDB=null,e.posCacheEDB=null,e}return i(e,t),e.prototype.onLoad=function(){a.Windown.EDBController=this,this.node.x=cc.winSize.width/2,this.node.y=cc.winSize.height/2,cc.game.addPersistRootNode(this.node),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},e.prototype.onDestroy=function(){a.Windown.EDBController=null},e.prototype.start=function(){},e.prototype.checkAndChangePositionEDB=function(t,e){if(cc.sys.isMobile){var n=t.node.parent.convertToWorldSpaceAR(t.node.getPosition()),o=this.node.convertToNodeSpaceAR(n);cc.log(o.y),cc.log(n.y);var i=185;if(cc.sys.os==cc.sys.OS_ANDROID&&(i=225),o.y<i){this.nodeCacheEDB=e,this.posCacheEDB=this.nodeCacheEDB.getPosition(),this.nodeCacheEDB.stopAllActions();var r=i-o.y;this.nodeCacheEDB.runAction(cc.moveBy(.1,0,r))}}},e.prototype.endNodeEDB=function(){null!=this.nodeCacheEDB&&null!=this.posCacheEDB&&(this.nodeCacheEDB.stopAllActions(),this.nodeCacheEDB.runAction(cc.moveTo(.1,this.posCacheEDB)),this.nodeCacheEDB=null,this.posCacheEDB=null)},e.prototype.onKeyDown=function(t){switch(t.keyCode){case 6:break;case cc.macro.KEY.enter:cc.systemEvent.emit(s.EVENT_MANAGER.onEnter);break;case cc.macro.KEY.f5:a.Windown.restartGame()}},r([l],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../Windown":"Windown"}],Effect1CuaTo20:[function(t,e,n){"use strict";cc._RF.push(e,"104bdehi3xBiI8DH/PvW9X5","Effect1CuaTo20");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.executed=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o=this;return s(this,function(i){switch(i.label){case 0:t=this.getListChildren(),n=0,i.label=1;case 1:return n<5?(this.soundMgn.playEffect(this.soundMgn.TiengNo),t.forEach(function(t){o.activeWithTime(t,.1)}),[4,this.makeDelay(.17)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return t.forEach(function(t){o.activeIcon(t)}),[4,this.makeDelay(1)];case 5:return i.sent(),t.forEach(function(t){o.offItem(t)}),this.getListLastResult().forEach(function(t){o.activeIcon(t)}),e(null),[2]}})})})},e}(t("./BaseEffect").default);n.default=a,cc._RF.pop()},{"./BaseEffect":"BaseEffect"}],EffectAiCap:[function(t,e,n){"use strict";cc._RF.push(e,"b1cafLn+bVMuYJTGEZ4gXq+","EffectAiCap");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../Scritps/Game/GAME_TYPE"),u=t("../../../Scritps/Network/ConectManager"),p=t("../../../Scritps/Other/LbMonoSpace"),h=t("../../../Scritps/Windown"),d=cc._decorator,f=d.ccclass,y=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeMask=null,e.lb_Money=null,e.nodeBigWin=null,e.nodeThangCucLon=null,e.nodeThangSieuLon=null,e.scarab=null,e.scarabCucLon=null,e.scarabSieuLon=null,e.listNodeBoxMoney=[],e.btnFast=null,e.listPromiseIgro=[],e.isClickBtnFast=!1,e.funNext=null,e.funDelayOff=null,e.mapColor=new Map,e._moneyRevice=0,e.isClosing=!1,e}return i(e,t),e.prototype.onLoad=function(){this.funNext=null},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){this.unschedule(this.funDelayOff)},e.prototype.initPosMask=function(t){cc.find("mask",this.node).y=t},e.prototype.showBigWin=function(t){var e=this,n=h.Windown.AiCap.curRoomBet*h.Windown.AiCap.totalLineBet,o=t/n;return cc.log(o),new Promise(function(n){return s(e,void 0,void 0,function(){var e,i,r,s,c,l,u=this;return a(this,function(a){switch(a.label){case 0:return o<15?(n(null),[2]):(this.isClickBtnFast=!1,this.btnFast.node.active=!0,h.Windown.AiCap.audio.playEffect(h.Windown.AiCap.audio.bgm_bigwin,.6),t=t,this.node.opacity=255,this.isClosing=!1,e=0,this.lb_Money.node.active=!0,this.nodeThangCucLon.active=!1,this.nodeThangSieuLon.active=!1,this.btnFast.interactable=!1,this.scheduleOnce(function(){u.btnFast.interactable=!0},.3),this.lb_Money.resetLb(),i=4,o<25?i=4:o<40?(e=1,i=8):(e=2,i=12),this.lb_Money.time=i,this.lb_Money.setMoney(t),this.effectBigWin(),r=h.Windown.AiCap.getMakeDelay(4),this.listPromiseIgro.push(r),[4,r.prosime]);case 1:return a.sent(),o>25?(this.showMegaWin(),this.isClickBtnFast?[3,3]:(s=h.Windown.AiCap.getMakeDelay(4),this.listPromiseIgro.push(s),[4,s.prosime])):[3,3];case 2:a.sent(),a.label=3;case 3:return o>40?(this.showSuperWin(),this.isClickBtnFast?[3,5]:(c=h.Windown.AiCap.getMakeDelay(4),this.listPromiseIgro.push(c),[4,c.prosime])):[3,5];case 4:a.sent(),a.label=5;case 5:return h.Windown.AiCap.audio.stopEffect(h.Windown.AiCap.audio.bgm_bigwin),h.Windown.AiCap.audio.playEffect(h.Windown.AiCap.audio.bgm_bigwin_end),this.lb_Money.setMoneyNoTime(t),this.showEndBigWin(e),l=h.Windown.AiCap.getMakeDelay(4),this.listPromiseIgro.push(l),this.btnFast.interactable=!0,[4,l.prosime];case 6:return a.sent(),this.onClose(),n(null),[2]}})})})},e.prototype.effectBigWin=function(){h.Windown.AiCap.audio.playEffect(h.Windown.AiCap.audio.bgm_bigwin_cue),this.nodeBigWin.active=!0,this.nodeBigWin.opacity=0,this.nodeBigWin.stopAllActions(),this.nodeBigWin.runAction(cc.fadeIn(.3)),this.scarab.stopAllActions(),this.scarab.runAction(cc.repeatForever(cc.sequence(cc.moveTo(1,cc.v2(0,375)),cc.moveTo(1,cc.v2(0,355))))),this.scarab.children[0].opacity=0,this.scarab.getComponent(cc.Animation).play()},e.prototype.showMegaWin=function(){var t=this;h.Windown.AiCap.audio.playEffect(h.Windown.AiCap.audio.bgm_bigwin_cue),this.nodeBigWin.active=!1,this.nodeThangCucLon.active=!0,this.nodeThangCucLon.opacity=0,this.nodeThangCucLon.stopAllActions(),this.nodeThangCucLon.runAction(cc.sequence(cc.fadeIn(.001),cc.callFunc(function(){t.scarabCucLon.stopAllActions(),t.scarabCucLon.runAction(cc.repeatForever(cc.sequence(cc.moveTo(1,cc.v2(0,375)),cc.moveTo(1,cc.v2(0,355))))),t.scarabCucLon.children[0].opacity=0,t.scarabCucLon.getComponent(cc.Animation).play()})))},e.prototype.showSuperWin=function(){var t=this;h.Windown.AiCap.audio.playEffect(h.Windown.AiCap.audio.bgm_bigwin_cue),this.nodeBigWin.active=!1,this.nodeThangCucLon.active=!1,this.nodeThangSieuLon.active=!0,this.nodeThangSieuLon.opacity=0,this.nodeThangSieuLon.stopAllActions(),this.nodeThangSieuLon.runAction(cc.sequence(cc.fadeIn(.001),cc.callFunc(function(){t.scarabSieuLon.stopAllActions(),t.scarabSieuLon.runAction(cc.repeatForever(cc.sequence(cc.moveTo(1,cc.v2(0,375)),cc.moveTo(1,cc.v2(0,355))))),t.scarabSieuLon.children[0].opacity=0,t.scarabSieuLon.getComponent(cc.Animation).play()})))},e.prototype.showEndBigWin=function(t){0==t?this.scarab.getComponent(cc.Animation).play():1==t?this.scarabCucLon.getComponent(cc.Animation).play():this.scarabSieuLon.getComponent(cc.Animation).play(),this.lb_Money.node.stopAllActions(),this.lb_Money.node.runAction(cc.sequence(cc.scaleTo(.3,.5),cc.scaleTo(.3,.45)))},e.prototype.onClickSkip=function(){for(this.btnFast.interactable=!1,this.isClickBtnFast=!0;this.listPromiseIgro.length>0;)this.listPromiseIgro.shift().cancle(!0)},e.prototype.resetView=function(){this.lb_Money.resetLb(),this.lb_Money.node.active=!1,this.btnFast.node.active=!1,this.node.opacity=255,this.nodeBigWin.active=!1,this.nodeThangCucLon.active=!1,this.nodeThangSieuLon.active=!1},e.prototype.onClose=function(){var t=this;if(this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){t.resetView()}))),h.Windown.AiCap.dataFinish.get("agWin")>1e4){var e=u.ConectManager.getIns().getSFSObj();e.putInt("gt",l.default.AiCap),e.putInt("mt",h.Windown.AiCap.dataFinish.get("agWin")),e.putUtfString("nn",h.Windown.User.nickName),e.putUtfString("dt","bw"),u.ConectManager.getIns().sendRequest(c.REQUEST_CODE.AddBigWin,e)}},r([y(cc.Node)],e.prototype,"nodeMask",void 0),r([y(p.default)],e.prototype,"lb_Money",void 0),r([y(cc.Node)],e.prototype,"nodeBigWin",void 0),r([y(cc.Node)],e.prototype,"nodeThangCucLon",void 0),r([y(cc.Node)],e.prototype,"nodeThangSieuLon",void 0),r([y(cc.Node)],e.prototype,"scarab",void 0),r([y(cc.Node)],e.prototype,"scarabCucLon",void 0),r([y(cc.Node)],e.prototype,"scarabSieuLon",void 0),r([y([cc.Node])],e.prototype,"listNodeBoxMoney",void 0),r([y(cc.Button)],e.prototype,"btnFast",void 0),r([f],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Windown":"Windown"}],EffectAnJP:[function(t,e,n){"use strict";cc._RF.push(e,"c5ea3X+VsZECIbHcnwCjUYg","EffectAnJP");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.executed=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,r,a,c;return s(this,function(s){switch(s.label){case 0:return t=this.dataFinishiItemNomarl,n=t.objReviceFirtItem,[4,this.soundMgn.playEffectSync(this.soundMgn.EffectAnRandomItemNhoSau)];case 1:return s.sent(),o=n.hesoX,this.runEffectRandomLabelHeso(30,100),[4,this.soundMgn.playEffectSync(this.soundMgn.RandomSo)];case 2:return s.sent(),this.offEffectRandomLabelHeso(o),0==t.objReviceFirtItem.moneyRevice?(e(null),[2]):0==(i=this.getBtnItem(8).point)?[3,7]:[4,this.soundMgn.playEffectSync(this.soundMgn.ShowHeSoRandom)];case 3:s.sent(),r=i,a=0,c=o,s.label=4;case 4:return a<c?(o--,this.setStringLbHeSo(o),this.soundMgn.playEffect(this.soundMgn.TiengNo),this.currentBtnTrai.setPointBy(r),[4,this.makeDelay(.45)]):[3,7];case 5:s.sent(),s.label=6;case 6:return a++,[3,4];case 7:return[4,this.makeDelay(1)];case 8:return s.sent(),e(null),[2]}})})})},e}(t("./BaseEffectEnd").default);n.default=a,cc._RF.pop()},{"./BaseEffectEnd":"BaseEffectEnd"}],EffectAnLuon1Cua:[function(t,e,n){"use strict";cc._RF.push(e,"03158rKBIFBiKuyHGtGw9R3","EffectAnLuon1Cua");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.executed=function(){return r(this,void 0,Promise,function(){var t=this;return s(this,function(){return[2,new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i=this;return s(this,function(r){switch(r.label){case 0:for(t=this.xengController.xengView.getListLastResult(),n=0;n<t.length;n++)this.actionNhapNhay(t[n],50,10,!0);return[4,this.soundMgn.playEffectSync(this.soundMgn.EffectAnRandomItemNhoSau)];case 1:return r.sent(),(o=this.getListChildren()).forEach(function(t){i.actionNhapNhay(t,30,3,!0)}),[4,this.soundMgn.playEffectSync(this.soundMgn.NoLienTuc)];case 2:return r.sent(),o.forEach(function(t){i.offItem(t)}),t.forEach(function(t){i.activeIcon(t)}),[4,this.soundMgn.playEffectSync(this.soundMgn.CauNoiAnTruoc1CuaX30)];case 3:return r.sent(),t.forEach(function(t){i.actionNhapNhay(t,40,4)}),[4,this.soundMgn.playEffectSync(this.soundMgn.TiengKen2)];case 4:return r.sent(),t.forEach(function(t){i.offItem(t)}),e(null),[2]}})})})]})})},e}(t("./BaseEffect").default);n.default=a,cc._RF.pop()},{"./BaseEffect":"BaseEffect"}],EffectAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"618ebJ9bbtAVpzURRjM5Pu5","EffectAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Game/GAME_TYPE"),l=t("../../../Scritps/Other/LbMonoSpace"),u=t("../../../Scritps/Util"),p=t("../../../Scritps/Windown"),h=t("./Effect/BigwinAsgard"),d=t("./Effect/EndFreeSpinAsgard"),f=t("./Effect/NearFsAsgard"),y=t("./Effect/StartFreeSpinAsgard"),g=cc._decorator,m=g.ccclass,v=g.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeMask=null,e.lb_Money=null,e.nodeBigWin=null,e.listNodeBoxMoney=[],e.btnFast=null,e.listPromiseIgro=[],e.isClickBtnFast=!1,e.funNext=null,e.funDelayOff=null,e.mapColor=new Map,e.nodeEffNearWin=null,e}return i(e,t),e.prototype.onLoad=function(){this.funNext=null},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){this.unschedule(this.funDelayOff)},e.prototype.initPosMask=function(t){cc.find("mask",this.node).y=t},e.prototype.onClickBtnShowFast=function(){for(this.btnFast.interactable=!1,this.isClickBtnFast=!0;this.listPromiseIgro.length>0;)this.listPromiseIgro.shift().cancle(!0)},e.prototype.showBigWin=function(t,e){var n=this;return new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r;return a(this,function(s){switch(s.label){case 0:return[4,p.Windown.loadRes(c.default.Asgard.toString(),"Frefabs/Bigwin",cc.Prefab)];case 1:return n=s.sent(),(i=cc.instantiate(n)).parent=this.node,i.zIndex=1,r=i.getComponent(h.default),[4,p.Windown.Asgard.getPromise(r.init(t,e))];case 2:return s.sent(),o(null),[2]}})})})},e.prototype.activeNodeNearWin=function(t){p.Windown.Asgard.activeMask(!0);for(var e=t;e<7;e++)p.Windown.Asgard.activeMask(!1,e);if(null==this.nodeEffNearWin)for(this.nodeEffNearWin=cc.instantiate(p.Windown.Asgard.asset.nearFS),this.nodeEffNearWin.parent=p.Windown.Asgard.parentEffect,p.Windown.Asgard.infoBar.showOneMoreScater(),e=0;e<t;e++)p.Windown.Asgard.listColum[e].getListSymbolResult().forEach(function(t){return t.effectScaterShowFS()});this.nodeEffNearWin.getComponent(f.default).init(t)},e.prototype.offNearWin=function(){p.Windown.Asgard.activeMask(!1),p.Windown.Asgard.audio.stopEffect(p.Windown.Asgard.audio.fastspinStart),this.nodeEffNearWin&&this.nodeEffNearWin.getComponent(f.default).effOff(),this.nodeEffNearWin=null;for(var t=0,e=p.Windown.Asgard.listColum;t<e.length;t++)for(var n=0,o=e[t].getListSymbolResult();n<o.length;n++){var i=o[n];i.checkIsInView()&&i.effectScaterIdle()}},e.prototype.swidthFS=function(t,e){t?(this.listNodeBoxMoney.forEach(function(t){t.y=-613}),p.Windown.Asgard.switchBkgGame(!0,e)):(p.Windown.Asgard.switchBkgGame(!1),this.listNodeBoxMoney.forEach(function(t){t.y=-387.117}))},e.prototype.activeNearWinNoSap=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r,s,c,l,h,d,f,y,g,m,v,S,b,w;return a(this,function(a){switch(a.label){case 0:if(a.trys.push([0,5,,6]),t=p.Windown.Asgard.stateSpin.curentCountScater>2&&!p.Windown.Asgard.stateSpin.isMaxSpeed,p.Windown.Asgard.nearWinNoSap.active||!t)return e(null),[2];for(p.Windown.Asgard.nearWinNoSap.opacity=255,p.Windown.Asgard.nearWinNoSap.active=!0,p.Windown.Asgard.audio.playEffect(p.Windown.Asgard.audio.heartbeatNoise),n=!1,p.Windown.Asgard.stateSpin.offAllSymbol(!1),o=0,i=p.Windown.Asgard.listColum;o<i.length;o++){for(m=i[o],r=0,s=m.getListSymbolResult();r<s.length;r++)if(!(b=s[r]).checkIsInView()){n=!0;break}if(n)break}if(!n)return e(null),[2];for(c=0,l=p.Windown.Asgard.listColum;c<l.length;c++)for(m=l[c],h=0,d=m.getListSymbolResult();h<d.length;h++)(b=d[h]).checkIsInView()&&b.effectNearWinScater(!0);p.Windown.Asgard.infoBar.showOneMoreScater(),f=0,a.label=1;case 1:return f<4?(p.Windown.Asgard.audio.playEffectNoStop(p.Windown.Asgard.audio.heartbeat),[4,p.Windown.Asgard.getMakeDelay(.9).prosime]):[3,4];case 2:a.sent(),a.label=3;case 3:return f++,[3,1];case 4:for(p.Windown.Asgard.activeMask(!1),y=0,g=p.Windown.Asgard.listColum;y<g.length;y++)for(m=g[y],v=0,S=m.getListSymbolResult();v<S.length;v++)(b=S[v]).checkIsInView()&&b.effectScaterIdle();return e(null),[3,6];case 5:return w=a.sent(),u.Util.ThrowErrProsime(w),[3,6];case 6:return[2]}})})})},e.prototype.offNearWinNoSap=function(){p.Windown.Asgard.nearWinNoSap.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){p.Windown.Asgard.nearWinNoSap.active=!1})))},e.prototype.showTakeFreeSpin=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r;return a(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),p.Windown.Asgard.stateSpin.freeSpinCache=t,p.Windown.Asgard.stateSpin.activeAllSymbol(),p.Windown.Asgard.listColum.forEach(function(t){t.getListSymbolResult().forEach(function(t){t.effectScaterShowFS()})}),p.Windown.Asgard.audio.playEffect(p.Windown.Asgard.audio.scatterWinHighligh),p.Windown.loadRes(c.default.Asgard.toString(),"Frefabs/ShowFreeSpin",cc.Prefab),[4,p.Windown.Asgard.getMakeDelay(1.5).prosime];case 1:return s.sent(),p.Windown.UIManager.showLoading(),[4,p.Windown.loadRes(c.default.Asgard.toString(),"Frefabs/ShowFreeSpin",cc.Prefab)];case 2:return e=s.sent(),p.Windown.UIManager.hideLoading(),(o=cc.instantiate(e)).parent=this.node,o.zIndex=1,i=o.getComponent(y.default),[4,p.Windown.Asgard.getPromise(i.show(t,this.listNodeBoxMoney))];case 3:return s.sent(),p.Windown.Asgard.effect.swidthFS(!0),[4,p.Windown.Asgard.getMakeDelay(1).prosime];case 4:return s.sent(),n(null),[3,6];case 5:return r=s.sent(),u.Util.ThrowErrProsime(r),[3,6];case 6:return[2]}})})})},e.prototype.showEndFree=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r;return a(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),t<1?(p.Windown.Asgard.audio.stopBkgFs(),this.swidthFS(!1),n(null),[2]):[4,p.Windown.loadRes(c.default.Asgard.toString(),"Frefabs/EndFreeSpin",cc.Prefab)];case 1:return e=s.sent(),this.swidthFS(!1),(o=cc.instantiate(e)).parent=this.node,o.zIndex=999,i=o.getComponent(d.default),[4,p.Windown.Asgard.getPromise(i.show(t))];case 2:return s.sent(),n(null),[3,4];case 3:return r=s.sent(),u.Util.ThrowErrProsime(r),[3,4];case 4:return[2]}})})})},e.prototype.pointsOnCircle=function(t){var e=t.radius,n=t.angle,o=t.cx,i=t.cy;return n*=Math.PI/180,[o+e*Math.sin(n),i+e*Math.cos(n)]},e.prototype.resetView=function(){this.lb_Money.resetLb(),this.lb_Money.node.active=!1,this.node.opacity=255,this.nodeBigWin.active=!1},e.prototype.onClose=function(){var t=this;this.btnFast.interactable=!1,this.unschedule(this.funDelayOff),this.unschedule(this.onClose),this.funNext&&this.funNext(),this.funNext=null,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){t.resetView()}))),this.isClickBtnFast=!1},r([v(cc.Node)],e.prototype,"nodeMask",void 0),r([v(l.default)],e.prototype,"lb_Money",void 0),r([v(cc.Node)],e.prototype,"nodeBigWin",void 0),r([v([cc.Node])],e.prototype,"listNodeBoxMoney",void 0),r([v(cc.Button)],e.prototype,"btnFast",void 0),r([m],e)}(cc.Component);n.default=S,cc._RF.pop()},{"../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./Effect/BigwinAsgard":"BigwinAsgard","./Effect/EndFreeSpinAsgard":"EndFreeSpinAsgard","./Effect/NearFsAsgard":"NearFsAsgard","./Effect/StartFreeSpinAsgard":"StartFreeSpinAsgard"}],EffectBassNho:[function(t,e,n){"use strict";cc._RF.push(e,"19877DnWkNPvoFech+Rprnw","EffectBassNho");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Windown"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.executed=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,r,c,l,u,p,h,d,f,y,g,m,v,S,b,w,_,C=this;return s(this,function(s){switch(s.label){case 0:this.soundMgn.playEffect(this.soundMgn.CauNoiVeBass),t=this.dataFinishiItemNomarl.objReviceFirtItem.idResult,n=this.getListChildren(),o=!0,m=0,s.label=1;case 1:if(!(m<20))return[3,4];if(o)for(v in this.offItem(this.getChildById(t)),n)Number(v)!=t&&this.offEffect(n[v]);else for(v in this.offEffect(this.getChildById(t)),n)Number(v)!=t&&this.offItem(n[v]);return o=!o,[4,this.makeDelay(.15)];case 2:s.sent(),s.label=3;case 3:return m++,[3,1];case 4:return[4,this.makeDelay(.5)];case 5:s.sent(),this.dataFinishiItemNomarl.ListObjReviceSub.forEach(function(t){C.pushIdResult(t.idResult)}),i=[3,9,11,14,17,22],r=this.getIdListLastResutl(),a.Windown.shuffle(i),c=0,l=-1,s.label=6;case 6:return c!=i.length?[3,8]:(-1!=l&&this.offItem(this.getChildById(i[l])),this.activeIcon(this.getChildById(r[1])),this.soundMgn.playEffect(this.soundMgn.TiengNo),[4,this.makeDelay(2)]);case 7:return s.sent(),[3,10];case 8:return this.soundMgn.playEffect(this.soundMgn.Hu),-1!=l&&this.offItem(this.getChildById(i[l])),this.activeIcon(this.getChildById(i[c])),l=c,c++,[4,this.makeDelay(.5)];case 9:return s.sent(),[3,6];case 10:return u=this.getChildById(r[0]),p=this.getChildById(r[1]),this.actionNhapNhay(u,30,3,!0),this.actionNhapNhay(p,30,3,!0),[4,this.soundMgn.playEffectSync(this.soundMgn.NoLienTuc)];case 11:s.sent(),h=[6,7,8,9,10,11,12,13],d=[18,19,20,21,22,23,0,1],this.soundMgn.playEffect(this.soundMgn.ChayItem),m=0,s.label=12;case 12:if(!(m<12))return[3,15];for(v in h)y=h[v],this.offEffect(this.getChildById(y)),h[v]--,h[v]<0&&(h[v]=23);for(v in(f=h[h.length-1]+1)>23&&(f=0),this.offItem(this.getChildById(f)),d)y=d[v],this.offEffect(this.getChildById(y)),d[v]--,d[v]<0&&(d[v]=23);return(f=d[d.length-1]+1)>23&&(f=0),this.offItem(this.getChildById(f)),[4,this.makeDelay(1.6/12)];case 13:s.sent(),s.label=14;case 14:return m++,[3,12];case 15:return this.soundMgn.stopEffect(this.soundMgn.ChayItem),n.forEach(function(t){C.offItem(t)}),(g=[r[0],r[1],r[2]]).forEach(function(t){C.offEffect(C.getChildById(t))}),[4,this.soundMgn.playEffectSync(this.soundMgn.TiengNo)];case 16:s.sent(),this.soundMgn.playEffect(this.soundMgn.EffectAnRandomItemNhoSau),o=!0,m=0,s.label=17;case 17:if(!(m<20))return[3,20];if(o)for(v in g.forEach(function(t){C.offItem(C.getChildById(t))}),n)g.includes(Number(v))||this.offEffect(n[v]);else for(v in g.forEach(function(t){C.offEffect(C.getChildById(t))}),n)g.includes(Number(v))||this.offItem(n[v]);return o=!o,[4,this.makeDelay(.1)];case 18:s.sent(),s.label=19;case 19:return m++,[3,17];case 20:for(S=r[2],b=r[3],w=S;++w!=b;)w>23&&(w=0);_=-1,s.label=21;case 21:return-1==_||g.includes(_)||this.offItem(this.getChildById(_)),_=S,++S>23&&(S=0),this.soundMgn.playEffect(this.soundMgn.Bip),this.activeIcon(this.getChildById(S)),S==b?(-1==_||g.includes(_)||this.offItem(this.getChildById(_)),this.soundMgn.stopEffect(this.soundMgn.RandomSo),[3,23]):[4,this.makeDelay(.05)];case 22:return s.sent(),[3,21];case 23:return[4,this.makeDelay(1)];case 24:return s.sent(),this.soundMgn.playEffect(this.soundMgn.RandomSo),this.actionNhapNhay(this.getChildById(r[3]),20,2,!0),[4,this.makeDelay(2)];case 25:return s.sent(),this.soundMgn.stopEffect(this.soundMgn.RandomSo),[4,this.soundMgn.playEffectSync(this.soundMgn.Bip)];case 26:return s.sent(),this.offEffect(this.getChildById(r[4])),[4,this.soundMgn.playEffectSync(this.soundMgn.TiengNo)];case 27:return s.sent(),[4,this.makeDelay(.5)];case 28:return s.sent(),e(null),[2]}})})})},e}(t("./BaseEffectEnd").default);n.default=c,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./BaseEffectEnd":"BaseEffectEnd"}],EffectCaishen:[function(t,e,n){"use strict";cc._RF.push(e,"3295441sWFPGKJi/YN7qtUg","EffectCaishen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.EffectCaishen=void 0;var c=t("../../../Scritps/Game/GAME_TYPE"),l=t("./StartFreeSpinCaishen"),u=t("./EndFreeSpinCaishen"),p=t("./NearFSCaishen"),h=t("../../../Scritps/Windown"),d=t("../../../Scritps/Util"),f=t("./BigWinCaiShen"),y=t("./SpinFreeSpinCaishen"),g=cc._decorator,m=g.ccclass,v=g.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listNodeBoxMoney=[],e.nodeEffNearWin=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.switchFS=function(t,e){t?(this.listNodeBoxMoney.forEach(function(t){t.setPosition(t.position.x,-609)}),h.Windown.Caishen.switchBkgGame(!0,e)):(h.Windown.Caishen.switchBkgGame(!1),this.listNodeBoxMoney.forEach(function(t){t.setPosition(t.position.x,-381.5)}))},e.prototype.showBigWin=function(t,e){var n=this;return new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r;return a(this,function(s){switch(s.label){case 0:return[4,h.Windown.loadRes(c.default.Caishen.toString(),"Prefabs/BigWin",cc.Prefab)];case 1:return n=s.sent(),(i=cc.instantiate(n)).parent=this.node,r=i.getComponent(f.BigWinCaishen),[4,h.Windown.Caishen.getPromise(r.init(t,e))];case 2:return s.sent(),o(null),[2]}})})})},e.prototype.showSpinFreeSpin=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r;return a(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),h.Windown.Caishen.stateSpin.activeAllSymbol(),h.Windown.Caishen.listColum.forEach(function(t){t.getListSymbolResult().forEach(function(t){t.effectScaterShowFS()})}),h.Windown.Caishen.audio.playEffect(h.Windown.Caishen.audio.scatterWinHighlight),h.Windown.Caishen.itemSlotCaishenNgang.getListSymbolResult().forEach(function(t){t.effectNearWinScater(!1)}),h.Windown.loadRes(c.default.Caishen.toString(),"Prefabs/SpinFreeSpin",cc.Prefab),[4,h.Windown.Caishen.getMakeDelay(1.3).prosime];case 1:return s.sent(),h.Windown.Caishen.audio.playBkgfs(),h.Windown.UIManager.showLoading(),[4,h.Windown.loadRes(c.default.Caishen.toString(),"Prefabs/SpinFreeSpin",cc.Prefab)];case 2:return e=s.sent(),h.Windown.UIManager.hideLoading(),(o=cc.instantiate(e)).parent=this.node,i=o.getComponent(y.default),h.Windown.Caishen.audio.playEffect(h.Windown.Caishen.audio.openSpinFree),[4,i.init(t)];case 3:return s.sent(),n(null),[3,5];case 4:return r=s.sent(),d.Util.ThrowErrProsime(r),[3,5];case 5:return[2]}})})})},e.prototype.showTakeFreeSpin=function(t,e){var n=this;return new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),h.Windown.Caishen.stateSpin.freeSpinCache=t,h.Windown.loadRes(c.default.Caishen.toString(),"Prefabs/StartFreeSpin",cc.Prefab),h.Windown.Caishen.audio.playEffect(h.Windown.Caishen.audio.scatterWinHighligh),[4,h.Windown.loadRes(c.default.Caishen.toString(),"Prefabs/StartFreeSpin",cc.Prefab)];case 1:return n=a.sent(),(i=cc.instantiate(n)).parent=this.node,r=i.getComponent(l.StartFreeSpinCaishen),[4,h.Windown.Caishen.getPromise(r.show(t,e))];case 2:return a.sent(),h.Windown.Caishen.setLbFreeSpinLeft(t),h.Windown.Caishen.effect.switchFS(!0),[4,h.Windown.Caishen.getMakeDelay(1).prosime];case 3:return a.sent(),o(null),[3,5];case 4:return s=a.sent(),d.Util.ThrowErrProsime(s),[3,5];case 5:return[2]}})})})},e.prototype.showEndFree=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r;return a(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),t<1?(h.Windown.Caishen.audio.stopBkgFs(),this.switchFS(!1),n(null),[2]):[4,h.Windown.loadRes(c.default.Caishen.toString(),"Prefabs/EndFreeSpin",cc.Prefab)];case 1:return e=s.sent(),this.switchFS(!1),(o=cc.instantiate(e)).parent=this.node,i=o.getComponent(u.EndFreeSpinCaishen),[4,h.Windown.Caishen.getPromise(i.show(t))];case 2:return s.sent(),n(null),[3,4];case 3:return r=s.sent(),d.Util.ThrowErrProsime(r),[3,4];case 4:return[2]}})})})},e.prototype.activeNodeNearWin=function(t){h.Windown.Caishen.activeMask(!0);for(var e=t;e<6;e++)h.Windown.Caishen.activeMask(!1,e);if(null==this.nodeEffNearWin)for(this.nodeEffNearWin=cc.instantiate(h.Windown.Caishen.asset.nearFS),this.nodeEffNearWin.setParent(h.Windown.Caishen.parentEffect),e=0;e<t;e++)h.Windown.Caishen.listColum[e].getListSymbolResult().forEach(function(t){return t.effectScaterShowFS()});this.nodeEffNearWin.getComponent(p.NearFSCaishen).init(t)},e.prototype.offNearWin=function(){h.Windown.Caishen.activeMask(!1),h.Windown.Caishen.audio.stopEffect(h.Windown.Caishen.audio.fastspinStart),this.nodeEffNearWin&&this.nodeEffNearWin.getComponent(p.NearFSCaishen).effOff(),this.nodeEffNearWin=null;for(var t=0,e=h.Windown.Caishen.listColum;t<e.length;t++)for(var n=0,o=e[t].getListSymbolResult();n<o.length;n++)o[n].checkIsInView()},e.prototype.activeNearWinNoSap=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r,s,c,l,u,p,f,y,g,m,v,S,b,w;return a(this,function(a){switch(a.label){case 0:if(a.trys.push([0,5,,6]),cc.log("activeNearWinNoSap"),t=h.Windown.Caishen.stateSpin.curentCountScater>2&&!h.Windown.Caishen.stateSpin.isMaxSpeed,h.Windown.Caishen.nearWinNoSap.active||!t)return e(null),[2];for(h.Windown.Caishen.nearWinNoSap.opacity=255,h.Windown.Caishen.nearWinNoSap.active=!0,h.Windown.Caishen.audio.playEffect(h.Windown.Caishen.audio.heartbeatNoise),n=!1,h.Windown.Caishen.stateSpin.offAllSymbol(!1),o=0,i=h.Windown.Caishen.listColum;o<i.length;o++){for(m=i[o],r=0,s=m.getListSymbolResult();r<s.length;r++)if(!(b=s[r]).checkIsInView()){n=!0;break}if(n)break}if(!n)return e(null),[2];for(c=0,l=h.Windown.Caishen.listColum;c<l.length;c++)for(m=l[c],u=0,p=m.getListSymbolResult();u<p.length;u++)(b=p[u]).checkIsInView()&&b.effectNearWinScater(!0);h.Windown.Caishen.infoBar.showOneMoreScater(),f=0,a.label=1;case 1:return f<4?(h.Windown.Caishen.audio.playEffectNoStop(h.Windown.Caishen.audio.heartbeat),[4,h.Windown.Caishen.getMakeDelay(.7).prosime]):[3,4];case 2:a.sent(),a.label=3;case 3:return f++,[3,1];case 4:for(h.Windown.Caishen.activeMask(!1),y=0,g=h.Windown.Caishen.listColum;y<g.length;y++)for(m=g[y],v=0,S=m.getListSymbolResult();v<S.length;v++)(b=S[v]).checkIsInView()&&b.effectScaterIdle();return e(null),[3,6];case 5:return w=a.sent(),d.Util.ThrowErrProsime(w),[3,6];case 6:return[2]}})})})},e.prototype.offNearWinNoSap=function(){h.Windown.Caishen.nearWinNoSap.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){h.Windown.Caishen.nearWinNoSap.active=!1})))},r([v([cc.Node])],e.prototype,"listNodeBoxMoney",void 0),r([m],e)}(cc.Component);n.EffectCaishen=S,cc._RF.pop()},{"../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./BigWinCaiShen":"BigWinCaiShen","./EndFreeSpinCaishen":"EndFreeSpinCaishen","./NearFSCaishen":"NearFSCaishen","./SpinFreeSpinCaishen":"SpinFreeSpinCaishen","./StartFreeSpinCaishen":"StartFreeSpinCaishen"}],EffectCandy:[function(t,e,n){"use strict";cc._RF.push(e,"a65a3Abl1VD0p7qzWctxwuF","EffectCandy");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ske=null,e}return i(e,t),e.prototype.onLoad=function(){this.funNext=null},e.prototype.onEnable=function(){var t=this;this.scheduleOnce(this.funDelayOff=function(){t.node.on(cc.Node.EventType.TOUCH_END,t.onClose,t)},.7)},e.prototype.onDisable=function(){this.unschedule(this.funDelayOff),this.node.off(cc.Node.EventType.TOUCH_END,this.onClose,this)},e.prototype.showJackpot=function(t){this.node.active=!0,s.Windown.MiniSlot.dataFinish.payLinePrizeValue;var e=cc.find("Jackpot",this.node);e.active=!0,e.getComponentInChildren(cc.ParticleSystem).resetSystem(),this.ske.node.active=!0,this.ske.setAnimation(0,"NoHu-112",!1),this.ske.addAnimation(0,"NoHu-Idel",!0),this.isShowJP=!0,this.funNext=t},e.prototype.showBigWin=function(t){this.node.active=!0;var e=s.Windown.MiniSlot.dataFinish.payLinePrizeValue;this.ske.node.active=!0,e>=50*s.Windown.MiniSlot.curRoomBet?this.ske.setAnimation(0,"ThangSieuLown-112",!1):this.ske.setAnimation(0,"Thang-Lown-112",!1);var n=cc.find("BigWin",this.node);n.active=!0,n.getComponentInChildren(cc.ParticleSystem).resetSystem(),this.funNext=t,this.scheduleOnce(this.onClose,1.5)},e.prototype.resetView=function(){this.ske.node.active=!1,cc.find("BigWin",this.node).active=!1,cc.find("Jackpot",this.node).active=!1},e.prototype.onClose=function(t){t&&t.stopPropagation&&t.stopPropagation(),this.unschedule(this.funDelayOff),this.unschedule(this.onClose),this.resetView(),this.funNext&&this.funNext(),this.funNext=null,this.node.active=!1},r([l(sp.Skeleton)],e.prototype,"ske",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],EffectControlMatTroi:[function(t,e,n){"use strict";cc._RF.push(e,"18893ioByZGe6DFmxHIWQh8","EffectControlMatTroi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=t("./InfoBarControllerMatTroi"),h=cc.tween,d=cc._decorator,f=d.ccclass,y=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bottomParent=null,e.parentEffect=null,e.parentEffectLighting=null,e.nodeBonusSun=null,e.nodeBonusMoon=null,e.listLightingMoon=[],e.listLightingSun=[],e.animSunAdd=null,e.animMoonAdd=null,e.animSunTotalBonusSpin=null,e.animMoonTotalBonusSpin=null,e.animGateBonus=null,e.animSunController=null,e.animMoonController=null,e.lbBonusSpinSun=null,e.lbBonusSpinMoon=null,e.lbBonusTotalLR=null,e.infoBarController=null,e._mutilLeft=1,e._mutilRight=1,e}var n;return i(e,t),n=e,e.prototype.onLoad=function(){n.instance=this},e.prototype.effectLightingBonus=function(t,e){var n=cc.v2(0,0),o=9==e?this.nodeBonusMoon:this.nodeBonusSun;n=u.Windown.convertNodeInOtherNode(o,this.parentEffectLighting);var i=cc.misc.radiansToDegrees(Math.atan(Math.abs(t.x-n.x)/Math.abs(t.y-n.y)));i=t.x>n.x?-i:i;var r=cc.Vec2.distance(t,n),s=cc.v2(1,1),a=cc.v2(s.x*r/665,s.y*r/665),c=u.Windown.MatTroiView.asset.getItemLighting(e);c.parent=this.parentEffectLighting,c.scaleY=a.y,c.position=t,c.angle=i,c.runAction(cc.sequence(cc.delayTime(.3),cc.fadeOut(.2))),9==e?this.listLightingMoon.push(c):this.listLightingSun.push(c)},e.prototype.addMutil=function(t,e){var n=this;return new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s;return a(this,function(a){switch(a.label){case 0:n=0==u.Windown.MatTroiView.stateSpin.lastFreeSpinLeft?1:2,a.label=1;case 1:if(a.trys.push([1,15,,16]),9!=t)return[3,8];i=this._mutilRight+n,r=0,a.label=2;case 2:return r<e-this._mutilRight?(this.lbBonusSpinMoon.string="x"+i,this.animMoonAdd.node.active=!0,this.animMoonAdd.play("Effect_moon_add"),this.animMoonController.play("LabelMoonAdd"),u.Windown.MatTroiView.audio.playEffectNoStop(u.Windown.MatTroiView.audio.multiIncreaseRight),i++,[4,u.Windown.MatTroiView.getMakeDelay(.1/u.Windown.MatTroiView.getDelta()).prosime]):[3,5];case 3:a.sent(),a.label=4;case 4:return r+=n,[3,2];case 5:return this._mutilRight=e,this.lbBonusSpinMoon.string="x"+e,i>0?[4,u.Windown.MatTroiView.getMakeDelay(.5).prosime]:[3,7];case 6:a.sent(),a.label=7;case 7:return[3,14];case 8:i=this._mutilLeft+n,r=0,a.label=9;case 9:return r<e-this._mutilLeft?(this.lbBonusSpinSun.string="x"+i,this.animSunAdd.node.active=!0,this.animSunAdd.play("Effect_Sun_add"),this.animSunController.play("LabelSunAdd"),u.Windown.MatTroiView.audio.playEffectNoStop(u.Windown.MatTroiView.audio.multiIncreaseLeft),[4,u.Windown.MatTroiView.getMakeDelay(.1/u.Windown.MatTroiView.getDelta()).prosime]):[3,12];case 10:a.sent(),a.label=11;case 11:return r+=n,[3,9];case 12:return this._mutilLeft=e,this.lbBonusSpinSun.string="x"+e,i>0?[4,u.Windown.MatTroiView.getMakeDelay(.5).prosime]:[3,14];case 13:a.sent(),a.label=14;case 14:return o(null),[3,16];case 15:return s=a.sent(),l.Util.ThrowErrProsime(s),[3,16];case 16:return[2]}})})})},e.prototype.removeEffectLighting=function(t){9==t?(this.listLightingMoon.forEach(function(e){e.stopAllActions(),e.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){u.Windown.MatTroiView.asset.putItemLighting(e,t)})))}),this.listLightingMoon=[]):(this.listLightingSun.forEach(function(e){e.stopAllActions(),e.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){u.Windown.MatTroiView.asset.putItemLighting(e,t)})))}),this.listLightingSun=[]),u.Windown.MatTroiView.listColum.forEach(function(e){e.getListSymbolResult().forEach(function(e){e.result==t&&e.removeBkgBonusSpin()})})},e.prototype.addMultiBonus=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,c,p;return a(this,function(){try{i=null,r=cc.v2(0,0),s="",9==t?((e=cc.instantiate(this.lbBonusSpinMoon.node.parent)).parent=this.bottomParent,i=this.animMoonAdd,s="Effect_moon_add",r=u.Windown.convertNodeInOtherNode(this.infoBarController.nodePosMulti,this.bottomParent),e.setPosition(u.Windown.convertNodeInOtherNode(this.lbBonusSpinMoon.node.parent,this.bottomParent))):((e=cc.instantiate(this.lbBonusSpinSun.node.parent)).parent=this.bottomParent,i=this.animSunAdd,s="Effect_Sun_add",r=u.Windown.convertNodeInOtherNode(this.infoBarController.nodePosMulti,this.bottomParent),e.setPosition(u.Windown.convertNodeInOtherNode(this.lbBonusSpinSun.node.parent,this.bottomParent))),o=e.scale,r=cc.v2(r.x,r.y),i.node.active=!0,i.play(s),c=cc.v2(e.x,e.y+50),p=cc.v2(e.x+(9==t?-150:150),e.y+200),u.Windown.MatTroiView.audio.playEffect(u.Windown.MatTroiView.audio.multiFly),cc.tween(e).to(.3/u.Windown.MatTroiView.getDelta(),{scale:o+1,opacity:133},{easing:cc.easing.sineOut}).parallel(h().bezierTo(.5/u.Windown.MatTroiView.getDelta(),c,p,r),h().to(.5/u.Windown.MatTroiView.getDelta(),{scale:o+.3})).call(function(){n(null),u.Windown.MatTroiView.audio.playEffect(u.Windown.MatTroiView.audio.prizeInfobarMultiwin)}).to(.2/u.Windown.MatTroiView.getDelta(),{scale:o+1.5,opacity:0},{easing:cc.easing.sineInOut}).call(function(){e.destroy()}).start()}catch(a){l.Util.ThrowErrProsime(a)}return[2]})})})},e.prototype.addMultiBonusTotal=function(t){var e=this;return new Promise(function(n){var o=u.Windown.MatTroiView.stateSpin.isMaxSpeed?.15:.3,i=function(i){var r,s,a=null,c=cc.v2(0,0);9==i?((r=cc.instantiate(e.lbBonusSpinMoon.node.parent)).parent=e.bottomParent,255!=e.lbBonusSpinMoon.node.opacity&&(r.scale=r.scale+.5),a=e.animMoonAdd,c=u.Windown.convertNodeInOtherNode(e.animGateBonus.node,e.bottomParent),r.setPosition(u.Windown.convertNodeInOtherNode(e.lbBonusSpinMoon.node,e.bottomParent))):((r=cc.instantiate(e.lbBonusSpinSun.node.parent)).parent=e.bottomParent,255!=e.lbBonusSpinSun.node.opacity&&(r.scale=r.scale+.5),a=e.animSunAdd,c=u.Windown.convertNodeInOtherNode(e.animGateBonus.node,e.bottomParent),r.setPosition(u.Windown.convertNodeInOtherNode(e.lbBonusSpinSun.node,e.bottomParent))),s=r.scale,a.node.active=!0;var l=cc.v2(r.x,r.y-30),p=cc.v2(r.x+(9==i?-100:100),r.y-70);e.lbBonusTotalLR.string="x"+t,cc.tween(r).to(o,{scale:s+.7,opacity:133},{easing:cc.easing.sineOut}).parallel(h().bezierTo(o,l,p,c),h().to(o,{scale:s+.2},{easing:cc.easing.sineOut}),h().delay(.1).call(function(){e.animGateBonus.play("mf_podium_open"),u.Windown.MatTroiView.audio.playEffect(u.Windown.MatTroiView.audio.multiIncreaseCenter),e.hideAnimLightingSunMoonTotal(i),cc.tween(e.animGateBonus.node).delay(.1).call(function(){e.animGateBonus.node.getChildByName("mf_vfx_d_screen_01").active=!0,e.lbBonusTotalLR.node.active=!0,e.lbBonusTotalLR.node.opacity=150,e.lbBonusTotalLR.node.scale=.3,cc.tween(e.lbBonusTotalLR.node).to(o,{scale:.65,opacity:255},{easing:cc.easing.bounceOut}).delay(.5/u.Windown.MatTroiView.getDelta()).call(function(){var t=u.Windown.convertNodeInOtherNode(e.infoBarController.nodePosMulti,e.lbBonusTotalLR.node.parent),o=cc.instantiate(e.lbBonusTotalLR.node);o.parent=e.lbBonusTotalLR.node.parent,e.lbBonusTotalLR.node.opacity=100,cc.tween(o).to(.35/u.Windown.MatTroiView.getDelta(),{scale:.35,opacity:100,y:e.lbBonusTotalLR.node.y-80},{easing:cc.easing.sineIn}).call(function(){n(null)}).set({x:t.x,y:t.y,opacity:0}).to(.35/u.Windown.MatTroiView.getDelta(),{opacity:133,scale:.9},{easing:cc.easing.sineOut}).call(function(){o.y=1e3}).delay(1/u.Windown.MatTroiView.getDelta()).call(function(){"mf_podium_open"==e.animGateBonus.currentClip.name&&(e.animGateBonus.node.getChildByName("mf_vfx_d_screen_01").active=!1,e.animGateBonus.play("mf_podium_close"),u.Windown.MatTroiView.audio.playEffect(u.Windown.MatTroiView.audio.multiIncreaseCenterClose),cc.tween(e.lbBonusTotalLR.node).to(.65,{opacity:0}).call(function(){e.lbBonusTotalLR.node.active=!1}).start(),o.destroy())}).start()}).start()}).start()})).call(function(){r.destroy()}).start()};i(10),i(9)})},e.prototype.resetForNewSpin=function(){(null!=u.Windown.MatTroiView.dataFinish&&0==u.Windown.MatTroiView.dataFinish.get("numFreeSpin")||null==u.Windown.MatTroiView.dataFinish)&&(this._mutilLeft=1,this._mutilRight=1,null!=this.animMoonController.currentClip&&"LabelMoonAdd"==this.animMoonController.currentClip.name?(cc.log("nhay me no vao day roi====================="),this.lbBonusSpinMoon.string="x1",this.animMoonController.play("LabelMoonReset"),this.animMoonAdd.node.active=!1):this.animMoonAdd.node.active=!1,null!=this.animSunController.currentClip&&"LabelSunAdd"==this.animSunController.currentClip.name?(this.lbBonusSpinSun.string="x1",this.animSunController.play("LabelSunReset"),this.animSunAdd.node.active=!1):this.animSunAdd.node.active=!1)},e.prototype.showAnimLightingSunMoonTotal=function(t){u.Windown.MatTroiView.audio.playEffect(u.Windown.MatTroiView.audio.multiLightning);var e=10==t?this.animSunTotalBonusSpin:this.animMoonTotalBonusSpin;e.node.active=!0,cc.tween(e.node).set({opacity:0}).to(.2,{opacity:255}).start()},e.prototype.hideAnimLightingSunMoonTotal=function(t){var e=10==t?this.animSunTotalBonusSpin:this.animMoonTotalBonusSpin;cc.tween(e.node).to(.5/u.Windown.MatTroiView.getDelta(),{opacity:0}).call(function(){e.node.active=!1}).start()},e.prototype.openGateBonusSpin=function(){this.animGateBonus.play("mf_podium_open")},e.prototype.showInitBonusFreeSpin=function(t,e){this._mutilLeft=t||2,this._mutilRight=e||2,cc.log("bonus no la============================="),cc.log(this._mutilLeft),cc.log(this._mutilRight),this.lbBonusSpinMoon.string="x"+this._mutilRight,this.animMoonController.play("LabelMoonAdd"),this.lbBonusSpinSun.string="x"+this._mutilLeft,this.animSunController.play("LabelSunAdd"),this.animMoonAdd.node.active=!0,this.animSunAdd.node.active=!0},e.prototype.showWinScatter=function(){return new Promise(function(){})},e.instance=null,r([y(cc.Node)],e.prototype,"bottomParent",void 0),r([y(cc.Node)],e.prototype,"parentEffect",void 0),r([y(cc.Node)],e.prototype,"parentEffectLighting",void 0),r([y(cc.Node)],e.prototype,"nodeBonusSun",void 0),r([y(cc.Node)],e.prototype,"nodeBonusMoon",void 0),r([y(cc.Animation)],e.prototype,"animSunAdd",void 0),r([y(cc.Animation)],e.prototype,"animMoonAdd",void 0),r([y(cc.Animation)],e.prototype,"animSunTotalBonusSpin",void 0),r([y(cc.Animation)],e.prototype,"animMoonTotalBonusSpin",void 0),r([y(cc.Animation)],e.prototype,"animGateBonus",void 0),r([y(cc.Animation)],e.prototype,"animSunController",void 0),r([y(cc.Animation)],e.prototype,"animMoonController",void 0),r([y(c.default)],e.prototype,"lbBonusSpinSun",void 0),r([y(c.default)],e.prototype,"lbBonusSpinMoon",void 0),r([y(c.default)],e.prototype,"lbBonusTotalLR",void 0),r([y(p.default)],e.prototype,"infoBarController",void 0),n=r([f],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./InfoBarControllerMatTroi":"InfoBarControllerMatTroi"}],EffectDapChuot:[function(t,e,n){"use strict";cc._RF.push(e,"0de85nK0ntPjYj5NYBF0wxQ","EffectDapChuot");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.executed=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,r,a,c,l,u=this;return s(this,function(s){switch(s.label){case 0:this.soundMgn.playEffect(this.soundMgn.StartDapChuot),this.setColor(0),t=0,r=0,s.label=1;case 1:return r<13?(this.getListRun()[t].forEach(function(t){u.activeWithTime(t,.25)}),++t>3&&(t=0),[4,this.makeDelay(.27)]):[3,4];case 2:s.sent(),s.label=3;case 3:return r++,[3,1];case 4:n=this.getIdIndexRun(),this.setColor(2),o=0,s.label=5;case 5:if(!(o<16))return[3,8];for(i=n.length,r=0;r<i;r++)a=n[r],c=this.getChildById(a),this.activeWithTime(c,.08),++a>23&&(a=0),n[r]=a;return[4,this.makeDelay(.08)];case 6:s.sent(),s.label=7;case 7:return o++,[3,5];case 8:o=0,s.label=9;case 9:if(!(o<32))return[3,12];for(i=n.length,r=0;r<i;r++)a=n[r],c=this.getChildById(a),this.activeWithTime(c,.08),--a<0&&(a=23),n[r]=a;return[4,this.makeDelay(.08)];case 10:s.sent(),s.label=11;case 11:return o++,[3,9];case 12:return this.setColor(1),(l=this.getListChildren()).forEach(function(t){u.actionNhapNhay(t,10,1.8)}),[4,this.makeDelay(1.9)];case 13:return s.sent(),l.forEach(function(t){u.offItem(t)}),e(null),[2]}})})})},e}(t("./BaseEffect").default);n.default=a,cc._RF.pop()},{"./BaseEffect":"BaseEffect"}],EffectDieuThuyen:[function(t,e,n){"use strict";cc._RF.push(e,"ebb7dwcqsFDl7UkV/U/9pNo","EffectDieuThuyen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../Scritps/Game/GAME_TYPE"),u=t("../../../Scritps/Network/ConectManager"),p=t("../../../Scritps/Obs/LbMoneyChange"),h=t("../../../Scritps/Util"),d=t("../../../Scritps/Windown"),f=t("./FS/FreeController"),y=t("./NodeChooseFS"),g=t("./ParticerDieuThuyen"),m=cc._decorator,v=m.ccclass,S=m.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeMask=null,e.lb_Money=null,e.bkgSpinFree=null,e.bkgSpinFree2=null,e.nodeFree2=null,e.aniBo5=null,e.clBkgDT=null,e.clBkgDTR=null,e.clBkgLB=null,e.parentTotalFS=null,e.nodeBigWin=null,e.nodeMiniBigWin=null,e.colorBigWin=[],e.sfSBigWin=null,e.iconLuBo=null,e.particel=null,e.freeConTrl=null,e.funNext=null,e.funDelayOff=null,e.mapColor=new Map,e}return i(e,t),e.prototype.onLoad=function(){this.funNext=null,this.mapColor.set("freeDieuThuyen",this.clBkgDT),this.mapColor.set("freeLuBo",this.clBkgLB),this.mapColor.set("freeDongTrac",this.clBkgDTR)},e.prototype.onEnable=function(){var t=this;this.scheduleOnce(this.funDelayOff=function(){t.node.on(cc.Node.EventType.TOUCH_END,t.onClose,t)},.7)},e.prototype.onDisable=function(){this.unschedule(this.funDelayOff),this.node.off(cc.Node.EventType.TOUCH_END,this.onClose,this)},e.prototype.initPosMask=function(t){cc.find("mask",this.node).y=t},e.prototype.showJackpot=function(){return new Promise(function(t){t(null)})},e.prototype.showBigWin=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r,s,p;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,14,,15]),t=d.Windown.DieuThuyen.dataFinish.get("agWin")/d.Windown.DieuThuyen.getMutilMoney(),n=d.Windown.DieuThuyen.curRoomBet*d.Windown.DieuThuyen.totalLineBet,o=d.Windown.DieuThuyen.stateSpin.isMaxSpeed?2:1,t<1?(e(null),[2]):t<4*n?[4,d.Windown.DieuThuyen.stateSpin.showMoneyRevice()]:[3,2];case 1:return a.sent(),e(null),[2];case 2:return t<8*n?[4,this.showMiniBigWin(t)]:[3,5];case 3:return a.sent(),[4,d.Windown.DieuThuyen.stateSpin.showMoneyRevice()];case 4:return a.sent(),e(null),[2];case 5:return[4,d.Windown.DieuThuyen.makeDelay(1/o)];case 6:return a.sent(),d.Windown.DieuThuyen.audio.playEffect(d.Windown.DieuThuyen.audio.win_rolling,1,!0),i=cc.find("title",this.nodeBigWin),cc.find("bkg",this.nodeBigWin),i.getComponent(cc.Sprite).spriteFrame=this.sfSBigWin.getSpriteFrame("win_big"),this.particel.node.active=!0,this.particel.setColor(this.colorBigWin[0]),r=3/o,this.node.active=!0,this.node.runAction(cc.fadeIn(.5)),this.nodeBigWin.active=!0,this.nodeMask.active=!0,t>12*n?r=6/o:t>20*n&&(r=9/o),this.lb_Money.node.active=!0,this.lb_Money.time=r,this.lb_Money.node.setPosition(0,6.236),this.lb_Money.setMoney(t),d.Windown.DieuThuyen.audio.playEffect(d.Windown.DieuThuyen.audio.big_win_start),[4,d.Windown.DieuThuyen.makeDelay(3)];case 7:return a.sent(),t>12*n?(d.Windown.DieuThuyen.audio.playEffect(d.Windown.DieuThuyen.audio.mega_win_start),i.getComponent(cc.Sprite).spriteFrame=this.sfSBigWin.getSpriteFrame("win_mega"),i.runAction(cc.sequence(cc.scaleTo(.2,1),cc.scaleTo(.2,.8))),this.particel.setColor(this.colorBigWin[1]),[4,d.Windown.DieuThuyen.makeDelay(3/o)]):[3,9];case 8:a.sent(),a.label=9;case 9:return t>20*n?(d.Windown.DieuThuyen.audio.playEffect(d.Windown.DieuThuyen.audio.mega_win_end),i.getComponent(cc.Sprite).spriteFrame=this.sfSBigWin.getSpriteFrame("win_super_mega"),i.runAction(cc.sequence(cc.scaleTo(.2,1),cc.scaleTo(.2,.8))),this.particel.setColor(this.colorBigWin[2]),[4,d.Windown.DieuThuyen.makeDelay(3/o)]):[3,11];case 10:a.sent(),a.label=11;case 11:return[4,d.Windown.DieuThuyen.makeDelay(1/o)];case 12:return a.sent(),d.Windown.DieuThuyen.audio.stopEffect(d.Windown.DieuThuyen.audio.win_rolling),[4,d.Windown.DieuThuyen.stateSpin.showMoneyRevice()];case 13:return a.sent(),d.Windown.DieuThuyen.dataFinish.get("agWin")>1e4&&((s=u.ConectManager.getIns().getSFSObj()).putInt("gt",l.default.DieuThuyen),s.putInt("mt",d.Windown.DieuThuyen.dataFinish.get("agWin")),s.putUtfString("nn",d.Windown.User.nickName),s.putUtfString("dt","bw"),u.ConectManager.getIns().sendRequest(c.REQUEST_CODE.AddBigWin,s)),this.funNext=e,this.onClose(),[3,15];case 14:return p=a.sent(),h.Util.ThrowErrProsime(p),[3,15];case 15:return[2]}})})})},e.prototype.showMiniBigWin=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i=this;return a(this,function(){try{e=d.Windown.DieuThuyen.stateSpin.isMaxSpeed?2:1,d.Windown.DieuThuyen.audio.playEffect(d.Windown.DieuThuyen.audio.medium_win),d.Windown.DieuThuyen.audio.playEffect(d.Windown.DieuThuyen.audio.medium_win_coins),d.Windown.DieuThuyen.infoBar.tungXu2(),o=this.nodeMiniBigWin.getComponentInChildren(p.default),this.nodeMiniBigWin.active=!0,o.resetLb(),o.time=2/e,o.setMoney(t),o.node.scale=1,this.nodeMiniBigWin.scale=.5,this.nodeMiniBigWin.runAction(cc.sequence(cc.scaleTo(2/e,1),cc.delayTime(.5/e),cc.callFunc(function(){o.node.stopAllActions(),o.node.runAction(cc.sequence(cc.scaleTo(.25,1.3).easing(cc.easeSineOut()),cc.scaleBy(.2,.5).easing(cc.easeSineIn())))}),cc.delayTime(.35),cc.scaleTo(.15,.5),cc.callFunc(function(){i.nodeMiniBigWin.active=!1,d.Windown.DieuThuyen.infoBar.resetXu(),n(null)})))}catch(r){h.Util.ThrowErrProsime(r)}return[2]})})})},e.prototype.showFreeSpin3=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r,s,c;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,8,,9]),d.Windown.DieuThuyen.infoBar.setContentLb("Th\u1eafng v\xf2ng quay mi\u1ec5n ph\xed"),d.Windown.DieuThuyen.infoBar.scale(),d.Windown.DieuThuyen.infoBar.offContenRd(),[4,d.Windown.DieuThuyen.makeDelay(1)];case 1:return a.sent(),d.Windown.UIManager.showLoading(),[4,Promise.all([d.Windown.loadRes(l.default.DieuThuyen.toString(),"Prefabs/NodeChooseFS",cc.Prefab),d.Windown.loadRes(l.default.DieuThuyen.toString(),"Prefabs/ChacterFS",cc.Prefab)])];case 2:return t=a.sent(),n=t[0],o=t[1],d.Windown.UIManager.hideLoading(),(i=cc.instantiate(n)).parent=this.node.parent,[4,(r=i.getComponent(y.default)).waitHandle()];case 3:return a.sent(),(s=cc.instantiate(o)).parent=cc.find("Game/Top",d.Windown.DieuThuyen.node),this.freeConTrl=s.getComponent(f.default),this.freeConTrl.show(),this.activeBkgFree(r.typeFree),"freeLuBo"!=r.typeFree?[3,5]:[4,this.showEffectFsLuBo()];case 4:return a.sent(),[3,7];case 5:return[4,d.Windown.DieuThuyen.makeDelay(1.5)];case 6:a.sent(),a.label=7;case 7:return e(null),[3,9];case 8:return c=a.sent(),h.Util.ThrowErrProsime(c),[3,9];case 9:return[2]}})})})},e.prototype.activeBkgFree=function(t){this.bkgSpinFree.active=!0,this.bkgSpinFree.opacity=0,this.bkgSpinFree.runAction(cc.fadeIn(.3)),this.bkgSpinFree.color=this.mapColor.get(t),this.bkgSpinFree2.color=this.mapColor.get(t)},e.prototype.showFreeSpin2=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r;return a(this,function(s){switch(s.label){case 0:return s.trys.push([0,7,,8]),t=d.Windown.DieuThuyen.dataFinish.get("typeFreeSpin"),d.Windown.DieuThuyen.infoBar.offContenRd(),d.Windown.DieuThuyen.infoBar.setContentLb("V\xf2ng quay mi\u1ec5n ph\xed \u0111\u01a1n"),d.Windown.DieuThuyen.infoBar.scale(),d.Windown.DieuThuyen.actionHideBtnSpin(),[4,d.Windown.DieuThuyen.makeDelay(1)];case 1:return s.sent(),[4,d.Windown.DieuThuyen.infoBar.randomEffect(t)];case 2:return s.sent(),this.activeBkgFree(t),this.nodeFree2.active=!0,this.nodeFree2.opacity=0,this.nodeFree2.runAction(cc.fadeIn(.3)),(n=cc.find(t,this.nodeFree2)).active=!0,o=n.children[1].getComponent(cc.Sprite),i=n.children[2].getComponent(cc.Sprite),"freeDongTrac"==t&&n.getComponentInChildren(sp.Skeleton).setAnimation(0,"Animation",!0),o.fillRange=0,i.fillRange=0,[4,d.Windown.DieuThuyen.makeDelay(.3)];case 3:return s.sent(),cc.tween(o).to(.3,{fillRange:-1}).start(),[4,d.Windown.DieuThuyen.makeDelay(.3)];case 4:return s.sent(),cc.tween(i).to(.3,{fillRange:-1}).start(),"freeLuBo"!=t?[3,6]:[4,this.showEffectFsLuBo()];case 5:s.sent(),s.label=6;case 6:return e(null),[3,8];case 7:return r=s.sent(),h.Util.ThrowErrProsime(r),[3,8];case 8:return[2]}})})})},e.prototype.showEffectFsLuBo=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t;return a(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.iconLuBo.active=!0,this.iconLuBo.scale=0,this.iconLuBo.runAction(cc.scaleTo(.3,1).easing(cc.easeBackOut())),d.Windown.DieuThuyen.nodeFireLuBo.active=!0,d.Windown.DieuThuyen.nodeFireLuBo.opacity=0,d.Windown.DieuThuyen.nodeFireLuBo.runAction(cc.fadeTo(.3,255)),[4,d.Windown.DieuThuyen.makeDelay(.5)];case 1:return n.sent(),e(null),[3,3];case 2:return t=n.sent(),h.Util.ThrowErrProsime(t),[3,3];case 3:return[2]}})})})},e.prototype.showEffBo5=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n=this;return a(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),d.Windown.DieuThuyen.audio.playEffect(d.Windown.DieuThuyen.audio.five_kind),this.aniBo5.node.active=!0,d.Windown.DieuThuyen.scheduleOnce(function(){d.Windown.DieuThuyen.audio.playEffect(d.Windown.DieuThuyen.audio.load_coins)},1.5),this.aniBo5.once(cc.Animation.EventType.FINISHED,function(){n.aniBo5.node.active=!1}),this.aniBo5.play("Bo5"),[4,d.Windown.DieuThuyen.makeDelay(1.2)];case 1:return o.sent(),e(null),[3,3];case 2:return t=o.sent(),h.Util.ThrowErrProsime(t),[3,3];case 3:return[2]}})})})},e.prototype.showBonus=function(){},e.prototype.showTtMnFs=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),d.Windown.DieuThuyen.audio.offFree(),t<1?(n(null),[2]):(d.Windown.DieuThuyen.audio.playEffect(d.Windown.DieuThuyen.audio.result_counting),(e=cc.find(d.Windown.DieuThuyen.stateSpin.lastTypeFree,this.parentTotalFS)).active=!0,this.lb_Money.time=2,this.lb_Money.node.setPosition(0,-206.191),this.lb_Money.node.active=!0,this.lb_Money.resetLb(),this.lb_Money.setMoney(t),[4,d.Windown.DieuThuyen.makeDelay(2)]);case 1:return r.sent(),d.Windown.DieuThuyen.audio.stopEffect(d.Windown.DieuThuyen.audio.result_counting),d.Windown.DieuThuyen.audio.playEffect(d.Windown.DieuThuyen.audio.result_count_end),[4,d.Windown.DieuThuyen.makeDelay(3.5)];case 2:return r.sent(),t>1e4&&((o=u.ConectManager.getIns().getSFSObj()).putInt("gt",l.default.DieuThuyen),o.putInt("mt",t),o.putUtfString("nn",d.Windown.User.nickName),o.putUtfString("dt","fs"),u.ConectManager.getIns().sendRequest(c.REQUEST_CODE.AddBigWin,o)),this.funNext=n,e.active=!1,this.onClose(),[3,4];case 3:return i=r.sent(),h.Util.ThrowErrProsime(i),[3,4];case 4:return[2]}})})})},e.prototype.resetView=function(){this.lb_Money.node.getComponent(p.default).resetLb(),this.lb_Money.node.active=!1,this.nodeMask.active=!1,this.nodeMask.opacity=200,this.node.opacity=255,this.particel.node.active=!1,this.nodeBigWin.active=!1},e.prototype.onClose=function(){var t=this;this.unschedule(this.funDelayOff),this.unschedule(this.onClose),this.funNext&&this.funNext(),this.funNext=null,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){t.resetView()})))},e.prototype.tungXu=function(t,e){for(var n=d.Windown.RandomNumber(10,15),o=function(){var n=d.Windown.DieuThuyen.asset.getXu();n.parent=e,n.setPosition(cc.v2(t.x+d.Windown.RandomNumber(-20,20),t.y+d.Windown.RandomNumber(-20,20)));var o=cc.v2(t.x-212+d.Windown.RandomNumber(-100,100),t.y-156+d.Windown.RandomNumber(-100,100));n.getComponent(cc.Animation).play("DongXu"),n.angle=-d.Windown.RandomNumber(0,360);var i=d.Windown.RandomNumber(10,20)/10;n.runAction(cc.sequence(cc.jumpTo(i,o,d.Windown.RandomNumber(150,350),1),cc.callFunc(function(){d.Windown.DieuThuyen.asset.putXu(n)})))},i=0;i<n;i++)o()},e.prototype.tungXu2=function(t,e){for(var n=d.Windown.RandomNumber(5,10),o=function(){var n=d.Windown.DieuThuyen.asset.getXu();n.parent=e,n.scale=.3,n.setPosition(cc.v2(t.x+d.Windown.RandomNumber(-20,20),t.y+d.Windown.RandomNumber(-20,20)));var o=cc.v2(t.x-400+d.Windown.RandomNumber(-100,100),t.y+100+d.Windown.RandomNumber(-100,100));n.getComponent(cc.Animation).play("DongXu"),n.angle=-d.Windown.RandomNumber(0,360);var i=d.Windown.RandomNumber(10,20)/10;n.runAction(cc.sequence(cc.jumpTo(i,o,d.Windown.RandomNumber(150,350),1),cc.callFunc(function(){d.Windown.DieuThuyen.asset.putXu(n)})))},i=0;i<n;i++)o()},e.prototype.roiXu=function(t){for(var e=d.Windown.RandomNumber(20,30),n=function(e){var n=e%3+d.Windown.RandomNumber(0,5)/10,o=d.Windown.DieuThuyen.asset.getXu();o.parent=t,o.scale=.3,o.setPosition(cc.v2(d.Windown.RandomNumber(-333,333),680));var i=cc.v2(0,-700);o.getComponent(cc.Animation).play("DongXu"),o.angle=-d.Windown.RandomNumber(0,360);var r=d.Windown.RandomNumber(14,30)/10;o.runAction(cc.sequence(cc.delayTime(n),cc.moveBy(r,i),cc.callFunc(function(){d.Windown.DieuThuyen.asset.putXu(o)})))},o=0;o<e;o++)n(o)},e.prototype.NoXu=function(t,e){for(var n=d.Windown.RandomNumber(30,50),o=function(t){var n=t*(d.Windown.RandomNumber(0,5)/10),o=d.Windown.DieuThuyen.asset.getXu();o.parent=e,o.scale=.3,o.setPosition(cc.v2(d.Windown.RandomNumber(-333,333),680));var i=cc.v2(0,-700);o.getComponent(cc.Animation).play("DongXu"),o.angle=-d.Windown.RandomNumber(0,360);var r=d.Windown.RandomNumber(14,30)/10;o.runAction(cc.sequence(cc.delayTime(n),cc.moveBy(r,i),cc.callFunc(function(){d.Windown.DieuThuyen.asset.putXu(o)})))},i=0;i<n;i++)o(i)},e.prototype.checkAndShowEffectItemFree2=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r,s,c,l,u,p,f,y,g,m,v;return a(this,function(a){switch(a.label){case 0:if(a.trys.push([0,15,,16]),t=d.Windown.DieuThuyen.stateSpin.lastTypeFree,n=d.Windown.DieuThuyen.stateSpin.listColum,"freeDieuThuyen"!=t)return[3,3];for(r=!1,o=0,i=n;o<i.length;o++)i[o].checkShowDieuThuyen()&&(r=!0);return r?[4,d.Windown.DieuThuyen.makeDelay(1.5)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[3,14];case 3:if(!("freeDongTrac"==t&&d.Windown.DieuThuyen.listIdLineAn.length>0))return[3,6];for(r=!1,s=0,c=n;s<c.length;s++)c[s].checkShowDongTrac()&&(r=!0);return r?(l=cc.find(t,this.nodeFree2),(u=l.getComponentInChildren(sp.Skeleton)).setAnimation(0,"Celebrate",!1),u.addAnimation(0,"Animation",!0),d.Windown.DieuThuyen.effect.tungXu2(cc.v2(32,69),l),[4,d.Windown.DieuThuyen.makeDelay(1.5)]):[3,5];case 4:a.sent(),a.label=5;case 5:return[3,14];case 6:if("freeLuBo"!=t)return[3,14];p=d.Windown.DieuThuyen.getLitsChangLuBo(),f=.2,y=0,d.Windown.DieuThuyen.listColum[0].activeIconLubBoNoEf(),g=0,a.label=7;case 7:if(!(g<p.length))return[3,12];m=0,a.label=8;case 8:return m<p[g].length?-1==p[g][m]?[3,10]:(y++,n[g].activeIconLuBo(p[g][m]),y>3&&(f=0),[4,d.Windown.DieuThuyen.makeDelay(f)]):[3,11];case 9:a.sent(),a.label=10;case 10:return m++,[3,8];case 11:return g++,[3,7];case 12:return y>0?[4,d.Windown.DieuThuyen.makeDelay(.5)]:[3,14];case 13:a.sent(),a.label=14;case 14:return e(null),[3,16];case 15:return v=a.sent(),h.Util.ThrowErrProsime(v),[3,16];case 16:return[2]}})})})},e.prototype.checkAndShowEffectItemFree3=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t;return a(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.freeConTrl.showTakeMoney()];case 1:return n.sent(),e(null),[3,3];case 2:return t=n.sent(),h.Util.ThrowErrProsime(t),[3,3];case 3:return[2]}})})})},e.prototype.offFree2=function(){for(var t=this,e=1;e<this.nodeFree2.children.length;e++){var n=this.nodeFree2.children[e];n.active&&(n.active=!1,"freeLuBo"==n.name&&(this.iconLuBo.active=!1,d.Windown.DieuThuyen.nodeFireLuBo.active=!1))}this.bkgSpinFree.stopAllActions(),this.bkgSpinFree.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.bkgSpinFree.active=!1}))),this.nodeFree2.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.nodeFree2.active=!1})))},e.prototype.offFree3=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n=this;return a(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.freeConTrl.onClose()];case 1:return o.sent(),this.bkgSpinFree.stopAllActions(),this.bkgSpinFree.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){n.bkgSpinFree.active=!1}))),this.freeConTrl=null,this.iconLuBo.active=!1,d.Windown.DieuThuyen.nodeFireLuBo.active=!1,d.Windown.DieuThuyen.setMutilMoney(),d.Windown.DieuThuyen.offNodeMutil(),d.Windown.DieuThuyen.audio.offFree(),e(null),[3,3];case 2:return t=o.sent(),h.Util.ThrowErrProsime(t),[3,3];case 3:return[2]}})})})},e.prototype.resetFree3NewTurn=function(){this.freeConTrl&&this.freeConTrl.resetForNewTurn()},e.prototype.test=function(){},r([S(cc.Node)],e.prototype,"nodeMask",void 0),r([S(p.default)],e.prototype,"lb_Money",void 0),r([S(cc.Node)],e.prototype,"bkgSpinFree",void 0),r([S(cc.Node)],e.prototype,"bkgSpinFree2",void 0),r([S(cc.Node)],e.prototype,"nodeFree2",void 0),r([S(cc.Animation)],e.prototype,"aniBo5",void 0),r([S(cc.Color)],e.prototype,"clBkgDT",void 0),r([S(cc.Color)],e.prototype,"clBkgDTR",void 0),r([S(cc.Color)],e.prototype,"clBkgLB",void 0),r([S(cc.Node)],e.prototype,"parentTotalFS",void 0),r([S(cc.Node)],e.prototype,"nodeBigWin",void 0),r([S(cc.Node)],e.prototype,"nodeMiniBigWin",void 0),r([S([cc.Color])],e.prototype,"colorBigWin",void 0),r([S(cc.SpriteAtlas)],e.prototype,"sfSBigWin",void 0),r([S(cc.Node)],e.prototype,"iconLuBo",void 0),r([S(g.default)],e.prototype,"particel",void 0),r([v],e)}(cc.Component);n.default=b,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./FS/FreeController":"FreeController","./NodeChooseFS":"NodeChooseFS","./ParticerDieuThuyen":"ParticerDieuThuyen"}],EffectDoiMau:[function(t,e,n){"use strict";cc._RF.push(e,"92151pYUFtBbYwtT60ge3Jo","EffectDoiMau");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataXDV=null,e}return i(e,t),e.prototype.initData=function(t){return this.dataXDV=t,this},e.prototype.executed=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,r,a,c,l,u=this;return s(this,function(s){switch(s.label){case 0:t=this.dataXDV.result,n=0==t?this.dataXDV.reviceXanh:this.dataXDV.reviceDo,o=0==t?this.getNodeLbItemXDV(2):this.getNodeLbItemXDV(0),0==t?this.setColor(2):this.setColor(0),i=this.getIdListLastResutl(),r=this.getListChildren(),a=!1,this.soundMgn.playEffect(this.soundMgn.NhacDoiMau),c=0,s.label=1;case 1:if(!(c<80))return[3,4];if(a)for(l in i.forEach(function(t){u.activeIcon(u.getChildById(t))}),this.activeIcon(o),r)i.includes(Number(l))||this.offItem(r[l]);else for(l in i.forEach(function(t){u.offItem(u.getChildById(t))}),this.offItem(o),r)i.includes(Number(l))||this.activeIcon(r[l]);return a=!a,[4,this.makeDelay(.1)];case 2:s.sent(),s.label=3;case 3:return c++,[3,1];case 4:return[4,this.soundMgn.playEffectSync(this.soundMgn.AtOhh)];case 5:return s.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.NiChieuSangCieu)];case 6:return s.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.VuiMung)];case 7:return s.sent(),0!=t?[3,9]:[4,this.soundMgn.playEffectSync(this.soundMgn.MauXanhLa)];case 8:return s.sent(),[3,11];case 9:return[4,this.soundMgn.playEffectSync(this.soundMgn.MauDo)];case 10:s.sent(),s.label=11;case 11:return this.currentBtnTrai.setPointBy(n),[4,this.soundMgn.playEffectSync(this.soundMgn.Gong)];case 12:return s.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.XaPe)];case 13:return s.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.EndDoiMau)];case 14:return s.sent(),e(null),[2]}})})})},e}(t("./BaseEffect").default);n.default=a,cc._RF.pop()},{"./BaseEffect":"BaseEffect"}],EffectDragonFS:[function(t,e,n){"use strict";cc._RF.push(e,"d1c2eYXxEZHEIK0yqVnpNzU","EffectDragonFS");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.EffectDragonFS=void 0;var s=t("../../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dragonAnim=null,e}return i(e,t),e.prototype.showDragon=function(){s.Windown.MatChuoc.audio.playEffect(s.Windown.MatChuoc.audio.fsDragonFly),this.dragonAnim.play("dragon")},r([l(cc.Animation)],e.prototype,"dragonAnim",void 0),r([c],e)}(cc.Component);n.EffectDragonFS=u,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown"}],EffectEndGame:[function(t,e,n){"use strict";cc._RF.push(e,"d3c209/dW5IebUTdgIeBUJT","EffectEndGame");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Game/GAME_TYPE"),c=t("../../../../Scritps/Windown"),l=t("../State/StateGame"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataNormal=null,e}return i(e,t),e.prototype.intiData=function(t){return this.dataNormal=t,this},e.prototype.executed=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,r,u,p=this;return s(this,function(){for(this.xengController.listBtnItem.forEach(function(t){p.offItem(t.lbPoint.node)}),this.xengController.listBtnXDV.forEach(function(t){p.offItem(t.lbPoint.node)}),t=this.dataNormal.makeBetNormal,n=this.dataNormal.makebetXDV,o=0,i=t.ListObjReviceSub.length;o<i;o++)this.actionNhapNhay(this.getNodeLbItem(t.ListObjReviceSub[o].resultType),30,10,!0);return this.actionNhapNhay(this.getNodeLbItem(t.objReviceFirtItem.resultType),30,10,!0),this.currentBtnTrai.setPoint(this.dataNormal.totalRevice),r=n.result,this.currentBtnTrai.point>0&&this.runEffectNhapNhay(this.getNodeLbLeft(),10,30),3==r?(this.runEffectNhapNhay(this.getNodeLbItemXDV(0),10,30),this.runEffectNhapNhay(this.getNodeLbItemXDV(1),10,30),this.runEffectNhapNhay(this.getNodeLbItemXDV(2),10,30),this.pushIdXDVResult([0,1,2,3,4,5])):(this.runEffectNhapNhay(this.getNodeLbItemXDV(r),10,30),(u=this.getListXDVWithType(r)).forEach(function(t){p.actionNhapNhay(p.getChildXDVById(t),30,10,!0)}),this.pushIdXDVResult(u)),c.Windown.MoneyUser.removeDelay(a.default.Xeng,!1),c.Windown.MoneyUser.pushDelayMoney(a.default.Xeng,this.dataNormal.agXeng,this.dataNormal.totalRevice),this.xengController.xengView.addNewHistory(n.result),this.xengController.xengView.randomLbHeSoOGiua(),this.xengController.setCurrentState(l.default.WATINGPLAYGAME),e(null),[2]})})})},e.prototype.getListXDVWithType=function(t){return[[0,1],[2,3],[4,5]][t]},e}(t("./BaseEffect").default);n.default=u,cc._RF.pop()},{"../../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../../Scritps/Windown":"Windown","../State/StateGame":"StateGame","./BaseEffect":"BaseEffect"}],EffectEndNormal:[function(t,e,n){"use strict";cc._RF.push(e,"7bc7efksOVP848xX35RUsxA","EffectEndNormal");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.executed=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n;return s(this,function(o){switch(o.label){case 0:return t=this.dataFinishiItemNomarl,n=t.objReviceFirtItem,t.typeSpecial,t.ListObjReviceSub,this.actionNhapNhay(this.getListLastResult()[0],10,2,!0),this.runEffectNhapNhay(this.getNodeLbItem(n.resultType),2,10),this.soundMgn.playEffect(this.soundMgn.Item[n.resultType]),[4,this.makeDelay(2.1)];case 1:return o.sent(),e(null),[2]}})})})},e}(t("./BaseEffectEnd").default);n.default=a,cc._RF.pop()},{"./BaseEffectEnd":"BaseEffectEnd"}],EffectIconKhoBau:[function(t,e,n){"use strict";cc._RF.push(e,"dbe1dVNJ3VGgqfpDmz5qy6h","EffectIconKhoBau");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txtKhoBau=null,e.txtCoDai=null,e.spineSmoke=null,e.initScaleTxtCoDai=0,e}return i(e,t),e.prototype.onLoad=function(){this.initScaleTxtCoDai=this.txtCoDai.node.scaleX},e.prototype.start=function(){this.effectText()},e.prototype.effectText=function(){var t=this;this.txtKhoBau.node.x=-200,this.txtCoDai.node.y=200,cc.tween(this.txtKhoBau.node).to(.5,{x:-6.993},{easing:cc.easing.backOut}).start(),cc.tween(this.txtCoDai.node).delay(.3).to(.5,{y:-106},{easing:cc.easing.sineIn}).call(function(){t.spineSmoke.node.active=!0,t.spineSmoke.setAnimation(0,"animation",!1)}).to(.15,{scaleY:.15},{easing:cc.easing.sineOut}).to(.15,{scaleY:.2},{easing:cc.easing.backOut}).start(),this.spineSmoke.setCompleteListener(function(){cc.tween(t.node).delay(2).call(function(){t.effectText()}).start(),t.spineSmoke.setCompleteListener(null),t.spineSmoke.node.active=!1})},r([c(cc.Sprite)],e.prototype,"txtKhoBau",void 0),r([c(cc.Sprite)],e.prototype,"txtCoDai",void 0),r([c(sp.Skeleton)],e.prototype,"spineSmoke",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],EffectItemMuaDong:[function(t,e,n){"use strict";cc._RF.push(e,"b8853puXHNAeZ4fBGw2Okb8","EffectItemMuaDong");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Util"),l=t("../../../Scritps/Windown"),u=cc._decorator,p=u.ccclass,h=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.take=function(){return s(this,void 0,void 0,function(){var t,e,n,o,i,r,s,u;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),t=l.Windown.MuaDongVoTan.stateSpin.isMaxSpeed?.15:.3,e=this.node.children[1].getComponent(cc.Animation),n=this.node.children[2].getComponent(cc.Animation),o=this.node.children[3].getComponent(cc.Animation),this.node.children[4].active=!1,e.node.active=!1,o.node.active=!1,i=n.play(),.15==t&&(i.speed=2),[4,l.Windown.MuaDongVoTan.getMakeDelay(t).prosime];case 1:return a.sent(),e.node.active=!0,o.node.active=!0,r=e.play(),.15==t&&(r.speed=2),s=o.play(),.15==t&&(s.speed=2),[3,3];case 2:return u=a.sent(),c.Util.ThrowErrProsime(u),[3,3];case 3:return[2]}})})},e.prototype.win=function(){this.node.children[4].active=!0,this.node.children[4].getComponent(cc.Animation).play()},r([p],e)}(cc.Component));n.default=h,cc._RF.pop()},{"../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],EffectMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"2ba98URDlBD6786r7iORldn","EffectMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,l=c.ccclass,u=c.property,p=t("../../../Scritps/Game/GAME_TYPE"),h=t("../../../Scritps/Other/LbMonoSpace"),d=t("./Effect/BigwinMatChuoc"),f=t("./Effect/EndFreeSpinMatChuoc"),y=t("./Effect/NearFsMatChuoc"),g=t("./Effect/StartFreeSpinMatChuoc"),m=t("../../../Scritps/Windown"),v=t("../../../Scritps/Util"),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeMask=null,e.lb_Money=null,e.nodeBigWin=null,e.listNodeBoxMoney=[],e.btnFast=null,e.listPromiseIgro=[],e.isClickBtnFast=!1,e.funNext=null,e.funDelayOff=null,e.mapColor=new Map,e.nodeEffNearWin=null,e}return i(e,t),e.prototype.onLoad=function(){this.funNext=null},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){this.unschedule(this.funDelayOff)},e.prototype.initPosMask=function(t){cc.find("mask",this.node).setPosition(cc.v3(this.node.getPosition().x,t,0))},e.prototype.onClickBtnShowFast=function(){for(this.btnFast.interactable=!1,this.isClickBtnFast=!0;this.listPromiseIgro.length>0;)this.listPromiseIgro.shift().cancle(!0)},e.prototype.showBigWin=function(t,e){var n=this;return new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r;return a(this,function(s){switch(s.label){case 0:return[4,m.Windown.loadRes(p.default.MatChuoc.toString(),"Frefabs/Bigwin",cc.Prefab)];case 1:return n=s.sent(),(i=cc.instantiate(n)).parent=this.node,r=i.getComponent(d.default),[4,m.Windown.MatChuoc.getPromise(r.init(t,e))];case 2:return s.sent(),o(null),[2]}})})})},e.prototype.activeNodeNearWin=function(t){m.Windown.MatChuoc.activeMask(!0);for(var e=t;e<5;e++)m.Windown.MatChuoc.activeMask(!1,e);if(null==this.nodeEffNearWin)for(this.nodeEffNearWin=cc.instantiate(m.Windown.MatChuoc.asset.nearFS),this.nodeEffNearWin.parent=m.Windown.MatChuoc.parentEffect,e=0;e<t;e++)m.Windown.MatChuoc.listColum[e].getListSymbolResult().forEach(function(t){return t.effectScaterShowFS()});this.nodeEffNearWin.getComponent(y.default).init(t)},e.prototype.offNearWin=function(){m.Windown.MatChuoc.activeMask(!1),m.Windown.MatChuoc.audio.stopEffect(m.Windown.MatChuoc.audio.fastspinStart),this.nodeEffNearWin&&this.nodeEffNearWin.getComponent(y.default).effOff(),this.nodeEffNearWin=null;for(var t=0,e=m.Windown.MatChuoc.listColum;t<e.length;t++){var n=e[t];console.log("index "+n.index+" : "+n.getListSymbolResult());for(var o=0,i=n.getListSymbolResult();o<i.length;o++){var r=i[o];r&&r.checkIsInView()&&r.effectScaterIdle()}}},e.prototype.swidthFS=function(t,e){t?(this.listNodeBoxMoney.forEach(function(t){t.setPosition(cc.v3(t.getPosition().x,-550))}),m.Windown.MatChuoc.switchBkgGame(!0,e)):(m.Windown.MatChuoc.switchBkgGame(!1),this.listNodeBoxMoney.forEach(function(t){t.setPosition(cc.v3(t.getPosition().x,-381.5))}))},e.prototype.activeNearWinNoSap=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r,s,c,l,u,p,h,d,f,y,g,S,b;return a(this,function(a){switch(a.label){case 0:if(a.trys.push([0,5,,6]),!(m.Windown.MatChuoc.stateSpin.curentCountScater>2)||m.Windown.MatChuoc.stateSpin.isMaxSpeed)return e(null),[2];for(m.Windown.MatChuoc.audio.playEffect(m.Windown.MatChuoc.audio.heartbeatNoise),t=!1,m.Windown.MatChuoc.stateSpin.offAllSymbol(!1),n=0,o=m.Windown.MatChuoc.listColum;n<o.length;n++){for(f=o[n],i=0,r=f.getListSymbolResult();i<r.length;i++)if(!(S=r[i]).checkIsInView()){t=!0;break}if(t)break}if(!t)return e(null),[2];for(s=0,c=m.Windown.MatChuoc.listColum;s<c.length;s++)for(f=c[s],l=0,u=f.getListSymbolResult();l<u.length;l++)(S=u[l]).checkIsInView()&&S.effectNearWinScater(!0);m.Windown.MatChuoc.infoBar.showOneMoreScater(),p=0,a.label=1;case 1:return p<4?(m.Windown.MatChuoc.audio.playEffectNoStop(m.Windown.MatChuoc.audio.heartbeat),[4,m.Windown.MatChuoc.getMakeDelay(.9).prosime]):[3,4];case 2:a.sent(),a.label=3;case 3:return p++,[3,1];case 4:for(m.Windown.MatChuoc.activeMask(!1),h=0,d=m.Windown.MatChuoc.listColum;h<d.length;h++)for(f=d[h],y=0,g=f.getListSymbolResult();y<g.length;y++)(S=g[y]).checkIsInView()&&S.effectScaterIdle();return e(null),[3,6];case 5:return b=a.sent(),v.Util.ThrowErrProsime(b),[3,6];case 6:return[2]}})})})},e.prototype.showTakeFreeSpin=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r;return a(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),m.Windown.MatChuoc.stateSpin.freeSpinCache=t,m.Windown.MatChuoc.audio.playEffect(m.Windown.MatChuoc.audio.voxIsScatter),m.Windown.MatChuoc.stateSpin.activeAllSymbol(),m.Windown.MatChuoc.listColum.forEach(function(t){t.getListSymbolResult().forEach(function(t){t.effectScaterShowFS()})}),m.Windown.MatChuoc.audio.playEffect(m.Windown.MatChuoc.audio.scatterWinHighligh),m.Windown.loadRes(p.default.MatChuoc.toString(),"Frefabs/ShowFreeSpin",cc.Prefab),[4,m.Windown.MatChuoc.getMakeDelay(1.5).prosime];case 1:return s.sent(),m.Windown.UIManager.showLoading(),[4,m.Windown.loadRes(p.default.MatChuoc.toString(),"Frefabs/ShowFreeSpin",cc.Prefab)];case 2:return e=s.sent(),m.Windown.UIManager.hideLoading(),(o=cc.instantiate(e)).parent=this.node,i=o.getComponent(g.default),[4,m.Windown.MatChuoc.getPromise(i.show(t))];case 3:return s.sent(),m.Windown.MatChuoc.effect.swidthFS(!0),m.Windown.MatChuoc.setLbFreeSpinLeft(t),[4,m.Windown.MatChuoc.getMakeDelay(1).prosime];case 4:return s.sent(),n(null),[3,6];case 5:return r=s.sent(),v.Util.ThrowErrProsime(r),[3,6];case 6:return[2]}})})})},e.prototype.showEndFree=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r;return a(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),t<1?(m.Windown.MatChuoc.audio.stopBkgFs(),this.swidthFS(!1),n(null),[2]):[4,m.Windown.loadRes(p.default.MatChuoc.toString(),"Frefabs/EndFreeSpin",cc.Prefab)];case 1:return e=s.sent(),this.swidthFS(!1),(o=cc.instantiate(e)).parent=this.node,i=o.getComponent(f.default),[4,m.Windown.MatChuoc.getPromise(i.show(t))];case 2:return s.sent(),n(null),[3,4];case 3:return r=s.sent(),v.Util.ThrowErrProsime(r),[3,4];case 4:return[2]}})})})},e.prototype.pointsOnCircle=function(t){var e=t.radius,n=t.angle,o=t.cx,i=t.cy;return n*=Math.PI/180,[o+e*Math.sin(n),i+e*Math.cos(n)]},e.prototype.resetView=function(){this.lb_Money.resetLb(),this.lb_Money.node.active=!1,this.node.opacity=255,this.nodeBigWin.active=!1},e.prototype.onClose=function(){var t=this;this.btnFast.interactable=!1,this.unschedule(this.funDelayOff),this.unschedule(this.onClose),this.funNext&&this.funNext(),this.funNext=null,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){t.resetView()}))),this.isClickBtnFast=!1},r([u(cc.Node)],e.prototype,"nodeMask",void 0),r([u(h.default)],e.prototype,"lb_Money",void 0),r([u(cc.Node)],e.prototype,"nodeBigWin",void 0),r([u([cc.Node])],e.prototype,"listNodeBoxMoney",void 0),r([u(cc.Button)],e.prototype,"btnFast",void 0),r([l],e)}(cc.Component);n.default=S,cc._RF.pop()},{"../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./Effect/BigwinMatChuoc":"BigwinMatChuoc","./Effect/EndFreeSpinMatChuoc":"EndFreeSpinMatChuoc","./Effect/NearFsMatChuoc":"NearFsMatChuoc","./Effect/StartFreeSpinMatChuoc":"StartFreeSpinMatChuoc"}],EffectMatTroi:[function(t,e,n){"use strict";cc._RF.push(e,"d61bcwBv1pNgKYUhq7OCyL2","EffectMatTroi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../Scritps/Game/GAME_TYPE"),u=t("../../../Scritps/Network/ConectManager"),p=t("../../../Scritps/Other/LbMonoSpace"),h=t("../../../Scritps/Util"),d=t("../../../Scritps/Windown"),f=t("./EffectControlMatTroi"),y=cc._decorator,g=y.ccclass,m=y.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeMask=null,e.lb_Money=null,e.nodeBigWin=null,e.listNodeBoxMoney=[],e.btnFast=null,e.aniBigWin=null,e.listPromiseIgro=[],e.isClickBtnFast=!1,e.funNext=null,e.funDelayOff=null,e.mapColor=new Map,e}return i(e,t),e.prototype.onLoad=function(){this.funNext=null,this.aniBigWin=this.nodeBigWin.getComponent(cc.Animation)},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){this.unschedule(this.funDelayOff)},e.prototype.initPosMask=function(t){cc.find("mask",this.node).y=t},e.prototype.onClickBtnShowFast=function(){for(this.btnFast.interactable=!1,this.isClickBtnFast=!0;this.listPromiseIgro.length>0;)this.listPromiseIgro.shift().cancle(!0)},e.prototype.showBigWin=function(t,e){var n=this;return new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s,p,f,y,g,m,v,S=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,7,,8]),this.scheduleOnce(function(){S.btnFast.interactable=!0},.5),this.lb_Money.node.active=!0,this.nodeBigWin.active=!0,this.nodeBigWin.opacity=255,this.lb_Money.resetLb(),4,n=e<30?4:e<50?8:12,i=this.nodeBigWin.getChildByName("NodeBigWin"),r=this.nodeBigWin.getChildByName("NodeMegaWin"),s=this.nodeBigWin.getChildByName("NodeSuperWin"),this.lb_Money.time=n,this.lb_Money.setMoney(t),i.active=!0,r.active=!1,s.active=!1,this.aniBigWin.off(cc.Animation.EventType.FINISHED),this.aniBigWin.once(cc.Animation.EventType.FINISHED,function(){S.aniBigWin.play("Effect_BigWinLoop")}),this.aniBigWin.play("Effect_BigWin"),d.Windown.MatTroiView.audio.playEffect(d.Windown.MatTroiView.audio.bgm_bigwin_main,.7),p=d.Windown.MatTroiView.getMakeDelay(4),this.listPromiseIgro.push(p),[4,p.prosime];case 1:return a.sent(),e>=30?(d.Windown.MatTroiView.audio.playEffect(d.Windown.MatTroiView.audio.bgm_bigwin_end),r.active=!0,cc.tween(i).to(.3,{opacity:0}).call(function(){i.active=!1}).start(),this.aniBigWin.off(cc.Animation.EventType.FINISHED),this.aniBigWin.once(cc.Animation.EventType.FINISHED,function(){S.aniBigWin.play("Effect_MegaWinLoop")}),this.aniBigWin.play("Effect_MegaWin"),this.isClickBtnFast?[3,3]:(f=d.Windown.MatTroiView.getMakeDelay(4),this.listPromiseIgro.push(f),[4,f.prosime])):[3,3];case 2:a.sent(),a.label=3;case 3:return e>=50?(d.Windown.MatTroiView.audio.playEffect(d.Windown.MatTroiView.audio.bgm_bigwin_end),s.active=!0,cc.tween(r).to(.3,{opacity:0}).call(function(){i.active=!1}).start(),this.aniBigWin.off(cc.Animation.EventType.FINISHED),this.aniBigWin.once(cc.Animation.EventType.FINISHED,function(){S.aniBigWin.play("Effect_SuperWinLoop")}),this.aniBigWin.play("Effect_SuperWin"),this.isClickBtnFast?[3,5]:(f=d.Windown.MatTroiView.getMakeDelay(4),this.listPromiseIgro.push(f),[4,f.prosime])):[3,5];case 4:a.sent(),a.label=5;case 5:return d.Windown.MatTroiView.audio.stopEffect(d.Windown.MatTroiView.audio.bgm_bigwin_main),d.Windown.MatTroiView.audio.playEffect(d.Windown.MatTroiView.audio.bgm_bigwin_end),d.Windown.MatTroiView.dataFinish&&d.Windown.MatTroiView.dataFinish.get("agWin")>1e3&&((y=u.ConectManager.getIns().getSFSObj()).putInt("gt",l.default.MatTroi),y.putInt("mt",d.Windown.MatTroiView.dataFinish.get("agWin")),y.putUtfString("nn",d.Windown.User.nickName),y.putUtfString("dt","bw"),u.ConectManager.getIns().sendRequest(c.REQUEST_CODE.AddBigWin,y)),this.lb_Money.setMoneyNoTime(t),(g=this.lb_Money.node).stopAllActions(),g.runAction(cc.sequence(cc.scaleTo(.3,1.15),cc.scaleTo(.3,.8))),m=d.Windown.MatTroiView.getMakeDelay(4),this.listPromiseIgro.push(m),this.btnFast.interactable=!0,[4,m.prosime];case 6:return a.sent(),this.nodeBigWin.stopAllActions(),this.nodeBigWin.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){S.nodeBigWin.active=!1,S.funNext=o,S.onClose()}))),[3,8];case 7:return v=a.sent(),h.Util.ThrowErrProsime(v),[3,8];case 8:return[2]}})})})},e.prototype.showTakeFreeSpin=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,c;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),d.Windown.MatTroiView.stateSpin.freeSpinCache=t,d.Windown.MatTroiView.stateSpin.activeAllSymbol(),d.Windown.MatTroiView.listColum.forEach(function(t){t.getListSymbolResult().forEach(function(t){t.effectScaterShowFS()})}),d.Windown.MatTroiView.audio.playEffect(d.Windown.MatTroiView.audio.scatterWinHighlight),d.Windown.MatTroiView.audio.playEffect(d.Windown.MatTroiView.audio.heartbeatNoise),[4,d.Windown.MatTroiView.getMakeDelay(1.5).prosime];case 1:return a.sent(),[4,d.Windown.loadRes(l.default.MatTroi.toString(),"Prefabs/ShowFreeSpin",cc.Prefab)];case 2:return e=a.sent(),(o=cc.instantiate(e)).parent=this.node,o.zIndex=1,d.Windown.MatTroiView.audio.playEffect(d.Windown.MatTroiView.audio.fsIntro),i=cc.find("GetFreeSpin",o),cc.find("lbFreeSpinNum",i).getComponent(p.default).string=t+"",i.active=!0,this.swidthFS(!0),r=function(){i.runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){i.destroy()}))),n(null)},(s=cc.find("btnStart",i).getComponent(cc.Button)).node.opacity=0,s.node.runAction(cc.sequence(cc.fadeIn(1),cc.callFunc(function(){s.node.once("click",r)}),cc.delayTime(5),cc.callFunc(r))),[3,4];case 3:return c=a.sent(),h.Util.ThrowErrProsime(c),[3,4];case 4:return[2]}})})})},e.prototype.showEndFree=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,f,y,g,m,v,S;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),t<1?(d.Windown.MatTroiView.audio.stopBkgFs(),this.swidthFS(!1),n(null),[2]):(e=[],[4,d.Windown.loadRes(l.default.MatTroi.toString(),"Prefabs/EndFreeSpin",cc.Prefab)]);case 1:return o=a.sent(),this.swidthFS(!1),d.Windown.MatTroiView.audio.playEffect(d.Windown.MatTroiView.audio.bgm_totalwin_main),(i=cc.instantiate(o)).parent=this.node,i.zIndex=999,(r=i.getComponent(cc.Animation)).play("Effect_Total_Win"),r.on(cc.Animation.EventType.FINISHED,function(){r.play("Effect_Total_Win_Loop")}),(s=i.getComponentInChildren(p.default)).resetLb(),s.time=4.3,s.setMoney(t),t>1e4&&((f=u.ConectManager.getIns().getSFSObj()).putInt("gt",l.default.MatTroi),f.putInt("mt",t),f.putUtfString("nn",d.Windown.User.nickName),f.putUtfString("dt","fs"),u.ConectManager.getIns().sendRequest(c.REQUEST_CODE.AddBigWin,f)),(y=cc.find("btnStart",i)).active=!1,y.opacity=0,g=function(){i.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){i.destroy(),n(null),d.Windown.MatTroiView.audio.stopBkgFs()})))},this.scheduleOnce(function(){i.once(cc.Node.EventType.TOUCH_END,function(){for(;e.length>0;)e.shift().cancle(!0)})},.5),m=d.Windown.MatTroiView.getMakeDelay(4.25),e.push(m),[4,m.prosime];case 2:return a.sent(),s.setMoneyNoTime(t),s.node.runAction(cc.sequence(cc.scaleTo(.3,1.1),cc.scaleTo(.3,.8))),cc.find("tw",i).runAction(cc.sequence(cc.scaleTo(.3,1.3),cc.scaleTo(.3,1))),y.active=!0,y.runAction(cc.fadeIn(.5)),y.once("click",g),d.Windown.MatTroiView.audio.stopEffect(d.Windown.MatTroiView.audio.bgm_totalwin_main),d.Windown.MatTroiView.audio.playEffect(d.Windown.MatTroiView.audio.bgm_totalwin_end),v=d.Windown.MatTroiView.getMakeDelay(6),e.push(v),[4,v.prosime];case 3:return a.sent(),g(),[3,5];case 4:return S=a.sent(),h.Util.ThrowErrProsime(S),[3,5];case 5:return[2]}})})})},e.prototype.swidthFS=function(t,e,n){t?(this.listNodeBoxMoney.forEach(function(t){t.y=-613}),d.Windown.MatTroiView.switchBkgGame(!0),d.Windown.MatTroiView.audio.playBkgfs(),f.default.instance.showInitBonusFreeSpin(e,n)):(this.listNodeBoxMoney.forEach(function(t){t.y=-391.26}),d.Windown.MatTroiView.switchBkgGame(!1))},e.prototype.startXu=function(t,e){var n=this;t.opacity=0,t.stopAllActions(),t.scale=d.Windown.RandomNumber(30,80)/100;var o=cc.v2(0,0),i=(d.Windown.RandomNumber(600,1e3),d.Windown.RandomNumber(800,1300),this.pointsOnCircle({radius:1e3,angle:d.Windown.RandomNumber(0,360),cx:0,cy:0})),r=i[0],s=i[1],a=cc.v2(r,s),c=d.Windown.RandomNumber(1.5,2.5);e+=d.Windown.RandomNumber(0,10)/10,t.angle=d.Windown.RandomNumber(0,360),t.setPosition(o);var l=cc.moveTo(c,a);t.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(){t.opacity=255,t.getComponent(cc.Animation).play("Xu")}),l,cc.callFunc(function(){n.startXu(t,0)})))},e.prototype.pointsOnCircle=function(t){var e=t.radius,n=t.angle,o=t.cx,i=t.cy;return n*=Math.PI/180,[o+e*Math.sin(n),i+e*Math.cos(n)]},e.prototype.resetView=function(){this.lb_Money.node.getComponent(p.default).resetLb(),this.lb_Money.node.active=!1,this.node.opacity=255,this.nodeBigWin.active=!1},e.prototype.onClose=function(){var t=this;this.btnFast.interactable=!1,this.unschedule(this.funDelayOff),this.unschedule(this.onClose),this.funNext&&this.funNext(),this.funNext=null,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){t.resetView()}))),this.isClickBtnFast=!1},r([m(cc.Node)],e.prototype,"nodeMask",void 0),r([m(p.default)],e.prototype,"lb_Money",void 0),r([m(cc.Node)],e.prototype,"nodeBigWin",void 0),r([m([cc.Node])],e.prototype,"listNodeBoxMoney",void 0),r([m(cc.Button)],e.prototype,"btnFast",void 0),r([g],e)}(cc.Component);n.default=v,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./EffectControlMatTroi":"EffectControlMatTroi"}],EffectNeko:[function(t,e,n){"use strict";cc._RF.push(e,"f5fdfFPSJJEL5gQOktwfGby","EffectNeko");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../Scritps/Game/GAME_TYPE"),u=t("../../../Scritps/Network/ConectManager"),p=t("../../../Scritps/Obs/LbMoneyChange"),h=t("../../../Scritps/Util"),d=t("../../../Scritps/Windown"),f=cc._decorator,y=f.ccclass,g=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeMask=null,e.lb_Money=null,e.nodeBigWin=null,e.listNodeBoxMoney=[],e.btnFast=null,e.spineChangeView=null,e.listPromiseIgro=[],e.isClickBtnFast=!1,e.funNext=null,e.funDelayOff=null,e.mapColor=new Map,e}return i(e,t),e.prototype.onLoad=function(){this.funNext=null,cc.find("BigWin/hoangQuang",this.node).runAction(cc.repeatForever(cc.rotateBy(1,45)))},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){this.unschedule(this.funDelayOff)},e.prototype.initPosMask=function(t){cc.find("mask",this.node).y=t},e.prototype.onClickBtnShowFast=function(){for(this.btnFast.interactable=!1,this.isClickBtnFast=!0;this.listPromiseIgro.length>0;)this.listPromiseIgro.shift().cancle(!0)},e.prototype.showBigWin=function(t,e){var n=this;return new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s,p,f,y,g,m=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,7,,8]),this.scheduleOnce(function(){m.btnFast.interactable=!0},1),this.lb_Money.node.active=!0,this.nodeBigWin.active=!0,this.nodeBigWin.opacity=255,this.lb_Money.resetLb(),4,n=e<25?4:e<35?8:12,this.lb_Money.time=n,this.lb_Money.setMoney(t),this.nodeBigWin.getComponent(cc.Animation).play("ShowBig"),d.Windown.Neko.audio.playEffect(d.Windown.Neko.audio.bgm_bigwin_main,1),i=d.Windown.Neko.getMakeDelay(4),this.listPromiseIgro.push(i),[4,i.prosime];case 1:if(a.sent(),!(e>=30))return[3,3];for(r=cc.find("BigWin/parentXu",this.node),s=0;s<50;s++)(p=d.Windown.Neko.asset.getXu()).parent=r,p.zIndex=10,this.startXu(p,s%3);return d.Windown.Neko.audio.playEffect(d.Windown.Neko.audio.bgm_bigwin_end,.5),this.nodeBigWin.getComponent(cc.Animation).play("ShowMega"),this.isClickBtnFast?[3,3]:(f=d.Windown.Neko.getMakeDelay(4),this.listPromiseIgro.push(f),[4,f.prosime]);case 2:a.sent(),a.label=3;case 3:if(!(e>=50))return[3,5];for(r=cc.find("BigWin/parentXu",this.node),s=0;s<50;s++)(p=d.Windown.Neko.asset.getXu()).parent=r,p.zIndex=10,this.startXu(p,s%3);return d.Windown.Neko.audio.playEffect(d.Windown.Neko.audio.bgm_bigwin_end,.5),this.nodeBigWin.getComponent(cc.Animation).play("ShowSuper"),this.isClickBtnFast?[3,5]:(f=d.Windown.Neko.getMakeDelay(4),this.listPromiseIgro.push(f),[4,f.prosime]);case 4:a.sent(),a.label=5;case 5:return d.Windown.Neko.audio.stopEffect(d.Windown.Neko.audio.bgm_bigwin_main),d.Windown.Neko.audio.playEffect(d.Windown.Neko.audio.bgm_bigwin_end),d.Windown.Neko.dataFinish.get("agWin")>1e4&&((y=u.ConectManager.getIns().getSFSObj()).putInt("gt",l.default.Neko),y.putInt("mt",d.Windown.Neko.dataFinish.get("agWin")),y.putUtfString("nn",d.Windown.User.nickName),y.putUtfString("dt","bw"),u.ConectManager.getIns().sendRequest(c.REQUEST_CODE.AddBigWin,y)),this.lb_Money.setMoneyNoTime(t),[4,d.Windown.Neko.getMakeDelay(3).prosime];case 6:return a.sent(),this.nodeBigWin.stopAllActions(),this.nodeBigWin.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){m.nodeBigWin.active=!1,m.funNext=o,m.onClose()}))),[3,8];case 7:return g=a.sent(),h.Util.ThrowErrProsime(g),[3,8];case 8:return[2]}})})})},e.prototype.showTakeFreeSpin=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,c,u=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),d.Windown.Neko.stateSpin.freeSpinCache=t,d.Windown.Neko.stateSpin.activeAllSymbol(),d.Windown.Neko.listColum.forEach(function(t){t.getListSymbol().forEach(function(t){t.effectScaterShowFS()})}),d.Windown.Neko.itemSlotNekoNgang.getListSymbol().forEach(function(t){t.effectScaterShowFS()}),d.Windown.Neko.audio.playEffect(d.Windown.Neko.audio.scatterWinHighlight),this.showChangeViewEffect(),[4,d.Windown.Neko.getMakeDelay(1.5).prosime];case 1:return a.sent(),[4,d.Windown.loadRes(l.default.Neko.toString(),"Frefabs/ShowFreeSpin",cc.Prefab)];case 2:return e=a.sent(),(o=cc.instantiate(e)).parent=this.node,o.zIndex=1,d.Windown.Neko.audio.playBkgfs(),d.Windown.Neko.audio.playEffect(d.Windown.Neko.audio.fsIntro),i=cc.find("NodeContent",o),cc.find("lbCount",i).getComponent(cc.Label).string=t,i.opacity=0,cc.find("Alats7-bl_vfx_a_screen_00",o).getComponent(cc.Animation).play("ShowTakeFs1"),(r=cc.find("Alats8-fs_vfx_c_add",o)).opacity=0,s=function(){i.runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){i.destroy()}))),u.listNodeBoxMoney.forEach(function(t){t.y=-613}),n(null)},r.runAction(cc.sequence(cc.fadeIn(.4),cc.callFunc(function(){i.runAction(cc.fadeIn(.3)),d.Windown.Neko.switchBkgGame(!0),cc.find("Alats8-bl_vfx_d_screen",i).runAction(cc.scaleTo(3,4));var t=cc.find("Alats9-start_button",i).getComponent(cc.Button);t.node.opacity=0,t.node.runAction(cc.sequence(cc.fadeIn(1),cc.callFunc(function(){t.node.once("click",s)}),cc.delayTime(5),cc.callFunc(s)))}),cc.fadeOut(.5))),[3,4];case 3:return c=a.sent(),h.Util.ThrowErrProsime(c),[3,4];case 4:return[2]}})})})},e.prototype.showChangeViewEffect=function(){var t=this;this.spineChangeView.node.active=!0,this.spineChangeView.setAnimation(0,"BG",!1),this.spineChangeView.setCompleteListener(function(){t.spineChangeView.node.active=!1})},e.prototype.showEndFree=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,f,y,g,m,v,S,b,w,_=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),t<1?(d.Windown.Neko.audio.stopBkgFs(),d.Windown.Neko.switchBkgGame(!1),this.listNodeBoxMoney.forEach(function(t){t.y=-415}),n(null),[2]):(e=[],[4,d.Windown.loadRes(l.default.Neko.toString(),"Frefabs/EndFreeSpin",cc.Prefab)]);case 1:return o=a.sent(),this.listNodeBoxMoney.forEach(function(t){t.y=-415}),d.Windown.Neko.audio.playEffect(d.Windown.Neko.audio.bgm_totalwin_main),d.Windown.Neko.switchBkgGame(!1),(i=cc.instantiate(o)).parent=this.node,i.zIndex=999,r=cc.find("ParentXu",i),(s=i.getComponentInChildren(p.default)).resetLb(),s.time=4.3,s.setMoney(t),cc.find("lbCount",i).getComponent(cc.Label).string=d.Windown.Neko.stateSpin.freeSpinCache+"",cc.find("Effect",i).getComponent(cc.Animation).play("TakeMutilIB"),t>1e4&&((f=u.ConectManager.getIns().getSFSObj()).putInt("gt",l.default.Neko),f.putInt("mt",t),f.putUtfString("nn",d.Windown.User.nickName),f.putUtfString("dt","fs"),u.ConectManager.getIns().sendRequest(c.REQUEST_CODE.AddBigWin,f)),(y=cc.find("collect",i)).active=!1,y.opacity=0,g=function(){_.showChangeViewEffect(),i.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){for(i.destroy();r.childrenCount>0;)d.Windown.Neko.asset.putXu(r.children[0]);n(null),d.Windown.Neko.audio.stopBkgFs()})))},this.scheduleOnce(function(){i.once(cc.Node.EventType.TOUCH_END,function(){for(;e.length>0;)e.shift().cancle(!0)})},.5),m=d.Windown.Neko.getMakeDelay(4.25),e.push(m),[4,m.prosime];case 2:for(a.sent(),s.setMoneyNoTime(t),s.node.runAction(cc.sequence(cc.scaleTo(.3,1.3),cc.scaleTo(.3,1))),y.active=!0,y.runAction(cc.fadeIn(.5)),y.once("click",g),v=0;v<100;v++)(S=d.Windown.Neko.asset.getXu()).parent=r,S.zIndex=10,this.startXu(S,v%3);return d.Windown.Neko.audio.stopEffect(d.Windown.Neko.audio.bgm_totalwin_main),d.Windown.Neko.audio.playEffect(d.Windown.Neko.audio.bgm_totalwin_end),b=d.Windown.Neko.getMakeDelay(6),e.push(b),[4,b.prosime];case 3:return a.sent(),g(),[3,5];case 4:return w=a.sent(),h.Util.ThrowErrProsime(w),[3,5];case 5:return[2]}})})})},e.prototype.startXu=function(t,e){var n=this;t.opacity=0,t.stopAllActions(),t.scale=d.Windown.RandomNumber(30,80)/100;var o=cc.v2(0,0),i=(d.Windown.RandomNumber(600,1e3),d.Windown.RandomNumber(800,1300),this.pointsOnCircle({radius:1e3,angle:d.Windown.RandomNumber(0,360),cx:0,cy:0})),r=i[0],s=i[1],a=cc.v2(r,s),c=d.Windown.RandomNumber(1.5,2.5);e+=d.Windown.RandomNumber(0,10)/10,t.angle=d.Windown.RandomNumber(0,360),t.setPosition(o);var l=cc.moveTo(c,a);t.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(){t.opacity=255,t.getComponent(cc.Animation).play("Xu")}),l,cc.callFunc(function(){n.startXu(t,0)})))},e.prototype.pointsOnCircle=function(t){var e=t.radius,n=t.angle,o=t.cx,i=t.cy;return n*=Math.PI/180,[o+e*Math.sin(n),i+e*Math.cos(n)]},e.prototype.resetView=function(){this.lb_Money.node.getComponent(p.default).resetLb(),this.lb_Money.node.active=!1,this.node.opacity=255,this.nodeBigWin.active=!1},e.prototype.onClose=function(){var t=this;this.btnFast.interactable=!1,this.unschedule(this.funDelayOff),this.unschedule(this.onClose);for(var e=cc.find("BigWin/parentXu",this.node);e.childrenCount>0;)d.Windown.Neko.asset.putXu(e.children[0]);this.funNext&&this.funNext(),this.funNext=null,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){t.resetView()}))),this.isClickBtnFast=!1},r([g(cc.Node)],e.prototype,"nodeMask",void 0),r([g(p.default)],e.prototype,"lb_Money",void 0),r([g(cc.Node)],e.prototype,"nodeBigWin",void 0),r([g([cc.Node])],e.prototype,"listNodeBoxMoney",void 0),r([g(cc.Button)],e.prototype,"btnFast",void 0),r([g(sp.Skeleton)],e.prototype,"spineChangeView",void 0),r([y],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],EffectNgoKhong:[function(t,e,n){"use strict";cc._RF.push(e,"3c45eid27ZED5ctAdOe0E+Z","EffectNgoKhong");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../Scritps/Game/GAME_TYPE"),u=t("../../../Scritps/Network/ConectManager"),p=t("../../../Scritps/Obs/LbMoneyChange"),h=t("../../../Scritps/Util"),d=t("../../../Scritps/Windown"),f=cc._decorator,y=f.ccclass,g=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeMask=null,e.lb_Money=null,e.nodeBigWin=null,e.lb_MutilFs=null,e.lb_MutilFsFake=null,e.listNodeBoxMoney=[],e.btnFast=null,e.listPromiseIgro=[],e.isClickBtnFast=!1,e.funNext=null,e.funDelayOff=null,e.mapColor=new Map,e}return i(e,t),e.prototype.onLoad=function(){this.funNext=null},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){this.unschedule(this.funDelayOff)},e.prototype.initPosMask=function(t){cc.find("mask",this.node).y=t},e.prototype.onClickBtnShowFast=function(){for(this.btnFast.interactable=!1,this.isClickBtnFast=!0;this.listPromiseIgro.length>0;)this.listPromiseIgro.shift().cancle(!0)},e.prototype.showBigWin=function(t,e){var n=this;return new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s,p,f=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,7,,8]),this.scheduleOnce(function(){f.btnFast.interactable=!0},1),this.lb_Money.node.active=!0,this.nodeBigWin.active=!0,this.nodeBigWin.opacity=255,this.lb_Money.resetLb(),4,n=e<25?4:e<35?8:12,this.lb_Money.time=n,this.lb_Money.setMoney(t),this.nodeBigWin.getComponent(cc.Animation).play("ShowBigWin"),d.Windown.NgoKhong.audio.playEffect(d.Windown.NgoKhong.audio.bgm_bigwin_main,1),i=d.Windown.NgoKhong.getMakeDelay(4),this.listPromiseIgro.push(i),[4,i.prosime];case 1:return a.sent(),e>=25?(d.Windown.NgoKhong.audio.playEffect(d.Windown.NgoKhong.audio.bgm_bigwin_end,.5),this.nodeBigWin.getComponent(cc.Animation).play("ShowMega"),this.isClickBtnFast?[3,3]:(r=d.Windown.NgoKhong.getMakeDelay(4),this.listPromiseIgro.push(r),[4,r.prosime])):[3,3];case 2:a.sent(),a.label=3;case 3:return e>=35?(d.Windown.NgoKhong.audio.playEffect(d.Windown.NgoKhong.audio.bgm_bigwin_end,.5),this.nodeBigWin.getComponent(cc.Animation).play("ShowSuper"),this.isClickBtnFast?[3,5]:(r=d.Windown.NgoKhong.getMakeDelay(4),this.listPromiseIgro.push(r),[4,r.prosime])):[3,5];case 4:a.sent(),a.label=5;case 5:return d.Windown.NgoKhong.audio.stopEffect(d.Windown.NgoKhong.audio.bgm_bigwin_main),d.Windown.NgoKhong.audio.playEffect(d.Windown.NgoKhong.audio.bgm_bigwin_end),d.Windown.NgoKhong.dataFinish.get("agWin")>1e4&&((s=u.ConectManager.getIns().getSFSObj()).putInt("gt",l.default.NgoKhong),s.putInt("mt",d.Windown.NgoKhong.dataFinish.get("agWin")),s.putUtfString("nn",d.Windown.User.nickName),s.putUtfString("dt","bw"),u.ConectManager.getIns().sendRequest(c.REQUEST_CODE.AddBigWin,s)),this.lb_Money.setMoneyNoTime(t),[4,d.Windown.NgoKhong.getMakeDelay(3).prosime];case 6:return a.sent(),this.nodeBigWin.stopAllActions(),this.nodeBigWin.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){f.nodeBigWin.active=!1,f.funNext=o,f.onClose()}))),[3,8];case 7:return p=a.sent(),h.Util.ThrowErrProsime(p),[3,8];case 8:return[2]}})})})},e.prototype.showTakeFreeSpin=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,c,u,p,f,y=this;return a(this,function(g){switch(g.label){case 0:return g.trys.push([0,5,,6]),d.Windown.NgoKhong.stateSpin.freeSpinCache=t,d.Windown.NgoKhong.listColum.forEach(function(t){t.getListSymbol()[t.result.indexOf(12)+1].effectScaterShowFS()}),d.Windown.NgoKhong.audio.playEffect(d.Windown.NgoKhong.audio.scatterWinHighlight),[4,d.Windown.NgoKhong.getMakeDelay(1.5).prosime];case 1:return g.sent(),[4,d.Windown.loadRes(l.default.NgoKhong.toString(),"Frefabs/ShowFreeSpin",cc.Prefab)];case 2:return e=g.sent(),(o=cc.find("Game/Mid",d.Windown.NgoKhong.node)).runAction(cc.fadeOut(.5)),(i=cc.instantiate(e)).parent=this.node,i.zIndex=1,r=i.getComponent(cc.Animation),cc.find("title1/numFree",i).getComponent(cc.Label).string=d.Windown.NgoKhong.stateSpin.freeSpinLeft.toString(),d.Windown.NgoKhong.audio.playBkgfs(),r.play("ShowFS"),r.once(cc.Animation.EventType.FINISHED,function(){return s(y,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),o.runAction(cc.fadeIn(.5)),[4,d.Windown.NgoKhong.getMakeDelay(.5).prosime];case 1:return e.sent(),i.destroy(),n(null),[3,3];case 2:return t=e.sent(),h.Util.ThrowErrProsime(t),[3,3];case 3:return[2]}})})}),[4,d.Windown.NgoKhong.getMakeDelay(1).prosime];case 3:return g.sent(),[4,d.Windown.loadRes(l.default.NgoKhong.toString(),"Frefabs/BkgFreeSpin",cc.Prefab)];case 4:return c=g.sent(),(u=cc.instantiate(c)).name="bkgFreeSpin",u.parent=cc.find("Game",d.Windown.NgoKhong.node),p=cc.find("Game/BkgGround",d.Windown.NgoKhong.node),u.setSiblingIndex(1),p.active=!1,this.lb_MutilFs.node.active=!0,this.lb_MutilFsFake.node.active=!0,this.lb_MutilFs.string="x1",this.lb_MutilFsFake.string="x1",d.Windown.NgoKhong.setLbFreeSpinLeft(t),d.Windown.NgoKhong.lb_FSLeft.node.parent.active=!0,this.listNodeBoxMoney.forEach(function(t){t.y=-613}),d.Windown.NgoKhong.stateSpin.removeAllSymbolAdded(),[3,6];case 5:return f=g.sent(),h.Util.ThrowErrProsime(f),[3,6];case 6:return[2]}})})})},e.prototype.showEndFree=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,f,y,g,m;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,d.Windown.loadRes(l.default.NgoKhong.toString(),"Frefabs/EndFreeSpin",cc.Prefab)];case 1:for(e=a.sent(),this.listNodeBoxMoney.forEach(function(t){t.y=-386}),d.Windown.NgoKhong.audio.playEffect(d.Windown.NgoKhong.audio.bgm_totalwin_main_1),this.scheduleOnce(function(){d.Windown.NgoKhong.audio.playEffect(d.Windown.NgoKhong.audio.bgm_totalwin_end)},2.7),this.lb_MutilFs.node.active=!1,this.lb_MutilFsFake.node.active=!1,cc.find("Game/BkgGround",d.Windown.NgoKhong.node).active=!0,d.Windown.NgoKhong.lb_FSLeft.node.parent.active=!1,cc.find("Game/bkgFreeSpin",d.Windown.NgoKhong.node).destroy(),(o=cc.instantiate(e)).parent=this.node,o.zIndex=999,i=cc.find("ParentXu",o),(r=o.getComponentInChildren(p.default)).resetLb(),r.time=4.3,r.setMoney(t),s=0;s<100;s++)(f=d.Windown.NgoKhong.asset.getXu()).parent=i,f.zIndex=10,this.startXu(f,s%3);return cc.find("ParentLabel/numFS",o).getComponent(cc.Label).string=d.Windown.NgoKhong.stateSpin.freeSpinCache+"",(y=o.getComponent(cc.Animation)).play("EndFree"),y.once(cc.Animation.EventType.FINISHED,function(){for(;i.childrenCount>0;)d.Windown.NgoKhong.asset.putXu(i.children[0]);o.destroy(),n(null),d.Windown.NgoKhong.audio.stopBkgFs()}),t>1e4&&((g=u.ConectManager.getIns().getSFSObj()).putInt("gt",l.default.NgoKhong),g.putInt("mt",t),g.putUtfString("nn",d.Windown.User.nickName),g.putUtfString("dt","fs"),u.ConectManager.getIns().sendRequest(c.REQUEST_CODE.AddBigWin,g)),cc.log("n\xf3 xong r nay"),[3,3];case 2:return m=a.sent(),h.Util.ThrowErrProsime(m),[3,3];case 3:return[2]}})})})},e.prototype.startXu=function(t,e){var n=this;t.opacity=0,t.stopAllActions();var o=cc.v2(0,0),i=(d.Windown.RandomNumber(600,1e3),d.Windown.RandomNumber(800,1300),this.pointsOnCircle({radius:1e3,angle:d.Windown.RandomNumber(0,360),cx:0,cy:0})),r=i[0],s=i[1],a=cc.v2(r,s),c=d.Windown.RandomNumber(1.5,2.5);e+=d.Windown.RandomNumber(0,10)/10,t.angle=d.Windown.RandomNumber(0,360),t.setPosition(o);var l=cc.moveTo(c,a);t.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(){t.opacity=255,t.getComponent(cc.Animation).play("Xu")}),l,cc.callFunc(function(){n.startXu(t,0)})))},e.prototype.pointsOnCircle=function(t){var e=t.radius,n=t.angle,o=t.cx,i=t.cy;return n*=Math.PI/180,[o+e*Math.sin(n),i+e*Math.cos(n)]},e.prototype.effectMutilUp=function(t){d.Windown.NgoKhong.audio.playEffect(d.Windown.NgoKhong.audio.multiUp),this.lb_MutilFs.string="x"+t,this.lb_MutilFsFake.string="x"+t,this.lb_MutilFs.node.stopAllActions(),this.lb_MutilFs.node.runAction(cc.sequence(cc.scaleTo(.2,1.5).easing(cc.easeSineOut()),cc.scaleTo(.2,1).easing(cc.easeSineIn()))),this.lb_MutilFsFake.node.stopAllActions(),this.lb_MutilFsFake.node.scale=1.5,this.lb_MutilFsFake.node.opacity=0,this.lb_MutilFsFake.node.y=548.186,this.lb_MutilFsFake.node.runAction(cc.sequence(cc.delayTime(.15),cc.fadeTo(0,255),cc.spawn(cc.sequence(cc.delayTime(.1),cc.fadeOut(.3)),cc.scaleTo(.15,2))))},e.prototype.effectTakeMutil=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){return a(this,function(){try{d.Windown.NgoKhong.audio.playEffect(d.Windown.NgoKhong.audio.multiTitle),this.lb_MutilFs.node.stopAllActions(),this.lb_MutilFs.node.runAction(cc.sequence(cc.scaleTo(.2,1.5).easing(cc.easeSineOut()),cc.scaleTo(.2,1).easing(cc.easeSineIn()))),this.lb_MutilFsFake.node.stopAllActions(),this.lb_MutilFsFake.node.scale=1.5,this.lb_MutilFsFake.node.opacity=0,this.lb_MutilFsFake.node.y=548.186,this.lb_MutilFsFake.node.runAction(cc.sequence(cc.delayTime(.15),cc.fadeTo(0,255),cc.spawn(cc.moveTo(1,0,150).easing(cc.easeQuarticActionOut()),cc.scaleTo(.5,5).easing(cc.easeQuarticActionOut())),cc.sequence(cc.spawn(cc.moveTo(.1,0,-300).easing(cc.easeCubicActionIn()),cc.scaleTo(.1,3).easing(cc.easeCubicActionIn())),cc.callFunc(e),cc.spawn(cc.fadeOut(.2),cc.scaleTo(.1,5).easing(cc.easeSineOut())))))}catch(t){h.Util.ThrowErrProsime(t)}return[2]})})})},e.prototype.resetView=function(){this.lb_Money.node.getComponent(p.default).resetLb(),this.lb_Money.node.active=!1,this.node.opacity=255,this.nodeBigWin.active=!1},e.prototype.onClose=function(){var t=this;this.btnFast.interactable=!1,this.unschedule(this.funDelayOff),this.unschedule(this.onClose),this.funNext&&this.funNext(),this.funNext=null,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){t.resetView()}))),this.isClickBtnFast=!1},r([g(cc.Node)],e.prototype,"nodeMask",void 0),r([g(p.default)],e.prototype,"lb_Money",void 0),r([g(cc.Node)],e.prototype,"nodeBigWin",void 0),r([g(cc.Label)],e.prototype,"lb_MutilFs",void 0),r([g(cc.Label)],e.prototype,"lb_MutilFsFake",void 0),r([g([cc.Node])],e.prototype,"listNodeBoxMoney",void 0),r([g(cc.Button)],e.prototype,"btnFast",void 0),r([y],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],EffectQuyBa:[function(t,e,n){"use strict";cc._RF.push(e,"41bc7anlZxB3J9Jd3DE1Qdt","EffectQuyBa");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.EffectQuyBa=void 0;var c=t("../../../Scritps/Game/GAME_TYPE"),l=t("./BigWinQuyBa"),u=t("./StartFreeSpinQuyBa"),p=t("./EndFreeSpinQuyBa"),h=t("./NearFSQuyBa"),d=t("../../../Scritps/Windown"),f=t("../../../Scritps/Util"),y=cc._decorator,g=y.ccclass,m=y.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listNodeBoxMoney=[],e.nodeEffNearWin=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.switchFS=function(t,e){t?(this.listNodeBoxMoney.forEach(function(t){t.setPosition(t.position.x,-609)}),d.Windown.QuyBa.switchBkgGame(!0,e)):(d.Windown.QuyBa.switchBkgGame(!1),this.listNodeBoxMoney.forEach(function(t){t.setPosition(t.position.x,-381.5)}))},e.prototype.showBigWin=function(t,e){var n=this;return new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r;return a(this,function(s){switch(s.label){case 0:return[4,d.Windown.loadRes(c.default.QuyBa.toString(),"Prefabs/BigWin",cc.Prefab)];case 1:return n=s.sent(),(i=cc.instantiate(n)).parent=this.node,r=i.getComponent(l.BigWinQuyBa),[4,d.Windown.QuyBa.getPromise(r.init(t,e))];case 2:return s.sent(),o(null),[2]}})})})},e.prototype.showTakeFreeSpin=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r;return a(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),d.Windown.QuyBa.stateSpin.freeSpinCache=t,d.Windown.QuyBa.stateSpin.activeAllSymbol(),d.Windown.QuyBa.listColum.forEach(function(t){t.getListSymbolResult().forEach(function(t){t.effectScaterShowFS()})}),d.Windown.loadRes(c.default.QuyBa.toString(),"Prefabs/ShowFreeSpin",cc.Prefab),[4,d.Windown.QuyBa.getMakeDelay(1.3).prosime];case 1:return s.sent(),d.Windown.QuyBa.audio.playEffect(d.Windown.QuyBa.audio.scatterWinHighligh),d.Windown.UIManager.showLoading(),[4,d.Windown.loadRes(c.default.QuyBa.toString(),"Prefabs/ShowFreeSpin",cc.Prefab)];case 2:return e=s.sent(),d.Windown.UIManager.hideLoading(),(o=cc.instantiate(e)).parent=this.node,i=o.getComponent(u.StartFreeSpinQuyBa),[4,d.Windown.QuyBa.getPromise(i.show(t,this.listNodeBoxMoney))];case 3:return s.sent(),d.Windown.QuyBa.setLbFreeSpinLeft(t),d.Windown.QuyBa.effect.switchFS(!0),[4,d.Windown.QuyBa.getMakeDelay(1).prosime];case 4:return s.sent(),n(null),[3,6];case 5:return r=s.sent(),f.Util.ThrowErrProsime(r),[3,6];case 6:return[2]}})})})},e.prototype.showEndFree=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r;return a(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),t<1?(d.Windown.QuyBa.audio.stopBkgFs(),this.switchFS(!1),n(null),[2]):[4,d.Windown.loadRes(c.default.QuyBa.toString(),"Prefabs/EndFreeSpin",cc.Prefab)];case 1:return e=s.sent(),this.switchFS(!1),(o=cc.instantiate(e)).parent=this.node,i=o.getComponent(p.EndFreeSpinQuyBa),[4,d.Windown.QuyBa.getPromise(i.show(t))];case 2:return s.sent(),n(null),[3,4];case 3:return r=s.sent(),f.Util.ThrowErrProsime(r),[3,4];case 4:return[2]}})})})},e.prototype.activeNodeNearWin=function(t){d.Windown.QuyBa.activeMask(!0);for(var e=t;e<6;e++)d.Windown.QuyBa.activeMask(!1,e);if(null==this.nodeEffNearWin)for(this.nodeEffNearWin=cc.instantiate(d.Windown.QuyBa.asset.nearFS),this.nodeEffNearWin.setParent(d.Windown.QuyBa.parentEffect),e=0;e<t;e++)d.Windown.QuyBa.listColum[e].getListSymbolResult().forEach(function(t){return t.effectScaterShowFS()});this.nodeEffNearWin.getComponent(h.NearFSQuyBa).init(t)},e.prototype.offNearWin=function(){d.Windown.QuyBa.activeMask(!1),d.Windown.QuyBa.audio.stopEffect(d.Windown.QuyBa.audio.fastspinStart),this.nodeEffNearWin&&this.nodeEffNearWin.getComponent(h.NearFSQuyBa).effOff(),this.nodeEffNearWin=null;for(var t=0,e=d.Windown.QuyBa.listColum;t<e.length;t++)for(var n=0,o=e[t].getListSymbolResult();n<o.length;n++){var i=o[n];i.checkIsInView()&&i.effectScaterIdle()}},e.prototype.activeNearWinNoSap=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r,s,c,l,u,p,h,y,g,m,v,S,b,w;return a(this,function(a){switch(a.label){case 0:if(a.trys.push([0,5,,6]),t=d.Windown.QuyBa.stateSpin.curentCountScater>2&&!d.Windown.QuyBa.stateSpin.isMaxSpeed,d.Windown.QuyBa.nearWinNoSap.active||!t)return e(null),[2];for(d.Windown.QuyBa.nearWinNoSap.opacity=255,d.Windown.QuyBa.nearWinNoSap.active=!0,d.Windown.QuyBa.audio.playEffect(d.Windown.QuyBa.audio.heartbeatNoise),n=!1,d.Windown.QuyBa.stateSpin.offAllSymbol(!1),o=0,i=d.Windown.QuyBa.listColum;o<i.length;o++){for(m=i[o],r=0,s=m.getListSymbolResult();r<s.length;r++)if(!(b=s[r]).checkIsInView()){n=!0;break}if(n)break}if(!n)return e(null),[2];for(c=0,l=d.Windown.QuyBa.listColum;c<l.length;c++)for(m=l[c],u=0,p=m.getListSymbolResult();u<p.length;u++)(b=p[u]).checkIsInView()&&b.effectNearWinScater(!0);d.Windown.QuyBa.infoBar.showOneMoreScater(),h=0,a.label=1;case 1:return h<4?(d.Windown.QuyBa.audio.playEffectNoStop(d.Windown.QuyBa.audio.heartbeat),[4,d.Windown.QuyBa.getMakeDelay(.7).prosime]):[3,4];case 2:a.sent(),a.label=3;case 3:return h++,[3,1];case 4:for(d.Windown.QuyBa.activeMask(!1),y=0,g=d.Windown.QuyBa.listColum;y<g.length;y++)for(m=g[y],v=0,S=m.getListSymbolResult();v<S.length;v++)(b=S[v]).checkIsInView()&&b.effectScaterIdle();return e(null),[3,6];case 5:return w=a.sent(),f.Util.ThrowErrProsime(w),[3,6];case 6:return[2]}})})})},e.prototype.offNearWinNoSap=function(){d.Windown.QuyBa.nearWinNoSap.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){d.Windown.QuyBa.nearWinNoSap.active=!1})))},r([m([cc.Node])],e.prototype,"listNodeBoxMoney",void 0),r([g],e)}(cc.Component);n.EffectQuyBa=v,cc._RF.pop()},{"../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./BigWinQuyBa":"BigWinQuyBa","./EndFreeSpinQuyBa":"EndFreeSpinQuyBa","./NearFSQuyBa":"NearFSQuyBa","./StartFreeSpinQuyBa":"StartFreeSpinQuyBa"}],EffectRan8Dot:[function(t,e,n){"use strict";cc._RF.push(e,"1ac19rAVslLkLfOYU38kdOb","EffectRan8Dot");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.executed=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,r,a,c,l,u,p,h;return s(this,function(s){switch(s.label){case 0:return this.soundMgn.playEffect(this.soundMgn.TiengKen1),(t=this.dataFinishiItemNomarl).objReviceFirtItem,t.typeSpecial,n=t.ListObjReviceSub,o=this.dataFinishiItemNomarl.mutil,this.actionNhapNhay(this.getChildById(4),20,4,!0),[4,this.makeDelay(4.5)];case 1:return s.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.CauNoiDapChuot)];case 2:s.sent(),this.soundMgn.playEffect(this.soundMgn.ItemChay1Vong),i=4,r=[4],a=0,s.label=3;case 3:if(!(a<32))return[3,6];for(h in r)l=r[h],this.offEffect(this.getChildById(l)),r[h]++,r[h]>23&&(r[h]=0);return r.length<8?r.unshift(4):((c=r[0]-1)<0&&(c=23),this.offItem(this.getChildById(c))),[4,this.makeDelay(1/30)];case 4:s.sent(),s.label=5;case 5:return a++,[3,3];case 6:for(h in r)l=r[h],this.offEffect(this.getChildById(l)),r[h]++,r[h]>23&&(r[h]=0);return(c=r[0]-1)<0&&(c=23),this.offItem(this.getChildById(c)),r[0]==o?(this.soundMgn.stopEffect(this.soundMgn.ItemChay1Vong),[3,8]):[4,this.makeDelay(1/30)];case 7:return s.sent(),[3,6];case 8:for(h in r)l=r[h],this.offEffect(this.getChildById(l));return[4,this.soundMgn.playEffectSync(this.soundMgn.TiengNoVaChemKiem)];case 9:return s.sent(),[4,this.makeDelay(1)];case 10:s.sent(),i=0,u=0,p=n,s.label=11;case 11:return u<p.length?(h=p[u],this.pushIdResult(r[i]),this.runEffectNhapNhay1Lan(this.getChildById(r[i]),.3),h.resultType>-1&&this.runEffectNhapNhay1Lan(this.getNodeLbItem(h.resultType),.3),this.currentBtnTrai.setPointBy(h.moneyRevice),++i>23&&(i=0),[4,this.soundMgn.playEffectSync(this.soundMgn.CongTien)]):[3,14];case 12:s.sent(),s.label=13;case 13:return u++,[3,11];case 14:return[4,this.makeDelay(.5)];case 15:return s.sent(),e(null),[2]}})})})},e}(t("./BaseEffectEnd").default);n.default=a,cc._RF.pop()},{"./BaseEffectEnd":"BaseEffectEnd"}],EffectRunSpin:[function(t,e,n){"use strict";cc._RF.push(e,"8dd78Q911lGm5bCHGMTE88A","EffectRunSpin");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Windown"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.resultId=10,e.totalRun=0,e.countRun=0,e.currentIdRun=0,e.countOffActive=4,e.lastIdXDV=1,e.hesoNhanRunXDV=1,e.resultIdXDV=10,e.totalRunXDV=0,e.countRunXDV=0,e.idCacheXDV=0,e.currentIdRunXDV=0,e.countSubXDV=0,e.isRuning=!1,e.timeDelay=.15,e.timeUpdate=0,e.funEnd=null,e.idTimeOut=null,e}return i(e,t),e.prototype.executed=function(){throw new Error("Method not implemented.")},e.prototype.spinWithId=function(t,e,n){return r(this,void 0,void 0,function(){var o,i,r,a,c,l,u=this;return s(this,function(s){switch(s.label){case 0:return this.setColor(e),n?this.soundMgn.playEffect(this.soundMgn.SpinSpecial):this.soundMgn.playEffect(this.soundMgn.SpinNormal),o=this.getIdListLastResutl(),null!=(i=o[0])&&null!=i||(i=1),this.timeDelay=.08,this.countRun=0,this.resultId=t,r=24-i+t,this.totalRun=72+r%24,this.currentIdRun=i,this.countOffActive=4,(a=this.getListLastResult()).forEach(function(t){u.actionNhapNhay(t,3,.5)}),this.resultIdXDV=e,c=this.getIdXDVWithTotal(this.totalRun),l=this.getIdResultXDV(e>2?2:e),this.countSubXDV=this.getCountSub(c.id,l,c.heSoNhan),[4,this.makeDelay(.5)];case 1:return s.sent(),a.forEach(function(t){u.offItem(t)}),this.activeIcon(this.getChildById(i)),this.isRuning=!0,this.xengController.xengView.funUpdate=function(t){u.isRuning?u.update(t):u.xengController.xengView.funUpdate=null},[4,this.endSpinFun()];case 2:return s.sent(),[4,this.makeDelay(1)];case 3:return s.sent(),[2]}})})},e.prototype.endSpinFun=function(){var t=this;return new Promise(function(e){t.funEnd=e})},e.prototype.getIdXDVWithTotal=function(t){for(var e=Object.create(null),n=this.hesoNhanRunXDV,o=this.currentIdRunXDV,i=0;i<t;i++)(o+=n)>5&&(o=5,n*=-1),o<0&&(o=0,n*=-1);return e.id=o,e.heSoNhan=n,e},e.prototype.getIdResultXDV=function(t){return this.getListXDVWithType(t)[a.Windown.RandomNumber(0,2)]},e.prototype.getListXDVWithType=function(t){return[[0,1],[2,3],[4,5]][t]},e.prototype.getCountSub=function(t,e,n){for(var o=n,i=0;;){if(t==e)return i;i++,((t-=o)<0||t>5)&&(t<0&&(t=0),t>5&&(t=5),o*=-1)}},e.prototype.checkStateRun=function(){var t=!0;return this.countRun>=this.totalRun&&(t=!1),t},e.prototype.runSpin=function(){this.randomLbHeSo();var t=this.getIdOffWithRun(this.countOffActive);if(this.countRun>3){var e=this.getChildById(t);this.offItem(e)}this.countRun++,this.activeIcon(this.getChildById(this.currentIdRun)),this.countRun==this.totalRun-9&&(this.offItem(this.getChildById(this.getIdOffWithRun(3))),this.offItem(this.getChildById(this.getIdOffWithRun(2))),this.offItem(this.getChildById(this.getIdOffWithRun(1))),this.countOffActive=1),3==this.countRun&&(this.timeDelay=.08),6==this.countRun&&(this.timeDelay=.062),9==this.countRun&&(this.timeDelay=.02),this.countRun==this.totalRun-3&&(this.timeDelay=.08),this.currentIdRun++,this.currentIdRun>23&&(this.currentIdRun=0),this.countRun>9&&this.countSubXDV>0&&this.countRun%6==3?this.countSubXDV--:(this.countRun>0&&this.offItem(this.getChildXDVById(this.idCacheXDV)),this.activeIcon(this.getChildXDVById(this.currentIdRunXDV)),this.currentIdRunXDV>2?(this.offItem(this.getLightMid(0)),this.activeIcon(this.getLightMid(1))):(this.offItem(this.getLightMid(1)),this.activeIcon(this.getLightMid(0))),this.idCacheXDV=this.currentIdRunXDV,this.currentIdRunXDV+=this.hesoNhanRunXDV,this.currentIdRunXDV>5&&(this.currentIdRunXDV=5,this.hesoNhanRunXDV*=-1),this.currentIdRunXDV<0&&(this.currentIdRunXDV=0,this.hesoNhanRunXDV*=-1))},e.prototype.endSpin=function(){return r(this,void 0,void 0,function(){var t=this;return s(this,function(){return this.resetIdResult(),this.resetIdXDVResult(),this.pushIdResult(this.resultId),this.isRuning=!1,this.offItem(this.getChildById(this.getIdOffWithRun(1))),this.activeIcon(this.getChildById(this.currentIdRun)),this.offItem(this.getChildXDVById(this.idCacheXDV)),3==this.resultIdXDV?(this.getListXDV().forEach(function(e){t.actionNhapNhay(e,40,12)}),this.getListLightMid().forEach(function(e){t.actionNhapNhay(e,40,12)})):(this.activeIcon(this.getLightMid(this.currentIdRunXDV>2?1:0)),this.activeIcon(this.getChildXDVById(this.currentIdRunXDV))),this.soundMgn.stopEffect(this.soundMgn.SpinNormal),this.soundMgn.stopEffect(this.soundMgn.SpinSpecial),this.funEnd(),[2]})})},e.prototype.getIdOffWithRun=function(t){var e=this.currentIdRun-t;return e<0&&(e=24+e),e},e.prototype.update=function(t){return r(this,void 0,void 0,function(){return s(this,function(){return this.isRuning?(this.timeUpdate+=t,this.timeUpdate<this.timeDelay?[2]:(this.timeUpdate=0,this.checkStateRun()?this.runSpin():this.endSpin(),[2])):[2]})})},e}(t("./BaseEffect").default);n.default=c,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./BaseEffect":"BaseEffect"}],EffectRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"174b1iAzOlPdoJMQQg1EUiN","EffectRungRam");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../Scritps/Game/GAME_TYPE"),u=t("../../../Scritps/Network/ConectManager"),p=t("../../../Scritps/Other/LbMonoSpace"),h=t("../../../Scritps/Util"),d=t("../../../Scritps/Windown"),f=t("./Effect/EndFreeSpinRungRam"),y=t("./Effect/StartFreeSpinRungRam"),g=cc._decorator,m=g.ccclass,v=g.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeMask=null,e.lb_Money=null,e.nodeBigWin=null,e.listNodeBoxMoney=[],e.btnFast=null,e.listPromiseIgro=[],e.isClickBtnFast=!1,e.funNext=null,e.funDelayOff=null,e.mapColor=new Map,e}return i(e,t),e.prototype.onLoad=function(){this.funNext=null,cc.find("BigWin/ParentInfo/haoquang",this.node).runAction(cc.repeatForever(cc.rotateBy(1,45))),cc.find("BigWin/BkgMeGa",this.node).runAction(cc.repeatForever(cc.rotateBy(1,-25)))},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){this.unschedule(this.funDelayOff)},e.prototype.initPosMask=function(t){cc.find("mask",this.node).y=t},e.prototype.onClickBtnShowFast=function(){for(this.btnFast.interactable=!1,this.isClickBtnFast=!0;this.listPromiseIgro.length>0;)this.listPromiseIgro.shift().cancle(!0)},e.prototype.showBigWin=function(t,e){var n=this;return new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s,p,f,y,g,m,v=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,7,,8]),this.scheduleOnce(function(){v.btnFast.interactable=!0},1),this.lb_Money.node.active=!0,this.nodeBigWin.active=!0,this.nodeBigWin.opacity=255,this.lb_Money.resetLb(),4,n=e<30?4:e<50?8:12,this.lb_Money.time=n,this.lb_Money.setMoney(t),(i=this.nodeBigWin.getComponent(cc.Animation)).play("BigWin"),i.once(cc.Animation.EventType.FINISHED,function(){cc.log("chay vao player anim bigwinLop"),i.play("BigWinLoop")}),r=cc.find("PaticleShow",this.nodeBigWin).getComponent(cc.ParticleSystem),s=cc.find("particle2",this.nodeBigWin).getComponent(cc.ParticleSystem),r.resetSystem(),s.resetSystem(),d.Windown.RungRam.audio.playEffect(d.Windown.RungRam.audio.bgm_bigwin_main,1),p=d.Windown.RungRam.getMakeDelay(4),this.listPromiseIgro.push(p),[4,p.prosime];case 1:return a.sent(),e>=30?(d.Windown.RungRam.audio.playEffect(d.Windown.RungRam.audio.bgm_bigwin_end,.7),r.resetSystem(),i.stop("BigWin"),i.play("MegaWin"),cc.log("anim megaWin"),this.isClickBtnFast?[3,3]:(f=d.Windown.RungRam.getMakeDelay(4),this.listPromiseIgro.push(f),[4,f.prosime])):[3,3];case 2:a.sent(),a.label=3;case 3:return e>=50?(d.Windown.RungRam.audio.playEffect(d.Windown.RungRam.audio.bgm_bigwin_end,.5),r.resetSystem(),i.stop("MegaWin"),i.play("SuperWin"),cc.log("anim SuperWin"),this.isClickBtnFast?[3,5]:(f=d.Windown.RungRam.getMakeDelay(4),this.listPromiseIgro.push(f),[4,f.prosime])):[3,5];case 4:a.sent(),a.label=5;case 5:return d.Windown.RungRam.audio.stopEffect(d.Windown.RungRam.audio.bgm_bigwin_main),d.Windown.RungRam.audio.playEffect(d.Windown.RungRam.audio.bgm_bigwin_end),this.isClickBtnFast||(i.stop(),i.play("EndBW")),d.Windown.RungRam.dataFinish.get("agWin")>1e4&&((y=u.ConectManager.getIns().getSFSObj()).putInt("gt",l.default.RungRam),y.putInt("mt",d.Windown.RungRam.dataFinish.get("agWin")),y.putUtfString("nn",d.Windown.User.nickName),y.putUtfString("dt","bw"),u.ConectManager.getIns().sendRequest(c.REQUEST_CODE.AddBigWin,y)),this.lb_Money.setMoneyNoTime(t),g=d.Windown.RungRam.getMakeDelay(4),this.listPromiseIgro.push(g),this.btnFast.interactable=!0,[4,g.prosime];case 6:return a.sent(),this.nodeBigWin.stopAllActions(),this.nodeBigWin.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){v.nodeBigWin.active=!1,v.funNext=o,v.onClose()}))),[3,8];case 7:return m=a.sent(),h.Util.ThrowErrProsime(m),[3,8];case 8:return[2]}})})})},e.prototype.swidthFS=function(t,e){t?(this.listNodeBoxMoney.forEach(function(t){t.y=-613}),d.Windown.RungRam.switchBkgGame(!0,e)):(d.Windown.RungRam.switchBkgGame(!1),this.listNodeBoxMoney.forEach(function(t){t.y=-387.117}))},e.prototype.showTakeFreeSpin=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),d.Windown.RungRam.stateSpin.freeSpinCache=t,d.Windown.RungRam.stateSpin.activeAllSymbol(),d.Windown.RungRam.listColum.forEach(function(t){t.getListSymbolResult().forEach(function(t){t.effectNearWinScater(!1)})}),d.Windown.RungRam.itemSlotRungRamNgang.getListSymbolResult().forEach(function(t){t.effectNearWinScater(!1)}),d.Windown.RungRam.audio.playEffect(d.Windown.RungRam.audio.scatterWinHighlight),[4,d.Windown.RungRam.getMakeDelay(1.5).prosime];case 1:return r.sent(),[4,d.Windown.loadRes(l.default.RungRam.toString(),"Frefabs/ShowFreeSpin",cc.Prefab)];case 2:return e=r.sent(),(o=cc.instantiate(e)).parent=this.node,o.zIndex=1,[4,o.getComponent(y.default).show(t,this.listNodeBoxMoney)];case 3:return r.sent(),n(null),[3,5];case 4:return i=r.sent(),h.Util.ThrowErrProsime(i),[3,5];case 5:return[2]}})})})},e.prototype.showEndFree=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),t<1?(d.Windown.RungRam.audio.stopBkgFs(),this.swidthFS(!1),n(null),[2]):[4,d.Windown.loadRes(l.default.RungRam.toString(),"Frefabs/EndFreeSpin",cc.Prefab)];case 1:return e=r.sent(),this.swidthFS(!1),(o=cc.instantiate(e)).parent=this.node,o.zIndex=999,[4,o.getComponent(f.default).show(t)];case 2:return r.sent(),n(null),[3,4];case 3:return i=r.sent(),h.Util.ThrowErrProsime(i),[3,4];case 4:return[2]}})})})},e.prototype.pointsOnCircle=function(t){var e=t.radius,n=t.angle,o=t.cx,i=t.cy;return n*=Math.PI/180,[o+e*Math.sin(n),i+e*Math.cos(n)]},e.prototype.resetView=function(){this.lb_Money.resetLb(),this.lb_Money.node.active=!1,this.node.opacity=255,this.nodeBigWin.active=!1},e.prototype.onClose=function(){var t=this;this.btnFast.interactable=!1,this.unschedule(this.funDelayOff),this.unschedule(this.onClose),this.funNext&&this.funNext(),this.funNext=null,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){t.resetView()}))),this.isClickBtnFast=!1},r([v(cc.Node)],e.prototype,"nodeMask",void 0),r([v(p.default)],e.prototype,"lb_Money",void 0),r([v(cc.Node)],e.prototype,"nodeBigWin",void 0),r([v([cc.Node])],e.prototype,"listNodeBoxMoney",void 0),r([v(cc.Button)],e.prototype,"btnFast",void 0),r([m],e)}(cc.Component);n.default=S,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./Effect/EndFreeSpinRungRam":"EndFreeSpinRungRam","./Effect/StartFreeSpinRungRam":"StartFreeSpinRungRam"}],EffectScaterMatTroi:[function(t,e,n){"use strict";cc._RF.push(e,"bd824NpxjBI46xHEpA74dos","EffectScaterMatTroi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.haoQuang2=null,e.haoQuang3=null,e.ani=null,e.ske=null,e}return i(e,t),e.prototype.showFs=function(){this.ani.play(),this.ske.setAnimation(0,"spawn",!1),this.ske.addAnimation(0,"fastspin_idle",!0)},e.prototype.start=function(){var t=this,e=s.Windown.MatTroiView.asset.getBgScatter();e.parent=s.Windown.MatTroiView.parentBackgroundEffect,e.setPosition(s.Windown.convertNodeInOtherNode(this.node,e.parent)),this.bkg=e,this.bkg.opacity=0,this.bkg.runAction(cc.fadeIn(.3)),this.haoQuang3.runAction(cc.repeatForever(cc.rotateBy(1,80))),this.haoQuang2.runAction(cc.repeatForever(cc.sequence(cc.callFunc(function(){t.haoQuang2.scale=.4,t.haoQuang2.opacity=255}),cc.spawn(cc.scaleTo(1,1).easing(cc.easeQuarticActionOut()),cc.fadeOut(1.2).easing(cc.easeQuinticActionIn()))))),this.ske.setAnimation(0,"fastspin_idle",!0)},e.prototype.onDestroy=function(){this.bkg&&this.bkg.destroy()},e.prototype.update=function(){this.bkg&&this.bkg.setPosition(s.Windown.convertNodeInOtherNode(this.node,this.bkg.parent))},r([l(cc.Node)],e.prototype,"haoQuang2",void 0),r([l(cc.Node)],e.prototype,"haoQuang3",void 0),r([l(cc.Animation)],e.prototype,"ani",void 0),r([l(sp.Skeleton)],e.prototype,"ske",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],EffectSet:[function(t,e,n){"use strict";cc._RF.push(e,"51f04yLQPJIwLjeO1X7BEio","EffectSet");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../../Scritps/Windown"),a=t("./BaseEffectFish"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.reset=function(){s.Windown.FishBongDem.pool.putEfGiatSet(this.node)},e.prototype.execute=function(){var t=this.fish.getViewNode();t?(this.node.parent=t,this.node.setContentSize(t.height,t.width),this.getComponent(cc.Animation).play("BiGiatSet")):this.reset()},e.prototype.getSizeByFishType=function(){},r([l],e)}(a.default));n.default=u,cc._RF.pop()},{"../../../../../Scritps/Windown":"Windown","./BaseEffectFish":"BaseEffectFish"}],EffectSpecial14:[function(t,e,n){"use strict";cc._RF.push(e,"e3fc9nsyiFP9oWDXAn2AVVB","EffectSpecial14");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.executed=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,r,a=this;return s(this,function(s){switch(s.label){case 0:return this.soundMgn.playEffect(this.soundMgn.TiengKen1),(t=this.dataFinishiItemNomarl).objReviceFirtItem,t.typeSpecial,(n=t.ListObjReviceSub)[0],this.actionNhapNhay(this.getChildById(20),20,4,!0),[4,this.makeDelay(4.5)];case 1:return s.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.CuocKhungHoang)];case 2:s.sent(),this.soundMgn.playEffect(this.soundMgn.ItemChay1Vong),o=20,r=0,s.label=3;case 3:return r<24?(++o>23&&(o=0),this.offEffect(this.getChildById(o)),[4,this.makeDelay(2.8/24)]):[3,6];case 4:s.sent(),s.label=5;case 5:return r++,[3,3];case 6:return i=0,n.forEach(function(t){i+=t.moneyRevice}),this.currentBtnTrai.setPointBy(i),[4,this.soundMgn.playEffectSync(this.soundMgn.HieuUngAnTatCaCacCua)];case 7:s.sent(),this.getListChildren().forEach(function(t){a.actionNhapNhay(t,5,1,!0)}),r=0,s.label=8;case 8:return r<5?(this.soundMgn.playEffect(this.soundMgn.TiengNo),[4,this.makeDelay(.2)]):[3,11];case 9:s.sent(),s.label=10;case 10:return r++,[3,8];case 11:for(this.resetIdResult(),r=0;r<24;r++)this.pushIdResult(r);return[4,this.makeDelay(1)];case 12:return s.sent(),e(null),[2]}})})})},e}(t("./BaseEffectEnd").default);n.default=a,cc._RF.pop()},{"./BaseEffectEnd":"BaseEffectEnd"}],EffectSpecial2:[function(t,e,n){"use strict";cc._RF.push(e,"6c74c1H8oVClq0RIHmB/fXm","EffectSpecial2");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.executed=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,r,a,c,l,u;return s(this,function(s){switch(s.label){case 0:return(t=this.dataFinishiItemNomarl).objReviceFirtItem,t.typeSpecial,n=t.ListObjReviceSub,o=n[0],this.soundMgn.playEffect(this.soundMgn.TiengKen1),i=this.getIdListLastResutl(),r=i[0],this.actionNhapNhay(this.getChildById(r),20,4,!0),[4,this.makeDelay(4.5)];case 1:s.sent(),this.soundMgn.stopEffect(this.soundMgn.TiengKen1),a=o.idResult,this.pushIdResult(a),c=-1,l=6==r?-1:1,u=r,s.label=2;case 2:return this.soundMgn.playEffect(this.soundMgn.Bip),-1!=c&&this.offItem(this.getChildById(c)),this.activeIcon(this.getChildById(u)),u!=a?[3,5]:[4,this.makeDelay(1)];case 3:return s.sent(),cc.log("objSub.result: "+a),this.actionNhapNhay(this.getChildById(a),10,2,!0),this.runEffectNhapNhay(this.getNodeLbItem(o.resultType),2,10),this.soundMgn.playEffect(this.soundMgn.Item[o.resultType]),[4,this.makeDelay(2)];case 4:return s.sent(),e(null),[3,7];case 5:return c=u,u+=l,-1==l?-1==u&&(u=23):24==u&&(u=0),[4,this.makeDelay(.08)];case 6:return s.sent(),[3,2];case 7:return[2]}})})})},e}(t("./BaseEffectEnd").default);n.default=a,cc._RF.pop()},{"./BaseEffectEnd":"BaseEffectEnd"}],EffectSpecial3:[function(t,e,n){"use strict";cc._RF.push(e,"da396oEJxpNiLDbpR2nmWlf","EffectSpecial3");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.executed=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,r,a,c;return s(this,function(s){switch(s.label){case 0:(t=this.dataFinishiItemNomarl).objReviceFirtItem,t.typeSpecial,n=t.ListObjReviceSub,o=n[0],this.soundMgn.playEffect(this.soundMgn.RandomSo),i=!1,r=0,a=o.idResult,this.pushIdResult(a),c=this.getIdListLastResutl()[0],s.label=1;case 1:return 6!=r?[3,5]:(this.soundMgn.stopEffect(this.soundMgn.RandomSo),[4,this.soundMgn.playEffectSync(this.soundMgn.Bip)]);case 2:return s.sent(),this.soundMgn.playEffect(this.soundMgn.TiengNo),this.offItem(this.getNodeJp()),this.activeIcon(this.getChildById(a)),[4,this.makeDelay(2)];case 3:return s.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.Item[o.resultType])];case 4:return s.sent(),e(null),[3,7];case 5:return i?(this.offItem(this.getNodeJp()),this.activeIcon(this.getChildById(c))):(this.activeIcon(this.getNodeJp()),this.offItem(this.getChildById(c))),i=!i,r++,[4,this.makeDelay(.1)];case 6:return s.sent(),[3,1];case 7:return[2]}})})})},e}(t("./BaseEffectEnd").default);n.default=a,cc._RF.pop()},{"./BaseEffectEnd":"BaseEffectEnd"}],EffectSpecial4:[function(t,e,n){"use strict";cc._RF.push(e,"eb0cdCraxdEWb2A5VfvK7rI","EffectSpecial4");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Windown"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.executed=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,r,c,l;return s(this,function(s){switch(s.label){case 0:(t=this.dataFinishiItemNomarl).objReviceFirtItem,t.typeSpecial,n=t.ListObjReviceSub,o=n[0],i=[3,9,11,14,17,22],a.Windown.shuffle(i),r=0,c=-1,l=o.idResult,this.pushIdResult(l),s.label=1;case 1:return r!=i.length?[3,4]:(-1!=c&&this.offItem(this.getChildById(i[c])),this.activeIcon(this.getChildById(l)),this.soundMgn.playEffect(this.soundMgn.TiengNo),[4,this.makeDelay(2)]);case 2:return s.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.Item[o.resultType])];case 3:return s.sent(),e(null),[3,6];case 4:return this.soundMgn.playEffect(this.soundMgn.Hu),-1!=c&&this.offItem(this.getChildById(i[c])),this.activeIcon(this.getChildById(i[r])),c=r,r++,[4,this.makeDelay(.5)];case 5:return s.sent(),[3,1];case 6:return[2]}})})})},e}(t("./BaseEffectEnd").default);n.default=c,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./BaseEffectEnd":"BaseEffectEnd"}],EffectSpecial5:[function(t,e,n){"use strict";cc._RF.push(e,"fccb2itoa5I25vSDjMSwOJS","EffectSpecial5");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.executed=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,r,a;return s(this,function(s){switch(s.label){case 0:return t=this.dataFinishiItemNomarl,n=t.objReviceFirtItem,t.typeSpecial,o=t.ListObjReviceSub,i=o[0],r=i.resultType,a=i.hesoX,this.runEffectNhapNhay(this.getNodeLbItem(n.resultType),6,30),[4,this.soundMgn.playEffectSync(this.soundMgn.EffectAnRandomItemNhoSau)];case 1:return s.sent(),this.runEffectRandomLabelHesoSpecial(),[4,this.soundMgn.playEffectSync(this.soundMgn.RandomSo)];case 2:return s.sent(),this.offEffectRandomLabelHeso(a),[4,this.soundMgn.playEffectSync(this.soundMgn.VuiMung)];case 3:return s.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.Gong)];case 4:return s.sent(),this.runEffectNhapNhay(this.getNodeLbItem(r),3,15),[4,this.soundMgn.playEffectSync(this.soundMgn.Item[r])];case 5:return s.sent(),[4,this.makeDelay(1)];case 6:return s.sent(),e(null),[2]}})})})},e}(t("./BaseEffectEnd").default);n.default=a,cc._RF.pop()},{"./BaseEffectEnd":"BaseEffectEnd"}],EffectSpecial6:[function(t,e,n){"use strict";cc._RF.push(e,"c21fcy1tNdB8qc4G3Nv+0GI","EffectSpecial6");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.executed=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,r;return s(this,function(s){switch(s.label){case 0:return(t=this.dataFinishiItemNomarl).objReviceFirtItem,t.typeSpecial,n=t.ListObjReviceSub,this.actionNhapNhay(this.getListLastResult()[0],50,10,!0),[4,this.soundMgn.playEffectSync(this.soundMgn.EffectAnRandomItemNhoSau)];case 1:return s.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.CauNoiTraDiem)];case 2:return s.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.TiengNoVaChemKiem)];case 3:return s.sent(),[4,this.makeDelay(1)];case 4:s.sent(),r=0,o=n.length,s.label=5;case 5:return r<o?(this.runEffectNhapNhay1Lan(this.getNodeLbItem(r),.3),this.currentBtnTrai.setPointBy(n[r].moneyRevice),[4,this.soundMgn.playEffectSync(this.soundMgn.CongTien)]):[3,8];case 6:s.sent(),s.label=7;case 7:return r++,[3,5];case 8:return this.actionNhapNhay(this.getListLastResult()[0],12.5,2.5,!0),[4,this.soundMgn.playEffectSync(this.soundMgn.CauNoiTraDiemXong)];case 9:return s.sent(),this.setStringLbHeSo(0),[4,this.soundMgn.playEffectSync(this.soundMgn.NhacNenTraDiem)];case 10:return s.sent(),[4,this.makeDelay(10)];case 11:s.sent(),i=t.mutil,r=0,s.label=12;case 12:return r<i?(this.setStringLbHeSo(r+1),this.soundMgn.playEffect(this.soundMgn.TiengNo),this.currentBtnTrai.setPointBy(10),[4,this.makeDelay(.45)]):[3,15];case 13:s.sent(),s.label=14;case 14:return r++,[3,12];case 15:return[4,this.makeDelay(2.5)];case 16:return s.sent(),e(null),[2]}})})})},e}(t("./BaseEffectEnd").default);n.default=a,cc._RF.pop()},{"./BaseEffectEnd":"BaseEffectEnd"}],EffectSpecial7:[function(t,e,n){"use strict";cc._RF.push(e,"2d481KQRd5LSpiHzuUPtdmL","EffectSpecial7");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.executed=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,r,a,c,l,u,p,h,d=this;return s(this,function(s){switch(s.label){case 0:return(t=this.dataFinishiItemNomarl).objReviceFirtItem,t.typeSpecial,n=t.ListObjReviceSub,o=this.getIdListLastResutl(),this.actionNhapNhay(this.getChildById(o[0]),20,2.5),[4,this.soundMgn.playEffectSync(this.soundMgn.TiengNoVaChemKiem)];case 1:s.sent(),this.offEffect(this.getChildById(o[0])),this.soundMgn.playEffect(this.soundMgn.ChayItem),i=o[0],r=i,a=1,6==i&&(a=-1),6==i?this.pushIdResult(18):this.pushIdResult(6),c=-1*a,l=0,s.label=2;case 2:return l<12?((i+=a)>23?i=0:i<0&&(i=23),(r+=c)>23?r=0:r<0&&(r=23),this.activeIcon(this.getChildById(i)),this.activeIcon(this.getChildById(r)),[4,this.makeDelay(1.7/12)]):[3,5];case 3:s.sent(),s.label=4;case 4:return l++,[3,2];case 5:return this.getListChildren().forEach(function(t){d.offItem(t)}),this.getIdListLastResutl().forEach(function(t){d.activeIcon(d.getChildById(t))}),[4,this.soundMgn.playEffectSync(this.soundMgn.TiengNo)];case 6:return s.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.CauNoiDapChuot)];case 7:s.sent(),this.getListNodeLbItem().forEach(function(t){d.offItem(t)}),l=0,u=n.length,s.label=8;case 8:return l<u?[4,this.soundMgn.playEffectSync(this.soundMgn.RandomSo)]:[3,14];case 9:return s.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.Bip)];case 10:return s.sent(),p=n[l].resultType,h=n[l].moneyRevice,this.currentBtnTrai.setPointBy(h),this.activeWithTime(this.getNodeLbItem(p),1),[4,this.makeDelay(1)];case 11:return s.sent(),this.actionNhapNhay(this.getNodeLbItem(p),8,.9,!1),[4,this.soundMgn.playEffectSync(this.soundMgn.TuNaiXa)];case 12:s.sent(),s.label=13;case 13:return l++,[3,8];case 14:return[4,this.soundMgn.playEffectSync(this.soundMgn.MiOLa)];case 15:return s.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.TiengCuoi)];case 16:return s.sent(),e(null),[2]}})})})},e}(t("./BaseEffectEnd").default);n.default=a,cc._RF.pop()},{"./BaseEffectEnd":"BaseEffectEnd"}],EffectSpineSoXo:[function(t,e,n){"use strict";cc._RF.push(e,"d5a42g4Ms1GC6Em6K/255QA","EffectSpineSoXo");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.executed=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,r,a,c,l,u,p,h,d,f,y;return s(this,function(s){switch(s.label){case 0:return(t=this.dataFinishiItemNomarl).objReviceFirtItem,t.typeSpecial,n=t.ListObjReviceSub,o=n[0],i=o.idResult,r=o.resultType,a=this.getListChildren(),this.actionNhapNhay(a[16],16,4.7),[4,this.soundMgn.playEffectSync(this.soundMgn.TiengNoVaChemKiem)];case 1:return s.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.Woa)];case 2:return s.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.ThingKaiSun)];case 3:return s.sent(),c=this.getListXoSo(),this.actionNhapNhay(c[5],15,2.3),[4,this.soundMgn.playEffectSync(this.soundMgn.TingTingDt)];case 4:s.sent(),this.soundMgn.playEffect(this.soundMgn.ItemChay1Vong),l=5,f=0,s.label=5;case 5:return f<8?(this.activeWithTime(this.getChildXoSoById(l),1.2),[4,this.makeDelay(.15)]):[3,8];case 6:s.sent(),++l>7&&(l=0),s.label=7;case 7:return f++,[3,5];case 8:return[4,this.makeDelay(1.2)];case 9:s.sent(),u=this.getCountRunSoXo(5,i),p=5,f=0,y=u+1,s.label=10;case 10:return f<y?(this.soundMgn.playEffect(this.soundMgn.NextSoXo),this.activeWithTime(this.getChildXoSoById(p),1.1),++p>7&&(p=0),[4,this.makeDelay(1.1)]):[3,13];case 11:s.sent(),s.label=12;case 12:return f++,[3,10];case 13:return this.offEffect(this.getChildXoSoById(i)),[4,this.soundMgn.playEffectSync(this.soundMgn.AtOhh)];case 14:return s.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.TiengCuoi)];case 15:return s.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.VuiMung)];case 16:return s.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.Gong)];case 17:return s.sent(),this.soundMgn.playEffect(this.soundMgn.Item[r]),this.actionNhapNhay(this.getChildXoSoById(i),18,3.8,!0),[4,this.makeDelay(4.1)];case 18:return s.sent(),0==o.moneyRevice?(e(null),[2]):(this.soundMgn.playEffect(this.soundMgn.ShowHeSoRandom),h=o.hesoX,d=o.moneyRevice/h,this.setStringLbHeSo(h),this.runEffectNhapNhay(this.getNodeLbHeso(),7.3,32),this.runEffectNhapNhay(this.getNodeLbLeft(),7.3,32),[4,this.makeDelay(7.3)]);case 19:s.sent(),f=0,y=h,s.label=20;case 20:return f<y?(h--,this.setStringLbHeSo(h),this.soundMgn.playEffect(this.soundMgn.TiengNo),this.currentBtnTrai.setPointBy(d),[4,this.makeDelay(.45)]):[3,23];case 21:s.sent(),s.label=22;case 22:return f++,[3,20];case 23:return[4,this.makeDelay(1)];case 24:return s.sent(),e(null),[2]}})})})},e.prototype.getCountRunSoXo=function(t,e){for(var n=0;;){if(t==e)return n+8;n++,++t>7&&(t=0)}},e}(t("./BaseEffectEnd").default);n.default=a,cc._RF.pop()},{"./BaseEffectEnd":"BaseEffectEnd"}],EffectSymbolAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"7d6dbRl5F1BZ6dkSn7B1AqZ","EffectSymbolAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._bkgEffectTake=null,e}return i(e,t),e.prototype.effTakeItem=function(t,e){this.node.opacity=0,this.node.runAction(cc.fadeIn(.2));var n=s.Windown.Asgard.stateSpin.isMaxSpeed?2:1,o=cc.find("spine",this.node).getComponent(sp.Skeleton),i=cc.find("item",this.node).getComponent(cc.Sprite);o.skeletonData=s.Windown.Asgard.asset.listSpine[t-1],i.spriteFrame=s.Windown.Asgard.asset.getSfItemSymbol(t,e,!1),12==t&&(o.skeletonData=s.Windown.Asgard.asset.listSpineWild[e-1]),t>5?(o.node.active=!0,i.node.active=!1,o.setAnimation(0,"win",!1)):(o.node.active=!1,i.node.active=!0,i.node.runAction(cc.speed(cc.sequence(cc.scaleTo(.2,.54),cc.delayTime(0)),n)));for(var r=0;r<4;r++)this.node.children[0].opacity=0,this.node.children[0].runAction(cc.speed(cc.fadeIn(.3),n));var a=cc.instantiate(s.Windown.Asgard.asset.bkgTakeSymbol);a.parent=this.node.parent,a.zIndex=cc.macro.MIN_ZINDEX,a.setPosition(this.node.getPosition()),a.opacity=0,a.runAction(cc.fadeIn(.2)),a.height=118*e,this._bkgEffectTake=a},e.prototype.effectRemoveTakeItem=function(){var t=this,e=s.Windown.Asgard.stateSpin.isMaxSpeed?2:1;if(this._bkgEffectTake){var n=this._bkgEffectTake;n.runAction(cc.sequence(cc.fadeOut(.3/e),cc.callFunc(function(){n.destroy()})))}this._bkgEffectTake=null,this.node.runAction(cc.sequence(cc.fadeOut(.3/e),cc.callFunc(function(){t.node.destroy()})))},e.prototype.effRemoveItem=function(){var t=this,e=s.Windown.Asgard.stateSpin.isMaxSpeed?2:1,n=this.getComponent(cc.Animation);n.once(cc.Animation.EventType.FINISHED,function(){t.node.destroy()}),n.play("Remove").speed=e},e.prototype.onDestroy=function(){this._bkgEffectTake&&this._bkgEffectTake.destroy(),this._bkgEffectTake=null},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown"}],EffectSymbolCaishen:[function(t,e,n){"use strict";cc._RF.push(e,"83a8fFhK1FI+4Bk42+++GQY","EffectSymbolCaishen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.EffectSymbolCaishen=void 0;var c=t("../../../Scritps/Util"),l=t("../../../Scritps/Windown"),u=cc._decorator,p=u.ccclass,h=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animation=null,e.colorBg=["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#BFD17D","#BFD17D","#7DD8B7","#7DD8B7","#B37CC7","#B37CC7"],e}return i(e,t),e.prototype.onLoad=function(){this.animation=this.node.getComponent(cc.Animation)},e.prototype.start=function(){},e.prototype.effTakeItem=function(t,e,n,o){return s(this,void 0,void 0,function(){var i,r,s,c;return a(this,function(a){switch(a.label){case 0:return this.node.opacity=0,this.node.runAction(cc.fadeIn(.2)),l.Windown.Caishen.stateSpin.isMaxSpeed,i=this.node.getChildByName("spine").getComponent(sp.Skeleton),r=cc.find("sprite",this.node).getComponent(cc.Sprite),0!=n&&((s=cc.find("khung",this.node).getComponent(cc.Sprite)).node.active=!0,s.spriteFrame=l.Windown.Caishen.asset.getSfBorderSymbol(n,e,!1)),r.spriteFrame=l.Windown.Caishen.asset.getSfItemSymbol(t,e,!1),c=i,[4,l.Windown.Caishen.asset.getSpine(t,e)];case 1:return c.skeletonData=a.sent(),this.animation.play("EffectTakeSymbol"+e),o.node.active=!1,i.node.active=!0,r.node.active=!1,i.timeScale=.8,i.setAnimation(0,"win",!1),[2]}})})},e.prototype.effectShuffToWild=function(t){return s(this,void 0,void 0,function(){var e,n;return a(this,function(o){switch(o.label){case 0:return this.animation.play("EffectTakeSymbol"+t),e=this.node.getChildByName("spine").getComponent(sp.Skeleton),cc.find("sprite",this.node).getComponent(cc.Sprite),n=e,[4,l.Windown.Caishen.asset.getWildCaishenSpine(t)];case 1:return n.skeletonData=o.sent(),e.node.active=!0,e.timeScale=1,e.setAnimation(0,"win",!1),e.setCompleteListener(function(){cc.log("effectShuffToWild Chay vao day"),l.Windown.Caishen.audio.playEffect(l.Windown.Caishen.audio.wildShrink),e.setCompleteListener(null),e.setAnimation(0,"break",!1)}),[2]}})})},e.prototype.effectRemoveTakeItem=function(){var t=this,e=(l.Windown.Caishen.stateSpin.isMaxSpeed,this.node.getChildByName("spine"));cc.Tween.stopAllByTarget(e),cc.tween(this.node).to(.2,{scale:0}).call(function(){t.node.destroy()}).start()},e.prototype.effRemoveItem=function(){var t=this,e=l.Windown.Caishen.stateSpin.isMaxSpeed?2:1,n=this.getComponent(cc.Animation);n.once(cc.Animation.EventType.FINISHED,function(){t.node.destroy()}),n.play(n.getClips()[0].name),null==n.getAnimationState(n.getClips()[0].name)&&(console.log("Null Eff Remove"),this.node.destroy()),n.getAnimationState(n.getClips()[0].name).speed=e},e.prototype.effShuffItem=function(t,e,n,o){var i=this;return new Promise(function(r){return s(i,void 0,void 0,function(){var i,s,u,p,h,d,f,y,g,m,v;return a(this,function(a){switch(a.label){case 0:a.trys.push([0,6,,7]),this.node.opacity=255,this.node.height=t,i=cc.find("sprite",this.node).getComponent(cc.Sprite),s=l.Windown.Caishen.asset.getSfItemSymbol(e,o,!1),u=this.node.getChildByName("khung").getComponent(cc.Sprite),p=this.node.getChildByName("bkg").getComponent(cc.Sprite),h=this.node.getChildByName("caishenBg").getComponent(cc.Sprite),p.spriteFrame=l.Windown.Caishen.asset.getSfBgSymbol(e,o),cc.log("effShuffItem:curId=="+e),p.node.color=(new cc.Color).fromHEX(this.colorBg[e]),u.spriteFrame=l.Windown.Caishen.asset.getSfBorderSymbol(1,o,!1),u.node.active=!0,h.spriteFrame=l.Windown.Caishen.asset.getSfBgCaishen(2,o),this.getComponent(cc.Animation).play("EffectTakeSymbolSilver"),i.spriteFrame=s,(d=cc.instantiate(u.node)).setParent(this.node),d.active=!1,d.opacity=0,(f=d.getComponent(cc.Sprite)).spriteFrame=l.Windown.Caishen.asset.getSfBorderSymbol(2,o,!1),y=l.Windown.Caishen.stateSpin.isMaxSpeed?.05:.1,l.Windown.Caishen.stateSpin.isMaxSpeed,l.Windown.Caishen.stateSpin.isMaxSpeed,g=0,a.label=1;case 1:if(!(g<11))return[3,4];for(m=l.Windown.RandomNumber(0,11);e==m||11==g&&m==n;)m=l.Windown.RandomNumber(0,11);return e=m,l.Windown.Caishen.audio.playEffectNoStop(l.Windown.Caishen.audio.symRouletteRolling),s=l.Windown.Caishen.asset.getSfItemSymbol(m,o,!1),i.spriteFrame=s,[4,l.Windown.Caishen.getMakeDelay(.07).prosime];case 2:a.sent(),a.label=3;case 3:return g++,[3,1];case 4:return l.Windown.Caishen.audio.stopEffect(l.Windown.Caishen.audio.symRouletteRolling),d.active=!0,p.spriteFrame=l.Windown.Caishen.asset.getSfBgSymbol(n,o),p.node.color=(new cc.Color).fromHEX(this.colorBg[n]),cc.tween(i.node).to(y,{scale:1.2}).to(y,{scale:.95}).to(y,{scale:1}).start(),cc.tween(d).to(2*y,{opacity:255}).call(function(){d.active=!1,u.spriteFrame=f.spriteFrame}).start(),l.Windown.Caishen.audio.playEffectNoStop(l.Windown.Caishen.audio.symRouletteEnd),s=l.Windown.Caishen.asset.getSfItemSymbol(n,o,!1),i.spriteFrame=s,[4,l.Windown.Caishen.getMakeDelay(.7).prosime];case 5:return a.sent(),this.node.destroy(),r(null),[3,7];case 6:return v=a.sent(),c.Util.ThrowErrProsime(v),[3,7];case 7:return[2]}})})})},r([p],e)}(cc.Component));n.EffectSymbolCaishen=h,cc._RF.pop()},{"../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],EffectSymbolDuaXe:[function(t,e,n){"use strict";cc._RF.push(e,"d1870rZGRBJ26kico+tuC5W","EffectSymbolDuaXe");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.EffectSymbolDuaXe=void 0;var c=t("../../../Scritps/Windown"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animation=null,e}return i(e,t),e.prototype.onLoad=function(){this.animation=this.node.getComponent(cc.Animation)},e.prototype.start=function(){},e.prototype.effTakeItem=function(t,e,n){return s(this,void 0,void 0,function(){var o,i,r;return a(this,function(s){switch(s.label){case 0:return this.node.opacity=0,this.node.runAction(cc.fadeIn(.2)),c.Windown.DuaXe.stateSpin.isMaxSpeed,(o=this.node.getChildByName("spine").getComponent(sp.Skeleton)).premultipliedAlpha=12!=t,(i=cc.find("item",this.node).getComponent(cc.Sprite)).spriteFrame=c.Windown.DuaXe.asset.getSfItemSymbol(t,e),r=o,[4,c.Windown.DuaXe.asset.getSpine(t,e)];case 1:return r.skeletonData=s.sent(),this.animation.play("TakeSymbolStart_"+e),n.node.active=!1,o.node.active=!0,i.node.active=!1,o.setAnimation(0,"win",!1),11==t&&3==e?o.node.setScale(cc.v3(.67777,.7)):o.node.setScale(cc.v3(.67777,.67777)),[2]}})})},e.prototype.effectRemoveTakeItem=function(){var t=this;c.Windown.DuaXe.stateSpin.isMaxSpeed,cc.tween(this.node.getChildByName("spine")).to(.1,{scale:1.2,opacity:0}).call(function(){t.node.destroy()}).start()},e.prototype.effRemoveItem=function(t){var e=this,n=c.Windown.DuaXe.stateSpin.isMaxSpeed?2:1,o=this.getComponent(cc.Animation);o.once(cc.Animation.EventType.FINISHED,function(){e.node.destroy()});var i=cc.js.formatStr("EffectRemoveSymbol_%s",t);o.play(o.getClips()[0].name),null!=o.getAnimationState(i)&&(o.getAnimationState(i).speed=n)},r([u],e)}(cc.Component));n.EffectSymbolDuaXe=p,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],EffectSymbolMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"480a1P2LhZJtp/dQdAeRauJ","EffectSymbolMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=t("../SymbolMatChuoc"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._bkgEffectTake=null,e.resultTake=0,e.typeItem=0,e}return i(e,t),e.prototype.effTakeItem=function(t,e,n){this.node.opacity=0,this.resultTake=t,this.typeItem=e,this.node.runAction(cc.fadeIn(.2));var o=cc.find("item",this.node).getComponent(cc.Sprite),i=cc.find("bkg",this.node).getComponent(cc.Sprite),r=cc.find("buiSang",this.node),c=cc.find("wild_b",this.node);o.spriteFrame=s.Windown.MatChuoc.asset.getSfItemSymbol(t,!1),i.spriteFrame=s.Windown.MatChuoc.asset.getSfBkg(t,e),i.node.setPosition(cc.v3(0,0,0)),t<9?e==a.TYPE_ITEM.VANG&&(r.active=!0,c.active=!0):9==t?(r.active=!0,c.active=!0,c.opacity=255):r.active=!0,this.node.getComponent(cc.Animation).getAnimationState("takeSymbol").speed*=s.Windown.MatChuoc.getDelta(),this.node.getComponent(cc.Animation).play("takeSymbol");var l=cc.instantiate(s.Windown.MatChuoc.asset.bkgTakeSymbol);l.parent=s.Windown.MatChuoc.parentBkgEffect,l.zIndex=0,l.setSiblingIndex(0),l.setPosition(n),l.opacity=0,l.runAction(cc.fadeIn(.2)),this._bkgEffectTake=l},e.prototype.effectRemoveTakeItem=function(t){var e=this,n=s.Windown.MatChuoc.stateSpin.isMaxSpeed?2:1;if(this._bkgEffectTake){var o=this._bkgEffectTake;o.runAction(cc.sequence(cc.delayTime(.3/n),cc.callFunc(function(){o.destroy()})))}this._bkgEffectTake=null,this.resultTake<9?(s.Windown.MatChuoc.audio.playEffect(s.Windown.MatChuoc.audio.symShrink),t==a.TYPE_ITEM.VANG?(this.node.getComponent(cc.Animation).getAnimationState("takeSymbol2").speed*=s.Windown.MatChuoc.getDelta(),this.node.getComponent(cc.Animation).on(cc.Animation.EventType.FINISHED,function(){e.node.getComponent(cc.Animation).play("takeSymbol2"),e.node.getComponent(cc.Animation).once(cc.Animation.EventType.FINISHED,function(){e.node.destroy()})})):(this.node.getComponent(cc.Animation).getAnimationState("takeSymbol1").speed*=s.Windown.MatChuoc.getDelta(),this.node.getComponent(cc.Animation).on(cc.Animation.EventType.FINISHED,function(){e.node.getComponent(cc.Animation).play("takeSymbol1"),e.node.getComponent(cc.Animation).once(cc.Animation.EventType.FINISHED,function(){e.node.destroy()})}))):(s.Windown.MatChuoc.audio.playEffectNoStop(s.Windown.MatChuoc.audio.symWild),this.node.getComponent(cc.Animation).getAnimationState("takeSymbolWild").speed*=s.Windown.MatChuoc.getDelta(),this.node.getComponent(cc.Animation).on(cc.Animation.EventType.FINISHED,function(){e.node.getComponent(cc.Animation).play("takeSymbolWild"),e.node.getComponent(cc.Animation).once(cc.Animation.EventType.FINISHED,function(){e.node.destroy()})}))},e.prototype.effRemoveItem=function(){var t=this,e=this.getComponent(cc.Animation);e.once(cc.Animation.EventType.FINISHED,function(){t.node.destroy()}),e.getComponent(cc.Animation).getAnimationState("remove").speed*=s.Windown.MatChuoc.getDelta(),e.play("remove"),cc.log("effectRemoveItem")},e.prototype.onDestroy=function(){cc.log("onDestroy"),this._bkgEffectTake&&this._bkgEffectTake.destroy(),this._bkgEffectTake=null},r([l],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","../SymbolMatChuoc":"SymbolMatChuoc"}],EffectSymbolQuyBa:[function(t,e,n){"use strict";cc._RF.push(e,"9dab7hWY5RCSIXqKYlBqqSS","EffectSymbolQuyBa");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.EffectSymbolQuyBa=void 0;var c=t("../../../Scritps/Windown"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animation=null,e}return i(e,t),e.prototype.onLoad=function(){this.animation=this.node.getComponent(cc.Animation)},e.prototype.start=function(){},e.prototype.effTakeItem=function(t,e,n){return s(this,void 0,void 0,function(){var o,i,r;return a(this,function(s){switch(s.label){case 0:return this.node.opacity=0,this.node.runAction(cc.fadeIn(.2)),c.Windown.QuyBa.stateSpin.isMaxSpeed,(o=this.node.getChildByName("spine").getComponent(sp.Skeleton)).premultipliedAlpha=12!=t,(i=cc.find("item",this.node).getComponent(cc.Sprite)).spriteFrame=c.Windown.QuyBa.asset.getSfItemSymbol(t,e,!1),r=o,[4,c.Windown.QuyBa.asset.getSpine(t,e)];case 1:return r.skeletonData=s.sent(),this.animation.play("TakeSymbol"+e),n.node.active=!1,o.node.active=!0,i.node.active=!1,o.setAnimation(0,"win",!1),t<11&&cc.tween(o.node).to(.25,{scale:1.25},{easing:"cubicOut"}).start(),[2]}})})},e.prototype.effectRemoveTakeItem=function(){var t=this,e=(c.Windown.QuyBa.stateSpin.isMaxSpeed,this.node.getChildByName("spine"));cc.Tween.stopAllByTarget(e),cc.tween(e).to(.1,{scale:1.5,opacity:0}).call(function(){t.node.destroy()}).start()},e.prototype.effRemoveItem=function(t){var e=this,n=c.Windown.QuyBa.stateSpin.isMaxSpeed?2:1,o=this.getComponent(cc.Animation);o.once(cc.Animation.EventType.FINISHED,function(){e.node.destroy()}),cc.js.formatStr("TakeSymbol%s_End",t),o.play(o.getClips()[0].name),null==o.getAnimationState(o.getClips()[0].name)&&(console.log("Null Eff Remove"),this.node.destroy()),o.getAnimationState(o.getClips()[0].name).speed=n},r([u],e)}(cc.Component));n.EffectSymbolQuyBa=p,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],EffectSymbolRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"3e915MxAAZIW6rktBA+BSdt","EffectSymbolRungRam");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/Util"),l=t("../../../../Scritps/Windown"),u=cc._decorator,p=u.ccclass,h=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.effTakeItem=function(t,e,n){var o=cc.find("khung",this.node),i=cc.find("bui",this.node),r=cc.find("item",this.node),s=cc.find("no",this.node),a=cc.find("bkg",this.node);a.height=n;var c=l.Windown.RungRam.asset.atlasEffect1.getSpriteFrame("item_"+t+"_take");s.active=!1,o.active=!0,o.stopAllActions(),o.opacity=255,o.height=.61*n+10,r.getComponent(cc.Sprite).spriteFrame=c,i.getComponent(cc.Animation).play("wh_vfx_02_add_"+e+"x"),a.opacity=150,r.stopAllActions(),a.stopAllActions(),a.runAction(cc.fadeOut(.2)),r.opacity=255,r.scale=1,r.runAction(cc.spawn(cc.scaleTo(.5,1.2).easing(cc.easeQuarticActionOut()),cc.fadeOut(.5).easing(cc.easeQuarticActionIn())))},e.prototype.effRemoveItem=function(t,e,n){var o=cc.find("khung",this.node),i=cc.find("bui",this.node),r=cc.find("item",this.node),s=cc.find("no",this.node);s.active=!0,s.getComponent(cc.Animation).play("wh_vfx_03_add_"+t+"x"),i.getComponent(cc.Animation).play("wh_vfx_02_add_"+t+"x"),i.once(cc.Animation.EventType.FINISHED,e,n),r.stopAllActions(),r.opacity=50,r.scale=1.3,r.runAction(cc.sequence(cc.delayTime(.15),cc.fadeOut(0))),o.stopAllActions(),o.runAction(cc.fadeOut(.2))},e.prototype.effShuffItem=function(t,e,n,o){var i=this;return new Promise(function(r){return s(i,void 0,void 0,function(){var i,s,u,p,h,d,f,y,g,m,v,S,b,w,_=this;return a(this,function(a){switch(a.label){case 0:a.trys.push([0,6,,7]),i=cc.find("s_2",this.node),s=cc.find("s_3",this.node),i.active=!1,s.active=!1,2==o?(i.active=!0,i.getComponent(cc.Animation).play()):o>2&&(s.active=!0,s.getComponent(cc.Animation).play()),this.node.opacity=255,this.node.height=t,u=cc.find("BkgShuft",this.node),p=cc.find("khung",this.node),h=cc.find("khung_gold",this.node),d=cc.find("MaskVong/vong",this.node),(f=cc.find("MaskVFX/vfx",this.node)).getComponent(cc.Animation).play(),u.getComponent(cc.Animation).play("shuffle_vfx_a_normal"),d.scale=0,d.opacity=255,p.height=t,h.height=t+92,d.parent.height=t,f.parent.height=t,u.height=t/1.69,y=cc.find("edge",this.node).getComponent(cc.Sprite),g=cc.find("item",this.node).getComponent(cc.Sprite),m=l.Windown.RungRam.asset.atlasEffect1.getSpriteFrame("edge_"+e),v=l.Windown.RungRam.asset.getSfItemSymbol(e,o,!1),g.spriteFrame=v,y.spriteFrame=m,h.opacity=255,h.stopAllActions(),h.runAction(cc.sequence(cc.fadeOut(1.4),cc.fadeIn(.15))),d.stopAllActions(),d.runAction(cc.sequence(cc.delayTime(1),cc.spawn(cc.scaleTo(.3,2),cc.sequence(cc.delayTime(.25),cc.fadeOut(.05))))),S=0,a.label=1;case 1:if(!(S<13))return[3,4];for(b=l.Windown.RandomNumber(1,12);e==b||12==S&&b==n;)b=l.Windown.RandomNumber(1,12);return e=b,l.Windown.RungRam.audio.playEffectNoStop(l.Windown.RungRam.audio.symRouletteRolling),m=l.Windown.RungRam.asset.atlasEffect1.getSpriteFrame("edge_"+b),v=l.Windown.RungRam.asset.getSfItemSymbol(b,o,!1),g.spriteFrame=v,y.spriteFrame=m,[4,l.Windown.RungRam.getMakeDelay(.07).prosime];case 2:a.sent(),a.label=3;case 3:return S++,[3,1];case 4:return l.Windown.RungRam.audio.stopEffect(l.Windown.RungRam.audio.symRouletteRolling),l.Windown.RungRam.audio.playEffectNoStop(l.Windown.RungRam.audio.symRouletteEnd),m=l.Windown.RungRam.asset.atlasEffect1.getSpriteFrame("shuff_"+n),v=l.Windown.RungRam.asset.getSfItemSymbol(n,o,!1),g.spriteFrame=v,y.spriteFrame=m,[4,l.Windown.RungRam.getMakeDelay(.2).prosime];case 5:return a.sent(),this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){l.Windown.RungRam.asset.putShuffToNormal(_.node)}))),r(null),[3,7];case 6:return w=a.sent(),c.Util.ThrowErrProsime(w),[3,7];case 7:return[2]}})})})},r([p],e)}(cc.Component));n.default=h,cc._RF.pop()},{"../../../../Scritps/Util":"Util","../../../../Scritps/Windown":"Windown"}],EffectTakeCoin:[function(t,e,n){"use strict";cc._RF.push(e,"325aeIsf3VBooCay0XKazRM","EffectTakeCoin");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../DefineTs/REQUEST_CODE"),l=t("../Network/ConectManager"),u=t("../Obs/LbMoneyChange"),p=t("../Windown"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bkgAnhSang=null,e.itemCoin=null,e.nodeMoney=null,e.nodeClick=null,e.actionMove=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.show=function(t,e,n){var o=this;return new Promise(function(i){return s(o,void 0,void 0,function(){var o,r,s,c,l,u=this;return a(this,function(h){switch(h.label){case 0:this.bkgAnhSang.active=!0,this.nodeMoney.active=!1,this.bkgAnhSang.setPosition(e),this.activeNodeMoney(),o=null,o=this.actionMove?this.actionMove:cc.bezierTo(1.3,[cc.Vec2.lerp(cc.Vec2.ONE,e,this.nodeMoney.getPosition(),.3).addSelf(cc.v2(150,150)),cc.Vec2.lerp(cc.Vec2.ONE,e,this.nodeMoney.getPosition(),.7).subSelf(cc.v2(150,150)),this.nodeMoney.getPosition()]),r=22,r=n<2e4?7:n<5e4?15:22,s=function(n){var i;return a(this,function(s){switch(s.label){case 0:return cc.log("chay vao coin r nay"),(i=cc.instantiate(c.itemCoin)).active=!0,i.parent=c.node,i.setPosition(e),i.runAction(cc.sequence(cc.spawn(cc.rotateBy(1.3,p.Windown.RandomNumber(720,1440)),o.clone(),cc.sequence(cc.delayTime(1),cc.scaleBy(.3,.5))),cc.callFunc(function(){if(0==n){var e=p.Windown.AudioManager;u.setMoneyBox(t,.05*r),e.playEffect(e.tienRoi,1,!0)}else n==r-1&&(e=p.Windown.AudioManager).stopEffect(e.tienRoi,!0);if(n%3==0){var o=cc.instantiate(u.nodeClick);o.active=!0,o.parent=u.node,o.position=i.position,o.scale=.5,o.runAction(cc.sequence(cc.scaleTo(.5,1),cc.callFunc(function(){o.destroy()})))}i.destroy()}))),[4,c.makeDelay(.05)];case 1:return s.sent(),[2]}})},c=this,l=0,h.label=1;case 1:return l<r?[5,s(l)]:[3,4];case 2:h.sent(),h.label=3;case 3:return l++,[3,1];case 4:return this.bkgAnhSang.active=!1,[4,this.makeDelay(1)];case 5:return h.sent(),i(null),[2]}})})})},e.prototype.setAction=function(t){this.actionMove=t},e.prototype.makeDelay=function(t){var e=this;return new Promise(function(n){e.scheduleOnce(n,t)})},e.prototype.activeNodeMoney=function(){this.nodeMoney.active=!0;var t=this.nodeMoney.getComponentInChildren(u.default);t.resetLb(),t.setMoneyNoTime(p.Windown.User.userAg),this.nodeMoney.opacity=0,this.nodeMoney.stopAllActions(),this.nodeMoney.runAction(cc.fadeIn(.5))},e.prototype.setMoneyBox=function(t,e){var n=this,o=this.nodeMoney.getComponentInChildren(u.default);o.time=e,o.setMoney(t),this.nodeMoney.stopAllActions(),this.nodeMoney.runAction(cc.sequence(cc.delayTime(e+1),cc.fadeOut(.3),cc.callFunc(function(){n.node.destroy()}))),l.ConectManager.getIns().sendRequest(c.REQUEST_CODE.GetAccountBlance,null)},r([f(cc.Node)],e.prototype,"bkgAnhSang",void 0),r([f(cc.Node)],e.prototype,"itemCoin",void 0),r([f(cc.Node)],e.prototype,"nodeMoney",void 0),r([f(cc.Node)],e.prototype,"nodeClick",void 0),r([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../DefineTs/REQUEST_CODE":"REQUEST_CODE","../Network/ConectManager":"ConectManager","../Obs/LbMoneyChange":"LbMoneyChange","../Windown":"Windown"}],EffectTakeTotalMulti:[function(t,e,n){"use strict";cc._RF.push(e,"40f17HTi+ROM7E9zwdbXCGl","EffectTakeTotalMulti");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.EffectTakeTotalMulti=void 0;var c=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=t("./DuaXeSpeedControl"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.particle=null,e.lbMulti=null,e.resolveEffEnd=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){},e.prototype.show=function(t,e){var n=this;return new Promise(function(o){return s(n,void 0,void 0,function(){var n,i=this;return a(this,function(){try{u.Windown.DuaXe.audio.playEffect(u.Windown.DuaXe.audio.multiCombine),this.node.active=!0,this.lbMulti.node.active=!0,this.lbMulti.string="x"+t,(n=cc.instantiate(this.particle.node)).setParent(this.node),n.setSiblingIndex(0),n.getComponent(cc.ParticleSystem).playOnLoad=!0,n.active=!0,n.getComponent(cc.ParticleSystem).resetSystem(),this.getComponent(cc.Animation).play(e?"EffectAddTotalMulti":"EffectTakeTotalMulti"),this.getComponent(p.DuaXeSpeedControl).onPlay(),this.getComponent(cc.Animation).once(cc.Animation.EventType.FINISHED,function(){i.node.active=!1}),this.resolveEffEnd=o}catch(r){l.Util.ThrowErrProsime(r)}return[2]})})})},e.prototype.effectEnd=function(){cc.log("effectEnd"),this.lbMulti.node.active=!1,this.resolveEffEnd()},r([f(cc.ParticleSystem)],e.prototype,"particle",void 0),r([f(c.default)],e.prototype,"lbMulti",void 0),r([d],e)}(cc.Component);n.EffectTakeTotalMulti=y,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./DuaXeSpeedControl":"DuaXeSpeedControl"}],EffectTraDiem:[function(t,e,n){"use strict";cc._RF.push(e,"89a67rxmGZOjLzaQw11ElS+","EffectTraDiem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.executed=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,r=this;return s(this,function(s){switch(s.label){case 0:return this.soundMgn.playEffect(this.soundMgn.BatDauQuayTraDiem),this.getListLastResult().forEach(function(t){r.actionNhapNhay(t,20,3.2)}),[4,this.makeDelay(3)];case 1:s.sent(),(t=this.getListChildren()).forEach(function(t){r.activeIcon(t)}),n=[0,2,1],o=0,i=0,s.label=2;case 2:return i<18?(this.setColor(n[o]),++o>n.length-1&&(o=0),[4,this.makeDelay(.2)]):[3,5];case 3:s.sent(),s.label=4;case 4:return i++,[3,2];case 5:return[4,this.makeDelay(1)];case 6:return s.sent(),t.forEach(function(t){r.offItem(t)}),this.getListLastResult().forEach(function(t){r.activeIcon(t)}),e(null),[2]}})})})},e}(t("./BaseEffect").default);n.default=a,cc._RF.pop()},{"./BaseEffect":"BaseEffect"}],EffectTruTien:[function(t,e,n){"use strict";cc._RF.push(e,"b51efvUXtZF4qRbHvrUFst+","EffectTruTien");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../Scritps/Game/GAME_TYPE"),u=t("../../../Scritps/Network/ConectManager"),p=t("../../../Scritps/Obs/LbMoneyChange"),h=t("../../../Scritps/Util"),d=t("../../../Scritps/Windown"),f=cc._decorator,y=f.ccclass,g=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeMask=null,e.lb_Money=null,e.spTotalWin=null,e.spBigWin=null,e.spBkgFree=null,e.spBkgNor=null,e.spBkg=null,e.nodeJP=null,e.funNext=null,e.funDelayOff=null,e}return i(e,t),e.prototype.onLoad=function(){this.funNext=null},e.prototype.onEnable=function(){var t=this;this.scheduleOnce(this.funDelayOff=function(){t.node.on(cc.Node.EventType.TOUCH_END,t.onClose,t)},.7)},e.prototype.onDisable=function(){this.unschedule(this.funDelayOff),this.node.off(cc.Node.EventType.TOUCH_END,this.onClose,this)},e.prototype.initPosMask=function(t){cc.find("mask",this.node).y=t},e.prototype.showJackpot=function(t){var e;return s(this,void 0,void 0,function(){var n,o,i,r,s=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,5,,6]),this.nodeJP.active=!0,(n=cc.find("label",this.nodeJP).getComponent(p.default)).resetLb(),n.node.active=!1,this.nodeJP.opacity=0,this.nodeJP.stopAllActions(),this.nodeJP.runAction(cc.fadeIn(.5)),(o=cc.find("ef_jackpot_spine",this.nodeJP).getComponent(sp.Skeleton)).setAnimation(0,"idle",!0),[4,d.Windown.TruTien.makeDelay(1)];case 1:return a.sent(),d.Windown.TruTien.audio.playEffect(d.Windown.TruTien.audio.jpFighting),this.scheduleOnce(function(){d.Windown.TruTien.audio.playEffect(d.Windown.TruTien.audio.tiengChemKiem),s.scheduleOnce(function(){d.Windown.TruTien.audio.playEffect(d.Windown.TruTien.audio.tiengChemKiem)},1)},2),o.setAnimation(0,"appear_jp",!1),o.addAnimation(0,"loop_jp",!0),[4,d.Windown.TruTien.makeDelay(4.5)];case 2:return a.sent(),d.Windown.TruTien.audio.playEffect(d.Windown.TruTien.audio.tienRoi),n.time=6,n.node.active=!0,n.setMoney(null===(e=d.Windown.TruTien.dataFinish)||void 0===e?void 0:e.get("agWin")),[4,d.Windown.TruTien.makeDelay(10)];case 3:return a.sent(),d.Windown.TruTien.audio.stopEffect(d.Windown.TruTien.audio.tienRoi),d.Windown.TruTien.audio.playEffect(d.Windown.TruTien.audio.scaterDisapear),n.node.active=!1,o.setAnimation(0,"merge_jp",!1),[4,d.Windown.TruTien.makeDelay(1)];case 4:return a.sent(),d.Windown.TruTien.dataFinish&&((i=u.ConectManager.getIns().getSFSObj()).putInt("gt",l.default.TruTien),i.putInt("mt",d.Windown.TruTien.dataFinish.get("agWin")),i.putUtfString("nn",d.Windown.User.nickName),i.putUtfString("dt","nh"),u.ConectManager.getIns().sendRequest(c.REQUEST_CODE.AddBigWin,i)),this.nodeJP.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){t()}))),[3,6];case 5:return r=a.sent(),h.Util.ThrowErrProsime(r),[3,6];case 6:return[2]}})})},e.prototype.showBigWin=function(t){return s(this,void 0,void 0,function(){var e,n,o,i,r;return a(this,function(s){switch(s.label){case 0:return s.trys.push([0,7,,8]),null==d.Windown.TruTien.dataFinish?[2]:(e=d.Windown.TruTien.dataFinish.get("agWin"),n=d.Windown.TruTien.curRoomBet*d.Windown.TruTien.totalLineBet,e<10*n?(t(),[2]):(o=3,this.node.active=!0,this.node.runAction(cc.fadeIn(.5)),this.spBigWin.node.active=!0,this.nodeMask.active=!0,e>15*n?o=6:e>20*n&&(o=9),this.lb_Money.node.active=!0,this.lb_Money.time=o,this.lb_Money.node.setPosition(0,-72.236),this.lb_Money.setMoney(e),this.spBigWin.setAnimation(0,"win_1_appear",!1),this.spBigWin.addAnimation(0,"win_1_loop",!0),d.Windown.TruTien.audio.playEffect(d.Windown.TruTien.audio.tiengChemKiem),d.Windown.TruTien.audio.playEffect(d.Windown.TruTien.audio.tienRoi,1,!0),d.Windown.TruTien.audio.playEffect(d.Windown.TruTien.audio.startBigWin,1,!0),[4,d.Windown.TruTien.makeDelay(3)]));case 1:return s.sent(),e>15*n?(d.Windown.TruTien.audio.playEffect(d.Windown.TruTien.audio.tiengChemKiem),this.spBigWin.setAnimation(0,"win_2_appear",!1),this.spBigWin.addAnimation(0,"win_2_loop",!0),[4,d.Windown.TruTien.makeDelay(3)]):[3,3];case 2:s.sent(),s.label=3;case 3:return e>20*n?(d.Windown.TruTien.audio.playEffect(d.Windown.TruTien.audio.tiengChemKiem),this.spBigWin.setAnimation(0,"win_3_appear",!1),this.spBigWin.addAnimation(0,"win_3_loop",!0),[4,d.Windown.TruTien.makeDelay(3)]):[3,5];case 4:s.sent(),s.label=5;case 5:return d.Windown.TruTien.audio.stopEffect(d.Windown.TruTien.audio.tienRoi),d.Windown.TruTien.audio.stopEffect(d.Windown.TruTien.audio.startBigWin),[4,d.Windown.TruTien.audio.playEffectSync(d.Windown.TruTien.audio.endBigWin)];case 6:return s.sent(),(i=u.ConectManager.getIns().getSFSObj()).putInt("gt",l.default.TruTien),i.putInt("mt",e),i.putUtfString("nn",d.Windown.User.nickName),i.putUtfString("dt","bw"),u.ConectManager.getIns().sendRequest(c.REQUEST_CODE.AddBigWin,i),this.funNext=t,this.onClose(),[3,8];case 7:return r=s.sent(),h.Util.ThrowErrProsime(r),[3,8];case 8:return[2]}})})},e.prototype.showFreeSpin=function(t){return s(this,void 0,void 0,function(){var e,n,o=this;return a(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),this.node.active=!0,this.node.runAction(cc.fadeIn(.5)),d.Windown.TruTien.listColum.forEach(function(t){t.showFLyScaster()}),[4,d.Windown.TruTien.makeDelay(1.5)];case 1:return i.sent(),d.Windown.TruTien.audio.playNextMutilNormal(3),this.spBkg.node.stopAllActions(),this.spBkg.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){o.spBkg.spriteFrame=o.spBkgFree}),cc.fadeIn(.5))),d.Windown.TruTien.audio.playEffect(d.Windown.TruTien.audio.xuatHienFree),d.Windown.TruTien.audio.playEffect(d.Windown.TruTien.audio.effFree),this.nodeMask.active=!0,d.Windown.TruTien.setupTextMutil(),d.Windown.TruTien.setUpNodeMutil(1),(e=cc.find("ef_free_game_spine",this.node)).active=!0,e.getComponent(sp.Skeleton).setAnimation(0,"fade_out",!1),[4,d.Windown.TruTien.makeDelay(5)];case 2:return i.sent(),this.nodeMask.runAction(cc.fadeOut(.3)),[4,d.Windown.TruTien.makeDelay(1.5)];case 3:return i.sent(),d.Windown.TruTien.audio.playBkgFree(),this.funNext=t,this.onClose(),[3,5];case 4:return n=i.sent(),h.Util.ThrowErrProsime(n),[3,5];case 5:return[2]}})})},e.prototype.showBonus=function(){},e.prototype.showTtMnFs=function(t,e){var n=this;if(t<1)return e(),d.Windown.TruTien.audio.endbkgFree(),d.Windown.TruTien.audio.stopEffect(d.Windown.TruTien.audio.showTotalFree),d.Windown.TruTien.setupTextMutil(),void d.Windown.TruTien.setUpNodeMutil(1);this.nodeMask.active=!0,this.node.active=!0,this.node.runAction(cc.fadeIn(.5)),this.spTotalWin.node.active=!0,this.spTotalWin.setAnimation(0,"appear_win",!1),this.spTotalWin.addAnimation(0,"win_loop",!1),this.lb_Money.time=3,this.lb_Money.node.active=!0,this.lb_Money.node.setPosition(0,-72.236),this.lb_Money.resetLb(),this.lb_Money.setMoney(t),this.funNext=function(){e(),d.Windown.TruTien.showTotalMoneyFree(t),d.Windown.TruTien.setupTextMutil(),d.Windown.TruTien.setUpNodeMutil(1)},d.Windown.TruTien.audio.endbkgFree(),d.Windown.TruTien.audio.playEffect(d.Windown.TruTien.audio.showTotalFree),this.spBkg.node.stopAllActions(),this.spBkg.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){n.spBkg.spriteFrame=n.spBkgNor}),cc.fadeIn(.5))),this.scheduleOnce(function(){n.onClose(),d.Windown.TruTien.audio.stopEffect(d.Windown.TruTien.audio.showTotalFree);var e=u.ConectManager.getIns().getSFSObj();e.putInt("gt",l.default.TruTien),e.putInt("mt",t),e.putUtfString("nn",d.Windown.User.nickName),e.putUtfString("dt","fs"),u.ConectManager.getIns().sendRequest(c.REQUEST_CODE.AddBigWin,e)},4.5)},e.prototype.resetView=function(){cc.find("ef_free_game_spine",this.node).active=!1,this.lb_Money.node.active=!1,this.nodeMask.active=!1,this.nodeMask.opacity=150,this.node.opacity=255,this.spTotalWin.node.active=!1,this.spBigWin.node.active=!1},e.prototype.onClose=function(){var t=this;this.unschedule(this.funDelayOff),this.unschedule(this.onClose),this.resetView(),this.lb_Money.node.getComponent(p.default).resetLb(),this.funNext&&this.funNext(),this.funNext=null,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(1),cc.callFunc(function(){t.node.active=!1})))},e.prototype.resetBackGame=function(){this.unschedule(this.funDelayOff),this.unschedule(this.onClose),this.resetView(),this.lb_Money.node.getComponent(p.default).resetLb(),this.funNext=null,this.node.active=!1},r([g(cc.Node)],e.prototype,"nodeMask",void 0),r([g(p.default)],e.prototype,"lb_Money",void 0),r([g(sp.Skeleton)],e.prototype,"spTotalWin",void 0),r([g(sp.Skeleton)],e.prototype,"spBigWin",void 0),r([g(cc.SpriteFrame)],e.prototype,"spBkgFree",void 0),r([g(cc.SpriteFrame)],e.prototype,"spBkgNor",void 0),r([g(cc.Sprite)],e.prototype,"spBkg",void 0),r([g(cc.Node)],e.prototype,"nodeJP",void 0),r([y],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],EffectVe3CuaXDV:[function(t,e,n){"use strict";cc._RF.push(e,"b43ce1f9GRFeLHCLyvkL+0W","EffectVe3CuaXDV");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.executed=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return this.dataFinishXDV.result,this.dataFinishXDV.typeSpecial,this.dataFinishXDV.mutilVang,[4,this.soundMgn.playEffectSync(this.soundMgn.NhacVeVang)];case 1:return t.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.MauDo)];case 2:return t.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.MauXanhLa)];case 3:return t.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.MauVang)];case 4:return t.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.CuocKhungHoang)];case 5:return t.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.DonDap)];case 6:return t.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.VuiMung)];case 7:return t.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.MauDo)];case 8:return t.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.Gong)];case 9:return t.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.XaPe)];case 10:return t.sent(),this.hideWithTimeFadeIn(this.getChildXDVById(0),.3,0),this.hideWithTimeFadeIn(this.getChildXDVById(1),.3,0),this.runEffectNhapNhay1Lan(this.getNodeLbItemXDV(0),.3),this.currentBtnTrai.setPointBy(this.dataFinishXDV.reviceDo),[4,this.soundMgn.playEffectSync(this.soundMgn.CongTien)];case 11:return t.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.MauXanhLa)];case 12:return t.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.Gong)];case 13:return t.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.XaPe)];case 14:return t.sent(),this.hideWithTimeFadeIn(this.getChildXDVById(4),.3,0),this.hideWithTimeFadeIn(this.getChildXDVById(5),.3,0),this.runEffectNhapNhay1Lan(this.getNodeLbItemXDV(2),.3),this.currentBtnTrai.setPointBy(this.dataFinishXDV.reviceXanh),[4,this.soundMgn.playEffectSync(this.soundMgn.CongTien)];case 15:return t.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.MauVang)];case 16:return t.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.Gong)];case 17:return t.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.XiPe)];case 18:return t.sent(),this.hideWithTimeFadeIn(this.getChildXDVById(2),.3,0),this.hideWithTimeFadeIn(this.getChildXDVById(3),.3,0),this.runEffectNhapNhay1Lan(this.getNodeLbItemXDV(1),.3),this.currentBtnTrai.setPointBy(this.dataFinishXDV.reviceVang),[4,this.soundMgn.playEffectSync(this.soundMgn.CongTien)];case 19:return t.sent(),e(null),[2]}})})})},e}(t("./BaseEffectXDVEnd").default);n.default=a,cc._RF.pop()},{"./BaseEffectXDVEnd":"BaseEffectXDVEnd"}],EffectVeBar:[function(t,e,n){"use strict";cc._RF.push(e,"bcf579zIZNB3bDv4p0yaPxG","EffectVeBar");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.executed=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,r,a=this;return s(this,function(s){switch(s.label){case 0:t=[20,21,22,2,3,4,8,9,10,14,15,16],n=[17,18,19,23,0,1,5,6,7,11,12,13],this.soundMgn.playEffect(this.soundMgn.NhacVeBar),o=this.getListChildren(),i=!0,r=0,s.label=1;case 1:return r<25?(i?(t.forEach(function(t){a.offEffect(o[t])}),n.forEach(function(t){a.offItem(o[t])})):(t.forEach(function(t){a.offItem(o[t])}),n.forEach(function(t){a.offEffect(o[t])})),i=!i,[4,this.makeDelay(.3)]):[3,4];case 2:s.sent(),s.label=3;case 3:return r++,[3,1];case 4:return[4,this.makeDelay(.2)];case 5:return s.sent(),o.forEach(function(t){a.offItem(t)}),e(null),[2]}})})})},e}(t("./BaseEffect").default);n.default=a,cc._RF.pop()},{"./BaseEffect":"BaseEffect"}],EffectVeVang:[function(t,e,n){"use strict";cc._RF.push(e,"ce7a50KFcRHZYb8+kbfoMxD","EffectVeVang");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.executed=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n;return s(this,function(o){switch(o.label){case 0:return this.dataFinishXDV.result,this.dataFinishXDV.typeSpecial,t=this.dataFinishXDV.mutilVang,[4,this.soundMgn.playEffectSync(this.soundMgn.NhacVeVang)];case 1:return o.sent(),this.runEffectRandomLabelHeso(10,31),[4,this.soundMgn.playEffectSync(this.soundMgn.RandomSo)];case 2:o.sent(),this.offEffectRandomLabelHeso(t),n=0,o.label=3;case 3:return n<3?(this.runEffectActiveAndHideWithTime(this.getNodeLbHeso(),.1),this.soundMgn.playEffect(this.soundMgn.TiengNo),[4,this.makeDelay(.2)]):[3,6];case 4:o.sent(),o.label=5;case 5:return n++,[3,3];case 6:return this.offEffect(this.getNodeLbHeso()),[4,this.makeDelay(1)];case 7:return o.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.CauNoiKhiVeVang)];case 8:return o.sent(),e(null),[2]}})})})},e}(t("./BaseEffectXDVEnd").default);n.default=a,cc._RF.pop()},{"./BaseEffectXDVEnd":"BaseEffectXDVEnd"}],EffectX8ChuyenMau:[function(t,e,n){"use strict";cc._RF.push(e,"b559687TExO4oZcB6rm5Wlx","EffectX8ChuyenMau");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.executed=function(){var t=this;return new Promise(function(){return r(t,void 0,void 0,function(){return s(this,function(){return this.dataFinishXDV.result,this.dataFinishXDV.typeSpecial,this.dataFinishXDV.mutilVang,[2]})})})},e}(t("./BaseEffectXDVEnd").default);n.default=a,cc._RF.pop()},{"./BaseEffectXDVEnd":"BaseEffectXDVEnd"}],EndFreeSpinAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"1a58cSEzltMLrqZca9BLdvp","EndFreeSpinAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../../Scritps/Game/GAME_TYPE"),u=t("../../../../Scritps/Network/ConectManager"),p=t("../../../../Scritps/Other/LbMonoSpace"),h=t("../../../../Scritps/Util"),d=t("../../../../Scritps/Windown"),f=cc._decorator,y=f.ccclass,g=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.btnThuThap=null,e}return i(e,t),e.prototype.show=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,p,f=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),d.Windown.Asgard.audio.playEffect(d.Windown.Asgard.audio.bgmTotalwinMain),(e=this.getComponent(cc.Animation)).play("EndFs2"),e.playAdditive("EndFs3Loop"),o=[],i=d.Windown.Asgard.getMakeDelay(6),o.push(i),this.btnThuThap.active=!1,this.label.resetLb(),this.label.time=6,this.label.setMoney(t),r=function(){for(;o.length>0;)o.shift().cancle(!1);if(t>1e4){var e=u.ConectManager.getIns().getSFSObj();e.putInt("gt",l.default.Asgard),e.putInt("mt",t),e.putUtfString("nn",d.Windown.User.nickName),e.putUtfString("dt","fs"),u.ConectManager.getIns().sendRequest(c.REQUEST_CODE.AddBigWin,e)}f.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){f.node.destroy(),n(null),d.Windown.Asgard.audio.stopBkgFs()}))),cc.log("nhay vao end ne")},this.scheduleOnce(function(){f.node.once(cc.Node.EventType.TOUCH_END,function(){for(;o.length>0;)o.shift().cancle(!0)})},.5),[4,i.prosime];case 1:return a.sent(),e.playAdditive("EndFs4"),this.node.targetOff(this),s=d.Windown.Asgard.getMakeDelay(6),o.push(s),this.label.setMoneyNoTime(t),this.label.node.parent.runAction(cc.sequence(cc.scaleTo(.15,1.15),cc.scaleTo(.15,1))),this.btnThuThap.active=!0,this.btnThuThap.opacity=0,this.btnThuThap.runAction(cc.fadeIn(.5)),this.btnThuThap.once("click",r),d.Windown.Asgard.audio.stopEffect(d.Windown.Asgard.audio.bgmTotalwinMain),d.Windown.Asgard.audio.playEffect(d.Windown.Asgard.audio.bgmTotalwinEnd),[4,s.prosime];case 2:return a.sent(),r(),[3,4];case 3:return p=a.sent(),h.Util.ThrowErrProsime(p),[3,4];case 4:return[2]}})})})},r([g(p.default)],e.prototype,"label",void 0),r([g(cc.Node)],e.prototype,"btnThuThap",void 0),r([y],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../../Scritps/Util":"Util","../../../../Scritps/Windown":"Windown"}],EndFreeSpinCaishen:[function(t,e,n){"use strict";cc._RF.push(e,"337838LWDRCEa8QwRELnPPW","EndFreeSpinCaishen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.EndFreeSpinCaishen=void 0;var c=t("../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../Scritps/Game/GAME_TYPE"),u=t("../../../Scritps/Network/ConectManager"),p=t("../../../Scritps/Other/LbMonoSpace"),h=t("../../../Scritps/Util"),d=t("../../../Scritps/Windown"),f=cc._decorator,y=f.ccclass,g=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.btnThuThap=null,e.coinTemp=null,e.coinContainer=null,e.chipPool=null,e.listParticle=[],e}return i(e,t),e.prototype.start=function(){},e.prototype.onLoad=function(){this.chipPool=new cc.NodePool("ChipPool"),this.listParticle=this.node.getChildByName("Container").getComponentsInChildren(cc.ParticleSystem3D)},e.prototype.update=function(){},e.prototype.spawnCoin=function(){var t=this,e=cc.tween().call(function(){for(var e=function(){var e=t.getCoin();e.active=!0,e.setParent(t.coinContainer),e.setScale(.5),e.setPosition(cc.v3(0,0,0));var n=t.getRandomPosInCircle();cc.tween(e).delay(d.Windown.RandomFloatNumber(0,.75)).to(2,{position:cc.v3(n.x,n.y,0),scale:1.8}).call(function(){t.chipPool.put(e)}).start()},n=0;n<15;n++)e()}),n=cc.tween().delay(1);cc.tween(this.node).sequence(e,n).repeatForever().start()},e.prototype.getCoin=function(){return 0==this.chipPool.size()&&this.chipPool.put(cc.instantiate(this.coinTemp)),this.chipPool.get()},e.prototype.getRandomPosInCircle=function(){var t=Math.random()*Math.PI*2,e=1500*Math.cos(t),n=1500*Math.sin(t);return cc.v2(e,n)},e.prototype.show=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,p,f=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),d.Windown.Caishen.audio.playEffect(d.Windown.Caishen.audio.bgmTotalwinMain),this.getComponent(cc.Animation).play("EndFreeSpin"),e=[],o=d.Windown.Caishen.getMakeDelay(4.5),e.push(o),this.btnThuThap.active=!1,this.label.resetLb(),this.label.time=4.5,this.label.setMoney(t),i=function(){for(;e.length>0;)e.shift().cancle(!1);f.listParticle.forEach(function(t){cc.tween(t.node).to(.3,{opacity:0}).start()}),cc.tween(f.node).to(.3,{opacity:0}).call(function(){f.node.destroy(),n(null),d.Windown.Caishen.audio.stopBkgFs()}).start()},this.scheduleOnce(function(){f.node.once(cc.Node.EventType.TOUCH_END,function(){for(;e.length>0;)e.shift().cancle(!0)})},.5),[4,o.prosime];case 1:return a.sent(),this.node.targetOff(this),r=d.Windown.Caishen.getMakeDelay(3),e.push(r),this.label.setMoneyNoTime(t),this.label.node.runAction(cc.sequence(cc.scaleTo(.15,1.15),cc.scaleTo(.15,1))),this.btnThuThap.active=!0,this.btnThuThap.opacity=0,t>1e4&&((s=u.ConectManager.getIns().getSFSObj()).putInt("gt",l.default.Caishen),s.putInt("mt",t),s.putUtfString("nn",d.Windown.User.nickName),s.putUtfString("dt","fs"),u.ConectManager.getIns().sendRequest(c.REQUEST_CODE.AddBigWin,s)),cc.tween(this.btnThuThap).to(.5,{opacity:255}).start(),this.btnThuThap.once("click",i),d.Windown.Caishen.audio.stopEffect(d.Windown.Caishen.audio.bgmTotalwinMain),d.Windown.Caishen.audio.playEffect(d.Windown.Caishen.audio.bgmTotalwinEnd),[4,r.prosime];case 2:return a.sent(),i(),[3,4];case 3:return p=a.sent(),h.Util.ThrowErrProsime(p),[3,4];case 4:return[2]}})})})},r([g(p.default)],e.prototype,"label",void 0),r([g(cc.Node)],e.prototype,"btnThuThap",void 0),r([g(cc.Node)],e.prototype,"coinTemp",void 0),r([g(cc.Node)],e.prototype,"coinContainer",void 0),r([y],e)}(cc.Component);n.EndFreeSpinCaishen=m,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],EndFreeSpinDuaXe:[function(t,e,n){"use strict";cc._RF.push(e,"26ce5jN8xpMCoQtriGksOSt","EndFreeSpinDuaXe");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.EndFreeSpinDuaXe=void 0;var c=t("../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../Scritps/Game/GAME_TYPE"),u=t("../../../Scritps/Network/ConectManager"),p=t("../../../Scritps/Other/LbMonoSpace"),h=t("../../../Scritps/Util"),d=t("../../../Scritps/Windown"),f=cc._decorator,y=f.ccclass,g=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnThuThap=null,e.label=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.show=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,p,f=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),d.Windown.DuaXe.audio.playEffect(d.Windown.DuaXe.audio.bgmTotalwinMain),this.getComponent(cc.Animation).play("EndFreeSpin"),e=[],o=d.Windown.DuaXe.getMakeDelay(1.7),e.push(o),this.btnThuThap.active=!1,this.label.resetLb(),this.label.time=1.7,this.label.setMoney(t,!1,""),i=function(){for(;e.length>0;)e.shift().cancle(!1);cc.tween(f.node).to(.3,{opacity:0}).call(function(){f.node.destroy(),n(null),d.Windown.DuaXe.audio.stopBkgFs()}).start(),cc.log("nhay vao end ne")},this.scheduleOnce(function(){f.node.once(cc.Node.EventType.TOUCH_END,function(){for(;e.length>0;)e.shift().cancle(!0)})},.5),[4,o.prosime];case 1:return a.sent(),this.node.targetOff(this),r=d.Windown.DuaXe.getMakeDelay(1.7),e.push(r),this.label.time=0,this.label.setMoney(t,!1,""),this.label.node.parent.runAction(cc.sequence(cc.scaleTo(.15,.8),cc.scaleTo(.15,1))),this.btnThuThap.active=!0,this.node.getChildByName("VongSang").active=!0,this.btnThuThap.getComponent(cc.Animation).play("ButtonCollect"),t>1e4&&((s=u.ConectManager.getIns().getSFSObj()).putInt("gt",l.default.DuaXe),s.putInt("mt",t),s.putUtfString("nn",d.Windown.User.nickName),s.putUtfString("dt","fs"),u.ConectManager.getIns().sendRequest(c.REQUEST_CODE.AddBigWin,s)),this.btnThuThap.once("click",i),d.Windown.DuaXe.audio.stopEffect(d.Windown.DuaXe.audio.bgmTotalwinMain),d.Windown.DuaXe.audio.playEffect(d.Windown.DuaXe.audio.bgmTotalwinEnd),[4,r.prosime];case 2:return a.sent(),i(),[3,4];case 3:return p=a.sent(),h.Util.ThrowErrProsime(p),[3,4];case 4:return[2]}})})})},r([g(cc.Node)],e.prototype,"btnThuThap",void 0),r([g(p.default)],e.prototype,"label",void 0),r([y("EndFreeSpinDuaXe")],e)}(cc.Component);n.EndFreeSpinDuaXe=m,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],EndFreeSpinMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"a274fVFJXdMBILbjrm/GfWz","EndFreeSpinMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,l=c.ccclass,u=c.property,p=t("../../../../Scritps/DefineTs/REQUEST_CODE"),h=t("../../../../Scritps/Game/GAME_TYPE"),d=t("../../../../Scritps/Network/ConectManager"),f=t("../../../../Scritps/Other/LbMonoSpace"),y=t("../../../../Scritps/Util"),g=t("../../../../Scritps/Windown"),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.btnThuThap=null,e.animBig=null,e.atlas=null,e}return i(e,t),e.prototype.show=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,c=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),g.Windown.MatChuoc.audio.playEffect(g.Windown.MatChuoc.audio.bgmTotalwinMain),this.getComponent(cc.Animation),e=[],o=g.Windown.MatChuoc.getMakeDelay(6),e.push(o),this.btnThuThap.active=!1,this.label.resetLb(),this.label.time=6,this.label.setMoney(t),i=function(){for(;e.length>0;)e.shift().cancle(!1);if(c.animBig.play("BigWin2"),c.btnThuThap.getChildByName("collect").getComponent(cc.Sprite).spriteFrame=c.atlas.getSpriteFrame("collect_pressed"),g.Windown.MatChuoc.stateSpin.isShowingDragon=!1,t>1e4){var o=d.ConectManager.getIns().getSFSObj();o.putInt("gt",h.default.MatChuoc),o.putInt("mt",t),o.putUtfString("nn",g.Windown.User.nickName),o.putUtfString("dt","fs"),d.ConectManager.getIns().sendRequest(p.REQUEST_CODE.AddBigWin,o)}c.node.runAction(cc.sequence(cc.delayTime(1),cc.fadeOut(.3),cc.callFunc(function(){c.node.destroy(),n(null),g.Windown.MatChuoc.audio.stopBkgFs()}))),cc.log("nhay vao end ne")},this.scheduleOnce(function(){c.node.once(cc.Node.EventType.TOUCH_END,function(){for(;e.length>0;)e.shift().cancle(!0)})},.5),[4,o.prosime];case 1:return a.sent(),this.animBig.play("BigWin2"),this.node.targetOff(this),r=g.Windown.MatChuoc.getMakeDelay(6),e.push(r),this.label.setMoneyNoTime(t),this.animBig.play("BigWin2"),this.label.node.parent.runAction(cc.sequence(cc.scaleTo(.15,1.15),cc.scaleTo(.15,1))),this.btnThuThap.active=!0,this.btnThuThap.opacity=0,this.btnThuThap.runAction(cc.sequence(cc.fadeIn(.5),cc.callFunc(function(){c.btnThuThap.getComponent(cc.Animation).play("btnEndFS")}))),this.btnThuThap.once("click",i),g.Windown.MatChuoc.audio.stopEffect(g.Windown.MatChuoc.audio.bgmTotalwinMain),g.Windown.MatChuoc.audio.playEffect(g.Windown.MatChuoc.audio.bgmTotalwinEnd),[4,r.prosime];case 2:return a.sent(),i(),[3,4];case 3:return s=a.sent(),y.Util.ThrowErrProsime(s),[3,4];case 4:return[2]}})})})},r([u(f.default)],e.prototype,"label",void 0),r([u(cc.Node)],e.prototype,"btnThuThap",void 0),r([u(cc.Animation)],e.prototype,"animBig",void 0),r([u(cc.SpriteAtlas)],e.prototype,"atlas",void 0),r([l],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../../Scritps/Util":"Util","../../../../Scritps/Windown":"Windown"}],EndFreeSpinQuyBa:[function(t,e,n){"use strict";cc._RF.push(e,"36a3b+1Ui9MDKniVxZK9Wn1","EndFreeSpinQuyBa");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.EndFreeSpinQuyBa=void 0;var c=t("../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../Scritps/Game/GAME_TYPE"),u=t("../../../Scritps/Network/ConectManager"),p=t("../../../Scritps/Other/LbMonoSpace"),h=t("../../../Scritps/Util"),d=t("../../../Scritps/Windown"),f=cc._decorator,y=f.ccclass,g=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.btnThuThap=null,e.coinTemp=null,e.coinContainer=null,e.chipPool=null,e}return i(e,t),e.prototype.start=function(){this.spawnCoin()},e.prototype.onLoad=function(){this.chipPool=new cc.NodePool("ChipPool")},e.prototype.update=function(){},e.prototype.spawnCoin=function(){var t=this,e=cc.tween().call(function(){for(var e=function(){var e=t.getCoin();e.active=!0,e.setParent(t.coinContainer),e.setScale(.5),e.setPosition(cc.v3(0,0,0));var n=t.getRandomPosInCircle();cc.tween(e).delay(d.Windown.RandomFloatNumber(0,.75)).to(2,{position:cc.v3(n.x,n.y,0),scale:1.8}).call(function(){t.chipPool.put(e)}).start()},n=0;n<15;n++)e()}),n=cc.tween().delay(1);cc.tween(this.node).sequence(e,n).repeatForever().start()},e.prototype.getCoin=function(){return 0==this.chipPool.size()&&this.chipPool.put(cc.instantiate(this.coinTemp)),this.chipPool.get()},e.prototype.getRandomPosInCircle=function(){var t=Math.random()*Math.PI*2,e=1500*Math.cos(t),n=1500*Math.sin(t);return cc.v2(e,n)},e.prototype.show=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,p=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),d.Windown.QuyBa.audio.playEffect(d.Windown.QuyBa.audio.bgmTotalwinMain),this.getComponent(cc.Animation).play("EndFreeSpin"),e=[],o=d.Windown.QuyBa.getMakeDelay(3),e.push(o),this.btnThuThap.active=!1,this.label.resetLb(),this.label.time=3,this.label.setMoney(t),i=function(){for(;e.length>0;)e.shift().cancle(!1);if(cc.tween(p.node).to(.3,{opacity:0}).call(function(){p.node.destroy(),n(null),d.Windown.QuyBa.audio.stopBkgFs()}).start(),t>1e4){var o=u.ConectManager.getIns().getSFSObj();o.putInt("gt",l.default.QuyBa),o.putInt("mt",t),o.putUtfString("nn",d.Windown.User.nickName),o.putUtfString("dt","fs"),u.ConectManager.getIns().sendRequest(c.REQUEST_CODE.AddBigWin,o)}},this.scheduleOnce(function(){p.node.once(cc.Node.EventType.TOUCH_END,function(){for(;e.length>0;)e.shift().cancle(!0)})},.5),[4,o.prosime];case 1:return a.sent(),this.node.targetOff(this),r=d.Windown.QuyBa.getMakeDelay(3),e.push(r),this.label.setMoneyNoTime(t),this.label.node.runAction(cc.sequence(cc.scaleTo(.15,.15),cc.scaleTo(.15,.7))),this.btnThuThap.active=!0,this.btnThuThap.opacity=0,cc.tween(this.btnThuThap).to(.5,{opacity:255}).start(),this.btnThuThap.once("click",i),d.Windown.QuyBa.audio.stopEffect(d.Windown.QuyBa.audio.bgmTotalwinMain),d.Windown.QuyBa.audio.playEffect(d.Windown.QuyBa.audio.bgmTotalwinEnd),[4,r.prosime];case 2:return a.sent(),i(),[3,4];case 3:return s=a.sent(),h.Util.ThrowErrProsime(s),[3,4];case 4:return[2]}})})})},r([g(p.default)],e.prototype,"label",void 0),r([g(cc.Node)],e.prototype,"btnThuThap",void 0),r([g(cc.Node)],e.prototype,"coinTemp",void 0),r([g(cc.Node)],e.prototype,"coinContainer",void 0),r([y],e)}(cc.Component);n.EndFreeSpinQuyBa=m,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],EndFreeSpinRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"9d620GIw3dIb4g0KBOPUrvc","EndFreeSpinRungRam");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../../Scritps/Game/GAME_TYPE"),u=t("../../../../Scritps/Network/ConectManager"),p=t("../../../../Scritps/Other/LbMonoSpace"),h=t("../../../../Scritps/Util"),d=t("../../../../Scritps/Windown"),f=cc._decorator,y=f.ccclass,g=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.particle2=null,e.particle1=null,e.particleEnd=null,e.nodeMain=null,e.haoQuang1=null,e.haoQuang2=null,e.bkg=null,e.btnThuThap=null,e}return i(e,t),e.prototype.show=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,p=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),d.Windown.RungRam.audio.playEffect(d.Windown.RungRam.audio.bgm_totalwin_main),e=[],o=d.Windown.RungRam.getMakeDelay(4.5),e.push(o),this.btnThuThap.active=!1,this.haoQuang1.runAction(cc.repeatForever(cc.rotateBy(2,50))),this.bkg.opacity=0,this.bkg.runAction(cc.fadeIn(.5)),this.nodeMain.scale=0,this.nodeMain.runAction(cc.scaleTo(.3,1)),this.haoQuang2.scale=0,this.haoQuang2.runAction(cc.sequence(cc.delayTime(.3),cc.callFunc(function(){p.particle2.resetSystem()}),cc.scaleTo(.5,3),cc.callFunc(function(){p.haoQuang2.destroy()}))),this.particle1.resetSystem(),this.particle2.stopSystem(),this.label.resetLb(),this.label.time=4.5,this.label.setMoney(t),i=function(){for(;e.length>0;)e.shift().cancle(!1);if(t>1e4){var o=u.ConectManager.getIns().getSFSObj();o.putInt("gt",l.default.RungRam),o.putInt("mt",t),o.putUtfString("nn",d.Windown.User.nickName),o.putUtfString("dt","fs"),u.ConectManager.getIns().sendRequest(c.REQUEST_CODE.AddBigWin,o)}p.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){p.node.destroy(),n(null),d.Windown.RungRam.audio.stopBkgFs()}))),cc.log("nhay vao end ne")},this.scheduleOnce(function(){p.node.once(cc.Node.EventType.TOUCH_END,function(){for(;e.length>0;)e.shift().cancle(!0)})},.5),[4,o.prosime];case 1:return a.sent(),this.node.targetOff(this),r=d.Windown.RungRam.getMakeDelay(6),e.push(r),this.label.setMoneyNoTime(t),this.label.node.parent.runAction(cc.sequence(cc.scaleTo(.15,1.15),cc.callFunc(function(){p.particleEnd.resetSystem()}),cc.scaleTo(.15,1))),this.btnThuThap.active=!0,this.btnThuThap.opacity=0,this.btnThuThap.runAction(cc.fadeIn(.5)),this.btnThuThap.once("click",i),d.Windown.RungRam.audio.stopEffect(d.Windown.RungRam.audio.bgm_totalwin_main),d.Windown.RungRam.audio.playEffect(d.Windown.RungRam.audio.bgm_totalwin_end),this.particle1.stopSystem(),[4,r.prosime];case 2:return a.sent(),i(),[3,4];case 3:return s=a.sent(),h.Util.ThrowErrProsime(s),[3,4];case 4:return[2]}})})})},r([g(p.default)],e.prototype,"label",void 0),r([g(cc.ParticleSystem)],e.prototype,"particle2",void 0),r([g(cc.ParticleSystem)],e.prototype,"particle1",void 0),r([g(cc.ParticleSystem)],e.prototype,"particleEnd",void 0),r([g(cc.Node)],e.prototype,"nodeMain",void 0),r([g(cc.Node)],e.prototype,"haoQuang1",void 0),r([g(cc.Node)],e.prototype,"haoQuang2",void 0),r([g(cc.Node)],e.prototype,"bkg",void 0),r([g(cc.Node)],e.prototype,"btnThuThap",void 0),r([y],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../../Scritps/Util":"Util","../../../../Scritps/Windown":"Windown"}],FIREBASE_CODE:[function(t,e,n){"use strict";cc._RF.push(e,"455f7S8/W5HmZyGO6FdkUyv","FIREBASE_CODE"),Object.defineProperty(n,"__esModule",{value:!0}),n.FIREBASE_CODE=void 0;var o=function(){function t(){}return t.TimePlayGame="timePlayGame",t.Login="login",t.SignUp="sign_up",t.ScreenView="screen_view",t}();n.FIREBASE_CODE=o,cc._RF.pop()},{}],FISH_DEAD_BD_TYPE:[function(t,e,n){"use strict";cc._RF.push(e,"985ceg1CC5NPZqU2KG/J4c+","FISH_DEAD_BD_TYPE"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.NORMAL=0,t.JACKPOT=99,t.LADE=2,t.BOOM=3,t.REVICE_NGOC=4,t.BOSS_DEAD=5,t.CA_XAU=6,t.SONG_AM=7,t.MUI_KHOAN=8,t.END_MUI_KHOAN=9,t.ITEM_HAI_THAN=10,t.HAI_THAN=11,t.LOC_XOAY=12,t.GUN_FIRE=13,t.BOOM_NGUYEN_TU=14,t.MAT_THAN=15,t.FISH_74=16,t.DINH_BA=17,t}();n.default=o,cc._RF.pop()},{}],FISH_TYPE:[function(t,e,n){"use strict";cc._RF.push(e,"33968YeLhZJPLgC6pmshHrt","FISH_TYPE"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.HAI_THAN=33,t.CA_GROUP=34,t.CA_GROUP4=35,t.CA_GROUP4_1=36,t.CA_GROUP4_2=37,t.CA_TRAN_1=38,t.MUTIL=39,t.LOC_XOAY=40,t.BOOM=52,t.LAZE=51,t.MUI_KHOAN=53,t.SONG_AM=54,t.GUN_FIRE=55,t.VONG_QUAY=56,t.FISH_74=74,t.JACKPOT=100,t.CA_XAU=101,t.TRUY_GAI=102,t.RUA=103,t}();n.default=o,cc._RF.pop()},{}],FirebaseController:[function(t,e,n){"use strict";cc._RF.push(e,"ef194z2KKdIy5bcR54TYyJc","FirebaseController");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./DefineTs/FIREBASE_CODE"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.objTime=Object.create(null),e.fireBase=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.send=function(t,e){null!=this.fireBase&&this.fireBase.logEvent(t,e)},e.prototype.setCurrentScreen=function(t,e){null!=this.fireBase&&(cc.sys.isBrowser?this.fireBase.setCurrentScreen(t,e):this.fireBase.setScreenName(t,e))},e.prototype.sendEventSignUp=function(t){var e={};e.method=t,this.send(s.FIREBASE_CODE.SignUp,e)},e.prototype.sendEventLogin=function(t){var e={};e.method=t,this.send(s.FIREBASE_CODE.Login,e)},e.prototype.sendInViewLobby=function(){this.setCurrentScreen("Lobby","MainView.js"),this.send(s.FIREBASE_CODE.ScreenView,{firebase_screen:"Lobby",firebase_screen_class:"MainView.js"})},e.prototype.sendInViewFish1=function(){this.setCurrentScreen("Fish1","FishCaMap.js"),this.send(s.FIREBASE_CODE.ScreenView,{firebase_screen:"Fish1",firebase_screen_class:"FishCaMap.js"})},e.prototype.sendInViewFish2=function(){this.setCurrentScreen("Fish2","FishCaMap.js"),this.send(s.FIREBASE_CODE.ScreenView,{firebase_screen:"Fish2",firebase_screen_class:"FishCaMap.js"})},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"./DefineTs/FIREBASE_CODE":"FIREBASE_CODE"}],FishBD70View:[function(t,e,n){"use strict";cc._RF.push(e,"49e300EH+9BkYPMAoEu4nf4","FishBD70View");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./FishBDNormalView"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animation=null,e.fishType="",e.funEffect=null,e.stateAni=null,e}return i(e,t),e.prototype.onLoad=function(){this.ani=this.addComponent(cc.Animation),this.listColider=this.getComponentsInChildren(cc.Collider),this.stateAni=this.animation.getAnimationState("Fish"+this.fishType)},e.prototype.onEnable=function(){this.stateAni.isPaused?this.stateAni.resume():this.stateAni.play()},e.prototype.initAni=function(e,n,o){return t.prototype.initAni.call(this,e,n,o)},e.prototype.playAniSwing=function(){cc.log("chay vao fish bd70 ne"),this.stateAni.speed=this.baseSpeed,this.stateAni.isPaused?this.stateAni.resume():this.stateAni.play()},e.prototype.stopAniSwing=function(){this.fishBDNormal.isDeadEffect||this.stateAni.pause()},e.prototype.playAniDead=function(){this.pauAniFish(),this.animation.resume(),this.stateAni.speed=10},e.prototype.playAniRemove=function(){if("70"==this.fishType)this.animation.play("Fish"+this.fishBDNormal.fishType+"Dead"),this.animation.once(cc.Animation.EventType.FINISHED,this.fishBDNormal.destroy,this.fishBDNormal);else{this.node.stopAllActions();var t=cc.fadeOut(1),e=cc.callFunc(this.fishBDNormal.destroy,this.fishBDNormal);this.node.runAction(cc.sequence(t,e))}},r([l(cc.Animation)],e.prototype,"animation",void 0),r([l],e.prototype,"fishType",void 0),r([c],e)}(s.default);n.default=u,cc._RF.pop()},{"./FishBDNormalView":"FishBDNormalView"}],FishBDBoomView:[function(t,e,n){"use strict";cc._RF.push(e,"f688dTmt41ImZZeNQPZPSrL","FishBDBoomView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Network/ConectManager"),a=t("../../../../Scritps/Windown"),c=t("../Network/CODE_EVT"),l=t("../Player/TypeItemDragBD"),u=t("./FishBDNormalView"),p=cc._decorator,h=p.ccclass,d=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onEnable=function(){this.node.children[0].color=cc.Color.WHITE,this.node.children[0].scale=1,this.node.children[0].position=cc.Vec3.ZERO,this.node.children[1].active=!1,this.node.children[2].active=!1,this.node.children[0].active=!0},e.prototype.playAniDead=function(){var t=this;this.pauAniFish(),this.skeSwing.paused=!1;var e=this.node.children[0].getComponent(cc.Animation);e.play("BoomDead"),e.once(cc.Animation.EventType.FINISHED,function(){t.node.children[1].active=!0,t.node.children[2].active=!0,t.node.getComponentsInChildren(sp.Skeleton).forEach(function(t){t.setAnimation(0,"animation",!1)}),t.node.children[0].active=!1;var e=a.Windown.FishBongDem.getSound();e.playEffect(e.fishBoom);var n=s.ConectManager.getIns().getSFSObj();n.putInt("Type",l.default.BOOM),n.putLong("Id",t.fishBDNormal.fishId),a.Windown.FishBongDem.sendRequest(c.default.UsingItemDrag,n);for(var o=s.ConectManager.getIns().getSFSArray(),i=a.Windown.FishBongDem.fishMng.getMapFish().values(),r=i.next();!r.done;){var u=r.value;r=i.next();var p=cc.Vec2.distance(u.getPoint(),t.node.getPosition());u.isInScreen()&&u.fishType<18&&p<450&&o.addInt(u.fishId)}var h=s.ConectManager.getIns().getSFSObj();h.putInt("Type",l.default.BOOM),h.putLong("byFish",t.fishBDNormal.fishId),h.putLong("Id",t.fishBDNormal.fishId),h.putSFSArray("ListFishId",o),a.Windown.FishBongDem.sendRequest(c.default.FishSpecialColisionBD,h),t.scheduleOnce(function(){t.fishBDNormal.destroy()},2)})},e.prototype.playAniRemove=function(){},r([h],e)}(u.default));n.default=d,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Windown":"Windown","../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD","./FishBDNormalView":"FishBDNormalView"}],FishBDCaTranView:[function(t,e,n){"use strict";cc._RF.push(e,"85833zLWYBM8ZEg/nTeQ8pC","FishBDCaTranView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/Game/GAME_TYPE"),l=t("../../../../Scritps/Windown"),u=t("./FishBDNormalView"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.aniSet=null,e.skeSwing=null,e}return i(e,t),e.prototype.onLoad=function(){this.ani=this.addComponent(cc.Animation),this.listColider=this.getComponentsInChildren(cc.Collider),null==this.skeSwing&&(this.skeSwing=this.getComponentInChildren(sp.Skeleton)),cc.log("Skewingname="+this.skeSwing.node.name)},e.prototype.initViewFish=function(t){return s(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,l.Windown.loadRes(c.default.BongDem.toString(),"Spine/Fish/Fish_"+(t-1),sp.SkeletonData)];case 1:return e=n.sent(),this.skeSwing.skeletonData=e,this.skeSwing.setAnimation(0,"animation",!0),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}})})},e.prototype.playAniRemove=function(){this.node.stopAllActions();var t=cc.delayTime(1),e=cc.fadeOut(1),n=cc.callFunc(this.fishBDNormal.destroy,this.fishBDNormal);this.node.runAction(cc.sequence(t,e,n))},e.prototype.onColision=function(){for(var t=0,e=this.node.childrenCount;t<e;t++){var n=this.node.children[t];n.stopActionByTag(123456),cc.tween(n).tag(123456).to(.09,{color:new cc.Color(245,83,83)}).delay(.08).to(.05,{color:cc.Color.WHITE}).start()}},r([d(cc.Animation)],e.prototype,"aniSet",void 0),r([d(sp.Skeleton)],e.prototype,"skeSwing",void 0),r([h],e)}(u.default);n.default=f,cc._RF.pop()},{"../../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../../Scritps/Windown":"Windown","./FishBDNormalView":"FishBDNormalView"}],FishBDCaTran:[function(t,e,n){"use strict";cc._RF.push(e,"92880n3YwNEVLIvd0WGpjUc","FishBDCaTran");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./FishBDCaTranView"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fishTypeMain=-1,e.fishView=null,e}return i(e,t),e.prototype.initFish=function(e){this.fishTypeMain=e.get("FTM"),t.prototype.initFish.call(this,e)},e.prototype.intiView=function(){return r(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:t=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.fishMng.getFishViewPool(this.fishType)];case 2:return t=n.sent(),this.isInList?(this.fishView=t.getComponent(a.default),this.fishView.initViewFish(this.fishTypeMain),this.fishView.setFishBdNormal(this),this.fishView.initAni(this.getAniClipFromString(this.infoAni),this.speed,this.currentTimeInPath).setTagColider(this.fishId),this.funCallBackWhenInitView&&this.funCallBackWhenInitView(this),[3,4]):(this.fishMng.putPoolFish(t,this.fishType),[2]);case 3:return e=n.sent(),t&&(this.fishMng.putPoolFish(t,this.fishType),cc.log("put dc no r nay")),console.error(e),[3,4];case 4:return[2]}})})},e}(t("./FishBDNormal").default);n.default=c,cc._RF.pop()},{"./FishBDCaTranView":"FishBDCaTranView","./FishBDNormal":"FishBDNormal"}],FishBDCaXau:[function(t,e,n){"use strict";cc._RF.push(e,"0900bdLJB9OvbEUz+lHokvl","FishBDCaXau");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=t("./FishBDNormalView"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.funEffect=null,e}return i(e,t),e.prototype.initAni=function(e,n,o){return s.Windown.FishBongDem.fishBDView.comingCaXau(),t.prototype.initAni.call(this,e,n,o)},e.prototype.playAniDead=function(){var t=this;this.pauAniFish();var e=this.node,n=e.getPosition();this.schedule(this.funEffect=function(){var t=cc.moveTo(.06,cc.v2(n.x+s.Windown.RandomNumber(-15,15),n.y+s.Windown.RandomNumber(-15,15)));e.runAction(t)},.06),this.scheduleOnce(function(){t.unschedule(t.funEffect),t.node.runAction(cc.spawn(cc.scaleTo(.2,2),cc.fadeOut(.2))),t.scheduleOnce(function(){t.fishBDNormal.destroy()},1)},1)},e.prototype.playAniRemove=function(){},r([l],e)}(a.default));n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./FishBDNormalView":"FishBDNormalView"}],FishBDChildHaiThanView:[function(t,e,n){"use strict";cc._RF.push(e,"90ea1w/vZJD5LI5UJDyU7Go","FishBDChildHaiThanView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./FishBDNormalView"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.playAniSwing=function(){this.skeSwing.paused=!1,this.skeSwing.timeScale=this.baseSpeed,this.skeSwing.setAnimation(0,"walk",!0)},e.prototype.playAniDead=function(){var t=this;this.aniStateMove.pause(),this.skeSwing.paused=!1,this.skeSwing.setAnimation(0,"die",!1),this.skeSwing.setEndListener(function(){t.node.stopAllActions();var e=cc.delayTime(1),n=cc.spawn(cc.fadeOut(1),cc.rotateBy(1,360),cc.scaleTo(1,0)),o=cc.callFunc(t.fishBDNormal.destroy,t.fishBDNormal);t.node.runAction(cc.sequence(e,n,o)),t.skeSwing.setEndListener(null)})},e.prototype.playAniTuSat=function(){var t=this;this.aniStateMove.pause(),this.skeSwing.paused=!1,this.skeSwing.setAnimation(0,"suicide",!1),this.skeSwing.setEndListener(function(){t.node.stopAllActions();var e=cc.delayTime(1),n=cc.spawn(cc.fadeOut(1),cc.rotateBy(1,360),cc.scaleTo(1,0)),o=cc.callFunc(t.fishBDNormal.destroy,t.fishBDNormal);t.node.runAction(cc.sequence(e,n,o)),t.skeSwing.setEndListener(null)})},e.prototype.playAniRemove=function(){},r([c],e)}(s.default));n.default=l,cc._RF.pop()},{"./FishBDNormalView":"FishBDNormalView"}],"FishBDGroup3View ":[function(t,e,n){"use strict";cc._RF.push(e,"6ba4fM/1W5DkK3wKTj6t4Yl","FishBDGroup3View ");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/Game/GAME_TYPE"),l=t("../../../../Scritps/Windown"),u=t("./FishBDNormalView"),p=t("./FishStateBD"),h=cc._decorator,d=h.ccclass,f=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ani=null,e.aniStateMove=null,e.listColider=[],e.fishBDNormal=null,e.baseSpeed=1,e.listSkeSwing=[],e}return i(e,t),e.prototype.onLoad=function(){cc.log("co fish 3 view nay"),this.ani=this.addComponent(cc.Animation),this.listColider=this.getComponentsInChildren(cc.Collider),this.listSkeSwing=this.getComponentsInChildren(sp.Skeleton);for(var t=0,e=this.listSkeSwing.length-1;t<e;t++)this.node.children[t].runAction(cc.repeatForever(cc.rotateBy(2,360)))},e.prototype.initAni=function(t,e,n){var o=this;this.ani.getClips().forEach(function(t){o.ani.removeClip(t,!0)}),this.node.setPosition(1e4,1e4),this.ani.addClip(t),this.aniStateMove=this.ani.play(t.name),this.aniStateMove.speed=e,this.aniStateMove.time=n,this.node.scale=1,this.fishBDNormal.timeEffectHide>0?(this.node.opacity=0,this.node.runAction(cc.sequence(cc.delayTime(this.fishBDNormal.timeEffectHide),cc.fadeIn(.1)))):this.node.opacity=255,this.aniStateMove.sample(),this.fishBDNormal.fishState==p.default.ICE?this.pauAniFish():this.fishBDNormal.fishState==p.default.WATING?this.aniStateMove.pause():this.resume();for(var i=0,r=this.node.childrenCount;i<r;i++)this.node.children[i].color=cc.Color.WHITE;return this},e.prototype.initViewFish=function(t,e){return s(this,void 0,void 0,function(){var n,o,i,r,s;return a(this,function(a){switch(a.label){case 0:return[4,Promise.all([l.Windown.loadRes(c.default.BongDem.toString(),"Spine/Fish/Fish_"+(t-1),sp.SkeletonData),l.Windown.loadRes(c.default.BongDem.toString(),"Spine/Fish/Fish_"+(e-1),sp.SkeletonData)])];case 1:for(n=a.sent(),o=n[0],i=n[1],r=this.listSkeSwing.length-1,this.listSkeSwing[r].skeletonData=o,this.listSkeSwing[r].setAnimation(0,"animation",!0),s=0;s<r;s++)this.listSkeSwing[s].skeletonData=i,this.listSkeSwing[s].setAnimation(0,"animation",!0);return[2]}})})},e.prototype.playAniSwing=function(){var t=this;this.listSkeSwing.forEach(function(e){e.paused=!1,e.timeScale=t.baseSpeed})},e.prototype.stopAniSwing=function(){this.fishBDNormal.isDeadEffect||this.listSkeSwing.forEach(function(t){t.paused=!0})},e.prototype.playAniDead=function(){this.pauAniFish(),this.listSkeSwing.forEach(function(t){t.paused=!1,t.timeScale=10})},e.prototype.playAniRemove=function(){this.node.stopAllActions();var t=cc.delayTime(1),e=cc.fadeOut(1),n=cc.callFunc(this.fishBDNormal.destroy,this.fishBDNormal);this.node.runAction(cc.sequence(t,e,n))},e.prototype.getListPos=function(){for(var t=[this.node.getPosition()],e=0;e<this.listSkeSwing.length-1;e++){var n=this.node.children[e],o=this.node.convertToWorldSpaceAR(n.getPosition()),i=this.node.parent.convertToNodeSpaceAR(o);t.push(i)}return t},e.prototype.onColision=function(){for(var t=0,e=this.node.childrenCount;t<e;t++){var n=this.node.children[t];n.stopActionByTag(123456),cc.tween(n).tag(123456).to(.09,{color:new cc.Color(245,83,83)}).delay(.08).to(.05,{color:cc.Color.WHITE}).start()}},r([d],e)}(u.default));n.default=f,cc._RF.pop()},{"../../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../../Scritps/Windown":"Windown","./FishBDNormalView":"FishBDNormalView","./FishStateBD":"FishStateBD"}],FishBDGroup4View:[function(t,e,n){"use strict";cc._RF.push(e,"1a5dakf9P5MXYl6VB3hoCdN","FishBDGroup4View");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/Game/GAME_TYPE"),l=t("../../../../Scritps/Windown"),u=t("./FishBDGroup3View "),p=cc._decorator,h=p.ccclass,d=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ani=null,e.aniStateMove=null,e.listColider=[],e.fishBDNormal=null,e.baseSpeed=1,e.listSkeSwing=[],e}return i(e,t),e.prototype.onLoad=function(){this.ani=this.addComponent(cc.Animation),this.listColider=this.getComponentsInChildren(cc.Collider),this.listSkeSwing=this.getComponentsInChildren(sp.Skeleton);for(var t=0,e=this.listSkeSwing.length;t<e;t++)this.node.children[t].runAction(cc.repeatForever(cc.rotateBy(2,360)))},e.prototype.initViewFish=function(t){return s(this,void 0,void 0,function(){var e,n,o,i;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=[],t.forEach(function(t){e.push(l.Windown.loadRes(c.default.BongDem.toString(),"Spine/Fish/Fish_"+(t-1),sp.SkeletonData))}),[4,Promise.all(e)];case 1:for(n=r.sent(),o=0;o<n.length;o++)this.listSkeSwing[o].skeletonData=n[o],this.listSkeSwing[o].setAnimation(0,"animation",!0);return[3,3];case 2:return i=r.sent(),console.error(i),[3,3];case 3:return[2]}})})},e.prototype.getListPos=function(){for(var t=[],e=0;e<this.listSkeSwing.length;e++){var n=this.node.children[e],o=this.node.convertToWorldSpaceAR(n.getPosition()),i=this.node.parent.convertToNodeSpaceAR(o);t.push(i)}return t},e.prototype.onColision=function(t){var e=this.listColider.indexOf(t);if(e>-1){var n=t.node;n.stopActionByTag(123456),cc.tween(n).tag(123456).to(.09,{color:new cc.Color(245,83,83)}).delay(.08).to(.05,{color:cc.Color.WHITE}).start(),(n=this.node.children[e]).stopActionByTag(123456),cc.tween(n).tag(123456).to(.09,{color:new cc.Color(245,83,83)}).delay(.08).to(.05,{color:cc.Color.WHITE}).start()}},e.prototype.update=function(){for(var t=0,e=this.listSkeSwing.length;t<e;t++)this.node.children[t].setPosition(this.node.children[t+e].getPosition())},r([h],e)}(u.default));n.default=d,cc._RF.pop()},{"../../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../../Scritps/Windown":"Windown","./FishBDGroup3View ":"FishBDGroup3View "}],FishBDGroup4:[function(t,e,n){"use strict";cc._RF.push(e,"3db35Eq629NYLuzlZinp/8v","FishBDGroup4");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./FishBDGroup4View"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listFishType=[],e.fishView=null,e}return i(e,t),e.prototype.initFish=function(e){this.listFishType=JSON.parse(e.get("LFT")),t.prototype.initFish.call(this,e)},e.prototype.intiView=function(){return r(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:t=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.fishMng.getFishViewPool(this.fishType)];case 2:return t=n.sent(),this.isInList?(this.fishView=t.getComponent(a.default),this.fishView.initViewFish(this.listFishType),this.fishView.setFishBdNormal(this),this.fishView.initAni(this.getAniClipFromString(this.infoAni),this.speed,this.currentTimeInPath).setTagColider(this.fishId),this.funCallBackWhenInitView&&this.funCallBackWhenInitView(this),[3,4]):(this.fishMng.putPoolFish(t,this.fishType),[2]);case 3:return e=n.sent(),t&&this.fishMng.putPoolFish(t,this.fishType),console.error(e),[3,4];case 4:return[2]}})})},e}(t("./FishBDNormal").default);n.default=c,cc._RF.pop()},{"./FishBDGroup4View":"FishBDGroup4View","./FishBDNormal":"FishBDNormal"}],FishBDGroup:[function(t,e,n){"use strict";cc._RF.push(e,"b751eVW0O1I/I+FALEpGDlq","FishBDGroup");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Windown"),c=t("./FishBDGroup3View "),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fishTypeChild=-1,e.fishTypeMain=-1,e.fishView=null,e}return i(e,t),e.prototype.initFish=function(e){this.fishTypeChild=e.get("FTC"),this.fishTypeMain=e.get("FTM"),t.prototype.initFish.call(this,e)},e.prototype.intiView=function(){return r(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:t=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.fishMng.getFishViewPool(this.fishType)];case 2:return t=n.sent(),this.isInList?(this.fishView=t.getComponent(c.default),t.parent=a.Windown.FishBongDem.fishBDView.parentFish,this.fishView.initViewFish(this.fishTypeMain,this.fishTypeChild),this.fishView.setFishBdNormal(this),this.fishView.initAni(this.getAniClipFromString(this.infoAni),this.speed,this.currentTimeInPath).setTagColider(this.fishId),this.funCallBackWhenInitView&&this.funCallBackWhenInitView(this),[3,4]):(this.fishMng.putPoolFish(t,this.fishType),[2]);case 3:return e=n.sent(),t&&this.fishMng.putPoolFish(t,this.fishType),console.error(e),[3,4];case 4:return[2]}})})},e}(t("./FishBDNormal").default);n.default=l,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./FishBDGroup3View ":"FishBDGroup3View ","./FishBDNormal":"FishBDNormal"}],FishBDHaiThanView:[function(t,e,n){"use strict";cc._RF.push(e,"554c3cF9tlE/pnfSUm/Z4mY","FishBDHaiThanView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=t("./FishBDNormalView"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listPointItem=[cc.v2(78.873,-50),cc.v2(-37.449,32.556),cc.v2(29.55,-10),cc.v2(-141.806,-8.7),cc.v2(25.08,65),cc.v2(25.08,65)],e.skeSwing=null,e.aniAura=null,e.currentPosItem=null,e}return i(e,t),e.prototype.onLoad=function(){this.ani=this.addComponent(cc.Animation),this.listColider=this.getComponentsInChildren(cc.Collider),this._setMix("Walk","Walk_Hand_Cover"),this._setMix("Walk_Hand_Cover","Walk_Rotate_Trident"),this._setMix("Walk_Rotate_Trident","Walk_wShield"),this._setMix("Walk_wShield","Walk_Slap_Tail"),this._setMix("Walk_Slap_Tail","Walk"),this._setMix("Walk","Die"),this._setMix("Walk_Hand_Cover","Die"),this._setMix("Walk_Rotate_Trident","Die"),this._setMix("Walk_wShield","Die"),this._setMix("Walk_Slap_Tail","Die"),this.aniAura.setAnimationCacheMode(sp.Skeleton.AnimationCacheMode.REALTIME),this.skeSwing.setAnimationCacheMode(sp.Skeleton.AnimationCacheMode.REALTIME)},e.prototype._setMix=function(t,e){this.skeSwing.setMix(t,e,.5),this.skeSwing.setMix(e,t,.5)},e.prototype.initAni=function(e,n,o){return t.prototype.initAni.call(this,e,n,o),s.Windown.FishBongDem.fishBDView.comingHaiThan(),this},e.prototype.getFishHaiThan=function(){return this.fishBDNormal},e.prototype.setStateAni=function(){this.skeSwing.timeScale=1;for(var t=0;t<this.getFishHaiThan().stateItem;t++)0==t||(1==t?this.offVayItem():2==t?this.offHeadIAmortem():3==t?this.offGiapTay():4==t?this.offDinhBa():5==t&&this.offKhien());this.updateStateAni()},e.prototype.updateStateAni=function(){0==this.getFishHaiThan().stateItem?(this.skeSwing.setAnimation(0,"Walk",!0),this.aniAura.setAnimation(0,"5",!0)):1==this.getFishHaiThan().stateItem?(this.skeSwing.setAnimation(0,"Walk",!0),this.offVayItem(),this.aniAura.setAnimation(0,"4",!0)):2==this.getFishHaiThan().stateItem?(this.skeSwing.setAnimation(0,"Walk_Hand_Cover",!0),this.offHeadIAmortem(),this.aniAura.setAnimation(0,"3",!0)):3==this.getFishHaiThan().stateItem?(this.skeSwing.setAnimation(0,"Walk_Rotate_Trident",!0),this.offGiapTay(),this.aniAura.setAnimation(0,"2",!0)):4==this.getFishHaiThan().stateItem?(this.skeSwing.setAnimation(0,"Walk_wShield",!0),this.offDinhBa(),this.aniAura.setAnimation(0,"1",!0)):5==this.getFishHaiThan().stateItem&&(this.aniAura.node.active=!1,this.offKhien(),this.skeSwing.setAnimation(0,"Walk_Slap_Tail",!1),this.skeSwing.addAnimation(0,"Walk",!0,0)),this.currentPosItem=this.listPointItem[this.getFishHaiThan().stateItem].clone()},e.prototype.playAniSwing=function(){this.skeSwing.paused=!1,this.aniAura.paused=!1,this.skeSwing.timeScale=this.baseSpeed,this.skeSwing.setAnimation(0,"Walk",!0)},e.prototype.stopAniSwing=function(){this.fishBDNormal.isDeadEffect||(this.skeSwing.paused=!0,this.aniAura.paused=!0)},e.prototype.playAniDead=function(){var t=this;this.aniStateMove.pause(),this.skeSwing.paused=!1,this.skeSwing.timeScale=1,this.skeSwing.setAnimation(0,"Die",!1),this.skeSwing.setEndListener(function(){t.node.stopAllActions();var e=cc.delayTime(1),n=cc.fadeOut(1),o=cc.callFunc(t.fishBDNormal.destroy,t.fishBDNormal);t.node.runAction(cc.sequence(e,n,o)),t.resetAni(),t.skeSwing.setEndListener(null)})},e.prototype.playAniRemove=function(){},e.prototype.onColision=function(){for(var t=0,e=this.node.childrenCount;t<e;t++){var n=this.node.children[t];n.stopActionByTag(123456),cc.tween(n).tag(123456).to(.09,{color:new cc.Color(245,83,83)}).delay(.08).to(.05,{color:cc.Color.WHITE}).start()}},e.prototype.offVayItem=function(){this.skeSwing.setAttachment("L_Arm_Armor",null),this.skeSwing.setAttachment("R_Arm_armor",null)},e.prototype.offHeadIAmortem=function(){this.skeSwing.setAttachment("Head_Armor",null)},e.prototype.offGiapTay=function(){this.skeSwing.setAttachment("L_Shoulder_Armor",null),this.skeSwing.setAttachment("R_Shoulder_Armor",null)},e.prototype.offDinhBa=function(){this.skeSwing.setAttachment("Trident",null),this.skeSwing.setAttachment("Trident2",null)},e.prototype.offKhien=function(){this.skeSwing.setAttachment("Shield",null)},e.prototype.getPointItem=function(){var t=this.node.convertToWorldSpaceAR(this.currentPosItem);return s.Windown.FishBongDem.fishBDView.parentEffect.convertToNodeSpaceAR(t)},e.prototype.getPointDuoi=function(){var t=cc.v2(75,-99.158),e=this.node.convertToWorldSpaceAR(t);return s.Windown.FishBongDem.fishBDView.parentEffect.convertToNodeSpaceAR(e)},e.prototype.resetAni=function(){null!=this.skeSwing&&(this.skeSwing.setAttachment("L_Shoulder_Armor","L_Shoulder_Armor"),this.skeSwing.setAttachment("R_Shoulder_Armor","R_Shoulder_Armor"),this.skeSwing.setAttachment("Head_Armor","Head_Armor"),this.skeSwing.setAttachment("Trident","Trident"),this.skeSwing.setAttachment("Trident2","Trident"),this.skeSwing.setAttachment("Shield","Shield"),this.skeSwing.setAttachment("R_Arm_armor","R_Arm_armor"),this.skeSwing.setAttachment("L_Arm_Armor","L_Arm_Armor"),this.aniAura.node.active=!0)},e.prototype.onPutNode=function(){s.Windown.FishBongDem.fishBDView.offHaiThan()},r([u(sp.Skeleton)],e.prototype,"skeSwing",void 0),r([u(sp.Skeleton)],e.prototype,"aniAura",void 0),r([l],e)}(a.default);n.default=p,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./FishBDNormalView":"FishBDNormalView"}],FishBDHaiThan:[function(t,e,n){"use strict";cc._RF.push(e,"d1194PosVVARLu2vptiE1TH","FishBDHaiThan");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Windown"),c=t("./FishBDNormal"),l=t("./FishBDNormalView"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateItem=0,e}return i(e,t),e.prototype.initFish=function(e){this.stateItem=e.get("StateItems"),cc.log("this.stateItem: "+this.stateItem),t.prototype.initFish.call(this,e)},e.prototype.intiView=function(){return r(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:t=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.fishMng.getFishViewPool(this.fishType)];case 2:return t=n.sent(),this.isInList?(this.fishView=t.getComponent(l.default),t.parent=a.Windown.FishBongDem.fishBDView.parentFish,this.fishView.setFishBdNormal(this),this.fishView.initAni(this.getAniClipFromString(this.infoAni),this.speed,this.currentTimeInPath).setTagColider(this.fishId),this.fishView.setStateAni(),this.funCallBackWhenInitView&&this.funCallBackWhenInitView(this),[3,4]):(this.fishMng.putPoolFish(t,this.fishType),[2]);case 3:return e=n.sent(),t&&this.fishMng.putPoolFish(t,this.fishType),console.error(e),[3,4];case 4:return[2]}})})},e.prototype.getPointItem=function(){return this.fishView?this.fishView.getPointItem():cc.v2(0,0)},e.prototype.updateStateAni=function(){if(this.fishView)return this.fishView.updateStateAni()},e}(c.default);n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./FishBDNormal":"FishBDNormal","./FishBDNormalView":"FishBDNormalView"}],FishBDJackpotView:[function(t,e,n){"use strict";cc._RF.push(e,"5f022iI5TRHjbhpA6ayJSbh","FishBDJackpotView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Obs/JackpotItem"),a=t("../../../../Scritps/Windown"),c=t("./FishBDNormalView"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.ani=this.addComponent(cc.Animation),this.listColider=this.getComponentsInChildren(cc.Collider),this.skeSwing=this.getComponentInChildren(sp.Skeleton),this.node.children[0].runAction(cc.repeatForever(cc.rotateBy(4,360)))},e.prototype.initAni=function(e,n,o){return a.Windown.FishBongDem.fishBDView.coningJackpot(),a.Windown.FishBongDem.getSound().playEffect(a.Windown.FishBongDem.getSound().bkgJackpot,1,!0),a.Windown.FishBongDem.lbJp=this.getComponentInChildren(s.default),a.Windown.FishBongDem.emitNewIndexJp(),t.prototype.initAni.call(this,e,n,o)},e.prototype.setSke=function(t){t?(this.skeSwing.setAnimation(0,"anim",!0),this.skeSwing.node.scaleY=1,this.listColider.forEach(function(t){t.node.scaleX=-1})):(this.skeSwing.setAnimation(0,"anim",!0),this.skeSwing.node.scaleY=-1,this.listColider.forEach(function(t){t.node.scaleX=1}))},e.prototype.playAniDead=function(){this.pauAniFish()},e.prototype.playAniRemove=function(){this.node.stopAllActions();var t=cc.delayTime(1),e=cc.spawn(cc.fadeOut(1),cc.scaleTo(1,0)),n=cc.callFunc(this.fishBDNormal.destroy,this.fishBDNormal);this.node.runAction(cc.sequence(t,e,n))},e.prototype.onPutNode=function(){a.Windown.FishBongDem.lbJp=null,a.Windown.FishBongDem.getSound().stopEffect(a.Windown.FishBongDem.getSound().bkgJackpot)},r([u],e)}(c.default));n.default=p,cc._RF.pop()},{"../../../../Scritps/Obs/JackpotItem":"JackpotItem","../../../../Scritps/Windown":"Windown","./FishBDNormalView":"FishBDNormalView"}],FishBDManager:[function(t,e,n){"use strict";cc._RF.push(e,"b49ac9CTTFHTLFT6XBvzrr1","FishBDManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Game/GAME_TYPE"),s=t("../../../../Scritps/InfoERR"),a=t("../../../../Scritps/Windown"),c=t("./FishBDCaTran"),l=t("./FishBDGroup"),u=t("./FishBDGroup4"),p=t("./FishBDHaiThan"),h=t("./FishBDMutil"),d=t("./FishBDNormal"),f=t("./FISH_TYPE"),y=function(){function t(t){this.poolFish1=new cc.NodePool,this.poolFish2=new cc.NodePool,this.poolFish3=new cc.NodePool,this.poolFish4=new cc.NodePool,this.poolFish5=new cc.NodePool,this.poolFish6=new cc.NodePool,this.poolFish7=new cc.NodePool,this.poolFish8=new cc.NodePool,this.poolFish9=new cc.NodePool,this.poolFish10=new cc.NodePool,this.poolFish11=new cc.NodePool,this.poolFish12=new cc.NodePool,this.poolFish13=new cc.NodePool,this.poolFish14=new cc.NodePool,this.poolFish15=new cc.NodePool,this.poolFish16=new cc.NodePool,this.poolFish17=new cc.NodePool,this.poolFish18=new cc.NodePool,this.poolFish19=new cc.NodePool,this.poolFish20=new cc.NodePool,this.poolFish21=new cc.NodePool,this.poolFish22=new cc.NodePool,this.poolFish23=new cc.NodePool,this.poolFish24=new cc.NodePool,this.poolFish25=new cc.NodePool,this.poolFish26=new cc.NodePool,this.poolFish27=new cc.NodePool,this.poolFish28=new cc.NodePool,this.poolFish29=new cc.NodePool,this.poolFish30=new cc.NodePool,this.poolFish31=new cc.NodePool,this.poolFish32=new cc.NodePool,this.poolFish33=new cc.NodePool,this.poolFish34=new cc.NodePool,this.poolFish35=new cc.NodePool,this.poolFish36=new cc.NodePool,this.poolFish37=new cc.NodePool,this.poolFish38=new cc.NodePool,this.poolFish39=new cc.NodePool,this.poolFish40=new cc.NodePool,this.poolFish50=new cc.NodePool,this.poolFish51=new cc.NodePool,this.poolFish52=new cc.NodePool,this.poolFish53=new cc.NodePool,this.poolFish54=new cc.NodePool,this.poolFish55=new cc.NodePool,this.poolFish56=new cc.NodePool,this.poolFish70=new cc.NodePool,this.poolFish71=new cc.NodePool,this.poolFish72=new cc.NodePool,this.poolFish73=new cc.NodePool,this.poolFish74=new cc.NodePool,this.poolFish100=new cc.NodePool,this.poolFish101=new cc.NodePool,this.poolFish102=new cc.NodePool,this.poolFish103=new cc.NodePool,this.poolFish110=new cc.NodePool,this.poolFish155=new cc.NodePool,this.poolFish156=new cc.NodePool,this.poolFish157=new cc.NodePool,this.fishBD=null,this.isInit=!1,this._map=null,this._mapFConfig=null,this.listReject=[],this.fishBD=t,this._map=new Map,this._mapFConfig=new Map}return t.prototype.initGame=function(){this.isInit=!0;var t=cc.director.getScheduler();t.enableForTarget(this),t.scheduleUpdate(this,cc.Scheduler.PRIORITY_SYSTEM,!1)},t.prototype.addListFish=function(t,e){for(var n=0,o=t.size();n<o;n++){var i=t.getSFSObject(n),r=i.getInt("FishType"),s=i.getInt("FishId"),a=this.getFishWithType(r);e&&e[n]&&(a.funCallBackWhenInitView=e[n]),a.initFish(i);var c=this._map.get(s);c&&(c.removeFishFromList(),c.destroy()),this._map.set(s,a)}},t.prototype.setFishConfig=function(t){for(var e=0,n=t.size();e<n;e++){var o=t.getSFSObject(e);this._mapFConfig.set(o.get("type"),o)}},t.prototype.getFishCfByType=function(t){return this._mapFConfig.get(t)},t.prototype.getFishWithType=function(t){return t==f.default.CA_GROUP||t==f.default.CA_GROUP4?new l.default(this):t==f.default.CA_GROUP4_1?new u.default(this):t==f.default.HAI_THAN?new p.default(this):t==f.default.CA_TRAN_1?new c.default(this):t==f.default.MUTIL||t==f.default.LOC_XOAY?new h.default(this):new d.default(this)},t.prototype.getFishById=function(t){return this._map.has(t)?this._map.get(t):null},t.prototype.removeFish=function(t){this._map.delete(t)},t.prototype.update=function(t){this._map.forEach(function(e){e.update(t)})},t.prototype.iceAllFish=function(t){this._map.forEach(function(e){e.setTimeEffectIce(t)})},t.prototype.getFishViewPool=function(t){var e=this;return new Promise(function(n,r){return o(e,void 0,void 0,function(){var e,o,s,a;return i(this,function(i){switch(i.label){case 0:e=null,o=this["poolFish"+t],i.label=1;case 1:return i.trys.push([1,5,,6]),o.size()<1?[4,this.getPrefabsFish(t)]:[3,3];case 2:return s=i.sent(),e=cc.instantiate(s),[3,4];case 3:e=o.get(),i.label=4;case 4:return e.parent=this.fishBD.fishBDView.parentFish,e.zIndex=t,n(e),[3,6];case 5:return a=i.sent(),console.log(a),r(a),[3,6];case 6:return[2]}})})})},t.prototype.getPrefabsFish=function(t){var e=this;return new Promise(function(n,s){return o(e,void 0,void 0,function(){var e;return i(this,function(o){switch(o.label){case 0:return this.addReject(s),[4,a.Windown.loadRes(r.default.BongDem.toString(),"Prefabs/Fish/Fish"+t,cc.Prefab)];case 1:return e=o.sent(),this.removeReject(s),n(e),[2]}})})})},t.prototype.putPoolFish=function(t,e){t&&this["poolFish"+e].put(t)},t.prototype.addReject=function(t){this.listReject.includes(t)||this.listReject.push(t)},t.prototype.removeReject=function(t){var e=this.listReject.indexOf(t);e>-1&&this.listReject.splice(e,1)},t.prototype.clearAllReject=function(){this.listReject.forEach(function(t){t(new s.InfoErr("Da destroy Ca"))})},t.prototype.forEachListFish=function(t){this._map.forEach(t)},t.prototype.getMapFish=function(){return this._map},t.prototype.destroy=function(){this.isInit&&cc.director.getScheduler().unscheduleUpdate(this),this.clearAllReject(),this._map.forEach(function(t){t.destroy(),t.removeFishFromList()}),this.isInit=!1,this._map.clear(),this._mapFConfig.clear(),this.poolFish1.clear(),this.poolFish2.clear(),this.poolFish3.clear(),this.poolFish4.clear(),this.poolFish5.clear(),this.poolFish6.clear(),this.poolFish7.clear(),this.poolFish8.clear(),this.poolFish9.clear(),this.poolFish10.clear(),this.poolFish11.clear(),this.poolFish12.clear(),this.poolFish13.clear(),this.poolFish14.clear(),this.poolFish15.clear(),this.poolFish16.clear(),this.poolFish17.clear(),this.poolFish18.clear(),this.poolFish19.clear(),this.poolFish20.clear(),this.poolFish21.clear(),this.poolFish22.clear(),this.poolFish23.clear(),this.poolFish24.clear(),this.poolFish25.clear(),this.poolFish26.clear(),this.poolFish27.clear(),this.poolFish28.clear(),this.poolFish29.clear(),this.poolFish30.clear(),this.poolFish31.clear(),this.poolFish32.clear(),this.poolFish33.clear(),this.poolFish34.clear(),this.poolFish35.clear(),this.poolFish36.clear(),this.poolFish37.clear(),this.poolFish38.clear(),this.poolFish39.clear(),this.poolFish40.clear(),this.poolFish50.clear(),this.poolFish51.clear(),this.poolFish52.clear(),this.poolFish53.clear(),this.poolFish54.clear(),this.poolFish55.clear(),this.poolFish56.clear(),this.poolFish70.clear(),this.poolFish71.clear(),this.poolFish72.clear(),this.poolFish73.clear(),this.poolFish74.clear(),this.poolFish56.clear(),this.poolFish100.clear(),this.poolFish101.clear(),this.poolFish102.clear(),this.poolFish103.clear(),this.poolFish110.clear(),this.poolFish155.clear(),this.poolFish156.clear(),this.poolFish157.clear()},t}();n.default=y,cc._RF.pop()},{"../../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../../Scritps/InfoERR":"InfoERR","../../../../Scritps/Windown":"Windown","./FISH_TYPE":"FISH_TYPE","./FishBDCaTran":"FishBDCaTran","./FishBDGroup":"FishBDGroup","./FishBDGroup4":"FishBDGroup4","./FishBDHaiThan":"FishBDHaiThan","./FishBDMutil":"FishBDMutil","./FishBDNormal":"FishBDNormal"}],FishBDMuiKhoanView:[function(t,e,n){"use strict";cc._RF.push(e,"a04860+CJZGiaRwN0by1afw","FishBDMuiKhoanView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./FishBDNormalView"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},r([c],e)}(s.default));n.default=l,cc._RF.pop()},{"./FishBDNormalView":"FishBDNormalView"}],FishBDMutil:[function(t,e,n){"use strict";cc._RF.push(e,"a411egbs5FOl7ReqLkuScWC","FishBDMutil");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mutil=1,e}return i(e,t),e.prototype.initFish=function(e){this.mutil=e.get("Mutil"),t.prototype.initFish.call(this,e)},e}(t("./FishBDCaTran").default);n.default=r,cc._RF.pop()},{"./FishBDCaTran":"FishBDCaTran"}],FishBDNormalView:[function(t,e,n){"use strict";cc._RF.push(e,"de10dnSlH1OubPPxtjrRG4C","FishBDNormalView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./FishStateBD"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ani=null,e.aniStateMove=null,e.skeSwing=null,e.listColider=[],e.fishBDNormal=null,e.baseSpeed=1,e}return i(e,t),e.prototype.onLoad=function(){this.ani=this.addComponent(cc.Animation),this.listColider=this.getComponentsInChildren(cc.Collider),this.skeSwing=this.getComponentInChildren(sp.Skeleton),this.skeSwing.setAnimation(0,"animation",!0)},e.prototype.setFishBdNormal=function(t){this.fishBDNormal=t},e.prototype.setCurrentTimeAni=function(t){return this.aniStateMove.time=t,this},e.prototype.setSpeedAni=function(t){return this.aniStateMove.speed=t,this},e.prototype.setTagColider=function(t){this.listColider.forEach(function(e){e.tag=t})},e.prototype.getPos=function(){var t=this.node.children[0].parent.convertToWorldSpaceAR(this.node.children[0].getPosition());return this.node.parent.convertToNodeSpaceAR(t)},e.prototype.pauAniFish=function(){this.aniStateMove.pause(),this.stopAniSwing()},e.prototype.resume=function(){this.aniStateMove.isPaused&&this.aniStateMove.resume(),this.playAniSwing()},e.prototype.initAni=function(t,e,n){var o=this;this.ani.getClips().forEach(function(t){o.ani.removeClip(t,!0)}),this.node.setPosition(1e4,1e4),"view"==this.node.children[0].name&&this.node.children[0].setPosition(0,0),this.ani.addClip(t),this.aniStateMove=this.ani.play(t.name),this.aniStateMove.speed=e,this.aniStateMove.time=n,this.node.scale=1,this.baseSpeed=this.fishBDNormal.speed+.2,this.fishBDNormal.timeEffectHide>0?(this.node.opacity=0,this.node.runAction(cc.sequence(cc.delayTime(this.fishBDNormal.timeEffectHide),cc.fadeIn(.1)))):this.node.opacity=255,this.aniStateMove.sample();for(var i=0,r=this.node.childrenCount;i<r;i++)this.node.children[i].color=cc.Color.WHITE;return this.fishBDNormal.fishState==s.default.ICE?this.pauAniFish():this.fishBDNormal.fishState==s.default.WATING?this.aniStateMove.pause():this.resume(),this},e.prototype.playAniSwing=function(){this.skeSwing.paused=!1,this.skeSwing.timeScale=this.baseSpeed},e.prototype.stopAniSwing=function(){this.fishBDNormal.isDeadEffect||(this.skeSwing.paused=!0)},e.prototype.playAniDead=function(){this.pauAniFish(),this.skeSwing.paused=!1,this.skeSwing.timeScale=10},e.prototype.playAniRemove=function(){this.node.stopAllActions();var t=cc.delayTime(1),e=cc.spawn(cc.fadeOut(1),cc.rotateBy(1,360),cc.scaleTo(1,0)),n=cc.callFunc(this.fishBDNormal.destroy,this.fishBDNormal);this.node.runAction(cc.sequence(t,e,n))},e.prototype.playAniNewTurn=function(){this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(this.fishBDNormal.destroy,this.fishBDNormal)))},e.prototype.onColision=function(){var t=this.node.children[0];t.stopActionByTag(123456),cc.tween(t).tag(123456).to(.09,{color:new cc.Color(245,83,83)}).delay(.08).to(.05,{color:cc.Color.WHITE}).start()},e.prototype.checkColiderInScreen=function(t){var e=null;if("number"==typeof e?e=this.listColider[t]:this.listColider.includes(t)&&(e=t),e){var n=e.node.parent.convertToWorldSpaceAR(e.node.getPosition()),o=this.node.parent.convertToNodeSpaceAR(n);return o.x>640||o.x<-640||o.y>360||o.y<-360?null:o}return null},e.prototype.getColiderInScreen=function(t){for(var e=0,n=this.listColider;e<n.length;e++){var o=n[e];if(o!=t&&this.checkColiderInScreen(o))return o}return null},e.prototype.getPointColider=function(t){if("number"==typeof t&&(t=this.listColider[t]),!this.listColider.includes(t))return null;var e=t.node.parent.convertToWorldSpaceAR(t.node.getPosition());return this.node.parent.convertToNodeSpaceAR(e)},e.prototype.getPointInFuture=function(t,e){if(!this.listColider.includes(e))return cc.v2(0,0);if(this.aniStateMove.isPaused)return this.getPointColider(e);var n=this.aniStateMove.time,o=n+t*this.aniStateMove.speed;this.aniStateMove.time=o,this.aniStateMove.sample();var i=e.node.parent.convertToWorldSpaceAR(e.node.getPosition()),r=this.node.parent.convertToNodeSpaceAR(i);return this.aniStateMove.time=n,this.aniStateMove.sample(),r},e.prototype.onPutNode=function(){},r([l(sp.Skeleton)],e.prototype,"skeSwing",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./FishStateBD":"FishStateBD"}],FishBDNormal:[function(t,e,n){"use strict";cc._RF.push(e,"3799bIit0NH7Z1ZbXbPlfqk","FishBDNormal");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Windown"),c=t("./BaseFishBD"),l=t("./FishBDNormalView"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.initFish=function(t){this.fishId=t.get("FishId"),this.fishType=t.get("FishType"),this.timeMove=t.get("TimeMove"),this.currentTimeInPath=t.get("CurrentTimeInPath")+a.Windown.LagValue,this.fishState=t.get("FishState"),this.timeEffectIce=t.get("TimeEffectIce")-a.Windown.LagValue,this.timeEffectWaiting=t.get("TimeEffectWaiting")-a.Windown.LagValue,this.timeEffectHide=t.get("TimeEffectHide")-a.Windown.LagValue,this.infoAni=t.get("InfoAni"),this.speed=t.get("Speed"),this.isInList=!0,this.checkTimeEffect(0),this.intiView()},e.prototype.setTimeEffectWating=function(t){this.timeEffectWaiting<t&&(this.timeEffectWaiting=t)},e.prototype.setTimeEffectIce=function(t){this.timeEffectIce<t&&(this.timeEffectIce=t)},e.prototype.intiView=function(){return r(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:t=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.fishMng.getFishViewPool(this.fishType)];case 2:return t=n.sent(),this.isInList?(this.fishView=t.getComponent(l.default),t.parent=a.Windown.FishBongDem.fishBDView.parentFish,this.fishView.setFishBdNormal(this),this.fishView.initAni(this.getAniClipFromString(this.infoAni),this.speed,this.currentTimeInPath).setTagColider(this.fishId),this.funCallBackWhenInitView&&this.funCallBackWhenInitView(this),[3,4]):(this.fishMng.putPoolFish(t,this.fishType),[2]);case 3:return e=n.sent(),t&&this.fishMng.putPoolFish(t,this.fishType),console.error(e),[3,4];case 4:return[2]}})})},e.prototype.destroy=function(){this.fishView&&(this.fishView.onPutNode(),this.fishMng.putPoolFish(this.fishView.node,this.fishType)),this.fishView=null,t.prototype.destroy.call(this)},e.prototype.effectWating=function(){this.fishView&&this.fishView.aniStateMove.pause()},e.prototype.effectIce=function(){this.fishView&&this.fishView.pauAniFish()},e.prototype.effectNormal=function(){this.fishView&&this.fishView.resume()},e.prototype.isInScreen=function(){if(null==this.fishView)return!1;var t=this.fishView.getPos();return!(t.x>640||t.x<-640||t.y>360||t.y<-360)},e.prototype.getPoint=function(){return this.fishView?this.fishView.getPos():cc.v2(0,0)},e.prototype.onColision=function(t){this.fishView&&this.fishView.onColision(t)},e.prototype.playAniNewTurn=function(){return r(this,void 0,void 0,function(){return s(this,function(){return this.fishView&&this.fishView.playAniNewTurn(),[2]})})},e.prototype.getCanColision=function(){return this.isInList},e.prototype.playAniSwing=function(){this.fishView&&this.fishView.playAniSwing()},e.prototype.playAniDead=function(){this.isDeadEffect||(this.isDeadEffect=!0,this.fishView&&this.fishView.playAniDead())},e.prototype.playAniRemove=function(){this.fishView&&this.fishView.playAniRemove()},e.prototype.deadGoToPlayer=function(t){if(this.fishView){var e=cc.moveTo(1,this.getPosDeadPlayer(t.playerSiting)).easing(cc.easeSineOut()),n=cc.rotateTo(1,-90).easing(cc.easeSineOut());this.fishView.node.runAction(cc.spawn(n,e))}},e.prototype.getListColider=function(){return this.fishView?this.fishView.listColider:[]},e.prototype.getPointInFuture=function(t,e){return this.fishView?this.fishView.getPointInFuture(t,e):cc.v2(0,0)},e.prototype.getViewNode=function(){return this.fishView?this.fishView.node:new cc.Node},e}(c.default);n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./BaseFishBD":"BaseFishBD","./FishBDNormalView":"FishBDNormalView"}],FishBDRua:[function(t,e,n){"use strict";cc._RF.push(e,"211f2tsIUNNmIrq2zF2banG","FishBDRua");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=t("./FishBDNormalView"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.funEffect=null,e}return i(e,t),e.prototype.initAni=function(e,n,o){return s.Windown.FishBongDem.fishBDView.comingRua(),t.prototype.initAni.call(this,e,n,o)},e.prototype.playAniSwing=function(){this.skeSwing.paused=!1,this.skeSwing.timeScale=this.baseSpeed+.5},e.prototype.playAniDead=function(){var t=this;this.pauAniFish();var e=s.Windown.FishBongDem.getSound();e.playEffect(e.nhanMaChet);var n=this.node.getPosition(),o=cc.v2(n.x-10,n.y-10),i=cc.v2(n.x+10,n.y+10),r=cc.repeat(cc.sequence(cc.moveTo(.1,o),cc.moveTo(.1,i)),5),a=cc.spawn(cc.scaleTo(.5,3),cc.fadeOut(.5));this.node.runAction(cc.sequence(r,a,cc.callFunc(function(){t.fishBDNormal.destroy()})))},e.prototype.playAniRemove=function(){},r([l],e)}(a.default));n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./FishBDNormalView":"FishBDNormalView"}],FishBDSongAmView:[function(t,e,n){"use strict";cc._RF.push(e,"762d5BRtjxO9LrjBQgLDOuB","FishBDSongAmView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./FishBDNormalView"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.skeSwing.setAttachment("sunglaser",null)},r([c],e)}(s.default));n.default=l,cc._RF.pop()},{"./FishBDNormalView":"FishBDNormalView"}],FishBDTruyGaiView:[function(t,e,n){"use strict";cc._RF.push(e,"14e80jgnYRJz49+hFqG6KVQ","FishBDTruyGaiView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=t("./FishBDNormalView"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.funEffect=null,e.nodeMask=null,e.nodeTruy=null,e}return i(e,t),e.prototype.initAni=function(e,n,o){t.prototype.initAni.call(this,e,n,o),s.Windown.FishBongDem.fishBDView.comingTruyGai();var i=s.Windown.FishBongDem.getSound();return i.playEffect(i.bgBackTuoc,.4,!0),this.skeSwing.setAnimation(0,"SWIM",!0),this.node.children[this.node.childrenCount-1].color=cc.Color.BLACK,this.nodeMask.parent=this.node.parent,this.nodeMask.zIndex=cc.macro.MAX_ZINDEX,this.nodeMask.runAction(cc.fadeTo(1,150)),this},e.prototype.playAniDead=function(){var t=this;this.pauAniFish(),this.nodeMask.runAction(cc.fadeOut(1)),this.skeSwing.setAnimation(0,"DIE",!1),this.scheduleOnce(function(){t.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(.2,2),cc.fadeOut(.2)),cc.callFunc(t.fishBDNormal.destroy,t.fishBDNormal)))},1.5)},e.prototype.onPutNode=function(){var t=s.Windown.FishBongDem.getSound();t.stopEffect(t.bgBackTuoc),this.nodeMask.runAction(cc.fadeOut(1))},e.prototype.playAniRemove=function(){},e.prototype.update=function(){var t=this.nodeTruy.parent.convertToWorldSpaceAR(this.nodeTruy.getPosition()),e=this.node.parent.convertToNodeSpaceAR(t);this.nodeMask.setPosition(e)},r([u(cc.Node)],e.prototype,"nodeMask",void 0),r([u(cc.Node)],e.prototype,"nodeTruy",void 0),r([l],e)}(a.default);n.default=p,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./FishBDNormalView":"FishBDNormalView"}],FishBDView:[function(t,e,n){"use strict";cc._RF.push(e,"855b1q3l2tGuL+jWgL4cLfq","FishBDView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/Game/GAME_TYPE"),l=t("../../../../Scritps/Network/ConectManager"),u=t("../../../../Scritps/Obs/LbMoneyChange"),p=t("../../../../Scritps/Windown"),h=t("../../Spine/mesh-texture-flagBD"),d=t("../CamMayBongDem"),f=t("../Gun/GUN_TYPE_BD"),y=t("../HelpBongDem"),g=t("../LichSuJackpot"),m=t("../Network/CODE_EVT"),v=t("../Player/Effect/TypePlayerEffectBD"),S=t("../TimeOut"),b=t("./ItemBongDem"),w=cc._decorator,_=w.ccclass,C=w.property,T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentFish=null,e.parentPlayer=null,e.parentGun=null,e.parentBullet=null,e.parentEffect=null,e.nodeIceEffect=null,e.nodeComingCaTran=null,e.nodeComingJackpot=null,e.nodeWave=null,e.bkgSprite=null,e.listSpriteFrameBKG=[],e.listItem=[],e.camMay=null,e.toggleSungSet=null,e.nodeComingCaXau=null,e.nodeComingTruyGai=null,e.nodeComingRua=null,e.nodeComingHaiThan=null,e.nodeTakeNhomCa=null,e.camera=null,e.arrowMe=null,e.timeOut=null,e.lichSuJackpot=null,e.btnBoom=null,e.btnDoiBan=null,e.nodeMenu=null,e.helpBongDem=null,e.offsetX=0,e.offsetY=0,e.countBkg=0,e.funShake=null,e.isShake=!1,e.forceShake=30,e.listFishElectric=[],e.listFishElectricInFish=[],e.listRandomAction=[],e.SFSArrayItem=null,e}return i(e,t),e.prototype.start=function(){if(null!=p.Windown.FishBongDem){this.offsetX=cc.winSize.width/2,this.offsetY=cc.winSize.height/2,p.Windown.FishBongDem.setFishBDView(this),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),cc.director.getCollisionManager().enabled=!0,this.nodeWave.active=!1;var t=this.bkgSprite.node.width,e=this.bkgSprite.node.height,n=cc.winSize.width/t,o=cc.winSize.height/e;n>1&&(this.bkgSprite.node.scaleX=n),o>1&&(this.bkgSprite.node.scaleY=o),this.bkgSprite.node.scaleY+=.03,this.countBkg=p.Windown.RandomNumber(0,this.listSpriteFrameBKG.length),this.bkgSprite.spriteFrame=this.listSpriteFrameBKG[this.countBkg],this.countBkg++,this.countBkg==this.listSpriteFrameBKG.length&&(this.countBkg=0),p.Windown.FishBongDem.addHandleReset(this.handleReset,this),this.setupView()}else cc.director.loadScene("main")},e.prototype.setupView=function(){var t=cc.find("Game",this.node);if(cc.sys.isMobile)t.angle=90,t.setContentSize(cc.winSize.height,cc.winSize.width),cc.log("node size:",t.getContentSize()),p.Windown.UIManager.changeRotation(!1);else{var e=cc.view.getDesignResolutionSize().height/720;t.angle=0,t.setScale(e,e,e);var n=t.getComponent(cc.Widget);n.left=0,n.right=0,n.bottom=0,n.top=0,n.updateAlignment(),p.Windown.UIManager.changeRotation(!0)}},e.prototype.loadResult=function(){return s(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,this.makeDelay(2)];case 1:return t.sent(),[4,p.Windown.loadRes(c.default.BongDem.toString(),"Prefabs/Game/DropBoom",cc.Prefab)];case 2:return t.sent(),[4,p.Windown.loadRes(c.default.BongDem.toString(),"Prefabs/Game/EyeOcean0",cc.Prefab)];case 3:return t.sent(),[4,p.Windown.loadRes(c.default.BongDem.toString(),"Prefabs/Game/DinhBa",cc.Prefab)];case 4:return t.sent(),[4,p.Windown.loadRes(c.default.BongDem.toString(),"Prefabs/Game/ThangLon",cc.Prefab)];case 5:return t.sent(),[2]}})})},e.prototype.initItemBoomDrop=function(){for(var t=cc.find("ParentListBoom",this.btnBoom).children,e=0,n=t.length;e<n;e++){var o=t[e];o.getComponent(cc.Button).clickEvents[0].customEventData=o.name}},e.prototype.onClickTest=function(){return s(this,void 0,void 0,function(){return a(this,function(){return[2]})})},e.prototype.startBot=function(){var t=this,e=p.Windown.RandomNumber(3,11);this.listRandomAction=[];for(var n=0;n<e;n++){var o=[0,1,2,3],i=this.listRandomAction[this.listRandomAction.length-1];i&&3==i.type&&(o=[0,1]);var r=Object.create(null);switch(r.type=0==n?3:p.Windown.RandomNumber(0,o.length),r.type){case 0:r.duration=p.Windown.RandomNumber(50,200),r.name="AT",r.fun=function(){t.funSetAtack(!0)};break;case 1:r.duration=p.Windown.RandomNumber(27,150),r.name="UI",r.fun=function(){t.funUseItem()};break;case 2:r.duration=p.Windown.RandomNumber(5,30),r.name="WT",r.fun=function(){t.funSetAtack(!1)};break;case 3:r.duration=p.Windown.RandomNumber(3.5,5),r.name="CG",r.fun=function(){t.funAutoChangeGun()}}this.listRandomAction.push(r)}this.scheduleOnce(this.runActionAuto,p.Windown.RandomNumber(3,5)),this.scheduleOnce(this.funUseItemSpecial,p.Windown.RandomNumber(2,30))},e.prototype.runActionAuto=function(){var t=this,e=this.listRandomAction.shift();null!=typeof e&&e?(this.scheduleOnce(function(){t.runActionAuto(),cc.log("nhay vao ham tiep theo ne")},e.duration),e.fun.call(this)):this.funBack()},e.prototype.funUseItemSpecial=function(){var t=this;p.Windown.RandomNumber(0,99)<15?(this.listItem[3].onClick(),this.scheduleOnce(function(){p.Windown.RandomNumber(0,100)<80?t.onClickItemDropBoom(null,100):t.onClickItemDropBoom(null,102),t.scheduleOnce(t.funUseItemSpecial,p.Windown.RandomNumber(1,200))},p.Windown.RandomNumber(1,6))):(p.Windown.RandomNumber(0,100)<80?this.onClickItemDropBoom(null,p.Windown.RandomNumber(100,102)):this.onClickItemDropBoom(null,102),this.scheduleOnce(this.funUseItemSpecial,p.Windown.RandomNumber(1,200)))},e.prototype.getMaxIdGunValible=function(t){var e=p.Windown.getConfigLevel().GameUnlock;if(e)for(var n=0,o=e;n<o.length;n++){var i=o[n];if(i.GameId==c.default.BongDem){var r;if(0==(r=i.GunType1).length)return 0;var s=r[r.length-1];for(0==s&&(s=10);;){cc.log("idreturn: "+s);var a=p.Windown.FishBongDem.getGunValueByType(s-1);if(!(s>1&&parseInt(t/a)<60))return s;s--}}}return 10},e.prototype.funAutoChangeGun=function(){var t=this;p.Windown.FishBongDem.me.gunFishBd.stateGun.type!=f.default.NORMAL&&p.Windown.FishBongDem.me.gunFishBd.stateGun.type!=f.default.SET||(this.funSetAtack(!1),this.scheduleOnce(function(){var e=t.getMaxIdGunValible(p.Windown.User.userAg);if(0!=e){var n=p.Windown.RandomNumber(1,e),o=p.Windown.FishBongDem.me.indexMoneyGun,i=Math.abs(n-o);t.schedule(function(){n>o?p.Windown.FishBongDem.me.gunFishBd.onClickAdd():p.Windown.FishBongDem.me.gunFishBd.onClickSub()},.5,i)}},p.Windown.RandomNumber(1,2)))},e.prototype.funBack=function(){var t=this;this.funSetAtack(!1),this.scheduleOnce(function(){t.onClickBack(),t.scheduleOnce(function(){p.Windown.restartGame()},10)},p.Windown.RandomNumber(3,8))},e.prototype.funUseItem=function(){var t=this;this.funSetAtack(!1);for(var e=[],n=0,o=this.listItem;n<o.length;n++){var i=o[n];i.totalAmount>0&&e.push(i)}if(e.length>0){var r=e[p.Windown.RandomNumber(0,e.length)];this.scheduleOnce(function(){r.onClick(),t.scheduleOnce(function(){t.funSetAtack(!0)},p.Windown.RandomNumber(1,2))},p.Windown.RandomNumber(1,3)/3)}else this.scheduleOnce(function(){t.funSetAtack(!0)},p.Windown.RandomNumber(1,7)/3)},e.prototype.funSetAtack=function(t){t?p.Windown.FishBongDem.me.timeItemAuto=9999:p.Windown.FishBongDem.me.forceEndEffect(v.default.AUTO)},e.prototype.handleReset=function(){var t=this;this.scheduleOnce(function(){t.btnDoiBan.interactable=!0},1)},e.prototype.onDestroy=function(){this.node.targetOff(this.node),cc.director.getCollisionManager().enabled=!1,cc.systemEvent.targetOff(this),p.Windown.FishBongDem&&p.Windown.FishBongDem.clear(),p.Windown.FishBongDem=null,cc.director.getScheduler().setTimeScale(1)},e.prototype.onTouchMove=function(t){var e=t.getLocation(),n=p.Windown.FishBongDem.fishBDView.parentFish.convertToNodeSpaceAR(e);p.Windown.FishBongDem.me&&p.Windown.FishBongDem.me.rotateGun(n)},e.prototype.onTouchStart=function(t){var e=t.getLocation(),n=p.Windown.FishBongDem.fishBDView.parentFish.convertToNodeSpaceAR(e);p.Windown.FishBongDem.me&&p.Windown.FishBongDem.me.rotateGun(n)},e.prototype.onTouchEnd=function(){p.Windown.FishBongDem.me&&p.Windown.FishBongDem.me.cancleGun()},e.prototype.showTakeGroupFish=function(t){var e=this,n=p.Windown.FishBongDem.getSound();this.nodeTakeNhomCa.active=!0,this.nodeTakeNhomCa.stopAllActions();var o=cc.find("Money",this.nodeTakeNhomCa).getComponent(u.default);o.resetLb(),o.setMoney(t,!1,"",!1),this.nodeTakeNhomCa.getComponent(cc.Animation).play("NhomCa"),cc.tween(this.nodeTakeNhomCa).delay(3).call(function(){e.nodeTakeNhomCa.active=!1,n.stopEffect(n.anDcNhomCa)}).start(),n.playEffect(n.anDcNhomCa)},e.prototype.showArrowMe=function(t){var e=this;this.arrowMe.active=!0,this.arrowMe.stopAllActions(),this.arrowMe.setPosition(t);var n=cc.moveBy(.5,0,50),o=cc.moveBy(.5,0,-50),i=cc.sequence(n,o);this.arrowMe.runAction(cc.sequence(cc.repeat(i,4),cc.callFunc(function(){e.arrowMe.active=!1})))},e.prototype.comingCaXau=function(){var t=this;this.nodeComingCaXau.active=!0,this.nodeComingCaXau.getComponent(cc.Animation).play("ComingCaXau"),this.scheduleOnce(function(){t.nodeComingCaXau.active=!1},3)},e.prototype.comingTruyGai=function(){var t=this;this.nodeComingTruyGai.active=!0,this.nodeComingTruyGai.getComponent(cc.Animation).play("ComingCaXau"),this.scheduleOnce(function(){t.nodeComingTruyGai.active=!1},3)},e.prototype.comingRua=function(){var t=this;this.nodeComingRua.active=!0,this.nodeComingRua.getComponent(cc.Animation).play("ComingCaXau"),this.scheduleOnce(function(){t.nodeComingRua.active=!1},3)},e.prototype.comingCaTran=function(){var t=this;this.nodeComingCaTran.active=!0,this.nodeComingCaTran.x=1280,this.nodeComingCaTran.stopAllActions();var e=cc.delayTime(3),n=cc.moveTo(.5,0,0).easing(cc.easeBackOut()),o=cc.delayTime(2),i=cc.moveTo(.5,-1280,0).easing(cc.easeBackIn()),r=cc.callFunc(function(){t.nodeComingCaTran.active=!1});this.nodeComingCaTran.runAction(cc.sequence(e,n,o,i,r))},e.prototype.coningJackpot=function(){var t=this;this.nodeComingJackpot.active=!0,this.nodeComingJackpot.getComponentInChildren(sp.Skeleton).setAnimation(0,"animation",!1),this.scheduleOnce(function(){t.nodeComingJackpot.active=!1},3),p.Windown.FishBongDem.getSound().playEffect(p.Windown.FishBongDem.getSound().comingJackpot)},e.prototype.comingHaiThan=function(){this.nodeComingHaiThan.active=!0;var t=p.Windown.FishBongDem.getSound();t.playEffect(t.caTranDacBiet,.6)},e.prototype.offHaiThan=function(){var t=p.Windown.FishBongDem.getSound();t.stopEffect(t.caTranDacBiet),this.nodeComingHaiThan.active=!1},e.prototype.showNextTurn=function(){var t=this;this.nodeWave.active=!0;var e=this.bkgSprite.node.width*this.bkgSprite.node.scaleX,n=cc.find("wave1",this.nodeWave);n.x=e/2-100,cc.Tween.stopAllByTarget(n),cc.tween(n).to(3,{x:-e/2-100}).start(),cc.Tween.stopAllByTarget(this.nodeWave),cc.tween(this.nodeWave).delay(3).call(function(){t.offWaveWater()}).start(),cc.Tween.stopAllByTarget(this.bkgSprite.node),this.bkgSprite,cc.tween(this.bkgSprite.node).delay(2).call(function(){t.bkgSprite.spriteFrame=t.listSpriteFrameBKG[t.countBkg],t.countBkg++,t.countBkg>=t.listSpriteFrameBKG.length&&(t.countBkg=0)}).start()},e.prototype.setItemInfo=function(t){var e=p.Windown.listConfigItem;this.SFSArrayItem=t;for(var n=0,o=e.length;n<o;n++)for(var i={Amount:null,ItemId:null,ItemName:null,Description:null,TimeCD:null},r=e[n],s=r.ItemId,a=0,c=t.size();a<c;a++)if((d=t.get(a)).getInt("type")==s&&s<5){var l=d.getInt("amount");i.Amount=l,i.ItemId=r.ItemId,i.ItemName=r.ItemName,i.Description=r.Description,i.TimeCD=r.Duration,this.listItem[s-1].initItem(i),this.listItem[s-1].setLabel();break}var u=cc.find("ParentListBoom",this.btnBoom),h=0;for(a=0,c=t.size();a<c;a++){var d,f=(d=t.get(a)).getInt("type");if(f>=100&&f<200){var y=cc.find(f.toString(),u);cc.find("xx6",y).getComponentInChildren(cc.Label).string=d.get("amount"),h+=d.get("amount")}}var g=cc.find("xx6",this.btnBoom).getComponentInChildren(cc.Label);g.string=h.toString(),g.node.parent.active=h>0,u.active&&this.onClickBtnDropBoom()},e.prototype.reviceItemWhenLvlUp=function(t,e){if(0==t)cc.log("nhay me vao add gold reviceItemWhenLvlUp"),p.Windown.FishBongDem.me.addGold(e);else if(this.SFSArrayItem){cc.log("truoc: "+p.Windown.SFSArrToJson(this.SFSArrayItem));for(var n=0,o=this.SFSArrayItem.size();n<o;n++){var i=this.SFSArrayItem.getSFSObject(n);if(i.getInt("type")==t)return i.putInt("amount",i.get("amount")+e),void this.setItemInfo(this.SFSArrayItem)}var r=l.ConectManager.getIns().getSFSObj();r.putInt("amount",e),r.putInt("type",+t),this.SFSArrayItem.addSFSObject(r),this.setItemInfo(this.SFSArrayItem)}},e.prototype.showIce=function(t){var e=this;this.nodeIceEffect.active=!0,this.nodeIceEffect.opacity=0,cc.Tween.stopAllByTarget(this.nodeIceEffect),cc.tween(this.nodeIceEffect).to(.5,{opacity:255}).start(),cc.tween(this.nodeIceEffect).delay(t).call(function(){e.nodeIceEffect.active=!1}).start()},e.prototype.offWaveWater=function(){this.nodeWave.active=!1,this.nodeWave.stopAllActions()},e.prototype.showComingCaTran=function(){},e.prototype.makeDelay=function(t){var e=this;return new Promise(function(n){e.scheduleOnce(n,t)})},e.prototype.effectSlowmotion=function(t,e){void 0===e&&(e=.1);var n=cc.director.getScheduler();if(1==n.getTimeScale()){var o=Object.create(null);o.time=1,cc.tween(o).to(.3,{time:{value:e,progress:function(t,e,o,i){var r=t+(e-t)*i;return n.setTimeScale(r),r}}}).delay(t*e).to(.2,{time:{value:1,progress:function(t,e,o,i){var r=t+(e-t)*i;return n.setTimeScale(r),r}}}).start()}},e.prototype.shakeScence=function(t,e){var n=this;void 0===e&&(e=30),this.isShake=!0,this.forceShake=e,this.scheduleOnce(this.funShake=function(){n.isShake=!1,n.camera.setPosition(0,0)},t)},e.prototype.update=function(){this.isShake&&(this.camera.x=p.Windown.RandomNumber(-this.forceShake,this.forceShake),this.camera.y=p.Windown.RandomNumber(-this.forceShake,this.forceShake))},e.prototype.onClickChangeRoom=function(t){var e=t.target.getComponent(cc.Button);e.interactable=!1,this.scheduleOnce(function(){e.interactable=!0},1.5),p.Windown.FishBongDem.changeTable()},e.prototype.onClickBack=function(){p.Windown.FishBongDem.sendLeaveRoom()},e.prototype.onClickSetting=function(){p.Windown.UIManager.showCaiDatFish()},e.prototype.onClickAuto=function(){this.camMay.show()},e.prototype.onToggleItemNhienVu=function(t){var e=t.isChecked;cc.log(e);var n=p.Windown.NhiemVuConTroller.itemQuestViewFish.node,o=cc.find("toggle",n);n.stopAllActions(),o.stopAllActions(),e?(n.runAction(cc.moveTo(.5,0,505.403).easing(cc.easeBackIn())),o.runAction(cc.moveTo(.5,0,-168.859))):(n.runAction(cc.moveTo(.5,0,360).easing(cc.easeBackOut())),o.runAction(cc.moveTo(.5,0,-148.399)))},e.prototype.onClickSungSet=function(){if(!p.Windown.User.isGunSet)return p.Windown.UIManager.showBonusNap(!1,3),this.toggleSungSet.isChecked=!1,void(this.toggleSungSet.checkMark.node.active=!1);var t=l.ConectManager.getIns().getSFSObj();t.putInt("AccountId",p.Windown.User.userId),this.toggleSungSet.isChecked?t.putInt("GunType",f.default.SET):t.putInt("GunType",f.default.NORMAL),p.Windown.FishBongDem.sendRequest(m.default.ChangeGunFishBD,t)},e.prototype.onClickBtnDropBoom=function(){var t=cc.find("ParentListBoom",this.btnBoom),e=t.children;t.stopAllActions();var n=0,o=cc.find("xx6",this.btnBoom).getComponentInChildren(cc.Label);t.active?(t.active=!1,cc.find("xx6",this.btnBoom).active=!0,Number(o.string)<1&&(o.node.parent.active=!1)):(t.active=!0,e.forEach(function(t){t.stopAllActions(),t.scale=0,t.opacity=255,t.runAction(cc.sequence(cc.delayTime(n),cc.scaleTo(.3,1).easing(cc.easeElasticOut(.5)))),n+=.07}),o.node.parent.active=!1)},e.prototype.onClickItemDropBoom=function(t,e){if(parseInt(e)){var n=l.ConectManager.getIns().getSFSObj();n.putInt("ItemId",parseInt(e)),p.Windown.FishBongDem.sendRequest(m.default.PlayerUsingItemFishBD,n),this.onClickBtnDropBoom()}},e.prototype.onClickHuongDan=function(){return s(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:if(null!=this.helpBongDem)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,p.Windown.loadRes(c.default.BongDem.toString(),"Prefabs/HelpBongDem",cc.Prefab)];case 2:return t=n.sent(),this.helpBongDem=cc.instantiate(t),this.helpBongDem.parent=this.node,[3,4];case 3:return e=n.sent(),console.error(e),[3,4];case 4:return this.helpBongDem.active=!0,this.helpBongDem.getComponent(y.default).show(),[2]}})})},e.prototype.onClickLichSuJackpot=function(){return s(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:if(null!=this.lichSuJackpot)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,p.Windown.loadRes(c.default.BongDem.toString(),"Prefabs/LichSuJackpot",cc.Prefab)];case 2:return t=n.sent(),this.lichSuJackpot=cc.instantiate(t).getComponent(g.default),this.lichSuJackpot.node.parent=this.node,[3,4];case 3:return e=n.sent(),console.error(e),[3,4];case 4:return this.lichSuJackpot.node.active=!0,this.lichSuJackpot.show(),[2]}})})},e.prototype.onClickShowMenu=function(t){var e=t.target;cc.Tween.stopAllByTarget(this.nodeMenu),cc.Tween.stopAllByTarget(e);var n=this.node.getChildByName("Game");1==e.scaleX?(cc.tween(this.nodeMenu).to(.3,{x:n.width/2-this.nodeMenu.width},{easing:cc.easing.sineIn}).start(),cc.tween(e).to(.1,{scaleX:-1}).start()):(cc.tween(this.nodeMenu).to(.3,{x:n.width/2-75},{easing:cc.easing.sineOut}).start(),cc.tween(e).to(.1,{scaleX:1}).start())},e.prototype.onClickHideMenu=function(){},e.prototype.onToggleShowItem=function(t){cc.log(t);var e=[cc.v2(-80,-270),cc.v2(0,-270),cc.v2(80,-270),cc.v2(110,-315)];t.isChecked?t.target.getChildByName("Background").scaleX=-1:t.target.getChildByName("Background").scaleX=1,this.listItem.forEach(function(n,o){n.node.stopAllActions(),t.isChecked?n.node.runAction(cc.spawn(cc.moveTo(.25,e[o]).easing(cc.easeSineOut()),cc.scaleTo(.25,.9).easing(cc.easeSineOut()))):n.node.runAction(cc.spawn(cc.moveTo(.25,cc.v2(0,-325)).easing(cc.easeSineIn()),cc.scaleTo(.5,0)))})},e.prototype.onClickBonusNap=function(){p.Windown.UIManager.showBonusNap()},r([C(cc.Node)],e.prototype,"parentFish",void 0),r([C(cc.Node)],e.prototype,"parentPlayer",void 0),r([C(cc.Node)],e.prototype,"parentGun",void 0),r([C(cc.Node)],e.prototype,"parentBullet",void 0),r([C(cc.Node)],e.prototype,"parentEffect",void 0),r([C(cc.Node)],e.prototype,"nodeIceEffect",void 0),r([C(cc.Node)],e.prototype,"nodeComingCaTran",void 0),r([C(cc.Node)],e.prototype,"nodeComingJackpot",void 0),r([C(cc.Node)],e.prototype,"nodeWave",void 0),r([C(h)],e.prototype,"bkgSprite",void 0),r([C([cc.SpriteFrame])],e.prototype,"listSpriteFrameBKG",void 0),r([C([b.default])],e.prototype,"listItem",void 0),r([C(d.default)],e.prototype,"camMay",void 0),r([C(cc.Toggle)],e.prototype,"toggleSungSet",void 0),r([C(cc.Node)],e.prototype,"nodeComingCaXau",void 0),r([C(cc.Node)],e.prototype,"nodeComingTruyGai",void 0),r([C(cc.Node)],e.prototype,"nodeComingRua",void 0),r([C(cc.Node)],e.prototype,"nodeComingHaiThan",void 0),r([C(cc.Node)],e.prototype,"nodeTakeNhomCa",void 0),r([C(cc.Node)],e.prototype,"camera",void 0),r([C(cc.Node)],e.prototype,"arrowMe",void 0),r([C(S.default)],e.prototype,"timeOut",void 0),r([C(cc.Node)],e.prototype,"btnBoom",void 0),r([C(cc.Button)],e.prototype,"btnDoiBan",void 0),r([C(cc.Node)],e.prototype,"nodeMenu",void 0),r([_],e)}(cc.Component);n.default=T,cc._RF.pop()},{"../../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../../Scritps/Windown":"Windown","../../Spine/mesh-texture-flagBD":"mesh-texture-flagBD","../CamMayBongDem":"CamMayBongDem","../Gun/GUN_TYPE_BD":"GUN_TYPE_BD","../HelpBongDem":"HelpBongDem","../LichSuJackpot":"LichSuJackpot","../Network/CODE_EVT":"CODE_EVT","../Player/Effect/TypePlayerEffectBD":"TypePlayerEffectBD","../TimeOut":"TimeOut","./ItemBongDem":"ItemBongDem"}],FishBdMutilView:[function(t,e,n){"use strict";cc._RF.push(e,"c49baJLt/xKSJSR3h14xw4e","FishBdMutilView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./FishBDCaTranView"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),cc.find("vongtron",this.node).runAction(cc.repeatForever(cc.rotateBy(2,360)))},e.prototype.playAniRemove=function(){this.node.stopAllActions();var t=cc.delayTime(1),e=cc.spawn(cc.fadeOut(1),cc.rotateBy(1,360),cc.scaleTo(1,0)),n=cc.callFunc(this.fishBDNormal.destroy,this.fishBDNormal);this.node.runAction(cc.sequence(t,e,n))},r([c],e)}(s.default));n.default=l,cc._RF.pop()},{"./FishBDCaTranView":"FishBDCaTranView"}],FishBongDem:[function(t,e,n){"use strict";cc._RF.push(e,"2734fDoTAlDRaCUKzSNtMOy","FishBongDem");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/DefineTs/EVENT_MANAGER"),s=t("../../../../Scritps/DefineTs/PlayerPP"),a=t("../../../../Scritps/DefineTs/REQUEST_CODE"),c=t("../../../../Scritps/DefineTs/TextDefine"),l=t("../../../../Scritps/Game/GAME_TYPE"),u=t("../../../../Scritps/InfoERR"),p=t("../../../../Scritps/Network/ConectManager"),h=t("../../../../Scritps/Windown"),d=t("../Fish/FishBDManager"),f=t("../Network/CODE_EVT"),y=t("../Network/HandleAddItemDrag"),g=t("../Network/HandleChangeBD"),m=t("../Network/HandleChangeMoneyGunFishBD"),v=t("../Network/HandleCreatFishBD"),S=t("../Network/HandleCreatTrieuHoi"),b=t("../Network/HandleFishColisionBD"),w=t("../Network/HandleGunAtackBD"),_=t("../Network/HandleIceAllFishBD"),C=t("../Network/HandleInfoFishRoomBD"),T=t("../Network/HandleNotFindFishBD"),I=t("../Network/HandleOtherJoinRoom"),W=t("../Network/HandlePlayerUsingItemFishBD"),M=t("../Network/HandleRemoveAllListFishBD"),E=t("../Network/HandleRemoveListFishBD"),R=t("../Network/HandleRotateGunBD"),A=t("../Network/HandleSetTimeFishEffectBD"),B=t("../Network/HandleTimeOutPlayBD"),O=t("../Network/HandleUsingItemDrag"),D=t("../Player/PlayerBDManager"),N=function(){function t(){this.fishMng=null,this.playerMng=null,this.roomSfs=null,this.fishBDView=null,this.sfs=null,this.vecLat=null,this.playerIdMe=null,this.listGunMoney=[],this.listGunSpecialConfig=null,this.me=null,this.pool=null,this.listTimeOut=[],this.isCanSendRequest=!0,this.isInBackGround=!1,this.lbJp=null,this.mapConfigJp=null,this.isChangeTable=!1,this.lastIdRoomToJoint=-1,this.isWatingChangetable=!1,this.listBulletSend=[],this.listRoomJoined=[],cc.game.on(cc.game.EVENT_HIDE,this.eventHide,this),cc.systemEvent.on(cc.game.EVENT_SHOW,this.eventShow,this),cc.systemEvent.on(r.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),h.Windown.FishBongDem=this}return t.prototype.initGame=function(){return o(this,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:return[4,h.Windown.loadBundle(l.default.BongDem.toString())];case 1:return t=e.sent(),h.Windown.UIManager.showLoadingData(),t.preloadScene("FishBongDem",{},function(t,e){h.Windown.UIManager.setPerData(t/e)},function(e){e?h.Windown.Dialog.showLog(c.TextDefine.Error):h.Windown.User.isLogin&&t.loadScene("FishBongDem",function(t,e){if(t)return h.Windown.Dialog.showLog(c.TextDefine.Error),void h.Windown.UIManager.hideLoadingData();h.Windown.User.isLogin&&cc.director.runScene(e,null,function(){})})}),[2]}})})},t.prototype.eventHide=function(){this.isInBackGround=!0,this.clearAllTimeOut()},t.prototype.eventShow=function(t){cc.log("time hide la: "+t),this.isInBackGround=!1,this.sendRequest(f.default.InfoFishRoomBD,null)},t.prototype.setTimeout=function(t,e){this.fishBDView.scheduleOnce(t,e)},t.prototype.setInterval=function(t,e){this.fishBDView.schedule(t,e)},t.prototype.unschedule=function(t){this.fishBDView.unschedule(t)},t.prototype.getGunValueByType=function(t){return this.listGunMoney[t]},t.prototype.getGunSpecialConfigType=function(t){for(var e=0,n=this.listGunSpecialConfig.size();e<n;e++){var o=this.listGunSpecialConfig.getSFSObject(e);if(o.getInt("SpecialGunId")==t)return o}var i=p.ConectManager.getIns().getSFSObj();return i.putInt("SpecialGunId",t),i.putUtfString("SpecialGunName","other"),i.putInt("TimeToUse",3),i.putInt("TimeRemoveNotUse",10),i},t.prototype.setFishBDView=function(t){h.Windown.UIManager.hideLoadingData(),this.fishBDView=t,this.fishMng=new d.default(this),this.playerMng=new D.default(this),this.sfs=p.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_REMOVE,this.onRoomRemove,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),this.sendJoinRoom()},t.prototype.setPool=function(t){this.pool=t},t.prototype.sendLeaveRoom=function(){if(null!=this.roomSfs)try{if(!this.sfs.roomManager.containsRoom(this.roomSfs.id)||!this.roomSfs.isJoined)throw new u.InfoErr("");h.Windown.UIManager.showLoading(),this.sendRequest(f.default.RequestLeaveRoom,null),this.isCanSendRequest=!1}catch(t){cc.log("destory buoi loi leav room"),cc.error(t),this.destroy()}else this.destroy()},t.prototype.sendJoinRoom=function(t){h.Windown.UIManager.showLoading();var e=this.sfs.getJoinedRooms();if(e.length>0&&e.filter(function(t){t.groupId}).length>0){var n=Object.create(null);return n.room=e[0],this.onJoinRoom(n),this.sendRequest(f.default.InfoFishRoomBD,null),void cc.log("user join room co san")}for(var o=this.sfs.roomManager.getRoomListFromGroup("fish3"),i=[],r=[],s=0,a=4,c=0,l=o;c<l.length;c++){var u=l[c];t?!this.listRoomJoined.includes(u)&&!u.isJoined&&u.userCount<u.maxUsers&&(i.push(u),u.userCount>s&&(s=u.userCount),u.userCount<a&&u.userCount<3&&(a=u.userCount)):!u.isJoined&&u.userCount<u.maxUsers&&(i.push(u),u.userCount>s&&(s=u.userCount),u.userCount<a&&u.userCount<3&&(a=u.userCount))}if(i.forEach(function(t){h.Windown.BotController?t.userCount==a&&r.push(t):t.userCount==s&&r.push(t)}),r.length>0){var d=r[h.Windown.RandomNumber(0,r.length)];this.sfs.send(new SFS2X.JoinRoomRequest(d,null,-1))}else{this.listRoomJoined.length=0;var y=p.ConectManager.getIns().getValibleRoomName(),g=new SFS2X.RoomSettings(y),m=new SFS2X.RoomExtension("FishBDExtension","ext.Room.FishBD.FishBDController"),v=new SFS2X.SFSRoomVariable("type",3);g.extension=m,g.isGame=!0,g.maxUsers=4,g.groupId="fish3",g.variables=[v],this.sfs.send(new SFS2X.CreateRoomRequest(g,!0))}},t.prototype.onDisconnect=function(){this.destroy()},t.prototype.changeTable=function(){var t=this;null==this.roomSfs||this.isWatingChangetable||(this.isWatingChangetable=!0,this.clearAllTimeOut(),this.isChangeTable=!0,h.Windown.UIManager.showLoading(),h.Windown.FishBongDem.fishBDView.scheduleOnce(function(){t.sendLeaveRoom()},.5))},t.prototype.clear=function(){this.listBulletSend.length=0,this.isCanSendRequest=!1,this.roomSfs=null,this.sfs&&(this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_REMOVE,this.onRoomRemove),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse)),this.clearAllTimeOut(),cc.systemEvent.removeAll(this),h.Windown.UIManager.hideLoadingData(),h.Windown.UIManager.hideLoading(),cc.game.removeAll(this),this.getSound()&&this.getSound().reset()},t.prototype.sendBullet=function(t){var e=Object.create(null);e.idBullet=t.get("BulletId"),e.time=Date.now();var n=this.listBulletSend[0];n&&e.time-n.time>1200?cc.log("mang lag ko cho gui bullet"):(this.listBulletSend.push(e),h.Windown.FishBongDem.sendRequest(f.default.GunAtackBD,t))},t.prototype.removeBulletSend=function(t){var e=this.listBulletSend.findIndex(function(e){return e.idBullet==t});e>-1&&this.listBulletSend.splice(e,1)},t.prototype.destroy=function(){this.clear(),cc.director.loadScene("main")},t.prototype.userExitRoom=function(t){var e=t.room;if(e.containsVariable("type")&&3==e.getVariable("type").value&&this.roomSfs==e){var n=t.user,o=n.getPlayerId(e);if(n.isItMe&&!this.isChangeTable)return void this.destroy();if(n.isItMe&&this.isChangeTable)return this.roomSfs=null,this.isCanSendRequest=!0,void this.sendJoinRoom(!0);this.playerMng.removePlayer(o)}},t.prototype.onRoomRemove=function(t){var e=t.room;this.roomSfs&&this.roomSfs==e&&(this.destroy(),h.Windown.Dialog.showLog(c.TextDefine.ERR_JOIN_ROOM))},t.prototype.onCreateError=function(){h.Windown.UIManager.hideLoading(),this.sendJoinRoom()},t.prototype.onJoinRoom=function(t){var e=this;h.Windown.UIManager.hideLoadingData(),h.Windown.UIManager.hideLoading();var n=t.room;if("fish3"==n.groupId&&n.containsVariable("type")&&3==n.getVariable("type").value){if(this.isChangeTable=!1,this.lastIdRoomToJoint=n.id,this.roomSfs=n,this.listRoomJoined.push(n),n.containsVariable("cf")&&n.getVariable("cf").value){var o=n.getVariable("cf").value;this.mapConfigJp=JSON.parse(o)}else this.mapConfigJp=JSON.parse('{"10":0.02,"50":0.03,"100":0.06,"200":0.1,"300":0.15,"500":0.2,"1000":0.3,"2000":0.4,"3000":0.5,"5000":0.6,"10000":1}');this.fishBDView.scheduleOnce(function(){e.isWatingChangetable=!1},1),cc.log("user join room")}},t.prototype.onJoinRoomErr=function(){h.Windown.UIManager.hideLoading(),h.Windown.Dialog.showLog(c.TextDefine.ERR_JOIN_ROOM),this.sendJoinRoom()},t.prototype.extResponse=function(t){if(!this.isInBackGround){var e=null,n=t.cmd,o=t.params;switch(n){case f.default.OtherJoinBDRoom:e=new I.default;break;case f.default.CreatFishBD:e=new v.default;break;case f.default.ChangeMoneyGun:e=new m.default;break;case f.default.RemoveListFishBD:e=new E.default;break;case f.default.RemoveAllFish:e=new M.default;break;case f.default.GunAtackBD:e=new w.default;break;case f.default.FishColisionBD:e=new b.default;break;case f.default.IceAllFishBD:e=new _.default;break;case f.default.PlayerUsingItemFishBD:e=new W.default;break;case f.default.NotFindFishBD:e=new T.default;break;case f.default.InfoFishRoomBD:e=new C.default;break;case f.default.SetTimeFishEffectBD:e=new A.default;break;case f.default.TimeOutPlayBD:e=new B.default;break;case f.default.AddItemDrag:e=new y.default;break;case f.default.UsingItemDrag:e=new O.default;break;case f.default.ChangeGunFishBD:e=new g.default;break;case f.default.RotateGun:e=new R.default;break;case f.default.TrieuHoi:e=new S.default;break;case f.default.GetLogJackpot:this.reviceLogJackpot(o);break;case a.REQUEST_CODE.Upacingame:this.updateBlace(o);break;case a.REQUEST_CODE.ChangeAvaInRoom:this.changeAvatarInRoom(o)}e&&(e.setBD(this),e.handleResponse(o))}},t.prototype.reviceLogJackpot=function(t){this.fishBDView&&this.fishBDView.lichSuJackpot&&this.fishBDView.lichSuJackpot.response(t)},t.prototype.updateBlace=function(t){var e=t.get(s.PlayerPP.AccountId),n=t.get("MoneyAdd");if(this.playerMng){var o=this.playerMng.getPlayerById(e);o&&(o.isMe&&cc.log("nhay me vao add gold updateBlace"),o.addGold(n))}},t.prototype.emitNewIndexJp=function(){if(this.lbJp&&this.me){var t=this.me.gunFishBd.stateGun.indexMoneyGun;cc.log(this.mapConfigJp);var e=this.mapConfigJp[h.Windown.FishBongDem.getGunValueByType(t).toString()];cc.log(e),this.lbJp.changePer(e)}},t.prototype.changeAvatarInRoom=function(t){var e=t.get(s.PlayerPP.AccountId),n=this.playerMng.getPlayerById(e),o=t.get("type"),i=t.get("id"),r=t.get("base64"),a=p.ConectManager.getIns().getSFSObj();a.putInt("idava",i),a.putInt("typeava",o),r&&a.putText("base64Ava",r),n&&n.setAva(a)},t.prototype.convertVec=function(t){return t.x*=this.vecLat.x,t.y*=this.vecLat.y,t},t.prototype.conVertAngle=function(t){return this.playerIdMe>2&&(t*=-1),t},t.prototype.setVeclat=function(){this.vecLat=cc.v2(1,1),this.playerIdMe>2&&(this.vecLat=cc.v2(1,-1))},t.prototype.sendRequest=function(t,e,n){this.roomSfs&&this.roomSfs.isJoined&&this.isCanSendRequest&&p.ConectManager.getIns().sendRequest(t,e,n||this.roomSfs)},t.prototype.makeDelay=function(t){return this.fishBDView.makeDelay(t)},t.prototype.getSound=function(){return h.Windown.AudioManager},t.prototype.addHandleReset=function(t,e,n){n?cc.systemEvent.once("fishReset",t,e):cc.systemEvent.on("fishReset",t,e)},t.prototype.removeHandle=function(t,e,n){n?cc.systemEvent.targetOff(e):cc.systemEvent.off("fishReset",t,e)},t.prototype.clearAllTimeOut=function(){this.playerIdMe=null,this.fishMng&&this.fishMng.destroy(),this.playerMng&&this.playerMng.destroy()},t}();n.default=N,cc._RF.pop()},{"../../../../Scritps/DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../../../Scritps/DefineTs/PlayerPP":"PlayerPP","../../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../../Scritps/InfoERR":"InfoERR","../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Windown":"Windown","../Fish/FishBDManager":"FishBDManager","../Network/CODE_EVT":"CODE_EVT","../Network/HandleAddItemDrag":"HandleAddItemDrag","../Network/HandleChangeBD":"HandleChangeBD","../Network/HandleChangeMoneyGunFishBD":"HandleChangeMoneyGunFishBD","../Network/HandleCreatFishBD":"HandleCreatFishBD","../Network/HandleCreatTrieuHoi":"HandleCreatTrieuHoi","../Network/HandleFishColisionBD":"HandleFishColisionBD","../Network/HandleGunAtackBD":"HandleGunAtackBD","../Network/HandleIceAllFishBD":"HandleIceAllFishBD","../Network/HandleInfoFishRoomBD":"HandleInfoFishRoomBD","../Network/HandleNotFindFishBD":"HandleNotFindFishBD","../Network/HandleOtherJoinRoom":"HandleOtherJoinRoom","../Network/HandlePlayerUsingItemFishBD":"HandlePlayerUsingItemFishBD","../Network/HandleRemoveAllListFishBD":"HandleRemoveAllListFishBD","../Network/HandleRemoveListFishBD":"HandleRemoveListFishBD","../Network/HandleRotateGunBD":"HandleRotateGunBD","../Network/HandleSetTimeFishEffectBD":"HandleSetTimeFishEffectBD","../Network/HandleTimeOutPlayBD":"HandleTimeOutPlayBD","../Network/HandleUsingItemDrag":"HandleUsingItemDrag","../Player/PlayerBDManager":"PlayerBDManager"}],FishDeadBoom:[function(t,e,n){"use strict";cc._RF.push(e,"4210bdgUEhLHLOzprJTorCl","FishDeadBoom");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../Scritps/Windown"),c=t("../../DeadBevhavior/PanelPoint"),l=t("../FISH_TYPE"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(e){return r(this,void 0,void 0,function(){var n;return s(this,function(o){switch(o.label){case 0:return t.prototype.execute.call(this,e),[4,this.makeDelay(.5)];case 1:return o.sent(),null==(n=a.Windown.FishBongDem.playerMng.getPlayerById(this.player.acountId))?[2]:(a.Windown.FishBongDem.pool.getPanelBoom().getComponent(c.default).init(n,this.fishBd.fishId,l.default.BOOM),[2])}})})},e}(t("./FishDeadNoEffect").default);n.default=u,cc._RF.pop()},{"../../../../../Scritps/Windown":"Windown","../../DeadBevhavior/PanelPoint":"PanelPoint","../FISH_TYPE":"FISH_TYPE","./FishDeadNoEffect":"FishDeadNoEffect"}],FishDeadCaXau:[function(t,e,n){"use strict";cc._RF.push(e,"f14e8M27otLzIxSVvSQPXx1","FishDeadCaXau");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../Scritps/Windown"),c=t("../../DeadBevhavior/PanelPoint"),l=t("../FISH_TYPE"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spCout=null,e.panelPoint=null,e.iconCircle=null,e.caXau=null,e.lbMoneyTake=null,e.pointTarget=null,e.currentCount=0,e.poolTextMoney=new cc.NodePool,e}return i(e,t),e.prototype.execute=function(e){return r(this,void 0,void 0,function(){var n,o,i,r,u,p,h,d,f,y,g=this;return s(this,function(s){switch(s.label){case 0:return t.prototype.execute.call(this,e),[4,this.makeDelay(.5)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,9,,10]),null==(n=a.Windown.FishBongDem.playerMng.getPlayerById(this.player.acountId))?[2]:(o=a.Windown.FishBongDem.pool.getPanelCaXau(),n.mapNodePanel.set(this.fishBd.fishId,o),this.panelPoint=o.getComponent(c.default),this.panelPoint.reset(),this.panelPoint.init(this.player,this.fishBd.fishId,l.default.CA_XAU),o.parent=n.parentPanel,o.scale=0,o.opacity=255,o.stopAllActions(),o.runAction(cc.scaleTo(.3,1).easing(cc.easeBackOut())),[4,this.makeDelay(1.5)]);case 3:s.sent(),(i=a.Windown.FishBongDem.pool.getEfCaXauDead()).parent=a.Windown.FishBongDem.fishBDView.parentEffect,i.zIndex=cc.macro.MAX_ZINDEX,this.spCout=i.children[1].getComponent(sp.Skeleton),this.caXau=i.children[0].getComponent(sp.Skeleton),this.iconCircle=i.children[1].children[0],this.lbMoneyTake=i.children[2],this.pointTarget=this.player.getPosCoint(),(r=this.getListArrRandom(this.moneyRevice,this.moneyGun)).forEach(function(t){t.forEach(function(t){g.player.pushDelay(t)})}),this.currentCount=0,this.iconCircle.active=!0,this.iconCircle.stopAllActions(),this.iconCircle.scale=.5,this.spCout.node.active=!1,this.updateCount(),u=!0,p=0,h=r,s.label=4;case 4:return p<h.length?(d=h[p],[4,this.runAniCaXau(u,d)]):[3,7];case 5:s.sent(),u=!u,s.label=6;case 6:return p++,[3,4];case 7:return[4,this.makeDelay(.15*r[r.length-1].length)];case 8:return s.sent(),this.soundBongDem.stopEffect(this.soundBongDem.demTien),this.iconCircle.active=!1,this.caXau.node.active=!1,(f=a.Windown.FishBongDem.getSound()).playEffect(f.caLonChet),a.Windown.FishBongDem.pool.putEfCaXauDead(i),this.onDestroy(),this.panelPoint.node&&this.panelPoint.end(),[3,10];case 9:return y=s.sent(),console.error(y),[3,10];case 10:return[2]}})})},e.prototype.runAniCaXau=function(t,e){var n=this;return new Promise(function(o){return r(n,void 0,void 0,function(){var n=this;return s(this,function(i){switch(i.label){case 0:return this.spCout.node.active=!0,this.resetStateSpCount(),this.caXau.node.active=!0,this.caXau.node.opacity=0,this.caXau.node.runAction(cc.fadeIn(.2)),t?(this.caXau.node.angle=90,this.caXau.node.setPosition(-1200,0),this.caXau.node.runAction(cc.sequence(cc.moveTo(.2,-400,0),cc.callFunc(function(){n.playAniCap()}))),this.spCout.node.runAction(cc.scaleTo(.5,1.5)),[4,this.makeDelay(1.5)]):[3,3];case 1:return i.sent(),this.updateCount(),a.Windown.FishBongDem.fishBDView.shakeScence(.25),a.Windown.FishBongDem.getSound().playEffect(a.Windown.FishBongDem.getSound().fishBoom),this.spCout.node.runAction(cc.scaleTo(.5,1)),this.spCout.setAnimation(0,"animation",!1),this.iconCircle.runAction(cc.sequence(cc.scaleTo(.2,.8),cc.scaleTo(.2,.5))),this.creatMoneyRandom(e),[4,this.makeDelay(.5)];case 2:return i.sent(),this.caXau.node.runAction(cc.fadeOut(.3)),[3,6];case 3:return this.caXau.node.angle=-90,this.caXau.node.setPosition(1200,0),this.caXau.node.runAction(cc.sequence(cc.moveTo(.2,400,0),cc.callFunc(function(){n.playAniCap()}))),this.spCout.node.runAction(cc.scaleTo(.5,1.5)),[4,this.makeDelay(1.5)];case 4:return i.sent(),this.updateCount(),a.Windown.FishBongDem.fishBDView.shakeScence(.25),a.Windown.FishBongDem.getSound().playEffect(a.Windown.FishBongDem.getSound().fishBoom),this.spCout.node.runAction(cc.scaleTo(.5,1)),this.spCout.setAnimation(0,"animation",!1),this.iconCircle.runAction(cc.sequence(cc.scaleTo(.2,.8),cc.scaleTo(.2,.5))),this.creatMoneyRandom(e),[4,this.makeDelay(.5)];case 5:i.sent(),this.caXau.node.runAction(cc.fadeOut(.3)),i.label=6;case 6:return[4,this.makeDelay(1.2)];case 7:return i.sent(),this.caXau.node.active=!1,[4,this.makeDelay(1)];case 8:return i.sent(),o(null),[2]}})})})},e.prototype.playAniCap=function(){this.caXau.setAnimation(0,"cap_cap",!1),this.caXau.addAnimation(0,"animation",!1)},e.prototype.getListArrRandom=function(t,e){for(var n=[];;){for(var o=[],i=0,r=a.Windown.RandomNumber(20,40);i<r;i++){var s=e*a.Windown.RandomNumber(2,11);if(t-s<=0&&(s=t),t-=s,o.push(s),t<=0)return n.push(o),n}n.push(o)}},e.prototype.updateCount=function(){this.iconCircle.children[0].getComponent(cc.Label).string=this.currentCount.toString(),this.currentCount++},e.prototype.resetStateSpCount=function(){cc.sys.isNative?this.spCout._nativeSkeleton.update(5):this.spCout.update(5)},e.prototype.creatMoneyRandom=function(t){return r(this,void 0,void 0,function(){var e,n,o,i,r,c=this;return s(this,function(s){switch(s.label){case 0:return t.forEach(function(t){var e=c.getTextItemMoney();e.parent=a.Windown.FishBongDem.fishBDView.parentEffect,e.getComponent(cc.Label).string=t.toString();var n=cc.v2(a.Windown.RandomNumber(-500,500),a.Windown.RandomNumber(-300,300));e.setPosition(n),e.scale=.8,e.opacity=255,e.runAction(cc.sequence(cc.scaleTo(.2,1.3),cc.delayTime(.5),cc.scaleTo(.2,1),cc.moveTo(.5,cc.v2(n.x+a.Windown.RandomNumber(-10,11),n.y+a.Windown.RandomNumber(-10,11))),cc.moveTo(.5,cc.v2(n.x+a.Windown.RandomNumber(-10,11),n.y+a.Windown.RandomNumber(-10,11))),cc.moveTo(.5,cc.v2(n.x+a.Windown.RandomNumber(-10,11),n.y+a.Windown.RandomNumber(-10,11))),cc.fadeOut(.3),cc.callFunc(function(){c.putTextItemMoney(e)})))}),[4,this.makeDelay(2.7)];case 1:s.sent(),e=this.player.isMe?.8:.6,this.soundBongDem.playEffect(this.soundBongDem.demTien,e,!0),n=0,o=t,s.label=2;case 2:return n<o.length?(i=o[n],(r=a.Windown.FishBongDem.playerMng.getPlayerById(this.player.acountId))&&(r.addGold(i),this.panelPoint.addMoney(i)),[4,this.makeDelay(.15)]):[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2]}})})},e.prototype.getTextItemMoney=function(){var t=null;return this.poolTextMoney.size()<1?(t=cc.instantiate(this.lbMoneyTake)).active=!0:t=this.poolTextMoney.get(),t},e.prototype.putTextItemMoney=function(t){this.poolTextMoney.put(t)},e.prototype.onDestroy=function(){this.poolTextMoney.clear()},e}(t("./FishDeadNoEffect").default);n.default=u,cc._RF.pop()},{"../../../../../Scritps/Windown":"Windown","../../DeadBevhavior/PanelPoint":"PanelPoint","../FISH_TYPE":"FISH_TYPE","./FishDeadNoEffect":"FishDeadNoEffect"}],FishDeadChildHT:[function(t,e,n){"use strict";cc._RF.push(e,"4ed8agirnxPJ6mULR14gK/g","FishDeadChildHT");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../../Scritps/Windown"),l=t("../FishBDChildHaiThanView"),u=t("./BaseFishDead"),p=cc._decorator,h=p.ccclass,d=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(t,e){var n=this;return new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s,u,p,h,d,f,y,g,m,v,S,b,w,_,C=this;return a(this,function(a){switch(a.label){case 0:return this.fishBd.getViewNode().getComponent(l.default).playAniTuSat(),this.fishBd.playAniRemove(),this.fishBd.removeFishFromList(),[4,this.makeDelay(.2)];case 1:for(a.sent(),this.soundBongDem.playEffectNoStop(this.soundBongDem.coinBayVe,.6),n=this.player,i=this.fishBd.getPoint(),r=this.getListCoinByType(this.fishBd.fishType),s=0,u=.1,p=n.isMe?.8:.6,h=function(t){t.setPosition(i.x+c.Windown.RandomNumber(-70,70),i.y+30+c.Windown.RandomNumber(-40,40)),t.getComponent(cc.Animation).play("Coin");var e=d.player.getPosCoint(),n=cc.delayTime(s),o=cc.moveBy(.22,0,120),r=cc.moveBy(.32,0,-120).easing(cc.easeBounceOut()),a=cc.delayTime(1),l=cc.spawn(cc.scaleTo(.5,.15),cc.moveTo(.5,e)),h=cc.callFunc(function(){c.Windown.FishBongDem.pool.putCoin(t),C.soundBongDem.playEffectNoStop(C.soundBongDem.coinVeTui,p)});t.stopAllActions(),t.runAction(cc.sequence(n,o,r,a,l,h)),s+=u,u-=.02},d=this,f=0,y=r;f<y.length;f++)g=y[f],h(g);return e&&((m=c.Windown.FishBongDem.pool.getTextMoney(n.isMe)).getComponent(cc.Label).string=this.moneyRevice.toString(),m.parent=c.Windown.FishBongDem.fishBDView.parentEffect,m.opacity=255,m.setPosition(i),m.scale=0,v=cc.scaleTo(.2,1.5),S=cc.scaleTo(.5,1).easing(cc.easeBounceOut()),b=cc.delayTime(1),w=cc.fadeOut(.3),_=cc.callFunc(function(){c.Windown.FishBongDem.pool.putTextMoney(m)}),m.runAction(cc.sequence(v,S,b,w,_))),[4,this.makeDelay(1.9+t)];case 2:return a.sent(),(n=c.Windown.FishBongDem.playerMng.getPlayerById(n.acountId))&&(n.addGold(this.moneyRevice),this.funCall&&this.funCall(this.moneyRevice)),o(null),[2]}})})})},r([h],e)}(u.default));n.default=d,cc._RF.pop()},{"../../../../../Scritps/Windown":"Windown","../FishBDChildHaiThanView":"FishBDChildHaiThanView","./BaseFishDead":"BaseFishDead"}],FishDeadGroup4:[function(t,e,n){"use strict";cc._RF.push(e,"1582d/exWNNiJ2gBXr0qwVI","FishDeadGroup4");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../Scritps/Windown"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fishGroupView=null,e.fishBdGroup=null,e}return i(e,t),e.prototype.execute=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,r,c,l,u,p,h,d=this;return s(this,function(s){switch(s.label){case 0:for(this.fishBdGroup=this.fishBd,this.fishGroupView=this.fishBdGroup.fishView,this.fishBd.playAniDead(),this.fishBd.playAniRemove(),this.fishBd.removeFishFromList(),this.soundBongDem.playEffectNoStop(this.soundBongDem.coinBayVe,.6),this.player.isMe&&a.Windown.FishBongDem.setTimeout(function(){a.Windown.FishBongDem.fishBDView.showTakeGroupFish(d.moneyRevice)},1),t=this.player,n=this.fishGroupView.getListPos(),o=t.isMe?.8:.6,i=function(e){for(var i=r.fishBdGroup.listFishType[e],s=a.Windown.FishBongDem.fishMng.getFishCfByType(i).get("mutil")*r.moneyGun,c=r.getListCoinByType(i),l=0,u=.1,p=n[e],h=function(t){t.setPosition(p.x+a.Windown.RandomNumber(-70,70),p.y+30+a.Windown.RandomNumber(-40,40)),t.getComponent(cc.Animation).play("Coin");var e=r.player.getPosCoint(),n=cc.delayTime(l),i=cc.moveBy(.22,0,120),s=cc.moveBy(.32,0,-120).easing(cc.easeBounceOut()),c=cc.delayTime(1),h=cc.spawn(cc.scaleTo(.5,.15),cc.moveTo(.5,e)),f=cc.callFunc(function(){a.Windown.FishBongDem.pool.putCoin(t),d.soundBongDem.playEffectNoStop(d.soundBongDem.coinVeTui,o)});t.stopAllActions(),t.runAction(cc.sequence(n,i,s,c,h,f)),l+=u,u-=.02},f=0,y=c;f<y.length;f++)h(y[f]);var g=a.Windown.FishBongDem.pool.getTextMoney(t.isMe);g.getComponent(cc.Label).string=s.toString(),g.parent=a.Windown.FishBongDem.fishBDView.parentEffect,g.opacity=255,g.setPosition(p),g.scale=0;var m=cc.scaleTo(.2,1.5),v=cc.scaleTo(.5,1).easing(cc.easeBounceOut()),S=cc.delayTime(1),b=cc.fadeOut(.3),w=cc.callFunc(function(){a.Windown.FishBongDem.pool.putTextMoney(g)});g.runAction(cc.sequence(m,v,S,b,w)),0!=e&&r.player.pushDelay(s)},r=this,c=0,l=n.length;c<l;c++)i(c);return[4,this.makeDelay(1.9)];case 1:s.sent(),c=0,l=n.length,s.label=2;case 2:return c<l?(u=this.fishBdGroup.listFishType[c],p=a.Windown.FishBongDem.fishMng.getFishCfByType(u).get("mutil"),h=p*this.moneyGun,(t=a.Windown.FishBongDem.playerMng.getPlayerById(t.acountId))&&t.addGold(h),[4,this.makeDelay(.15)]):[3,5];case 3:s.sent(),s.label=4;case 4:return c++,[3,2];case 5:return e(null),[2]}})})})},e}(t("./BaseFishDead").default);n.default=c,cc._RF.pop()},{"../../../../../Scritps/Windown":"Windown","./BaseFishDead":"BaseFishDead"}],FishDeadGroup:[function(t,e,n){"use strict";cc._RF.push(e,"49d42c9CXpNfpRHmEoLhXDX","FishDeadGroup");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../Scritps/Windown"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fishGroupView=null,e.fishBdGroup=null,e}return i(e,t),e.prototype.execute=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,r,c,l,u,p,h,d=this;return s(this,function(s){switch(s.label){case 0:for(this.fishBdGroup=this.fishBd,this.fishGroupView=this.fishBdGroup.fishView,this.fishBd.playAniDead(),this.fishBd.playAniRemove(),this.fishBd.removeFishFromList(),this.soundBongDem.playEffectNoStop(this.soundBongDem.coinBayVe,.6),this.player.isMe&&a.Windown.FishBongDem.setTimeout(function(){a.Windown.FishBongDem.fishBDView.showTakeGroupFish(d.moneyRevice)},1),t=this.player,n=this.fishGroupView.getListPos(),o=t.isMe?.8:.6,i=function(e){var i=r.fishBdGroup.fishTypeChild;0==e&&(i=r.fishBdGroup.fishTypeMain);for(var s=a.Windown.FishBongDem.fishMng.getFishCfByType(i).get("mutil")*r.moneyGun,c=r.getListCoinByType(i),l=0,u=.1,p=n[e],h=function(t){t.setPosition(p.x+a.Windown.RandomNumber(-70,70),p.y+30+a.Windown.RandomNumber(-40,40)),t.getComponent(cc.Animation).play("Coin");var e=r.player.getPosCoint(),n=cc.delayTime(l),i=cc.moveBy(.22,0,120),s=cc.moveBy(.32,0,-120).easing(cc.easeBounceOut()),c=cc.delayTime(1),h=cc.spawn(cc.scaleTo(.5,.15),cc.moveTo(.5,e)),f=cc.callFunc(function(){a.Windown.FishBongDem.pool.putCoin(t),d.soundBongDem.playEffectNoStop(d.soundBongDem.coinVeTui,o)});t.stopAllActions(),t.runAction(cc.sequence(n,i,s,c,h,f)),l+=u,u-=.02},f=0,y=c;f<y.length;f++)h(y[f]);var g=a.Windown.FishBongDem.pool.getTextMoney(t.isMe);g.getComponent(cc.Label).string=s.toString(),g.parent=a.Windown.FishBongDem.fishBDView.parentEffect,g.opacity=255,g.setPosition(p),g.scale=0;var m=cc.scaleTo(.2,1.5),v=cc.scaleTo(.5,1).easing(cc.easeBounceOut()),S=cc.delayTime(1),b=cc.fadeOut(.3),w=cc.callFunc(function(){a.Windown.FishBongDem.pool.putTextMoney(g)});g.runAction(cc.sequence(m,v,S,b,w)),0!=e&&r.player.pushDelay(s)},r=this,c=0,l=n.length;c<l;c++)i(c);return[4,this.makeDelay(1.9)];case 1:s.sent(),c=0,l=n.length,s.label=2;case 2:return c<l?(u=this.fishBdGroup.fishTypeChild,0==c&&(u=this.fishBdGroup.fishTypeMain),p=a.Windown.FishBongDem.fishMng.getFishCfByType(u).get("mutil"),h=p*this.moneyGun,(t=a.Windown.FishBongDem.playerMng.getPlayerById(t.acountId))&&t.addGold(h),[4,this.makeDelay(.15)]):[3,5];case 3:s.sent(),s.label=4;case 4:return c++,[3,2];case 5:return e(null),[2]}})})})},e}(t("./BaseFishDead").default);n.default=c,cc._RF.pop()},{"../../../../../Scritps/Windown":"Windown","./BaseFishDead":"BaseFishDead"}],FishDeadHaiThan:[function(t,e,n){"use strict";cc._RF.push(e,"78f30/Cn0tHl7UmwBJ/WeY2","FishDeadHaiThan");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../../Scritps/Windown"),l=t("./BaseFishDead"),u=cc._decorator,p=u.ccclass,h=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(t,e){var n=this;return new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s,l,u,p,h,d,f,y,g,m,v,S,b,w,_=this;return a(this,function(a){switch(a.label){case 0:return this.fishBd.playAniDead(),this.fishBd.playAniRemove(),this.fishBd.removeFishFromList(),[4,this.makeDelay(.2)];case 1:for(a.sent(),this.soundBongDem.playEffectNoStop(this.soundBongDem.coinBayVe,.6),n=this.player,i=this.fishBd.getPoint(),r=this.getListCoinByType(this.fishBd.fishType),s=0,l=.1,u=n.isMe?.8:.6,p=function(t){t.setPosition(i.x+c.Windown.RandomNumber(-70,70),i.y+30+c.Windown.RandomNumber(-40,40)),t.getComponent(cc.Animation).play("Coin");var e=h.player.getPosCoint(),n=cc.delayTime(s),o=cc.moveBy(.22,0,120),r=cc.moveBy(.32,0,-120).easing(cc.easeBounceOut()),a=cc.delayTime(1),p=cc.spawn(cc.scaleTo(.5,.15),cc.moveTo(.5,e)),d=cc.callFunc(function(){c.Windown.FishBongDem.pool.putCoin(t),_.soundBongDem.playEffectNoStop(_.soundBongDem.coinVeTui,u)});t.stopAllActions(),t.runAction(cc.sequence(n,o,r,a,p,d)),s+=l,l-=.02},h=this,d=0,f=r;d<f.length;d++)y=f[d],p(y);return e&&((g=c.Windown.FishBongDem.pool.getTextMoney(n.isMe)).getComponent(cc.Label).string=this.moneyRevice.toString(),g.parent=c.Windown.FishBongDem.fishBDView.parentEffect,g.opacity=255,g.setPosition(i),g.scale=0,m=cc.scaleTo(.2,1.5),v=cc.scaleTo(.5,1).easing(cc.easeBounceOut()),S=cc.delayTime(1),b=cc.fadeOut(.3),w=cc.callFunc(function(){c.Windown.FishBongDem.pool.putTextMoney(g)}),g.runAction(cc.sequence(m,v,S,b,w))),[4,this.makeDelay(1.9+t)];case 2:return a.sent(),(n=c.Windown.FishBongDem.playerMng.getPlayerById(n.acountId))&&(n.addGold(this.moneyRevice),this.funCall&&this.funCall(this.moneyRevice)),o(null),[2]}})})})},r([p],e)}(l.default));n.default=h,cc._RF.pop()},{"../../../../../Scritps/Windown":"Windown","./BaseFishDead":"BaseFishDead"}],FishDeadJackpot:[function(t,e,n){"use strict";cc._RF.push(e,"13376B9aDFIBItmP5fpXAz2","FishDeadJackpot");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../../Scritps/Game/GAME_TYPE"),l=t("../../../../../Scritps/Windown"),u=t("../../Other/TakeJp"),p=t("./FishDeadNoEffect"),h=cc._decorator,d=h.ccclass,f=(h.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(e){return s(this,void 0,void 0,function(){var n,o,i,r;return a(this,function(s){switch(s.label){case 0:t.prototype.execute.call(this,e),s.label=1;case 1:return s.trys.push([1,3,,4]),null==(n=l.Windown.FishBongDem.playerMng.getPlayerById(this.player.acountId))?[2]:[4,l.Windown.loadRes(c.default.BongDem.toString(),"Prefabs/TakeJp",cc.Prefab)];case 2:return o=s.sent(),(i=cc.instantiate(o)).parent=l.Windown.FishBongDem.fishBDView.node,i.getComponent(u.default).show(this.moneyRevice,n.namePlayer),[3,4];case 3:return r=s.sent(),console.error(r),[3,4];case 4:return[2]}})})},r([d],e)}(p.default));n.default=f,cc._RF.pop()},{"../../../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../../../Scritps/Windown":"Windown","../../Other/TakeJp":"TakeJp","./FishDeadNoEffect":"FishDeadNoEffect"}],FishDeadMutilReward:[function(t,e,n){"use strict";cc._RF.push(e,"5b025YJs99DU7Iip2zwGlU7","FishDeadMutilReward");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../Scritps/Windown"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeMutilReward=null,e}return i(e,t),e.prototype.execute=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,r,c,l,u,p,h,d,f,y,g,m,v,S,b,w,_,C,T,I,W,M=this;return s(this,function(s){switch(s.label){case 0:return t=this.player.isMe?.8:.4,this.fishBd.playAniDead(),this.fishBd.playAniRemove(),this.fishBd.removeFishFromList(),this.soundBongDem.playEffectNoStop(this.soundBongDem.coinBayVe,.6),n=this.player.gunFishBd.pointInScreen.clone(),this.player.playerSiting<3?n.y+=100:n.y-=100,this.nodeMutilReward=a.Windown.FishBongDem.pool.getMutilReward(),a.Windown.FishBongDem.addHandleReset(this.nodeMutilReward.destroy,this.nodeMutilReward,!0),this.nodeMutilReward.parent=a.Windown.FishBongDem.fishBDView.parentEffect,this.nodeMutilReward.setPosition(this.fishBd.getPoint()),this.nodeMutilReward.scale=0,this.nodeMutilReward.runAction(cc.sequence(cc.scaleTo(1,1).easing(cc.easeBackOut()),cc.moveTo(1,n))),(o=cc.find("kim",this.nodeMutilReward)).stopAllActions(),o.angle=0,[4,this.makeDelay(2)];case 1:return s.sent(),(i=a.Windown.FishBongDem.getSound()).playEffect(i.quayRdHeSo),r=this.fishBd.mutil,cc.log("result la: "+r),c=2880+90*(r-2),l=cc.rotateBy(4,-c).easing(cc.easeCircleActionInOut()),o.runAction(l),(u=this.nodeMutilReward.children[r]).stopAllActions(),u.opacity=255,u.runAction(cc.sequence(cc.delayTime(4),cc.blink(3,6))),[4,this.makeDelay(7)];case 2:for(s.sent(),a.Windown.FishBongDem.removeHandle(this.nodeMutilReward.destroy,this.nodeMutilReward,!0),a.Windown.FishBongDem.pool.putMutilReward(this.nodeMutilReward),p=this.getListCoinByType(this.fishBd.fishTypeMain),h=0,d=.1,f=n,y=function(e){e.setPosition(f.x+a.Windown.RandomNumber(-70,70),f.y+30+a.Windown.RandomNumber(-40,40)),e.getComponent(cc.Animation).play("Coin");var n=g.player.getPosCoint(),o=cc.delayTime(h),i=cc.moveBy(.22,0,120),r=cc.moveBy(.32,0,-120).easing(cc.easeBounceOut()),s=cc.delayTime(1),c=cc.spawn(cc.scaleTo(.5,.15),cc.moveTo(.5,n)),l=cc.callFunc(function(){a.Windown.FishBongDem.pool.putCoin(e),M.soundBongDem.playEffectNoStop(M.soundBongDem.coinVeTui,t)});e.stopAllActions(),e.runAction(cc.sequence(o,i,r,s,c,l)),h+=d,d-=.02},g=this,m=0,v=p;m<v.length;m++)S=v[m],y(S);return(b=a.Windown.FishBongDem.pool.getTextMoney(this.player.isMe)).getComponent(cc.Label).string=this.moneyRevice.toString(),b.parent=a.Windown.FishBongDem.fishBDView.parentEffect,b.opacity=255,b.setPosition(f),b.scale=0,w=cc.scaleTo(.2,1.5),_=cc.scaleTo(.5,1).easing(cc.easeBounceOut()),C=cc.delayTime(1),T=cc.fadeOut(.3),I=cc.callFunc(function(){a.Windown.FishBongDem.pool.putTextMoney(b)}),b.runAction(cc.sequence(w,_,C,T,I)),[4,this.makeDelay(1.9)];case 3:return s.sent(),(W=a.Windown.FishBongDem.playerMng.getPlayerById(this.player.acountId))&&W.addGold(this.moneyRevice),e(null),[2]}})})})},e}(t("./BaseFishDead").default);n.default=c,cc._RF.pop()},{"../../../../../Scritps/Windown":"Windown","./BaseFishDead":"BaseFishDead"}],FishDeadNoEffect:[function(t,e,n){"use strict";cc._RF.push(e,"481cdWredpAwIDZK8XvalTY","FishDeadNoEffect");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(){return r(this,void 0,void 0,function(){return s(this,function(){return this.fishBd.playAniDead(),this.fishBd.playAniRemove(),this.fishBd.removeFishFromList(),this.player.addGold(0),[2]})})},e}(t("./BaseFishDead").default);n.default=a,cc._RF.pop()},{"./BaseFishDead":"BaseFishDead"}],FishDeadNormalRd:[function(t,e,n){"use strict";cc._RF.push(e,"1e6b8TvOpVOBbNmw7p9vZ1s","FishDeadNormalRd");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../Scritps/Obs/LbMoneyChange"),c=t("../../../../../Scritps/Windown"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(){return r(this,void 0,void 0,function(){var e,n,o,i,r,l,u,p,h,d,f,y,g;return s(this,function(s){switch(s.label){case 0:return e=this.player,this.fishBd.playAniDead(),this.fishBd.removeFishFromList(),this.fishBd.deadGoToPlayer(this.player),n=this.fishBd.getPoint(),(o=c.Windown.FishBongDem.pool.getBigFish()).parent=c.Windown.FishBongDem.fishBDView.parentEffect,o.setPosition(n),o.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),c.Windown.FishBongDem.fishBDView.shakeScence(.1),this.soundBongDem.playEffectNoStop(this.soundBongDem.fishBoom,.7),[4,c.Windown.FishBongDem.makeDelay(1)];case 1:s.sent(),i=this.fishBd.getPoint(),c.Windown.FishBongDem.pool.putBigFish(o),r=c.Windown.FishBongDem.pool.getTextMoneyRd(e.isMe),l=e.isMe?.4:.25,u=this.convertListRd(this.fishBd.fishType,this.moneyGun,this.moneyRevice),p=r.getComponent(a.default),r.parent=c.Windown.FishBongDem.fishBDView.parentEffect,r.setPosition(i.x,i.y-50),r.opacity=255,p.resetLb(),p.time=1.2,h=0,d=u,s.label=2;case 2:return h<d.length?(f=d[h],p.setMoney(f,!1,"",!1),this.soundBongDem.playEffectNoStop(this.soundBongDem.demTien,l),[4,this.makeDelay(1.2)]):[3,6];case 3:return s.sent(),this.soundBongDem.playEffectNoStop(this.soundBongDem.endDemTienTurn,l),y=cc.scaleTo(.1,2),g=cc.scaleTo(.2,1),r.runAction(cc.sequence(y,g)),[4,this.makeDelay(.5)];case 4:s.sent(),s.label=5;case 5:return h++,[3,2];case 6:return[4,this.makeDelay(.5)];case 7:return s.sent(),r.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){c.Windown.FishBongDem.pool.putTextMoneyRd(r)}))),this.soundBongDem.playEffectNoStop(this.soundBongDem.endDemTien),this.fishBd.playAniRemove(),null==(e=c.Windown.FishBongDem.playerMng.getPlayerById(e.acountId))?[2,new Promise(function(t){t(null)})]:[2,t.prototype.execute.call(this,.2)]}})})},e.prototype.convertListRd=function(t,e,n){var o=[],i=0,r=0;switch(t){case 15:case 16:i=5,r=7;break;case 17:case 18:case 19:i=10,r=10;break;case 20:case 21:i=20,r=15;break;case 22:i=20,r=20;break;case 23:i=30,r=20;break;case 24:i=30,r=25;break;case 25:i=30,r=30;break;case 26:i=30,r=35;break;case 27:i=80,r=35;break;case 28:i=100,r=50;break;default:i=10,r=25}for(var s=e*i;;){if(s>=n){s=n,o.push(s);break}o.push(s),s+=r*e}return o},e}(t("./FishDeadNormal").default);n.default=l,cc._RF.pop()},{"../../../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../../../Scritps/Windown":"Windown","./FishDeadNormal":"FishDeadNormal"}],FishDeadNormal:[function(t,e,n){"use strict";cc._RF.push(e,"9a85b06pg5MooOGygTmABS0","FishDeadNormal");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../Scritps/DefineTs/REQUEST_CODE"),c=t("../../../../../Scritps/Game/GAME_TYPE"),l=t("../../../../../Scritps/Network/ConectManager"),u=t("../../../../../Scritps/Windown"),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(t,e){var n=this;return new Promise(function(o){return r(n,void 0,void 0,function(){var n,i,r,p,h,d,f,y,g,m,v,S,b,w,_,C,T,I,W=this;return s(this,function(s){switch(s.label){case 0:for(this.fishBd.playAniDead(),this.fishBd.playAniRemove(),this.fishBd.removeFishFromList(),this.soundBongDem.playEffectNoStop(this.soundBongDem.coinBayVe,.6),n=this.player,i=this.fishBd.getPoint(),r=this.getListCoinByType(this.fishBd.fishType),p=0,h=.1,d=n.isMe?.8:.6,f=function(t){t.setPosition(i.x+u.Windown.RandomNumber(-70,70),i.y+30+u.Windown.RandomNumber(-40,40)),t.getComponent(cc.Animation).play("Coin");var e=y.player.getPosCoint(),n=cc.delayTime(p),o=cc.moveBy(.22,0,120),r=cc.moveBy(.32,0,-120).easing(cc.easeBounceOut()),s=cc.delayTime(1),a=cc.spawn(cc.scaleTo(.5,.15),cc.moveTo(.5,e)),c=cc.callFunc(function(){u.Windown.FishBongDem.pool.putCoin(t),W.soundBongDem.playEffectNoStop(W.soundBongDem.coinVeTui,d)});t.stopAllActions(),t.runAction(cc.sequence(n,o,r,s,a,c)),p+=h,h-=.02},y=this,g=0,m=r;g<m.length;g++)v=m[g],f(v);return e&&((S=u.Windown.FishBongDem.pool.getTextMoney(n.isMe)).getComponent(cc.Label).string=this.moneyRevice.toString(),S.parent=u.Windown.FishBongDem.fishBDView.parentEffect,S.opacity=255,S.setPosition(i),S.scale=0,b=cc.scaleTo(.2,1.5),w=cc.scaleTo(.5,1).easing(cc.easeBounceOut()),_=cc.delayTime(1),C=cc.fadeOut(.3),T=cc.callFunc(function(){u.Windown.FishBongDem.pool.putTextMoney(S)}),S.runAction(cc.sequence(b,w,_,C,T))),[4,this.makeDelay(1.9+t)];case 1:return s.sent(),(n=u.Windown.FishBongDem.playerMng.getPlayerById(n.acountId))&&(n.addGold(this.moneyRevice),this.funCall&&this.funCall(this.moneyRevice),n.isMe&&(28==this.fishBd.fishType||27==this.fishBd.fishType||this.fishBd.fishType>=70&&this.fishBd.fishType<=74)&&((I=l.ConectManager.getIns().getSFSObj()).putInt("gt",c.default.BongDem),I.putInt("mt",this.moneyRevice),I.putUtfString("nn",this.player.namePlayer),I.putUtfString("dt",this.fishBd.fishType.toString()),l.ConectManager.getIns().sendRequest(a.REQUEST_CODE.AddBigWin,I))),o(null),[2]}})})})},e}(t("./BaseFishDead").default);n.default=p,cc._RF.pop()},{"../../../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../../../Scritps/Network/ConectManager":"ConectManager","../../../../../Scritps/Windown":"Windown","./BaseFishDead":"BaseFishDead"}],FishDeadRua:[function(t,e,n){"use strict";cc._RF.push(e,"9a4aaTFPjFIN71raOM9tx8z","FishDeadRua");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../Scritps/Windown"),c=t("../../DeadBevhavior/PanelPoint"),l=t("../FISH_TYPE"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spRua=null,e.lbMoneyTake=null,e.panelPoint=null,e.pointTarget=null,e.currentCount=0,e.poolTextMoney=new cc.NodePool,e}return i(e,t),e.prototype.execute=function(e){return r(this,void 0,void 0,function(){var n,o,i,r,u,p,h,d,f,y=this;return s(this,function(s){switch(s.label){case 0:return t.prototype.execute.call(this,e),[4,this.makeDelay(.5)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,10,,11]),null==(n=a.Windown.FishBongDem.playerMng.getPlayerById(this.player.acountId))?[2]:(o=a.Windown.FishBongDem.pool.getPanelRua(),n.mapNodePanel.set(this.fishBd.fishId,o),this.panelPoint=o.getComponent(c.default),this.panelPoint.init(this.player,this.fishBd.fishId,l.default.RUA),this.panelPoint.reset(),o.parent=n.parentPanel,o.scale=0,o.opacity=255,o.stopAllActions(),o.runAction(cc.scaleTo(.3,1).easing(cc.easeBackOut())),this.pointTarget=this.player.getPosCoint(),[4,this.makeDelay(1.5)]);case 3:s.sent(),(i=a.Windown.FishBongDem.pool.getEfRuaDead()).parent=a.Windown.FishBongDem.fishBDView.parentEffect,i.zIndex=cc.macro.MAX_ZINDEX,this.spRua=i.children[0].getComponent(sp.Skeleton),this.setScaleNodeEffect(),this.lbMoneyTake=i.children[1],(r=this.getListArrRandom(this.moneyRevice,this.moneyGun)).forEach(function(t){t.forEach(function(t){y.player.pushDelay(t)})}),this.currentCount=0,u=0,p=r,s.label=4;case 4:return u<p.length?(h=p[u],[4,this.runAniRua(h)]):[3,7];case 5:s.sent(),s.label=6;case 6:return u++,[3,4];case 7:return[4,this.makeDelay(1)];case 8:return s.sent(),[4,this.makeDelay(.15*r[r.length-1].length)];case 9:return s.sent(),(d=a.Windown.FishBongDem.getSound()).playEffect(d.caLonChet),a.Windown.FishBongDem.pool.putEfRuaDead(i),this.panelPoint.node&&this.panelPoint.end(),[3,11];case 10:return f=s.sent(),console.error(f),[3,11];case 11:return[2]}})})},e.prototype.runAniRua=function(t){var e=this;return new Promise(function(n){return r(e,void 0,void 0,function(){var e,o=this;return s(this,function(i){switch(i.label){case 0:return this.spRua.node.active=!0,this.spRua.node.opacity=255,this.spRua.setAnimation(0,"animation3",!1),this.spRua.setEndListener(function(){o.spRua.setEndListener(null),o.spRua.node.runAction(cc.fadeOut(.4))}),e=a.Windown.FishBongDem.getSound(),[4,this.makeDelay(.5)];case 1:return i.sent(),e.playEffect(e.ruaXiLua),[4,this.makeDelay(.5)];case 2:return i.sent(),e.playEffect(e.ruaXiLua),[4,this.makeDelay(.8)];case 3:return i.sent(),a.Windown.FishBongDem.fishBDView.shakeScence(.25),e.playEffect(e.fishBoom),this.creatMoneyRandom(t),[4,this.makeDelay(3.5)];case 4:return i.sent(),n(null),[2]}})})})},e.prototype.getListArrRandom=function(t,e){for(var n=[];;){for(var o=[],i=0,r=a.Windown.RandomNumber(20,40);i<r;i++){var s=e*a.Windown.RandomNumber(2,11);if(t-s<=0&&(s=t),t-=s,o.push(s),t<=0)return n.push(o),n}n.push(o)}},e.prototype.creatMoneyRandom=function(t){return r(this,void 0,void 0,function(){var e,n,o,i,r,c=this;return s(this,function(s){switch(s.label){case 0:return t.forEach(function(t){var e=c.getTextItemMoney();e.parent=a.Windown.FishBongDem.fishBDView.parentEffect,e.getComponent(cc.Label).string=t.toString();var n=cc.v2(a.Windown.RandomNumber(-500,500),a.Windown.RandomNumber(-300,300));e.setPosition(n),e.scale=.8,e.opacity=255,e.runAction(cc.sequence(cc.scaleTo(.2,1.3),cc.delayTime(.5),cc.scaleTo(.2,1),cc.moveTo(.5,cc.v2(n.x+a.Windown.RandomNumber(-10,11),n.y+a.Windown.RandomNumber(-10,11))),cc.moveTo(.5,cc.v2(n.x+a.Windown.RandomNumber(-10,11),n.y+a.Windown.RandomNumber(-10,11))),cc.moveTo(.5,cc.v2(n.x+a.Windown.RandomNumber(-10,11),n.y+a.Windown.RandomNumber(-10,11))),cc.fadeOut(.1),cc.callFunc(function(){c.creatCoin(n),c.putTextItemMoney(e)})))}),[4,this.makeDelay(2.7)];case 1:s.sent(),e=this.player.isMe?1:.6,n=0,o=t,s.label=2;case 2:return n<o.length?(i=o[n],(r=a.Windown.FishBongDem.playerMng.getPlayerById(this.player.acountId))&&(r.addGold(i),this.panelPoint.addMoney(i),this.soundBongDem.playEffectNoStop(this.soundBongDem.coinVeTui,e)),[4,this.makeDelay(.15)]):[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2]}})})},e.prototype.creatCoin=function(t){for(var e=function(){var e=a.Windown.FishBongDem.pool.getCoin(!0);e.scale=.5,e.getComponent(cc.Animation).play("Coin"),e.setPosition(cc.v2(t.x+a.Windown.RandomNumber(-50,50),t.y+a.Windown.RandomNumber(-50,50))),e.parent=a.Windown.FishBongDem.fishBDView.parentEffect,e.runAction(cc.sequence(cc.delayTime(1),cc.moveTo(1,n.pointTarget).easing(cc.easeBackIn()),cc.callFunc(function(){a.Windown.FishBongDem.pool.putCoin(e)})))},n=this,o=0;o<3;o++)e()},e.prototype.getTextItemMoney=function(){var t=null;return this.poolTextMoney.size()<1?(t=cc.instantiate(this.lbMoneyTake)).active=!0:t=this.poolTextMoney.get(),t},e.prototype.putTextItemMoney=function(t){this.poolTextMoney.put(t)},e.prototype.onDestroy=function(){this.poolTextMoney.clear()},e.prototype.setScaleNodeEffect=function(){var t=cc.winSize;this.spRua.node.scaleX=t.width/1280,this.spRua.node.scaleY=t.height/720},e}(t("./FishDeadNoEffect").default);n.default=u,cc._RF.pop()},{"../../../../../Scritps/Windown":"Windown","../../DeadBevhavior/PanelPoint":"PanelPoint","../FISH_TYPE":"FISH_TYPE","./FishDeadNoEffect":"FishDeadNoEffect"}],FishDeadTrieuHoi:[function(t,e,n){"use strict";cc._RF.push(e,"9ad13ORWs1N+5zj5d7gC+d5","FishDeadTrieuHoi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../Scritps/Game/GAME_TYPE"),c=t("../../../../../Scritps/Windown"),l=t("../../ThangLon"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(){return r(this,void 0,void 0,function(){var e,n,o,i,r=this;return s(this,function(s){switch(s.label){case 0:return e=this.player,this.fishBd.playAniDead(),this.fishBd.removeFishFromList(),this.fishBd.playAniRemove(),c.Windown.FishBongDem.fishBDView.shakeScence(.1),(n=c.Windown.FishBongDem.pool.getBigFish()).parent=c.Windown.FishBongDem.fishBDView.parentEffect,n.setPosition(this.fishBd.getPoint()),n.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),this.soundBongDem.playEffectNoStop(this.soundBongDem.fishBoom),c.Windown.FishBongDem.fishBDView.scheduleOnce(function(){r.soundBongDem.playEffectNoStop(r.soundBongDem.ShowTakeTireuHoi,.7)},.5),[4,c.Windown.loadRes(a.default.BongDem.toString(),"Prefabs/Game/ThangLon",cc.Prefab)];case 1:return o=s.sent(),(i=cc.instantiate(o)).parent=c.Windown.FishBongDem.fishBDView.parentEffect,[4,i.getComponent(l.default).init(this.fishBd.fishType,e,this.moneyRevice)];case 2:return s.sent(),null==(e=c.Windown.FishBongDem.playerMng.getPlayerById(e.acountId))?[2,new Promise(function(t){t(null)})]:[2,t.prototype.execute.call(this,0)]}})})},e}(t("./FishDeadNormal").default);n.default=u,cc._RF.pop()},{"../../../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../../../Scritps/Windown":"Windown","../../ThangLon":"ThangLon","./FishDeadNormal":"FishDeadNormal"}],FishDeadTruyGai:[function(t,e,n){"use strict";cc._RF.push(e,"72090lMSeFA5p1t5Jr9dJIe","FishDeadTruyGai");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../Scritps/Windown"),c=t("../../DeadBevhavior/PanelPoint"),l=t("../FISH_TYPE"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spTruyGai=null,e.lbMoneyTake=null,e.panelPoint=null,e.pointTarget=null,e.currentCount=0,e.poolTextMoney=new cc.NodePool,e}return i(e,t),e.prototype.execute=function(e){return r(this,void 0,void 0,function(){var n,o,i,r,u,p,h,d,f,y=this;return s(this,function(s){switch(s.label){case 0:return t.prototype.execute.call(this,e),[4,this.makeDelay(.5)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,10,,11]),null==(n=a.Windown.FishBongDem.playerMng.getPlayerById(this.player.acountId))?[2]:(o=a.Windown.FishBongDem.pool.getPanelTruyGai(),n.mapNodePanel.set(this.fishBd.fishId,o),this.panelPoint=o.getComponent(c.default),this.panelPoint.init(this.player,this.fishBd.fishId,l.default.TRUY_GAI),this.panelPoint.reset(),o.parent=n.parentPanel,o.scale=0,o.opacity=255,o.stopAllActions(),o.runAction(cc.scaleTo(.3,1).easing(cc.easeBackOut())),[4,this.makeDelay(1.5)]);case 3:s.sent(),(i=a.Windown.FishBongDem.pool.getEfTruyGaiDead()).parent=a.Windown.FishBongDem.fishBDView.parentEffect,i.zIndex=cc.macro.MAX_ZINDEX,this.spTruyGai=i.children[0].getComponent(sp.Skeleton),this.setScaleNodeEffect(),this.lbMoneyTake=i.children[1],this.pointTarget=this.player.getPosCoint(),(r=this.getListArrRandom(this.moneyRevice,this.moneyGun)).forEach(function(t){t.forEach(function(t){y.player.pushDelay(t)})}),this.currentCount=0,u=0,p=r,s.label=4;case 4:return u<p.length?(h=p[u],[4,this.runAniTruyGai(h)]):[3,7];case 5:s.sent(),s.label=6;case 6:return u++,[3,4];case 7:return[4,this.makeDelay(1)];case 8:return s.sent(),[4,this.makeDelay(.15*r[r.length-1].length)];case 9:return s.sent(),(d=a.Windown.FishBongDem.getSound()).playEffect(d.caLonChet),a.Windown.FishBongDem.pool.putEfTruyGaiDead(i),this.panelPoint.node&&this.panelPoint.end(),[3,11];case 10:return f=s.sent(),console.error(f),[3,11];case 11:return[2]}})})},e.prototype.runAniTruyGai=function(t){var e=this;return new Promise(function(n){return r(e,void 0,void 0,function(){var e,o=this;return s(this,function(i){switch(i.label){case 0:return this.spTruyGai.node.active=!0,this.spTruyGai.node.opacity=255,this.spTruyGai.setAnimation(0,"animation",!1),this.spTruyGai.setEndListener(function(){o.spTruyGai.setEndListener(null),o.spTruyGai.node.runAction(cc.fadeOut(.4))}),[4,this.makeDelay(.2)];case 1:return i.sent(),a.Windown.FishBongDem.fishBDView.shakeScence(.25),(e=a.Windown.FishBongDem.getSound()).playEffect(e.fishBoom),[4,this.makeDelay(1)];case 2:return i.sent(),this.creatMoneyRandom(t),[4,this.makeDelay(2)];case 3:return i.sent(),n(null),[2]}})})})},e.prototype.getListArrRandom=function(t,e){for(var n=[];;){for(var o=[],i=0,r=a.Windown.RandomNumber(20,40);i<r;i++){var s=e*a.Windown.RandomNumber(2,11);if(t-s<=0&&(s=t),t-=s,o.push(s),t<=0)return n.push(o),n}n.push(o)}},e.prototype.creatMoneyRandom=function(t){return r(this,void 0,void 0,function(){var e,n,o,i,r,c=this;return s(this,function(s){switch(s.label){case 0:return t.forEach(function(t){var e=c.getTextItemMoney();e.parent=a.Windown.FishBongDem.fishBDView.parentEffect,e.getComponent(cc.Label).string=t.toString();var n=cc.v2(a.Windown.RandomNumber(-500,500),a.Windown.RandomNumber(-300,300));e.setPosition(n),e.scale=.8,e.opacity=255,e.runAction(cc.sequence(cc.scaleTo(.2,1.3),cc.delayTime(.5),cc.scaleTo(.2,1),cc.moveTo(.5,cc.v2(n.x+a.Windown.RandomNumber(-10,11),n.y+a.Windown.RandomNumber(-10,11))),cc.moveTo(.5,cc.v2(n.x+a.Windown.RandomNumber(-10,11),n.y+a.Windown.RandomNumber(-10,11))),cc.moveTo(.5,cc.v2(n.x+a.Windown.RandomNumber(-10,11),n.y+a.Windown.RandomNumber(-10,11))),cc.fadeOut(.3),cc.callFunc(function(){c.putTextItemMoney(e)})))}),[4,this.makeDelay(2.7)];case 1:s.sent(),e=this.player.isMe?1:.6,n=0,o=t,s.label=2;case 2:return n<o.length?(i=o[n],(r=a.Windown.FishBongDem.playerMng.getPlayerById(this.player.acountId))&&(r.addGold(i),this.panelPoint.addMoney(i),this.soundBongDem.playEffectNoStop(this.soundBongDem.coinVeTui,e)),[4,this.makeDelay(.15)]):[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2]}})})},e.prototype.getTextItemMoney=function(){var t=null;return this.poolTextMoney.size()<1?(t=cc.instantiate(this.lbMoneyTake)).active=!0:t=this.poolTextMoney.get(),t},e.prototype.putTextItemMoney=function(t){this.poolTextMoney.put(t)},e.prototype.onDestroy=function(){this.poolTextMoney.clear()},e.prototype.setScaleNodeEffect=function(){var t=cc.winSize,e=1;t.width>1280?e=t.width/1280:t.height>720&&(e=t.height/720),this.spTruyGai.node.scale=e},e}(t("./FishDeadNoEffect").default);n.default=u,cc._RF.pop()},{"../../../../../Scritps/Windown":"Windown","../../DeadBevhavior/PanelPoint":"PanelPoint","../FISH_TYPE":"FISH_TYPE","./FishDeadNoEffect":"FishDeadNoEffect"}],FishDeadVongQuay:[function(t,e,n){"use strict";cc._RF.push(e,"dc7d3SqQiNIa7HRAj+wMaj/","FishDeadVongQuay");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../Scritps/DefineTs/REQUEST_CODE"),c=t("../../../../../Scritps/Game/GAME_TYPE"),l=t("../../../../../Scritps/Network/ConectManager"),u=t("../../../../../Scritps/Windown"),p=t("../../Other/CrabVongQuay"),h=t("../FISH_TYPE"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeCrabVongQuay=null,e}return i(e,t),e.prototype.execute=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,r,d,f,y,g,m,v,S,b,w,_=this;return s(this,function(s){switch(s.label){case 0:return t=this.player.isMe?.8:.4,this.fishBd.playAniDead(),this.fishBd.playAniRemove(),this.fishBd.removeFishFromList(),this.soundBongDem.playEffectNoStop(this.soundBongDem.coinBayVe,.6),n=this.player.gunFishBd.pointInScreen.clone(),this.player.playerSiting<3?n.y+=150:n.y-=150,this.nodeCrabVongQuay=u.Windown.FishBongDem.pool.getCrabVongQuay(),this.nodeCrabVongQuay.parent=u.Windown.FishBongDem.fishBDView.parentEffect,this.nodeCrabVongQuay.setPosition(this.fishBd.getPoint()),this.nodeCrabVongQuay.scale=0,[4,this.makeDelay(2)];case 1:return s.sent(),this.nodeCrabVongQuay.scale=.2,this.nodeCrabVongQuay.runAction(cc.sequence(cc.spawn(cc.scaleTo(.8,.5),cc.jumpTo(.8,cc.v2(this.nodeCrabVongQuay.x-u.Windown.RandomNumber(-100,100),this.nodeCrabVongQuay.y+50),80,1)),cc.delayTime(2),cc.spawn(cc.moveTo(.5,n).easing(cc.easeBackIn()),cc.scaleTo(.5,1)))),[4,this.makeDelay(4)];case 2:return s.sent(),o=this.moneyRevice/this.moneyGun,[4,this.nodeCrabVongQuay.getComponent(p.default).init(o,this.moneyRevice)];case 3:for(s.sent(),i=this.getListCoinByType(this.fishBd.fishTypeMain),r=0,d=.1,f=n,y=function(e){e.setPosition(f.x+u.Windown.RandomNumber(-70,70),f.y+30+u.Windown.RandomNumber(-40,40)),e.getComponent(cc.Animation).play("Coin");var n=g.player.getPosCoint(),o=cc.delayTime(r),i=cc.moveBy(.22,0,120),s=cc.moveBy(.32,0,-120).easing(cc.easeBounceOut()),a=cc.delayTime(1),c=cc.spawn(cc.scaleTo(.5,.15),cc.moveTo(.5,n)),l=cc.callFunc(function(){u.Windown.FishBongDem.pool.putCoin(e),_.soundBongDem.playEffectNoStop(_.soundBongDem.coinVeTui,t)});e.stopAllActions(),e.runAction(cc.sequence(o,i,s,a,c,l)),r+=d,d-=.02},g=this,m=0,v=i;m<v.length;m++)S=v[m],y(S);return[4,this.makeDelay(1.9)];case 4:return s.sent(),(b=u.Windown.FishBongDem.playerMng.getPlayerById(this.player.acountId))&&(b.addGold(this.moneyRevice),b.isMe&&((w=l.ConectManager.getIns().getSFSObj()).putInt("gt",c.default.BongDem),w.putInt("mt",this.moneyRevice),w.putUtfString("nn",this.player.namePlayer),w.putUtfString("dt",h.default.VONG_QUAY.toString()),l.ConectManager.getIns().sendRequest(a.REQUEST_CODE.AddBigWin,w))),e(null),[2]}})})})},e}(t("./BaseFishDead").default);n.default=d,cc._RF.pop()},{"../../../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../../../Scritps/Network/ConectManager":"ConectManager","../../../../../Scritps/Windown":"Windown","../../Other/CrabVongQuay":"CrabVongQuay","../FISH_TYPE":"FISH_TYPE","./BaseFishDead":"BaseFishDead"}],FishStateBD:[function(t,e,n){"use strict";cc._RF.push(e,"aec5fWXi6tItooPNwtO+t2B","FishStateBD"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.NORMAL=0,t.ICE=-1,t.SLOW=1,t.WATING=2,t}();n.default=o,cc._RF.pop()},{}],FreeController:[function(t,e,n){"use strict";cc._RF.push(e,"b43c8Ge2kpAY6P9uL9btyxr","FreeController");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/Util"),l=t("../../../../Scritps/Windown"),u=t("./FreeDT"),p=t("./FreeDTR"),h=t("./FreeLuBo"),d=cc._decorator,f=d.ccclass,y=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.freeDieuThuyen=null,e.freeDongTrac=null,e.freeLuBo=null,e}return i(e,t),e.prototype.show=function(){var t=l.Windown.DieuThuyen.stateSpin.lastTypeFree;this[t].node.active=!0,this[t].reset()},e.prototype.showTakeMoney=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t;return a(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this[l.Windown.DieuThuyen.stateSpin.lastTypeFree].showTakeMoney()];case 1:return n.sent(),e(null),[3,3];case 2:return t=n.sent(),c.Util.ThrowErrProsime(t),[3,3];case 3:return[2]}})})})},e.prototype.resetForNewTurn=function(){this[l.Windown.DieuThuyen.stateSpin.lastTypeFree].resetForNewTurn()},e.prototype.onClose=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t;return a(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this[l.Windown.DieuThuyen.stateSpin.lastTypeFree].onClose()];case 1:return n.sent(),this.node.destroy(),e(null),[3,3];case 2:return t=n.sent(),c.Util.ThrowErrProsime(t),[3,3];case 3:return[2]}})})})},r([y(u.default)],e.prototype,"freeDieuThuyen",void 0),r([y(p.default)],e.prototype,"freeDongTrac",void 0),r([y(h.default)],e.prototype,"freeLuBo",void 0),r([f],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../../Scritps/Util":"Util","../../../../Scritps/Windown":"Windown","./FreeDT":"FreeDT","./FreeDTR":"FreeDTR","./FreeLuBo":"FreeLuBo"}],FreeDTR:[function(t,e,n){"use strict";cc._RF.push(e,"487e7Crw/lC4bx2gahU1CcN","FreeDTR");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/Util"),l=t("../../../../Scritps/Windown"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.aniMain=null,e.soHeadMoney=null,e.nodeTakeX4=null,e.parentXu=null,e}return i(e,t),e.prototype.showTakeMoney=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r,s,u=this;return a(this,function(a){switch(a.label){case 0:for(a.trys.push([0,3,,4]),t=l.Windown.DieuThuyen.stateSpin.listColum,n=!1,o=0,i=t;o<i.length;o++)i[o].checkShowDongTrac()&&(n=!0);return l.Windown.DieuThuyen.listIdLineAn.length>0&&(l.Windown.RandomNumber(0,10)<5?this.aniMain.setAnimation(0,"Idle_2",!1):this.aniMain.setAnimation(0,"Celebreate_1",!1),this.aniMain.addAnimation(0,"Idle_1",!0)),n&&0!=l.Windown.DieuThuyen.listIdLineAn.length?(l.Windown.DieuThuyen.audio.playEffect(l.Windown.DieuThuyen.audio.dong_zhuo_four_times),this.nodeTakeX4.active=!0,cc.find("animation",this.nodeTakeX4).getComponent(cc.Animation).play("TakeX4"),(r=cc.find("x4",this.nodeTakeX4)).stopAllActions(),r.opacity=0,r.runAction(cc.sequence(cc.delayTime(1),cc.fadeIn(1))),[4,l.Windown.DieuThuyen.makeDelay(2.5)]):(e(null),[2]);case 1:return a.sent(),l.Windown.DieuThuyen.audio.playEffect(l.Windown.DieuThuyen.audio.dong_zhuo_laughing),l.Windown.DieuThuyen.audio.playEffect(l.Windown.DieuThuyen.audio.dong_zhuo_money_fall),this.nodeTakeX4.active=!1,this.soHeadMoney.node.parent.active=!0,this.soHeadMoney.node.opacity=255,this.soHeadMoney.setAnimation(0,"animation5",!1),this.soHeadMoney.setCompleteListener(function(){u.soHeadMoney.setCompleteListener(null),u.soHeadMoney.node.stopAllActions(),u.soHeadMoney.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){u.soHeadMoney.node.parent.active=!1})))}),l.Windown.DieuThuyen.effect.tungXu(cc.v2(-16.099,201.239),this.parentXu),[4,l.Windown.DieuThuyen.makeDelay(1)];case 2:return a.sent(),l.Windown.DieuThuyen.effect.roiXu(this.parentXu),e(null),[3,4];case 3:return s=a.sent(),c.Util.ThrowErrProsime(s),[3,4];case 4:return[2]}})})})},e.prototype.reset=function(){for(this.soHeadMoney.node.parent.active=!1;this.parentXu.childrenCount>0;){var t=this.parentXu.children[0];t.stopAllActions(),l.Windown.DieuThuyen.asset.putXu(t)}this.aniMain.setAnimation(0,"Idle_2",!1),this.aniMain.addAnimation(0,"Idle_1",!0),l.Windown.DieuThuyen.audio.playEffect(l.Windown.DieuThuyen.audio.dong_zhuo_laughing),l.Windown.DieuThuyen.scheduleOnce(function(){l.Windown.DieuThuyen.audio.stopEffect(l.Windown.DieuThuyen.audio.dong_zhuo_laughing)},2.5)},e.prototype.resetForNewTurn=function(){},e.prototype.onClose=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t;return a(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,l.Windown.DieuThuyen.makeDelay(1)];case 1:return n.sent(),this.node.active=!1,e(null),[3,3];case 2:return t=n.sent(),c.Util.ThrowErrProsime(t),[3,3];case 3:return[2]}})})})},r([h(sp.Skeleton)],e.prototype,"aniMain",void 0),r([h(sp.Skeleton)],e.prototype,"soHeadMoney",void 0),r([h(cc.Node)],e.prototype,"nodeTakeX4",void 0),r([h(cc.Node)],e.prototype,"parentXu",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../../Scritps/Util":"Util","../../../../Scritps/Windown":"Windown"}],FreeDT:[function(t,e,n){"use strict";cc._RF.push(e,"a5ff1kJXVpM466ZF/wHFUaG","FreeDT");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/Util"),l=t("../../../../Scritps/Windown"),u=cc._decorator,p=u.ccclass,h=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){this.canhHoaBkgEff()},e.prototype.canhHoaBkgEff=function(){for(var t=0;t<15;t++){var e=l.Windown.DieuThuyen.asset.getCanhHoa();e.parent=this.node,this.startCanhHoa(e,t)}},e.prototype.startCanhHoa=function(t,e){var n=this;t.stopAllActions();var o=cc.v2(l.Windown.RandomNumber(-360,100),700),i=cc.v2(l.Windown.RandomNumber(100,670),0),r=l.Windown.RandomNumber(5,10);e+=l.Windown.RandomNumber(0,5),t.setPosition(o);var s=cc.moveTo(r,i);t.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(){t.getComponent(cc.Animation).play("CanhHoa")}),s,cc.callFunc(function(){n.startCanhHoa(t,0)})))},e.prototype.showTakeMoney=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r,s,u,p,h,d=this;return a(this,function(a){switch(a.label){case 0:for(a.trys.push([0,4,,5]),t=l.Windown.DieuThuyen.stateSpin.listColum,n=!1,o=0,i=t;o<i.length;o++)i[o].checkShowDieuThuyen()&&(n=!0);return n&&0!=l.Windown.DieuThuyen.listIdLineAn.length?[3,2]:[4,l.Windown.DieuThuyen.makeDelay(.5)];case 1:return a.sent(),e(null),[2];case 2:return r=cc.find("TakeDT",this.node),s=l.Windown.RandomNumber(0,r.children.length),(u=r.children[s]).active=!0,(p=u.getComponent(sp.Skeleton)).setAnimation(0,"Idle_1",!1),p.setCompleteListener(function(){p.setCompleteListener(null),d.offTakeWild()}),[4,l.Windown.DieuThuyen.makeDelay(1.5)];case 3:return a.sent(),e(null),[3,5];case 4:return h=a.sent(),c.Util.ThrowErrProsime(h),[3,5];case 5:return[2]}})})})},e.prototype.resetForNewTurn=function(){cc.find("TakeDT",this.node).getComponentsInChildren(sp.Skeleton).forEach(function(t){t.setCompleteListener(null),t.node.stopAllActions(),t.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){t.node.active=!1})))})},e.prototype.offTakeWild=function(){cc.find("TakeDT",this.node).children.forEach(function(t){t.active=!1})},e.prototype.reset=function(){this.offTakeWild()},e.prototype.onClose=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t;return a(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,l.Windown.DieuThuyen.makeDelay(1)];case 1:return n.sent(),this.node.active=!1,e(null),[3,3];case 2:return t=n.sent(),c.Util.ThrowErrProsime(t),[3,3];case 3:return[2]}})})})},r([p],e)}(cc.Component));n.default=h,cc._RF.pop()},{"../../../../Scritps/Util":"Util","../../../../Scritps/Windown":"Windown"}],FreeLuBo:[function(t,e,n){"use strict";cc._RF.push(e,"9a4deBEOQxMoLw8Ol+UUiU8","FreeLuBo");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/Util"),l=t("../../../../Scritps/Windown"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listSpSolider=[],e.nodeLubuChay=null,e.nodeMutil=null,e.lbHit=null,e.currentCount=1,e.poolEffectHitIcon=new cc.NodePool,e.listFunHitIcon=[],e}return i(e,t),e.prototype.start=function(){var t=cc.find("line",this.nodeLubuChay);t.x=460,t.runAction(cc.repeatForever(cc.sequence(cc.moveTo(1,-600,337),cc.delayTime(l.Windown.RandomNumber(1,4)),cc.callFunc(function(){t.x=460}))));var e=cc.find("bkg",this.nodeLubuChay);e.x=276,e.runAction(cc.repeatForever(cc.sequence(cc.moveTo(.8,-276,362.246),cc.callFunc(function(){e.x=276})))),this.startBinhLinh()},e.prototype.zoomLubu=function(){var t=cc.v2(-263.592,-1690);this.nodeLubuChay.stopAllActions(),this.nodeLubuChay.runAction(cc.spawn(cc.scaleTo(1,4.5).easing(cc.easeSineOut()),cc.moveTo(1,t).easing(cc.easeSineOut())))},e.prototype.offZoomLubu=function(t){void 0===t&&(t=0),this.nodeLubuChay.stopAllActions(),this.nodeLubuChay.runAction(cc.spawn(cc.scaleTo(t,1).easing(cc.easeSineIn()),cc.moveTo(t,cc.v2(0,0)).easing(cc.easeSineIn())))},e.prototype.startBinhLinh=function(){var t=this,e=cc.find("binhlinh",this.nodeLubuChay);e.active=!0,e.x=600,e.stopAllActions(),e.runAction(cc.repeatForever(cc.sequence(cc.delayTime(l.Windown.RandomNumber(2,4)),cc.moveTo(.7,-600,153),cc.callFunc(function(){e.x=600,e.getComponent(cc.Sprite).spriteFrame=t.listSpSolider[l.Windown.RandomNumber(0,t.listSpSolider.length)]}))))},e.prototype.offBinhLinh=function(){cc.find("binhlinh",this.nodeLubuChay).active=!1},e.prototype.showTakeMoney=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n;return a(this,function(o){switch(o.label){case 0:return o.trys.push([0,8,,9]),l.Windown.DieuThuyen.listColum[0].activeIconLubBoNoEf(),t=0,l.Windown.DieuThuyen.getLitsChangLuBo().forEach(function(e){e.forEach(function(e){-1!=e&&t++})}),0==t?(e(null),[2]):1!=t?[3,1]:(this.showChem1(),[3,6]);case 1:return 2!=t?[3,2]:(this.showChem2(),[3,6]);case 2:return 3!=t?[3,4]:(this.showChem3(),[4,l.Windown.DieuThuyen.makeDelay(5)]);case 3:return o.sent(),[3,6];case 4:return this.showChem4(),[4,l.Windown.DieuThuyen.makeDelay(5)];case 5:o.sent(),o.label=6;case 6:return this.setupActiveIconLubo(),[4,this.showMutil(t)];case 7:return o.sent(),e(null),[3,9];case 8:return n=o.sent(),c.Util.ThrowErrProsime(n),[3,9];case 9:return[2]}})})})},e.prototype.setupActiveIconLubo=function(){var t=this;this.listFunHitIcon=[];for(var e=l.Windown.DieuThuyen.stateSpin.listColum,n=l.Windown.DieuThuyen.getLitsChangLuBo(),o=function(o){for(var r=function(r){-1!=n[o][r]&&i.listFunHitIcon.push(function(){var i=n[o][r],s=t.getEfHitIcon();s.parent=l.Windown.DieuThuyen.parentItem;var a=e[o].getPointItem(i,s.parent);s.setPosition(a),s.getComponent(cc.Animation).play("mulltikill"),s.once(cc.Animation.EventType.FINISHED,function(){t.putEfHitIcon(s)}),e[o].activeIconLuBo2(i)})},s=0;s<n[o].length;s++)r(s)},i=this,r=0;r<n.length;r++)o(r)},e.prototype.showChem3=function(){return s(this,void 0,void 0,function(){var t,e,n,o,i=this;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.zoomLubu(),[4,l.Windown.DieuThuyen.makeDelay(2)];case 1:return r.sent(),this.nodeMutil.active=!0,t=cc.find("LbMutil/animShow",this.node).getComponent(sp.Skeleton),e=cc.find("LbMutil/aniChem",this.node).getComponent(sp.Skeleton),n=cc.find("LBAttackAnimation_00",this.node).getComponent(cc.Animation),t.node.active=!0,t.setAnimation(0,"animation2",!1),[4,l.Windown.DieuThuyen.makeDelay(3)];case 2:return r.sent(),t.node.active=!1,n.node.active=!0,n.play("LuBuChem"),[4,l.Windown.DieuThuyen.makeDelay(1.2)];case 3:return r.sent(),n.node.active=!1,e.node.active=!0,e.setAnimation(0,"animation1",!1),e.setCompleteListener(function(){e.setCompleteListener(null),i.offChem(),i.offZoomLubu(1)}),[3,5];case 4:return o=r.sent(),c.Util.ThrowErrProsime(o),[3,5];case 5:return[2]}})})},e.prototype.showChem4=function(){return s(this,void 0,void 0,function(){var t,e,n,o,i=this;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.zoomLubu(),[4,l.Windown.DieuThuyen.makeDelay(2)];case 1:return r.sent(),this.nodeMutil.active=!0,t=cc.find("LbMutil/animShow",this.node).getComponent(sp.Skeleton),e=cc.find("LbMutil/aniChem2",this.node).getComponent(sp.Skeleton),n=cc.find("LBAttackAnimation_00",this.node).getComponent(cc.Animation),t.node.active=!0,t.setAnimation(0,"animation2",!1),[4,l.Windown.DieuThuyen.makeDelay(3)];case 2:return r.sent(),t.node.active=!1,n.node.active=!0,n.play("LuBuChem"),[4,l.Windown.DieuThuyen.makeDelay(1.8)];case 3:return r.sent(),n.node.active=!1,e.node.active=!0,e.setAnimation(0,"animation5",!1),e.setCompleteListener(function(){e.setCompleteListener(null),i.offChem(),i.offZoomLubu(1)}),[3,5];case 4:return o=r.sent(),c.Util.ThrowErrProsime(o),[3,5];case 5:return[2]}})})},e.prototype.showChem1=function(){return s(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),(t=cc.find("LBAttackAnimation_00",this.node).getComponent(cc.Animation)).node.active=!0,t.play("LuBuChem"),[4,l.Windown.DieuThuyen.makeDelay(.3)];case 1:return n.sent(),t.node.active=!1,[3,3];case 2:return e=n.sent(),c.Util.ThrowErrProsime(e),[3,3];case 3:return[2]}})})},e.prototype.showChem2=function(){return s(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),(t=cc.find("LBAttackAnimation_00",this.node).getComponent(cc.Animation)).node.active=!0,t.play("LuBuChem"),[4,l.Windown.DieuThuyen.makeDelay(1.2)];case 1:return n.sent(),t.node.active=!1,[3,3];case 2:return e=n.sent(),c.Util.ThrowErrProsime(e),[3,3];case 3:return[2]}})})},e.prototype.onClose=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t;return a(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),l.Windown.DieuThuyen.audio.playEffect(l.Windown.DieuThuyen.audio.lv_bu_horse_neigh),cc.find("dc_portrait",this.nodeLubuChay).getComponent(sp.Skeleton).setAnimation(0,"Rearing",!1),[4,l.Windown.DieuThuyen.makeDelay(3)];case 1:return n.sent(),this.node.active=!1,e(null),[3,3];case 2:return t=n.sent(),c.Util.ThrowErrProsime(t),[3,3];case 3:return[2]}})})})},e.prototype.showMutil=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o;return a(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),e=1,l.Windown.DieuThuyen.audio.playEffect(l.Windown.DieuThuyen.audio.lv_bu_slash_one),this.upMutil(e),[4,l.Windown.DieuThuyen.makeDelay(.5)];case 1:return i.sent(),++e>t?(n(null),[2]):(l.Windown.DieuThuyen.audio.playEffect(l.Windown.DieuThuyen.audio.lv_bu_slash_two),this.upMutil(e),[4,l.Windown.DieuThuyen.makeDelay(.7)]);case 2:return i.sent(),++e>t?(n(null),[2]):(l.Windown.DieuThuyen.audio.playEffect(l.Windown.DieuThuyen.audio.lv_bu_slash_three),this.upMutil(e),[4,l.Windown.DieuThuyen.makeDelay(.6)]);case 3:return i.sent(),++e>t?(n(null),[2]):(l.Windown.DieuThuyen.audio.playEffect(l.Windown.DieuThuyen.audio.lv_bu_slash_four),this.upMutil(e),[4,l.Windown.DieuThuyen.makeDelay(.5)]);case 4:return i.sent(),n(null),[3,6];case 5:return o=i.sent(),c.Util.ThrowErrProsime(o),[3,6];case 6:return[2]}})})})},e.prototype.resetForNewTurn=function(){},e.prototype.upMutil=function(t){var e=this.lbHit.node.parent;cc.find("multikill_00",e).getComponent(cc.Animation).play("mulltikill"),this.lbHit.node.active=!1;var n=cc.find("lv_bu_hit",e),o=cc.find("combo",e);n.active=!1,o.active=!1,t<4?(this.lbHit.node.active=!0,n.active=!0,e.active=!0,this.lbHit.string=t.toString(),this.listFunHitIcon.shift()()):(l.Windown.DieuThuyen.audio.playEffect(l.Windown.DieuThuyen.audio.lv_bu_attacked),o.active=!0,this.listFunHitIcon.forEach(function(t){t()}),this.listFunHitIcon=[]),e.stopAllActions(),e.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){e.active=!1})))},e.prototype.offChem=function(){for(var t=1;t<this.nodeMutil.children.length;t++)this.nodeMutil.children[t].active=!1;this.nodeMutil.active=!1},e.prototype.reset=function(){this.nodeLubuChay.active=!0,this.nodeMutil.active=!1,this.lbHit.node.parent.active=!1,cc.find("LBAttackAnimation_00",this.node).active=!1,this.nodeLubuChay.scale=1,this.nodeLubuChay.setPosition(0,0)},e.prototype.onClickTest=function(){this.offChem(),this.showTakeMoney()},e.prototype.getEfHitIcon=function(){var t=null;if(this.poolEffectHitIcon.size()>0)t=this.poolEffectHitIcon.get();else{var e=this.lbHit.node.parent,n=cc.find("multikill_00",e);(t=cc.instantiate(n)).name="EfHitIcon",t.scale=1.4}return t.active=!0,t},e.prototype.putEfHitIcon=function(t){this.poolEffectHitIcon.put(t)},e.prototype.onDestroy=function(){this.poolEffectHitIcon.clear()},r([h([cc.SpriteFrame])],e.prototype,"listSpSolider",void 0),r([h(cc.Node)],e.prototype,"nodeLubuChay",void 0),r([h(cc.Node)],e.prototype,"nodeMutil",void 0),r([h(cc.Label)],e.prototype,"lbHit",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../../Scritps/Util":"Util","../../../../Scritps/Windown":"Windown"}],FromDataNative:[function(t,e,n){"use strict";cc._RF.push(e,"01460ipY11EAo7ZFc7YZ5cp","FromDataNative"),Object.defineProperty(n,"__esModule",{value:!0}),n.FormDataNative=void 0;var o=function(){function t(){this._boundary_key="testformdata",this._boundary="--"+this._boundary_key,this._end_boundary=this._boundary+"--",this._result=[]}return t.prototype.append=function(t,e){this._result.push(this._boundary+"\r\n"),this._result.push('Content-Disposition: form-data; name="'+t+'"\r\n\r\n'),this._result.push(e),this._result.push("\r\n")},t.prototype.appendFile=function(t,e,n){var o="upload."+n;this._result.push(this._boundary+"\r\n"),this._result.push('Content-Disposition: form-data; name="'+t+'"; filename="'+o+'"\r\n'),this._result.push("Content-Type: application/x-www-form-urlencoded\r\n"),this._result.push("\r\n"),this._result.push(e),this._result.push("\r\n")},Object.defineProperty(t.prototype,"arrayBuffer",{get:function(){this._result.push("\r\n"+this._end_boundary);for(var t=[],e=0;e<this._result.length;e++){var n=this._result[e];if("string"==typeof n)for(var o=0;o<n.length;o++)t.push(n.charCodeAt(o));else for(var i=0;i<n.length;i++)t.push(n[i])}return new Uint8Array(t).buffer},enumerable:!1,configurable:!0}),t}();n.FormDataNative=o,cc._RF.pop()},{}],FullHeight:[function(t,e,n){"use strict";cc._RF.push(e,"5a7c8LGqhdCRY2I3VQ6smot","FullHeight");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){var t=this.node.getComponent(cc.Sprite);t&&(t.sizeMode=cc.Sprite.SizeMode.TRIMMED),this.node&&this.node.setContentSize(cc.size(720,cc.winSize.height))},e.prototype.onEnable=function(){this.funUpdate(),cc.view.on("canvas-resize",this.funUpdate,this),window.addEventListener("orientationchange",this.funUpdate.bind(this))},e.prototype.funUpdate=function(){this.node&&this.node.setContentSize(cc.size(720,cc.winSize.height))},e.prototype.onDisable=function(){cc.view.targetOff(this),window.removeEventListener("orientationchange",this.funUpdate)},r([a],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],FullSize:[function(t,e){"use strict";cc._RF.push(e,"c06aeGh69JJKYu1D8xtM1Fn","FullSize");var n=t("./Windown").Windown;cc.Class({extends:cc.Component,editor:{disallowMultiple:!1,menu:"FullSize"},properties:{},onLoad:function(){var t=this.node.getComponent(cc.Sprite);t&&(t.sizeMode=3),n.UIManager.isVertical?this.node&&this.node.setContentSize(cc.winSize):this.node&&this.node.setContentSize(cc.winSize.height,cc.winSize.width)},onEnable:function(){this.funUpdate(),cc.view.on("canvas-resize",this.funUpdate,this),window.addEventListener("orientationchange",this.funUpdate.bind(this))},funUpdate:function(){n.UIManager.isVertical?this.node&&this.node.setContentSize(cc.winSize):this.node&&this.node.setContentSize(cc.winSize.height,cc.winSize.width)},onDisable:function(){cc.view.targetOff(this),window.removeEventListener("orientationchange",this.funUpdate)}}),cc._RF.pop()},{"./Windown":"Windown"}],GAME_TYPE:[function(t,e,n){"use strict";cc._RF.push(e,"49251oPSOdI+ICWs0+3wbAZ","GAME_TYPE"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.CaMap=31,t.BongDem=32,t.Xeng=1,t.ThanTai=2,t.MiniSlot=33,t.DieuThuyen=34,t.NgoKhong=35,t.TaiXiu=36,t.Neko=37,t.KingKong=40,t.Baccarat=41,t.MatTroi=39,t.TienLen=50,t.RungRam=42,t.MiniPoker=43,t.XocDia=52,t.Medusa=51,t.Asgard=53,t.Rong=55,t.MuaDong=54,t.AiCap=56,t.MatChuoc=57,t.QuyBa=58,t.DuaXe=59,t.Lode=60,t.Caishen=61,t}();n.default=o,cc._RF.pop()},{}],GUN_TYPE_BD:[function(t,e,n){"use strict";cc._RF.push(e,"a196checq1AKbNKXNqANQIv","GUN_TYPE_BD"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.NORMAL=0,t.LAZE=1,t.SONG_AM=3,t.MUI_KHOAN=4,t.SET=5,t.FIRE=6,t}();n.default=o,cc._RF.pop()},{}],GenDataTest:[function(t,e){"use strict";cc._RF.push(e,"93afdGqCqlKpYFLKIsTzD2W","GenDataTest"),cc.Class({extends:cc.Component,ctor:function(){this.moneyTotalCaculate=13e3,this.moneyStart=1e4,this.moneyCurrent=this.moneyStart,this.offsetY=1080/this.moneyTotalCaculate,this.offsetX=48},properties:{nodeInfoSpin:t("InfoSpin"),nodeItem:cc.Node,data:{default:null,type:cc.JsonAsset},line:cc.Graphics,scr:cc.ScrollView},onLoad:function(){Global.GenData=this},onDestroy:function(){Global.GenData=null},start:function(){var t=this.getPosByMoneyAndSpinCount(this.moneyStart,0);cc.log(t),this.line.moveTo(t.x,t.y),this.getData();var e=this.scr.content;e.width=this.offsetX*this.listData.length+100,e.height=1e4;for(var n=0,o=this.listData.length;n<o;n++){cc.log("chay vao day roi nay");var i=cc.instantiate(this.nodeItem),r=i.getComponent("ItemSpin");i.active=!0,r.init(this.listData[n]),e.addChild(i)}this.line.stroke()},viewInfoSesion:function(t,e){this.nodeInfoSpin.init(t);var n=this.getPositionInViewParentText(e.position);this.nodeInfoSpin.node.x=n.x+150,this.nodeInfoSpin.node.y=n.y;var o=this.nodeInfoSpin.node.width/2,i=this.nodeInfoSpin.node.height/2,r=cc.winSize.height/2,s=cc.winSize.width/2;(this.nodeInfoSpin.node.x>s-o||this.nodeInfoSpin.node.x<-s+o)&&this.nodeInfoSpin.node.x>0&&(this.nodeInfoSpin.node.x=s-o),(this.nodeInfoSpin.node.y>r-i||this.nodeInfoSpin.node.y<-r+i)&&(this.nodeInfoSpin.node.y>0?this.nodeInfoSpin.node.y=r-i:this.nodeInfoSpin.node.y=i-r)},getPositionInViewParentText:function(t){var e=this.scr.content.convertToWorldSpaceAR(t);return this.node.convertToNodeSpaceAR(e)},offInfo:function(){this.nodeInfoSpin.node.active=!1},getData:function(){this.listData=this.data.json},drawLine:function(t){this.line.lineTo(t.x,t.y)},getPosByMoneyAndSpinCount:function(t,e){var n=cc.v2(0,0);return n.x=this.offsetX*e,n.y=this.offsetY*t,n}}),cc._RF.pop()},{InfoSpin:"InfoSpin"}],GiftCode:[function(t,e,n){"use strict";cc._RF.push(e,"99170ZJMWFJW7VxPZIMv2Qj","GiftCode");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/PlayerPP"),a=t("../../DefineTs/REQUEST_CODE"),c=t("../../DefineTs/TextDefine"),l=t("../../InfoERR"),u=t("../../Network/ConectManager"),p=t("../../Parent/BaseEditbox"),h=t("../../Windown"),d=cc._decorator,f=d.ccclass,y=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.edbGift=null,e.edbCaptcha=null,e}return i(e,t),e.prototype.show=function(){h.Windown.actionEffectOpenPopup(this.node)},e.prototype.setGiftCode=function(t){this.edbGift.string=t},e.prototype.onLoad=function(){h.Windown.GiftCode=this,this.initNodeMove(h.Windown.GiftCode.node),this.resignEdb(this.edbGift),this.resignEdb(this.edbCaptcha),this.resignNext(this.edbGift,"edbCaptcha")},e.prototype.onEnable=function(){this.onClickRefeshCaptCha()},e.prototype.onDisable=function(){h.Windown.GiftCode=null,this.reset()},e.prototype.reset=function(){this.edbCaptcha.string="",this.edbGift.string=""},e.prototype.onClickXacNhan=function(){try{if(""==this.edbCaptcha.string)throw new l.InfoErr(c.TextDefine.NullCaptcha);if(""==this.edbGift.string)throw new l.InfoErr(c.TextDefine.NullCaptcha);var t=u.ConectManager.getIns().getSFSObj();t.putUtfString("giftCode",this.edbGift.string.trim()),t.putUtfString("captcha",this.edbCaptcha.string.trim()),u.ConectManager.getIns().sendRequestToCallback(a.REQUEST_CODE.GiftCode,t,this.responseServer.bind(this))}catch(e){h.Windown.Dialog.showLog(e.message)}},e.prototype.responseServer=function(t){t.containsKey(s.PlayerPP.ERR_MESSAGE)?h.Windown.Dialog.showLog(t.getUtfString(s.PlayerPP.ERR_MESSAGE)):t.containsKey(s.PlayerPP.MESSAGE)&&h.Windown.Dialog.showLog(t.getUtfString(s.PlayerPP.MESSAGE))},e.prototype.onClickRefeshCaptCha=function(){h.Windown.CapchaController.requestCapcha()},e.prototype.onClickClose=function(){var t=this;h.Windown.actionEffectClosePopup(this.node,function(){t.node.parent=null})},r([y(cc.EditBox)],e.prototype,"edbGift",void 0),r([y(cc.EditBox)],e.prototype,"edbCaptcha",void 0),r([f],e)}(p.default);n.default=g,cc._RF.pop()},{"../../DefineTs/PlayerPP":"PlayerPP","../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../DefineTs/TextDefine":"TextDefine","../../InfoERR":"InfoERR","../../Network/ConectManager":"ConectManager","../../Parent/BaseEditbox":"BaseEditbox","../../Windown":"Windown"}],GunFishBD:[function(t,e,n){"use strict";cc._RF.push(e,"9cdd8/J19lA/Lvhx8w5w6kZ","GunFishBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=t("./GUN_TYPE_BD"),c=t("./StateGunFire"),l=t("./StateGunLaze"),u=t("./StateGunMuiKhoan"),p=t("./StateGunNormal"),h=t("./StateGunSet"),d=t("./StateGunSongAm"),f=cc._decorator,y=f.ccclass,g=f.property,m=[210,-210,-210,210],v=[-35,-35,37,37],S=[{x:-265,y:-312},{x:265,y:-312},{x:265,y:312},{x:-265,y:312}],b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbGunValue=null,e.bodyGun=null,e.nodeStartBullet=null,e.bulletNormal=null,e.spineGun=[],e.bulletGun=[],e.speedGun=0,e.currentIndexGun=0,e.stateGun=null,e.playerBD=null,e.pointInScreen=null,e.poolBulletNormal=new cc.NodePool,e}return i(e,t),e.prototype.setPlayer=function(t){this.playerBD=t,this.setupViewGun(),this.getPoint(),this.playerBD.isMe&&s.Windown.FishBongDem.fishBDView.showArrowMe(cc.v2(this.pointInScreen.x,this.pointInScreen.y+150))},e.prototype.setupViewGun=function(){this.node.x=m[this.playerBD.playerSiting-1],this.lbGunValue.node.parent.y=v[this.playerBD.playerSiting-1],this.playerBD.isMe?this.setActiveBtn(!0):this.setActiveBtn(!1),this.playerBD.playerSiting>2?this.bodyGun.angle=180:this.bodyGun.angle=0},e.prototype.setActiveBtn=function(t){this.playerBD.isMe||(t=!1),cc.find("Add",this.node).active=t,cc.find("Sub",this.node).active=t},e.prototype.getPoint=function(){this.pointInScreen=cc.v2(S[this.playerBD.playerSiting-1].x,S[this.playerBD.playerSiting-1].y)},e.prototype.initGun=function(t,e){if(cc.log("initGun"),this.stateGun&&this.stateGun.type==t)e&&(this.stateGun.idGunNow=e);else{null!=this.stateGun&&this.stateGun.reset();var n=this.getStateGunByType(t,e);n.indexMoneyGun=this.playerBD.indexMoneyGun,n.execute(),this.stateGun=n}},e.prototype.getStateGunByType=function(t,e){return t==a.default.NORMAL?new p.default(this,t):t==a.default.LAZE?((n=new l.default(this,t)).idGunNow=e,n):t==a.default.SONG_AM?((n=new d.default(this,t)).idGunNow=e,n):t==a.default.MUI_KHOAN?((n=new u.default(this,t)).idGunNow=e,n):t==a.default.SET?n=new h.default(this,t):t==a.default.FIRE?((n=new c.default(this,t)).idGunNow=e,n):void 0;var n},e.prototype.rotate=function(t){this.stateGun&&this.stateGun.rotate(t)},e.prototype.onClickAdd=function(){this.stateGun.onClickAdd()},e.prototype.onClickSub=function(){this.stateGun.onClickSub()},e.prototype.setMoneyGun=function(t){this.stateGun.setMoneyGun(t),this.currentIndexGun=this.getIndexBulletAndSpine(t),this.stateGun.nodeGun.getComponentInChildren(sp.Skeleton).skeletonData=this.spineGun[this.currentIndexGun],this.stateGun.nodeGun.getComponentInChildren(sp.Skeleton).setAnimation(0,"idle",!0)},e.prototype.getIndexBulletAndSpine=function(t){return t<2?0:t<4?1:t<6?2:3},e.prototype.getBulletNormalPool=function(){var t=null;return this.poolBulletNormal.size()<1?((t=cc.instantiate(this.bulletNormal)).active=!0,t.parent=s.Windown.FishBongDem.fishBDView.parentBullet):(t=this.poolBulletNormal.get()).parent=s.Windown.FishBongDem.fishBDView.parentBullet,t.getChildByName("fish_bullet").getComponent(cc.Sprite).spriteFrame=this.bulletGun[this.currentIndexGun],t},e.prototype.getVecStartBullet=function(){var t=this.nodeStartBullet.parent.convertToWorldSpaceAR(this.nodeStartBullet.getPosition());return this.playerBD.playerManager.fishBD.fishBDView.parentBullet.convertToNodeSpaceAR(t)},e.prototype.putButtletNormal=function(t){this.poolBulletNormal.put(t)},e.prototype.onDestroy=function(){this.poolBulletNormal.clear()},e.prototype.updateCp=function(t){this.stateGun.updateCp(t)},e.prototype.cancleAtack=function(){this.stateGun&&this.stateGun.cancleAtack()},r([g(cc.Label)],e.prototype,"lbGunValue",void 0),r([g(cc.Node)],e.prototype,"bodyGun",void 0),r([g(cc.Node)],e.prototype,"nodeStartBullet",void 0),r([g(cc.Node)],e.prototype,"bulletNormal",void 0),r([g([sp.SkeletonData])],e.prototype,"spineGun",void 0),r([g([cc.SpriteFrame])],e.prototype,"bulletGun",void 0),r([y],e)}(cc.Component);n.default=b,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./GUN_TYPE_BD":"GUN_TYPE_BD","./StateGunFire":"StateGunFire","./StateGunLaze":"StateGunLaze","./StateGunMuiKhoan":"StateGunMuiKhoan","./StateGunNormal":"StateGunNormal","./StateGunSet":"StateGunSet","./StateGunSongAm":"StateGunSongAm"}],HandleAddItemDrag:[function(t,e,n){"use strict";cc._RF.push(e,"ec791+69ChDOro0DI+9SVOU","HandleAddItemDrag");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){var e=t.get("AccountId"),n=this.fishBD.playerMng.getPlayerById(e);n&&n.addItemDrag(t)},e}(t("./IResponseBD").default);n.default=r,cc._RF.pop()},{"./IResponseBD":"IResponseBD"}],HandleChangeBD:[function(t,e,n){"use strict";cc._RF.push(e,"28b1a1Z+VhKCaP/dIlaCwpE","HandleChangeBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/DefineTs/PlayerPP"),s=t("../../../../Scritps/Windown"),a=t("../Gun/GUN_TYPE_BD"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){var e=t.getInt("GunType"),n=t.getInt(r.PlayerPP.AccountId),o=this.fishBD.playerMng.getPlayerById(n);o&&(o.isMe&&e==a.default.SET&&(s.Windown.FishBongDem.fishBDView.toggleSungSet.isChecked=!0,s.Windown.FishBongDem.fishBDView.toggleSungSet.checkMark.node.active=!0),o.changeGun(e))},e}(t("./IResponseBD").default);n.default=c,cc._RF.pop()},{"../../../../Scritps/DefineTs/PlayerPP":"PlayerPP","../../../../Scritps/Windown":"Windown","../Gun/GUN_TYPE_BD":"GUN_TYPE_BD","./IResponseBD":"IResponseBD"}],HandleChangeMoneyGunFishBD:[function(t,e,n){"use strict";cc._RF.push(e,"91892zESKVC1Zw9IHn/hwd6","HandleChangeMoneyGunFishBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/DefineTs/PlayerPP"),s=t("../../../../Scritps/Windown"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){cc.log(s.Windown.SFSObjToJson(t));var e=t.getInt("IndexMoneyGun"),n=t.getInt(r.PlayerPP.AccountId),o=this.fishBD.playerMng.getPlayerById(n);o&&o.changeIndexMoneyGun(e)},e}(t("./IResponseBD").default);n.default=a,cc._RF.pop()},{"../../../../Scritps/DefineTs/PlayerPP":"PlayerPP","../../../../Scritps/Windown":"Windown","./IResponseBD":"IResponseBD"}],HandleCreatFishBD:[function(t,e,n){"use strict";cc._RF.push(e,"f70d9ckTzRIpbG48YdVIifu","HandleCreatFishBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){this.fishBD.fishMng.addListFish(t.getSFSArray("listFish"))},e}(t("./IResponseBD").default);n.default=r,cc._RF.pop()},{"./IResponseBD":"IResponseBD"}],HandleCreatTrieuHoi:[function(t,e,n){"use strict";cc._RF.push(e,"e292fRJ7R9FfpBe6dmbCt7W","HandleCreatTrieuHoi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Windown"),s=t("../Fish/FishBDNormalView"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){var e=t.getInt("id"),n=this.fishBD.playerMng.getPlayerById(e);if(null!=n){var o=r.Windown.FishBongDem.pool.getTxtTrieuHoi();o.parent=r.Windown.FishBongDem.fishBDView.parentEffect,o.setPosition(n.gunFishBd.pointInScreen),o.scale=3,o.opacity=0,o.runAction(cc.sequence(cc.spawn(cc.fadeIn(.5).easing(cc.easeSineIn()),cc.scaleTo(.5,1).easing(cc.easeSineIn())),cc.delayTime(3),cc.callFunc(function(){o.destroy()})));for(var i=[],a=0,c=t.size();a<c;a++)i.push(function(t){t.setTimeEffectWating(2);var e=t.getViewNode().getComponent(s.default);e.aniStateMove.time+=2*e.aniStateMove.speed,e.aniStateMove.sample(),e.node.scale=0,e.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){71==t.fishType?r.Windown.FishBongDem.getSound().playEffectNoStop(r.Windown.FishBongDem.getSound().PhonixStart):70==t.fishType?r.Windown.FishBongDem.getSound().playEffectNoStop(r.Windown.FishBongDem.getSound().fish70Start):72==t.fishType&&r.Windown.FishBongDem.getSound().playEffectNoStop(r.Windown.FishBongDem.getSound().startFish72)}),cc.scaleTo(.5,1)));var n=e.getPos(),o=r.Windown.FishBongDem.pool.getEfTrieuHoi();o.parent=r.Windown.FishBongDem.fishBDView.parentFish,o.setPosition(n),o.zIndex=0;var i=o.getComponentInChildren(sp.Skeleton);i.setAnimation(0,"open",!1),i.setCompleteListener(function(){r.Windown.FishBongDem.pool.putEfTrieuHoi(o),i.setCompleteListener(null)})});r.Windown.FishBongDem.getSound().playEffectNoStop(r.Windown.FishBongDem.getSound().RuaXoay),this.fishBD.fishMng.addListFish(t.getSFSArray("listFish"),i)}else this.fishBD.fishMng.addListFish(t.getSFSArray("listFish"))},e}(t("./IResponseBD").default);n.default=a,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","../Fish/FishBDNormalView":"FishBDNormalView","./IResponseBD":"IResponseBD"}],HandleFishColisionBD:[function(t,e,n){"use strict";cc._RF.push(e,"d91f3LY9r1PEIePuD8AVu0K","HandleFishColisionBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/DefineTs/PlayerPP"),c=t("../../../../Scritps/Windown"),l=t("../DeadBevhavior/ColisionBoomNguyenTu"),u=t("../DeadBevhavior/ColisionCrab"),p=t("../DeadBevhavior/ColisionCrabBoom"),h=t("../DeadBevhavior/ColisionCrabEndMuiKhoan"),d=t("../DeadBevhavior/ColisionCrabGunFire"),f=t("../DeadBevhavior/ColisionCrabMuiKhoan"),y=t("../DeadBevhavior/ColisionCrabSongAm"),g=t("../DeadBevhavior/ColisionDinhBa"),m=t("../DeadBevhavior/ColisionFish74"),v=t("../DeadBevhavior/ColisionHaiThanDead"),S=t("../DeadBevhavior/ColisionItemHaiThan"),b=t("../DeadBevhavior/ColisionLocXoay"),w=t("../DeadBevhavior/ColisionMatThan"),_=t("../DeadBevhavior/ColisionNormal"),C=t("../Fish/DeadEffect/FISH_DEAD_BD_TYPE"),T=t("../Gun/GUN_TYPE_BD"),I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){return r(this,void 0,Promise,function(){var e,n,o,i,r;return s(this,function(s){switch(s.label){case 0:switch(e=t.getInt("deadType"),n=t.getInt("bfdt"),o=null,i=t.getInt(a.PlayerPP.AccountId),n){case C.default.GUN_FIRE:(r=c.Windown.FishBongDem.playerMng.getPlayerById(i))&&r.gunFishBd.stateGun.type==T.default.FIRE&&(o=new d.default(t));break;case C.default.BOOM_NGUYEN_TU:(r=c.Windown.FishBongDem.playerMng.getPlayerById(i))&&(o=new l.default(t));break;case C.default.DINH_BA:(r=c.Windown.FishBongDem.playerMng.getPlayerById(i))&&(o=new g.default(t));break;case C.default.MAT_THAN:(r=c.Windown.FishBongDem.playerMng.getPlayerById(i))&&(o=new w.default(t))}return o?(o.excuted(),n!=C.default.DINH_BA?[3,2]:[4,c.Windown.FishBongDem.makeDelay(2)]):[3,2];case 1:s.sent(),s.label=2;case 2:switch(o=null,e){case C.default.NORMAL:o=new _.default(t);break;case C.default.LADE:o=new u.default(t);break;case C.default.BOOM:o=new p.default(t);break;case C.default.SONG_AM:o=new y.default(t);break;case C.default.MUI_KHOAN:o=new f.default(t);break;case C.default.END_MUI_KHOAN:o=new h.default(t);break;case C.default.ITEM_HAI_THAN:o=new S.default(t);break;case C.default.HAI_THAN:o=new v.default(t);break;case C.default.LOC_XOAY:o=new b.default(t);break;case C.default.FISH_74:o=new m.default(t)}return o&&o.excuted(),[2]}})})},e}(t("./IResponseBD").default);n.default=I,cc._RF.pop()},{"../../../../Scritps/DefineTs/PlayerPP":"PlayerPP","../../../../Scritps/Windown":"Windown","../DeadBevhavior/ColisionBoomNguyenTu":"ColisionBoomNguyenTu","../DeadBevhavior/ColisionCrab":"ColisionCrab","../DeadBevhavior/ColisionCrabBoom":"ColisionCrabBoom","../DeadBevhavior/ColisionCrabEndMuiKhoan":"ColisionCrabEndMuiKhoan","../DeadBevhavior/ColisionCrabGunFire":"ColisionCrabGunFire","../DeadBevhavior/ColisionCrabMuiKhoan":"ColisionCrabMuiKhoan","../DeadBevhavior/ColisionCrabSongAm":"ColisionCrabSongAm","../DeadBevhavior/ColisionDinhBa":"ColisionDinhBa","../DeadBevhavior/ColisionFish74":"ColisionFish74","../DeadBevhavior/ColisionHaiThanDead":"ColisionHaiThanDead","../DeadBevhavior/ColisionItemHaiThan":"ColisionItemHaiThan","../DeadBevhavior/ColisionLocXoay":"ColisionLocXoay","../DeadBevhavior/ColisionMatThan":"ColisionMatThan","../DeadBevhavior/ColisionNormal":"ColisionNormal","../Fish/DeadEffect/FISH_DEAD_BD_TYPE":"FISH_DEAD_BD_TYPE","../Gun/GUN_TYPE_BD":"GUN_TYPE_BD","./IResponseBD":"IResponseBD"}],HandleGunAtackBD:[function(t,e,n){"use strict";cc._RF.push(e,"d7ec3UrWzpFObRIsVRStYBr","HandleGunAtackBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/DefineTs/PlayerPP"),s=t("../../../../Scritps/Windown"),a=t("../Gun/GUN_TYPE_BD"),c=t("../Player/Effect/TypePlayerEffectBD"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){var e=t.getLong("AccountBalance"),n=s.Windown.FishBongDem.playerMng.getPlayerById(t.getInt(r.PlayerPP.AccountId)),o=t.getInt("moneyGun");if(null!=n){n.subGold(o,e);var i=cc.v2();i.x=t.get("PositionX"),i.y=t.get("PositionY");var l=t.get("FishIdTarget");if(s.Windown.FishBongDem.convertVec(i),n.isMe)s.Windown.FishBongDem.removeBulletSend(t.get("BulletId"));else if(n.gunFishBd.stateGun.type!=a.default.NORMAL&&n.gunFishBd.stateGun.type!=a.default.SET||(n.rotateGun(i),n.atack()),-1!=l){var u=n.getPlayerEffect(c.default.TARGET);if(u){var p=this.fishBD.fishMng.getFishById(l);p&&u.targetFish(p,p.getListColider()[t.get("IC")])}n.gunFishBd.stateGun.type==a.default.SET&&n.gunFishBd.stateGun.setFishIdTarget(l,t.get("IC"))}}},e}(t("./IResponseBD").default);n.default=l,cc._RF.pop()},{"../../../../Scritps/DefineTs/PlayerPP":"PlayerPP","../../../../Scritps/Windown":"Windown","../Gun/GUN_TYPE_BD":"GUN_TYPE_BD","../Player/Effect/TypePlayerEffectBD":"TypePlayerEffectBD","./IResponseBD":"IResponseBD"}],HandleIceAllFishBD:[function(t,e,n){"use strict";cc._RF.push(e,"53f43D/EjJIv4oePzSFGCAt","HandleIceAllFishBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Windown"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){var e=t.getFloat("Duration")-r.Windown.LagValue;this.fishBD.getSound().playEffect(this.fishBD.getSound().iceAllFish),this.fishBD.fishMng.iceAllFish(e),this.fishBD.fishBDView.showIce(e),cc.log("ice all fish")},e}(t("./IResponseBD").default);n.default=s,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./IResponseBD":"IResponseBD"}],HandleInfoFishRoomBD:[function(t,e,n){"use strict";cc._RF.push(e,"27dceegES9ApbUEjM5xFHWJ","HandleInfoFishRoomBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Windown"),s=t("./CODE_EVT"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){for(var e=t.getSFSArray("listPlayer"),n=!1,o=0,i=e.size();o<i;o++)e.getSFSObject(o).getInt("id")==r.Windown.User.userId&&(n=!0);if(n){if(this.fishBD.fishBDView.node){r.Windown.FishBongDem.listBulletSend.length=0,this.fishBD.fishMng.initGame();var a=t.getSFSArray("listMoneyGun");for(this.fishBD.listGunSpecialConfig=t.getSFSArray("listGunSpecilConfig"),this.fishBD.listGunMoney=[],o=0,i=a.size();o<i;o++)this.fishBD.listGunMoney.push(a.getInt(o));this.fishBD.fishBDView.initItemBoomDrop(),this.fishBD.playerMng.initListPlayer(e),this.fishBD.fishMng.addListFish(t.getSFSArray("listFish")),this.fishBD.fishMng.setFishConfig(t.getSFSArray("listFishConfig")),r.Windown.BotController&&(cc.log("start bot ne"),r.Windown.FishBongDem.fishBDView.startBot()),r.Windown.FishBongDem.getSound().reset()}}else this.fishBD.sendRequest(s.default.InfoFishRoomBD,null)},e}(t("./IResponseBD").default);n.default=a,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./CODE_EVT":"CODE_EVT","./IResponseBD":"IResponseBD"}],HandleNotFindFishBD:[function(t,e,n){"use strict";cc._RF.push(e,"0b71fiYDtRJIbhoQGNickHG","HandleNotFindFishBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){var e=this.fishBD.fishMng.getFishById(t.getInt("FishId"));e&&(cc.log("fish bi remove type : "+e.fishType),cc.log("fish bi remove id : "+e.fishId),e.removeFishFromList(),e.destroy())},e}(t("./IResponseBD").default);n.default=r,cc._RF.pop()},{"./IResponseBD":"IResponseBD"}],HandleOtherJoinRoom:[function(t,e,n){"use strict";cc._RF.push(e,"e62679SqWpHkKAsLF/s3QPK","HandleOtherJoinRoom");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){this.fishBD.playerMng&&(cc.log("co thang vao room"),this.fishBD.playerMng.addPlayer(t))},e}(t("./IResponseBD").default);n.default=r,cc._RF.pop()},{"./IResponseBD":"IResponseBD"}],HandlePlayerUsingItemFishBD:[function(t,e,n){"use strict";cc._RF.push(e,"5e260TM9QJOTZWC/a4NwlKP","HandlePlayerUsingItemFishBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Windown"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){var e=t.getInt("id"),n=t.getSFSArray("ItemFish"),o=this.fishBD.playerMng.getPlayerById(e);null!=o&&(o.updateItem(t),o.isMe&&(r.Windown.Dialog.checkAndShowLog(t,!1),this.fishBD.fishBDView.setItemInfo(n)))},e}(t("./IResponseBD").default);n.default=s,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./IResponseBD":"IResponseBD"}],HandleRemoveAllListFishBD:[function(t,e,n){"use strict";cc._RF.push(e,"d472dNGu/1Dt60/vc4MgKrx","HandleRemoveAllListFishBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Windown"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){t.getSFSArray("listId"),"caTran"==t.getUtfString("typeNext")&&(this.fishBD.fishBDView.comingCaTran(),this.fishBD.getSound().playEffect(this.fishBD.getSound().nextTurn)),this.fishBD.fishBDView.showNextTurn();for(var e=r.Windown.FishBongDem.fishMng.getMapFish().values(),n=e.next();!n.done;){var o=n.value;n=e.next(),o.removeFishFromList(),o.playAniNewTurn()}},e}(t("./IResponseBD").default);n.default=s,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./IResponseBD":"IResponseBD"}],HandleRemoveListFishBD:[function(t,e,n){"use strict";cc._RF.push(e,"a64aey57yVLo568Qn21p/u8","HandleRemoveListFishBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){var e=t.getSFSArray("listId");"caTran"==t.getUtfString("typeNext")&&(this.fishBD.fishBDView.comingCaTran(),this.fishBD.getSound().playEffect(this.fishBD.getSound().nextTurn)),this.fishBD.fishBDView.showNextTurn();for(var n=0,o=e.size();n<o;n++){var i=e.getInt(n),r=this.fishBD.fishMng.getFishById(i);r&&(r.removeFishFromList(),r.playAniNewTurn())}},e}(t("./IResponseBD").default);n.default=r,cc._RF.pop()},{"./IResponseBD":"IResponseBD"}],HandleRotateGunBD:[function(t,e,n){"use strict";cc._RF.push(e,"8794c94xBhMyZp8CtsjlX5y","HandleRotateGunBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/DefineTs/PlayerPP"),s=t("../../../../Scritps/Windown"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){var e=t.getBool("iA"),n=t.getInt(r.PlayerPP.AccountId),o=this.fishBD.playerMng.getPlayerById(n);if(o&&!o.isMe)if(e){cc.log("isA1: "+e);var i=cc.v2();i.x=t.get("x"),i.y=t.get("y"),s.Windown.FishBongDem.convertVec(i),o.rotateGun(i)}else cc.log("isA2: "+e),o.cancleGun()},e}(t("./IResponseBD").default);n.default=a,cc._RF.pop()},{"../../../../Scritps/DefineTs/PlayerPP":"PlayerPP","../../../../Scritps/Windown":"Windown","./IResponseBD":"IResponseBD"}],HandleSetTimeFishEffectBD:[function(t,e,n){"use strict";cc._RF.push(e,"bdb5dNpv1dEyaNDCijEE2S0","HandleSetTimeFishEffectBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Windown"),s=t("../Fish/EffectGun/EffectSet"),a=t("../Fish/FishStateBD"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){for(var e=t.getSFSArray("listFishTime"),n=0,o=e.size();n<o;n++){var i=e.getSFSObject(n),s=i.getInt("IdFish"),c=i.getInt("State"),l=i.getFloat("Time")-r.Windown.LagValue,u=this.fishBD.fishMng.getFishById(s);if(!u)return;var p=i.get("Name");if(l<=0)return;c==a.default.ICE?u.setTimeEffectIce(l):c==a.default.WATING&&u.setTimeEffectWating(l),this.getStateByName(p).setFish(u,l).execute()}},e.prototype.getStateByName=function(t){var e=null;switch(t){case"GunSet":e=r.Windown.FishBongDem.pool.getEfGiatSet().getComponent(s.default)}return e},e}(t("./IResponseBD").default);n.default=c,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","../Fish/EffectGun/EffectSet":"EffectSet","../Fish/FishStateBD":"FishStateBD","./IResponseBD":"IResponseBD"}],HandleTakeItemFish:[function(t,e,n){"use strict";cc._RF.push(e,"4cf3fGRrmdKNLB5qB8FMDod","HandleTakeItemFish");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/DefineTs/PlayerPP"),s=t("../../../../Scritps/Windown"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){var e=t.getBool("iA"),n=t.getInt(r.PlayerPP.AccountId),o=this.fishBD.playerMng.getPlayerById(n);if(o&&!o.isMe)if(e){cc.log("isA1: "+e);var i=cc.v2();i.x=t.get("x"),i.y=t.get("y"),s.Windown.FishBongDem.convertVec(i),o.rotateGun(i)}else cc.log("isA2: "+e),o.cancleGun()},e}(t("./IResponseBD").default);n.default=a,cc._RF.pop()},{"../../../../Scritps/DefineTs/PlayerPP":"PlayerPP","../../../../Scritps/Windown":"Windown","./IResponseBD":"IResponseBD"}],HandleTimeOutPlayBD:[function(t,e,n){"use strict";cc._RF.push(e,"53fbdXruVFChqMxrIZMcDgD","HandleTimeOutPlayBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/DefineTs/PlayerPP"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){this.fishBD.fishBDView.timeOut.show(t.getUtfString(r.PlayerPP.MESSAGE))},e}(t("./IResponseBD").default);n.default=s,cc._RF.pop()},{"../../../../Scritps/DefineTs/PlayerPP":"PlayerPP","./IResponseBD":"IResponseBD"}],HandleUsingItemDrag:[function(t,e,n){"use strict";cc._RF.push(e,"c1610otswFMc6dBN4aX75Yk","HandleUsingItemDrag");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(t){t.get("Type");var e=t.get("AccountId"),n=this.fishBD.playerMng.getPlayerById(e),o=t.getSFSObject("info"),i=t.getLong("Id");n&&n.usingItemDrag(i,o)},e}(t("./IResponseBD").default);n.default=r,cc._RF.pop()},{"./IResponseBD":"IResponseBD"}],HelpBongDem:[function(t,e,n){"use strict";cc._RF.push(e,"1e06c4OLL9KxbiVqkZUbQeL","HelpBongDem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.page=null,e.lbTitle=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.node.angle=s.Windown.UIManager.isVertical?0:90},e.prototype.onClickClose=function(){var t=this;s.Windown.actionEffectClosePopup(this.node,function(){t.node.active=!1})},e.prototype.onClickChangePage=function(t,e){var n=this.page.getCurrentPageIndex();"next"==e?n++:n--,this.checkCurrentIndex(n),this.page.scrollToPage(n,.3)},e.prototype.checkCurrentIndex=function(t){switch(t){case 0:this.lbTitle.string="H\u1ec6 S\u1ed0 C\xc1";break;case 1:case 2:this.lbTitle.string="C\xc1 \u0110\u1eb6C BI\u1ec6T";break;case 3:case 4:this.lbTitle.string="BOSS";break;case 5:case 6:this.lbTitle.string="H\u1ea2I TH\u1ea6N";break;case 5:this.lbTitle.string=""}t==this.page.getPages().length?cc.find("next",this.node).getComponent(cc.Button).interactable=!1:0==t?cc.find("pre",this.node).getComponent(cc.Button).interactable=!1:(cc.find("next",this.node).getComponent(cc.Button).interactable=!0,cc.find("pre",this.node).getComponent(cc.Button).interactable=!0)},e.prototype.show=function(){s.Windown.actionEffectOpenPopup(this.node)},e.prototype.onDestroy=function(){},r([l(cc.PageView)],e.prototype,"page",void 0),r([l(cc.Label)],e.prototype,"lbTitle",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],HelpMiniPoker:[function(t,e,n){"use strict";cc._RF.push(e,"b500fmUPq1OwpLhtuuFSOae","HelpMiniPoker");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){s.Windown.HuongDanChoiMiniPoker=this},e.prototype.start=function(){},e.prototype.show=function(){s.Windown.UIManager.hideLoading(),s.Windown.actionEffectOpenPopup(this.node)},e.prototype.close=function(){var t=this;s.Windown.actionEffectClosePopup(this.node,function(){t.node.active=!1})},e.prototype.onDestroy=function(){s.Windown.HuongDanChoiMiniPoker=null},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],HelpTruTien:[function(t,e,n){"use strict";cc._RF.push(e,"64da4M2APhEE6JRHGcrLsbP","HelpTruTien");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},r([c(cc.Label)],e.prototype,"label",void 0),r([c],e.prototype,"text",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],HistoryMiniPoker:[function(t,e,n){"use strict";cc._RF.push(e,"a1feb2ReYFCuLJcu64wiyeh","HistoryMiniPoker");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Popup/PageData/PageData"),a=t("../../../Scritps/Windown"),c=t("./MiniPokerHistoryItem"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.pageDate=null,e.listData=null,e.maxRow=5,e}return i(e,t),e.prototype.onLoad=function(){a.Windown.HistoryMiniPoker=this},e.prototype.start=function(){a.Windown.UIManager.showLoading(),a.Windown.MiniPoker.getLichSu()},e.prototype.responseServer=function(t){cc.log("HISTORYMINIPOKER="+a.Windown.SFSObjToJson(t)),this.initWithListData(t.getSFSArray("history")),a.Windown.UIManager.hideLoading()},e.prototype.show=function(){a.Windown.UIManager.hideLoading(),a.Windown.actionEffectOpenPopup(this.node)},e.prototype.close=function(){var t=this;a.Windown.actionEffectClosePopup(this.node,function(){t.node.active=!1})},e.prototype.onDestroy=function(){a.Windown.HistoryMiniPoker=null},e.prototype.initWithListData=function(t){var e=t.size(),n=parseInt(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var a=n[r];if(i<this.listData.size()){null==a&&(a=cc.instantiate(o),e.addChild(a),a.y=-(r+1)*a.height+a.height/2);var l=this.listData.getSFSObject(i);a.getComponent(c.default).initItem(l),a.active=!0,i++}else{if(!a)break;a.active=!1}}},r([p(cc.Label)],e.prototype,"label",void 0),r([p(s.default)],e.prototype,"pageDate",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/Popup/PageData/PageData":"PageData","../../../Scritps/Windown":"Windown","./MiniPokerHistoryItem":"MiniPokerHistoryItem"}],HistoryTaiXiu:[function(t,e,n){"use strict";cc._RF.push(e,"ff4fcF+IXRDPIdqd6qFPT61","HistoryTaiXiu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.itemTemp=null,e.listSp=[],e.xStart=-1,e.listHistory=[],e}return i(e,t),e.prototype.onLoad=function(){this.xStart=this.itemTemp.x},e.prototype.init=function(t){this.listHistory=t;for(var e=cc.misc.clampf(t.length-17,0,t.length-2),n=this.itemTemp.width,o=this.xStart,i=e,r=t.length;i<r;i++){var s=this.parentItem.children[i-e];null==s&&((s=cc.instantiate(this.itemTemp)).parent=this.parentItem),s.stopAllActions(),s.x=o,s.getComponent(cc.Sprite).spriteFrame=this.listSp[t[i].result>10?0:1],o+=n+5.3}var a=this.parentItem.children[this.parentItem.childrenCount-1];a&&(a.scale=1.2,a.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.3,.8),cc.scaleTo(.3,1.2)))))},e.prototype.addResult=function(t,e){var n=Object.create(null);n.result=t,n.view=e,this.listHistory.shift(),this.listHistory.push(n),this.init(this.listHistory,!0)},r([c(cc.Node)],e.prototype,"parentItem",void 0),r([c(cc.Node)],e.prototype,"itemTemp",void 0),r([c([cc.SpriteFrame])],e.prototype,"listSp",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],HoTro:[function(t,e,n){"use strict";cc._RF.push(e,"4a5edAyDbhEsKNfiQP0Kcy5","HoTro");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/REQUEST_CODE"),a=t("../../Network/ConectManager"),c=t("../../Windown"),l=t("./ItemAdminOnline"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentContent=null,e.nodeMenu=null,e}return i(e,t),e.prototype.onLoad=function(){c.Windown.HoTro=this},e.prototype.onDestroy=function(){c.Windown.HoTro=null},e.prototype.onEnable=function(){cc.systemEvent.on(s.REQUEST_CODE.GetListAdminOnline,this.onResponseListAdmin,this)},e.prototype.onDisable=function(){cc.systemEvent.off(s.REQUEST_CODE.GetListAdminOnline,this.onResponseListAdmin,this)},e.prototype.show=function(){c.Windown.actionEffectOpen(this.node),this.nodeMenu.active=!0,this.parentContent.parent.active=!1},e.prototype.onClickTele=function(){c.Windown.LinkTele&&cc.sys.openURL(c.Windown.LinkTele)},e.prototype.onClickOnline=function(){a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.GetListAdminOnline,null)},e.prototype.onResponseListAdmin=function(t){c.Windown.Dialog.checkAndShowLog(t),this.nodeMenu.active=!1,this.parentContent.parent.active=!0;for(var e=t.getSFSArray("listData"),n=this.parentContent.children[0],o=this.parentContent.children,i=0,r=e.size();i<r;i++){var s=o[i];null==s&&((s=cc.instantiate(n)).parent=this.parentContent),s.active=!0,s.getComponent(l.default).initItem(e.getSFSObject(i))}for(i=e.size();i<o.length;i++)o[i].active=!1},e.prototype.onClickClose=function(){var t=this;c.Windown.actionEffectClose(this.node,function(){t.node.parent=null})},r([h(cc.Node)],e.prototype,"parentContent",void 0),r([h(cc.Node)],e.prototype,"nodeMenu",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../Network/ConectManager":"ConectManager","../../Windown":"Windown","./ItemAdminOnline":"ItemAdminOnline"}],HomThuController:[function(t,e,n){"use strict";cc._RF.push(e,"235fdZDO1xNuZk1cE75Z4E4","HomThuController");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../DefineTs/EVENT_MANAGER"),s=t("../../DefineTs/PathResource"),a=t("../../DefineTs/REQUEST_CODE"),c=t("../../Network/ConectManager"),l=t("../../Windown"),u=t("./HomThu"),p=function(){function t(){this.listMail=null,this.mailView=null,this.countNotRead=0,this.listMail=[],cc.systemEvent.on(r.EVENT_MANAGER.LOGIN,this.onLogin,this),cc.systemEvent.on(a.REQUEST_CODE.GetMail,this.responseMail,this),cc.systemEvent.on(a.REQUEST_CODE.AddMail,this.responseAddMail,this),cc.systemEvent.on(a.REQUEST_CODE.DeleteMail,this.responseDelMail,this),cc.systemEvent.on(a.REQUEST_CODE.ReadMail,this.responseReadMail,this)}return t.prototype.onLogin=function(){this.listMail=[],c.ConectManager.getIns().sendRequest(a.REQUEST_CODE.GetMail,null)},t.prototype.responseMail=function(t){this.listMail=[],this.countNotRead=0;for(var e=t.getSFSArray("listMail"),n=e.size()-1;n>=0;n--)this.listMail.push(e.getSFSObject(n));var o=0;this.listMail.forEach(function(t){0==t.getInt("status")&&o++}),this.countNotRead=o,l.Windown.MainView&&l.Windown.MainView.updateNumNotReadMail(this.countNotRead),this.refeshMail()},t.prototype.responseReadMail=function(t){l.Windown.Dialog.checkAndShowLog(t,!1);var e=t.getInt("idMail"),n=this.getSFSMailById(e);n&&n.putInt("status",1),this.countNotRead--,l.Windown.MainView&&l.Windown.MainView.updateNumNotReadMail(this.countNotRead),this.refeshMail()},t.prototype.getSFSMailById=function(t){for(var e=0,n=this.listMail.length;e<n;e++)if(this.listMail[e].getInt("idMail")==t)return this.listMail[e];return null},t.prototype.responseAddMail=function(t){this.listMail.unshift(t),this.countNotRead++,l.Windown.MainView&&l.Windown.MainView.updateNumNotReadMail(this.countNotRead),this.refeshMail(),l.Windown.UIManager.showNotiMesage(t)},t.prototype.responseDelMail=function(t){this.mailView.onClickBack(),l.Windown.Dialog.checkAndShowLog(t);for(var e=t.getInt("idMail"),n=0,o=this.listMail.length;n<o;n++)if(this.listMail[n].getInt("idMail")==e){this.listMail.splice(n,1);break}this.refeshMail()},t.prototype.refeshMail=function(){this.mailView&&this.mailView.node.active&&this.mailView.initListMail(this.listMail)},t.prototype.showMailView=function(t){return o(this,void 0,void 0,function(){var e;return i(this,function(n){switch(n.label){case 0:return l.Windown.UIManager.showLoading(),null!=this.mailView?[3,2]:[4,l.Windown.getPrefabRes(s.PathResource.HomThu)];case 1:e=n.sent(),this.mailView=cc.instantiate(e).getComponent(u.default),n.label=2;case 2:return this.mailView.node.parent=l.Windown.UIManager.parentPopup,this.mailView.show(t,this.listMail),l.Windown.UIManager.hideLoading(),[2]}})})},t}();n.default=p,cc._RF.pop()},{"../../DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../DefineTs/PathResource":"PathResource","../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../Network/ConectManager":"ConectManager","../../Windown":"Windown","./HomThu":"HomThu"}],HomThu:[function(t,e,n){"use strict";cc._RF.push(e,"9bb16uPv1NK+Lr3lcetbdRx","HomThu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/REQUEST_CODE"),a=t("../../Network/ConectManager"),c=t("../../Parent/BaseScrollView"),l=t("../../Windown"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeInfo=null,e.nodeListMail=null,e.scr=null,e.lbTieuDe=null,e.lbSender=null,e.lbTime=null,e.lbInfo=null,e.currentId=-1,e.idMailShow=-1,e}return i(e,t),e.prototype.onLoad=function(){l.Windown.HomThu=this},e.prototype.show=function(t,e){var n=this;l.Windown.actionEffectOpen(this.node,function(){n.initListMail(e)}),t&&(this.idMailShow=t)},e.prototype.initListMail=function(t){this.scr.resetScr();for(var e=0,n=t.length;e<n;e++)t[e].putInt("index",e+1);this.scr.init(t,50*t.length,50),-1!=this.idMailShow&&this.updateInfo(l.Windown.HomThuController.getSFSMailById(this.idMailShow)),this.idMailShow=-1},e.prototype.updateInfo=function(t){if(null!=t){var e=t.getInt("idMail"),n=t.getUtfString("header"),o=t.getLong("time"),i=t.getUtfString("info"),r=t.getUtfString("sender");this.currentId=e,this.lbInfo.string=i,this.lbSender.string=r,this.lbTieuDe.string=n,this.lbTime.string=l.Windown.getFullTime(o),this.nodeInfo.active=!0,cc.tween(this.nodeInfo).set({y:cc.winSize.height/2+this.node.height/2,opacity:0}).to(.2,{y:0,opacity:255},{easing:cc.easing.sineIn}).start();var c=a.ConectManager.getIns().getSFSObj();c.putInt("idMail",this.currentId),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.ReadMail,c)}},e.prototype.onClickXoa=function(){if(-1!=this.currentId){l.Windown.UIManager.showLoading();var t=a.ConectManager.getIns().getSFSObj();t.putInt("idMail",this.currentId),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.DeleteMail,t)}},e.prototype.onClickBack=function(){var t=this;this.currentId=-1,cc.tween(this.nodeInfo).to(.2,{y:cc.winSize.height/2+this.node.height/2,opacity:0},{easing:cc.easing.sineOut}).call(function(){t.nodeInfo.active=!1}).start()},e.prototype.onClickClose=function(){var t=this;l.Windown.actionEffectClose(this.node,function(){t.node.parent=null})},e.prototype.onDisable=function(){this.onClickBack(),l.Windown.HomThu=null},r([h(cc.Node)],e.prototype,"nodeInfo",void 0),r([h(cc.Node)],e.prototype,"nodeListMail",void 0),r([h(c.default)],e.prototype,"scr",void 0),r([h(cc.Label)],e.prototype,"lbTieuDe",void 0),r([h(cc.Label)],e.prototype,"lbSender",void 0),r([h(cc.Label)],e.prototype,"lbTime",void 0),r([h(cc.Label)],e.prototype,"lbInfo",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../Network/ConectManager":"ConectManager","../../Parent/BaseScrollView":"BaseScrollView","../../Windown":"Windown"}],Http:[function(t,e,n){"use strict";cc._RF.push(e,"dff945esZlLIrYD0vXj3HEe","Http");var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Windown"),r=cc._decorator,s=r.ccclass,a=(r.property,function(){function t(){}return t.post=function(t,e,n,o,r){void 0===o&&(o=!1),void 0===r&&(r=!0);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status){var t=null,e=null;try{t=JSON.parse(s.responseText)}catch(o){e=o}i.Windown.UIManager.hideLoading(),n(e,t)}else i.Windown.UIManager.hideLoading(),n(s.status,null)},s.open("POST",t,!0),s.setRequestHeader("Content-type","application/json"),o?s.send(JSON.stringify(e)):s.send("")},t.postNoToken=function(t,e,n,o,r){void 0===o&&(o=!1),void 0===r&&(r=!0),r&&i.Windown.UIManager.showLoading();var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status){var t=null,e=null;try{t=JSON.parse(s.responseText)}catch(o){e=o}i.Windown.UIManager.hideLoading(),n(e,t)}else i.Windown.UIManager.hideLoading(),n(s.status,null)},s.open("POST",t,!0),s.setRequestHeader("Content-type","application/json"),o?(s.send(JSON.stringify(e)),cc.log("params:",e)):s.send("")},t.get=function(t,e,n,o){void 0===o&&(o=!0),o&&i.Windown.UIManager.showLoading();var r=cc.loader.getXMLHttpRequest();if(null!==(e=e||{})){Object.keys(e).length;for(var s in e)e.hasOwnProperty(s)&&(e[s],0)}r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status){var t=null,e=null;try{t=JSON.parse(r.responseText)}catch(o){e=o}i.Windown.UIManager.hideLoading(),n(e,t)}else i.Windown.UIManager.hideLoading(),n(r.status,null)};var a=t;r.open("GET",a,!0),r.send()},t.getNoToken=function(t,e,n,o){void 0===o&&(o=!0),o&&i.Windown.UIManager.showLoading();var r=new XMLHttpRequest,s="";if(null!==(e=e||{})){var a=0,c=Object.keys(e).length;for(var l in e)e.hasOwnProperty(l)&&(s+=l+"="+e[l],a++<c-1&&(s+="&"))}cc.log("getNoToken:"+s),t=t+"?"+s,r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status){var t=null,e=null;try{t=JSON.parse(r.responseText)}catch(o){e=o}i.Windown.UIManager.hideLoading(),n(e,t)}else i.Windown.UIManager.hideLoading(),n(r.status,null)};var u=t;cc.log("GET LINK:"+u),r.open("GET",u,!0),r.send()},t.encryptData=function(t){for(var e=JSON.stringify(t),n=[],o=0;o<e.length;o++)n.push(e.charCodeAt(o)+12);return{data:(n=n.reverse()).join("&")}},t.deencryptData=function(t){for(var e=t.split("&"),n=[],o=0;o<e.length;o++)n.push(String.fromCharCode(parseInt(e[o])-12));return n=n.reverse(),JSON.parse(n.join(""))},o([s],t)}());n.default=a,cc._RF.pop()},{"../Windown":"Windown"}],HuongDan:[function(t,e,n){"use strict";cc._RF.push(e,"1063alBA/dIzqKPqymR44h3","HuongDan");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onClickClose=function(){this.node.destroy()},e.prototype.onClickOpenLink=function(){cc.sys.openURL("https://md5.services/")},r([a],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],IDataFinish:[function(t,e,n){"use strict";cc._RF.push(e,"1bde2Gu7V1GHrvpCDs92NiA","IDataFinish"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],IResponseBD:[function(t,e,n){"use strict";cc._RF.push(e,"c97c5uK8hxKrpTInGcdHNKe","IResponseBD"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.fishBD=null}return t.prototype.setBD=function(t){this.fishBD=t},t.prototype.send=function(t,e){this.fishBD.sendRequest(t,e)},t}();n.default=o,cc._RF.pop()},{}],IServerResponse:[function(t,e,n){"use strict";cc._RF.push(e,"7e101/DKHhES7RN+6nIlRTy","IServerResponse"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../../Scritps/Windown"),i=function(){function t(){o.Windown.XengController.canSendData(!0)}return t.prototype.getGameController=function(){return o.Windown.XengController},t.prototype.setGameView=function(t){this.xengController=t},t.prototype.sendToServer=function(t,e){this.xengController.sendToServer(t,e)},t}();n.default=i,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown"}],IconShowPass:[function(t,e,n){"use strict";cc._RF.push(e,"f532bKYrlJCl53ig3QeQ8UL","IconShowPass");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.edbPass=null,e.sprite=null,e.sfIcon=[],e.isShow=!1,e}return i(e,t),e.prototype.start=function(){},e.prototype.onClickChange=function(){this.edbPass.inputFlag==cc.EditBox.InputFlag.PASSWORD?(this.edbPass.inputFlag=cc.EditBox.InputFlag.DEFAULT,this.sprite.spriteFrame=this.sfIcon[1]):(this.edbPass.inputFlag=cc.EditBox.InputFlag.PASSWORD,this.sprite.spriteFrame=this.sfIcon[0])},r([c(cc.EditBox)],e.prototype,"edbPass",void 0),r([c(cc.Sprite)],e.prototype,"sprite",void 0),r([c([cc.SpriteFrame])],e.prototype,"sfIcon",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],ImgChat:[function(t,e,n){"use strict";cc._RF.push(e,"87641S8St5NtbIcLG7SJZBj","ImgChat");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spMain=null,e}return i(e,t),e.prototype.onLoad=function(){s.Windown.ImgChat=this},e.prototype.onDestroy=function(){s.Windown.ImgChat=null},e.prototype.show=function(t){this.spMain.spriteFrame=t},e.prototype.onClickClose=function(){this.node.parent=null},r([l(cc.Sprite)],e.prototype,"spMain",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../Windown":"Windown"}],InfoBarControllerAiCap:[function(t,e,n){"use strict";cc._RF.push(e,"f80bbuGacVN4Z/bheE1ukOw","InfoBarControllerAiCap");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Obs/LbMoneyChange"),l=t("../../../Scritps/Other/LbMonoSpace"),u=t("../../../Scritps/Windown"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbMoney=null,e.parentContent=null,e.info_glow_b=null,e.info_glow_c=null,e.info_glow_e=null,e.catroi=null,e.lbTotalWin=null,e.parrentMoney=null,e.infoBarMutiple=null,e.sonhantong=null,e.sonhanthuong=null,e.lbWinMulti=null,e.flare=null,e._totalMultiple=0,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.parentContent.x=360,this.parentContent.runAction(cc.repeatForever(cc.sequence(cc.moveTo(80,-3333,4.555),cc.callFunc(function(){t.parentContent.x=272})))),this.showRdContent()},e.prototype.update=function(){this.parrentMoney.children[1].width=.15*this.parrentMoney.children[1].children[0].width},e.prototype.showRdContent=function(){this.parentContent.active=!0,this.parrentMoney.active=!1},e.prototype.showTakeMoney=function(t){return s(this,void 0,void 0,function(){var e=this;return a(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e,o=this;return a(this,function(i){switch(i.label){case 0:return n(null),this.parentContent.active=!1,this.parrentMoney.active=!0,e=u.Windown.AiCap.curRoomBet*u.Windown.AiCap.totalLineBet,t/e<10?(u.Windown.AiCap.audio.playEffect(u.Windown.AiCap.audio.prize_smallwin),this.lbTotalWin.resetLb(),this.lbTotalWin.setMoneyNoTime(t),this.info_glow_c.getComponent(cc.Animation).play(),this.catroi.active=!0,[4,u.Windown.AiCap.getMakeDelay(.15).prosime]):[3,3];case 1:return i.sent(),this.info_glow_b.getComponent(cc.Animation).play(),[4,u.Windown.AiCap.getMakeDelay(.2).prosime];case 2:return i.sent(),this.catroi.getComponent(cc.Animation).play(),[3,4];case 3:u.Windown.AiCap.audio.playEffect(u.Windown.AiCap.audio.prize_mediumwin_counting),this.lbTotalWin.resetLb(),this.lbTotalWin.time=2.7,this.lbTotalWin.setMoney(t),this.info_glow_c.active=!0,this.info_glow_b.active=!0,this.catroi.active=!0,this.info_glow_c.getComponent(cc.Animation).play(),this.scheduleOnce(function(){o.scheduleOnce(function(){o.catroi.getComponent(cc.Animation).play()},.2),o.info_glow_b.getComponent(cc.Animation).play()},.15),this.scheduleOnce(function(){u.Windown.AiCap.audio.playEffect(u.Windown.AiCap.audio.prize_smallwin),o.scheduleOnce(function(){o.info_glow_b.getComponent(cc.Animation).play()},.5)},2.2),i.label=4;case 4:return[2]}})})})]})})},e.prototype.reset=function(){},e.prototype.showTotalMoney=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return 0==t?(n(null),[2]):(u.Windown.AiCap.curRoomBet*u.Windown.AiCap.totalLineBet,this.parentContent.active=!1,this.lbTotalWin.time=1,this.lbTotalWin.resetLb(),this.lbTotalWin.setMoney(t),u.Windown.AiCap.audio.playEffect(u.Windown.AiCap.audio.prize_payout),[4,u.Windown.AiCap.getMakeDelay(1).prosime]);case 1:return e.sent(),n(null),[2]}})})})},e.prototype.showSoNhanTong=function(t){var e=this;this._totalMultiple+=t,this.lbWinMulti.node.scale=1,this.flare.opacity=255,this.flare.scale=0,this.flare.active=!0,this.flare.getComponent(cc.Animation).play(),this.scheduleOnce(function(){e.sonhanthuong.active=!1,e.sonhantong.active=!0,e.lbWinMulti.node.scale=1,e.lbWinMulti.string="x"+e._totalMultiple,e.lbWinMulti.node.runAction(cc.sequence(cc.scaleTo(.06,.2),cc.scaleTo(.06,1.3),cc.scaleTo(.06,1)))},.1)},e.prototype.showInfobarMultiplier=function(){this.infoBarMutiple.position.y=85,this._totalMultiple=0,this.sonhanthuong.active=!0,this.sonhantong.active=!1,this.infoBarMutiple.stopAllActions(),this.infoBarMutiple.runAction(cc.sequence(cc.moveTo(.2,cc.v2(0,7)),cc.moveTo(.07,cc.v2(0,0)),cc.moveTo(.07,cc.v2(0,7)),cc.moveTo(.07,cc.v2(0,0))))},e.prototype.showTongBonus=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t=this;return a(this,function(){return this.parrentMoney.active=!0,this.info_glow_b.active=!0,this.info_glow_e.active=!0,this.catroi.active=!0,this.info_glow_e.getComponent(cc.Animation).play(),this.scheduleOnce(function(){t.info_glow_b.getComponent(cc.Animation).play()},.15),this.scheduleOnce(function(){t.scheduleOnce(function(){t.info_glow_b.getComponent(cc.Animation).play()},.5)},2.2),this.hideInfoBarMultipler(),e(null),[2]})})})},e.prototype.hideInfoBarMultipler=function(){this.infoBarMutiple.runAction(cc.moveTo(1,cc.v2(0,85)))},r([d(c.default)],e.prototype,"lbMoney",void 0),r([d(cc.Node)],e.prototype,"parentContent",void 0),r([d(cc.Node)],e.prototype,"info_glow_b",void 0),r([d(cc.Node)],e.prototype,"info_glow_c",void 0),r([d(cc.Node)],e.prototype,"info_glow_e",void 0),r([d(cc.Node)],e.prototype,"catroi",void 0),r([d(l.default)],e.prototype,"lbTotalWin",void 0),r([d(cc.Node)],e.prototype,"parrentMoney",void 0),r([d(cc.Node)],e.prototype,"infoBarMutiple",void 0),r([d(cc.Node)],e.prototype,"sonhantong",void 0),r([d(cc.Node)],e.prototype,"sonhanthuong",void 0),r([d(cc.Label)],e.prototype,"lbWinMulti",void 0),r([d(cc.Node)],e.prototype,"flare",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Windown":"Windown"}],InfoBarControllerAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"177fbb9ZJ1E3rxIKIDRpP3m","InfoBarControllerAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbMoney=null,e.spTotalWin=null,e.spWin=null,e.spInfoBar=null,e.listInfoBar=[],e.spMaskInfoBar=[],e.parentOneMore=null,e.parentContent=null,e.parentMoney=null,e.anhSang=null,e.smallWin=null,e.isShowOneMoreScater=!1,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.showRdContent(),this.parentContent.x=360,this.parentContent.runAction(cc.repeatForever(cc.sequence(cc.moveTo(65,-4779.665,20),cc.callFunc(function(){t.parentContent.x=306.493}))))},e.prototype.showRdContent=function(){this.parentContent.active=!0,this.parentOneMore.active=!1,this.parentMoney.active=!1},e.prototype.showOneMoreScater=function(){this.isShowOneMoreScater||(this.isShowOneMoreScater=!0,this.parentContent.active=!1,this.parentOneMore.active=!0,this.parentMoney.active=!1,this.anhSang.stopAllActions(),this.anhSang.opacity=50,this.anhSang.runAction(cc.repeatForever(cc.sequence(cc.fadeIn(.3).easing(cc.easeSineInOut()),cc.fadeTo(.3,50).easing(cc.easeSineInOut())))),this.parentOneMore.stopAllActions(),this.parentOneMore.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.3,1.15).easing(cc.easeSineInOut()),cc.scaleTo(.3,1).easing(cc.easeSineInOut())))))},e.prototype.effectDropOneMorScater=function(){this.anhSang.stopAllActions(),this.anhSang.opacity=50,this.parentOneMore.stopAllActions(),this.parentOneMore.runAction(cc.sequence(cc.scaleTo(.1,1.18).easing(cc.easeSineOut()),cc.scaleTo(.1,1).easing(cc.easeSineIn()))),this.anhSang.runAction(cc.sequence(cc.fadeIn(.1).easing(cc.easeSineOut()),cc.fadeTo(.1,50).easing(cc.easeSineIn())))},e.prototype.offOneMoreScater=function(){this.parentOneMore.active=!1,this.offAnhSang()},e.prototype.offLbMoney=function(){this.parentMoney.active=!1},e.prototype.offAnhSang=function(){this.anhSang.stopAllActions(),this.anhSang.opacity=50},e.prototype.showTakeMoney=function(t){return s(this,void 0,void 0,function(){var e=this;return a(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e,o;return a(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),u.Windown.Asgard.audio.playEffect(u.Windown.Asgard.audio.prizeSmallwin),this.offAnhSang(),cc.find("ParrentMOney/info_win",this.node).active=!1,this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.lbMoney.setMoneyNoTime(t),(e=this.lbMoney.node.parent).stopAllActions(),e.scale=3,e.opacity=50,e.runAction(cc.spawn(cc.fadeIn(.3),cc.scaleTo(.5,1).easing(cc.easeBackOut()))),u.Windown.Asgard.stateSpin.isMaxSpeed?[3,2]:[4,u.Windown.Asgard.getMakeDelay(1).prosime];case 1:return i.sent(),[3,4];case 2:return[4,u.Windown.Asgard.getMakeDelay(.5).prosime];case 3:i.sent(),i.label=4;case 4:return n(null),[3,6];case 5:return o=i.sent(),l.Util.ThrowErrProsime(o),[3,6];case 6:return[2]}})})})]})})},e.prototype.showTakeMoneyTurn=function(t){return s(this,void 0,void 0,function(){var e=this;return a(this,function(){return[2,new Promise(function(){return s(e,void 0,void 0,function(){var e,n;return a(this,function(){try{cc.find("ParrentMOney/info_win",this.node).active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spWin,e=u.Windown.Asgard.stateSpin.isMaxSpeed?2:1,this.getComponent(cc.Animation).play("Take1").speed=e,this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.node.stopAllActions(),this.lbMoney.setMoneyNoTime(t),(n=this.lbMoney.node.parent).stopAllActions(),n.scale=3,n.opacity=50,n.runAction(cc.spawn(cc.fadeIn(.3/e),cc.scaleTo(.5/e,1).easing(cc.easeBackOut()))),u.Windown.Asgard.stateSpin.freeSpinLeft}catch(o){l.Util.ThrowErrProsime(o)}return[2]})})})]})})},e.prototype.reset=function(){this.spMaskInfoBar.forEach(function(t){return t.node.active=!0}),this.smallWin.active=!1,this.offAnhSang()},e.prototype.showTotalMoney=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r;return a(this,function(s){switch(s.label){case 0:this.offAnhSang(),s.label=1;case 1:return s.trys.push([1,10,,11]),0==t?(n(null),[2]):(this.lbMoney.resetLb(),e=u.Windown.Asgard.stateSpin.isMaxSpeed?2:1,o=u.Windown.Asgard.curRoomBet*u.Windown.Asgard.totalLineBet,(i=t/o)<7?(this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.parentMoney.scale=0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.parentMoney.runAction(cc.scaleTo(.5,1).easing(cc.easeElasticOut(.3))),cc.log("take money3"),this.lbMoney.setMoneyNoTime(t),u.Windown.Asgard.audio.playEffect(u.Windown.Asgard.audio.prizeInfobarTotalwin),[4,u.Windown.Asgard.getMakeDelay(1/e).prosime]):[3,3]);case 2:return s.sent(),[3,9];case 3:return i<=15?(u.Windown.Asgard.audio.playEffect(u.Windown.Asgard.audio.prizeInfobarTotalwinMedMain),u.Windown.Asgard.audio.playSmalWin(),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.node.getComponent(cc.Animation).play("TakeBig"),this.lbMoney.time=2,this.lbMoney.setMoney(t),[4,u.Windown.Asgard.getMakeDelay(2).prosime]):[3,6];case 4:return s.sent(),u.Windown.Asgard.audio.stopEffect(u.Windown.Asgard.audio.prizeInfobarTotalwinMedMain),u.Windown.Asgard.audio.playEffect(u.Windown.Asgard.audio.prizeInfobarTotalwinMedEnd),this.parentMoney.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.2,1))),[4,u.Windown.Asgard.getMakeDelay(.3).prosime];case 5:return s.sent(),[3,9];case 6:return[4,u.Windown.Asgard.getPromise(u.Windown.Asgard.effect.showBigWin(t,i))];case 7:return s.sent(),this.node.getComponent(cc.Animation).play("TakeBig"),this.parentMoney.scale=0,u.Windown.Asgard.audio.playEffect(u.Windown.Asgard.audio.prizeInfobarTotalwin),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.parentMoney.runAction(cc.scaleTo(.5,1).easing(cc.easeElasticOut(.3))),this.lbMoney.setMoneyNoTime(t),[4,u.Windown.Asgard.getMakeDelay(1).prosime];case 8:s.sent(),s.label=9;case 9:return n(null),[3,11];case 10:return r=s.sent(),l.Util.ThrowErrProsime(r),[3,11];case 11:return[2]}})})})},r([d(c.default)],e.prototype,"lbMoney",void 0),r([d(cc.SpriteFrame)],e.prototype,"spTotalWin",void 0),r([d(cc.SpriteFrame)],e.prototype,"spWin",void 0),r([d(cc.Sprite)],e.prototype,"spInfoBar",void 0),r([d([cc.SpriteFrame])],e.prototype,"listInfoBar",void 0),r([d([cc.Sprite])],e.prototype,"spMaskInfoBar",void 0),r([d(cc.Node)],e.prototype,"parentOneMore",void 0),r([d(cc.Node)],e.prototype,"parentContent",void 0),r([d(cc.Node)],e.prototype,"parentMoney",void 0),r([d(cc.Node)],e.prototype,"anhSang",void 0),r([d(cc.Node)],e.prototype,"smallWin",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],InfoBarControllerCaishen:[function(t,e,n){"use strict";cc._RF.push(e,"cc544AfT5NHioVZd1F733PW","InfoBarControllerCaishen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=t("./CaishenSpeedControl"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbMoney=null,e.lbBonus=null,e.spTotalWin=null,e.spWin=null,e.spInfoBar=null,e.listInfoBar=[],e.spMaskInfoBar=[],e.listMaskInfoBar=[],e.parentOneMore=null,e.bgFS=null,e.parentContent=null,e.parentContentFS=null,e.parentMoney=null,e.takeBigWin=null,e.particleChipLeft=null,e.particleChipRight=null,e.isShowOneMoreScater=!1,e.ani=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.parentContent.x=360,this.parentContent.runAction(cc.repeatForever(cc.sequence(cc.moveTo(80,-5723.291,4.555),cc.callFunc(function(){t.parentContent.x=272})))),this.showRdContent(),this.ani=this.getComponent(cc.Animation)},e.prototype.showRdContent=function(){u.Windown.Caishen.stateSpin.freeSpinLeft>0?(this.parentContentFS.active=!0,this.parentContent.active=!1):(this.parentContent.active=!0,this.parentContentFS.active=!1),this.parentOneMore.active=!1,this.parentMoney.active=!1,this.isShowOneMoreScater=!1},e.prototype.showOneMoreScater=function(){this.isShowOneMoreScater||(this.isShowOneMoreScater=!0,this.parentContent.active=!1,this.parentOneMore.active=!0,this.parentMoney.active=!1,this.getComponent(cc.Animation).play("InfoBarOneMoreScater"))},e.prototype.showTakeMoney=function(t){return s(this,void 0,void 0,function(){var e=this;return a(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e,o;return a(this,function(i){switch(i.label){case 0:return u.Windown.Caishen.audio.playEffect(u.Windown.Caishen.audio.prizeSmallwin),cc.find("ParentMoney/win_info",this.node).active=!1,cc.find("ParentMoney/win_info",this.node).getComponent(cc.Sprite).spriteFrame=this.spWin,this.parentContent.active=!1,this.parentContentFS.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.lbMoney.setMoneyNoTime(t),e=this.lbMoney.node.parent,o=u.Windown.Caishen.curRoomBet*u.Windown.Caishen.totalLineBet,t/o<10?(this.getComponent(cc.Animation).play("NormalWin"),this.node.getComponent(p.CaishenSpeedControl).onPlay()):(this.getComponent(cc.Animation).playAdditive("BigWinNormal"),this.node.getComponent(p.CaishenSpeedControl).onPlay()),e.setScale(0,0,0),e.opacity=50,e.runAction(cc.spawn(cc.fadeIn(.3),cc.scaleTo(.5,1).easing(cc.easeBackOut()))),u.Windown.Caishen.stateSpin.isMaxSpeed?[3,2]:[4,u.Windown.Caishen.getMakeDelay(.75).prosime];case 1:return i.sent(),[3,4];case 2:return[4,u.Windown.Caishen.getMakeDelay(.5).prosime];case 3:i.sent(),i.label=4;case 4:return n(null),[2]}})})})]})})},e.prototype.showTakeMoneyTurn=function(t,e){return s(this,void 0,void 0,function(){var n=this;return a(this,function(){return[2,new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s,c;return a(this,function(){try{cc.find("ParentMoney/win_info",this.node).active=!0,cc.find("ParentMoney/win_info",this.node).getComponent(cc.Sprite).spriteFrame=this.spWin,(n=cc.find("FreeSpin/bns_mtp_glow",this.node.parent).getComponent(cc.Animation)).play("bns_mtp_glow_win"),cc.tween(u.Windown.Caishen.lb_BonusFS.node.parent).to(.3,{scale:1.4}).to(.3,{scale:.9}).to(.4,{scale:1},{easing:cc.easing.sineOut}).start(),i=u.Windown.Caishen.stateSpin.isMaxSpeed?2:1,r=u.Windown.Caishen.curRoomBet*u.Windown.Caishen.totalLineBet,s=t/r,1!=e&&u.Windown.Caishen.audio.playEffect(u.Windown.Caishen.audio.prizeInfoSmallwin),s<7?(this.getComponent(cc.Animation).play("NormalWin"),this.node.getComponent(p.CaishenSpeedControl).onPlay()):(this.takeBigWin.active=!0,this.takeBigWin.runAction(cc.fadeIn(.2)),this.getComponent(cc.Animation).playAdditive("BigWinNormal"),this.node.getComponent(p.CaishenSpeedControl).onPlay()),this.parentContent.active=!1,this.parentContentFS.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.lbMoney.setMoneyNoTime(t),(c=this.lbMoney.node.parent).setScale(0,0,0),c.opacity=50,c.runAction(cc.sequence(cc.spawn(cc.fadeIn(.3/i),cc.scaleTo(.5/i,1).easing(cc.easeBackOut())),cc.callFunc(function(){}))),n.play("bns_mtp_glow_normal"),o(null)}catch(a){l.Util.ThrowErrProsime(a)}return[2]})})})]})})},e.prototype.reset=function(){var t=this;cc.log("reset Infobar"),this.spInfoBar.spriteFrame=this.listInfoBar[0],this.spInfoBar.node.width=656,this.spMaskInfoBar.forEach(function(e){e.spriteFrame=t.listMaskInfoBar[0]}),this.ani.stop(),0==u.Windown.Caishen.stateSpin.freeSpinLeft?this.ani.play("NormalState"):(this.ani.play("NormalStateFS"),this.lbBonus.string=u.Windown.Caishen.dataFinish.get("bonusSpin")+"")},e.prototype.offOneMoreScater=function(){},e.prototype.effectDropOneMorScater=function(){this.parentOneMore.stopAllActions(),this.parentOneMore.runAction(cc.sequence(cc.scaleTo(.1,1.18).easing(cc.easeSineOut()),cc.scaleTo(.1,1).easing(cc.easeSineIn())))},e.prototype.showTotalMoney=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,c;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,8,,9]),0==t?(n(null),[2]):(e=u.Windown.Caishen.stateSpin.isMaxSpeed?2:1,o=u.Windown.Caishen.curRoomBet*u.Windown.Caishen.totalLineBet,(i=t/o)<7?(this.parentContent.active=!1,this.parentContentFS.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.parentMoney.setScale(0,0,0),cc.find("ParentMoney/win_info",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.parentMoney.runAction(cc.scaleTo(.5,1).easing(cc.easeBackOut())),this.lbMoney.resetLb(),this.lbMoney.setMoneyNoTime(t),this.node.getComponent(cc.Animation).play("NormalWin"),this.node.getComponent(p.CaishenSpeedControl).onPlay(),u.Windown.Caishen.audio.playEffect(u.Windown.Caishen.audio.prizeInfobarTotalwin),[4,u.Windown.Caishen.getMakeDelay(1/e).prosime]):[3,2]);case 1:return a.sent(),[3,7];case 2:return i>=10?[4,u.Windown.Caishen.getPromise(u.Windown.Caishen.effect.showBigWin(t,i))]:[3,4];case 3:a.sent(),a.label=4;case 4:return u.Windown.Caishen.audio.playEffect(u.Windown.Caishen.audio.prizeInfobarTotalwinAndChip),this.parentContent.active=!1,this.parentContentFS.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParentMoney/win_info",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.lbMoney.resetLb(),this.lbMoney.time=.5,this.lbMoney.setMoney(t),i<10?(this.node.getComponent(cc.Animation).play("BigWinNormal"),this.node.getComponent(p.CaishenSpeedControl).onPlay(),(r=cc.instantiate(this.particleChipLeft.node)).setParent(this.node),r.active=!0,(s=cc.instantiate(this.particleChipRight.node)).setParent(this.node),s.active=!0,this.scheduleOnce(function(){r.destroy(),s.destroy()},2),0==u.Windown.Caishen.stateSpin.freeSpinLeft?(r.setPosition(cc.v2(-285.796,-44.787)),s.setPosition(cc.v2(285.796,-44.787))):(r.setPosition(cc.v2(-285.796,-102.239)),s.setPosition(cc.v2(285.796,-102.239)))):(this.node.getComponent(cc.Animation).play("BigWinTotal"),this.node.getComponent(p.CaishenSpeedControl).onPlay()),[4,u.Windown.Caishen.getMakeDelay(.5).prosime];case 5:return a.sent(),this.parentMoney.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.2,1))),[4,u.Windown.Caishen.getMakeDelay(.3).prosime];case 6:a.sent(),a.label=7;case 7:return n(null),[3,9];case 8:return c=a.sent(),l.Util.ThrowErrProsime(c),[3,9];case 9:return[2]}})})})},r([f(c.default)],e.prototype,"lbMoney",void 0),r([f(c.default)],e.prototype,"lbBonus",void 0),r([f(cc.SpriteFrame)],e.prototype,"spTotalWin",void 0),r([f(cc.SpriteFrame)],e.prototype,"spWin",void 0),r([f(cc.Sprite)],e.prototype,"spInfoBar",void 0),r([f([cc.SpriteFrame])],e.prototype,"listInfoBar",void 0),r([f([cc.Sprite])],e.prototype,"spMaskInfoBar",void 0),r([f([cc.SpriteFrame])],e.prototype,"listMaskInfoBar",void 0),r([f(cc.Node)],e.prototype,"parentOneMore",void 0),r([f(cc.Node)],e.prototype,"bgFS",void 0),r([f(cc.Node)],e.prototype,"parentContent",void 0),r([f(cc.Node)],e.prototype,"parentContentFS",void 0),r([f(cc.Node)],e.prototype,"parentMoney",void 0),r([f(cc.Node)],e.prototype,"takeBigWin",void 0),r([f(cc.ParticleSystem3D)],e.prototype,"particleChipLeft",void 0),r([f(cc.ParticleSystem3D)],e.prototype,"particleChipRight",void 0),r([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./CaishenSpeedControl":"CaishenSpeedControl"}],InfoBarControllerDuaXe:[function(t,e,n){"use strict";cc._RF.push(e,"06acdVNq9VA3oGSfp5jxGWw","InfoBarControllerDuaXe");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.InfoBarControllerDuaXe=void 0;var c=t("../../../Scritps/Other/LbMonoSpace"),l=t("./DuaXeSpeedControl"),u=t("../../../Scritps/Windown"),p=t("../../../Scritps/Util"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentContent=null,e.parentMoney=null,e.parentMoneyEff=null,e.parentOneMore=null,e.lbMoney=null,e.lbMoneyEff=null,e.takeBigWin=null,e.spWin=null,e.spTotalWin=null,e.smallWin=null,e.isShowOneMoreScater=!1,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.showRdContent(),this.parentContent.setPosition(cc.v3(360,17.095)),this.parentContent.runAction(cc.repeatForever(cc.sequence(cc.moveTo(65,cc.v2(-4779.665,17.095)),cc.callFunc(function(){t.parentContent.setPosition(306.493,17.095)}))))},e.prototype.showRdContent=function(){this.parentContent.active=!0,this.parentOneMore.active=!1,this.parentMoney.active=!1,this.isShowOneMoreScater=!1},e.prototype.reset=function(){cc.log("reset Info bar"),this.smallWin.active=!1,this.getComponent(cc.Animation).play("NormalState")},e.prototype.showTakeMoneyTurn=function(t,e){return s(this,void 0,void 0,function(){var n=this;return a(this,function(){return[2,new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s,c=this;return a(this,function(){try{u.Windown.logColor("Infobar showTakeMoneyTurn: "+t+" : x "+e),cc.find("ParrentMOney/info_win",this.node).active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spWin,n=u.Windown.DuaXe.stateSpin.isMaxSpeed?2:1,i=u.Windown.DuaXe.curRoomBet*u.Windown.DuaXe.totalLineBet,r=t/i,1!=e&&u.Windown.DuaXe.audio.playEffect(u.Windown.DuaXe.audio.prizeSmallwinMultiplied),r<7?(this.getComponent(cc.Animation).play("NormalWin"),this.node.getComponent(l.DuaXeSpeedControl).onPlay()):(this.takeBigWin.active=!0,this.takeBigWin.runAction(cc.fadeIn(.2)),this.takeBigWin.once(cc.Animation.EventType.FINISHED,function(){c.getComponent(cc.Animation).play("BigWin"),c.node.getComponent(l.DuaXeSpeedControl).onPlay()})),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.lbMoney.setMoneyNoTime(t),(s=this.lbMoney.node.parent).setScale(0,0,0),s.opacity=50,s.runAction(cc.sequence(cc.spawn(cc.fadeIn(.3/n),cc.scaleTo(.5/n,1).easing(cc.easeBackOut())),cc.callFunc(function(){}))),o(null)}catch(a){p.Util.ThrowErrProsime(a)}return[2]})})})]})})},e.prototype.showTakeMoney=function(t){return s(this,void 0,void 0,function(){var e=this;return a(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,c=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,6,,7]),cc.find("ParrentMOney/info_win",this.node).active=!1,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spWin,this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.lbMoney.setMoneyNoTime(t),e=this.lbMoney.node.parent,o=u.Windown.DuaXe.curRoomBet*u.Windown.DuaXe.totalLineBet,i=t/o,this.lbMoneyEff.setMoneyNoTime(t),this.parentMoneyEff.active=!0,this.parentMoney.active=!1,this.parentMoneyEff.getChildByName("spriteFrame").opacity=255,this.lbMoneyEff.node.setScale(cc.v3(3,3)),this.lbMoneyEff.node.opacity=255,this.lbMoneyEff.node.setPosition(cc.v3(0,-20)),this.parentMoneyEff.getChildByName("spriteFrame").opacity=255,u.Windown.DuaXe.audio.playEffect(u.Windown.DuaXe.audio.prizeSmallwin),r=u.Windown.DuaXe.stateSpin.isMaxSpeed?.5:1,cc.tween(this.parentMoneyEff).set({scale:0}).to(.3*r,{scale:1},{easing:"backOut"}).delay(.5*r).call(function(){cc.tween(c.lbMoneyEff.node).set({scale:3,opacity:255}).to(.1,{scale:1.7,position:cc.v3(0,-200)}).call(function(){u.Windown.DuaXe.audio.playEffect(u.Windown.DuaXe.audio.prizeInfoSmallwin)}).to(.1,{opacity:0}).start(),c.parentMoneyEff.getChildByName("spriteFrame").runAction(cc.fadeOut(.1))}).start(),[4,u.Windown.DuaXe.getMakeDelay(.9*r).prosime];case 1:return a.sent(),i<10?(this.getComponent(cc.Animation).play("NormalWin"),this.node.getComponent(l.DuaXeSpeedControl).onPlay()):(this.getComponent(cc.Animation).play("BigWin"),this.node.getComponent(l.DuaXeSpeedControl).onPlay()),e.active=!0,e.setScale(0,0,0),e.opacity=50,e.runAction(cc.spawn(cc.fadeIn(.3*r),cc.scaleTo(.5*r,1).easing(cc.easeBackOut()))),u.Windown.DuaXe.stateSpin.isMaxSpeed?[3,3]:[4,u.Windown.DuaXe.getMakeDelay(.75).prosime];case 2:return a.sent(),[3,5];case 3:return cc.log("Doi 2 Giay"),[4,u.Windown.DuaXe.getMakeDelay(.4).prosime];case 4:a.sent(),a.label=5;case 5:return n(null),[3,7];case 6:return s=a.sent(),p.Util.ThrowErrProsime(s),[3,7];case 7:return[2]}})})})]})})},e.prototype.offOneMoreScater=function(){},e.prototype.showTotalMoney=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r;return a(this,function(s){switch(s.label){case 0:return s.trys.push([0,8,,9]),0==t?(n(null),[2]):(cc.find("ParrentMOney/info_win",this.node).active=!0,e=u.Windown.DuaXe.stateSpin.isMaxSpeed?2:1,o=u.Windown.DuaXe.curRoomBet*u.Windown.DuaXe.totalLineBet,(i=t/o)<5?(this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.parentMoney.setScale(0,0,0),cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.parentMoney.runAction(cc.scaleTo(.5,1).easing(cc.easeBackOut())),this.lbMoney.resetLb(),this.lbMoney.setMoneyNoTime(t),this.node.getComponent(cc.Animation).play("NormalWin"),this.node.getComponent(l.DuaXeSpeedControl).onPlay(),u.Windown.DuaXe.audio.playEffect(0==u.Windown.DuaXe.bonus?u.Windown.DuaXe.audio.prizeInfobarTotalwin:u.Windown.DuaXe.audio.prizeInfobarTotalwinBonus),[4,u.Windown.DuaXe.getMakeDelay(1/e).prosime]):[3,2]);case 1:return s.sent(),[3,7];case 2:return i<=10?(u.Windown.DuaXe.audio.playEffect(u.Windown.DuaXe.audio.prizeInfobarTotalwinMedMain),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.node.getComponent(cc.Animation).play("NormalWin"),this.node.getComponent(l.DuaXeSpeedControl).onPlay(),this.lbMoney.resetLb(),this.lbMoney.time=2,this.lbMoney.setMoney(t),[4,u.Windown.DuaXe.getMakeDelay(2).prosime]):[3,5];case 3:return s.sent(),this.node.getComponent(cc.Animation).play("BigWin"),this.node.getComponent(l.DuaXeSpeedControl).onPlay(),u.Windown.DuaXe.audio.stopEffect(u.Windown.DuaXe.audio.prizeInfobarTotalwinMedMain),u.Windown.DuaXe.audio.playEffect(u.Windown.DuaXe.audio.prizeInfobarTotalwinMedEnd),this.parentMoney.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.2,1))),[4,u.Windown.DuaXe.getMakeDelay(.3).prosime];case 4:return s.sent(),[3,7];case 5:return this.node.getComponent(cc.Animation).play("BigWin"),this.node.getComponent(l.DuaXeSpeedControl).onPlay(),this.parentMoney.setScale(0,0,0),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.parentMoney.runAction(cc.scaleTo(.5,1).easing(cc.easeElasticOut(.3))),this.lbMoney.resetLb(),this.lbMoney.setMoneyNoTime(t),u.Windown.DuaXe.audio.playEffect(u.Windown.DuaXe.audio.prizeInfobarTotalwin),[4,u.Windown.DuaXe.getPromise(u.Windown.DuaXe.effect.showBigWin(t,i))];case 6:s.sent(),s.label=7;case 7:return n(null),[3,9];case 8:return r=s.sent(),p.Util.ThrowErrProsime(r),[3,9];case 9:return[2]}})})})},e.prototype.showOneMoreScater=function(){this.isShowOneMoreScater||(this.isShowOneMoreScater=!0,this.parentContent.active=!1,this.parentOneMore.active=!0,this.parentMoney.active=!1,u.Windown.stopAllActionByTarget(this.parentOneMore),this.parentOneMore.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.3,1.15).easing(cc.easeSineInOut()),cc.scaleTo(.3,1).easing(cc.easeSineInOut())))))},r([f(cc.Node)],e.prototype,"parentContent",void 0),r([f(cc.Node)],e.prototype,"parentMoney",void 0),r([f(cc.Node)],e.prototype,"parentMoneyEff",void 0),r([f(cc.Node)],e.prototype,"parentOneMore",void 0),r([f(c.default)],e.prototype,"lbMoney",void 0),r([f(c.default)],e.prototype,"lbMoneyEff",void 0),r([f(cc.Node)],e.prototype,"takeBigWin",void 0),r([f(cc.SpriteFrame)],e.prototype,"spWin",void 0),r([f(cc.SpriteFrame)],e.prototype,"spTotalWin",void 0),r([f(cc.Node)],e.prototype,"smallWin",void 0),r([d],e)}(cc.Component);n.InfoBarControllerDuaXe=y,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./DuaXeSpeedControl":"DuaXeSpeedControl"}],InfoBarControllerMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"212ea3xQbNCJoA09DGyCL5i","InfoBarControllerMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c,l=cc._decorator,u=l.ccclass,p=l.property,h=t("../../../Scritps/Other/LbMonoSpace"),d=t("../../../Scritps/Util"),f=t("../../../Scritps/Windown");(function(t){t[t.NORMAL=0]="NORMAL",t[t.BIGWIN=1]="BIGWIN",t[t.TOTALWIN=2]="TOTALWIN"})(c||(c={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbMoney=null,e.spTotalWin=null,e.spWin=null,e.spInfoBar=null,e.listInfoBar=[],e.spMaskInfoBar=[],e.parentOneMore=null,e.parentContent=null,e.parentMoney=null,e.anhSang=null,e.takeBigWin=null,e.takeTotalSuperWin=null,e.nodeTakeMoney=null,e.lapLanh1=null,e.lapLanh2=null,e.isShowOneMoreScater=!1,e.stateBar=c.NORMAL,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.showRdContent(),this.parentContent.setPosition(cc.v3(360,this.parentContent.getPosition().y,0)),this.parentContent.runAction(cc.repeatForever(cc.sequence(cc.moveTo(65,cc.v2(-4779.665)),cc.callFunc(function(){t.parentContent.setPosition(306.493,t.parentContent.getPosition().y)}))))},e.prototype.showRdContent=function(){this.parentContent.active=!0,this.parentOneMore.active=!1,this.parentMoney.active=!1},e.prototype.showOneMoreScater=function(){this.isShowOneMoreScater||(this.isShowOneMoreScater=!0,this.parentContent.active=!1,this.parentOneMore.active=!0,this.parentMoney.active=!1,this.anhSang.stopAllActions(),this.anhSang.opacity=50,this.anhSang.runAction(cc.repeatForever(cc.sequence(cc.fadeIn(.3).easing(cc.easeSineInOut()),cc.fadeTo(.3,50).easing(cc.easeSineInOut())))),this.parentOneMore.stopAllActions(),this.parentOneMore.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.3,1.15).easing(cc.easeSineInOut()),cc.scaleTo(.3,1).easing(cc.easeSineInOut())))))},e.prototype.effectDropOneMorScater=function(){this.anhSang.stopAllActions(),this.anhSang.opacity=50,this.parentOneMore.stopAllActions(),this.parentOneMore.runAction(cc.sequence(cc.scaleTo(.1,1.18).easing(cc.easeSineOut()),cc.scaleTo(.1,1).easing(cc.easeSineIn()))),this.anhSang.runAction(cc.sequence(cc.fadeIn(.1).easing(cc.easeSineOut()),cc.fadeTo(.1,50).easing(cc.easeSineIn())))},e.prototype.offOneMoreScater=function(){this.parentOneMore.active=!1,this.offAnhSang()},e.prototype.offLbMoney=function(){this.parentMoney.active=!1},e.prototype.offAnhSang=function(){this.anhSang.stopAllActions()},e.prototype.showTakeMoney=function(t){return s(this,void 0,void 0,function(){var e=this;return a(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r;return a(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),console.log("Infobar showTakeMoney: "+t),f.Windown.MatChuoc.audio.playEffect(f.Windown.MatChuoc.audio.prizeSmallwin),this.offAnhSang(),cc.find("ParrentMOney/info_win",this.node).active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spWin,this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.lbMoney.setMoneyNoTime(t),e=this.lbMoney.node.parent,o=f.Windown.MatChuoc.curRoomBet*f.Windown.MatChuoc.totalLineBet,i=t/o,console.log("Infobar showTotalMoney: "+i),i<2?(this.getComponent(cc.Animation).play("Take1"),this.nodeTakeMoney.play("TakeMoney")):(this.takeBigWin.getComponent(cc.Animation).play("TakeBig"),this.nodeTakeMoney.play("TakeMoney")),this.lapLanh1.node.runAction(cc.fadeIn(.3)),this.lapLanh1.node.runAction(cc.sequence(cc.delayTime(1.5),cc.fadeOut(.4))),e.setScale(0,0,0),e.opacity=50,e.runAction(cc.spawn(cc.fadeIn(.3),cc.scaleTo(.3,1).easing(cc.easeBackOut()))),f.Windown.MatChuoc.stateSpin.isMaxSpeed?[3,2]:[4,f.Windown.MatChuoc.getMakeDelay(1).prosime];case 1:return s.sent(),[3,4];case 2:return[4,f.Windown.MatChuoc.getMakeDelay(.5).prosime];case 3:s.sent(),s.label=4;case 4:return n(null),[3,6];case 5:return r=s.sent(),d.Util.ThrowErrProsime(r),[3,6];case 6:return[2]}})})})]})})},e.prototype.showTakeMoneyTurn=function(t,e){return s(this,void 0,void 0,function(){var n=this;return a(this,function(){return[2,new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r;return a(this,function(){try{console.log("Infobar showTakeMoneyTurn: "+t+" : x "+e),cc.find("ParrentMOney/info_win",this.node).active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spWin,n=f.Windown.MatChuoc.curRoomBet*f.Windown.MatChuoc.totalLineBet,i=t/n,1!=e&&f.Windown.MatChuoc.audio.playEffectNoStop(f.Windown.MatChuoc.audio.prizeSmallwin),i<10?(console.log("Infobar take1"),this.getComponent(cc.Animation).play("Take1"),this.nodeTakeMoney.play("TakeMoney"),f.Windown.MatChuoc.audio.playEffect(f.Windown.MatChuoc.audio.voxInfoBoard[0])):(this.takeBigWin.active=!0,0==this.takeBigWin.opacity&&(console.log("Infobar showTakeBig"),this.takeBigWin.runAction(cc.fadeIn(.2)),this.takeBigWin.getComponent(cc.Animation).play("TakeBig")),this.nodeTakeMoney.play("TakeMoney"),f.Windown.MatChuoc.audio.playEffect(f.Windown.MatChuoc.audio.voxInfoBoard[1])),this.lapLanh1.node.runAction(cc.fadeIn(.3)),this.lapLanh1.node.runAction(cc.sequence(cc.delayTime(1.5),cc.fadeOut(.4))),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.lbMoney.setMoneyNoTime(t),(r=this.lbMoney.node.parent).setScale(.1,.1,.1),r.opacity=50,r.runAction(cc.spawn(cc.fadeIn(.3),cc.scaleTo(.3,1).easing(cc.easeBackOut()))),f.Windown.MatChuoc.stateSpin.freeSpinLeft,o(null)}catch(s){d.Util.ThrowErrProsime(s)}return[2]})})})]})})},e.prototype.reset=function(){this.spMaskInfoBar.forEach(function(t){return t.node.active=!0}),this.takeBigWin.runAction(cc.fadeOut(.4)),this.takeTotalSuperWin.runAction(cc.fadeOut(.4)),this.offAnhSang()},e.prototype.showTotalMoney=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r;return a(this,function(s){switch(s.label){case 0:this.offAnhSang(),s.label=1;case 1:return s.trys.push([1,10,,11]),0==t?(this.lbMoney.resetLb(),n(null),[2]):(e=f.Windown.MatChuoc.stateSpin.isMaxSpeed?2:1,o=f.Windown.MatChuoc.curRoomBet*f.Windown.MatChuoc.totalLineBet,i=t/o,console.log("Infobar showTotalMoney: "+i),i<5?(this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.parentMoney.setScale(.1),cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.node.getComponent(cc.Animation).play("Take1"),this.nodeTakeMoney.play("TakeMoney"),this.parentMoney.runAction(cc.scaleTo(.3,1).easing(cc.easeBackOut())),this.lapLanh1.node.runAction(cc.fadeIn(.3)),this.lbMoney.setMoneyNoTime(t),f.Windown.MatChuoc.audio.playEffect(f.Windown.MatChuoc.audio.prizeInfobarTotalwin),[4,f.Windown.MatChuoc.getMakeDelay(1).prosime]):[3,3]);case 2:return s.sent(),[3,9];case 3:return i<=10?(f.Windown.MatChuoc.audio.playEffect(f.Windown.MatChuoc.audio.prizeInfobarTotalwinMedMain),f.Windown.MatChuoc.audio.playSmalWin(),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.node.getComponent(cc.Animation).play("TakeBig"),this.lbMoney.time=.5,this.lbMoney.setMoney(t),[4,f.Windown.MatChuoc.getMakeDelay(.5).prosime]):[3,6];case 4:return s.sent(),f.Windown.MatChuoc.audio.stopEffect(f.Windown.MatChuoc.audio.prizeInfobarTotalwinMedMain),f.Windown.MatChuoc.audio.playEffect(f.Windown.MatChuoc.audio.prizeInfobarTotalwinMedEnd),this.parentMoney.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.2,1))),this.nodeTakeMoney.play("TakeMoney"),[4,f.Windown.MatChuoc.getMakeDelay(.5).prosime];case 5:return s.sent(),[3,9];case 6:return[4,f.Windown.MatChuoc.getPromise(f.Windown.MatChuoc.effect.showBigWin(t,i))];case 7:return s.sent(),console.log("Infobar TakeTotalWin: "),this.takeTotalSuperWin.active=!0,this.takeTotalSuperWin.runAction(cc.fadeIn(.2)),this.takeTotalSuperWin.getComponent(cc.Animation).play("TakeTotalWin"),this.parentMoney.setScale(cc.v3(.1,.1,.1)),f.Windown.MatChuoc.audio.playEffect(f.Windown.MatChuoc.audio.prizeInfobarTotalwin),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.nodeTakeMoney.play("TakeMoney"),this.parentMoney.runAction(cc.scaleTo(.3,1).easing(cc.easeElasticOut(.3))),this.lbMoney.setMoneyNoTime(t),[4,f.Windown.MatChuoc.getMakeDelay(1).prosime];case 8:s.sent(),s.label=9;case 9:return this.lapLanh1.node.runAction(cc.sequence(cc.delayTime(2/e),cc.fadeOut(.4))),n(null),[3,11];case 10:return r=s.sent(),d.Util.ThrowErrProsime(r),[3,11];case 11:return[2]}})})})},e.prototype.changInfoBarFS=function(t){this.spInfoBar.spriteFrame=f.Windown.MatChuoc.asset.getBgInfoBar(t);for(var e=0;e<this.spMaskInfoBar.length;e++)this.spMaskInfoBar[e].spriteFrame=f.Windown.MatChuoc.asset.getBgMaskInfoBar(t);t?(this.spMaskInfoBar[0].node.setPosition(cc.v3(-323,-10)),this.spMaskInfoBar[1].node.setPosition(cc.v3(323,-10))):(this.spMaskInfoBar[0].node.setPosition(cc.v3(-312,-4)),this.spMaskInfoBar[1].node.setPosition(cc.v3(312,-4)))},r([p(h.default)],e.prototype,"lbMoney",void 0),r([p(cc.SpriteFrame)],e.prototype,"spTotalWin",void 0),r([p(cc.SpriteFrame)],e.prototype,"spWin",void 0),r([p(cc.Sprite)],e.prototype,"spInfoBar",void 0),r([p([cc.SpriteFrame])],e.prototype,"listInfoBar",void 0),r([p([cc.Sprite])],e.prototype,"spMaskInfoBar",void 0),r([p(cc.Node)],e.prototype,"parentOneMore",void 0),r([p(cc.Node)],e.prototype,"parentContent",void 0),r([p(cc.Node)],e.prototype,"parentMoney",void 0),r([p(cc.Node)],e.prototype,"anhSang",void 0),r([p(cc.Node)],e.prototype,"takeBigWin",void 0),r([p(cc.Node)],e.prototype,"takeTotalSuperWin",void 0),r([p(cc.Animation)],e.prototype,"nodeTakeMoney",void 0),r([p(cc.Animation)],e.prototype,"lapLanh1",void 0),r([p(cc.Animation)],e.prototype,"lapLanh2",void 0),r([u],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],InfoBarControllerMatTroi:[function(t,e,n){"use strict";cc._RF.push(e,"effc5kPMrFBMa0MD51Hb9zk","InfoBarControllerMatTroi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbMoney=null,e.spTotalWin=null,e.spWin=null,e.spInfoBar=null,e.listInfoBar=[],e.spMaskInfoBar=[],e.listMaskInfoBar=[],e.listBgInfoBar=[],e.parentOneMore=null,e.parentContent=null,e.parentMoney=null,e.listAnimAdd=[],e.animTotalAdd=null,e.nodePosMulti=null,e.ani=null,e.bgInfo=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.parentContent.x=360,this.parentContent.runAction(cc.repeatForever(cc.sequence(cc.moveTo(80,-5723.291,4.555),cc.callFunc(function(){t.parentContent.x=272})))),this.showRdContent(),this.bgInfo=this.listBgInfoBar[0]},e.prototype.showRdContent=function(){this.parentContent.active=!0,this.parentOneMore.active=!1,this.parentMoney.active=!1},e.prototype.showOneMoreScater=function(){this.parentOneMore.active||(this.parentContent.active=!1,this.parentOneMore.active=!0,this.parentMoney.active=!1,this.parentOneMore.getComponent(cc.Animation).play("Effect_Oms"))},e.prototype.hideOneMoreScatter=function(){this.parentContent.active=!0,this.parentOneMore.active=!1},e.prototype.showTakeMoney=function(t){return s(this,void 0,void 0,function(){var e=this;return a(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e;return a(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),u.Windown.MatTroiView.audio.playEffect(u.Windown.MatTroiView.audio.prizeInfobarSmallwin),cc.find("ParrentMoney/info_win",this.node).active=!1,this.ani=this.listAnimAdd[0],this.ani.node.active=!0,this.ani.node.opacity=255,this.ani.off(cc.Animation.EventType.FINISHED),this.ani.play("Effect_normal_add"),this.parentMoney.active=!0,this.parentMoney.stopAllActions(),this.parentMoney.scale=0,this.parentMoney.runAction(cc.sequence(cc.scaleTo(.5,1).easing(cc.easeBackOut()),cc.callFunc(n))),this.parentContent.active=!1,this.parentOneMore.active=!1,this.lbMoney.setMoneyNoTime(t),[4,u.Windown.MatTroiView.getMakeDelay(3/u.Windown.MatTroiView.getDelta()).prosime];case 1:return o.sent(),n(null),[3,3];case 2:return e=o.sent(),l.Util.ThrowErrProsime(e),[3,3];case 3:return[2]}})})})]})})},e.prototype.showTakeMoneyTurn=function(t){return s(this,void 0,void 0,function(){var e=this;return a(this,function(){return cc.log("showTakeMoneyTurn"),[2,new Promise(function(n){cc.find("ParrentMoney/info_win",e.node).active=!0,cc.find("ParrentMoney/info_win",e.node).getComponent(cc.Sprite).spriteFrame=e.spWin,e.parentContent.active=!1,e.parentOneMore.active=!1,e.parentMoney.active=!0,e.parentMoney.scale=0,e.parentMoney.runAction(cc.scaleTo(.5,1).easing(cc.easeElasticOut(.3))),e.lbMoney.setMoneyNoTime(t);var o=u.Windown.MatTroiView.curRoomBet*u.Windown.MatTroiView.totalLineBet,i=t/o;e.ani.off(cc.Animation.EventType.FINISHED),i<5?(e.bgInfo=e.listBgInfoBar[0],e.bgInfo.active=!0,e.ani=e.listAnimAdd[0],e.ani.play("Effect_normal_add")):i<15?(e.bgInfo=e.listBgInfoBar[1],e.bgInfo.active=!0,e.ani=e.listAnimAdd[1],e.ani.play("Effect_Small_add"),e.ani.on(cc.Animation.EventType.FINISHED,function(){e.ani.play("Effect_Small_add_loop")})):(e.bgInfo=e.listBgInfoBar[2],e.bgInfo.active=!0,e.ani=e.listAnimAdd[0],e.ani.play("Effect_Super_add")),e.ani.node.active=!0,e.ani.node.opacity=255,255!=e.bgInfo.opacity&&cc.tween(e.bgInfo).set({opacity:0}).to(.2,{opacity:255}).start(),n(null)})]})})},e.prototype.reset=function(){var t=this;if(this.spInfoBar.spriteFrame=this.listInfoBar[0],this.spMaskInfoBar.forEach(function(e){e.spriteFrame=t.listMaskInfoBar[0]}),this.listAnimAdd.forEach(function(t){t.node.parent.active=!1,t.node.active=!1}),this.bgInfo!=this.listBgInfoBar[0]){var e=this.bgInfo;cc.tween(e).to(.3,{opacity:0}).call(function(){e.active=!1}).start()}this.bgInfo=this.listBgInfoBar[0],this.bgInfo.active=!0},e.prototype.showTotalMoney=function(t){var e=this;return cc.log("showTotalMoney"),new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,11,,12]),0==t?(n(null),[2]):(e=u.Windown.MatTroiView.curRoomBet*u.Windown.MatTroiView.totalLineBet,o=t/e,cc.find("ParrentMoney/info_win",this.node).active=!0,this.ani.off(cc.Animation.EventType.FINISHED),o<7?(u.Windown.MatTroiView.audio.playEffect(u.Windown.MatTroiView.audio.prizeInfobarTotalwin),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.parentMoney.scale=0,cc.find("ParrentMoney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.parentMoney.runAction(cc.scaleTo(.5,1).easing(cc.easeElasticOut(.3))),this.ani=this.listAnimAdd[0],this.ani.play("Effect_normal_add"),this.bgInfo.active=!0,this.lbMoney.setMoneyNoTime(t),this.ani.node.active=!0,this.ani.node.opacity=255,255!=this.bgInfo.opacity&&cc.tween(this.bgInfo).set({opacity:0}).to(.2,{opacity:255}).start(),[4,u.Windown.MatTroiView.getMakeDelay(1).prosime]):[3,2]);case 1:return a.sent(),[3,10];case 2:return o<15?(u.Windown.MatTroiView.audio.playEffect(u.Windown.MatTroiView.audio.prizeInfobarCountingMain),u.Windown.MatTroiView.audio.playSmalWin(),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParrentMoney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.ani=this.listAnimAdd[1],this.ani.play("Effect_Small_add"),this.ani.on(cc.Animation.EventType.FINISHED,function(){s.ani.play("Effect_Small_add_loop")}),this.bgInfo=this.listBgInfoBar[1],this.lbMoney.resetLb(),this.bgInfo.active=!0,this.lbMoney.time=2.5,this.lbMoney.setMoney(t),this.ani.node.active=!0,this.ani.node.opacity=255,255!=this.bgInfo.opacity&&cc.tween(this.bgInfo).set({opacity:0}).to(.2,{opacity:255}).start(),[4,u.Windown.MatTroiView.getMakeDelay(2.5).prosime]):[3,5];case 3:return a.sent(),u.Windown.MatTroiView.audio.playEffect(u.Windown.MatTroiView.audio.prizeInfobarCountingEnd),this.parentMoney.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.2,1))),[4,u.Windown.MatTroiView.getMakeDelay(.3).prosime];case 4:return a.sent(),[3,10];case 5:return a.trys.push([5,7,,8]),[4,u.Windown.MatTroiView.effect.showBigWin(t,o)];case 6:return a.sent(),[3,8];case 7:return i=a.sent(),l.Util.ThrowErrProsime(i),[3,8];case 8:return this.parentMoney.scale=1,this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParrentMoney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.ani=this.listAnimAdd[2],this.ani.play("Effect_Super_add"),this.bgInfo=this.listBgInfoBar[2],this.bgInfo.active=!0,this.lbMoney.setMoneyNoTime(t),cc.find("ParrentMoney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.ani.node.active=!0,this.ani.node.opacity=255,255!=this.bgInfo.opacity&&cc.tween(this.bgInfo).set({opacity:0}).to(.2,{opacity:255}).start(),[4,u.Windown.MatTroiView.getMakeDelay(.3).prosime];case 9:a.sent(),a.label=10;case 10:return n(null),[3,12];case 11:return r=a.sent(),l.Util.ThrowErrProsime(r),[3,12];case 12:return[2]}})})})},r([d(c.default)],e.prototype,"lbMoney",void 0),r([d(cc.SpriteFrame)],e.prototype,"spTotalWin",void 0),r([d(cc.SpriteFrame)],e.prototype,"spWin",void 0),r([d(cc.Sprite)],e.prototype,"spInfoBar",void 0),r([d([cc.SpriteFrame])],e.prototype,"listInfoBar",void 0),r([d([cc.Sprite])],e.prototype,"spMaskInfoBar",void 0),r([d([cc.SpriteFrame])],e.prototype,"listMaskInfoBar",void 0),r([d([cc.Node])],e.prototype,"listBgInfoBar",void 0),r([d(cc.Node)],e.prototype,"parentOneMore",void 0),r([d(cc.Node)],e.prototype,"parentContent",void 0),r([d(cc.Node)],e.prototype,"parentMoney",void 0),r([d([cc.Animation])],e.prototype,"listAnimAdd",void 0),r([d(cc.Animation)],e.prototype,"animTotalAdd",void 0),r([d(cc.Node)],e.prototype,"nodePosMulti",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],InfoBarControllerNeko:[function(t,e,n){"use strict";cc._RF.push(e,"b6da6FzsWlKZry/mV+px7vJ","InfoBarControllerNeko");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Obs/LbMoneyChange"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbMoney=null,e.spTotalWin=null,e.spWin=null,e.spInfoBar=null,e.listInfoBar=[],e.spMaskInfoBar=[],e.listMaskInfoBar=[],e.parentOneMore=null,e.parentContent=null,e.parentMoney=null,e.ani=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.parentContent.x=360,this.parentContent.runAction(cc.repeatForever(cc.sequence(cc.moveTo(80,-5723.291,4.555),cc.callFunc(function(){t.parentContent.x=272})))),this.showRdContent(),this.ani=this.getComponent(cc.Animation),cc.find("anhsang",this.node).active=!1},e.prototype.showRdContent=function(){this.parentContent.active=!0,this.parentOneMore.active=!1,this.parentMoney.active=!1},e.prototype.showOneMoreScater=function(){this.parentContent.active=!1,this.parentOneMore.active=!0,this.parentMoney.active=!1,this.getComponent(cc.Animation).play("InfoBarOneMoreScater")},e.prototype.showTakeMoney=function(t){return s(this,void 0,void 0,function(){var e=this;return a(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e=this;return a(this,function(){try{cc.find("anhsang",this.node).active=!0,cc.find("ParrentMOney/info_win",this.node).active=!1,this.ani.play("StartTakeMoneyIb"),this.ani.once(cc.Animation.EventType.FINISHED,function(){e.ani.play("LoopLapLanhIB")}),this.parentMoney.active=!0,this.parentMoney.stopAllActions(),this.parentMoney.scale=0,this.parentMoney.runAction(cc.sequence(cc.scaleTo(.5,1).easing(cc.easeBackOut()),cc.callFunc(n))),this.parentContent.active=!1,this.parentOneMore.active=!1,this.lbMoney.setMoneyNoTime(t),u.Windown.Neko.audio.playEffect(u.Windown.Neko.audio.prizeSmallwin)}catch(o){l.Util.ThrowErrProsime(o)}return[2]})})})]})})},e.prototype.showTakeMoneyTurn=function(t){return s(this,void 0,void 0,function(){var e=this;return a(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i=this;return a(this,function(){try{cc.find("ParrentMOney/info_win",this.node).active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spWin,cc.find("LapLanhIb",this.node).getComponent(cc.Sprite).spriteFrame=null,this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.parentMoney.scale=0,this.parentMoney.runAction(cc.scaleTo(.5,1).easing(cc.easeElasticOut(.3))),u.Windown.Neko.audio.playEffect(u.Windown.Neko.audio.prizeWinMultiplied),this.lbMoney.setMoneyNoTime(t),e=u.Windown.Neko.curRoomBet*u.Windown.Neko.totalLineBet,(o=t/e)<5?(this.spInfoBar.spriteFrame=this.listInfoBar[0],this.spInfoBar.node.width=656,this.spMaskInfoBar.forEach(function(t){t.spriteFrame=i.listMaskInfoBar[0]})):o<15?(this.spInfoBar.spriteFrame=this.listInfoBar[1],this.spInfoBar.node.width=676,this.spMaskInfoBar.forEach(function(t){t.spriteFrame=i.listMaskInfoBar[1]})):(this.spInfoBar.spriteFrame=this.listInfoBar[2],this.spInfoBar.node.width=676,this.spMaskInfoBar.forEach(function(t){t.spriteFrame=i.listMaskInfoBar[2]})),n(null)}catch(r){l.Util.ThrowErrProsime(r)}return[2]})})})]})})},e.prototype.reset=function(){var t=this;this.spInfoBar.spriteFrame=this.listInfoBar[0],this.spInfoBar.node.width=656,this.spMaskInfoBar.forEach(function(e){e.spriteFrame=t.listMaskInfoBar[0]}),cc.find("anhsang",this.node).active=!1,cc.find("LapLanhIb",this.node).getComponent(cc.Sprite).spriteFrame=null,this.ani.stop()},e.prototype.showTotalMoney=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r;return a(this,function(s){switch(s.label){case 0:return s.trys.push([0,10,,11]),0==t?(n(null),[2]):(this.lbMoney.resetLb(),e=u.Windown.Neko.curRoomBet*u.Windown.Neko.totalLineBet,(o=t/e)<5?(this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.parentMoney.scale=0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.parentMoney.runAction(cc.scaleTo(.5,1).easing(cc.easeElasticOut(.3))),this.spInfoBar.spriteFrame=this.listInfoBar[0],this.spInfoBar.node.width=656,i=u.Windown.Neko.stateSpin.isMaxSpeed?0:1,this.lbMoney.time=i,this.lbMoney.setMoney(t),u.Windown.Neko.audio.playEffect(u.Windown.Neko.audio.wallet_counting_above),[4,u.Windown.Neko.getMakeDelay(i).prosime]):[3,3]);case 1:return s.sent(),u.Windown.Neko.audio.stopEffect(u.Windown.Neko.audio.wallet_counting_above),u.Windown.Neko.audio.playEffect(u.Windown.Neko.audio.prizeInfobarTotalwin),[4,u.Windown.Neko.getMakeDelay(i).prosime];case 2:return s.sent(),[3,9];case 3:return o<10?(u.Windown.Neko.audio.playEffect(u.Windown.Neko.audio.prizeInfobarTotalwinMedMain),u.Windown.Neko.audio.playSmalWin(),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.spInfoBar.spriteFrame=this.listInfoBar[1],this.spInfoBar.node.width=676,i=u.Windown.Neko.stateSpin.isMaxSpeed?0:2,this.lbMoney.time=i,this.lbMoney.setMoney(t),u.Windown.Neko.audio.playEffect(u.Windown.Neko.audio.wallet_counting_above),[4,u.Windown.Neko.getMakeDelay(i).prosime]):[3,6];case 4:return s.sent(),u.Windown.Neko.audio.stopEffect(u.Windown.Neko.audio.wallet_counting_above),u.Windown.Neko.audio.playEffect(u.Windown.Neko.audio.prizeInfobarTotalwinMedEnd),this.parentMoney.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.2,1))),[4,u.Windown.Neko.getMakeDelay(.3).prosime];case 5:return s.sent(),[3,9];case 6:return[4,u.Windown.Neko.effect.showBigWin(t,o)];case 7:return s.sent(),this.parentMoney.scale=0,u.Windown.Neko.audio.playEffect(u.Windown.Neko.audio.prizeInfobarTotalwin),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.parentMoney.runAction(cc.scaleTo(.5,1).easing(cc.easeElasticOut(.3))),this.spInfoBar.spriteFrame=this.listInfoBar[2],this.spInfoBar.node.width=676,i=u.Windown.Neko.stateSpin.isMaxSpeed?0:2,this.lbMoney.time=i,this.lbMoney.setMoney(t),u.Windown.Neko.audio.playEffect(u.Windown.Neko.audio.wallet_counting_above),[4,u.Windown.Neko.getMakeDelay(i).prosime];case 8:s.sent(),u.Windown.Neko.audio.stopEffect(u.Windown.Neko.audio.wallet_counting_above),u.Windown.Neko.audio.playEffect(u.Windown.Neko.audio.prizeInfobarTotalwinMedEnd),s.label=9;case 9:return n(null),[3,11];case 10:return r=s.sent(),l.Util.ThrowErrProsime(r),[3,11];case 11:return[2]}})})})},r([d(c.default)],e.prototype,"lbMoney",void 0),r([d(cc.SpriteFrame)],e.prototype,"spTotalWin",void 0),r([d(cc.SpriteFrame)],e.prototype,"spWin",void 0),r([d(cc.Sprite)],e.prototype,"spInfoBar",void 0),r([d([cc.SpriteFrame])],e.prototype,"listInfoBar",void 0),r([d([cc.Sprite])],e.prototype,"spMaskInfoBar",void 0),r([d([cc.SpriteFrame])],e.prototype,"listMaskInfoBar",void 0),r([d(cc.Node)],e.prototype,"parentOneMore",void 0),r([d(cc.Node)],e.prototype,"parentContent",void 0),r([d(cc.Node)],e.prototype,"parentMoney",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],InfoBarControllerNgoKhong:[function(t,e,n){"use strict";cc._RF.push(e,"1354bN9ZatPIr4MgzUJLBlm","InfoBarControllerNgoKhong");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Obs/LbMoneyChange"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbMoney=null,e.spTotalWin=null,e.spWin=null,e.spInfoBar=null,e.listInfoBar=[],e.parentOneMore=null,e.parentContent=null,e.parentMoney=null,e.anhSang=null,e.mask=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.parentContent.x=360,this.parentContent.runAction(cc.repeatForever(cc.sequence(cc.moveTo(40,-4778,-5),cc.callFunc(function(){t.parentContent.x=360})))),this.showRdContent()},e.prototype.showRdContent=function(){this.parentContent.active=!0,this.parentOneMore.active=!1,this.parentMoney.active=!1,this.anhSang.opacity=0},e.prototype.showOneMoreScater=function(){this.parentContent.active=!1,this.parentOneMore.active=!0,this.parentMoney.active=!1,this.getComponent(cc.Animation).play("InfoBarOneMoreScater")},e.prototype.showTakeMoneyTurn=function(t,e){return s(this,void 0,void 0,function(){var n=this;return a(this,function(){return[2,new Promise(function(o){return s(n,void 0,void 0,function(){var n;return a(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spWin,this.getComponent(cc.Animation).play("InfoBarTakeMoney"),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.lbMoney.setMoneyNoTime(t/e),u.Windown.NgoKhong.stateSpin.freeSpinLeft>0&&e>1?(cc.find("ParrentMOney/info_win",this.node).active=!1,[4,u.Windown.NgoKhong.effect.effectTakeMutil()]):[3,2];case 1:i.sent(),u.Windown.NgoKhong.audio.playEffect(u.Windown.NgoKhong.audio.prizeSmallwinMultiplied),this.getComponent(cc.Animation).play("InfoBarTakeMoney"),cc.find("ParrentMOney/info_win",this.node).active=!0,i.label=2;case 2:return this.lbMoney.setMoneyNoTime(t),o(null),[3,4];case 3:return n=i.sent(),l.Util.ThrowErrProsime(n),[3,4];case 4:return[2]}})})})]})})},e.prototype.reset=function(){this.mask.active=!0,this.spInfoBar.spriteFrame=this.listInfoBar[0]},e.prototype.showTotalMoney=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,9,,10]),0==t?(n(null),[2]):(this.lbMoney.resetLb(),this.mask.active=!1,e=u.Windown.NgoKhong.curRoomBet*u.Windown.NgoKhong.totalLineBet,(o=t/e)<5?(u.Windown.NgoKhong.audio.playEffect(u.Windown.NgoKhong.audio.prizeInfobarTotalwinMedEnd,.7),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.getComponent(cc.Animation).play("InfoBarTakeMoney"),this.spInfoBar.spriteFrame=this.listInfoBar[0],this.lbMoney.setMoneyNoTime(t),[4,u.Windown.NgoKhong.getMakeDelay(1).prosime]):[3,2]);case 1:return r.sent(),[3,8];case 2:return o<15?(u.Windown.NgoKhong.audio.playEffect(u.Windown.NgoKhong.audio.prizeInfobarTotalwinMedMain),u.Windown.NgoKhong.audio.playSmalWin(),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.getComponent(cc.Animation).play("InfoBarTakeMoney"),this.spInfoBar.spriteFrame=this.listInfoBar[1],this.lbMoney.time=2,this.lbMoney.setMoney(t),[4,u.Windown.NgoKhong.getMakeDelay(2).prosime]):[3,5];case 3:return r.sent(),u.Windown.NgoKhong.audio.playEffect(u.Windown.NgoKhong.audio.prizeInfobarTotalwinMedEnd),this.parentMoney.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.2,1))),[4,u.Windown.NgoKhong.getMakeDelay(.3).prosime];case 4:return r.sent(),[3,8];case 5:return[4,u.Windown.NgoKhong.effect.showBigWin(t,o)];case 6:return r.sent(),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.getComponent(cc.Animation).play("InfoBarTakeMoney"),this.spInfoBar.spriteFrame=this.listInfoBar[2],this.lbMoney.setMoneyNoTime(t),[4,u.Windown.NgoKhong.getMakeDelay(1).prosime];case 7:r.sent(),r.label=8;case 8:return n(null),[3,10];case 9:return i=r.sent(),l.Util.ThrowErrProsime(i),[3,10];case 10:return[2]}})})})},r([d(c.default)],e.prototype,"lbMoney",void 0),r([d(cc.SpriteFrame)],e.prototype,"spTotalWin",void 0),r([d(cc.SpriteFrame)],e.prototype,"spWin",void 0),r([d(cc.Sprite)],e.prototype,"spInfoBar",void 0),r([d([cc.SpriteFrame])],e.prototype,"listInfoBar",void 0),r([d(cc.Node)],e.prototype,"parentOneMore",void 0),r([d(cc.Node)],e.prototype,"parentContent",void 0),r([d(cc.Node)],e.prototype,"parentMoney",void 0),r([d(cc.Node)],e.prototype,"anhSang",void 0),r([d(cc.Node)],e.prototype,"mask",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],InfoBarControllerQuyBa:[function(t,e,n){"use strict";cc._RF.push(e,"7a6f1i+/aRN1rORVaehXMFP","InfoBarControllerQuyBa");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.InfoBarControllerQuyBa=void 0;var c=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=t("./QuyBaSpeedControl"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentContent=null,e.parentMoney=null,e.parentOneMore=null,e.listInfoBar=[],e.spMaskInfoBar=[],e.lbMoney=null,e.takeBigWin=null,e.spWin=null,e.spTotalWin=null,e.smallWin=null,e.isShowOneMoreScater=!1,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.showRdContent(),this.parentContent.setPosition(cc.v3(360,this.parentContent.getPosition().y,0)),this.parentContent.runAction(cc.repeatForever(cc.sequence(cc.moveTo(65,cc.v2(-4779.665)),cc.callFunc(function(){t.parentContent.setPosition(306.493,t.parentContent.getPosition().y)}))))},e.prototype.showRdContent=function(){this.parentContent.active=!0,this.parentOneMore.active=!1,this.parentMoney.active=!1},e.prototype.reset=function(){cc.log("reset Info bar"),this.spMaskInfoBar.forEach(function(t){return t.node.active=!0}),this.smallWin.active=!1,this.getComponent(cc.Animation).play("NormalState")},e.prototype.showTakeMoneyTurn=function(t,e){return s(this,void 0,void 0,function(){var n=this;return a(this,function(){return[2,new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s;return a(this,function(){try{console.log("Infobar showTakeMoneyTurn: "+t+" : x "+e),cc.find("ParrentMOney/info_win",this.node).active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spWin,n=u.Windown.QuyBa.stateSpin.isMaxSpeed?2:1,i=u.Windown.QuyBa.curRoomBet*u.Windown.QuyBa.totalLineBet,r=t/i,1!=e&&u.Windown.QuyBa.audio.playEffect(u.Windown.QuyBa.audio.prizeSmallwinMultiplied),r<7?(this.getComponent(cc.Animation).play("WinNormal"),this.node.getComponent(p.QuyBaSpeedControl).onPlay()):(this.takeBigWin.active=!0,this.takeBigWin.runAction(cc.fadeIn(.2)),this.getComponent(cc.Animation).playAdditive("BigWin"),this.node.getComponent(p.QuyBaSpeedControl).onPlay()),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.lbMoney.setMoneyNoTime(t),(s=this.lbMoney.node.parent).setScale(0,0,0),s.opacity=50,s.runAction(cc.sequence(cc.spawn(cc.fadeIn(.3/n),cc.scaleTo(.5/n,1).easing(cc.easeBackOut())),cc.callFunc(function(){}))),o(null)}catch(a){l.Util.ThrowErrProsime(a)}return[2]})})})]})})},e.prototype.showTakeMoney=function(t){return s(this,void 0,void 0,function(){var e=this;return a(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e,o;return a(this,function(i){switch(i.label){case 0:return u.Windown.QuyBa.audio.playEffect(u.Windown.QuyBa.audio.prizeSmallwin),cc.find("ParrentMOney/info_win",this.node).active=!1,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spWin,this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.lbMoney.setMoneyNoTime(t),e=this.lbMoney.node.parent,o=u.Windown.QuyBa.curRoomBet*u.Windown.QuyBa.totalLineBet,t/o<10?(this.getComponent(cc.Animation).play("WinNormal"),this.node.getComponent(p.QuyBaSpeedControl).onPlay()):(this.getComponent(cc.Animation).playAdditive("BigWin"),this.node.getComponent(p.QuyBaSpeedControl).onPlay()),e.setScale(0,0,0),e.opacity=50,e.runAction(cc.spawn(cc.fadeIn(.3),cc.scaleTo(.5,1).easing(cc.easeBackOut()))),u.Windown.QuyBa.stateSpin.isMaxSpeed?[3,2]:[4,u.Windown.QuyBa.getMakeDelay(.75).prosime];case 1:return i.sent(),[3,4];case 2:return cc.log("Doi 2 Giay"),[4,u.Windown.QuyBa.getMakeDelay(.5).prosime];case 3:i.sent(),i.label=4;case 4:return n(null),[2]}})})})]})})},e.prototype.offOneMoreScater=function(){},e.prototype.showTotalMoney=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r;return a(this,function(s){switch(s.label){case 0:return s.trys.push([0,9,,10]),0==t?(n(null),[2]):(e=u.Windown.QuyBa.stateSpin.isMaxSpeed?2:1,o=u.Windown.QuyBa.curRoomBet*u.Windown.QuyBa.totalLineBet,(i=t/o)<5?(this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.parentMoney.setScale(0,0,0),cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.parentMoney.runAction(cc.scaleTo(.5,1).easing(cc.easeBackOut(.3))),this.lbMoney.resetLb(),this.lbMoney.setMoneyNoTime(t),this.node.getComponent(cc.Animation).play("WinNormal"),this.node.getComponent(p.QuyBaSpeedControl).onPlay(),u.Windown.QuyBa.audio.playEffect(u.Windown.QuyBa.audio.prizeInfobarTotalwin),[4,u.Windown.QuyBa.getMakeDelay(1/e).prosime]):[3,2]);case 1:return s.sent(),[3,8];case 2:return i<=10?(u.Windown.QuyBa.audio.playEffect(u.Windown.QuyBa.audio.prizeInfobarTotalwinMedMain),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.node.getComponent(cc.Animation).play("BigWin"),this.node.getComponent(p.QuyBaSpeedControl).onPlay(),this.lbMoney.resetLb(),this.lbMoney.time=.5,this.lbMoney.setMoney(t),[4,u.Windown.QuyBa.getMakeDelay(.5).prosime]):[3,5];case 3:return s.sent(),u.Windown.QuyBa.audio.stopEffect(u.Windown.QuyBa.audio.prizeInfobarTotalwinMedMain),u.Windown.QuyBa.audio.playEffect(u.Windown.QuyBa.audio.prizeInfobarTotalwinMedEnd),this.parentMoney.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.2,1))),[4,u.Windown.QuyBa.getMakeDelay(.3).prosime];case 4:return s.sent(),[3,8];case 5:return[4,u.Windown.QuyBa.getPromise(u.Windown.QuyBa.effect.showBigWin(t,i))];case 6:return s.sent(),this.node.getComponent(cc.Animation).play("MegaWin"),this.node.getComponent(p.QuyBaSpeedControl).onPlay(),this.parentMoney.setScale(0,0,0),u.Windown.QuyBa.audio.playEffect(u.Windown.QuyBa.audio.prizeInfobarTotalwin),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.parentMoney.runAction(cc.scaleTo(.5,1).easing(cc.easeElasticOut(.3))),this.lbMoney.resetLb(),this.lbMoney.setMoneyNoTime(t),[4,u.Windown.QuyBa.getMakeDelay(1).prosime];case 7:s.sent(),s.label=8;case 8:return n(null),[3,10];case 9:return r=s.sent(),l.Util.ThrowErrProsime(r),[3,10];case 10:return[2]}})})})},e.prototype.showOneMoreScater=function(){this.isShowOneMoreScater||(this.isShowOneMoreScater=!0,this.parentContent.active=!1,this.parentOneMore.active=!0,this.parentMoney.active=!1,u.Windown.stopAllActionByTarget(this.parentOneMore),this.parentOneMore.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.3,1.15).easing(cc.easeSineInOut(.3)),cc.scaleTo(.3,1).easing(cc.easeSineInOut(.3))))))},r([f(cc.Node)],e.prototype,"parentContent",void 0),r([f(cc.Node)],e.prototype,"parentMoney",void 0),r([f(cc.Node)],e.prototype,"parentOneMore",void 0),r([f([cc.SpriteFrame])],e.prototype,"listInfoBar",void 0),r([f([cc.Sprite])],e.prototype,"spMaskInfoBar",void 0),r([f(c.default)],e.prototype,"lbMoney",void 0),r([f(cc.Node)],e.prototype,"takeBigWin",void 0),r([f(cc.SpriteFrame)],e.prototype,"spWin",void 0),r([f(cc.SpriteFrame)],e.prototype,"spTotalWin",void 0),r([f(cc.Node)],e.prototype,"smallWin",void 0),r([d],e)}(cc.Component);n.InfoBarControllerQuyBa=y,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./QuyBaSpeedControl":"QuyBaSpeedControl"}],InfoBarControllerRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"818bf3Ja5pAyZhtS1x/GIQP","InfoBarControllerRungRam");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbMoney=null,e.spTotalWin=null,e.spWin=null,e.spInfoBar=null,e.listInfoBar=[],e.spMaskInfoBar=[],e.parentOneMore=null,e.parentContent=null,e.parentMoney=null,e.anhSang=null,e.isShowOneMoreScater=!1,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.showRdContent(),this.parentContent.x=360,this.parentContent.runAction(cc.repeatForever(cc.sequence(cc.moveTo(65,-4779.665,20),cc.callFunc(function(){t.parentContent.x=306.493}))))},e.prototype.showRdContent=function(){this.parentContent.active=!0,this.parentOneMore.active=!1,this.parentMoney.active=!1},e.prototype.showOneMoreScater=function(){this.isShowOneMoreScater||(this.isShowOneMoreScater=!0,this.parentContent.active=!1,this.parentOneMore.active=!0,this.parentMoney.active=!1,this.anhSang.stopAllActions(),this.anhSang.opacity=50,this.anhSang.runAction(cc.repeatForever(cc.sequence(cc.fadeIn(.3).easing(cc.easeSineInOut()),cc.fadeTo(.3,50).easing(cc.easeSineInOut())))),this.parentOneMore.stopAllActions(),this.parentOneMore.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.3,1.15).easing(cc.easeSineInOut()),cc.scaleTo(.3,1).easing(cc.easeSineInOut())))))},e.prototype.effectDropOneMorScater=function(){this.anhSang.stopAllActions(),this.anhSang.opacity=50,this.parentOneMore.stopAllActions(),this.parentOneMore.runAction(cc.sequence(cc.scaleTo(.1,1.18).easing(cc.easeSineOut()),cc.scaleTo(.1,1).easing(cc.easeSineIn()))),this.anhSang.runAction(cc.sequence(cc.fadeIn(.1).easing(cc.easeSineOut()),cc.fadeTo(.1,50).easing(cc.easeSineIn())))},e.prototype.offOneMoreScater=function(){this.parentOneMore.active=!1},e.prototype.offLbMoney=function(){this.parentMoney.active=!1},e.prototype.offAnhSang=function(){this.anhSang.stopAllActions(),this.anhSang.opacity=50},e.prototype.showTakeMoney=function(t){return s(this,void 0,void 0,function(){var e=this;return a(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e;return a(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),u.Windown.RungRam.audio.playEffect(u.Windown.RungRam.audio.prizeWinHighlight),this.offAnhSang(),cc.find("ParrentMOney/info_win",this.node).active=!1,this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.lbMoney.setMoneyNoTime(t),u.Windown.RungRam.stateSpin.isMaxSpeed?[3,2]:[4,u.Windown.RungRam.getMakeDelay(.4).prosime];case 1:return o.sent(),[3,4];case 2:return[4,u.Windown.RungRam.getMakeDelay(.1).prosime];case 3:o.sent(),o.label=4;case 4:return n(null),[3,6];case 5:return e=o.sent(),l.Util.ThrowErrProsime(e),[3,6];case 6:return[2]}})})})]})})},e.prototype.runActiontakeMutil=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){return[2,new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o;return a(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),u.Windown.RungRam.muitlCtr.currentItemMutil.mutil>1?(u.Windown.RungRam.muitlCtr.currentItemMutil.mutil<4?u.Windown.RungRam.audio.playEffect(u.Windown.RungRam.audio.prizeMultiplierSmallwin):u.Windown.RungRam.audio.playEffect(u.Windown.RungRam.audio.prizeMultiplierMedwin),t=cc.find("mb_vfx_b_screen_00",this.node),n=cc.find("mb_vfx_b_screen_00 copy",this.node),t.getComponent(cc.Animation).play(),n.getComponent(cc.Animation).play(),[4,u.Windown.RungRam.getMakeDelay(.6).prosime]):[3,2];case 1:i.sent(),i.label=2;case 2:return e(null),[3,4];case 3:return o=i.sent(),l.Util.ThrowErrProsime(o),[3,4];case 4:return[2]}})})})]})})},e.prototype.showTakeMoneyTurn=function(t){return s(this,void 0,void 0,function(){var e=this;return a(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,c,p;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.runActiontakeMutil()];case 1:return a.sent(),cc.find("ParrentMOney/info_win",this.node).active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spWin,e=cc.find("Ib_Add_Fs",this.node),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.node.stopAllActions(),this.lbMoney.setMoneyNoTime(t),this.node.runAction(cc.sequence(cc.scaleTo(.15,1.15),cc.scaleTo(.15,1),cc.callFunc(n))),u.Windown.RungRam.stateSpin.freeSpinLeft>0&&!e.active&&(e.active=!0,o=e.children[0],i=e.children[1],r=e.children[2],s=e.children[3],o.stopAllActions(),o.opacity=0,r.active=!1,s.active=!1,(c=i.getComponent(cc.Animation)).play("ib_vfx_b_normal"),c.once(cc.Animation.EventType.FINISHED,function(){o.runAction(cc.repeatForever(cc.sequence(cc.fadeTo(.3,150),cc.fadeTo(.3,50)))),r.active=!0,s.active=!0})),[3,3];case 2:return p=a.sent(),l.Util.ThrowErrProsime(p),[3,3];case 3:return[2]}})})})]})})},e.prototype.reset=function(){this.spInfoBar.spriteFrame=this.listInfoBar[0],this.spMaskInfoBar.forEach(function(t){return t.node.active=!0}),this.offAnhSang(),cc.find("Ib_Add_Fs",this.node).active=!1},e.prototype.showTotalMoney=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i;return a(this,function(r){switch(r.label){case 0:this.offAnhSang(),r.label=1;case 1:return r.trys.push([1,10,,11]),0==t?(n(null),[2]):(cc.find("Ib_Add_Fs",this.node).active=!1,this.lbMoney.resetLb(),e=u.Windown.RungRam.curRoomBet*u.Windown.RungRam.totalLineBet,(o=t/e)<7?(this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,this.parentMoney.scale=0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.parentMoney.runAction(cc.scaleTo(.5,1).easing(cc.easeElasticOut(.3))),this.spInfoBar.spriteFrame=this.listInfoBar[0],cc.log("take money3"),this.lbMoney.setMoneyNoTime(t),u.Windown.RungRam.audio.playEffect(u.Windown.RungRam.audio.prizeInfobarTotalwin),[4,u.Windown.RungRam.getMakeDelay(1).prosime]):[3,3]);case 2:return r.sent(),[3,9];case 3:return o<=15?(u.Windown.RungRam.audio.playEffect(u.Windown.RungRam.audio.infobarTotalwinMedMain),u.Windown.RungRam.audio.playSmalWin(),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.spInfoBar.spriteFrame=this.listInfoBar[1],this.lbMoney.time=1.5,this.lbMoney.setMoney(t),[4,u.Windown.RungRam.getMakeDelay(1.5).prosime]):[3,6];case 4:return r.sent(),u.Windown.RungRam.audio.playEffect(u.Windown.RungRam.audio.infobarTotalwinMedEnd),this.parentMoney.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.2,1))),[4,u.Windown.RungRam.getMakeDelay(.3).prosime];case 5:return r.sent(),[3,9];case 6:return[4,u.Windown.RungRam.effect.showBigWin(t,o)];case 7:return r.sent(),this.parentMoney.scale=0,u.Windown.RungRam.audio.playEffect(u.Windown.RungRam.audio.prizeInfobarTotalwin),this.parentContent.active=!1,this.parentOneMore.active=!1,this.parentMoney.active=!0,cc.find("ParrentMOney/info_win",this.node).getComponent(cc.Sprite).spriteFrame=this.spTotalWin,this.parentMoney.runAction(cc.scaleTo(.5,1).easing(cc.easeElasticOut(.3))),this.spInfoBar.spriteFrame=this.listInfoBar[2],this.lbMoney.setMoneyNoTime(t),[4,u.Windown.RungRam.getMakeDelay(1).prosime];case 8:r.sent(),r.label=9;case 9:return n(null),[3,11];case 10:return i=r.sent(),l.Util.ThrowErrProsime(i),[3,11];case 11:return[2]}})})})},r([d(c.default)],e.prototype,"lbMoney",void 0),r([d(cc.SpriteFrame)],e.prototype,"spTotalWin",void 0),r([d(cc.SpriteFrame)],e.prototype,"spWin",void 0),r([d(cc.Sprite)],e.prototype,"spInfoBar",void 0),r([d([cc.SpriteFrame])],e.prototype,"listInfoBar",void 0),r([d([cc.Sprite])],e.prototype,"spMaskInfoBar",void 0),r([d(cc.Node)],e.prototype,"parentOneMore",void 0),r([d(cc.Node)],e.prototype,"parentContent",void 0),r([d(cc.Node)],e.prototype,"parentMoney",void 0),r([d(cc.Node)],e.prototype,"anhSang",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],InfoBarController:[function(t,e,n){"use strict";cc._RF.push(e,"f6cf3vlTsJEh7eO7Rb7JDJb","InfoBarController");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Util"),l=t("../../../Scritps/Windown"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbContent=null,e.lbContentRd=null,e.bkgRed=null,e.parentItemFake=null,e.listDefined=["T\xednh n\u0103ng \u0110\u1ed5ng Tr\xe1c","T\xednh n\u0103ng \u0110i\xeau Thuy\u1ec1n","T\xednh n\u0103ng L\u1eef B\u1ed1"],e.bkgCoin=null,e.listContent=["2 bi\u1ec3u t\u01b0\u1ee3ng Scatter k\xedch ho\u1ea1t V\xf2ng quay mi\u1ec5n ph\xed \u0111\u01a1n","3 bi\u1ec3u t\u01b0\u1ee3ng Scatter k\xedch ho\u1ea1t V\xf2ng quay mi\u1ec5n ph\xed","4 bi\u1ec3u t\u01b0\u1ee3ng Scatter k\xedch ho\u1ea1t x2 trong V\xf2ng quay mi\u1ec5n ph\xed","5 bi\u1ec3u t\u01b0\u1ee3ng Scatter k\xedch ho\u1ea1t x4 trong V\xf2ng quay mi\u1ec5n ph\xed"],e.isShowContentRd=!1,e}return i(e,t),e.prototype.showRdContent=function(){var t=this;this.isShowContentRd||(this.isShowContentRd=!0,this.lbContent.node.active=!1,this.lbContentRd.string=this.listContent[l.Windown.RandomNumber(0,this.listContent.length)],this.lbContentRd.node.active=!0,this.lbContentRd.node.x=-255.766,this.lbContentRd.node.stopAllActions(),this.lbContentRd.node.runAction(cc.sequence(cc.delayTime(2),cc.moveBy(7,-this.lbContentRd.node.width-100,0),cc.callFunc(function(){t.isShowContentRd=!1,t.showRdContent()}))))},e.prototype.setContentLb=function(t){this.lbContent.string=t},e.prototype.scale=function(){var t=this;l.Windown.DieuThuyen.audio.playEffect(l.Windown.DieuThuyen.audio.infobar_uplifter_highlight),this.bkgRed.active=!0,this.bkgRed.opacity=0,this.bkgRed.runAction(cc.sequence(cc.fadeIn(.2),cc.fadeOut(.2),cc.callFunc(function(){t.bkgRed.active=!1}))),this.node.runAction(cc.sequence(cc.scaleTo(.2,.8),cc.scaleTo(.2,.6)))},e.prototype.randomEffect=function(t){var e=this;return new Promise(function(n){l.Windown.DieuThuyen.audio.playEffect(l.Windown.DieuThuyen.audio.infobar_uplifter),e.offContenRd(),e.bkgRed.active=!0;var o=e.parentItemFake.getComponentsInChildren(cc.Label);"freeDieuThuyen"==t?o[0].string=e.listDefined[1]:"freeLuBo"==t?o[0].string=e.listDefined[2]:"freeDongTrac"==t&&(o[0].string=e.listDefined[0]);for(var i=l.Windown.RandomNumber(0,3),r=1;r<o.length;r++)o[r].string=e.listDefined[i%3],i++;e.parentItemFake.setPosition(0,345),e.lbContent.node.runAction(cc.sequence(cc.delayTime(.25),cc.moveTo(.4,0,-64))),e.parentItemFake.active=!0,e.parentItemFake.runAction(cc.sequence(cc.moveTo(2,0,-262).easing(cc.easeCubicActionInOut()),cc.callFunc(function(){e.lbContent.string=o[0].string,e.lbContent.node.setPosition(0,5),l.Windown.DieuThuyen.playerEffect1(e.lbContent.node,e.node.parent,cc.v2(0,10)),e.bkgRed.active=!1,e.scale()}),cc.delayTime(1),cc.callFunc(function(){e.parentItemFake.active=!1,n(null)})))})},e.prototype.offContenRd=function(){this.isShowContentRd=!1,this.lbContentRd.node.active=!1,this.lbContent.node.active=!0},e.prototype.showTakeMoney=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,5,,6]),0==t?(n(null),[2]):(l.Windown.DieuThuyen.audio.playEffect(l.Windown.DieuThuyen.audio.small_win),l.Windown.DieuThuyen.audio.playEffect(l.Windown.DieuThuyen.audio.small_win_coins),e=l.Windown.DieuThuyen.getMutilMoney(),this.resetXu(),this.offContenRd(),this.lbContent.node.active=!0,this.lbContentRd.node.stopAllActions(),this.bkgCoin.active=!0,(o=this.bkgCoin.children[0]).stopAllActions(),o.opacity=0,o.runAction(cc.spawn(cc.rotateBy(5,2e3),cc.sequence(cc.fadeIn(.5),cc.fadeOut(.5),cc.callFunc(function(){s.bkgCoin.active=!1})))),this.tungXu1(),this.lbContent.string="Th\u1eafng "+l.Windown.formatNumber(t/e),this.bkgRed.active=!0,this.bkgRed.opacity=0,this.node.runAction(cc.sequence(cc.callFunc(function(){s.bkgRed.runAction(cc.fadeIn(.3)),l.Windown.DieuThuyen.playerEffect1(s.lbContent.node,s.node.parent,cc.v2(0,10))}),cc.scaleTo(.2,.7),cc.callFunc(function(){s.bkgRed.runAction(cc.fadeOut(.3))}),cc.scaleTo(.2,.6),cc.callFunc(function(){s.bkgRed.active=!1}))),1==e?[3,3]:[4,l.Windown.DieuThuyen.makeDelay(.5)]);case 1:return a.sent(),l.Windown.DieuThuyen.audio.playEffect(l.Windown.DieuThuyen.audio.bonus_multiple_hide),(i=l.Windown.DieuThuyen.getNodeActionMutil()).stopAllActions(),i.runAction(cc.sequence(cc.scaleTo(.2,1.3),cc.scaleTo(.2,1),cc.callFunc(function(){s.lbContent.string="Th\u1eafng "+l.Windown.formatNumber(t)}))),[4,l.Windown.DieuThuyen.makeDelay(.5)];case 2:a.sent(),a.label=3;case 3:return[4,l.Windown.DieuThuyen.makeDelay(1.5)];case 4:return a.sent(),n(null),[3,6];case 5:return r=a.sent(),c.Util.ThrowErrProsime(r),[3,6];case 6:return[2]}})})})},e.prototype.tungXu1=function(){for(var t=function(){var t=l.Windown.DieuThuyen.asset.getXu();t.scale=l.Windown.RandomNumber(12,18)/100,t.parent=e.bkgCoin,t.setPosition(l.Windown.RandomNumber(-100,100),17);var n=cc.v2(l.Windown.RandomNumber(-100,100),17),o=l.Windown.RandomNumber(5,10)/10;t.getComponent(cc.Animation).play("DongXu"),t.angle=-l.Windown.RandomNumber(0,360),t.runAction(cc.sequence(cc.jumpTo(o,n,l.Windown.RandomNumber(50,130),1),cc.callFunc(function(){l.Windown.DieuThuyen.asset.putXu(t)})))},e=this,n=0,o=l.Windown.RandomNumber(5,10);n<o;n++)t()},e.prototype.tungXu2=function(){var t=this;this.bkgCoin.active=!0;var e=this.bkgCoin.children[0];e.stopAllActions(),e.opacity=0,e.runAction(cc.spawn(cc.rotateBy(5,2e3),cc.sequence(cc.fadeIn(.5),cc.delayTime(3),cc.fadeOut(.5),cc.callFunc(function(){t.bkgCoin.active=!1}))));for(var n=0,o=l.Windown.RandomNumber(10,15);n<o;n++){var i=l.Windown.DieuThuyen.asset.getXu();i.scale=l.Windown.RandomNumber(12,18)/100,i.parent=this.bkgCoin,this.tungXuLoop(i,n%5/10)}},e.prototype.tungXuLoop=function(t,e){var n=this,o=cc.v2(l.Windown.RandomNumber(-220,220),17);t.stopAllActions(),t.setPosition(o);var i=cc.v2(o.x+l.Windown.RandomNumber(-10,10),17),r=l.Windown.RandomNumber(5,10)/10;t.getComponent(cc.Animation).play("DongXu"),t.angle=-l.Windown.RandomNumber(0,360),t.runAction(cc.sequence(cc.delayTime(e),cc.jumpTo(r,i,l.Windown.RandomNumber(30,150),1),cc.callFunc(function(){n.tungXuLoop(t,0)})))},e.prototype.resetXu=function(){for(var t=0;t<this.bkgCoin.childrenCount;t++){var e=this.bkgCoin.children[t];"Xu"==e.name&&(l.Windown.DieuThuyen.asset.putXu(e),t--)}},r([h(cc.Label)],e.prototype,"lbContent",void 0),r([h(cc.Label)],e.prototype,"lbContentRd",void 0),r([h(cc.Node)],e.prototype,"bkgRed",void 0),r([h(cc.Node)],e.prototype,"parentItemFake",void 0),r([h(cc.Node)],e.prototype,"bkgCoin",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],InfoBetTX:[function(t,e,n){"use strict";cc._RF.push(e,"57cdbGQJOZM/ZhTcBUF9U9Z","InfoBetTX");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbBetTotal=null,e.lbCountUser=null,e.lbMeBet=null,e.lbMeTempBet=null,e.btnActiveBet=null,e.type=0,e.spineWin=null,e.icon=null,e.totalBet=0,e.lastBet=0,e}return i(e,t),e.prototype.setMoneyMeBet=function(t){this.lbMeBet.string=s.Windown.formatNumber(t),0==t&&(this.lbMeBet.string="",this.lastBet=this.totalBet,this.spineWin.node.active=!1,this.icon.active=!0),this.totalBet=t},e.prototype.setMoneyTempBet=function(t){this.lbMeTempBet.string=s.Windown.formatNumber(t)},e.prototype.setMoneyTotalUserBet=function(t){var e=s.Windown.formatNumber(t);this.lbBetTotal.string!=e&&this.lbBetTotal.node.runAction(cc.sequence(cc.scaleTo(.05,1.3),cc.scaleTo(.3,1))),this.lbBetTotal.string=e},e.prototype.setCountTotaluser=function(t){this.lbCountUser.string=s.Windown.formatNumber(t)},e.prototype.onWin=function(){this.spineWin.node.active=!0,this.icon.active=!1,this.spineWin.setAnimation(0,this.spineWin.animation,!0)},e.prototype.onClickBet=function(){s.Windown.TaiXiu.listInfo.forEach(function(t){t.onHuyBet()}),this.lbMeTempBet.node.parent.active=!0,this.lbMeTempBet.string="0",this.btnActiveBet.active=!1,s.Windown.TaiXiu.banPhim.init(this)},e.prototype.onHuyBet=function(){this.lbMeTempBet.node.parent.active=!1,this.btnActiveBet.active=!0},r([l(cc.Label)],e.prototype,"lbBetTotal",void 0),r([l(cc.Label)],e.prototype,"lbCountUser",void 0),r([l(cc.Label)],e.prototype,"lbMeBet",void 0),r([l(cc.Label)],e.prototype,"lbMeTempBet",void 0),r([l(cc.Node)],e.prototype,"btnActiveBet",void 0),r([l(cc.Integer)],e.prototype,"type",void 0),r([l(sp.Skeleton)],e.prototype,"spineWin",void 0),r([l(cc.Node)],e.prototype,"icon",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],InfoERR:[function(t,e,n){"use strict";cc._RF.push(e,"0e682931mZNObUrtpJqFDJS","InfoERR");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.InfoErr=void 0;var r=function(t){function e(e){var n=t.call(this)||this;return n.message="lvd----"+e,n}return i(e,t),e}(Error);n.InfoErr=r,cc._RF.pop()},{}],InfoSpin:[function(t,e){"use strict";cc._RF.push(e,"68cf80iqGFLTbZfm0V8Yq6S","InfoSpin"),cc.Class({extends:cc.Component,properties:{lbInfo:cc.Label,nodeHeader:cc.Node,nodeInfo:cc.Node},init:function(t){this.node.active=!0;var e=t.modelMakebet,n=e.makeBetNormal,o=e.makebetXDV,i=e.makeBetAnTruoc;this.lbInfo.string=JSON.stringify(t);var r=this.nodeHeader.getComponentsInChildren(cc.Label);r[0].string=t.idSpin,r[1].string=this.getNameByType(n.typeSpecial);var s=[t.modelByClient.red,t.modelByClient.yello,t.modelByClient.green];r[2].string=JSON.stringify(s),r[3].string=JSON.stringify(t.modelByClient.listBetItem);for(var a=n.objReviceFirtItem.moneyRevice,c=i.moneyRevice,l=0,u=0,p=n.ListObjReviceSub.length;u<p;u++)c+=n.ListObjReviceSub[u].moneyRevice;l+=o.reviceXanh,l+=o.reviceDo;var h=a+c+(l+=o.reviceVang);r[4].string="ch\xednh: "+this.formatNumber(a),r[5].string="ph\u1ee5: "+this.formatNumber(c),r[6].string="T\u1ed5ng: "+this.formatNumber(h),r[7].string="C\xf2n: "+this.formatNumber(t.moneyPlayer)},formatNumber:function(t,e){return void 0===e&&(e=3),t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")},getNameByType:function(t){var e="Null";switch(t){case-1:e="Th\u01b0\u1eddng";break;case 1:e="X10";break;case 2:e="Lucky X20";break;case 3:e="Lucky X10";break;case 4:e="Lucky X20 or X10";break;case 5:e="\u0103n ng\u1eabu nhi\xean th\xeam 1 c\u1eeda x10-x20";break;case 6:e="nghe nh\u1ea1c";break;case 7:e="\u0111\u1eadp chu\u1ed9t";break;case 8:e="X\u1ed5 S\u1ed1";break;case 9:e="R\u1eafn 8 \u0111\u1ed1t";break;case 10:e="Bar nh\u1ecf";break;case 11:e="x10 - x20 -x10";break;case 12:e="8Id ng\u1eabu nhi\xean";break;case 13:e="ch\u1eef t\xe0u";break;case 14:e="jackpot"}return e},onClickMore:function(){this.nodeHeader.active=!1,this.nodeInfo.active=!0},onClickbackMore:function(){this.nodeHeader.active=!0,this.nodeInfo.active=!1},onClickHide:function(){this.node.active=!1}}),cc._RF.pop()},{}],ItemAddScaterAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"3bf6dw8FKxEH7NPfR8A0Tta","ItemAddScaterAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bkg=null,e.ske=null,e.isShow=!1,e._symbol=null,e}return i(e,t),e.prototype.start=function(){this.node.opacity=0,this.node.runAction(cc.fadeIn(.15)),this.bkg.opacity=0,this.bkg.runAction(cc.fadeTo(.15,200))},e.prototype.init=function(t){this._symbol=t,this._symbol.node.on(cc.Node.EventType.POSITION_CHANGED,this.changePos,this),this.changParent(),this.node.angle=this._symbol.node.angle,this.bkg.angle=this._symbol.node.angle,this.ske.setAnimation(0,"spawn",!1),this.ske.addAnimation(0,"idle",!0)},e.prototype.changParent=function(){this.node.parent=this._symbol.node.parent,this.node.zIndex=1e3,this.bkg.parent=this._symbol.node.parent,this.bkg.zIndex=500,this.bkg.zIndex=cc.macro.MIN_ZINDEX,this.changePos()},e.prototype.changePos=function(){this.node.setPosition(this._symbol.node.getPosition()),this.bkg.setPosition(this._symbol.node.getPosition())},e.prototype.showFS=function(){this.node.runAction(cc.sequence(cc.scaleTo(.3,1.3),cc.scaleTo(.3,1)))},e.prototype.idle=function(){this.ske.setAnimation(0,"idle",!0)},e.prototype.effectNearWinNoSap=function(){this.ske.setAnimation(0,"win_idle",!0)},e.prototype.remove=function(t){var e=this;void 0===t&&(t=.2),this._symbol.node.targetOff(this),this.bkg.runAction(cc.sequence(cc.fadeOut(t),cc.callFunc(function(){e.bkg.destroy()}))),this.node.runAction(cc.sequence(cc.fadeOut(t),cc.callFunc(function(){e.node.destroy()})))},r([c(cc.Node)],e.prototype,"bkg",void 0),r([c(sp.Skeleton)],e.prototype,"ske",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],ItemAddScaterCaishen:[function(t,e,n){"use strict";cc._RF.push(e,"a61f2I4n9ZKHLMzyX/uhcqT","ItemAddScaterCaishen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isShow=!1,e}return i(e,t),e.prototype.start=function(){},e.prototype.show=function(){},e.prototype.effectNearWinNoSap=function(){this.node.getComponent(cc.Animation);var t=this.node.getComponentInChildren(sp.Skeleton);t.setAnimation(0,"spawn",!1),t.setCompleteListener(function(){t.setAnimation(0,"idle",!0),t.setCompleteListener(null)})},e.prototype.idle=function(){cc.log("effectIdles"),this.node.getComponentInChildren(sp.Skeleton).setAnimation(0,"idle",!0)},e.prototype.effectDrop=function(){cc.log("effectDrop"),this.node.getComponentInChildren(sp.Skeleton).setAnimation(0,"win",!0)},e.prototype.efWin=function(){cc.log("efWin");var t=this.node.getComponentInChildren(sp.Skeleton);t.setAnimation(0,"win",!1),t.setCompleteListener(function(){t.setAnimation(0,"idle",!0),t.setCompleteListener(null)})},r([a],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],ItemAddScaterMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"f0c00E+NP1Mw6s1JQii42tc","ItemAddScaterMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=t("../../../../Scritps/Windown"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bkgNode=null,e.effecSF=null,e.isShow=!1,e._symbol=null,e}return i(e,t),e.prototype.start=function(){this.node.opacity=0,this.node.runAction(cc.fadeIn(.15/l.Windown.MatChuoc.getDelta()))},e.prototype.init=function(t){this._symbol=t,this._symbol.node.on(cc.Node.EventType.POSITION_CHANGED,this.changePos,this),this.changParent(),this.node.angle=this._symbol.node.angle,this.node.getComponent(cc.Animation).play("effectScatter"),l.Windown.MatChuoc.audio.playEffectNoStop(l.Windown.MatChuoc.audio.symScatter)},e.prototype.changParent=function(){this.node.setParent(this._symbol.node.parent),this.node.setSiblingIndex(1e3),this.changePos()},e.prototype.changePos=function(){this.node.setPosition(this._symbol.node.getPosition())},e.prototype.winFS=function(){},e.prototype.showFS=function(){var t=this;this.effecSF.node.active=!0,l.Windown.MatChuoc.stateSpin.isMaxSpeed||(this.node.getComponent(cc.Animation).play("effectScatter"),this.node.getComponent(cc.Animation).once(cc.Animation.EventType.FINISHED,function(){t.effecSF.play("effBgFs")}))},e.prototype.idle=function(){this.node.getComponent(cc.Animation).play("effectScatter"),l.Windown.MatChuoc.audio.playEffectNoStop(l.Windown.MatChuoc.audio.symScatter),this.effecSF.node.active=!1},e.prototype.effectNearWinNoSap=function(){},e.prototype.remove=function(t){var e=this;void 0===t&&(t=.2),this._symbol.node.targetOff(this),this.node.runAction(cc.sequence(cc.fadeOut(t),cc.callFunc(function(){e.node.destroy()})))},r([c(cc.Node)],e.prototype,"bkgNode",void 0),r([c(cc.Animation)],e.prototype,"effecSF",void 0),r([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown"}],ItemAddScaterRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"9684c4W/oZC/onXjyx6oHQN","ItemAddScaterRungRam");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isShow=!1,e}return i(e,t),e.prototype.start=function(){var t=this.node.children[0],e=this.node.children[1],n=this.node.children[2].getComponent(sp.Skeleton),o=this.node.children[3].getComponent(cc.Animation),i=this.node.children[4],r=this.node.children[5].getComponent(cc.ParticleSystem);t.stopAllActions(),e.stopAllActions(),t.runAction(cc.repeatForever(cc.rotateBy(3,360))),e.runAction(cc.repeatForever(cc.rotateBy(3,360))),n.setAnimation(0,"idle",!0),o.play("scatter_vfx_c_add"),cc.log("show vong tron r ne"),i.runAction(cc.repeatForever(cc.sequence(cc.callFunc(function(){i.opacity=150,i.scale=.8}),cc.spawn(cc.scaleTo(.7,1.4),cc.fadeTo(.7,0).easing(cc.easeQuinticActionIn()))))),r.resetSystem()},e.prototype.show=function(){},e.prototype.effectNearWinNoSap=function(t){this.node.children[3].getComponent(cc.Animation).play("scatter_vfx_c_add"),this.node.children[2].getComponent(sp.Skeleton).setAnimation(0,"win",!0),t&&this.node.runAction(cc.repeat(cc.sequence(cc.callFunc(function(){s.Windown.RungRam.audio.playEffectNoStop(s.Windown.RungRam.audio.heartbeat)}),cc.delayTime(1.5)),2))},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown"}],ItemAddScatterDuaXe:[function(t,e,n){"use strict";cc._RF.push(e,"a9fe2ZYafhJs5FJxXeMt3Xf","ItemAddScatterDuaXe");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.ItemAddScatterDuaXe=void 0;var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._symbol=null,e.bkg=null,e.ske=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.init=function(t){this._symbol=t,this._symbol.node.on(cc.Node.EventType.POSITION_CHANGED,this.changePos,this),this.changParent(),this.node.angle=this._symbol.node.angle,this.bkg.angle=this._symbol.node.angle,this.getComponentInChildren(cc.Animation).play("NodeAddScatter")},e.prototype.showFS=function(){cc.log("----------showFS"),this.ske.setAnimation(0,"spawn",!1),this.ske.addAnimation(0,"idle",!0),cc.tween(this.bkg).set({scale:0,opacity:0}).to(.1,{opacity:255,scale:1}).start()},e.prototype.idle=function(){this.ske.setAnimation(0,"idle",!0)},e.prototype.winFS=function(){cc.log("----------winFS"),this.node.getComponent(cc.Animation).play("FireWork"),this.ske.setAnimation(0,"win",!1),this.ske.addAnimation(0,"win_idle",!0)},e.prototype.changParent=function(){this.node.parent=this._symbol.node.parent,this.node.setSiblingIndex(1e3),this.changePos()},e.prototype.changePos=function(){this.node.setPosition(this._symbol.node.getPosition())},e.prototype.remove=function(t){var e=this;void 0===t&&(t=.2),this._symbol.node.targetOff(this),this.node.runAction(cc.sequence(cc.fadeOut(t),cc.callFunc(function(){e.node.destroy()})))},e.prototype.effectNearWinNoSap=function(){this.ske.setAnimation(0,"idle",!0)},r([c(cc.Node)],e.prototype,"bkg",void 0),r([c(sp.Skeleton)],e.prototype,"ske",void 0),r([a],e)}(cc.Component);n.ItemAddScatterDuaXe=l,cc._RF.pop()},{}],ItemAddScatterQuyBa:[function(t,e,n){"use strict";cc._RF.push(e,"b619aqjRbNDvqLiHCc/gUGn","ItemAddScatterQuyBa");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.ItemAddScatterQuyBa=void 0;var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._symbol=null,e.bkg=null,e.ske=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.init=function(t){this._symbol=t,this._symbol.node.on(cc.Node.EventType.POSITION_CHANGED,this.changePos,this),this.changParent(),this.ske.setAnimation(0,"spawn",!1),this.ske.addAnimation(0,"idle",!0)},e.prototype.showFS=function(){this.ske.setAnimation(0,"idle",!0)},e.prototype.idle=function(){this.ske.setAnimation(0,"idle",!0)},e.prototype.winFS=function(){this.ske.setAnimation(0,"win",!1),this.ske.addAnimation(0,"win_idle",!0)},e.prototype.changParent=function(){this.node.parent=this._symbol.node.parent,this.node.setSiblingIndex(1e3),this.changePos()},e.prototype.changePos=function(){this.node.setPosition(this._symbol.node.getPosition())},e.prototype.remove=function(t){var e=this;void 0===t&&(t=.2),this._symbol.node.targetOff(this),this.node.runAction(cc.sequence(cc.fadeOut(t),cc.callFunc(function(){e.node.destroy()})))},e.prototype.effectNearWinNoSap=function(){this.ske.setAnimation(0,"idle",!0)},r([c(cc.Node)],e.prototype,"bkg",void 0),r([c(sp.Skeleton)],e.prototype,"ske",void 0),r([a],e)}(cc.Component);n.ItemAddScatterQuyBa=l,cc._RF.pop()},{}],ItemAdminOnline:[function(t,e,n){"use strict";cc._RF.push(e,"8f75cc7FQBMVaHQyeG+6n5x","ItemAdminOnline");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbName=null,e}return i(e,t),e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onClick,this)},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onClick,this)},e.prototype.onClick=function(){s.Windown.HoTro.onClickClose(),s.Windown.UIManager.showLoading(),s.Windown.ChatAdminController.showIconMoveChat(this.lbName.string)},e.prototype.initItem=function(t){var e=t.getUtfString("adminName");this.lbName.string=e},r([l(cc.Label)],e.prototype,"lbName",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Windown":"Windown"}],ItemAlertMessage:[function(t,e,n){"use strict";cc._RF.push(e,"b2d8btViYhATqE7wjWNRqD5","ItemAlertMessage");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Game/GAME_TYPE"),a=t("../Windown"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbNoti=null,e.lbNickName=null,e.lbGameType=null,e.lbMoneyWin=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.initItem=function(t){this.lbNickName.node.active=this.lbGameType.node.active=this.lbMoneyWin.node.active=!0,this.lbNoti.string="Ch\xfac m\u1eebng",this.lbNickName.string=t.getUtfString("nn"),this.lbMoneyWin.string="+"+a.Windown.formatNumber(t.getInt("mt")),this.lbGameType.string=this.getType(t.getInt("gt"),t.getUtfString("dt"))},e.prototype.initNotiNormal=function(t){this.lbNickName.node.active=this.lbGameType.node.active=this.lbMoneyWin.node.active=!1,this.lbNoti.string=t},e.prototype.getType=function(t,e){var n="";switch(t){case s.default.BongDem:switch(e){case"24":n="ti\xeau di\u1ec7t C\xe1 Voi Xanh";break;case"100":n="\u0111\xe3 N\u1ed4 H\u0168 C\xe1";break;case"101":n="ti\xeau di\u1ec7t BOSS C\xe1 X\u1ea5u";break;case"103":n="ti\xeau di\u1ec7t BOSS H\u1ecfa Long Qui";break;case"51":n="ti\xeau di\u1ec7t Cua Laze";break;case"52":n="ti\xeau di\u1ec7t Boom Nguy\xean T\u1eed";break;case"53":n="ti\xeau di\u1ec7t Cua M\u0169i Khoan";break;case"56":n="ti\xeau di\u1ec7t Cua Quay";break;case"55":n="ti\xeau di\u1ec7t Cua R\u1ed3ng";break;case"54":n="ti\xeau di\u1ec7t Cua S\xf3ng \xc2m";break;case"33":n="ti\xeau di\u1ec7t BOSS H\u1ea3i Th\u1ea7n";break;case"28":n="ti\xeau di\u1ec7t Th\u1ea7n T\xe0i L\u1edbn";break;case"27":n="ti\xeau di\u1ec7t C\xe1 Voi V\xe0ng";break;case"102":n="ti\xeau di\u1ec7t BOSS B\xf3ng \u0110\xeam";break;case"7":n="\u0111\xe3 d\xf9ng BOOM Nguy\xean T\u1eed";break;case"8":n="\u0111\xe3 d\xf9ng M\u1eaft Th\u1ea7n";break;case"9":n="\u0111\xe3 d\xf9ng \u0110inh Ba";break;case"70":case"71":case"72":case"73":n="ti\xeau di\u1ec7t c\xe1 \u0110\u1eb7c Bi\u1ec7t";break;case"74":n="ti\xeau di\u1ec7t C\xe1 \u0110I\u1ec6N"}break;case s.default.TruTien:n="bw"==e?" th\u1eafng l\u1edbn Tru Ti\xean":"fs"==e?" th\u1eb1ng quay mi\u1ec5n ph\xed":" n\u1ed5 h\u0169 Tru Ti\xean";break;case s.default.Xeng:n=" th\u1eafng l\u1edbn M\xe1y X\xe8ng";break;case s.default.DieuThuyen:n="bw"==e?" th\u1eafng l\u1edbn \u0110i\xeau Thuy\u1ec1n":" th\u1eafng quay mi\u1ec5n ph\xed \u0110i\xeau Thuy\u1ec1n";break;case s.default.NgoKhong:n="bw"==e?" th\u1eafng l\u1edbn Monkey King":" th\u1eafng quay mi\u1ec5n ph\xed Monkey King";break;case s.default.Neko:n="bw"==e?" th\u1eafng l\u1edbn Neko":" th\u1eafng quay mi\u1ec5n ph\xed Neko";break;case s.default.MatTroi:n="bw"==e?" th\u1eafng l\u1edbn Sun & Moon":" th\u1eafng quay mi\u1ec5n ph\xed Sun & Moon";break;case s.default.KingKong:n="bw"==e?" th\u1eafng l\u1edbn Kong":" th\u1eafng quay mi\u1ec5n ph\xed Kong";break;case s.default.RungRam:n="bw"==e?" th\u1eafng l\u1edbn Aztect":" th\u1eafng quay mi\u1ec5n ph\xed Aztect";break;case s.default.Asgard:n="bw"==e?" th\u1eafng l\u1edbn Asgard":" th\u1eafng quay mi\u1ec5n ph\xed Asgard";break;case s.default.QuyBa:n="bw"==e?" th\u1eafng l\u1edbn Cocktail Night":" th\u1eafng quay mi\u1ec5n ph\xed Cocktail Night";break;case s.default.DuaXe:n="bw"==e?" th\u1eafng l\u1edbn Speed Winner":" th\u1eafng quay mi\u1ec5n ph\xed Speed Winner";break;case s.default.MatChuoc:n="bw"==e?" th\u1eafng l\u1edbn M\u1ea1t Ch\u01b0\u1ee3c":" th\u1eafng quay mi\u1ec5n ph\xed M\u1ea1t Ch\u01b0\u1ee3c";break;case s.default.Medusa:n="bw"==e?" th\u1eafng l\u1edbn Medusa":" th\u1eafng quay mi\u1ec5n ph\xed Medusa";break;case s.default.AiCap:n="bw"==e?" th\u1eafng l\u1edbn Symbol of Egypt":" th\u1eafng quay mi\u1ec5n ph\xed Symbol of Egypt";break;case s.default.MuaDong:n="bw"==e?" th\u1eafng l\u1edbn Winter":" th\u1eafng quay mi\u1ec5n ph\xed Winter";break;case s.default.MiniPoker:n="bw"==e?" th\u1eafng l\u1edbn Mini Poker":" th\u1eafng quay mi\u1ec5n ph\xed"}return n},r([u(cc.Label)],e.prototype,"lbNoti",void 0),r([u(cc.Label)],e.prototype,"lbNickName",void 0),r([u(cc.Label)],e.prototype,"lbGameType",void 0),r([u(cc.Label)],e.prototype,"lbMoneyWin",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Game/GAME_TYPE":"GAME_TYPE","../Windown":"Windown"}],ItemBank:[function(t,e,n){"use strict";cc._RF.push(e,"262a4UVouBJpriYciLKx28d","ItemBank");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/REQUEST_CODE"),a=t("../../DefineTs/TextDefine"),c=t("../../InfoERR"),l=t("../../Network/ConectManager"),u=t("../../Windown"),p=t("./BaseItemQuick"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeReviceInfoBank=null,e.nodeInfoBank=null,e.nodeListBank=null,e.scrListBank=null,e.edbCaptchaBank=null,e.edbMoneyBank=null,e.lbCurrentBank=null,e.lbStkBank=null,e.lbTtkBank=null,e.lbContentBank=null,e.lbCurrentBankName=null,e.lbTimeBank=null,e.funCd=null,e.funCapcha=null,e.curentBankCode="",e}return i(e,t),e.prototype.excuted=function(){u.Windown.QuickShop.parentButton.active=!1,this.node.active=!0,cc.systemEvent.on(s.REQUEST_CODE.GetListBank,this.responseListBank,this),cc.systemEvent.on(s.REQUEST_CODE.GetConfigBank,this.responseConfigBank,this),cc.systemEvent.on(s.REQUEST_CODE.HuyBank,this.responseHuyBank,this),this.nodeReviceInfoBank.active=!1,this.edbCaptchaBank.string="",this.edbCaptchaBank.node.active=!0,u.Windown.CapchaController.requestCapcha(),this.scheduleOnce(this.funCapcha=function(){l.ConectManager.getIns().sendRequest(s.REQUEST_CODE.GetListBank,null)},.5)},e.prototype.reset=function(){u.Windown.QuickShop.parentButton.active=!0,this.node.active=!1,cc.systemEvent.targetOff(this),this.unschedule(this.funCd),this.unschedule(this.funCapcha),this.lbCurrentBank.string="",this.edbCaptchaBank.string=""},e.prototype.onLoad=function(){},e.prototype.onClickNap=function(){var t=u.Windown.splitToInt(this.edbMoneyBank.string),e=this.edbCaptchaBank.string;try{if("null"==this.curentBankCode)throw new c.InfoErr(a.TextDefine.NullBank);if(isNaN(t))throw new c.InfoErr(a.TextDefine.NullMenhGia);if(t<1e4)throw new c.InfoErr(a.TextDefine.LonHon10000);if(t%1e4!=0)throw new c.InfoErr(a.TextDefine.BoiSo10000);if(e.length<1)throw new c.InfoErr(a.TextDefine.NullCaptcha);var n=l.ConectManager.getIns().getSFSObj();n.putInt("amount",t),n.putUtfString("bankCode",this.curentBankCode),n.putUtfString("captcha",e),n.putInt("napvip",u.Windown.QuickShop.currentId),cc.log("data gui len: "+u.Windown.SFSObjToJson(n)),l.ConectManager.getIns().sendRequest(s.REQUEST_CODE.GetConfigBank,n),u.Windown.UIManager.showLoading()}catch(o){u.Windown.Dialog.showLog(o.message.replace("lvd----",""))}},e.prototype.onClickChooseBank=function(){this.nodeListBank.active=!this.nodeListBank.active},e.prototype.onClickChooseItemBank=function(t,e){var n=null;try{n=JSON.parse(e),this.lbCurrentBank.string=n.name,this.curentBankCode=n.code,this.onClickChooseBank(),cc.log("nhay vao choose bank ne")}catch(o){cc.error(o),u.Windown.Dialog.showLog(a.TextDefine.Error)}},e.prototype.start=function(){},e.prototype.responseConfigBank=function(t){u.Windown.UIManager.hideLoading(),cc.log(u.Windown.SFSObjToJson(t)),u.Windown.Dialog.checkAndShowLog(t,!0);var e=t.getUtfString("account"),n=t.getUtfString("account_name"),o=t.getUtfString("content");t.getDouble("rate"),t.getDouble("rateBonus"),t.getDouble("requireBonus"),this.lbStkBank.string=e,this.lbTtkBank.string=n,this.lbContentBank.string=o,this.nodeInfoBank.active=!1,cc.log("responseConfigBank"),this.nodeReviceInfoBank.active=!0,this.funCountDown(t.get("timeToExpired")),this.lbCurrentBankName.string=t.getUtfString("bank")},e.prototype.funCountDown=function(t){var e=this;this.schedule(this.funCd=function(){t--,e.lbTimeBank.string="Th\u1eddi gian c\xf2n l\u1ea1i("+t+")",t<1&&e.responseHuyBank()},1)},e.prototype.responseHuyBank=function(){cc.log("responseHuyBank"),u.Windown.UIManager.hideLoading(),this.unschedule(this.funCd),this.curentBankCode="null",this.nodeInfoBank.active=!0,this.nodeReviceInfoBank.active=!1,u.Windown.CapchaController.requestCapcha(),this.edbMoneyBank.string="",this.lbCurrentBankName.string="Ch\u1ecdn Ng\xe2n H\xe0ng",this.lbCurrentBank.string="Ch\u1ecdn ng\xe2n h\xe0ng"},e.prototype.responseListBank=function(t){u.Windown.UIManager.hideLoading(),u.Windown.Dialog.checkAndShowLog(t,!0);var e=t.getSFSArray("listBank");cc.log("arrListBank==",u.Windown.SFSArrToJson(e));for(var n=this.scrListBank.content,o=n.children[0],i=0,r=e.size();i<r;i++){var s=n.children[i];null==s&&((s=cc.instantiate(o)).parent=n),s.active=!0;var a=e.getSFSObject(i),c=a.get("code");a.get("name"),o.getComponentInChildren(cc.Label).string=c,o.getComponent(cc.Button).clickEvents[0].customEventData=u.Windown.SFSObjToJson(a)}},e.prototype.onClickCoppy=function(t,e){var n="";switch(e){case"ttk":n=this.lbTtkBank.string;break;case"stk":n=this.lbStkBank.string;break;case"noidung":n=this.lbContentBank.string}u.Windown.coppyToClip(n)},r([f(cc.Node)],e.prototype,"nodeReviceInfoBank",void 0),r([f(cc.Node)],e.prototype,"nodeInfoBank",void 0),r([f(cc.Node)],e.prototype,"nodeListBank",void 0),r([f(cc.ScrollView)],e.prototype,"scrListBank",void 0),r([f(cc.EditBox)],e.prototype,"edbCaptchaBank",void 0),r([f(cc.EditBox)],e.prototype,"edbMoneyBank",void 0),r([f(cc.Label)],e.prototype,"lbCurrentBank",void 0),r([f(cc.Label)],e.prototype,"lbStkBank",void 0),r([f(cc.Label)],e.prototype,"lbTtkBank",void 0),r([f(cc.Label)],e.prototype,"lbContentBank",void 0),r([f(cc.Label)],e.prototype,"lbCurrentBankName",void 0),r([f(cc.Label)],e.prototype,"lbTimeBank",void 0),r([d],e)}(p.default);n.default=y,cc._RF.pop()},{"../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../DefineTs/TextDefine":"TextDefine","../../InfoERR":"InfoERR","../../Network/ConectManager":"ConectManager","../../Windown":"Windown","./BaseItemQuick":"BaseItemQuick"}],ItemBetRoom:[function(t,e,n){"use strict";cc._RF.push(e,"e7331vdpzlAMpN7klFD4Vqw","ItemBetRoom");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Game/GAME_TYPE"),a=t("../Windown"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbMark=null,e.lbUser=null,e.mark=0,e.gameId=0,e.minAg=0,e}return i(e,t),e.prototype.setInfo=function(t,e,n){this.mark=t.mark,this.minAg=t.minAg,this.gameId=n,this.lbMark.string=""+a.Windown.formatMoney(t.mark,1,1e3),this.lbUser.string=""+t.currentCcu,cc.log("Index==="+e),this.node.getComponent(cc.Sprite).enabled=e%2==0,this.updateStateItem()},e.prototype.updateStateItem=function(){a.Windown.User.userAg<this.minAg?(this.node.getComponent(cc.Button).interactable=!1,this.node.getChildByName("ic_ChipRong").color=this.node.color=this.lbMark.node.color=this.node.getChildByName("item_friend").color=this.lbUser.node.color=cc.Color.GRAY):(this.node.getComponent(cc.Button).interactable=!0,this.node.getChildByName("ic_ChipRong").color=this.node.color=this.lbMark.node.color=this.lbUser.node.color=this.node.getChildByName("item_friend").color=cc.Color.WHITE)},e.prototype.onClickSelectBetRoom=function(){if(cc.log("mark="+this.mark),this.mark>=1e4)a.Windown.UIManager.showAlertMini("\u0110ang b\u1ea3o tr\xec,Vui l\xf2ng ch\u1ecdn ph\xf2ng kh\xe1c!");else switch(this.gameId){case s.default.TienLen:a.Windown.MainView.onClickJoinTienLen(null,null,!1,-1,this.mark,"");break;default:return}},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},r([u(cc.Label)],e.prototype,"lbMark",void 0),r([u(cc.Label)],e.prototype,"lbUser",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Game/GAME_TYPE":"GAME_TYPE","../Windown":"Windown"}],ItemBigWin:[function(t,e,n){"use strict";cc._RF.push(e,"af8a7V3rxNHb4b+j9ts3Scj","ItemBigWin");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../Game/GAME_TYPE"),l=t("../../Windown"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbInfo=null,e.lbMoney=null,e.img=null,e}return i(e,t),e.prototype.initItem=function(t){return s(this,void 0,void 0,function(){var e,n,o;return a(this,function(){switch(e=t.get("gt"),n=t.get("dt"),t.get("nn"),o=t.get("mt"),this.lbMoney.string="+"+l.Windown.formatNumber(o),e){case c.default.BongDem:n;break;case c.default.TruTien:case c.default.Xeng:case c.default.DieuThuyen:case c.default.NgoKhong:case c.default.Neko:case c.default.MatTroi:case c.default.KingKong:case c.default.RungRam:case c.default.Asgard:break;case c.default.MiniPoker:}return[2,n]})})},r([h(cc.RichText)],e.prototype,"lbInfo",void 0),r([h(cc.Label)],e.prototype,"lbMoney",void 0),r([h(cc.Sprite)],e.prototype,"img",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../Game/GAME_TYPE":"GAME_TYPE","../../Windown":"Windown"}],ItemBongDem:[function(t,e,n){"use strict";cc._RF.push(e,"b7fabnoM4lOQaUO1S+h4QYO","ItemBongDem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Network/ConectManager"),a=t("../../../../Scritps/Windown"),c=t("../Network/CODE_EVT"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.totalAmount=0,e.timeCd=0,e.idItem=0,e.lbAmount=null,e.lbName=null,e.spMask=null,e}return i(e,t),e.prototype.initItem=function(t){this.totalAmount=t.Amount,this.idItem=t.ItemId,this.timeCd=t.TimeCD,this.lbName.string=t.ItemName},e.prototype.setLabel=function(){this.lbAmount.string=this.totalAmount.toString()},e.prototype.updateAmount=function(t){this.totalAmount+=t,this.setLabel()},e.prototype.effectTakeItem=function(){this.setLabel(),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.15,{scale:1.3}).to(.15,{scale:1}).start()},e.prototype.onClick=function(){if(1!=this.idItem||!a.Windown.FishBongDem.fishBDView.nodeWave.active){var t=s.ConectManager.getIns().getSFSObj();t.putInt("ItemId",this.idItem),a.Windown.FishBongDem.sendRequest(c.default.PlayerUsingItemFishBD,t)}},e.prototype.update=function(){if(null!=a.Windown.FishBongDem&&null!=a.Windown.FishBongDem.me)if(1==this.idItem){var t=a.Windown.FishBongDem.me.timeItemIce;t>0?(this.spMask.node.active=!0,this.spMask.fillRange=t/this.timeCd):this.spMask.node.active=!1}else if(2==this.idItem){var e=a.Windown.FishBongDem.me.timeItemSpeed;e>0?(this.spMask.node.active=!0,this.spMask.fillRange=e/this.timeCd):this.spMask.node.active=!1}else if(3==this.idItem){var n=a.Windown.FishBongDem.me.timeItemTarget;n>0?(this.spMask.node.active=!0,this.spMask.fillRange=n/this.timeCd):this.spMask.node.active=!1}else if(4==this.idItem){var o=a.Windown.FishBongDem.me.timeItemTrieuHoi;o>0?(this.spMask.node.active=!0,this.spMask.fillRange=o/this.timeCd):this.spMask.node.active=!1}},r([p(cc.Integer)],e.prototype,"idItem",void 0),r([p(cc.Label)],e.prototype,"lbAmount",void 0),r([p(cc.Label)],e.prototype,"lbName",void 0),r([p(cc.Sprite)],e.prototype,"spMask",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Windown":"Windown","../Network/CODE_EVT":"CODE_EVT"}],ItemBoom:[function(t,e,n){"use strict";cc._RF.push(e,"239e2d1CSxDJL+SOfKiHLPa","ItemBoom");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lastPos=cc.Vec2.ZERO,e.posTarGet2=null,e}return i(e,t),e.prototype.moveBoom=function(t,e,n){var o=this;return new Promise(function(i){o.posTarGet2=n,o.node.runAction(cc.sequence(cc.delayTime(e),cc.bezierTo(2.5,[cc.v2(o.node.x+s.Windown.RandomNumber(-300,300),-200),cc.v2(t.x,100),t]),cc.callFunc(function(){o.node.opacity=0,i(null)})))})},e.prototype.moveNo=function(t,e){var n=this;this.node.stopAllActions(),0==this.posTarGet2.x?this.node.setPosition(0,600):this.node.setPosition(s.Windown.RandomNumber(-300,300)+this.posTarGet2.x,600),s.Windown.FishBongDem.getSound().playEffectNoStop(s.Windown.FishBongDem.getSound().wind),this.node.runAction(cc.sequence(cc.delayTime(t),cc.fadeIn(0),cc.moveTo(s.Windown.RandomNumber(10,20)/30,this.posTarGet2),cc.callFunc(function(){e.onNo(n.node)})))},e.prototype.update=function(){cc.director.getScheduler().getTimeScale();var t=cc.Vec2.subtract(new cc.Vec2,this.node.getPosition(),this.lastPos),e=180*Math.atan2(t.x,t.y)/Math.PI;this.node.angle=-e,this.lastPos=this.node.getPosition()},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown"}],ItemBtnGame:[function(t,e){"use strict";cc._RF.push(e,"4a12aEcV/dC7aAi/c48ztw5","ItemBtnGame"),cc.Class({extends:cc.Component,properties:{},init:function(){},onClick:function(){t("GameManager").getIns().currentRoomId=this.id,t("GameManager").getIns().dataRoomOwer=null;var e=t("NetworkManager").getIns().getSFSObj();e.putInt("id",t("GameManager").getIns().currentRoomId),t("NetworkManager").getIns().sendRequest(REQUEST_CODE.JoinRoom,e),Global.UIManager.showLoading()}}),cc._RF.pop()},{GameManager:void 0,NetworkManager:void 0}],ItemCard:[function(t,e,n){"use strict";cc._RF.push(e,"ce309iHYqBHh7pX94b+MflM","ItemCard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/REQUEST_CODE"),a=t("../../DefineTs/TextDefine"),c=t("../../Network/ConectManager"),l=t("../../Windown"),u=t("./BaseItemQuick"),p=cc._decorator,h=p.ccclass,d=p.property,f=1,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.edbSeri=null,e.edbMaThe=null,e.lbMenhGia=null,e.currentTypeNhaMang=f,e}return i(e,t),e.prototype.reset=function(){l.Windown.QuickShop.parentButton.active=!0,this.node.active=!1,cc.systemEvent.removeAll(this)},e.prototype.excuted=function(){cc.systemEvent.on(s.REQUEST_CODE.CashInCardNew,this.responseNap,this),cc.systemEvent.on(s.REQUEST_CODE.CashInCardTuan,this.responseNap,this),l.Windown.QuickShop.parentButton.active=!1,this.node.active=!0,this.edbSeri.string="",this.edbMaThe.string="",this.lbMenhGia.string="Gi\xe1 tr\u1ecb th\u1ebb "+l.Windown.formatNumber(l.Windown.QuickShop.currentMoney)},e.prototype.onToggle=function(t,e){this.currentTypeNhaMang=Number(e)},e.prototype.responseNap=function(t){cc.log(l.Windown.SFSObjToJson(t)),l.Windown.UIManager.hideLoading(),l.Windown.Dialog.checkAndShowLog(t,!0)},e.prototype.onClickSend=function(){var t=c.ConectManager.getIns().getSFSObj();t.putUtfString("seri",this.edbSeri.string),t.putUtfString("pin",this.edbMaThe.string),t.putInt("amount",l.Windown.QuickShop.currentMoney),t.putInt("cardType",this.currentTypeNhaMang),t.putInt("napvip",l.Windown.QuickShop.currentId);var e=a.TextDefine.CONFIRM_CARD.formatString(this.getNameNhaMang(this.currentTypeNhaMang),l.Windown.formatNumber(l.Windown.formatNumber(l.Windown.QuickShop.currentMoney)),this.edbSeri.string,this.edbMaThe.string);l.Windown.Dialog.showLog(e,function(){c.ConectManager.getIns().sendRequest(s.REQUEST_CODE.CashInCardTuan,t),l.Windown.UIManager.showLoading()},!0)},e.prototype.getNameNhaMang=function(t){switch(t){case f:return"VIETTEL";case 2:return"MOBIFONE";case 3:return"VINA"}return"L\u1ed7i"},r([d(cc.EditBox)],e.prototype,"edbSeri",void 0),r([d(cc.EditBox)],e.prototype,"edbMaThe",void 0),r([d(cc.Label)],e.prototype,"lbMenhGia",void 0),r([h],e)}(u.default);n.default=y,cc._RF.pop()},{"../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../DefineTs/TextDefine":"TextDefine","../../Network/ConectManager":"ConectManager","../../Windown":"Windown","./BaseItemQuick":"BaseItemQuick"}],ItemChat:[function(t,e,n){"use strict";cc._RF.push(e,"fb7b6fIYdZC5qOF1teSuOjT","ItemChat");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../Windown"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbInfo=null,e.bkg=null,e.spItem=null,e.lbTime=null,e.isMe=!1,e._idItem=0,e._time=0,e.isItemBase64=!1,e}return i(e,t),e.prototype.onEnable=function(){this.lbInfo.node.on(cc.Node.EventType.SIZE_CHANGED,this.onSizeChange,this)},e.prototype.onDisable=function(){this.lbInfo.node.off(cc.Node.EventType.SIZE_CHANGED,this.onSizeChange,this)},e.prototype.onSizeChangeItembase64=function(){var t=this.spItem.node.getContentSize(),e=t.width,n=t.height,o=e,i=n;if(e>n)e>400?(o=e*(r=400/e),i=n*r):e<100&&(o=e*(r=100/e),i=n*r);else if(n>400)o=e*(r=400/n),i=n*r;else if(n<100){var r;o=e*(r=100/n),i=n*r}this.spItem.node.setContentSize(o,i),this.node.setContentSize(o,i)},e.prototype.onClickbase64=function(){c.Windown.UIManager.showImgChat(this.spItem.spriteFrame)},e.prototype.onSizeChange=function(){if(!this.isItemBase64){var t=this.lbInfo.node.getContentSize();t.width+=50,t.height+=20,this.bkg.setContentSize(t),this.node.setContentSize(t),this.isMe?this.lbTime.node.setPosition(-this.bkg.width/2,this.bkg.height):this.lbTime.node.setPosition(this.bkg.width/2,this.bkg.height)}},e.prototype.onClick=function(){cc.log("onclick"),this.lbTime.node.active=!this.lbTime.node.active,this.lbTime.node.active?this.isItemBase64?this.onClickbase64():this.node.height=this.bkg.height+this.lbTime.node.height:this.isItemBase64?this.onClickbase64():this.node.height=this.bkg.height},e.prototype.initItem=function(t){return s(this,void 0,void 0,function(){var e,n,o;return a(this,function(i){switch(i.label){case 0:return this.lbTime.node.active=!1,e=t.getLong("id"),this._idItem==e?[2]:(n=t.getText("base64Img"))&&""!=n?(this.isItemBase64=!0,this.lbInfo.node.active=!1,this.bkg.active=!1,this.spItem.node.active=!0,o=this.spItem,[4,c.Windown.getSpFrameByBase64(n)]):[3,2];case 1:return o.spriteFrame=i.sent(),this.onSizeChangeItembase64(),[3,3];case 2:this.isItemBase64=!1,this.lbInfo.string=t.getUtfString("info"),this._idItem=e,this.lbTime.string=c.Windown.formatDate(new Date(t.getLong("time")),"HH:mm:ss dddd"),this.lbInfo.node.active=!0,this.bkg.active=!0,this.spItem.node.active=!1,this.onSizeChange(),i.label=3;case 3:return this.setPos(),[2]}})})},e.prototype.setPos=function(){this.isMe?this.node.x=292:this.node.x=-292},r([p(cc.Label)],e.prototype,"lbInfo",void 0),r([p(cc.Node)],e.prototype,"bkg",void 0),r([p(cc.Sprite)],e.prototype,"spItem",void 0),r([p(cc.Label)],e.prototype,"lbTime",void 0),r([p(cc.Boolean)],e.prototype,"isMe",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../Windown":"Windown"}],ItemChiTietPhien:[function(t,e,n){"use strict";cc._RF.push(e,"46d3cmoSNRJKYxA2We3DXFS","ItemChiTietPhien");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTime=null,e.lbName=null,e.lbBet=null,e}return i(e,t),e.prototype.initItem=function(t){this.lbTime.string=s.Windown.formatDate(new Date(t.get("timeBet")),"HH:mm:ss"),this.lbName.string=t.get("name"),this.lbBet.string=s.Windown.formatNumber(t.get("agBet"))},r([l(cc.Label)],e.prototype,"lbTime",void 0),r([l(cc.Label)],e.prototype,"lbName",void 0),r([l(cc.Label)],e.prototype,"lbBet",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],ItemCoppy:[function(t,e,n){"use strict";cc._RF.push(e,"e5219Y+bIBD/JViJaFmdQEf","ItemCoppy");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,a.requireComponent),u=a.menu,p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onClick,this)},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onClick,this)},e.prototype.onClick=function(){s.Windown.coppyToClip(this.getComponent(cc.Label).string)},r([c,l(cc.Label),u("ItemCoppy")],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Windown":"Windown"}],ItemDetalAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"44bf8DEjxhOLLTDnbd/GvE2","ItemDetalAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},r([c(cc.Label)],e.prototype,"label",void 0),r([c],e.prototype,"text",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],ItemDetalNeko:[function(t,e,n){"use strict";cc._RF.push(e,"7743085i4RNu5hc6neJLqdT","ItemDetalNeko");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},r([c(cc.Label)],e.prototype,"label",void 0),r([c],e.prototype,"text",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],ItemDetalRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"0f297qivoJMGos6w3BKGd54","ItemDetalRungRam");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},r([c(cc.Label)],e.prototype,"label",void 0),r([c],e.prototype,"text",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],ItemDoiAva:[function(t,e,n){"use strict";cc._RF.push(e,"806d0UISCRMjIqKYoEoHyI/","ItemDoiAva");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../ClearCacheBase64"),l=t("../../DefineTs/PathResource"),u=t("../../DefineTs/REQUEST_CODE"),p=t("../../Network/ConectManager"),h=t("../../Windown"),d=cc._decorator,f=d.ccclass,y=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ava=null,e.nodeTick=null,e.id=-1,e.type=0,e.base64="",e}return i(e,t),e.prototype.init=function(t,e){return void 0===e&&(e=null),s(this,void 0,void 0,function(){var n,o;return a(this,function(i){switch(i.label){case 0:return n=l.PathResource.Avatar.replace("%d",t),this.id=t,o=this.ava,[4,h.Windown.getSpFrameRes(n)];case 1:return o.spriteFrame=i.sent(),e&&(this.type=e),this.updateTich(),[2]}})})},e.prototype.initWithCustom=function(t){return s(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return this.id=-1,this.type=2,this.base64=t,this.updateTich(),e=this.ava,[4,h.Windown.getSpFrameByBase64(t)];case 1:return e.spriteFrame=n.sent(),[2]}})})},e.prototype.initFb=function(t,e){return s(this,void 0,void 0,function(){var n;return a(this,function(o){switch(o.label){case 0:return this.id=-1,this.type=1,this.updateTich(),n=this.ava,[4,h.Windown.getSpByFb(t,e)];case 1:return n.spriteFrame=o.sent(),[2]}})})},e.prototype.updateTich=function(){this.nodeTick.active=!1,0==this.type?this.id==h.Windown.User.avatrId&&0==h.Windown.User.typeAvarta&&(this.nodeTick.active=!0):this.type==h.Windown.User.typeAvarta&&(this.nodeTick.active=!0)},e.prototype.onLoad=function(){this.ava.addComponent(c.default).isEmitDisble=!0},e.prototype.onClick=function(){if(!this.nodeTick.active){var t=p.ConectManager.getIns().getSFSObj();t.putInt("type",this.type),t.putInt("id",this.id),2==this.type&&(t.putText("base64",this.base64),h.Windown.DoiAva.currentBase64Crop=this.base64),p.ConectManager.getIns().sendRequestToCallback(u.REQUEST_CODE.ChangeAvatar,t,h.Windown.DoiAva.responseChangeAva.bind(h.Windown.DoiAva)),h.Windown.UIManager.showLoading()}},r([y(cc.Sprite)],e.prototype,"ava",void 0),r([y(cc.Node)],e.prototype,"nodeTick",void 0),r([f],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../ClearCacheBase64":"ClearCacheBase64","../../DefineTs/PathResource":"PathResource","../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../Network/ConectManager":"ConectManager","../../Windown":"Windown"}],ItemGame:[function(t,e,n){"use strict";cc._RF.push(e,"c87653sOR9LUqe7Pp5cOaW3","ItemGame");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentView=null,e.text="hello",e.isActive=!1,e}return i(e,t),e.prototype.start=function(){},e.prototype.update=function(){var t=this;cc.isValid(this.parentView)&&(s.Windown.convertNodeInOtherNode(this.node,this.parentView).x<-this.parentView.width/2-this.node.width/2||s.Windown.convertNodeInOtherNode(this.node,this.parentView).x>this.parentView.width/2+this.node.width/2?this.isActive=!1:this.isActive=!0,this.node.children.forEach(function(e){e.active=t.isActive}))},r([l(cc.Node)],e.prototype,"parentView",void 0),r([l],e.prototype,"text",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../Windown":"Windown"}],ItemHangLobby:[function(t,e,n){"use strict";cc._RF.push(e,"1172fq0Y1NEB5syVdrRoRdF","ItemHangLobby");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/EVENT_MANAGER"),a=t("../../DefineTs/REQUEST_CODE"),c=t("../../Network/ConectManager"),l=t("../../Windown"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbName=null,e.lbType=null,e.spRank=null,e.spAva=null,e.listSpRank=[],e.funSche=null,e.count=0,e.isFirt=!0,e.cacheX=5,e}return i(e,t),e.prototype.run=function(){var t=this,e=this.listData.getSFSObject(this.count);0==e.getInt("type")&&(this.lbName.string=e.getUtfString("nickname"),this.spRank.spriteFrame=this.listSpRank[e.getInt("index")],0==e.getInt("type")?(this.lbType.string="TOP WIN TU\u1ea6N",this.lbType.fontSize=27):(this.lbType.string="TOP LEVEL TH\xc1NG",this.lbType.fontSize=24),this.node.x=this.node.width-this.cacheX,l.Windown.updateAvatar(e,this.spAva),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).set({opacity:0}).to(.5,{x:this.cacheX,opacity:255},{easing:"backOut"}).delay(5).to(.5,{x:this.cacheX-this.node.width,opacity:0},{easing:"backIn"}).call(function(){t.count++,t.count>=t.listData.size()&&(t.count=0),t.run()}).start())},e.prototype.start=function(){cc.systemEvent.on(s.EVENT_MANAGER.onConnect,this.onConnectServer,this),cc.systemEvent.on(s.EVENT_MANAGER.onDisconnect,this.onDisConnect,this),cc.systemEvent.on(a.REQUEST_CODE.GetRankLobby,this.responseServer,this),this.node.x=this.node.width-this.cacheX,l.Windown.User.isLogin&&this.onConnectServer()},e.prototype.onDestroy=function(){cc.systemEvent.removeAll(this)},e.prototype.onConnectServer=function(){c.ConectManager.getIns().sendRequest(a.REQUEST_CODE.GetRankLobby,null)},e.prototype.onDisConnect=function(){this.unschedule(this.funSche)},e.prototype.responseServer=function(t){this.listData=new SFS2X.SFSArray;var e=t.getSFSArray("Items");if(e.size()<1)return this.node.x=this.node.width-this.cacheX,this.unschedule(this.funSche),void this.scheduleOnce(this.funSche=function(){c.ConectManager.getIns().sendRequest(a.REQUEST_CODE.GetRankLobby,null)},60);for(var n=0;n<e.size();n++){var o=e.getSFSObject(n);0==o.getInt("type")&&this.listData.addSFSObject(o)}this.isFirt&&(this.run(),this.isFirt=!1),this.count>=this.listData.size()&&(this.count=0),this.unschedule(this.funSche),this.scheduleOnce(this.funSche=function(){c.ConectManager.getIns().sendRequest(a.REQUEST_CODE.GetRankLobby,null)},60)},r([h(cc.Label)],e.prototype,"lbName",void 0),r([h(cc.Label)],e.prototype,"lbType",void 0),r([h(cc.Sprite)],e.prototype,"spRank",void 0),r([h(cc.Sprite)],e.prototype,"spAva",void 0),r([h([cc.SpriteFrame])],e.prototype,"listSpRank",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../Network/ConectManager":"ConectManager","../../Windown":"Windown"}],ItemHistoryHuTX:[function(t,e,n){"use strict";cc._RF.push(e,"789f95pxOpGjo/+Pf4JbMxS","ItemHistoryHuTX");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.idPlayer=null,e}return i(e,t),e.prototype.initItem=function(t,e){this.node.getChildByName("bar").active=e%2==0;var n=this.getComponentsInChildren(cc.Label);n[3].string=e+1+"",n[1].string=t.get("nickname"),n[2].string=s.Windown.formatNumber(t.get("agWin"),!1);var o=cc.find("Mask/ava",this.node).getComponent(cc.Sprite);this.idPlayer=t.get("iduser"),s.Windown.updateAvatar(t,o)},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],ItemHomThu:[function(t,e,n){"use strict";cc._RF.push(e,"e320aHcwiFJVoC/PIr6XC2s","ItemHomThu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbStt=null,e.lbTieuDe=null,e.lbThoiGian=null,e.objInfo=null,e}return i(e,t),e.prototype.initItem=function(t){this.objInfo=t,t.getInt("idMail");var e=t.getUtfString("header"),n=t.getLong("time"),o=t.getInt("index");this.getComponentInChildren(cc.Sprite).enabled=o%2==0,this.lbStt.string=o+"",this.lbTieuDe.string=e,this.lbThoiGian.string=s.Windown.getShortTime(n),this.updateStatus(t.getInt("status"))},e.prototype.updateStatus=function(t){this.node.children[1].active=0==t},e.prototype.onClick=function(){s.Windown.HomThuController.mailView.updateInfo(this.objInfo)},r([l(cc.Label)],e.prototype,"lbStt",void 0),r([l(cc.Label)],e.prototype,"lbTieuDe",void 0),r([l(cc.Label)],e.prototype,"lbThoiGian",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Windown":"Windown"}],ItemIAP:[function(t,e,n){"use strict";cc._RF.push(e,"5eaa5qp6vhBzpZyE62X//gA","ItemIAP");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moneyNeed=0,e.moneyRevice=0,e}return i(e,t),e.prototype.onClick=function(){var t="B\u1ea1n \u0111\u1ed3ng \xfd mua g\xf3i "+this.moneyNeed+"$ \u0111\u1ec3 \u0111\u01b0\u1ee3c "+this.moneyRevice+" v\xe0ng ?";s.Windown.Dialog.showLog(t,function(){})},r([l(cc.Float)],e.prototype,"moneyNeed",void 0),r([l(cc.Float)],e.prototype,"moneyRevice",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Windown":"Windown"}],ItemIconAdmin:[function(t,e,n){"use strict";cc._RF.push(e,"a0b42ewQ4NF+ZK/fcBR2wfu","ItemIconAdmin");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbName=null,e.lbNumNotRead=null,e}return i(e,t),e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onClick,this)},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onClick,this)},e.prototype.onClick=function(t,e){cc.log("show windownchat"),s.Windown.ChatAdminController.showWindownChat(this.lbName.string,e),t&&t.stopPropagation()},e.prototype.initItem=function(t,e){this.lbName.string=t,e&&t==e&&this.onClick(null,!0),this.updateCountNotRead()},e.prototype.updateCountNotRead=function(){var t=s.Windown.ChatAdminController.getCountNotReadByAdmin(this.lbName.string);t>0?(this.lbNumNotRead.node.parent.active=!0,this.lbNumNotRead.string=t.toString()):this.lbNumNotRead.node.parent.active=!1},r([l(cc.Label)],e.prototype,"lbName",void 0),r([l(cc.Label)],e.prototype,"lbNumNotRead",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Windown":"Windown"}],ItemIndicator:[function(t,e,n){"use strict";cc._RF.push(e,"c2b56lCaGRJKI16E9ydJssj","ItemIndicator");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbIndex=null,e.nodeChecked=null,e.pageData=null,e.index=0,e}return i(e,t),e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onClick,this)},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onClick,this)},e.prototype.setPage=function(t){this.pageData=t},e.prototype.initIndex=function(t){this.index=t,-1!=this.index?this.lbIndex.string=t.toString():this.lbIndex.string="..."},e.prototype.getIndex=function(){return this.index},e.prototype.onClick=function(){-1!=this.index&&this.pageData.onClickIndicator(this.index)},e.prototype.setCheck=function(t){this.nodeChecked.active=t},r([c(cc.Label)],e.prototype,"lbIndex",void 0),r([c(cc.Node)],e.prototype,"nodeChecked",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],ItemKhung:[function(t,e,n){"use strict";cc._RF.push(e,"283a5LlZsFPkZdm7WpnNtGB","ItemKhung");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listChanSize=[],e.currentIndex=0,e.listChanSizeMax=[],e.nodeMoveBot=null,e.nodeMoveTop=null,e.itemPre=null,e}return i(e,t),e.prototype.intiItemKhungPre=function(t){this.itemPre=t},e.prototype.updateIndex=function(){this.currentIndex++},e.prototype.reset=function(){0!=this.currentIndex&&(this.currentIndex=0,this.emitNewSize())},e.prototype.emitNewSize=function(t){var e=this;void 0===t&&(t=!0);var n=.2;if(t||(n=0),this.itemPre){var o=Math.abs(this.currentIndex-this.itemPre.currentIndex);0==o?this.listChanSize.forEach(function(t){cc.Tween.stopAllByTarget(t),cc.tween(t).to(n,{height:0}).start()}):this.listChanSize.forEach(function(t){cc.Tween.stopAllByTarget(t),cc.tween(t).to(n,{height:3+65*o}).start()});var i=265+65*(this.currentIndex>this.itemPre.currentIndex?this.itemPre.currentIndex:this.currentIndex);this.listChanSize[0].runAction(cc.moveTo(n,cc.v2(this.listChanSize[0].x,i))),this.listChanSize[1].runAction(cc.moveTo(n,cc.v2(this.listChanSize[0].x,5-i)))}var r=528+130*this.currentIndex;this.listChanSizeMax.forEach(function(t){cc.Tween.stopAllByTarget(t),cc.tween(t).to(n,{height:r}).start()});var s=520+130*this.currentIndex;cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(n,{height:s}).call(function(){e.getComponentsInChildren(cc.Widget).forEach(function(t){t.alignMode=cc.Widget.AlignMode.ON_WINDOW_RESIZE})}).start();var a=3+65*this.currentIndex;this.nodeMoveTop.stopAllActions(),this.nodeMoveTop.runAction(cc.moveTo(n,cc.v2(this.nodeMoveTop.x,263+a))),this.nodeMoveBot.stopAllActions(),this.nodeMoveBot.runAction(cc.moveTo(n,cc.v2(this.nodeMoveBot.x,-(260+a-3))))},r([c([cc.Node])],e.prototype,"listChanSize",void 0),r([c([cc.Node])],e.prototype,"listChanSizeMax",void 0),r([c(cc.Node)],e.prototype,"nodeMoveBot",void 0),r([c(cc.Node)],e.prototype,"nodeMoveTop",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],ItemLevelController:[function(t,e,n){"use strict";cc._RF.push(e,"b9369rk4e1FxYJBGRBXUD91","ItemLevelController");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../DefineTs/EVENT_MANAGER"),a=t("../DefineTs/TextDefine"),c=t("../Windown"),l=cc.Enum({NONE:0,BAN_CA:32,XENG:1}),u=cc.Enum({GAME:0,LEVEL:1,ROOM:2,GUNID:3,CASH_OUT:4}),p=cc._decorator,h=p.ccclass,d=p.property,f=p.menu,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.type=u.GAME,e.gameType=l.NONE,e.idRoom=1,e.imgLock=null,e._isLock=!1,e.currentGunId=0,e.configCurrent=null,e}return i(e,t),Object.defineProperty(e.prototype,"isLock",{get:function(){return this._isLock},set:function(t){var e=null==this.target?null:this.target.getComponent(cc.Button);t&&e?(e.interactable=!1,this.onEvent()):(e&&(e.interactable=!0),this.offEvent()),this.imgLock&&(this.imgLock.node.active=t),this._isLock=t},enumerable:!1,configurable:!0}),e.prototype.onEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onclick,this)},e.prototype.offEvent=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onclick,this)},e.prototype.onclick=function(t){var e="";if(this.type==u.CASH_OUT){var n=c.Windown.getLevelCashOut();e=a.TextDefine.NEED_LEVEL_C_OUT.formatString(n)}else e=a.TextDefine.NEED_LEVEL;c.Windown.Dialog.showLog(e),t.stopPropagation()},e.prototype.onLoad=function(){null==this.target&&(this.target=this.node),this.isLock=!1},e.prototype.onEnable=function(){cc.systemEvent.on(s.EVENT_MANAGER.LEVEL_UP,this.emitNewData,this),this.emitNewData()},e.prototype.onDisable=function(){cc.systemEvent.off(s.EVENT_MANAGER.LEVEL_UP,this.emitNewData,this),this.offEvent()},e.prototype.emitNewData=function(){if(this.configCurrent=c.Windown.getConfigLevel(),null!=this.configCurrent)switch(this.type){case u.GAME:this.setGame();break;case u.CASH_OUT:this.setCashOut();break;case u.ROOM:this.setRoom(this.idRoom);break;case u.GUNID:this.setGunId(this.currentGunId)}},e.prototype.updateLevelConfig=function(){null==this.configCurrent&&(this.configCurrent=c.Windown.getConfigLevel())},e.prototype.setGame=function(){var t=this.configCurrent.GameUnlock;if(this.isLock=!0,null!=t)for(var e=0,n=t.length;e<n;e++){var o=t[e];if(o.GameId==this.gameType){null!=o.RoomType&&o.RoomType.length>0&&(this.isLock=!1);break}}else this.isLock=!1},e.prototype.setCashOut=function(){this.configCurrent.IsCashout?this.isLock=!1:this.isLock=!0},e.prototype.setRoom=function(t){if(0!=t){this.idRoom=t;var e=this.configCurrent.GameUnlock;if(this.isLock=!0,null!=e)for(var n=0,o=e.length;n<o;n++){var i=e[n];if(i.GameId==this.gameType){null!=i.RoomType&&i.RoomType.length>0&&(0==i.RoomType[0]||i.RoomType.includes(this.idRoom))&&(this.isLock=!1);break}}else this.isLock=!1}},e.prototype.setGunId=function(t){this.currentGunId=t;var e=this.configCurrent.GameUnlock;if(this.isLock=!0,null!=e)for(var n=0,o=e.length;n<o;n++){var i=e[n];if(i.GameId==l.BAN_CA){1==this.idRoom?null!=i.GunType1&&i.GunType1.length>0&&(0==i.GunType1[0]||i.GunType1.includes(this.currentGunId+1))&&(this.isLock=!1):null!=i.GunType2&&i.GunType2.length>0&&(0==i.GunType2[0]||i.GunType2.includes(this.currentGunId+1))&&(this.isLock=!1);break}}else this.isLock=!1},r([d(cc.Node)],e.prototype,"target",void 0),r([d({type:u})],e.prototype,"type",void 0),r([d({type:l,visible:function(){return this.type==u.GAME||this.type==u.ROOM}})],e.prototype,"gameType",void 0),r([d({type:cc.Integer,visible:function(){return this.type==u.ROOM}})],e.prototype,"idRoom",void 0),r([d({type:cc.Sprite,visible:function(){var t=!0;return this.type==u.LEVEL&&(t=!1),t||(this.imgLock=null),t}})],e.prototype,"imgLock",void 0),r([h,f("ItemLevelController")],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../DefineTs/TextDefine":"TextDefine","../Windown":"Windown"}],ItemLichSuAiCap:[function(t,e,n){"use strict";cc._RF.push(e,"e09a5jbPUZPVajEQcuAIFpo","ItemLichSuAiCap");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Network/ConectManager"),c=t("../../../Scritps/Windown"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTime=null,e.lbBet=null,e.lbWin=null,e.data=null,e}return i(e,t),e.prototype.initItem=function(t){try{this.data=t;var e=this.data.get("date"),n=this.data.get("bet"),o=this.data.get("agWin");this.lbTime.string=c.Windown.formatDate(new Date(e),"dd/MM\nHH:mm:ss"),this.lbBet.string=c.Windown.formatNumber(n*c.Windown.AiCap.totalLineBet),this.lbWin.string=c.Windown.formatNumber(o)}catch(i){console.error(i)}},e.prototype.onClick=function(){var t=a.ConectManager.getIns().getSFSObj();t.putInt("id",this.data.get("id")),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryChiTietAiCap,t,c.Windown.AiCap.roomSFS),c.Windown.AiCap.audio.playClick(),c.Windown.UIManager.showLoading()},r([p(cc.Label)],e.prototype,"lbTime",void 0),r([p(cc.Label)],e.prototype,"lbBet",void 0),r([p(cc.Label)],e.prototype,"lbWin",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Windown":"Windown"}],ItemLichSuAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"e482aNwn7ZIPL01n+MfDm5s","ItemLichSuAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Network/ConectManager"),c=t("../../../Scritps/Windown"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTime=null,e.lbBet=null,e.lbWin=null,e.data=null,e}return i(e,t),e.prototype.initItem=function(t){try{this.data=t;var e=this.data.get("date"),n=this.data.get("bet"),o=this.data.get("agWin");this.lbTime.string=c.Windown.formatDate(new Date(e),"dd/MM\nHH:mm:ss"),this.lbBet.string=c.Windown.formatNumber(n*c.Windown.Asgard.totalLineBet),this.lbWin.string=c.Windown.formatNumber(o)}catch(i){console.error(i)}},e.prototype.onClick=function(){var t=a.ConectManager.getIns().getSFSObj();t.putInt("id",this.data.get("id")),console.log("id la: "+this.data.get("id")),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryChiTietAsgard,t,c.Windown.Asgard.roomSFS),c.Windown.Asgard.audio.playClick(),c.Windown.UIManager.showLoading()},r([p(cc.Label)],e.prototype,"lbTime",void 0),r([p(cc.Label)],e.prototype,"lbBet",void 0),r([p(cc.Label)],e.prototype,"lbWin",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Windown":"Windown"}],ItemLichSuCaishen:[function(t,e,n){"use strict";cc._RF.push(e,"87397E9M4FOHrs08IbF6Hdk","ItemLichSuCaishen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Network/ConectManager"),c=t("../../../Scritps/Windown"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTime=null,e.lbBet=null,e.lbWin=null,e.data=null,e}return i(e,t),e.prototype.initItem=function(t){try{this.data=t;var e=this.data.get("date"),n=this.data.get("bet"),o=this.data.get("agWin");this.lbTime.string=c.Windown.formatDate(new Date(e),"dd/MM\nHH:mm:ss"),this.lbBet.string=c.Windown.formatNumber(n*c.Windown.Caishen.totalLineBet),this.lbWin.string=c.Windown.formatNumber(o)}catch(i){console.error(i)}},e.prototype.onClick=function(){var t=a.ConectManager.getIns().getSFSObj();t.putInt("id",this.data.get("id")),console.log("id la: "+this.data.get("id")),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryChiTietCaishen,t,c.Windown.Caishen.roomSFS),c.Windown.Caishen.audio.playClick(),c.Windown.UIManager.showLoading()},r([p(cc.Label)],e.prototype,"lbTime",void 0),r([p(cc.Label)],e.prototype,"lbBet",void 0),r([p(cc.Label)],e.prototype,"lbWin",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Windown":"Windown"}],ItemLichSuDieuThuyen:[function(t,e,n){"use strict";cc._RF.push(e,"a0d64XSx+hNUK+CwVJ+Zcfj","ItemLichSuDieuThuyen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTime=null,e.lbBet=null,e.lbWin=null,e.data=null,e}return i(e,t),e.prototype.initItem=function(t){try{this.data=t;var e=this.data.get("date");this.lbTime.string=s.Windown.formatDate(new Date(e),"dd/MM\nHH:mm:ss");var n=this.data.get("infolog"),o=JSON.parse(n);this.lbBet.string=s.Windown.formatNumber(o.agBet*s.Windown.DieuThuyen.totalLineBet),this.lbWin.string=s.Windown.formatNumber(o.agWin)}catch(i){console.error(i)}},e.prototype.onClick=function(){s.Windown.DieuThuyen.audio.playClick(),s.Windown.DieuThuyen.popupLichSu.showDetail(this.data)},r([l(cc.Label)],e.prototype,"lbTime",void 0),r([l(cc.Label)],e.prototype,"lbBet",void 0),r([l(cc.Label)],e.prototype,"lbWin",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],ItemLichSuDuaXe:[function(t,e,n){"use strict";cc._RF.push(e,"1c846RoJrhKKIcASe41JsBn","ItemLichSuDuaXe");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=t("../../../Scritps/DefineTs/REQUEST_CODE"),u=t("../../../Scritps/Network/ConectManager"),p=t("../../../Scritps/Windown"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTime=null,e.lbBet=null,e.lbWin=null,e.data=null,e}return i(e,t),e.prototype.initItem=function(t){try{this.data=t;var e=this.data.date,n=this.data.bet,o=this.data.agWin;this.lbTime.string=p.Windown.formatDate(new Date(e),"dd/MM\nHH:mm:ss"),this.lbBet.string=p.Windown.formatNumber(n*p.Windown.DuaXe.totalLineBet),this.lbWin.string=p.Windown.formatNumber(0|o)}catch(i){console.error(i)}},e.prototype.onClick=function(){var t=u.ConectManager.getIns().getSFSObj();t.putInt("id",this.data.id),u.ConectManager.getIns().sendRequest(l.REQUEST_CODE.HistoryChiTietDuaXe,t,p.Windown.DuaXe.roomSFS),p.Windown.DuaXe.audio.playClick(),p.Windown.UIManager.showLoading()},r([c(cc.Label)],e.prototype,"lbTime",void 0),r([c(cc.Label)],e.prototype,"lbBet",void 0),r([c(cc.Label)],e.prototype,"lbWin",void 0),r([a],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Windown":"Windown"}],ItemLichSuGiaoDich:[function(t,e,n){"use strict";cc._RF.push(e,"d8cdft3jJhNGJDUkK7pdIMO","ItemLichSuGiaoDich");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/REQUEST_CODE"),a=t("../../Network/ConectManager"),c=t("../../Windown"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbDate=null,e.lbTransId=null,e.lbTypeGiaoDich=null,e.lbCardType=null,e.lbCardAmount=null,e.lbMoneyChange=null,e.lbMoneyUser=null,e.lbStatus=null,e.btnHuy=null,e.type=-1,e.cardType=-1,e}return i(e,t),e.prototype.initItem=function(t){cc.log(c.Windown.SFSObjToJson(t)),this.lbDate.string=c.Windown.formatDate(new Date(t.getLong("date")),"MM/dd HH:mm:ss").replace(" ","\n"),this.lbTransId.string=t.getUtfString("transId"),this.lbTypeGiaoDich.string=this.convertLoaiGiaoDich(t.getInt("typeGiaoDich")),this.type=t.getInt("typeGiaoDich"),this.lbCardType.string=this.convertCardType(t.getInt("cardType")),this.cardType=t.getInt("cardType"),this.lbCardAmount.string=c.Windown.formatNumber(t.getInt("cardAmount"))+" VN\u0110",this.lbMoneyUser.string=c.Windown.formatNumber(t.getLong("moneyUser")),this.lbMoneyChange.string=c.Windown.formatNumber(t.getInt("moneyChangeUser"));var e=t.getInt("status");this.lbStatus.string=this.convertTrangThai(e,this.lbStatus.node),0==e&&1!=this.type?(this.btnHuy.node.active=!0,this.lbStatus.node.active=!1):(this.btnHuy.node.active=!1,this.lbStatus.node.active=!0)},e.prototype.convertCardType=function(t){switch(t){case 1:return"VIETTEL";case 2:return"MOBILE";case 3:return"VINA";case 4:return"MOMO";case 6:case 10:return"BANK"}},e.prototype.convertLoaiGiaoDich=function(t){return 1==t?"N\u1ea1p":"\u0110\u1ed5i"},e.prototype.convertTrangThai=function(t,e){return 10==this.cardType?1e3==t?(e.color=cc.Color.GREEN,"Th\xe0nh C\xf4ng"):-1e3==t?(e.color=cc.Color.GREEN,"Ch\u1edd Duy\u1ec7t"):(e.color=cc.Color.RED,"Th\u1ea5t B\u1ea1i"):(e.color=cc.Color.GREEN,1!=this.type?0==t?"Ch\u1edd duy\u1ec7t":1==t?(e.color=cc.Color.RED,"\u0110\xe3 h\u1ee7y"):"Th\xe0nh c\xf4ng":this.cardType<4?0==t?"Th\xe0nh c\xf4ng":159==t?"Ch\u1edd duy\u1ec7t":(e.color=cc.Color.RED,"Th\u1ea5t b\u1ea1i"):2==t?"Th\xe0nh c\xf4ng":(e.color=cc.Color.RED,"Ch\u1edd"))},e.prototype.onClickHuy=function(){var t=this;if(1!=this.type){cc.systemEvent.targetOff(this),cc.systemEvent.once(s.REQUEST_CODE.HuyDoiThe,function(e){c.Windown.Dialog.checkAndShowLog(e,!0),t.lbStatus.string=t.convertTrangThai(1,t.lbStatus.node),t.btnHuy.node.active=!1,t.lbStatus.node.active=!0},this),c.Windown.UIManager.showLoading();var e=a.ConectManager.getIns().getSFSObj();e.putUtfString("id",this.lbTransId.string),e.putUtfString("info","null"),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HuyDoiThe,e)}},r([p(cc.Label)],e.prototype,"lbDate",void 0),r([p(cc.Label)],e.prototype,"lbTransId",void 0),r([p(cc.Label)],e.prototype,"lbTypeGiaoDich",void 0),r([p(cc.Label)],e.prototype,"lbCardType",void 0),r([p(cc.Label)],e.prototype,"lbCardAmount",void 0),r([p(cc.Label)],e.prototype,"lbMoneyChange",void 0),r([p(cc.Label)],e.prototype,"lbMoneyUser",void 0),r([p(cc.Label)],e.prototype,"lbStatus",void 0),r([p(cc.Button)],e.prototype,"btnHuy",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../Network/ConectManager":"ConectManager","../../Windown":"Windown"}],ItemLichSuJackpot:[function(t,e,n){"use strict";cc._RF.push(e,"70f97aWnQNBoZ6F44N8jUP3","ItemLichSuJackpot");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbDate=null,e.lbNickNam=null,e.lbGold=null,e}return i(e,t),e.prototype.initItem=function(t){this.lbDate.string=s.Windown.formatDate(new Date(t.getLong("date")),"dd/MM HH:mm:ss"),this.lbNickNam.string=t.getUtfString("nickname"),this.lbGold.string=s.Windown.formatNumber(t.get("moneyTotal"))},r([l(cc.Label)],e.prototype,"lbDate",void 0),r([l(cc.Label)],e.prototype,"lbNickNam",void 0),r([l(cc.Label)],e.prototype,"lbGold",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],ItemLichSuLoDe:[function(t,e,n){"use strict";cc._RF.push(e,"7cfe6Rj4HVE9aEoA1sXzyp8","ItemLichSuLoDe");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbDate=null,e.lbType=null,e.lbListNum=null,e.lbPrice=null,e.lbWin=null,e.lbResult=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.initItem=function(t){var e=new Date(t.getLong("time"));this.lbDate.string=e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear(),this.lbType.string=this.getTypeBet(t.getInt("type"),t.getIntArray("listNumber")),this.lbListNum.string=t.getIntArray("listNumber").join("-");var n=(t.getLong("tiencuoc")/t.getIntArray("listNumber").length).toFixed(2).replace(/\.00$/,"");this.lbPrice.string=s.Windown.formatNumber(t.getLong("tiencuoc"))+"\n"+n+"/con";var o=new Date;o.getDate()<e.getDate()||o.getDate()==e.getDate()&&o.getHours()<18||18==o.getHours()&&o.getMinutes()<35?(this.lbResult.string="\u0110ang ch\u1edd",this.lbWin.string="-"):t.getLong("win")>0?(this.lbResult.string="Th\u1eafng",this.lbWin.string="+"+s.Windown.formatNumber(t.getLong("win")),this.lbWin.node.color=cc.Color.GREEN):(this.lbResult.string="...",this.lbWin.string="-"+s.Windown.formatNumber(t.getLong("tiencuoc")),this.lbWin.node.color=cc.Color.RED)},e.prototype.getTypeBet=function(t,e){var n="";switch(t){case 0:n="L\xf4 2 S\u1ed1";break;case 1:n="\u0110\u1ec1 \u0110\u1eb7c Bi\u1ec7t";break;case 2:n="Ba C\xe0ng";break;case 3:n="L\xf4 Xi\xean "+e.length}return n},r([l(cc.Label)],e.prototype,"lbDate",void 0),r([l(cc.Label)],e.prototype,"lbType",void 0),r([l(cc.Label)],e.prototype,"lbListNum",void 0),r([l(cc.Label)],e.prototype,"lbPrice",void 0),r([l(cc.Label)],e.prototype,"lbWin",void 0),r([l(cc.Label)],e.prototype,"lbResult",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],ItemLichSuMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"18c5a3UnNZCf5uufSji71To","ItemLichSuMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=t("../../../Scritps/DefineTs/REQUEST_CODE"),u=t("../../../Scritps/Network/ConectManager"),p=t("../../../Scritps/Windown"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTime=null,e.lbBet=null,e.lbWin=null,e.data=null,e}return i(e,t),e.prototype.initItem=function(t){try{this.data=t;var e=this.data.date,n=this.data.bet,o=this.data.agWin;this.lbTime.string=p.Windown.formatDate(new Date(e),"dd/MM\nHH:mm:ss"),this.lbBet.string=p.Windown.formatNumber(n*p.Windown.MatChuoc.totalLineBet),this.lbWin.string=p.Windown.formatNumber(o)}catch(i){console.error(i)}},e.prototype.onClick=function(){var t=u.ConectManager.getIns().getSFSObj();t.putInt("id",this.data.id),u.ConectManager.getIns().sendRequest(l.REQUEST_CODE.HistoryChiTietMatChuoc,t,p.Windown.MatChuoc.roomSFS),p.Windown.MatChuoc.audio.playClick(),p.Windown.UIManager.showLoading()},r([c(cc.Label)],e.prototype,"lbTime",void 0),r([c(cc.Label)],e.prototype,"lbBet",void 0),r([c(cc.Label)],e.prototype,"lbWin",void 0),r([a],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Windown":"Windown"}],ItemLichSuMatTroi:[function(t,e,n){"use strict";cc._RF.push(e,"fb3dbe9NfhGiordrMAHSLIp","ItemLichSuMatTroi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Network/ConectManager"),c=t("../../../Scritps/Windown"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTime=null,e.lbBet=null,e.lbWin=null,e.data=null,e}return i(e,t),e.prototype.initItem=function(t){try{this.data=t;var e=this.data.get("date"),n=this.data.get("bet"),o=this.data.get("agWin");this.lbTime.string=c.Windown.formatDate(new Date(e),"dd/MM\nHH:mm:ss"),this.lbBet.string=c.Windown.formatNumber(n*c.Windown.MatTroiView.totalLineBet),this.lbWin.string=c.Windown.formatNumber(o)}catch(i){console.error(i)}},e.prototype.onClick=function(){var t=a.ConectManager.getIns().getSFSObj();t.putInt("id",this.data.get("id")),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryChiTietMatTroi,t,c.Windown.MatTroiView.roomSFS),c.Windown.MatTroiView.audio.playClick(),c.Windown.UIManager.showLoading()},r([p(cc.Label)],e.prototype,"lbTime",void 0),r([p(cc.Label)],e.prototype,"lbBet",void 0),r([p(cc.Label)],e.prototype,"lbWin",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Windown":"Windown"}],ItemLichSuNeko:[function(t,e,n){"use strict";cc._RF.push(e,"eccfbG4bbtKPYUDoGBJWyhN","ItemLichSuNeko");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Network/ConectManager"),c=t("../../../Scritps/Windown"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTime=null,e.lbBet=null,e.lbWin=null,e.data=null,e}return i(e,t),e.prototype.initItem=function(t){try{this.data=t;var e=this.data.get("date"),n=this.data.get("bet"),o=this.data.get("agWin");this.lbTime.string=c.Windown.formatDate(new Date(e),"dd/MM\nHH:mm:ss"),this.lbBet.string=c.Windown.formatNumber(n*c.Windown.Neko.totalLineBet),this.lbWin.string=c.Windown.formatNumber(o)}catch(i){console.error(i)}},e.prototype.onClick=function(){var t=a.ConectManager.getIns().getSFSObj();t.putInt("id",this.data.get("id")),console.log("id la: "+this.data.get("id")),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryChiTietNeko,t,c.Windown.Neko.roomSFS),c.Windown.Neko.audio.playClick(),c.Windown.UIManager.showLoading()},r([p(cc.Label)],e.prototype,"lbTime",void 0),r([p(cc.Label)],e.prototype,"lbBet",void 0),r([p(cc.Label)],e.prototype,"lbWin",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Windown":"Windown"}],ItemLichSuNgoKhong:[function(t,e,n){"use strict";cc._RF.push(e,"13597drg8JLDa/u5DMK/xFm","ItemLichSuNgoKhong");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTime=null,e.lbBet=null,e.lbWin=null,e.data=null,e}return i(e,t),e.prototype.initItem=function(t){try{this.data=t;var e=this.data.get("date");this.lbTime.string=s.Windown.formatDate(new Date(e),"dd/MM\nHH:mm:ss");var n=this.data.get("infolog"),o=JSON.parse(n);this.lbBet.string=s.Windown.formatNumber(o.agBet*s.Windown.NgoKhong.totalLineBet),this.lbWin.string=s.Windown.formatNumber(o.agWin)}catch(i){console.error(i)}},e.prototype.onClick=function(){s.Windown.NgoKhong.audio.playClick(),s.Windown.NgoKhong.popupLichSu.showDetail(this.data)},r([l(cc.Label)],e.prototype,"lbTime",void 0),r([l(cc.Label)],e.prototype,"lbBet",void 0),r([l(cc.Label)],e.prototype,"lbWin",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],ItemLichSuQuyBa:[function(t,e,n){"use strict";cc._RF.push(e,"b2bc7wuq7hOfYUAxr29y3Va","ItemLichSuQuyBa");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=t("../../../Scritps/DefineTs/REQUEST_CODE"),u=t("../../../Scritps/Network/ConectManager"),p=t("../../../Scritps/Windown"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTime=null,e.lbBet=null,e.lbWin=null,e.data=null,e}return i(e,t),e.prototype.initItem=function(t){try{this.data=t;var e=this.data.date,n=this.data.bet,o=this.data.agWin;this.lbTime.string=p.Windown.formatDate(new Date(e),"dd/MM\nHH:mm:ss"),this.lbBet.string=p.Windown.formatNumber(n*p.Windown.QuyBa.totalLineBet),this.lbWin.string=p.Windown.formatNumber(o)}catch(i){console.error(i)}},e.prototype.onClick=function(){var t=u.ConectManager.getIns().getSFSObj();t.putInt("id",this.data.id),u.ConectManager.getIns().sendRequest(l.REQUEST_CODE.HistoryChiTietQuyBa,t,p.Windown.QuyBa.roomSFS),p.Windown.QuyBa.audio.playClick(),p.Windown.UIManager.showLoading()},r([c(cc.Label)],e.prototype,"lbTime",void 0),r([c(cc.Label)],e.prototype,"lbBet",void 0),r([c(cc.Label)],e.prototype,"lbWin",void 0),r([a],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Windown":"Windown"}],ItemLichSuRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"ed829XOVupMZ6E1gx1H3bHX","ItemLichSuRungRam");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Network/ConectManager"),c=t("../../../Scritps/Windown"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTime=null,e.lbBet=null,e.lbWin=null,e.data=null,e}return i(e,t),e.prototype.initItem=function(t){try{this.data=t;var e=this.data.get("date"),n=this.data.get("bet"),o=this.data.get("agWin");this.lbTime.string=c.Windown.formatDate(new Date(e),"dd/MM\nHH:mm:ss"),this.lbBet.string=c.Windown.formatNumber(n*c.Windown.RungRam.totalLineBet),this.lbWin.string=c.Windown.formatNumber(o)}catch(i){console.error(i)}},e.prototype.onClick=function(){var t=a.ConectManager.getIns().getSFSObj();t.putInt("id",this.data.get("id")),console.log("id la: "+this.data.get("id")),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryChiTietRungRam,t,c.Windown.RungRam.roomSFS),c.Windown.RungRam.audio.playClick(),c.Windown.UIManager.showLoading()},r([p(cc.Label)],e.prototype,"lbTime",void 0),r([p(cc.Label)],e.prototype,"lbBet",void 0),r([p(cc.Label)],e.prototype,"lbWin",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Windown":"Windown"}],ItemLichSuTraoThuong:[function(t,e,n){"use strict";cc._RF.push(e,"49baboE4oRBtqIQKr0iUIE/","ItemLichSuTraoThuong");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbRank=null,e.lbName=null,e.lbPoint=null,e.lbGold=null,e.lbThucNhan=null,e.isMe=!1,e}return i(e,t),e.prototype.initItem=function(t){this.lbRank.string=t.getInt("indexRank")+"";var e=t.getUtfString("nickname");this.lbName.string=e,this.lbPoint.string=t.getLong("point").toString(),this.lbGold.string=s.Windown.formatNumber(t.get("gold")),this.lbThucNhan.string=s.Windown.formatNumber(t.get("goldReviced"))},r([l(cc.Label)],e.prototype,"lbRank",void 0),r([l(cc.Label)],e.prototype,"lbName",void 0),r([l(cc.Label)],e.prototype,"lbPoint",void 0),r([l(cc.Label)],e.prototype,"lbGold",void 0),r([l(cc.Label)],e.prototype,"lbThucNhan",void 0),r([l(cc.Boolean)],e.prototype,"isMe",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Windown":"Windown"}],ItemLichSuTruTien:[function(t,e,n){"use strict";cc._RF.push(e,"f4c6c5A1KVDEJppFI6sH6nm","ItemLichSuTruTien");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTime=null,e.lbBet=null,e.lbWin=null,e.data=null,e}return i(e,t),e.prototype.initItem=function(t){try{this.data=t;var e=this.data.get("date");this.lbTime.string=s.Windown.formatDate(new Date(e),"dd/MM\nHH:mm:ss");var n=this.data.get("infolog"),o=JSON.parse(n);this.lbBet.string=s.Windown.formatNumber(50*o.agBet),this.lbWin.string=s.Windown.formatNumber(o.agWin)}catch(i){console.error(i)}},e.prototype.onClick=function(){s.Windown.TruTien.audio.playClick(),s.Windown.TruTien.popupLichSu.showDetail(this.data)},r([l(cc.Label)],e.prototype,"lbTime",void 0),r([l(cc.Label)],e.prototype,"lbBet",void 0),r([l(cc.Label)],e.prototype,"lbWin",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],ItemLine:[function(t,e,n){"use strict";cc._RF.push(e,"c2ad8n8ce5Oqa94Myfu9ojJ","ItemLine");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},r([c(cc.Label)],e.prototype,"label",void 0),r([c],e.prototype,"text",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],ItemMiniPoker:[function(t,e,n){"use strict";cc._RF.push(e,"56252TDcY5HiZU2cm/CgDOl","ItemMiniPoker");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Game/CardResultType"),a=t("../../../Scritps/Windown"),c=t("./SpinCardRunning"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.textBalance=null,e.listCard=[],e.animation=null,e.imgTextBalance=null,e.spriteResult=null,e.isSieuToc=!1,e}return i(e,t),e.prototype.start=function(){},e.prototype.setCard=function(t,e){if(this.isRunning){for(var n=0;n<t.length;n++)this.listCard[n].SetImage(t[n].I);this.stopAnimation(),this.scheduleOnce(function(){e()},.3)}else e()},e.prototype.stopAnimation=function(){this.animation.getAnimationState("StopCard").speed=this.isSieuToc?2:1,this.animation.play("StopCard")},e.prototype.handleShowResult=function(t,e){var n=this;if(this.isRunning){var o=t.PrizeValue;this.cardType=t.CardTypeID,this.textBalance.string=a.Windown.formatNumber(o);var i=1.5;o>0&&this.cardType!=s.default.DOI_BE&&this.cardType!=s.default.BAI_CAO&&this.cardType!=s.default.THUNG_PHA_SANH_DAI?(this.imgTextBalance.parent.active=!0,this.spriteResult.node.scale=0,this.imgTextBalance.scale=0,this.textBalance.node.scale=0,this.spriteResult.node.runAction(cc.scaleTo(.3,1).easing(cc.easeBackOut())),this.imgTextBalance.runAction(cc.sequence(cc.delayTime(.1),cc.scaleTo(.3,1).easing(cc.easeBackOut()))),this.textBalance.node.runAction(cc.sequence(cc.delayTime(.2),cc.scaleTo(.3,1).easing(cc.easeBackOut())))):i=0,this.setSpriteCardResult(this.cardType),this.unschedule(this.funDelay),this.scheduleOnce(this.funDelay=function(){n.imgTextBalance.parent.active=!1,n.isRunning=!1,e()},i)}else e()},e.prototype.spinItem=function(t){this.isSieuToc=t,this.listCard.forEach(function(e){var n=e.imgSpin.getComponent(cc.Animation);n.getAnimationState("SpinRun").speed=t?5:.5,n.node.y=454.209,e.imgSpin.getComponent(cc.Sprite).spriteFrame=e.imgSpin.getComponent(cc.Sprite).spriteFrame,n.play("SpinRun")}),this.isRunning=!0,this.animation.play("SpinCard")},e.prototype.stopByNotMoney=function(){this.stopAnimation(),this.isRunning=!1,this.Force()},e.prototype.Force=function(){this.imgTextBalance.parent.active=!1;for(var t=0,e=this.listCard.length;t<e;t++)this.listCard[t].Force()},e.prototype.setSpriteCardResult=function(t){switch(t){case s.default.THUNG_PHA_SANH_DAI:this.spriteResult.spriteFrame=a.Windown.MiniPoker.listSpriteResult[8];break;case s.default.THUNG_PHA_SANH:this.spriteResult.spriteFrame=a.Windown.MiniPoker.listSpriteResult[7];break;case s.default.TU_QUY:this.spriteResult.spriteFrame=a.Windown.MiniPoker.listSpriteResult[6];break;case s.default.CU_LU:this.spriteResult.spriteFrame=a.Windown.MiniPoker.listSpriteResult[5];break;case s.default.THUNG:this.spriteResult.spriteFrame=a.Windown.MiniPoker.listSpriteResult[4];break;case s.default.SANH:this.spriteResult.spriteFrame=a.Windown.MiniPoker.listSpriteResult[3];break;case s.default.SAM_CO:this.spriteResult.spriteFrame=a.Windown.MiniPoker.listSpriteResult[2];break;case s.default.HAI_DOI:this.spriteResult.spriteFrame=a.Windown.MiniPoker.listSpriteResult[1];break;case s.default.DOI:this.spriteResult.spriteFrame=a.Windown.MiniPoker.listSpriteResult[0];break;case s.default.BAI_CAO:case s.default.DOI_BE:}},r([p(cc.Label)],e.prototype,"textBalance",void 0),r([p(c.default)],e.prototype,"listCard",void 0),r([p(cc.Animation)],e.prototype,"animation",void 0),r([p(cc.Node)],e.prototype,"imgTextBalance",void 0),r([p(cc.Sprite)],e.prototype,"spriteResult",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/Game/CardResultType":"CardResultType","../../../Scritps/Windown":"Windown","./SpinCardRunning":"SpinCardRunning"}],ItemMoKhoa:[function(t,e,n){"use strict";cc._RF.push(e,"6cafdqJd1JMR4tmpFWSgd4O","ItemMoKhoa");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbGunMoney=null,e}return i(e,t),e.prototype.initItem=function(t,e){this.lbGunMoney.string=s.Windown.formatNumber(t),cc.Tween.stopAllByTarget(this.node),this.node.scale=2,this.node.opacity=0,cc.tween(this.node).delay(.5*e).to(1,{scale:1,opacity:255},{easing:"expoIn"}).start()},r([l(cc.Label)],e.prototype,"lbGunMoney",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Windown":"Windown"}],ItemMomo:[function(t,e,n){"use strict";cc._RF.push(e,"aeef8jR9mFIrqejtKKUn9Hm","ItemMomo");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/REQUEST_CODE"),a=t("../../DefineTs/TextDefine"),c=t("../../InfoERR"),l=t("../../Network/ConectManager"),u=t("../../Windown"),p=t("./BaseItemQuick"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTenTk=null,e.lbSoTk=null,e.lbNoiDung=null,e.edbCaptcha=null,e.lbTimeMomo=null,e.nodeReviceData=null,e.funChedule=null,e}return i(e,t),e.prototype.excuted=function(){u.Windown.QuickShop.parentButton.active=!1,this.node.active=!0,cc.systemEvent.on(s.REQUEST_CODE.GetConfigMomo,this.responseConfigMomo,this),this.edbCaptcha.node.active=!0,this.nodeReviceData.active=!1,this.onClickRefeshCaptCha()},e.prototype.reset=function(){u.Windown.QuickShop.parentButton.active=!0,this.node.active=!1,cc.systemEvent.targetOff(this),this.unschedule(this.funChedule),this.edbCaptcha.string=""},e.prototype.onClickCoppy=function(t,e){var n="";switch(e){case"ttk":n=this.lbTenTk.string;break;case"stk":n=this.lbSoTk.string;break;case"noidung":n=this.lbNoiDung.string}u.Windown.coppyToClip(n)},e.prototype.responseConfigMomo=function(t){u.Windown.UIManager.hideLoading(),u.Windown.Dialog.checkAndShowLog(t,!0);var e=t.getUtfString("phoneNum"),n=t.getUtfString("phoneName"),o=t.getUtfString("code");this.lbSoTk.string=e,this.lbTenTk.string=n,this.lbNoiDung.string=o,this.edbCaptcha.node.active=!1,this.nodeReviceData.active=!0,this.funCountDown(t.get("timeToExpired"))},e.prototype.onClickNap=function(){var t=u.Windown.QuickShop.currentMoney,e=this.edbCaptcha.string;try{if(e.length<1)throw new c.InfoErr(a.TextDefine.NullCaptcha);var n=l.ConectManager.getIns().getSFSObj();n.putInt("amount",t),n.putUtfString("captcha",e),n.putInt("napvip",u.Windown.QuickShop.currentId),l.ConectManager.getIns().sendRequest(s.REQUEST_CODE.GetConfigMomoTuan,n),u.Windown.UIManager.showLoading()}catch(o){u.Windown.Dialog.showLog(o.message.replace("lvd----",""))}},e.prototype.funCountDown=function(t){var e=this;this.unschedule(this.funChedule),this.schedule(this.funChedule=function(){t--,e.lbTimeMomo.string="Th\u1eddi gian c\xf2n l\u1ea1i("+t+")",t<1&&e.reset()},1)},e.prototype.onClickRefeshCaptCha=function(){u.Windown.CapchaController.requestCapcha()},r([f(cc.Label)],e.prototype,"lbTenTk",void 0),r([f(cc.Label)],e.prototype,"lbSoTk",void 0),r([f(cc.Label)],e.prototype,"lbNoiDung",void 0),r([f(cc.EditBox)],e.prototype,"edbCaptcha",void 0),r([f(cc.Label)],e.prototype,"lbTimeMomo",void 0),r([f(cc.Node)],e.prototype,"nodeReviceData",void 0),r([d],e)}(p.default);n.default=y,cc._RF.pop()},{"../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../DefineTs/TextDefine":"TextDefine","../../InfoERR":"InfoERR","../../Network/ConectManager":"ConectManager","../../Windown":"Windown","./BaseItemQuick":"BaseItemQuick"}],ItemMoveIconChat:[function(t,e,n){"use strict";cc._RF.push(e,"b831e9A1z1LWKB80Rz6V0X0","ItemMoveIconChat");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../Windown"),a=t("./ItemIconAdmin"),c=t("./ItemRemoveIconChat"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.parentWindown=null,e.mask=null,e.nodeIconMove=null,e.nodeIconRemove=null,e.lbCountNotRead=null,e.posCache=null,e.savePos=null,e._vecStart=null,e._v2OffsetChange=null,e._isMoveBtnMiniGame=!1,e._isTouch=!1,e.isInRemoveArena=!1,e.offsetX=0,e.offsetY=0,e.currentNameAdmin="",e}return i(e,t),e.prototype.onEnable=function(){this.initEvent()},e.prototype.onTouchStart=function(t){var e=cc.v2(t.getLocation()).subSelf(cc.v2(this.offsetX,this.offsetY));this._vecStart=e,this._v2OffsetChange=this.nodeIconMove.getPosition().subSelf(e),this._isMoveBtnMiniGame=!1,this._isTouch=!0,t.stopPropagation()},e.prototype.onTouchMove=function(t){if(this._isTouch){var e=cc.v2(t.getLocation()).subSelf(cc.v2(this.offsetX,this.offsetY)),n=this.getPosIconMove(e.addSelf(this._v2OffsetChange));n&&(this.nodeIconMove.setPosition(n),this.savePos=this.nodeIconMove.getPosition(),this._isMoveBtnMiniGame=!0,this.nodeIconRemove.node.active||(this.nodeIconRemove.node.active=!0))}t.stopPropagation()},e.prototype.onClickClose=function(){cc.log("nhay me vao click close"),this.parentItem.active=!1,this.mask.active=!1,this.removeAllWindownChat()},e.prototype.onTouchEnd=function(t){this._isTouch=!1,cc.v2(t.getLocation()).subSelf(cc.v2(this.offsetX,this.offsetY)).subSelf(this._vecStart).mag()<15?this.onClick():this.checkPosition(),t.stopPropagation(),this.nodeIconRemove.node.active=!1},e.prototype.onTouchCancel=function(t){this._isTouch=!1,this.checkPosition(),this._isMoveBtnMiniGame||this.onClick(),this.nodeIconRemove.node.active=!1,t.stopPropagation()},e.prototype.onClick=function(){cc.log("click nay"),this.fixedPosInOpen()},e.prototype.onDisable=function(){this.nodeIconMove.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.nodeIconMove.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.nodeIconMove.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this),this.nodeIconMove.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.currentNameAdmin=null},e.prototype.initEvent=function(){this.savePos=this.nodeIconMove.getPosition(),this.posCache=null,this.nodeIconMove.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.nodeIconMove.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.nodeIconMove.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this),this.nodeIconMove.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},e.prototype.firtShow=function(){this.offsetX=cc.winSize.width/2,this.offsetY=cc.winSize.height/2,this.parentItem.active=!1,this.mask.active=!1;var t=this.offsetX-640,e=this.offsetY-360;this.nodeIconMove.setPosition(580+t,250+e),s.Windown.UIManager.playSoundWithUrl("Sound1/inbox")},e.prototype.initListIcon=function(t,e){for(var n=this.parentItem.children[0],o=this.parentItem.children,i=0,r=t.length;i<r;i++){var s=o[i];null==s&&((s=cc.instantiate(n)).parent=this.parentItem),s.active=!0,s.getComponent(a.default).initItem(t[i],e)}for(i=t.length;i<o.length;i++)o[i].active=!1;e&&this.fixedPosInOpen(),this.emitNewCountNotRead()},e.prototype.emitNewCountNotReadByAdmin=function(t){s.Windown.ChatAdminController.onRemoveCountNotRead(t);for(var e=0,n=this.parentItem.children;e<n.length;e++){var o=n[e].getComponent(a.default);if(o.lbName.string==t){o.updateCountNotRead(),this.emitNewCountNotRead();break}}},e.prototype.emitNewCountNotRead=function(){var t=s.Windown.ChatAdminController.getTotalCountNotRead();t>0?(this.lbCountNotRead.node.parent.active=!0,this.lbCountNotRead.string=t.toString()):this.lbCountNotRead.node.parent.active=!1},e.prototype.addWindown=function(t,e){this.removeAllWindownChat(),this.mask.active=!0,t.parent=this.parentWindown,this.currentNameAdmin=e},e.prototype.removeAllWindownChat=function(){for(var t=0,e=this.parentWindown.children;t<e.length;t++)e[t].parent=null;this.currentNameAdmin=null},e.prototype.fixedPosInOpen=function(){var t=this;if(this.parentItem.active){this.onClickClose();var e=this.parentItem.children;for(var n in e){var o=.1*parseInt(n);cc.Tween.stopAllByTarget(e[n]),e[n].scale=0,cc.tween(e[n]).delay(o).to(.1,{scale:0},{easing:"backOut"}).start()}cc.Tween.stopAllByTarget(this.parentItem),cc.tween(this.parentItem).delay(o+.2).call(function(){t.parentItem.active=!1}).start()}else{var i=this.offsetX-640,r=this.offsetY-360;for(var n in this.nodeIconMove.setPosition(580+i,250+r),this.parentItem.active=!0,e=this.parentItem.children){var s=.1*parseInt(n);cc.Tween.stopAllByTarget(e[n]),e[n].scale=0,cc.tween(e[n]).delay(s).to(.1,{scale:1},{easing:"backOut"}).start()}}},e.prototype.getPosIconMove=function(t){var e=this.nodeIconRemove.checkIsArena(t);return this.isInRemoveArena!=e&&(e?(this.nodeIconRemove.setColor(cc.Color.RED),this.nodeIconMove.runAction(cc.moveTo(.1,this.nodeIconRemove.node.getPosition()).easing(cc.easeElasticOut(.1)))):(this.node.stopAllActions(),this.nodeIconRemove.setColor(cc.Color.WHITE))),this.isInRemoveArena=e,e?null:t},e.prototype.checkPosition=function(){if(this.isInRemoveArena)return this.node.parent=null,void this.removeAllWindownChat();var t,e=this.nodeIconMove.y;this.nodeIconMove.y>this.offsetY-this.nodeIconMove.height/2&&(e=this.offsetY-this.nodeIconMove.height/2),this.nodeIconMove.y<-this.offsetY+this.nodeIconMove.height/2&&(e=-this.offsetY+this.nodeIconMove.height/2),t=this.nodeIconMove.x>=0?cc.v2(this.offsetX-this.nodeIconMove.width/2-10,e):cc.v2(-this.offsetX+this.nodeIconMove.width/2+10,e),this.nodeIconMove.stopAllActions(),this.nodeIconMove.runAction(cc.moveTo(.15,t).easing(cc.easeBackOut()))},r([p(cc.Node)],e.prototype,"parentItem",void 0),r([p(cc.Node)],e.prototype,"parentWindown",void 0),r([p(cc.Node)],e.prototype,"mask",void 0),r([p(cc.Node)],e.prototype,"nodeIconMove",void 0),r([p(c.default)],e.prototype,"nodeIconRemove",void 0),r([p(cc.Label)],e.prototype,"lbCountNotRead",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../Windown":"Windown","./ItemIconAdmin":"ItemIconAdmin","./ItemRemoveIconChat":"ItemRemoveIconChat"}],ItemMuitlMatTroi:[function(t,e,n){"use strict";cc._RF.push(e,"29eebAWT6pPcosdQdbQrnrj","ItemMuitlMatTroi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onOffEffectMutil=function(t){this.node.children[0].active=t,this.node.children[1].stopAllActions(),this.node.children[0].stopAllActions(),this.node.children[1].angle=0,this.node.children[1].scale=1,this.getComponent(cc.ParticleSystem).stopSystem(),t&&(this.node.children[0].runAction(cc.repeatForever(cc.rotateBy(1,50))),this.node.children[1].runAction(cc.repeatForever(cc.sequence(cc.rotateTo(.1,-20),cc.rotateTo(1.5,0).easing(cc.easeElasticOut(.2))))))},e.prototype.moveToMultilLabel=function(t,e,n,o,i){var r=this;return new Promise(function(a){r.startRun();var c=cc.Vec2.lerp(cc.Vec2.ONE,r.node.getPosition(),e,.5);c.x>0?c.addSelf(cc.v2(100,100)):c.subSelf(cc.v2(100,100));var l=cc.bezierTo(.8,[c,c,e]).easing(cc.easeSineIn());r.node.active=!0,r.node.stopAllActions(),r.node.runAction(cc.sequence(cc.delayTime(.3+.2*t),cc.callFunc(function(){s.Windown.Neko.audio.playEffectNoStop(s.Windown.Neko.audio.symMultiFly)}),l,cc.callFunc(function(){n.call(o,a,i)}),cc.callFunc(function(){s.Windown.Neko.audio.playEffectNoStop(s.Windown.Neko.audio.symRouletteEnd),s.Windown.Neko.audio.playEffectNoStop(s.Windown.Neko.audio.symMultiReach,2),r.getComponent(cc.ParticleSystem).stopSystem(),r.getComponent(cc.ParticleSystem).enabled=!1,s.Windown.Neko.asset.putSymbolMutil(r.node)})))})},e.prototype.startRun=function(){var t=this;this.getComponent(cc.ParticleSystem).enabled=!0,this.getComponent(cc.ParticleSystem).stopSystem(),this.node.children[1].stopAllActions(),this.node.children[1].runAction(cc.sequence(cc.scaleTo(.4,0).easing(cc.easeBackIn()),cc.callFunc(function(){t.getComponent(cc.ParticleSystem).resetSystem()})))},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],ItemMuitlNeko:[function(t,e,n){"use strict";cc._RF.push(e,"37d85kVet1J9q93Y52ziZ08","ItemMuitlNeko");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onOffEffectMutil=function(t){this.node.children[0].active=t,this.node.children[1].stopAllActions(),this.node.children[0].stopAllActions(),this.node.children[1].angle=0,this.node.children[1].scale=1,this.getComponent(cc.ParticleSystem).stopSystem(),t&&(this.node.children[0].runAction(cc.repeatForever(cc.rotateBy(1,50))),this.node.children[1].runAction(cc.repeatForever(cc.sequence(cc.rotateTo(.1,-20),cc.rotateTo(1.5,0).easing(cc.easeElasticOut(.2))))))},e.prototype.moveToMultilLabel=function(t,e,n,o,i){var r=this;return new Promise(function(a){var c=s.Windown.Neko.stateSpin.isMaxSpeed?3:1;r.startRun();var l=cc.Vec2.lerp(cc.Vec2.ONE,r.node.getPosition(),e,.5);l.x>0?l.addSelf(cc.v2(100,100)):l.subSelf(cc.v2(100,100));var u=cc.bezierTo(.8/c,[l,l,e]).easing(cc.easeSineIn());r.node.active=!0,r.node.stopAllActions(),r.node.runAction(cc.sequence(cc.delayTime(.3+.2*t),cc.callFunc(function(){s.Windown.Neko.audio.playEffectNoStop(s.Windown.Neko.audio.symMultiFly)}),u,cc.callFunc(function(){n.call(o,a,i)}),cc.callFunc(function(){s.Windown.Neko.audio.playEffectNoStop(s.Windown.Neko.audio.symRouletteEnd),s.Windown.Neko.audio.playEffectNoStop(s.Windown.Neko.audio.symMultiReach,2),r.getComponent(cc.ParticleSystem).stopSystem(),r.getComponent(cc.ParticleSystem).enabled=!1,s.Windown.Neko.asset.putSymbolMutil(r.node)})))})},e.prototype.startRun=function(){var t=this,e=s.Windown.Neko.stateSpin.isMaxSpeed?3:1;this.getComponent(cc.ParticleSystem).enabled=!0,this.getComponent(cc.ParticleSystem).stopSystem(),s.Windown.Neko.audio.playEffectNoStop(s.Windown.Neko.audio.symMultiSpawn),this.node.children[1].stopAllActions(),this.node.children[1].runAction(cc.sequence(cc.scaleTo(.4/e,0).easing(cc.easeBackIn()),cc.callFunc(function(){t.getComponent(cc.ParticleSystem).resetSystem()})))},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],ItemMutilFsAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"ca295Rctt9AuqY0jSjjP0ja","ItemMutilFsAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=t("./BaseItemMutilAsgard"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbFade=null,e}return i(e,t),e.prototype.take=function(){return s(this,void 0,void 0,function(){return a(this,function(){try{u.Windown.Asgard.audio.playEffect(u.Windown.Asgard.audio.multiplierUp),this.lbMutil.setMoneyNoTime(this.mutil)}catch(t){l.Util.ThrowErrProsime(t)}return[2]})})},e.prototype.resetForNextSpin=function(){},e.prototype.init=function(t){this.mutilMng.currentItemMutil&&(this.mutilMng.currentItemMutil.node.active=!1),this.mutil=t||2,this.lbMutil.setMoneyNoTime(this.mutil),this.node.active=!0,this.mutilMng.currentItemMutil=this},r([f(c.default)],e.prototype,"lbFade",void 0),r([d],e)}(p.default);n.default=y,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./BaseItemMutilAsgard":"BaseItemMutilAsgard"}],ItemMutilFs:[function(t,e,n){"use strict";cc._RF.push(e,"3707f3FjtNB47je4SDxWJtc","ItemMutilFs");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=t("./BaseItemMutil"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbFade=null,e}return i(e,t),e.prototype.take=function(){return s(this,void 0,void 0,function(){var t,e,n,o=this;return a(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),u.Windown.RungRam.audio.playEffect(u.Windown.RungRam.audio.multiplierUp),t=cc.find("Mask/Paticle",this.node).getComponent(cc.ParticleSystem),e=cc.find("Mask/bkg",this.node),this.lbFade.node.parent.opacity=0,this.lbFade.node.parent.scale=1,this.lbMutil.node.parent.runAction(cc.moveTo(.15,cc.v2(0,-147.301))),[4,u.Windown.RungRam.getMakeDelay(.15).prosime];case 1:return i.sent(),this.mutil+=2,this.lbMutil.node.parent.stopAllActions(),this.lbMutil.node.parent.y=137.108,this.lbMutil.node.parent.runAction(cc.sequence(cc.moveTo(.15,cc.v2(0,0)).easing(cc.easeExponentialOut()),cc.callFunc(function(){o.lbFade.node.parent.opacity=120,o.lbFade.setMoneyNoTime(o.mutil),o.lbFade.node.parent.runAction(cc.sequence(cc.delayTime(.1),cc.spawn(cc.scaleTo(.5,1.4).easing(cc.easeSineOut()),cc.fadeOut(.8).easing(cc.easeSineIn())))),t.resetSystem(),e.opacity=0,e.runAction(cc.sequence(cc.fadeIn(.1),cc.fadeOut(.3)))}),cc.scaleTo(.15,1.1),cc.scaleTo(.15,1))),this.lbMutil.setMoneyNoTime(this.mutil),[3,3];case 2:return n=i.sent(),l.Util.ThrowErrProsime(n),[3,3];case 3:return[2]}})})},e.prototype.resetForNextSpin=function(){},e.prototype.init=function(t){this.mutilMng.currentItemMutil&&(this.mutilMng.currentItemMutil.node.active=!1),this.mutil=t||2,this.lbMutil.setMoneyNoTime(this.mutil),this.node.active=!0,this.mutilMng.currentItemMutil=this,cc.find("Mask/bkg",this.node).opacity=0},r([f(c.default)],e.prototype,"lbFade",void 0),r([d],e)}(p.default);n.default=y,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./BaseItemMutil":"BaseItemMutil"}],ItemMutilNomalAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"17bd39WHUhBa7B2goXhtT9O","ItemMutilNomalAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Util"),l=t("../../../Scritps/Windown"),u=t("./BaseItemMutilAsgard"),p=cc._decorator,h=p.ccclass,d=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.take=function(){return s(this,void 0,void 0,function(){return a(this,function(){try{l.Windown.Asgard.audio.playEffect(l.Windown.Asgard.audio.multiplierUp),this.lbMutil.setMoneyNoTime(this.mutil)}catch(t){c.Util.ThrowErrProsime(t)}return[2]})})},e.prototype.resetForNextSpin=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),this.mutil>1?(this.lbMutil.node.parent.runAction(cc.moveTo(.15,cc.v2(0,-82.207))),[4,l.Windown.Asgard.getMakeDelay(.3).prosime]):[3,2];case 1:e.sent(),this.mutil=1,this.lbMutil.node.parent.stopAllActions(),this.lbMutil.node.parent.runAction(cc.sequence(cc.moveTo(.15,cc.v2(0,0)).easing(cc.easeExponentialOut()),cc.callFunc(function(){}))),this.lbMutil.setMoneyNoTime(this.mutil),e.label=2;case 2:return[3,4];case 3:return t=e.sent(),c.Util.ThrowErrProsime(t),[3,4];case 4:return[2]}})})},e.prototype.init=function(){this.mutilMng.currentItemMutil&&(this.mutilMng.currentItemMutil.node.active=!1),this.mutil=this.mutilMng.currentItemMutil?this.mutilMng.currentItemMutil.mutil:1,this.lbMutil.setMoneyNoTime(this.mutil),this.node.active=!0,this.mutilMng.currentItemMutil=this},r([h],e)}(u.default));n.default=d,cc._RF.pop()},{"../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./BaseItemMutilAsgard":"BaseItemMutilAsgard"}],ItemMutilNomal:[function(t,e,n){"use strict";cc._RF.push(e,"f96a7oKkxlA7696bQ5oDrwN","ItemMutilNomal");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Util"),l=t("../../../Scritps/Windown"),u=t("./BaseItemMutil"),p=cc._decorator,h=p.ccclass,d=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.take=function(){return s(this,void 0,void 0,function(){var t,e=this;return a(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),l.Windown.RungRam.audio.playEffect(l.Windown.RungRam.audio.multiplierUp),this.lbMutil.node.parent.runAction(cc.moveTo(.15,cc.v2(0,-82.207))),[4,l.Windown.RungRam.getMakeDelay(.15).prosime];case 1:return n.sent(),this.mutil++,this.lbMutil.node.parent.stopAllActions(),this.lbMutil.node.parent.y=78,this.lbMutil.node.parent.runAction(cc.sequence(cc.moveTo(.15,cc.v2(0,0)).easing(cc.easeExponentialOut()),cc.callFunc(function(){var t=cc.find("Mask/Paticle",e.node).getComponent(cc.ParticleSystem),n=cc.find("bkg",e.node);t.resetSystem(),n.scale=.3,n.opacity=255,n.runAction(cc.spawn(cc.scaleTo(.4,1.4).easing(cc.easeCircleActionOut()),cc.fadeOut(.5).easing(cc.easeQuarticActionIn())))}))),this.lbMutil.setMoneyNoTime(this.mutil),[3,3];case 2:return t=n.sent(),c.Util.ThrowErrProsime(t),[3,3];case 3:return[2]}})})},e.prototype.resetForNextSpin=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),this.mutil>1?(this.lbMutil.node.parent.runAction(cc.moveTo(.15,cc.v2(0,-82.207))),[4,l.Windown.RungRam.getMakeDelay(.3).prosime]):[3,2];case 1:e.sent(),this.mutil=1,this.lbMutil.node.parent.stopAllActions(),this.lbMutil.node.parent.runAction(cc.sequence(cc.moveTo(.15,cc.v2(0,0)).easing(cc.easeExponentialOut()),cc.callFunc(function(){}))),this.lbMutil.setMoneyNoTime(this.mutil),e.label=2;case 2:return[3,4];case 3:return t=e.sent(),c.Util.ThrowErrProsime(t),[3,4];case 4:return[2]}})})},e.prototype.init=function(){this.mutilMng.currentItemMutil&&(this.mutilMng.currentItemMutil.node.active=!1),this.mutil=this.mutilMng.currentItemMutil?this.mutilMng.currentItemMutil.mutil:1,this.lbMutil.setMoneyNoTime(this.mutil),this.node.active=!0,this.mutilMng.currentItemMutil=this,cc.find("bkg",this.node).opacity=0},r([h],e)}(u.default));n.default=d,cc._RF.pop()},{"../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./BaseItemMutil":"BaseItemMutil"}],ItemNhiemVuFish:[function(t,e,n){"use strict";cc._RF.push(e,"a8bffpK/gxGk7JP0B7jCYDN","ItemNhiemVuFish");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/TextDefine"),a=t("../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbName=null,e.imgProgress=null,e.lbProgress=null,e.idQuest=-1,e}return i(e,t),e.prototype.onLoad=function(){a.Windown.NhiemVuConTroller.itemQuestViewFish=this},e.prototype.onEnable=function(){},e.prototype.refresh=function(){},e.prototype.onDisable=function(){},e.prototype.onDestroy=function(){a.Windown.NhiemVuConTroller.itemQuestViewFish=null},e.prototype.updateItem=function(t){if(t.getInt("type")==this.idQuest){var e=t.getInt("current"),n=t.getInt("total");e>n&&(e=n),this.lbProgress.string=e+"/"+n,this.imgProgress.fillRange=e/n,this.lbProgress.node.stopAllActions(),this.lbProgress.node.scale=1.2,this.lbProgress.node.runAction(cc.scaleTo(.3,1)),e==n&&(this.lbProgress.string=s.TextDefine.ClickDeNhan)}},e.prototype.initItem=function(t){this.lbName.string=t.getUtfString("name")+" <color=#FFFF00>("+a.Windown.formatNumber(t.getInt("moneyRevice"))+")</color>";var e=t.getInt("current"),n=t.getInt("total");this.lbProgress.string=e+"/"+n,this.imgProgress.fillRange=e/n,this.idQuest=t.getInt("type"),e>n&&(e=n),e==n&&(this.lbProgress.string=s.TextDefine.ClickDeNhan)},e.prototype.onClickItemNhiemVu=function(){a.Windown.UIManager.showNhiemVu()},r([u(cc.RichText)],e.prototype,"lbName",void 0),r([u(cc.Sprite)],e.prototype,"imgProgress",void 0),r([u(cc.Label)],e.prototype,"lbProgress",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Windown":"Windown"}],ItemNhiemVu:[function(t,e,n){"use strict";cc._RF.push(e,"9b779ERiFtL0YsstM7Y+VEL","ItemNhiemVu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/PathResource"),a=t("../../DefineTs/REQUEST_CODE"),c=t("../../DefineTs/TextDefine"),l=t("../../Network/ConectManager"),u=t("../../Windown"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.img=null,e.imgBg=[],e.lbName=null,e.imgProgress=null,e.lbProgress=null,e.lbMoney=null,e.lbStatus=null,e.btnRevice=null,e.idQuest=-1,e._info=null,e.status=-1,e}return i(e,t),e.prototype.initItem=function(t){this._info=t;var e=t.type,n=t.type,o=t.currenttarget,i=t.questtarget,r=t.status,s=this.getNameQuestById(e),a=t.agtarget;t.nameTab,t.index,this.idQuest=e,this.status=r,o>i&&(o=i),this.getImg(n),0==o?this.imgProgress.node.active=!1:(this.imgProgress.node.active=!0,this.imgProgress.fillRange=o/i),0==o&&0==i&&(r=6),this.updateState(r),this.lbProgress.string=u.Windown.formatNumber(o)+"/"+u.Windown.formatNumber(i),this.lbName.string=s,this.lbMoney.string=u.Windown.formatNumber(a)},e.prototype.updateState=function(t){this.btnRevice.interactable=2!=t,0==t?(this.lbStatus.string=c.TextDefine.Quest_ChuaXong,null!=u.Windown.NhiemVuConTroller.questKMView&&(this.lbStatus.string=c.TextDefine.Quest_Xong,this.btnRevice.interactable=!1)):this.lbStatus.string=1==t?c.TextDefine.Quest_Xong:2==t?c.TextDefine.Quest_DaNhan:6==t?c.TextDefine.Quest_ChuaKichHoat:c.TextDefine.Quest_DaNhan,this._info.status=t},e.prototype.getImg=function(t){var e=this,n=s.PathResource.QuestItem;n=n.replace("%d",t),cc.resources.load(n,cc.SpriteFrame,function(t,n){!t&&e.node.active&&(e.img.spriteFrame=n,e.img.sizeMode=cc.Sprite.SizeMode.TRIMMED)})},e.prototype.onClick=function(){var t=this;if(0==this.status)cc.log("nhay xuong duoi r nay: "),u.Windown.NhiemVuConTroller.questView&&u.Windown.NhiemVuConTroller.questView.node.parent&&u.Windown.NhiemVuConTroller.questView.onClickClose(null,function(){switch(t.idQuest){case 2:cc.sys.openURL(u.Windown.LinkFanpage);break;case 3:u.Windown.UIManager.showXacThucTele(!1);break;case 1:u.Windown.UIManager.showBonusNap();break;case 100:u.Windown.UIManager.showShop(2);break;case 101:case 7:u.Windown.UIManager.showShop(0);break;case 8:u.Windown.UIManager.showShop(2);break;case 9:u.Windown.UIManager.showShop(3);break;case 102:u.Windown.MainView?u.Windown.MainView.onClickJoinBongDem(null,null,!0):u.Windown.Dialog.showLog(c.TextDefine.ERR_QUICK_JOIN_GAME);break;case 103:u.Windown.MainView||u.Windown.Dialog.showLog(c.TextDefine.ERR_QUICK_JOIN_GAME);break;case 104:u.Windown.MainView?u.Windown.MainView.onClickJoinDieuThuyen(null,null,!0):u.Windown.Dialog.showLog(c.TextDefine.ERR_QUICK_JOIN_GAME);break;case 105:u.Windown.MainView?u.Windown.MainView.onClickJoinXeng(null,null,!0):u.Windown.Dialog.showLog(c.TextDefine.ERR_QUICK_JOIN_GAME);break;case 106:u.Windown.MainView?u.Windown.MainView.onClickJoinNgoKhong(null,null,!0):u.Windown.Dialog.showLog(c.TextDefine.ERR_QUICK_JOIN_GAME);break;case 107:u.Windown.BtnMiniGame?u.Windown.BtnMiniGame.onClickMiniTx():u.Windown.Dialog.showLog(c.TextDefine.ERR_QUICK_JOIN_GAME);break;case 108:u.Windown.MainView?u.Windown.MainView.onClickJoinNeko(null,null,!0):u.Windown.Dialog.showLog(c.TextDefine.ERR_QUICK_JOIN_GAME);break;case 111:u.Windown.MainView?u.Windown.MainView.onClickJoinAiCap(null,null,!0):u.Windown.Dialog.showLog(c.TextDefine.ERR_QUICK_JOIN_GAME);break;case 115:u.Windown.MainView?u.Windown.MainView.onClickJoinRungRam(null,null,!0):u.Windown.Dialog.showLog(c.TextDefine.ERR_QUICK_JOIN_GAME);break;case 118:u.Windown.MainView?u.Windown.MainView.onClickJoinAsgard(null,null,!0):u.Windown.Dialog.showLog(c.TextDefine.ERR_QUICK_JOIN_GAME);break;case 113:u.Windown.MainView?u.Windown.MainView.onClickJoinBaccarat(null,null,!0):u.Windown.Dialog.showLog(c.TextDefine.ERR_QUICK_JOIN_GAME);case 114:u.Windown.MainView?u.Windown.MainView.onClickJoinLobbyView(null,null,!0):u.Windown.Dialog.showLog(c.TextDefine.ERR_QUICK_JOIN_GAME);case 116:u.Windown.MainView?u.Windown.MainView.onClickJoinMiniPoker({target:u.Windown.MainView.btnMiniPoker},null,!0):u.Windown.Dialog.showLog(c.TextDefine.ERR_QUICK_JOIN_GAME);break;case 117:u.Windown.MainView?u.Windown.MainView.onClickMiniSlot({target:u.Windown.MainView.btnMiniSlot},null,!0):u.Windown.Dialog.showLog(c.TextDefine.ERR_QUICK_JOIN_GAME);case 119:u.Windown.MainView?u.Windown.MainView.onClickJoinMuaDong(null,null,!0):u.Windown.Dialog.showLog(c.TextDefine.ERR_QUICK_JOIN_GAME);case 120:case 121:case 122:u.Windown.MainView?u.Windown.MainView.onClickShop():u.Windown.Dialog.showLog(c.TextDefine.ERR_QUICK_JOIN_GAME)}}),u.Windown.NhiemVuConTroller.questKMView&&u.Windown.NhiemVuConTroller.questKMView.node.parent&&u.Windown.NhiemVuConTroller.questKMView.onClickClose(null,function(){switch(t.idQuest){case 7:u.Windown.UIManager.showShop(0);break;case 8:u.Windown.UIManager.showShop(2);break;case 9:u.Windown.UIManager.showShop(3)}});else if(1==this.status){var e=l.ConectManager.getIns().getSFSObj();e.putInt("type",this.idQuest),l.ConectManager.getIns().sendRequest(a.REQUEST_CODE.GetQuestFinish,e)}},e.prototype.getNameQuestById=function(t){switch(t){case 2:return"Like v\xe0 Share Fanpage nh\u1eadn 30.000 ";case 3:return"X\xe1c th\u1ef1c s\u1ed1 \u0111i\u1ec7n tho\u1ea1i";case 1:return"N\u1ea1p \u0111\u1ee7 3 g\xf3i n\u1ea1p t\xe2n th\u1ee7 nh\u1eadn ngay 3K";case 4:return"N\u1ea1p th\u1ebb c\xe0o \u0111\u1ea1t m\u1ed1c 1M V\xe0ng";case 5:return"N\u1ea1p Bank/Momo \u0111\u1ea1t m\u1ed1c 5M V\xe0ng";case 6:return"N\u1ea1p Bank/Momo \u0111\u1ea1t m\u1ed1c 10M V\xe0ng";case 7:return"150% N\u1ea1p Th\u1ebb C\xe0o";case 8:return"150% N\u1ea1p V\xed Momo";case 9:return"150% N\u1ea1p Ng\xe2n H\xe0ng";case 100:return"T\u1ed5ng n\u1ea1p MOMO trong ng\xe0y \u0111\u1ea1t 50.000 VND";case 101:return"T\u1ed5ng n\u1ea1p Th\u1ebb C\xe0o trong ng\xe0y \u0111\u1ea1t 50.000 VND";case 102:return"Ti\xeau di\u1ec7t 500 con c\xe1";case 103:return"T\u1ed5ng th\u1eafng game Tru Ti\xean 5.000.000";case 104:return"T\u1ed5ng th\u1eafng game \u0110i\xeau Thuy\u1ec1n 5.000.000";case 105:return"T\u1ed5ng th\u1eafng game X\xe8ng 5.000.000";case 106:return"T\u1ed5ng th\u1eafng game Ng\u1ed9 Kh\xf4ng 5.000.000";case 108:return"T\u1ed5ng th\u1eafng game Neko 5.000.000";case 111:return"Th\u1eafng game Ai C\u1eadp 5.000.000";case 112:return"T\u1ed5ng th\u1eafng game M\u1eb7t Tr\u0103ng M\u1eb7t Tr\u1eddi 5.000.000";case 109:return"T\u1ed5ng th\u1eafng game Kong 5.000.000";case 113:return"T\u1ed5ng th\u1eafng game Baccarat 10.000.000";case 110:return"T\u1ed5ng th\u1eafng game T\xe0i X\u1ec9u 10.000.000";case 114:return"Th\u1eafng game Ti\u1ebfn L\xean 30 v\xe1n";case 115:return"Th\u1eafng game Kho B\xe1u 5.000.000";case 118:return"Th\u1eafng game Th\u1ee3 S\u0103n 5.000.000";case 116:return"Th\u1eafng game Mini Poker 5.000.000";case 117:return"Th\u1eafng game Gems 5.000.000";case 119:return"Th\u1eafng game M\xf9a \u0110\xf4ng 5.000.000";case 120:return"T\u1ed5ng n\u1ea1p trong ng\xe0y \u0111\u1ea1t 1000 Yen";case 121:return"T\u1ed5ng n\u1ea1p trong ng\xe0y \u0111\u1ea1t 2000 Yen";case 122:return"T\u1ed5ng n\u1ea1p trong ng\xe0y \u0111\u1ea1t 5000 Yen"}},r([d(cc.Sprite)],e.prototype,"img",void 0),r([d([cc.SpriteFrame])],e.prototype,"imgBg",void 0),r([d(cc.Label)],e.prototype,"lbName",void 0),r([d(cc.Sprite)],e.prototype,"imgProgress",void 0),r([d(cc.Label)],e.prototype,"lbProgress",void 0),r([d(cc.Label)],e.prototype,"lbMoney",void 0),r([d(cc.Label)],e.prototype,"lbStatus",void 0),r([d(cc.Button)],e.prototype,"btnRevice",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../DefineTs/PathResource":"PathResource","../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../DefineTs/TextDefine":"TextDefine","../../Network/ConectManager":"ConectManager","../../Windown":"Windown"}],ItemRankMonth:[function(t,e,n){"use strict";cc._RF.push(e,"f3e60tL6GVMy4Il2vBYnyS/","ItemRankMonth");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),t("../../DefineTs/REQUEST_CODE"),t("../../Network/ConectManager");var s=t("../../Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbName=null,e.lbPoint=null,e.lbLvl=null,e.spAva=null,e.lbRank=null,e.isMe=!1,e.idPlayer=null,e}return i(e,t),e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onClick,this)},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onClick,this)},e.prototype.initItem=function(t){this.idPlayer=t.getInt("id"),this.lbName.string=t.getUtfString("nickname"),this.lbPoint.string=s.Windown.formatNumber(t.get("gold")),this.lbLvl.string=t.get("currentlevel"),this.lbRank&&(this.isMe?this.lbRank.string="H\u1ea1ng "+t.getInt("index"):this.lbRank.string=t.getInt("index")+""),s.Windown.updateAvatar(t,this.spAva)},e.prototype.onClick=function(){},r([l(cc.Label)],e.prototype,"lbName",void 0),r([l(cc.Label)],e.prototype,"lbPoint",void 0),r([l(cc.Label)],e.prototype,"lbLvl",void 0),r([l(cc.Sprite)],e.prototype,"spAva",void 0),r([l(cc.Label)],e.prototype,"lbRank",void 0),r([l(cc.Boolean)],e.prototype,"isMe",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../Network/ConectManager":"ConectManager","../../Windown":"Windown"}],ItemRankWeek:[function(t,e,n){"use strict";cc._RF.push(e,"921d6h1B4RM/Y1gso2F/T7G","ItemRankWeek");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../ClearCacheBase64"),a=t("../../DefineTs/EVENT_MANAGER"),c=(t("../../DefineTs/REQUEST_CODE"),t("../../Network/ConectManager"),t("../../Windown")),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbName=null,e.lbMoney=null,e.spAva=null,e.lbRank=null,e.isMe=!1,e.idPlayer=null,e}return i(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(a.EVENT_MANAGER.onCloseXepHang,this.onClose,this)},e.prototype.onClose=function(){this.spAva.getComponent(s.default).onClear()},e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onClick,this)},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onClick,this)},e.prototype.onDestroy=function(){cc.systemEvent.off(a.EVENT_MANAGER.onCloseXepHang,this.onClose,this)},e.prototype.initItem=function(t){this.idPlayer=t.getInt("id");var e=t.getUtfString("nickname"),n=c.Windown.formatNumber(t.getLong("gold"));this.lbName.string=e,t.getInt("index")<4?this.lbMoney.string="******":this.lbMoney.string=n,this.lbRank&&(this.isMe?this.lbRank.string=""+t.getInt("index"):this.lbRank.string=t.getInt("index")+""),c.Windown.updateAvatar(t,this.spAva)},e.prototype.onClick=function(){},r([p(cc.Label)],e.prototype,"lbName",void 0),r([p(cc.Label)],e.prototype,"lbMoney",void 0),r([p(cc.Sprite)],e.prototype,"spAva",void 0),r([p(cc.Label)],e.prototype,"lbRank",void 0),r([p(cc.Boolean)],e.prototype,"isMe",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../ClearCacheBase64":"ClearCacheBase64","../../DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../Network/ConectManager":"ConectManager","../../Windown":"Windown"}],ItemRemoveIconChat:[function(t,e,n){"use strict";cc._RF.push(e,"fa58fQbV49Kybm3GStzQuZd","ItemRemoveIconChat");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.yS=null,e.yE=null,e}return i(e,t),e.prototype.onEnable=function(){null==this.yS&&(this.yS=510+cc.winSize.height/2-360),null==this.yE&&(this.yE=290+cc.winSize.height/2-360),this.node.opacity=0,this.node.stopAllActions(),this.node.runAction(cc.fadeIn(.5))},e.prototype.checkIsArena=function(t){return t.x>=this.node.x-100&&t.x<=this.node.x+100&&t.y>=this.node.y-100&&t.y<=this.node.y+100},e.prototype.setColor=function(t){this.node.children[1].color=t},r([a],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],ItemResultDetaiMatTroi:[function(t,e,n){"use strict";cc._RF.push(e,"80d1bpT5j9JhK4x1bjta7Ie","ItemResultDetaiMatTroi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbX=null,e.lbTitleToHopWin=null,e.parentItemResult=null,e.parentItemWin=null,e.colorOf=null,e.playTable=[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[1,1,1,4,4,6,6,8,10,20,30,0,0],[2,2,2,6,6,10,10,15,25,25,40,0,0],[3,3,3,8,8,12,12,20,30,30,50,0,0],[4,4,4,10,10,15,15,30,40,50,80,0,0]],e}return i(e,t),e.prototype.init=function(t,e,n,o){var i=this;if(e){this.lbTitleToHopWin.string="T\u1ed5 h\u1ee3p win",this.parentItemWin.active=!0;for(var r=this.parentItemWin.children[0],a=0,c=e.lsIdItem.length;a<c;a++){var l=e.lsIdItem[a];e.lsAgWin[a],null==(C=this.parentItemWin.children[a])&&((C=cc.instantiate(r)).parent=this.parentItemWin),C.active=!0;var u=this.getArrSf(l+1,1,0);C.children[0].children[0].getComponent(cc.Sprite).spriteFrame=u[0],C.children[0].children[1].getComponent(cc.Sprite).spriteFrame=u[2]}for(a=e.lsIdItem.length;a<this.parentItemWin.childrenCount;a++)this.parentItemWin.children[a].active=!1;this.lbX.node.active=!0}else this.lbTitleToHopWin.string="-------------",this.parentItemWin.active=!1,this.lbX.node.active=!1;var p=this.parentItemResult.children,h=p[0].children[0];if(t.forEach(function(t,e){var n=p[e],o=null;t.forEach(function(t,e){var r=n.children[e],s=t.idItem,a=t.typeItem,c=t.size;null==r&&((r=cc.instantiate(h)).parent=n);var l=i.getArrSf(s+1,c,a);r.children[0].getComponent(cc.Sprite).spriteFrame=l[0],r.children[1].getComponent(cc.Sprite).spriteFrame=l[1],r.children[2].getComponent(cc.Sprite).spriteFrame=l[2],r.children[0].color=i.colorOf,r.children[1].color=i.colorOf,r.children[2].color=i.colorOf,r.children[0].height=105*c,r.children[1].height=105*c,r.height=103*c;var u=o?o.y+o.height/2*.75:-230;r.y=u+r.height/2*.75,o=r})}),e){var d=e.lsIdItem,f=e.lsstack,y=e.lsAgWin;for(a=0,c=d.length;a<c;a++){for(var g="",m=0;m<f[a]+1;m++){for(var v=p[m],S=0,b=0,w=v.childrenCount;b<w;b++)if(t[m][b].idItem==d[a]||11==t[m][b].idItem){var _=v.children[b];_.children[0].color=cc.Color.WHITE,_.children[1].color=cc.Color.WHITE,_.children[2].color=cc.Color.WHITE,S++}g+=S+"x"}var C;g+=this.playTable[f[a]][d[a]]+"x"+s.Windown.formatNumber(o),g+="\nx"+n,(C=this.parentItemWin.children[a]).children[1].getComponent(cc.Label).string=g+"=\n"+s.Windown.formatNumber(y[a]*n)}}this.lbX.string="x"+n,this.lbX.node.active=1!=n},e.prototype.getArrSf=function(t,e,n){var o=t<12?s.Windown.Neko.asset.atlasSymbol:s.Windown.Neko.asset.atlasSpecial,i=t<12?cc.misc.clampf(e,1,2):e;return[o.getSpriteFrame("bkg_"+t+"_"+e),0==n?null:o.getSpriteFrame("khung_"+n+"_"+e),o.getSpriteFrame("item_"+t+"_"+i)]},r([l(cc.Label)],e.prototype,"lbX",void 0),r([l(cc.Label)],e.prototype,"lbTitleToHopWin",void 0),r([l(cc.Node)],e.prototype,"parentItemResult",void 0),r([l(cc.Node)],e.prototype,"parentItemWin",void 0),r([l(cc.Color)],e.prototype,"colorOf",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],ItemResultDetailAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"e2369gAndRFE7db6+9LijTf","ItemResultDetailAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Other/LbMonoSpace"),a=t("../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentMul=null,e.lbTitleToHopWin=null,e.parentItemResult=null,e.parentItemWin=null,e.colorOf=null,e.playTable=[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[1,1,1,2,2,5,5,8,10,20,30,0,0],[2,2,2,3,3,8,8,10,15,25,35,0,0],[3,3,3,5,5,10,10,15,20,30,40,0,0],[4,4,4,10,10,15,15,20,30,40,50,0,0]],e}return i(e,t),e.prototype.init=function(t,e,n,o){var i=this,r=0;if(n.forEach(function(t){r+=t}),r=cc.misc.clampf(r,1,9999),e){this.lbTitleToHopWin.string="T\u1ed5 h\u1ee3p win",this.parentItemWin.active=!0;for(var c=this.parentItemWin.children[0],l=0,u=e.lsIdItem.length;l<u;l++){var p=e.lsIdItem[l];e.lsAgWin[l],null==(I=this.parentItemWin.children[l])&&((I=cc.instantiate(c)).parent=this.parentItemWin),I.active=!0;var h=this.getArrSf(p+1,1,0);I.children[0].children[0].getComponent(cc.Sprite).spriteFrame=h[0],I.children[0].children[1].getComponent(cc.Sprite).spriteFrame=h[2]}for(l=e.lsIdItem.length;l<this.parentItemWin.childrenCount;l++)this.parentItemWin.children[l].active=!1}else this.lbTitleToHopWin.string="-------------",this.parentItemWin.active=!1;var d=this.parentItemResult.children,f=d[0].children[0];if(t.forEach(function(t,e){var n=d[e],o=null;t.forEach(function(t,e){var r=n.children[e],s=t.i,a=t.t||0,c=t.s||1;null==r&&((r=cc.instantiate(f)).parent=n);var l=i.getArrSf(s+1,c,a);r.children[0].getComponent(cc.Sprite).spriteFrame=l[0],r.children[1].getComponent(cc.Sprite).spriteFrame=l[1],r.children[2].getComponent(cc.Sprite).spriteFrame=l[2],r.children[0].color=i.colorOf,r.children[1].color=i.colorOf,r.children[2].color=i.colorOf,r.children[0].height=105*c,r.children[1].height=105*c,r.height=103*c;var u=o?o.y+o.height/2*.75:-230;r.y=u+r.height/2*.75,o=r})}),e){var y=e.lsIdItem,g=e.lsstack,m=e.lsAgWin;for(l=0,u=y.length;l<u;l++){for(var v="",S=0;S<g[l]+1;S++){for(var b=d[S],w=0,_=0,C=b.childrenCount;_<C;_++)if(t[S][_].i==y[l]||11==t[S][_].i){var T=b.children[_];T.children[0].color=cc.Color.WHITE,T.children[1].color=cc.Color.WHITE,T.children[2].color=cc.Color.WHITE,w++}v+=w+"x"}var I;v+=this.playTable[g[l]][y[l]]+"x"+a.Windown.formatNumber(o),v+="\nx"+r,(I=this.parentItemWin.children[l]).children[1].getComponent(cc.Label).string=v+"=\n"+a.Windown.formatNumber(m[l]*r)}}cc.log(r),this.parentMul.children.forEach(function(t,e){t.getComponentInChildren(s.default).string=n[e].toString()})},e.prototype.getArrSf=function(t,e,n){return[a.Windown.Asgard.asset.getSfBkg(t,e),a.Windown.Asgard.asset.getSfKhungSymbol(n,e),a.Windown.Asgard.asset.getSfItemSymbol(t,e)]},r([u(cc.Node)],e.prototype,"parentMul",void 0),r([u(cc.Label)],e.prototype,"lbTitleToHopWin",void 0),r([u(cc.Node)],e.prototype,"parentItemResult",void 0),r([u(cc.Node)],e.prototype,"parentItemWin",void 0),r([u(cc.Color)],e.prototype,"colorOf",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Windown":"Windown"}],ItemResultDetailCaishen:[function(t,e,n){"use strict";cc._RF.push(e,"8bc82706ShNq6UImr45j92y","ItemResultDetailCaishen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Other/LbMonoSpace"),a=t("../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbX=null,e.lbTitleToHopWin=null,e.parentItemResult=null,e.parentItemWin=null,e.colorOf=null,e.playTable=[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[1,1,1,4,4,6,6,8,10,20,30,0,0],[2,2,2,6,6,10,10,15,25,25,40,0,0],[3,3,3,8,8,12,12,20,40,50,60,0,0],[4,4,4,10,10,15,15,30,60,70,80,0,0]],e}return i(e,t),e.prototype.init=function(t,e,n,o){var i=this;if(n=0==n?1:n,e){this.lbTitleToHopWin.string="T\u1ed5 h\u1ee3p win",this.parentItemWin.active=!0;for(var r=this.parentItemWin.children[0],s=0,c=e.lsIdItem.length;s<c;s++){var l=e.lsIdItem[s];e.lsAgWin[s],null==(C=this.parentItemWin.children[s])&&((C=cc.instantiate(r)).parent=this.parentItemWin),C.active=!0;var u=this.getArrSf(l,1,0);C.children[0].children[0].getComponent(cc.Sprite).spriteFrame=u[0],C.children[0].children[1].getComponent(cc.Sprite).spriteFrame=u[2]}for(s=e.lsIdItem.length;s<this.parentItemWin.childrenCount;s++)this.parentItemWin.children[s].active=!1;this.lbX.node.parent.active=!0}else this.lbTitleToHopWin.string="-------------",this.parentItemWin.active=!1;var p=this.parentItemResult.children,h=p[0].children[0];if(t.forEach(function(t,e){var n=p[e],o=null;t.forEach(function(t,e){var r=n.children[e],s=t.idItem,a=t.typeItem,c=t.size;null==r&&((r=cc.instantiate(h)).parent=n);var l=i.getArrSf(s,c,a);r.children[0].getComponent(cc.Sprite).spriteFrame=l[0],r.children[1].getComponent(cc.Sprite).spriteFrame=l[1],r.children[2].getComponent(cc.Sprite).spriteFrame=l[2],r.children[0].color=i.colorOf,r.children[1].color=i.colorOf,r.children[2].color=i.colorOf,r.children[0].height=105*c,r.children[1].height=105*c,r.height=103*c;var u=o?o.y+o.height/2*.75:-230;r.y=u+r.height/2*.75,o=r})}),e){var d=e.lsIdItem,f=e.lsstack,y=e.lsAgWin;for(s=0,c=d.length;s<c;s++){for(var g="",m=0;m<f[s]+1;m++){for(var v=p[m],S=0,b=0,w=v.childrenCount;b<w;b++)if(t[m][b].idItem==d[s]||11==t[m][b].idItem){var _=v.children[b];_.children[0].color=cc.Color.WHITE,_.children[1].color=cc.Color.WHITE,_.children[2].color=cc.Color.WHITE,S++}g+=S+"x"}var C;g+=this.playTable[f[s]][d[s]]+"x"+a.Windown.formatNumber(o),g+="\nx"+n,(C=this.parentItemWin.children[s]).children[1].getComponent(cc.Label).string=g+"=\n"+a.Windown.formatNumber(y[s]*n)}}this.lbX.string=n.toString()},e.prototype.getArrSf=function(t,e,n){return[a.Windown.Caishen.asset.getSfBgSymbol(t,e),a.Windown.Caishen.asset.getSfBorderSymbol(n,e,!1),a.Windown.Caishen.asset.getSfItemSymbol(t,e)]},r([u(s.default)],e.prototype,"lbX",void 0),r([u(cc.Label)],e.prototype,"lbTitleToHopWin",void 0),r([u(cc.Node)],e.prototype,"parentItemResult",void 0),r([u(cc.Node)],e.prototype,"parentItemWin",void 0),r([u(cc.Color)],e.prototype,"colorOf",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Windown":"Windown"}],ItemResultDetailDuaXe:[function(t,e,n){"use strict";cc._RF.push(e,"10051C53F9APIQ5+1ZhsU2u","ItemResultDetailDuaXe");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./SymbolDuaXe"),a=t("./ItemSlotDuaXe"),c=t("../../../Scritps/Windown"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentMul=null,e.lbTitleToHopWin=null,e.parentItemResult=null,e.parentItemWin=null,e.parentTotalWin=null,e.colorOf=null,e.playTable=[[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[1,1,1,4,4,6,6,8,10,20,0,0],[2,2,2,6,6,10,10,15,20,25,0,0],[3,3,3,8,8,12,12,20,30,40,0,0],[4,4,4,10,10,15,15,30,40,50,0,0]],e}return i(e,t),e.prototype.init=function(t,e,n,o,i,r){if(void 0===r&&(r=0),e){this.lbTitleToHopWin.string="T\u1ed5 h\u1ee3p win",this.parentItemWin.active=!0;for(var l=this.parentItemWin.children[0],u=0,p=e.lsIdItem.length;u<p;u++){var h=e.lsIdItem[u];e.lsAgWin[u],null==(M=this.parentItemWin.children[u])&&((M=cc.instantiate(l)).parent=this.parentItemWin),M.active=!0;var d=M.children[0].getComponent(s.SymbolDuaXe);d.result=h,d.typeItem=s.TYPE_ITEM.NONE,d.setSprite()}for(u=e.lsIdItem.length;u<this.parentItemWin.children.length;u++)this.parentItemWin.children[u].active=!1}else this.lbTitleToHopWin.string="-------------",this.parentItemWin.active=!1;var f=this.parentItemResult.children,y=f[0].children[0];if(cc.log("listResult:",t),t.forEach(function(t,e){var n=f[e],o=null;t.forEach(function(t,i){var r=n.children[i],c=t.i,l=t.t||1,u=t.s||1,p=t.b||1;null==r&&((r=cc.instantiate(y)).parent=n),r.getComponent(s.SymbolDuaXe).itemColum=n.getComponent(a.ItemSlotDuaXe),r.getComponent(s.SymbolDuaXe).result=c,r.getComponent(s.SymbolDuaXe).typeItem=l,r.getComponent(s.SymbolDuaXe).sizeItem=u,r.getComponent(s.SymbolDuaXe).bonus=p,r.getComponent(s.SymbolDuaXe).setSprite(),r.height=183*u,0==e&&cc.log("item id:"+r.getComponent(s.SymbolDuaXe).result);var h=o?o.position.y+o.height/2*(2/3):-260;r.setPosition(0,h+r.height/2*(2/3)),o=r})}),e){this.parentTotalWin.active=!1;var g=e.lsIdItem,m=e.lsstack,v=e.lsAgWin;for(u=0,p=g.length;u<p;u++){for(var S="",b=1,w=0,_=0;_<m[u]+1;_++){for(var C=f[_],T=0,I=0,W=C.children.length;I<W;I++)t[_][I].i!=g[u]&&11!=t[_][I].i||(C.children[I].getComponent(s.SymbolDuaXe).setKhungWin(),T++);S+=T+"x",T>=1&&(b*=T)}var M;S+=this.playTable[m[u]][g[u]]+"x"+c.Windown.formatNumber(i),w=0==w?1:w,(M=this.parentItemWin.children[u]).children[1].getComponent(cc.Label).string="B\u1ed9 "+(m[u]+1),M.children[2].getComponent(cc.Label).string=b+" \u0111\u01b0\u1eddng",M.children[3].getComponent(cc.Label).string=S+"= "+c.Windown.formatNumber(v[u])}}else 0==n&&(n=1),this.parentTotalWin.active=!0,this.parentTotalWin.getChildByName("lbBonus").getComponent(cc.Label).string="x"+n,this.parentTotalWin.getChildByName("lbTotalWin").getComponent(cc.Label).string=c.Windown.formatNumber(o)+" x "+n+" = "+c.Windown.formatNumber(r)},e.prototype.getArrSf=function(t,e,n){return[c.Windown.DuaXe.asset.getSfBkg(t,e,n),c.Windown.DuaXe.asset.getSfItemSymbol(t,e)]},r([p(cc.Node)],e.prototype,"parentMul",void 0),r([p(cc.Label)],e.prototype,"lbTitleToHopWin",void 0),r([p(cc.Node)],e.prototype,"parentItemResult",void 0),r([p(cc.Node)],e.prototype,"parentItemWin",void 0),r([p(cc.Node)],e.prototype,"parentTotalWin",void 0),r([p(cc.Color)],e.prototype,"colorOf",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/Windown":"Windown","./ItemSlotDuaXe":"ItemSlotDuaXe","./SymbolDuaXe":"SymbolDuaXe"}],ItemResultDetailMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"ba88c/vGTRNCoi/R6vsF3gX","ItemResultDetailMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=t("./SymbolMatChuoc"),u=t("./MutilControlMatChuoc"),p=t("../../../Scritps/Windown"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentMul=null,e.lbTitleToHopWin=null,e.parentItemResult=null,e.parentItemWin=null,e.colorOf=null,e.parentMultiControl=null,e.playTable=[[0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0],[1,1,2,3,3,5,6,8,10,0,0],[3,3,4,5,5,10,15,20,25,0,0],[6,6,10,12,12,15,30,40,50,0,0]],e}return i(e,t),e.prototype.init=function(t,e,n,o){var i;if(i=n,e){this.lbTitleToHopWin.node.active=!1,this.parentItemWin.active=!0;for(var r=this.parentItemWin.children[0],s=0,a=e.lsIdItem.length;s<a;s++){var c=e.lsIdItem[s];e.lsAgWin[s],null==(_=this.parentItemWin.children[s])&&((_=cc.instantiate(r)).parent=this.parentItemWin),_.active=!0,_.children[0].getComponent(l.default).result=c,_.children[0].getComponent(l.default).typeItem=0,_.children[0].getComponent(l.default).setImgResult(!1),_.children[0].setScale(.4)}for(s=e.lsIdItem.length;s<this.parentItemWin.children.length;s++)this.parentItemWin.children[s].active=!1}else this.lbTitleToHopWin.node.active=!0,this.parentItemWin.active=!1;var u=this.parentItemResult.children,h=u[0].children[0];if(t.forEach(function(t,e){var n=u[e];t.pop(),t.forEach(function(t,e){var o=n.children[e],i=t.i,r=t.t||0;null==o&&((o=cc.instantiate(h)).parent=n),o.getComponent(l.default).result=i,o.getComponent(l.default).typeItem=r,o.getComponent(l.default).setImgResult(!1),o.setPosition(cc.v3(0,138*e-320,0)),o.zIndex=6-e})}),e){var d=e.lsIdItem,f=e.lsstack,y=e.lsAgWin;for(s=0,a=d.length;s<a;s++){for(var g="",m=1,v=0;v<f[s]+1;v++){for(var S=0,b=0,w=u[v].children.length;b<w;b++)t[v][b].i!=d[s]&&9!=t[v][b].i||S++;g+=S+"x",S>=1&&(m*=S)}var _;g+=this.playTable[f[s]][d[s]]+"x"+p.Windown.formatNumber(o),g+="x"+i,(_=this.parentItemWin.children[s]).children[1].getComponent(cc.Label).string="B\u1ed9 "+(f[s]+1),_.children[2].getComponent(cc.Label).string=m+" \u0111\u01b0\u1eddng",_.children[3].getComponent(cc.Label).string=g+"= "+p.Windown.formatNumber(y[s]*i)}}this.parentMul.children[0].children[1].getComponent(cc.Label).string=n.toString(),this.parentMultiControl.setDetailHistory(o,i)},r([c(cc.Node)],e.prototype,"parentMul",void 0),r([c(cc.Label)],e.prototype,"lbTitleToHopWin",void 0),r([c(cc.Node)],e.prototype,"parentItemResult",void 0),r([c(cc.Node)],e.prototype,"parentItemWin",void 0),r([c(cc.Color)],e.prototype,"colorOf",void 0),r([c(u.default)],e.prototype,"parentMultiControl",void 0),r([a],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/Windown":"Windown","./MutilControlMatChuoc":"MutilControlMatChuoc","./SymbolMatChuoc":"SymbolMatChuoc"}],ItemResultDetailNeko:[function(t,e,n){"use strict";cc._RF.push(e,"2fbffkE6NlBmJBRlomI6oKU","ItemResultDetailNeko");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbX=null,e.lbTitleToHopWin=null,e.parentItemResult=null,e.parentItemWin=null,e.colorOf=null,e.playTable=[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[1,1,1,4,4,6,6,8,10,20,30,0,0],[2,2,2,6,6,10,10,15,25,25,40,0,0],[3,3,3,8,8,12,12,20,30,30,50,0,0],[4,4,4,10,10,15,15,30,40,50,80,0,0]],e}return i(e,t),e.prototype.init=function(t,e,n,o){var i=this;if(e){this.lbTitleToHopWin.string="T\u1ed5 h\u1ee3p win",this.parentItemWin.active=!0;for(var r=this.parentItemWin.children[0],a=0,c=e.lsIdItem.length;a<c;a++){var l=e.lsIdItem[a];e.lsAgWin[a],null==(C=this.parentItemWin.children[a])&&((C=cc.instantiate(r)).parent=this.parentItemWin),C.active=!0;var u=this.getArrSf(l+1,1,0);C.children[0].children[0].getComponent(cc.Sprite).spriteFrame=u[0],C.children[0].children[1].getComponent(cc.Sprite).spriteFrame=u[2]}for(a=e.lsIdItem.length;a<this.parentItemWin.childrenCount;a++)this.parentItemWin.children[a].active=!1;this.lbX.node.active=!0}else this.lbTitleToHopWin.string="-------------",this.parentItemWin.active=!1,this.lbX.node.active=!1;var p=this.parentItemResult.children,h=p[0].children[0];if(t.forEach(function(t,e){var n=p[e],o=null;t.forEach(function(t,e){var r=n.children[e],s=t.idItem,a=t.typeItem,c=t.size;null==r&&((r=cc.instantiate(h)).parent=n);var l=i.getArrSf(s+1,c,a);r.children[0].getComponent(cc.Sprite).spriteFrame=l[0],r.children[1].getComponent(cc.Sprite).spriteFrame=l[1],r.children[2].getComponent(cc.Sprite).spriteFrame=l[2],r.children[0].color=i.colorOf,r.children[1].color=i.colorOf,r.children[2].color=i.colorOf,r.children[0].height=105*c,r.children[1].height=105*c,r.height=103*c;var u=o?o.y+o.height/2*.75:-230;r.y=u+r.height/2*.75,o=r})}),e){var d=e.lsIdItem,f=e.lsstack,y=e.lsAgWin;for(a=0,c=d.length;a<c;a++){for(var g="",m=0;m<f[a]+1;m++){for(var v=p[m],S=0,b=0,w=v.childrenCount;b<w;b++)if(t[m][b].idItem==d[a]||11==t[m][b].idItem){var _=v.children[b];_.children[0].color=cc.Color.WHITE,_.children[1].color=cc.Color.WHITE,_.children[2].color=cc.Color.WHITE,S++}g+=S+"x"}var C;g+=this.playTable[f[a]][d[a]]+"x"+s.Windown.formatNumber(o),g+="\nx"+n,(C=this.parentItemWin.children[a]).children[1].getComponent(cc.Label).string=g+"=\n"+s.Windown.formatNumber(y[a]*n)}}this.lbX.string="x"+n,this.lbX.node.active=1!=n},e.prototype.getArrSf=function(t,e,n){var o=t<12?s.Windown.Neko.asset.atlasSymbol:s.Windown.Neko.asset.atlasSpecial,i=t<12?cc.misc.clampf(e,1,2):e;return[o.getSpriteFrame("bkg_"+t+"_"+e),0==n?null:o.getSpriteFrame("khung_"+n+"_"+e),o.getSpriteFrame("item_"+t+"_"+i)]},r([l(cc.Label)],e.prototype,"lbX",void 0),r([l(cc.Label)],e.prototype,"lbTitleToHopWin",void 0),r([l(cc.Node)],e.prototype,"parentItemResult",void 0),r([l(cc.Node)],e.prototype,"parentItemWin",void 0),r([l(cc.Color)],e.prototype,"colorOf",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],ItemResultDetailQuyBa:[function(t,e,n){"use strict";cc._RF.push(e,"706464HPHlF34YjjdFZTlwr","ItemResultDetailQuyBa");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=t("./BottleControllerQuyBa"),c=t("./BottleItemQuyBa"),l=t("./SymbolQuyBa"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentMul=null,e.lbTitleToHopWin=null,e.parentItemResult=null,e.parentItemWin=null,e.colorOf=null,e.bottleControl=null,e.playTable=[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[1,1,1,4,4,6,6,8,10,20,30,0,0],[2,2,2,6,6,10,10,15,25,25,40,0,0],[3,3,3,8,8,12,12,20,30,50,50,0,0],[4,4,4,10,10,15,15,30,50,60,80,0,0]],e}return i(e,t),e.prototype.init=function(t,e,n,o){var i=this;if(e){this.lbTitleToHopWin.string="T\u1ed5 h\u1ee3p win",this.parentItemWin.active=!0;for(var r=this.parentItemWin.children[0],a=0,u=e.lsIdItem.length;a<u;a++){var p=e.lsIdItem[a];e.lsAgWin[a],null==(w=this.parentItemWin.children[a])&&((w=cc.instantiate(r)).parent=this.parentItemWin),w.active=!0,w.children[0].getComponent(l.SymbolQuyBa).result=p,w.children[0].getComponent(l.SymbolQuyBa).typeItem=l.TYPE_ITEM.NONE,w.children[0].getComponent(l.SymbolQuyBa).setImgResult(!1)}for(a=e.lsIdItem.length;a<this.parentItemWin.children.length;a++)this.parentItemWin.children[a].active=!1}else this.lbTitleToHopWin.string="-------------",this.parentItemWin.active=!1;var h=this.parentItemResult.children,d=h[0].children[0];t.forEach(function(t,e){var n=h[e],o=null;t.forEach(function(t,e){var i=n.children[e],r=t.i,s=t.t||1,a=t.s||1;null==i&&((i=cc.instantiate(d)).parent=n),i.getComponent(l.SymbolQuyBa).result=r,i.getComponent(l.SymbolQuyBa).typeItem=s,i.getComponent(l.SymbolQuyBa).sizeItem=a,i.getComponent(l.SymbolQuyBa).setImgResult(!1),i.children[0].height=165*a,i.children[1].height=165*a,i.height=165*a;var c=o?o.position.y+o.height/2*(2/3):-260;i.setPosition(0,c+i.height/2*(2/3)),o=i})}),n.forEach(function(t,e){i.bottleControl.listBottle[e].getComponent(c.BottleItemQuyBa).setMultiHistory(t)});var f=1;if(e){var y=e.lsIdItem,g=e.lsstack,m=e.lsAgWin,v=Math.max.apply(Math,g);for(a=0;a<t.length;a++){var S=t[a];if(a<=v)for(var b=0;b<S.length;b++)if(11==S[b].i){f+=n[a-1];break}}for(f=1==f?1:f-1,cc.log("multiBonus="+f),a=0,u=y.length;a<u;a++){var w,_="",C=1,T=0;for(b=0;b<g[a]+1;b++){for(var I=h[b],W=0,M=0,E=I.children.length;M<E;M++)t[b][M].i!=y[a]&&11!=t[b][M].i||(I.children[M],W++),11==t[b][M].i&&this.bottleControl.listBottle[b-1].getComponent(c.BottleItemQuyBa).setMultiHistory(n[b-1],!0);_+=W+"x",W>=1&&(C*=W)}_+=this.playTable[g[a]][y[a]]+"x"+s.Windown.formatNumber(o),T=0==T?1:T,_+="x"+f,(w=this.parentItemWin.children[a]).children[1].getComponent(cc.Label).string="B\u1ed9 "+(g[a]+1),w.children[2].getComponent(cc.Label).string=C+" \u0111\u01b0\u1eddng",w.children[3].getComponent(cc.Label).string=_+"= "+s.Windown.formatNumber(m[a]*f)}}this.bottleControl.listBottle[4].getComponent(c.BottleItemQuyBa).setMultiHistory(n[3]+2),this.parentMul.children[0].children[1].getComponent(cc.Label).string=""+f},e.prototype.getArrSf=function(t,e,n){return[s.Windown.QuyBa.asset.getSfBkg(t,e,n),s.Windown.QuyBa.asset.getSfItemSymbol(t,e)]},r([h(cc.Node)],e.prototype,"parentMul",void 0),r([h(cc.Label)],e.prototype,"lbTitleToHopWin",void 0),r([h(cc.Node)],e.prototype,"parentItemResult",void 0),r([h(cc.Node)],e.prototype,"parentItemWin",void 0),r([h(cc.Color)],e.prototype,"colorOf",void 0),r([h(a.BottleControllerQuyBa)],e.prototype,"bottleControl",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../Scritps/Windown":"Windown","./BottleControllerQuyBa":"BottleControllerQuyBa","./BottleItemQuyBa":"BottleItemQuyBa","./SymbolQuyBa":"SymbolQuyBa"}],ItemResultDetailRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"64d1eTUkpdD2ruAyhPTtuG/","ItemResultDetailRungRam");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Other/LbMonoSpace"),a=t("../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbX=null,e.lbTitleToHopWin=null,e.parentItemResult=null,e.parentItemWin=null,e.colorOf=null,e.playTable=[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[1,1,1,4,4,6,6,8,10,20,30,0,0],[2,2,2,6,6,10,10,15,25,25,40,0,0],[3,3,3,8,8,12,12,20,40,50,60,0,0],[4,4,4,10,10,15,15,30,60,70,80,0,0]],e}return i(e,t),e.prototype.init=function(t,e,n,o){var i=this;if(e){this.lbTitleToHopWin.string="T\u1ed5 h\u1ee3p win",this.parentItemWin.active=!0;for(var r=this.parentItemWin.children[0],s=0,c=e.lsIdItem.length;s<c;s++){var l=e.lsIdItem[s];e.lsAgWin[s],null==(C=this.parentItemWin.children[s])&&((C=cc.instantiate(r)).parent=this.parentItemWin),C.active=!0;var u=this.getArrSf(l+1,1,0);C.children[0].children[0].getComponent(cc.Sprite).spriteFrame=u[0],C.children[0].children[1].getComponent(cc.Sprite).spriteFrame=u[2]}for(s=e.lsIdItem.length;s<this.parentItemWin.childrenCount;s++)this.parentItemWin.children[s].active=!1;this.lbX.node.parent.active=!0}else this.lbTitleToHopWin.string="-------------",this.parentItemWin.active=!1,this.lbX.node.parent.active=!1;var p=this.parentItemResult.children,h=p[0].children[0];if(t.forEach(function(t,e){var n=p[e],o=null;t.forEach(function(t,e){var r=n.children[e],s=t.idItem,a=t.typeItem,c=t.size;null==r&&((r=cc.instantiate(h)).parent=n);var l=i.getArrSf(s+1,c,a);r.children[0].getComponent(cc.Sprite).spriteFrame=l[0],r.children[1].getComponent(cc.Sprite).spriteFrame=l[1],r.children[2].getComponent(cc.Sprite).spriteFrame=l[2],r.children[0].color=i.colorOf,r.children[1].color=i.colorOf,r.children[2].color=i.colorOf,r.children[0].height=105*c,r.children[1].height=105*c,r.height=103*c;var u=o?o.y+o.height/2*.75:-230;r.y=u+r.height/2*.75,o=r})}),e){var d=e.lsIdItem,f=e.lsstack,y=e.lsAgWin;for(s=0,c=d.length;s<c;s++){for(var g="",m=0;m<f[s]+1;m++){for(var v=p[m],S=0,b=0,w=v.childrenCount;b<w;b++)if(t[m][b].idItem==d[s]||11==t[m][b].idItem){var _=v.children[b];_.children[0].color=cc.Color.WHITE,_.children[1].color=cc.Color.WHITE,_.children[2].color=cc.Color.WHITE,S++}g+=S+"x"}var C;g+=this.playTable[f[s]][d[s]]+"x"+a.Windown.formatNumber(o),g+="\nx"+n,(C=this.parentItemWin.children[s]).children[1].getComponent(cc.Label).string=g+"=\n"+a.Windown.formatNumber(y[s]*n)}}this.lbX.string=n.toString()},e.prototype.getArrSf=function(t,e,n){return[a.Windown.RungRam.asset.getSfBkg(t,e),a.Windown.RungRam.asset.getSfKhungSymbol(n),a.Windown.RungRam.asset.getSfItemSymbol(t,e)]},r([u(s.default)],e.prototype,"lbX",void 0),r([u(cc.Label)],e.prototype,"lbTitleToHopWin",void 0),r([u(cc.Node)],e.prototype,"parentItemResult",void 0),r([u(cc.Node)],e.prototype,"parentItemWin",void 0),r([u(cc.Color)],e.prototype,"colorOf",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Windown":"Windown"}],ItemResultDetail:[function(t,e,n){"use strict";cc._RF.push(e,"29f891JaoVLXbBX51spQO/z","ItemResultDetail");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbX=null,e.lbTitleToHopWin=null,e.parentItemResult=null,e.parentItemWin=null,e.colorOf=null,e.playTable=[[0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0],[3,3,5,5,8,10,15,20,20,30,50,0,0],[8,8,10,10,15,20,30,40,40,50,80,0,0],[10,10,15,15,20,30,40,50,50,80,100,0,0]],e}return i(e,t),e.prototype.init=function(t,e,n,o){if(e){this.lbTitleToHopWin.string="T\u1ed5 h\u1ee3p win",this.parentItemWin.active=!0;for(var i=this.parentItemWin.children[0],r=0,a=e.lsIdItem.length;r<a;r++){var c=e.lsIdItem[r];e.lsAgWin[r],null==(W=this.parentItemWin.children[r])&&((W=cc.instantiate(i)).parent=this.parentItemWin),W.active=!0,W.children[0].children[0].getComponent(cc.Sprite).spriteFrame=s.Windown.NgoKhong.asset.listSpBkgSymbol[c],W.children[0].children[1].getComponent(cc.Sprite).spriteFrame=s.Windown.NgoKhong.asset.listSFItem[c]}for(r=e.lsIdItem.length;r<this.parentItemWin.childrenCount;r++)this.parentItemWin.children[r].active=!1;this.lbX.node.active=!0}else this.lbTitleToHopWin.string="-------------",this.parentItemWin.active=!1,this.lbX.node.active=!1;var l=this.parentItemResult.children;for(var u in l){var p=t[Number(u)],h=l[u],d=h.children[0];for(r=0,a=p.length;r<a;r++){null==(W=h.children[r])&&((W=cc.instantiate(d)).parent=h),W.active=!0;var f=W.children[0].getComponent(cc.Sprite),y=W.children[1].getComponent(cc.Sprite);y.spriteFrame=s.Windown.NgoKhong.asset.listSFItem[p[r]],f.spriteFrame=s.Windown.NgoKhong.asset.listSpBkgSymbol[p[r]],W.setPosition(0,a*W.height/2-W.height*r-W.height/2),11==p[r]?(f.node.color=cc.Color.WHITE,y.node.color=cc.Color.WHITE):(f.node.color=this.colorOf,y.node.color=this.colorOf)}}if(e){var g=e.lsIdItem,m=e.lsstack,v=e.lsAgWin;for(r=0,a=g.length;r<a;r++){for(var S="",b=0;b<m[r]+1;b++){for(var w=l[b],_=0,C=0,T=w.childrenCount;C<T;C++)if(t[b][C]==g[r]||10==t[b][C]){var I=w.children[C];I.children[0].color=cc.Color.WHITE,I.children[1].color=cc.Color.WHITE,_++}S+=_+"x"}var W;S+=this.playTable[m[r]][g[r]]+"x"+s.Windown.formatNumber(o),(W=this.parentItemWin.children[r]).children[1].getComponent(cc.Label).string=S+"=\n"+s.Windown.formatNumber(v[r])}}this.lbX.string="x"+n;var M=0;for(var u in t){var E=t[u];E.length-4>M&&(M=E.length-4)}var R=.8;for(r=0;r<M;r++)R*=.92;this.parentItemResult.scale=R},r([l(cc.Label)],e.prototype,"lbX",void 0),r([l(cc.Label)],e.prototype,"lbTitleToHopWin",void 0),r([l(cc.Node)],e.prototype,"parentItemResult",void 0),r([l(cc.Node)],e.prototype,"parentItemWin",void 0),r([l(cc.Color)],e.prototype,"colorOf",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],ItemSafe:[function(t,e,n){"use strict";cc._RF.push(e,"109f9In/yZIBqwvrTyzca69","ItemSafe");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isRevert=!1,e}return i(e,t),e.prototype.onEnable=function(){this.node.active=!0},r([c(cc.Boolean)],e.prototype,"isRevert",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],ItemSlotAiCap:[function(t,e,n){"use strict";cc._RF.push(e,"2cf9bfmPdtDxJHqKSyvGSt1","ItemSlotAiCap");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE_MOVE=void 0;var c=t("../../../Scritps/DefineTs/StateReelSlot"),l=t("../../../Scritps/Network/ConectManager"),u=t("../../../Scritps/Windown"),p=t("./SymbolAiCap");(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD_NEW=1]="ADD_NEW"})(n.TYPE_MOVE||(n.TYPE_MOVE={}));var h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.sizeSymbol=7,e.funReject=null,e.resolve=null,e.stateWhel=c.default.WAITING,e.result=[],e.resultTemp=[],e.listIconEff=[],e.nodeEffNearWin=null,e.nodeWildDT=null,e.nodeWildShowDT=null,e.isScater=!1,e.index=-1,e.indexNodeFirt=0,e.isMoveSlowDown=!1,e.deltaSlowDown=0,e.listNumMutilWild=[],e.indexMaxWild=0,e.listProSkip=[],e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.getListSymbol=function(){for(var t=[],e=0,n=this.parentItem.children;e<n.length;e++){var o=n[e].getComponent(p.default);o&&t.push(o)}return t},e.prototype.getListSymbolResult=function(){var t=[],e=this.getListSymbol();return this.result.forEach(function(n,o){t.push(e[o+1])}),t},e.prototype.setResultFirtGame=function(){var t=this.getListRandomResult(),e=t.slice(1,t.length-1);this.setResult(e);for(var n=this.parentItem.children,o=0,i=this.sizeSymbol;o<i;o++){var r=n[o];null==r&&((r=this.getSymbol()).parent=this.parentItem),r.setSiblingIndex(o);var s=r.getComponent(p.default);s.setItemColum(this),s.setResult(t[o])}this.parentItem.sortAllChildren(),this.emitNewList(),this.getListSymbol().forEach(function(t){return t.initPosStartGame()})},e.prototype.getListRandomResult=function(){for(var t=[],e=0;e<this.sizeSymbol;e++)t.push(this.getRandomResult());return t},e.prototype.activeNodeNearWin=function(){u.Windown.AiCap.stateSpin.offAllSymbol(),null==this.nodeEffNearWin&&(this.nodeEffNearWin=u.Windown.AiCap.asset.getNearWin(),this.nodeEffNearWin.parent=u.Windown.AiCap.parentEffect,this.nodeEffNearWin.setPosition(u.Windown.convertNodeInOtherNode(this.node,u.Windown.AiCap.parentEffect))),this.nodeEffNearWin.opacity=255,this.nodeEffNearWin.active=!0,this.nodeEffNearWin.getComponent(cc.Animation).play("StartNearFS"),this.activeAllSymbol(),u.Windown.AiCap.activeMask(!0)},e.prototype.offNearWin=function(){var t=this;this.nodeEffNearWin&&(this.nodeEffNearWin.stopAllActions(),this.nodeEffNearWin.getComponent(cc.Animation).play("EndNearFS"),this.nodeEffNearWin.getComponent(cc.Animation).once(cc.Animation.EventType.FINISHED,function(){t.nodeEffNearWin.active=!1}))},e.prototype.setResult=function(t){this.result=t,this.resultTemp=t.slice(),this.indexMaxWild=this.resultTemp.length},e.prototype.emitNewList=function(){},e.prototype.getSymbol=function(){return u.Windown.AiCap.asset.getSymbol()},e.prototype.moveAllSymbol=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r,s,c,l,p,h,d;return a(this,function(a){switch(a.label){case 0:return t=u.Windown.AiCap.stateSpin.isMaxSpeed?0:.05*u.Windown.RandomNumber(0,5),[4,u.Windown.AiCap.getMakeDelay(.2+t).prosime];case 1:if(a.sent(),(n=this.getListSymbol()).forEach(function(t){t.activeItem()}),(o=n.filter(function(t){return t.checkIsInView()})).reverse(),o[o.length-1],o.length>0)for(i=o[0],r=-i.size.height*(this.sizeSymbol-2)+i.node.height/2,s=function(t,e){var n=o[t],i=n.node;if(Math.abs(r-i.y)>2){var s=cc.moveTo(.25,i.x,r).easing(cc.easeSineIn()),a=cc.sequence(cc.moveBy(.059,0,18).easing(cc.easeSineOut()),cc.moveBy(.059,0,-18).easing(cc.easeSineIn()),cc.callFunc(function(){n.effectSpawnSymbol()}));i.runAction(cc.sequence(s,cc.callFunc(function(){u.Windown.AiCap.audio.playEffectNoStop(u.Windown.AiCap.audio.bgm_bigwin_out,.6)}),a))}else n.isShuff&&n.effectSpawnSymbol();t<e-1&&(r=r+i.height/2+o[t+1].node.height/2)},c=0,l=o.length;c<l;c++)s(c,l);return o.forEach(function(t){t.sizeItem}),p=[],h=n,d=n[0].node.height/2,h.forEach(function(t,e){var i=n[e],r=i.node;!o.includes(i)&&Math.abs(d-r.y)>1&&p.push(new Promise(function(t){var o=cc.moveTo(.25,r.x,d).easing(cc.easeSineIn()),i=cc.sequence(cc.moveBy(.059,0,18).easing(cc.easeSineOut()),cc.moveBy(.059,0,-18).easing(cc.easeSineIn()),cc.callFunc(function(){t(null),n[e].effectSpawnSymbol()}));r.runAction(cc.sequence(o,cc.callFunc(function(){u.Windown.AiCap.audio.playEffectNoStop(u.Windown.AiCap.audio.bgm_bigwin_out,.6)}),i))})),e<h.length-1&&(d=d-r.height/2-n[e+1].node.height/2)}),[4,Promise.all(p)];case 2:return a.sent(),this.reSetResultColum(),e(null),[2]}})})})},e.prototype.offAllSymbol=function(){this.getListSymbol().forEach(function(t){t.offItem()})},e.prototype.activeAllSymbol=function(){this.getListSymbol().forEach(function(t){t.activeItem()})},e.prototype.reset=function(){},e.prototype.runSpin=function(t){this.indexCol=t,this.stateWhel=c.default.RUN,this.getListSymbol().forEach(function(t){t.runSpin()})},e.prototype.stopSpin=function(t,e){var n=this;return new Promise(function(o,i){return s(n,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return this.setResult(e),this.funReject=i,this.isScater=t,this.resolve=o,t?[3,2]:(this.listProSkip.push(u.Windown.AiCap.getMakeDelay(.07)),[4,this.listProSkip[this.listProSkip.length-1].prosime]);case 1:n.sent(),o(null),n.label=2;case 2:return this.stateWhel=c.default.STOP,this.recaculateSpeedSpin(!1),[2]}})})})},e.prototype.forceStopSpin=function(t){return this.listProSkip.forEach(function(t){t.cancle(!1)}),this.funReject&&this.funReject(),this.stopSpinWhenFastSpin(t)},e.prototype.stopSpinWhenFastSpin=function(t){var e=this;return new Promise(function(n){e.stateWhel!=c.default.SHOW_EFFECT?(e.setResult(t),e.stateWhel=c.default.SHOW_EFFECT,e.parentItem.stopAllActions(),e.parentItem.y=e.node.height/2,e.reSetResultColum(),e.sizeSymbol>6&&u.Windown.AiCap.audio.playEffectNoStop(u.Windown.AiCap.audio.spin_reelquickstop),e.isMoveSlowDown=!1,e.parentItem.y+=20,e.parentItem.runAction(cc.sequence(cc.moveBy(.04,0,-20).easing(cc.easeSineOut()),cc.callFunc(function(){e.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()}),n(null)})))):n(null)})},e.prototype.recaculateSpeedSpin=function(t){this.emitNewList();var e=this.getListSymbol(),n=e[0].node.y,o=-this.node.height-e[0].node.height/2,i=Math.abs(o-n),r=.28;t&&(r=2),e.forEach(function(t){t.stopSpin(cc.moveBy(r,0,-i))})},e.prototype.errSpin=function(){},e.prototype.reSetResultColum=function(){var t=this.getListSymbol();if(t.length>this.sizeSymbol)for(;t.length>this.sizeSymbol;)u.Windown.AiCap.asset.putSymbol(t[t.length-1].node),t=this.getListSymbol();else if(t.length<this.sizeSymbol){for(var e=t.length;e<this.sizeSymbol;e++){var n=this.getSymbol();this.parentItem.addChild(n),n.getComponent(p.default).setItemColum(this)}t=this.getListSymbol()}this.result.forEach(function(e,n){t[n+1].setResult(e)}),e=this.result.length+1;for(var o=t.length;e<o;e++)t[e].setResult(t[e].objSFS);t.forEach(function(t){t.canRun=!1,t.node.stopAllActions(),t.initPosStartGame()})},e.prototype.effStopSpin=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){return this.stateWhel==c.default.SHOW_EFFECT?[2]:(this.funReject=null,this.stateWhel=c.default.SHOW_EFFECT,this.parentItem.sortAllChildren(),this.parentItem.stopAllActions(),this.emitNewList(),this.parentItem.y=this.node.height/2,this.reSetResultColum(),this.sizeSymbol>6&&(u.Windown.AiCap.audio.playEffectNoStop(u.Windown.AiCap.audio.spin_reelquickstop),this.index>=1&&this.index<=4?u.Windown.AiCap.updateNewTotalLine(this.result.length+1):u.Windown.AiCap.updateNewTotalLine(this.result.length)),this.isMoveSlowDown=!1,this.isScater?this.parentItem.runAction(cc.sequence(cc.moveBy(.15,0,-30).easing(cc.easeSineOut()),cc.callFunc(this.offNearWin,this),cc.moveBy(.2,0,30).easing(cc.easeSineIn()),cc.callFunc(function(){t.resolve&&t.resolve(null),t.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()})}))):this.parentItem.runAction(cc.sequence(cc.moveBy(.04,0,-8).easing(cc.easeSineOut()),cc.moveBy(.04,0,8).easing(cc.easeSineIn()),cc.callFunc(function(){t.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()})}))),[2])})})},e.prototype.getIdSymbolResult=function(){return this.stateWhel==c.default.STOP&&this.resultTemp.pop()||this.getRandomResult()},e.prototype.checkLastSymbol=function(t){var e=this.getListSymbol();return e[e.length-1]==t},e.prototype.getRandomResult=function(){var t=null;return(t=l.ConectManager.getIns().getSFSObj()).putInt("size",1),1!=this.indexCol?t.putInt("idItem",u.Windown.RandomNumber(0,10)):t.putInt("idItem",u.Windown.RandomNumber(0,11)),t.putInt("typeItem",0),t},e.prototype.checkParentItem=function(){},e.prototype.runSlowDownActicon=function(){this.getListSymbol().forEach(function(t){t.node.stopAllActions()}),this.isMoveSlowDown=!0,this.deltaSlowDown=6e3},e.prototype.update=function(t){var e=this;this.isMoveSlowDown&&(this.getListSymbol().forEach(function(n){n.node.y-=t*e.deltaSlowDown}),this.deltaSlowDown>500?this.deltaSlowDown-=1800*t:this.deltaSlowDown<1e3&&(this.stateWhel=c.default.STOP,this.isMoveSlowDown=!1,this.recaculateSpeedSpin(!0)))},e.prototype.resetState=function(){this.getListSymbol().forEach(function(t){t.resetState()})},r([f(cc.Node)],e.prototype,"parentItem",void 0),r([f(cc.Integer)],e.prototype,"sizeSymbol",void 0),r([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Windown":"Windown","./SymbolAiCap":"SymbolAiCap"}],ItemSlotAsgardNgang:[function(t,e,n){"use strict";cc._RF.push(e,"5335cxsF/xJ4a2/AfmVDt8A","ItemSlotAsgardNgang");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./ItemSlotAsgard"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.start=function(){},r([c],e)}(s.default));n.default=l,cc._RF.pop()},{"./ItemSlotAsgard":"ItemSlotAsgard"}],ItemSlotAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"c8597VeN81O8IX6OAvw29kh","ItemSlotAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE_MOVE=void 0;var c=t("../../../Scritps/DefineTs/StateReelSlot"),l=t("../../../Scritps/Network/ConectManager"),u=t("../../../Scritps/Util"),p=t("../../../Scritps/Windown"),h=t("./SymbolAsgard");(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD_NEW=1]="ADD_NEW"})(n.TYPE_MOVE||(n.TYPE_MOVE={}));var d=cc._decorator,f=d.ccclass,y=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.sizeSymbol=7,e.parentItemFront=null,e.parentItemActive=null,e.funReject=null,e.resolve=null,e.stateWhel=c.default.WAITING,e.result=[],e.resultTemp=[],e.listResultRandomCache=[],e.listIconEff=[],e.nodeWildDT=null,e.nodeWildShowDT=null,e.isScater=!1,e.index=-1,e.indexNodeFirt=0,e.isMoveSlowDown=!1,e.deltaSlowDown=0,e.listNumMutilWild=[],e.indexMaxWild=0,e.listItemSymbol=[],e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.initParent=function(){this.parentItemFront=cc.instantiate(this.parentItem),this.parentItemFront.setPosition(p.Windown.convertNodeInOtherNode(this.parentItem,p.Windown.Asgard.parentItemFront)),this.parentItemFront.parent=p.Windown.Asgard.parentItemFront,this.parentItemActive=cc.instantiate(this.parentItem),this.parentItemActive.setPosition(p.Windown.convertNodeInOtherNode(this.parentItem,p.Windown.Asgard.parentItemActive)),this.parentItemActive.parent=p.Windown.Asgard.parentItemActive,6==this.sizeSymbol&&(this.parentItemFront.angle=-90,this.parentItemActive.angle=-90)},e.prototype.initListSymbol=function(){for(var t=[],e=0,n=this.parentItem.children;e<n.length;e++){var o=n[e].getComponent(h.default);o&&t.push(o)}this.listItemSymbol=t},e.prototype.getListSymbol=function(){return this.listItemSymbol},e.prototype.getListSymbolResult=function(){var t=[],e=this.getListSymbol();return this.result.forEach(function(n,o){t.push(e[o+1])}),t},e.prototype.setResultFirtGame=function(t){var e=t.slice(1,t.length-1);this.setResult(e),this.initParent();for(var n=this.parentItem.children,o=0,i=this.sizeSymbol;o<i;o++){var r=n[o];null==r&&((r=this.getSymbol()).parent=this.parentItem),r.setSiblingIndex(o),r.x=0;var s=r.getComponent(h.default);6==this.sizeSymbol?s.isVectical=!1:s.isVectical=!0,s.setItemColum(this),s.setResult(t[o])}this.initListSymbol(),this.getListSymbol().forEach(function(t){t.initPosStartGame(),t.checkItemFront(),t.effectSpawnSymbol(!1)})},e.prototype.activeNodeNearWin=function(){p.Windown.Asgard.effect.activeNodeNearWin(this.index)},e.prototype.offNearWin=function(){6==this.index&&p.Windown.Asgard.effect.offNearWin()},e.prototype.setResult=function(t){this.result=t,this.resultTemp=t.slice()},e.prototype.checkAndRemoveItem=function(t,e){var n=!1,o=this.getListSymbol().slice(1,this.result.length+1);6==this.sizeSymbol&&(o.reverse(),o=o.slice(0,e+1)),6==this.sizeSymbol&&o.reverse();for(var i=0;i<o.length;i++)o[i].result-1!=t&&12!=o[i].result||(0==o[i].typeItem?(o[i].removeItem(),this.result[i]=null):(o[i].effectRemoveItem(),o[i].isShuff=!0),n=!0);n&&(this.result=this.result.filter(function(t){return null!=t}))},e.prototype.checkItemWin=function(t,e){return s(this,void 0,void 0,function(){var n,o,i,r,s,c,l,h;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,6,,7]),n=this.getListSymbolResult(),o=p.Windown.Asgard.stateSpin.isMaxSpeed?0:.03,[4,p.Windown.Asgard.getMakeDelay(this.index*o).prosime];case 1:a.sent(),i=this.index>1&&this.index<6,6==this.sizeSymbol&&(n.reverse(),n=n.slice(0,e+1),i=!0),r=1,s=0,c=n,a.label=2;case 2:return s<c.length?(l=c[s],r++,l.result-1!=t&&12!=l.result||(l.takeItem(),i&&(6==this.sizeSymbol?p.Windown.Asgard.muitlCtr.effectActiveReel(r):(p.Windown.Asgard.muitlCtr.effectActiveReel(this.index),i=!1))),6!=this.sizeSymbol?[3,4]:[4,p.Windown.Asgard.getMakeDelay(o).prosime]):[3,5];case 3:a.sent(),a.label=4;case 4:return s++,[3,2];case 5:return[3,7];case 6:return h=a.sent(),u.Util.ThrowErrProsime(h),[3,7];case 7:return[2]}})})},e.prototype.addNewListSymbol=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,c,l,d,f,y,g,m;return a(this,function(a){switch(a.label){case 0:for(a.trys.push([0,6,,7]),p.Windown.Asgard.stateSpin.curentCountScater,e=p.Windown.Asgard.stateSpin.isMaxSpeed?3:1,(o=this.result.slice()).reverse(),this.setResult(t),i=this.result.length-o.length,o.length=this.result.length,o.reverse(),r=this.getListSymbol(),s=r[0],c=0;c<i;c++)(l=p.Windown.Asgard.asset.getSymbol()).x=0,this.parentItem.addChild(l,0),l.setSiblingIndex(0),g=l.getComponent(h.default),6==this.sizeSymbol?g.isVectical=!1:g.isVectical=!0,g.setItemColum(this),this.getListSymbol().unshift(g);for(d=this.getListSymbol(),f=[],d[0].setResult(this.getRandomResult()),this.result.forEach(function(t,e){var n=d[e+1];t.getInt("t")!=n.typeItem&&n.isShuff?f.push(n.actionRandomNewResultNextKhung(t.getInt("i"))):n.setResult(t)}),s.node.y=s.node.height/2,y=s.getIndexOf()-1;y>=0;)(g=d[y]).node.y=s.node.y+s.node.height/2+g.node.height/2,s=g,y--;return f.length<1?1!=e?[3,2]:[4,p.Windown.Asgard.getMakeDelay(.7).prosime]:[3,3];case 1:a.sent(),a.label=2;case 2:return[3,5];case 3:return[4,p.Windown.Asgard.getPromiseAll(f)];case 4:a.sent(),a.label=5;case 5:return n(null),[3,7];case 6:return m=a.sent(),u.Util.ThrowErrProsime(m),[3,7];case 7:return[2]}})})})},e.prototype.getSymbol=function(){return p.Windown.Asgard.asset.getSymbol()},e.prototype.checkIsNorSap=function(){var t=this.getListSymbol().filter(function(t){return t.checkIsInView()}),e=0;return t.forEach(function(t){e+=t.sizeItem}),this.sizeSymbol-2-e>0},e.prototype.getListYByListResult=function(){var t=[],e=this.getListSymbol()[0].size.height,n=this.getListSymbol().slice(1,this.result.length+1),o=-n[0].sizeItem*e/2;t.push(o);for(var i=1;i<n.length;i++)o-=n[i-1].sizeItem*e/2+n[i].sizeItem*e/2,t.push(o);return t},e.prototype.moveSymbolInView=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r,s,c,l,h,d;return a(this,function(){try{if(t=p.Windown.Asgard.stateSpin.isMaxSpeed?3:1,this.getListSymbol().forEach(function(t){t.offItem()}),(n=this.getListSymbol().filter(function(t){return t.checkIsInView()})).reverse(),o=this.getListYByListResult(),n.length>0)for(i=0,r=n.length;i<r;i++)s=n[i],c=s.getIndexOf()-1,l=o[c],Math.abs(l-s.node.y)>2&&(h=cc.moveTo(.25/t,s.node.x,l).easing(cc.easeSineIn()),d=cc.sequence(cc.moveBy(.04/t,0,15).easing(cc.easeSineOut()),cc.moveBy(.04/t,0,-15).easing(cc.easeSineIn()),cc.callFunc(function(){})),s.node.runAction(cc.sequence(h,cc.callFunc(function(){p.Windown.Asgard.audio.playSymCollapse()}),d)));e(null)}catch(a){u.Util.ThrowErrProsime(a)}return[2]})})})},e.prototype.moveSymbolNew=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r,s,c,l,h=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),t=this.getListSymbol().filter(function(t){return t.checkIsInView()}),n=p.Windown.Asgard.stateSpin.isMaxSpeed?3:1,o=this.getListSymbolResult(),i=[],r=o.reverse(),(s=this.getListYByListResult()).reverse(),c=0,r.forEach(function(e,o){var r=e.node,a=s[o];!t.includes(e)&&Math.abs(a-r.y)>2&&i.push(new Promise(function(t){var i=cc.moveTo(.25/n,r.x,a).easing(cc.easeSineIn()),s=cc.sequence(cc.moveBy(.04,0,15).easing(cc.easeSineOut()),cc.moveBy(.04,0,-15).easing(cc.easeSineIn()),cc.callFunc(function(){t(null),e.effectSpawnSymbol()}));6==h.sizeSymbol&&(c=0),r.runAction(cc.sequence(cc.delayTime(c),i,cc.callFunc(function(){p.Windown.Asgard.audio.playSymCollapse()}),s)),1==n&&(c+=p.Windown.RandomNumber(0,4)<2?0:.05*o)}))}),i.length>0&&1==n&&p.Windown.Asgard.nearWinNoSap.active?(p.Windown.Asgard.audio.playEffectNoStop(p.Windown.Asgard.audio.heartbeatSlowdrop),[4,p.Windown.Asgard.getMakeDelay(.5).prosime]):[3,2];case 1:a.sent(),a.label=2;case 2:return[4,p.Windown.Asgard.getPromiseAll(i)];case 3:return a.sent(),t.forEach(function(t){t.offItem()}),this.reSetResultColum(),e(null),[3,5];case 4:return l=a.sent(),u.Util.ThrowErrProsime(l),[3,5];case 5:return[2]}})})})},e.prototype.reset=function(){},e.prototype.runSpin=function(){this.stateWhel=c.default.RUN,this.getListSymbol().forEach(function(t){t.runSpin()})},e.prototype.stopSpin=function(t,e){var n=this;return new Promise(function(o,i){return s(n,void 0,void 0,function(){var n;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,6,,7]),this.setResult(e),this.funReject=i,this.isScater=t,this.resolve=o,t?[3,2]:[4,p.Windown.Asgard.getMakeDelay(.07).prosime];case 1:r.sent(),o(null),r.label=2;case 2:return t?(this.activeNodeNearWin(),this.runSlowDownActicon(),[4,p.Windown.Asgard.getMakeDelay(1.1).prosime]):[3,4];case 3:return r.sent(),this.stateWhel=c.default.SHOW_EFFECT,[3,5];case 4:this.stateWhel=c.default.STOP,this.recaculateSpeedSpin(!1),r.label=5;case 5:return[3,7];case 6:return n=r.sent(),u.Util.ThrowErrProsime(n),[3,7];case 7:return[2]}})})})},e.prototype.forceStopSpin=function(t,e){return this.funReject&&this.funReject(),t&&(this.offNearWin(),p.Windown.Asgard.audio.stopEffect(p.Windown.Asgard.audio.fastspinEnd),this.isMoveSlowDown=!1),this.stopSpinIsFastSpin(t,e)},e.prototype.stopSpinIsFastSpin=function(t,e){var n=this;return new Promise(function(t){n.stateWhel!=c.default.END?(n.setResult(e),n.stateWhel=c.default.END,n.parentItem.stopAllActions(),n.parentItem.y=n.node.height/2,n.reSetResultColum(),n.sizeSymbol>6&&(p.Windown.Asgard.audio.playStopAudio(),n.index>=2&&n.index<=5?p.Windown.Asgard.updateNewTotalLine(n.result.length+1):p.Windown.Asgard.updateNewTotalLine(n.result.length)),n.isMoveSlowDown=!1,n.parentItem.y+=20,n.parentItem.runAction(cc.sequence(cc.moveBy(.04,0,-20).easing(cc.easeSineOut()),cc.callFunc(function(){n.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()}),t(null)})))):t(null)})},e.prototype.recaculateSpeedSpin=function(t){var e=this.getListSymbol(),n=e[0].node.y,o=-this.node.height-e[0].node.height/2,i=Math.abs(o-n),r=.28;t&&(r=2),e.forEach(function(t){t.stopSpin(cc.moveBy(r,0,-i))})},e.prototype.errSpin=function(){},e.prototype.reSetResultColum=function(){var t=this.getListSymbol();if(t.length>this.sizeSymbol)for(;t.length>this.sizeSymbol;)p.Windown.Asgard.asset.putSymbol(t[t.length-1].node),t.pop();else if(t.length<this.sizeSymbol)for(var e=t.length;e<this.sizeSymbol;e++){var n=this.getSymbol();this.parentItem.addChild(n);var o=n.getComponent(h.default);6==this.sizeSymbol?o.isVectical=!1:o.isVectical=!0,o.setItemColum(this),t.push(o)}this.result.forEach(function(e,n){t[n+1].setResult(e)}),e=this.result.length+1;for(var i=t.length;e<i;e++)t[e].setResult(t[e].objSFS);t.forEach(function(t){t.canRun=!1,t.node.stopAllActions(),t.initPosStartGame()})},e.prototype.effStopSpin=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){try{if(this.stateWhel==c.default.END)return[2];this.stateWhel=c.default.END,this.parentItem.stopAllActions(),this.parentItem.y=this.node.height/2,this.reSetResultColum(),this.sizeSymbol>6&&(p.Windown.Asgard.audio.playStopAudio(),this.index>=2&&this.index<=5?p.Windown.Asgard.updateNewTotalLine(this.result.length+1):p.Windown.Asgard.updateNewTotalLine(this.result.length)),this.funReject=null,this.isMoveSlowDown=!1,this.isScater?(this.offNearWin(),this.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()}),this.resolve&&this.resolve(null),this.resolve=null):this.parentItem.runAction(cc.sequence(cc.moveBy(.04,0,10).easing(cc.easeSineOut()),cc.moveBy(.04,0,-10).easing(cc.easeSineIn()),cc.callFunc(function(){t.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()})})))}catch(e){u.Util.ThrowErrProsime(e)}return[2]})})},e.prototype.getIdSymbolResult=function(){return this.stateWhel==c.default.STOP&&this.resultTemp.pop()||this.getRandomResult()},e.prototype.checkLastSymbol=function(t){var e=this.getListSymbol();return e[e.length-1]==t},e.prototype.getRandomResult=function(t){(this.index<2||6==this.index)&&(t=1);var e=null;return e=l.ConectManager.getIns().getSFSObj(),t?(e.putInt("s",t),t>1?e.putInt("i",p.Windown.RandomNumber(0,12)):e.putInt("i",p.Windown.RandomNumber(0,13))):(e.putInt("i",p.Windown.RandomNumber(0,13)),e.getInt("i")<12?(p.Windown.RandomNumber(0,100),e.putInt("s",p.Windown.RandomNumber(1,5))):e.putInt("s",1)),1==e.getInt("s")||11==e.getInt("i")?e.putInt("t",0):e.putInt("t",p.Windown.RandomNumber(0,3)),e},e.prototype.checkParentItem=function(){},e.prototype.runSlowDownActicon=function(){this.getListSymbol().forEach(function(t){t.node.stopAllActions()}),this.isMoveSlowDown=!0,this.deltaSlowDown=6e3},e.prototype.update=function(t){var e=this;this.isMoveSlowDown&&(this.getListSymbol().forEach(function(n){n.node.y-=t*e.deltaSlowDown}),this.deltaSlowDown>500?this.deltaSlowDown-=1800*t:this.deltaSlowDown<1e3&&(this.stateWhel=c.default.STOP,this.isMoveSlowDown=!1,this.recaculateSpeedSpin(!0)))},r([y(cc.Node)],e.prototype,"parentItem",void 0),r([y(cc.Integer)],e.prototype,"sizeSymbol",void 0),r([f],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./SymbolAsgard":"SymbolAsgard"}],ItemSlotCaishenNgang:[function(t,e,n){"use strict";cc._RF.push(e,"4faa9ftkUpCbaCske+UEO89","ItemSlotCaishenNgang");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=t("./ItemSlotCaishen"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.start=function(){},e.prototype.activeLongWild=function(){var t=this,e=cc.find("ParentItem/spine",this.itemLongWild).getComponent(sp.Skeleton),n=s.Windown.convertNodeInOtherNode(this.node,s.Windown.Caishen.parentEffect.parent.parent);this.itemLongWild.setParent(s.Windown.Caishen.parentEffect.parent.parent),this.itemLongWild.setPosition(n),e.setAnimation(0,"activate",!1),this.scheduleOnce(function(){s.Windown.Caishen.audio.playEffect(s.Windown.Caishen.audio.wildShrink)},1),e.setCompleteListener(function(){t.itemLongWild.destroy(),t.itemLongWild=null,t.getListSymbolResult().forEach(function(t){t.skeletonItem.setAnimation(0,"idle",!0)})}),e.node.y=230},r([l],e)}(a.default));n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown","./ItemSlotCaishen":"ItemSlotCaishen"}],ItemSlotCaishen:[function(t,e,n){"use strict";cc._RF.push(e,"b8971Uo1ttNFrBbPjFsyFsS","ItemSlotCaishen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE_MOVE=void 0;var c=t("../../../Scritps/DefineTs/StateReelSlot"),l=t("../../../Scritps/Network/ConectManager"),u=t("../../../Scritps/Util"),p=t("../../../Scritps/Windown"),h=t("./SymbolCaiShen");(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD_NEW=1]="ADD_NEW"})(n.TYPE_MOVE||(n.TYPE_MOVE={}));var d=cc._decorator,f=d.ccclass,y=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.sizeSymbol=7,e.parentItemFront=null,e.parentItemActive=null,e.funReject=null,e.resolve=null,e.stateWhel=c.default.WAITING,e.result=[],e.resultTemp=[],e.listIconEff=[],e.nodeEffNearWin=null,e.nodeWildDT=null,e.nodeWildShowDT=null,e.itemLongWild=null,e.isScater=!1,e.index=-1,e.indexNodeFirt=0,e.isMoveSlowDown=!1,e.deltaSlowDown=0,e.listNumMutilWild=[],e.indexMaxWild=0,e.listItemSymbol=[],e.listProSkip=[],e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.initParent=function(){this.parentItemFront=cc.instantiate(this.parentItem),this.parentItemFront.setPosition(p.Windown.convertNodeInOtherNode(this.parentItem,p.Windown.Caishen.parentItemFront)),this.parentItemFront.parent=p.Windown.Caishen.parentItemFront,this.parentItemActive=cc.instantiate(this.parentItem),this.parentItemActive.setPosition(p.Windown.convertNodeInOtherNode(this.parentItem,p.Windown.Caishen.parentItemActive)),this.parentItemActive.parent=p.Windown.Caishen.parentItemActive,6==this.sizeSymbol&&(this.parentItemFront.angle=-90,this.parentItemActive.angle=-90)},e.prototype.initListSymbol=function(){for(var t=[],e=0,n=this.parentItem.children;e<n.length;e++){var o=n[e].getComponent(h.default);o&&t.push(o)}this.listItemSymbol=t},e.prototype.getListSymbol=function(){return this.listItemSymbol},e.prototype.getListSymbolResult=function(){var t=[],e=this.getListSymbol();return this.result.forEach(function(n,o){t.push(e[o+1])}),t},e.prototype.setResultFirtGame=function(){var t=this.getListRandomResult(),e=t.slice(1,t.length-1);this.setResult(e),this.initParent();for(var n=this.parentItem.children,o=0,i=this.sizeSymbol;o<i;o++){var r=n[o];null==r&&((r=this.getSymbol()).parent=this.parentItem),r.setSiblingIndex(o),r.x=0;var s=r.getComponent(h.default);6==this.sizeSymbol?s.isVectical=!1:s.isVectical=!0,s.setItemColum(this),s.setResult(t[o])}this.initListSymbol(),this.getListSymbol().forEach(function(t){t.initPosStartGame(),t.checkItemFront()})},e.prototype.getListRandomResult=function(){var t=[];if(0==this.index||5==this.index)for(var e=0;e<this.sizeSymbol;e++)t.push(this.getRandomResult());else{t.push(this.getRandomResult());var n=this.getRandomResult();t.push(n);for(var o=n.getInt("size");o<5;)o+(n=this.getRandomResult(p.Windown.RandomNumber(1,6-o))).getInt("size")<=5&&(o+=n.getInt("size"),t.push(n));for(e=t.length;e<this.sizeSymbol;e++)t.push(this.getRandomResult())}return t},e.prototype.offNearWin=function(){var t=this;p.Windown.Caishen.activeMask(!0,6==this.sizeSymbol?6:this.index),this.nodeEffNearWin&&(cc.log("offNearWin:"),this.nodeEffNearWin.stopAllActions(),this.nodeEffNearWin.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.nodeEffNearWin.active=!1})))),5==this.index&&(p.Windown.Caishen.activeMask(!1),p.Windown.Caishen.infoBar.offOneMoreScater(),p.Windown.Caishen.infoBar.showRdContent())},e.prototype.setResult=function(t){this.result=t,this.resultTemp=t.slice(),this.indexMaxWild=this.resultTemp.length},e.prototype.checkAndRemoveItem=function(t,e){var n=!1,o=this.getListSymbol().slice(1,this.result.length+1);6==this.sizeSymbol&&(o.reverse(),o=o.slice(0,e+1)),6==this.sizeSymbol&&o.reverse();for(var i=0;i<o.length;i++)o[i].result!=t&&11!=o[i].result||(0!=o[i].typeItem||o[i].isShuff?(o[i].effectRemoveItem(),o[i].isShuff=!0):(o[i].removeItem(),this.result[i]=null),n=!0);n&&(this.result=this.result.filter(function(t){return null!=t}))},e.prototype.getNextIdShuffle=function(){},e.prototype.checkItemShuffle=function(t,e,n,o){var i=this;return new Promise(function(r){return s(i,void 0,void 0,function(){var i,s,c,l,p,h,d,f,y;return a(this,function(a){switch(a.label){case 0:for(a.trys.push([0,2,,3]),i=this.getListSymbol().slice(1,this.result.length+1),s=[],c=0,l=i;c<l.length;c++)if((p=l[c]).result==e&&0!=p.typeItem){for(h=p.getIndexOf()-1,d=h,f=h+1;f<this.result.length;f++)(t.includes(this.result[f].getInt("idItem"))&&this.index<=n||11==this.result[f].getInt("idItem"))&&d++;this.result.length!=o.length&&(this.result.length>o.length?d-=this.result.length-o.length:d+=o.length-this.result.length),s.push(p.actionRandomNewResultNextKhung(o[d].getInt("idItem")))}return[4,Promise.all(s)];case 1:return a.sent(),r(null),[3,3];case 2:return y=a.sent(),u.Util.ThrowErrProsime(y),[3,3];case 3:return[2]}})})})},e.prototype.checkItemWin=function(t,e){var n=this;return new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s;return a(this,function(){try{for(this.getListSymbol(),n=this.getListSymbol().slice(1,this.result.length+1),6==this.sizeSymbol&&(n.reverse(),n=n.slice(0,e+1)),i=0,r=n;i<r.length;i++)(s=r[i]).result!=t&&11!=s.result||(0!=s.typeItem||s.isShuff?cc.log("item shuffle,not take effect"):s.takeItem());o(null)}catch(a){u.Util.ThrowErrProsime(a)}return[2]})})})},e.prototype.addNewListSymbol=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,c,l,d,f,y,g;return a(this,function(a){switch(a.label){case 0:for(a.trys.push([0,2,,3]),p.Windown.Caishen.stateSpin.curentCountScater,(e=this.result.slice()).reverse(),this.setResult(t),o=this.result.length-e.length,e.length=this.result.length,e.reverse(),i=this.getListSymbol(),r=i[0],s=0;s<o;s++)(c=p.Windown.Caishen.asset.getSymbol()).x=0,this.parentItem.addChild(c,0),c.setSiblingIndex(0),y=c.getComponent(h.default),6==this.sizeSymbol?y.isVectical=!1:y.isVectical=!0,y.setItemColum(this),this.getListSymbol().unshift(y);for(l=this.getListSymbol(),d=[],l[0].setResult(this.getRandomResult()),this.result.forEach(function(t,e){var n=l[e+1];t.getInt("typeItem")!=n.typeItem&&n.isShuff||n.setResult(t)}),r.node.y=r.node.height/2,f=r.getIndexOf()-1;f>=0;)(y=l[f]).node.y=r.node.y+r.node.height/2+y.node.height/2,r=y,f--;return[4,Promise.all(d)];case 1:return a.sent(),n(null),[3,3];case 2:return g=a.sent(),u.Util.ThrowErrProsime(g),[3,3];case 3:return[2]}})})})},e.prototype.getSymbol=function(){return p.Windown.Caishen.asset.getSymbol()},e.prototype.checkIsNorSap=function(){var t=this.getListSymbol().filter(function(t){return t.checkIsInView()}),e=0;return t.forEach(function(t){e+=t.sizeItem}),this.sizeSymbol-2-e>0},e.prototype.moveAllSymbol=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,c,l,h,d,f,y,g,m,v,S,b,w;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,10,,11]),e=p.Windown.Caishen.stateSpin.curentCountScater>2&&!p.Windown.Caishen.stateSpin.isMaxSpeed,o=e||p.Windown.Caishen.stateSpin.isMaxSpeed?0:.05*p.Windown.RandomNumber(0,5),i=p.Windown.Caishen.stateSpin.isMaxSpeed?2:1,[4,p.Windown.Caishen.getMakeDelay(.2+o).prosime];case 1:if(a.sent(),(r=this.getListSymbol()).forEach(function(t){t.offItem()}),(s=r.filter(function(t){return t.checkIsInView()})).reverse(),s[s.length-1],s.length>0)for(c=s[0],l=-c.size.height*(this.sizeSymbol-2)+c.node.height/2,h=function(t,e){var n=s[t],o=n.node;if(Math.abs(l-o.y)>2){var r=cc.moveTo(.25/i,o.x,l).easing(cc.easeSineIn()),a=cc.sequence(cc.moveBy(.04,0,15).easing(cc.easeSineOut()),cc.moveBy(.04,0,-15).easing(cc.easeSineIn()),cc.callFunc(function(){n.effectSpawnSymbol()}));o.runAction(cc.sequence(r,cc.callFunc(function(){p.Windown.Caishen.audio.playSymCollapse()}),a))}else n.isShuff&&n.effectSpawnSymbol();t<e-1&&(l=l+o.height/2+s[t+1].node.height/2)},d=0,f=s.length;d<f;d++)h(d,f);return y=0,s.forEach(function(t){y+=t.sizeItem}),g=this.sizeSymbol-2-y,e?[4,p.Windown.Caishen.getMakeDelay(.4).prosime]:[3,8];case 2:return a.sent(),p.Windown.Caishen.audio.playEffect(p.Windown.Caishen.audio.heartbeatNoise),p.Windown.Caishen.stateSpin.offAllSymbol(!1),s.forEach(function(t){t.effectNearWinScater(!0)}),p.Windown.Caishen.infoBar.showOneMoreScater(),g>0?[4,p.Windown.Caishen.getMakeDelay(3).prosime]:[3,5];case 3:return a.sent(),p.Windown.Caishen.activeMask(!1),p.Windown.Caishen.stateSpin.offAllEffectSymbolScater(),[4,p.Windown.Caishen.getMakeDelay(.3+.6*t).prosime];case 4:return a.sent(),[3,7];case 5:return[4,p.Windown.Caishen.getMakeDelay(3.5).prosime];case 6:a.sent(),a.label=7;case 7:s.forEach(function(t){t.removeAddScater()}),a.label=8;case 8:return e&&g>0&&!p.Windown.Caishen.stateSpin.isMaxSpeed&&p.Windown.Caishen.audio.playEffectNoStop(p.Windown.Caishen.audio.heartbeatSlowdrop),m=[],v=r,S=r[0].node.height/2,b=!0,v.forEach(function(t,e){var n=r[e],o=n.node;!s.includes(n)&&Math.abs(S-o.y)>1&&m.push(new Promise(function(t){var s=cc.moveTo(.25/i,o.x,S).easing(cc.easeSineIn()),a=cc.sequence(cc.moveBy(.04,0,15).easing(cc.easeSineOut()),cc.moveBy(.04,0,-15).easing(cc.easeSineIn()),cc.callFunc(function(){t(null),r[e].effectSpawnSymbol()}));o.runAction(cc.sequence(cc.delayTime(.05*(v.length-1-e)),s,cc.callFunc(function(){p.Windown.Caishen.audio.playSymCollapse(),n.isSmoke&&n.showSmoke(),b&&(p.Windown.Caishen.stateSpin.effectDropScater(),b=!1)}),a))})),e<v.length-1&&(S=S-o.height/2-r[e+1].node.height/2)}),[4,Promise.all(m)];case 9:return a.sent(),this.reSetResultColum(),n(null),[3,11];case 10:return w=a.sent(),u.Util.ThrowErrProsime(w),[3,11];case 11:return[2]}})})})},e.prototype.reset=function(){},e.prototype.runSpin=function(){this.stateWhel=c.default.RUN,this.getListSymbol().forEach(function(t){t.runSpin()})},e.prototype.stopSpin=function(t,e){var n=this;return new Promise(function(o,i){return s(n,void 0,void 0,function(){var n,r;return a(this,function(s){switch(s.label){case 0:return s.trys.push([0,6,,7]),0!=this.node.angle&&(n=this.checkLongWild(e),!this.isScater&&n&&this.showLongWild()),this.listProSkip=[],this.setResult(e),this.funReject=i,this.isScater=t,this.resolve=o,t?[3,2]:(this.listProSkip.push(p.Windown.Caishen.getMakeDelay(.07)),[4,this.listProSkip[this.listProSkip.length-1].prosime]);case 1:s.sent(),o(null),s.label=2;case 2:return t?(p.Windown.Caishen.effect.activeNodeNearWin(this.index),this.runSlowDownActicon(),this.listProSkip.push(p.Windown.Caishen.getMakeDelay(1.1)),[4,this.listProSkip[this.listProSkip.length-1].prosime]):[3,4];case 3:return s.sent(),this.stateWhel=c.default.SHOW_EFFECT,[3,5];case 4:this.stateWhel=c.default.STOP,this.recaculateSpeedSpin(!1),s.label=5;case 5:return[3,7];case 6:return r=s.sent(),u.Util.ThrowErrProsime(r),[3,7];case 7:return[2]}})})})},e.prototype.forceStopSpin=function(t,e){return this.listProSkip.forEach(function(t){t.cancle(!1)}),this.funReject&&this.funReject(),t&&(p.Windown.Caishen.effect.offNearWin(),p.Windown.Caishen.audio.stopEffect(p.Windown.Caishen.audio.fastspinStart),this.isMoveSlowDown=!1),this.stopSpinIsFastSpin(t,e)},e.prototype.stopSpinIsFastSpin=function(t,e){var n=this;return new Promise(function(t){return s(n,void 0,void 0,function(){var n,o,i=this;return a(this,function(){return this.stateWhel==c.default.SHOW_EFFECT?(t(null),[2]):(n=!1,0!=this.node.angle&&(n=this.checkLongWild(e),!this.isScater&&n&&this.showLongWild()),this.setResult(e),this.stateWhel=c.default.SHOW_EFFECT,this.parentItem.stopAllActions(),this.parentItem.y=this.node.height/2,this.reSetResultColum(),this.sizeSymbol>6&&(this.index>=1&&this.index<=4?p.Windown.Caishen.updateNewTotalLine(this.result.length+1):p.Windown.Caishen.updateNewTotalLine(this.result.length)),p.Windown.Caishen.audio.playEffect(p.Windown.Caishen.audio.spinStopQuick),this.isMoveSlowDown=!1,this.parentItem.y+=20,this.parentItem.runAction(cc.sequence(cc.moveBy(.04,0,-20).easing(cc.easeSineOut()),cc.callFunc(function(){i.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()}),t(null)}))),null!=this.itemLongWild&&((o=this.itemLongWild.getChildByName("ParentItem")).y=this.itemLongWild.height/2,o.runAction(cc.sequence(cc.moveBy(.04,cc.v2(0,-this.itemLongWild.height)),cc.moveBy(.04,0,10).easing(cc.easeSineOut()),cc.moveBy(.04,0,-10).easing(cc.easeSineIn())))),[2])})})})},e.prototype.recaculateSpeedSpin=function(t){var e=this.getListSymbol(),n=e[0].node.y,o=-this.node.height-e[0].node.height/2,i=Math.abs(o-n),r=.28;if(t&&(r=2),e.forEach(function(t){t.stopSpin(cc.moveBy(r,0,-i))}),null!=this.itemLongWild){var s=this.itemLongWild.getChildByName("ParentItem");s.y=this.itemLongWild.height/2,s.runAction(cc.sequence(cc.moveBy(r,cc.v2(0,-this.itemLongWild.height)),cc.moveBy(.04,0,10).easing(cc.easeSineOut()),cc.moveBy(.04,0,-10).easing(cc.easeSineIn())))}},e.prototype.checkLongWild=function(t){return 4==t.filter(function(t){return 11==t.getInt("idItem")}).length},e.prototype.showLongWild=function(){this.itemLongWild=cc.instantiate(p.Windown.Caishen.asset.itemLongWild),this.itemLongWild.setParent(p.Windown.Caishen.parentEffect);var t=p.Windown.convertNodeInOtherNode(this.node,p.Windown.Caishen.parentEffect);this.itemLongWild.getChildByName("ParentItem").y=this.itemLongWild.height/2,this.itemLongWild.setPosition(cc.v2(5,t.y)),this.itemLongWild.active=!0},e.prototype.errSpin=function(){},e.prototype.reSetResultColum=function(){var t=this.getListSymbol();if(t.length>this.sizeSymbol)for(;t.length>this.sizeSymbol;)p.Windown.Caishen.asset.putSymbol(t[t.length-1].node),t.pop();else if(t.length<this.sizeSymbol)for(var e=t.length;e<this.sizeSymbol;e++){var n=this.getSymbol();this.parentItem.addChild(n);var o=n.getComponent(h.default);6==this.sizeSymbol?o.isVectical=!1:o.isVectical=!0,o.setItemColum(this),t.push(o)}this.result.forEach(function(e,n){t[n+1].setResult(e)}),e=this.result.length+1;for(var i=t.length;e<i;e++)t[e].setResult(t[e].objSFS);t.forEach(function(t){t.canRun=!1,t.node.stopAllActions(),t.initPosStartGame(),t.setImgResult(!1)})},e.prototype.effStopSpin=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){try{if(this.stateWhel==c.default.SHOW_EFFECT)return[2];this.stateWhel=c.default.SHOW_EFFECT,this.parentItem.stopAllActions(),this.parentItem.y=this.node.height/2,this.reSetResultColum(),this.sizeSymbol>6&&(p.Windown.Caishen.audio.playStopAudio(),this.index>=1&&this.index<=4?p.Windown.Caishen.updateNewTotalLine(this.result.length+1):p.Windown.Caishen.updateNewTotalLine(this.result.length)),this.funReject=null,this.isMoveSlowDown=!1,this.isScater?(p.Windown.Caishen.effect.offNearWin(),this.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()}),this.resolve&&this.resolve(null)):this.parentItem.runAction(cc.sequence(cc.moveBy(.04,0,10).easing(cc.easeSineOut()),cc.moveBy(.04,0,-10).easing(cc.easeSineIn()),cc.callFunc(function(){t.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()})})))}catch(e){u.Util.ThrowErrProsime(e)}return[2]})})},e.prototype.getIdSymbolResult=function(){return this.stateWhel==c.default.STOP&&this.resultTemp.pop()||this.getRandomResult()},e.prototype.checkLastSymbol=function(t){var e=this.getListSymbol();return e[e.length-1]==t},e.prototype.getRandomResult=function(t){0!=this.index&&5!=this.index||(t=1);var e=null;return e=l.ConectManager.getIns().getSFSObj(),t?(e.putInt("size",t),t>1?e.putInt("idItem",p.Windown.RandomNumber(0,11)):p.Windown.RandomNumber(0,100)<10?e.putInt("idItem",12):e.putInt("idItem",p.Windown.RandomNumber(0,11))):(p.Windown.RandomNumber(0,100)<10?e.putInt("idItem",12):e.putInt("idItem",p.Windown.RandomNumber(0,11)),e.getInt("idItem")<12?(p.Windown.RandomNumber(0,100),e.putInt("size",p.Windown.RandomNumber(1,5))):e.putInt("size",1)),12==e.getInt("idItem")&&e.putInt("size",1),1==e.getInt("size")||11==e.getInt("idItem")||12==e.getInt("idItem")?e.putInt("typeItem",0):e.putInt("typeItem",p.Windown.RandomNumber(0,3)),e},e.prototype.checkParentItem=function(){},e.prototype.runSlowDownActicon=function(){this.getListSymbol().forEach(function(t){t.node.stopAllActions()}),this.isMoveSlowDown=!0,this.deltaSlowDown=5e3},e.prototype.update=function(t){var e=this;this.isMoveSlowDown&&(this.getListSymbol().forEach(function(n){n.node.y-=t*e.deltaSlowDown}),this.deltaSlowDown>500?this.deltaSlowDown-=1800*t:this.deltaSlowDown<1e3&&(this.stateWhel=c.default.STOP,this.isMoveSlowDown=!1,this.recaculateSpeedSpin(!0)))},r([y(cc.Node)],e.prototype,"parentItem",void 0),r([y(cc.Integer)],e.prototype,"sizeSymbol",void 0),r([f],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./SymbolCaiShen":"SymbolCaiShen"}],ItemSlotCandy:[function(t,e,n){"use strict";cc._RF.push(e,"3e725GINOVLoJFrDEdj+HTg","ItemSlotCandy");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/StateReelSlot"),a=t("../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.listSpItem=null,e.parentBlur=null,e.anim=null,e.aniBlur=null,e.stateWhel=0,e}return i(e,t),e.prototype.start=function(){},e.prototype.randomFirtGame=function(){for(var t=this.getListItemSp(),e=0,n=t.length;e<n;e++){var o=t[e].getComponentInChildren(cc.Sprite),i=t[e].getComponentInChildren(sp.Skeleton),r=a.Windown.RandomNumber(0,6);2==r||3==r?(o.spriteFrame=a.Windown.MiniSlot.asset.listSpItem[r],o.node.active=!0,i.node.active=!1):(i.skeletonData=a.Windown.MiniSlot.asset.listSkeData[r],i.node.active=!0,o.node.active=!1,i.setAnimation(0,"animation",!0))}},e.prototype.getListItemSp=function(){if(null!=this.listSpItem)return this.listSpItem;this.listSpItem=[];for(var t=this.parentItem.children,e=0;e<3;e++)this.listSpItem.push(t[e]);return this.listSpItem},e.prototype.runSpin=function(){var t=this;this.randomBlur();var e=a.Windown.MiniSlot.isMaxSpeed?2:1,n=cc.moveBy(.12/e,0,40).easing(cc.easeSineOut()),o=cc.moveBy(.2/e,0,-160).easing(cc.easeSineIn()),i=cc.callFunc(function(){t.aniBlur.node.active=!0,t.aniBlur.play("ItemBlur"),t.node.y=0,t.parentItem.active=!1});this.node.stopAllActions(),this.node.runAction(cc.sequence(n,o,i)),this.stateWhel=s.default.RUN},e.prototype.randomBlur=function(){var t=this.parentItem.children,e=t[3],n=t[4];e.getComponentInChildren(cc.Sprite).spriteFrame=a.Windown.MiniSlot.asset.listSpItem[a.Windown.RandomNumber(0,6)],n.getComponentInChildren(cc.Sprite).spriteFrame=a.Windown.MiniSlot.asset.listSpItem[a.Windown.RandomNumber(0,6)],this.parentBlur.children.forEach(function(t){t.getComponent(cc.Sprite).spriteFrame=a.Windown.MiniSlot.asset.listSpItemBlur[a.Windown.RandomNumber(0,6)]})},e.prototype.stopSpin=function(t,e,n){var o=this;if(void 0===t&&(t=0),this.stateWhel==s.default.STOP)return this.funReject(),void e();var i=cc.callFunc(function(){o.stateWhel=s.default.STOP,o.node.y=0,o.parentItem.active=!0,o.aniBlur.node.active=!1,a.Windown.MiniSlot.sound.playStopReel()}),r=a.Windown.MiniSlot.isMaxSpeed?2:1;this.funReject=n;var c=cc.moveBy(.12/r,0,-40).easing(cc.easeSineOut()),l=cc.moveBy(.12/r,0,40).easing(cc.easeSineIn()),u=cc.delayTime(t),p=cc.callFunc(e);this.node.stopAllActions(),this.node.runAction(cc.sequence(u,i,c,l,p))},r([u(cc.Node)],e.prototype,"parentItem",void 0),r([u(cc.Node)],e.prototype,"parentBlur",void 0),r([u(sp.Skeleton)],e.prototype,"anim",void 0),r([u(cc.Animation)],e.prototype,"aniBlur",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Windown":"Windown"}],ItemSlotDieuThuyen:[function(t,e,n){"use strict";cc._RF.push(e,"0b0485vbvNGx7NO8J/prCVl","ItemSlotDieuThuyen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentBlur=null,e.aniBlur=null,e.parentItem=null,e.listSpItem=null,e.stateSpin=0,e.funReject=null,e.stateWhel=0,e.result=[],e.listIconEff=[],e.listScaterIdle=[],e.nodeEffNearWin=null,e.nodeWildDT=null,e.nodeWildShowDT=null,e.index=-1,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.randomFirtGame=function(){for(var t=[],e=0;e<3;e++)t.push(s.Windown.RandomNumber(0,10));this.setResult(t)},e.prototype.setIsResult=function(){var t=this.parentItem.children;t[3].active=!1,t[4].active=!1},e.prototype.activeNodeNearWin=function(){null==this.nodeEffNearWin&&(this.nodeEffNearWin=s.Windown.DieuThuyen.asset.getNearWin(),this.nodeEffNearWin.parent=s.Windown.DieuThuyen.parentItem,this.nodeEffNearWin.setPosition(this.node.x,-263.751)),this.nodeEffNearWin.active=!0,this.nodeEffNearWin.getComponent(cc.Animation).play("Main1");for(var t=s.Windown.DieuThuyen.listColum,e=0;e<t.length-1;e++)t[e].offAllItemNoScater();s.Windown.DieuThuyen.audio.playEffect(s.Windown.DieuThuyen.audio.scatter_scrolling_short)},e.prototype.offNearWin=function(){this.nodeEffNearWin&&(this.nodeEffNearWin.active=!1);for(var t=s.Windown.DieuThuyen.listColum,e=0;e<t.length-1;e++)t[e].activeAllItemNoScater();s.Windown.DieuThuyen.audio.stopEffect(s.Windown.DieuThuyen.audio.scatter_scrolling_short)},e.prototype.activeWildDT=function(){var t=this;null==this.nodeWildDT&&(this.nodeWildDT=s.Windown.DieuThuyen.asset.getWildDieuThuyen(),this.nodeWildDT.parent=this.node,this.nodeWildDT.setPosition(7,-274)),s.Windown.DieuThuyen.audio.playEffectNoStop(s.Windown.DieuThuyen.audio.diao_chan_expand);var e=this.result.indexOf(9);this.nodeWildDT.active=!0,this.nodeWildDT.opacity=0,this.nodeWildDT.anchorY=1,this.nodeWildDT.scaleY=0,this.nodeWildDT.runAction(cc.spawn(cc.fadeIn(.4).easing(cc.easeCubicActionIn()),cc.scaleTo(.4,1))),null==this.nodeWildShowDT&&(this.nodeWildShowDT=s.Windown.DieuThuyen.asset.getNoDieuThuyen(),this.nodeWildShowDT.parent=this.node),this.nodeWildShowDT.setPosition(this.getPointItem(e,this.node)),this.nodeWildShowDT.active=!0,this.nodeWildShowDT.runAction(cc.sequence(cc.delayTime(.1),cc.moveTo(.2,cc.v2(0,-280)),cc.callFunc(function(){t.getListItemSp()[2].active=!1}))),this.nodeWildShowDT.getComponent(cc.Animation).play("DTEffectWild")},e.prototype.deActiveWildDT=function(){this.nodeWildDT&&(this.nodeWildDT.active=!1),this.nodeWildShowDT&&(this.nodeWildShowDT.active=!1),this.getListItemSp()[2].active=!0},e.prototype.activeIconLuBo=function(t){var e=this;s.Windown.DieuThuyen.audio.playEffectNoStop(s.Windown.DieuThuyen.audio.luboChemGio);var n=s.Windown.DieuThuyen.asset.getParticleLuBo();n.parent=this.node.parent,n.setPosition(80.776,-284.74),n.getComponent(cc.ParticleSystem).resetSystem(),n.stopAllActions();var o=this.getPointItem(t,this.node.parent),i=this.getListItemSp()[t],r=i.getComponentInChildren(sp.Skeleton),a=i.getComponentInChildren(cc.Sprite);n.runAction(cc.sequence(cc.moveTo(.3,o),cc.callFunc(function(){s.Windown.DieuThuyen.asset.putParticleLuBo(n),a.node.active=!1,r.node.active=!0,r.node.opacity=0,r.skeletonData=s.Windown.DieuThuyen.asset.listSpItem[8],r.clearTracks(),r.setAnimation(0,"idle",!0),r.node.runAction(cc.sequence(cc.delayTime(.2),cc.fadeIn(.2)));var t=s.Windown.DieuThuyen.asset.getNoLuBo();t.parent=e.node.parent,t.setPosition(o),t.getComponent(cc.Animation).play("NoLuBo"),t.runAction(cc.sequence(cc.delayTime(.6),cc.callFunc(function(){s.Windown.DieuThuyen.asset.putNoLuBo(t)})))})))},e.prototype.activeIconLuBo2=function(t){var e=this.getPointItem(t,this.node.parent),n=this.getListItemSp()[t],o=n.getComponentInChildren(sp.Skeleton);n.getComponentInChildren(cc.Sprite).node.active=!1,o.node.active=!0,o.node.opacity=0,o.skeletonData=s.Windown.DieuThuyen.asset.listSpItem[8],o.clearTracks(),o.setAnimation(0,"idle",!0),o.node.runAction(cc.sequence(cc.delayTime(.2),cc.fadeIn(.2)));var i=s.Windown.DieuThuyen.asset.getNoLuBo();i.parent=this.node.parent,i.setPosition(e),i.getComponent(cc.Animation).play("NoLuBo"),i.runAction(cc.sequence(cc.delayTime(.6),cc.callFunc(function(){s.Windown.DieuThuyen.asset.putNoLuBo(i)})))},e.prototype.activeIconLubBoNoEf=function(){var t=this.getListItemSp()[1],e=t.getComponentInChildren(cc.Sprite),n=t.getComponentInChildren(sp.Skeleton);n.node.active=!0,e.node.active=!1,e.spriteFrame=s.Windown.DieuThuyen.asset.listSFItem[8],n.skeletonData=s.Windown.DieuThuyen.asset.listSpItem[8],n.setAnimation(0,"idle",!0),this.result[1]=8},e.prototype.setResult=function(t){this.result=t;var e=this.getListItemSp();this.listScaterIdle.forEach(function(t){s.Windown.DieuThuyen.asset.putScaterIdle(t)}),this.listScaterIdle=[];for(var n=0,o=e.length;n<o;n++){var i=e[n].getComponentInChildren(sp.Skeleton),r=e[n].getComponentInChildren(cc.Sprite),a=t[n];if(i.node.active=!1,r.node.active=!0,i.node.y=6==a?-63:-76,r.spriteFrame=s.Windown.DieuThuyen.asset.listSFItem[a],a<6||10==a){if(10==a){var c=s.Windown.DieuThuyen.asset.getScaterIdle();c.parent=r.node,c.setPosition(-3,18),this.listScaterIdle.push(c)}}else i.skeletonData=s.Windown.DieuThuyen.asset.listSpItem[a],i.setAnimation(0,"idle",!0)}},e.prototype.activeItem=function(t,e){var n=this;void 0===e&&(e=!1);var o=this.getListItemSp();t.forEach(function(t){var i=o[t];if(i.children[0].color=cc.Color.WHITE,i.children[1].color=cc.Color.WHITE,n.result[t]<6||10==n.result[t])s.Windown.DieuThuyen.playerEffect2(i.children[0],s.Windown.DieuThuyen.parentItem);else{var r=i.getComponentInChildren(sp.Skeleton);r.setAnimation(0,"win",!1),r.addAnimation(0,"idle",!0)}n.playAniActive(t,e)})},e.prototype.checkActiveItemWhenStop=function(){for(var t=this.getListItemSp(),e=function(e){if(10==n.result[e]){s.Windown.DieuThuyen.audio.playEffectNoStop(s.Windown.DieuThuyen.audio.scatter_explosion);var o=s.Windown.DieuThuyen.asset.getScaterShow();o.parent=s.Windown.DieuThuyen.parentItem,o.setPosition(n.getPointItem(e,s.Windown.DieuThuyen.parentItem));var i=o.getComponent(cc.Animation);i.play("ScaterShow"),i.once("finished",function(){s.Windown.DieuThuyen.asset.putScaterShow(o)},n)}var r=t[e].getComponentInChildren(sp.Skeleton),a=t[e].getComponentInChildren(cc.Sprite),c=n.result[e];c<6||10==c?(r.node.active=!1,a.node.active=!0):(r.node.active=!0,a.node.active=!1)},n=this,o=0;o<this.result.length;o++)e(o)},e.prototype.offAllItem=function(){this.getListItemSp().forEach(function(t){t.children[0].color=cc.Color.GRAY,t.children[1].color=cc.Color.GRAY}),this.listIconEff.forEach(function(t){s.Windown.DieuThuyen.asset.putIconEf(t)}),this.listIconEff=[]},e.prototype.showFLyScaster=function(){},e.prototype.offAllItemNoScater=function(){for(var t=this.getListItemSp(),e=0;e<t.length;e++)if(10!=this.result[e]){var n=t[e];n.children[0].color=cc.Color.GRAY,n.children[1].color=cc.Color.GRAY}},e.prototype.activeAllItemNoScater=function(){for(var t=this.getListItemSp(),e=0;e<t.length;e++)if(10!=this.result[e]){var n=t[e];n.children[0].color=cc.Color.WHITE,n.children[1].color=cc.Color.WHITE}},e.prototype.reset=function(){for(var t=this.result,e=this.getListItemSp(),n=0,o=e.length;n<o;n++){var i=e[n].getComponentInChildren(sp.Skeleton),r=e[n].getComponentInChildren(cc.Sprite);r.node.color=cc.Color.WHITE,i.node.color=cc.Color.WHITE;var a=t[n];a<6||10==a?(i.node.active=!1,r.node.active=!0):(i.node.active=!0,r.node.active=!1,"idle"!=i.animation&&i.setAnimation(0,"idle",!0))}this.listIconEff.forEach(function(t){s.Windown.DieuThuyen.asset.putIconEf(t)}),this.listIconEff=[]},e.prototype.playAniActive=function(t,e){void 0===e&&(e=!1);var n=s.Windown.DieuThuyen.asset.getIconEf();n.parent=s.Windown.DieuThuyen.parentItem,n.setPosition(this.getPointItem(t,s.Windown.DieuThuyen.parentItem)),this.listIconEff.push(n),n.getComponent(cc.Animation).play("ActiveIcon")},e.prototype.getPointItem=function(t,e){var n=this.getListItemSp()[t],o=n.parent.convertToWorldSpaceAR(n.getPosition());return e.convertToNodeSpaceAR(o)},e.prototype.getListItemSp=function(){if(null!=this.listSpItem)return this.listSpItem;this.listSpItem=[];for(var t=this.parentItem.children,e=0;e<3;e++)this.listSpItem.push(t[e]);return this.listSpItem},e.prototype.runSpin=function(){var t=this;this.randomBlur();var e=cc.moveBy(.08,0,40).easing(cc.easeSineOut()),n=cc.moveBy(.1,0,-180),o=cc.callFunc(function(){t.parentBlur.active=!0,t.aniBlur.play("ItemBlur"),t.parentBlur.y=815,t.node.y=0,t.parentItem.active=!1,t.deActiveWildDT()});this.node.stopAllActions(),this.node.runAction(cc.sequence(e,n,o)),this.stateWhel=1},e.prototype.stopEndGame=function(){this.stateWhel=4,this.node.y=0,this.parentItem.active=!0,this.parentBlur.active=!1,this.node.stopAllActions(),this.funReject&&this.funReject()},e.prototype.stopSpin=function(t){var e=this;return new Promise(function(n,o){e.funReject=o;var i=cc.callFunc(function(){e.stateWhel=4,e.node.y=0,e.parentItem.active=!0,e.parentBlur.active=!1,s.Windown.DieuThuyen.audio.playEffectNoStop(s.Windown.DieuThuyen.audio.slot_end_scroll)}),r=cc.moveBy(.08,0,-15).easing(cc.easeSineOut()),a=cc.moveBy(.08,0,15).easing(cc.easeSineIn()),c=cc.callFunc(function(){e.funReject=null,n(null),e.checkActiveItemWhenStop()});if(e.node.stopAllActions(),t&&!s.Windown.DieuThuyen.stateSpin.isMaxSpeed){e.activeNodeNearWin();var l=.7;3==e.index?l=1.2:4==e.index&&(l=3),e.node.runAction(cc.sequence(cc.delayTime(l),i,r,cc.callFunc(e.offNearWin,e),a,c))}else e.node.runAction(cc.sequence(i,r,a,c))})},e.prototype.forceStopSpin=function(){var t=this;if(this.funReject&&(this.funReject(null),this.funReject=null,cc.log("reject roi")),1==this.stateWhel){var e=cc.callFunc(function(){t.stateWhel=4,t.node.y=0,t.parentItem.active=!0,t.parentBlur.active=!1,s.Windown.DieuThuyen.audio.playEffectNoStop(s.Windown.DieuThuyen.audio.slot_end_scroll)}),n=cc.moveBy(.08,0,-15).easing(cc.easeSineOut()),o=cc.moveBy(.08,0,15).easing(cc.easeSineIn()),i=cc.callFunc(function(){t.funReject=null,t.checkActiveItemWhenStop()});this.offNearWin(),this.node.stopAllActions(),this.node.runAction(cc.sequence(e,n,o,i))}},e.prototype.randomBlur=function(){var t=this.parentItem.children,e=t[3],n=t[4],o=s.Windown.RandomNumber(0,10),i=s.Windown.RandomNumber(0,10);e.getComponentInChildren(cc.Sprite).spriteFrame=s.Windown.DieuThuyen.asset.listSFItem[o],n.getComponentInChildren(cc.Sprite).spriteFrame=s.Windown.DieuThuyen.asset.listSFItem[i];var r=this.parentBlur.getComponentsInChildren(cc.Sprite),a=r.length;r[6].spriteFrame=s.Windown.DieuThuyen.asset.listSpItemBlur[o],r[7].spriteFrame=s.Windown.DieuThuyen.asset.listSpItemBlur[this.result[0]],r[8].spriteFrame=s.Windown.DieuThuyen.asset.listSpItemBlur[this.result[1]];for(var c=0;c<a-3;c++){var l=s.Windown.RandomNumber(0,11);r[c].spriteFrame=s.Windown.DieuThuyen.asset.listSpItemBlur[l]}},e.prototype.loopBlur=function(){for(var t=this.parentBlur.getComponentsInChildren(cc.Sprite),e=t.length,n=e-3;n<e;n++)t[n].spriteFrame=t[n-e+3].spriteFrame;for(n=0;n<e-3;n++){var o=s.Windown.RandomNumber(0,11);t[n].spriteFrame=s.Windown.DieuThuyen.asset.listSpItemBlur[o]}},e.prototype.checkShowDieuThuyen=function(){return!!this.result.includes(9)&&(this.activeWildDT(),!0)},e.prototype.checkShowDongTrac=function(){return!!this.result.includes(9)},r([l(cc.Node)],e.prototype,"parentBlur",void 0),r([l(cc.Animation)],e.prototype,"aniBlur",void 0),r([l(cc.Node)],e.prototype,"parentItem",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown"}],ItemSlotDuaXeNgang:[function(t,e,n){"use strict";cc._RF.push(e,"a440cD633pJ6I7Ct5hyz49E","ItemSlotDuaXeNgang");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.ItemSlotDuaXeNgang=void 0;var s=t("./ItemSlotDuaXe"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([c],e)}(s.ItemSlotDuaXe));n.ItemSlotDuaXeNgang=l,cc._RF.pop()},{"./ItemSlotDuaXe":"ItemSlotDuaXe"}],ItemSlotDuaXe:[function(t,e,n){"use strict";cc._RF.push(e,"16284Skah1EUosRvh+w/au6","ItemSlotDuaXe");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.ItemSlotDuaXe=n.TYPE_MOVE=void 0;var c=t("../../../Scritps/DefineTs/StateReelSlot"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=t("./SymbolDuaXe"),h=cc._decorator,d=h.ccclass,f=h.property;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD_NEW=1]="ADD_NEW"})(n.TYPE_MOVE||(n.TYPE_MOVE={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.result=[],e.listItemSymbol=[],e.parentItemFront=null,e.parentItemActive=null,e.funReject=null,e.resolve=null,e.stateWhel=c.default.WAITING,e.resultTemp=[],e.listResultRandomCache=[],e.listIconEff=[],e.nodeWildDT=null,e.nodeWildShowDT=null,e.isScater=!1,e.index=-1,e.indexNodeFirt=0,e.isMoveSlowDown=!1,e.deltaSlowDown=0,e.listNumMutilWild=[],e.indexMaxWild=0,e.sizeSymbol=7,e.parentItem=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.getListSymbolResult=function(){var t=[],e=this.getListSymbol();return this.result.forEach(function(n,o){t.push(e[o+1])}),t},e.prototype.getListSymbol=function(){return this.listItemSymbol},e.prototype.initParent=function(){this.parentItemFront=cc.instantiate(this.parentItem),this.parentItemFront.setPosition(u.Windown.convertNodeInOtherNode(this.parentItem,u.Windown.DuaXe.parentItemFront)),this.parentItemFront.parent=u.Windown.DuaXe.parentItemFront,this.parentItemActive=cc.instantiate(this.parentItem),this.parentItemActive.setPosition(u.Windown.convertNodeInOtherNode(this.parentItem,u.Windown.DuaXe.parentItemActive)),this.parentItemActive.parent=u.Windown.DuaXe.parentItemActive,6==this.sizeSymbol&&(this.parentItemFront.angle=-90,this.parentItemActive.angle=-90,this.parentItemActive.getComponent(cc.Mask).enabled=!1,this.parentItemFront.getComponent(cc.Mask).enabled=!1,this.parentItemActive.setContentSize(cc.size(130,this.parentItemActive.height)),this.parentItemFront.setContentSize(cc.size(130,this.parentItemActive.height)))},e.prototype.forceStopSpin=function(t,e){return this.funReject&&this.funReject(),t&&(this.offNearWin(),u.Windown.DuaXe.audio.stopEffect(u.Windown.DuaXe.audio.fastspinEnd),this.isMoveSlowDown=!1),this.stopSpinIsFastSpin(t,e)},e.prototype.setResultFirtGame=function(t){var e=t.slice(1,t.length-1);this.setResult(e),this.initParent();for(var n=this.parentItem.children,o=0,i=this.sizeSymbol;o<i;o++){var r=n[o];null==r&&((r=this.getSymbol()).parent=this.parentItem),r.setSiblingIndex(o),r.setPosition(cc.v3(0,0,0));var s=r.getComponent(p.SymbolDuaXe);6==this.sizeSymbol?s.isVectical=!1:s.isVectical=!0,s.setItemColum(this),s.setResult(t[o]),null!=t[o]&&12==t[o].i&&(s.bgScatter.active=!0,s.bgScatter.opacity=255)}this.initListSymbol(),this.getListSymbol().forEach(function(t){t.initPosStartGame()})},e.prototype.initListSymbol=function(){for(var t=[],e=0,n=this.parentItem.children;e<n.length;e++){var o=n[e].getComponent(p.SymbolDuaXe);o&&t.push(o)}this.listItemSymbol=t},e.prototype.setResult=function(t){this.result=t,this.resultTemp=t.slice()},e.prototype.getSymbol=function(){return u.Windown.DuaXe.asset.getSymbol()},e.prototype.runSpin=function(){this.stateWhel=c.default.RUN,this.getListSymbol().forEach(function(t){t.runSpin()})},e.prototype.stopSpin=function(t,e){var n=this;return new Promise(function(o,i){return s(n,void 0,void 0,function(){var n;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,7,,8]),this.setResult(e),this.funReject=i,this.isScater=t,this.resolve=o,t?[3,2]:[4,u.Windown.DuaXe.getMakeDelay(.1-.01*this.index).prosime];case 1:r.sent(),o(null),r.label=2;case 2:return t?[4,u.Windown.DuaXe.getMakeDelay(.5).prosime]:[3,5];case 3:return r.sent(),this.activeNodeNearWin(),this.runSlowDownActicon(),[4,u.Windown.DuaXe.getMakeDelay(.5).prosime];case 4:return r.sent(),this.stateWhel=c.default.SHOW_EFFECT,[3,6];case 5:this.stateWhel=c.default.STOP,this.recaculateSpeedSpin(!1),r.label=6;case 6:return[3,8];case 7:return n=r.sent(),l.Util.ThrowErrProsime(n),[3,8];case 8:return[2]}})})})},e.prototype.getIdSymbolResult=function(){return this.stateWhel==c.default.STOP&&this.resultTemp.pop()||this.getRandomResult()},e.prototype.getRandomResult=function(t){(this.index<2||6==this.index)&&(t=1);var e=Object.create(null);return t?(e.s=t,e.i=u.Windown.RandomNumber(0,13)):(e.i=u.Windown.RandomNumber(0,13),e.i<11?e.s=u.Windown.RandomNumber(1,4):e.s=1),10==e.i&&(e.b=u.Windown.RandomNumber(2,11)),e},e.prototype.recaculateSpeedSpin=function(t){var e=this.getListSymbol(),n=e[0].node.getPosition().y,o=-this.node.height-e[0].node.height*(2/3)/2,i=Math.abs(o-n),r=.3;t&&(r=2),e.forEach(function(t){t.stopSpin(cc.moveBy(r,cc.v2(0,-i)))})},e.prototype.runSlowDownActicon=function(){this.getListSymbol().forEach(function(t){u.Windown.stopAllActionByTarget(t.node)}),this.isMoveSlowDown=!0,this.deltaSlowDown=3500},e.prototype.activeNodeNearWin=function(){u.Windown.DuaXe.effect.activeNodeNearWin(this.index)},e.prototype.offAllScatterAndWild=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){return[2,new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r;return a(this,function(s){switch(s.label){case 0:for(s.trys.push([0,4,,5]),t=this.getListSymbol(),n=!1,o=0;o<t.length;o++)!(i=t[o]).checkIsInView()||12!=i.result&&11!=i.result||(i.offAllScatterAndWild(),n=!0);return n?[4,u.Windown.DuaXe.getMakeDelay(u.Windown.DuaXe.stateSpin.isMaxSpeed?.15:.3).prosime]:[3,2];case 1:return s.sent(),e(null),[3,3];case 2:e(null),s.label=3;case 3:return[3,5];case 4:return r=s.sent(),l.Util.ThrowErrProsime(r),[3,5];case 5:return[2]}})})})]})})},e.prototype.reSetResultColum=function(){var t=this.getListSymbol();if(t.length>this.sizeSymbol)for(;t.length>this.sizeSymbol;)u.Windown.DuaXe.asset.putSymbol(t[t.length-1].node),t.pop();else if(t.length<this.sizeSymbol)for(var e=t.length;e<this.sizeSymbol;e++){var n=this.getSymbol();this.parentItem.addChild(n);var o=n.getComponent(p.SymbolDuaXe);6==this.sizeSymbol?o.isVectical=!1:o.isVectical=!0,o.setItemColum(this),t.push(o)}this.result.forEach(function(e,n){t[n+1].setResult(e)}),e=this.result.length+1;for(var i=t.length;e<i;e++)t[e].setResult(t[e].objSFS);t.forEach(function(t){t.canRun=!1,u.Windown.stopAllActionByTarget(t.node),t.initPosStartGame()})},e.prototype.stopSpinIsFastSpin=function(t,e){var n=this;return new Promise(function(t){n.stateWhel!=c.default.END?(n.setResult(e),n.stateWhel=c.default.END,u.Windown.stopAllActionByTarget(n.parentItem),n.parentItem.setPosition(cc.v3(n.parentItem.getPosition().x,n.node.height/2,0)),n.reSetResultColum(),u.Windown.DuaXe.updateNewTotalLine(n.result.length),n.isMoveSlowDown=!1,n.parentItem.setPosition(cc.v3(n.parentItem.getPosition().x,n.parentItem.getPosition().y+20,0)),n.parentItem.runAction(cc.sequence(cc.moveBy(.04,cc.v2(0,-20)).easing(cc.easeSineIn()),cc.callFunc(function(){n.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()}),t(null)})))):t(null)})},e.prototype.offNearWin=function(){6==this.index&&u.Windown.DuaXe.effect.offNearWin()},e.prototype.effStopSpin=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){try{if(this.stateWhel==c.default.END)return[2];this.stateWhel=c.default.END,u.Windown.stopAllActionByTarget(this.parentItem),this.reSetResultColum(),this.sizeSymbol>6&&(u.Windown.DuaXe.audio.playStopAudio(),u.Windown.DuaXe.updateNewTotalLine(this.result.length)),this.funReject=null,this.isMoveSlowDown=!1,this.isScater?(this.offNearWin(),this.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()}),this.resolve&&this.resolve(null),this.resolve=null):this.parentItem.runAction(cc.sequence(cc.moveBy(.05,cc.v2(0,10)),cc.moveBy(.1,cc.v2(.05,-10)),cc.callFunc(function(){t.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()})})))}catch(e){l.Util.ThrowErrProsime(e)}return[2]})})},e.prototype.effectStartSpin=function(){return s(this,void 0,void 0,function(){return a(this,function(){return[2]})})},e.prototype.checkAndRemoveItem=function(t){for(var e=!1,n=this.getListSymbol().slice(1,this.result.length+1),o=0;o<n.length;o++)n[o].result!=t&&11!=n[o].result||(n[o].removeItem(),this.result[o]=null,e=!0);e&&(this.result=this.result.filter(function(t){return null!=t}))},e.prototype.checkItemWin=function(t,e){return s(this,void 0,void 0,function(){var n=this;return a(this,function(){return[2,new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s;return a(this,function(){try{for(n=this.getListSymbolResult(),u.Windown.DuaXe.stateSpin.isMaxSpeed,6==this.sizeSymbol&&(n.reverse(),n=n.slice(0,e+1)),6==this.sizeSymbol&&n.reverse(),i=0,r=n;i<r.length;i++)(s=r[i]).result==t||11==s.result&&!s.isHasTakeItem?(s.takeItem(),o(null)):o(null)}catch(a){l.Util.ThrowErrProsime(a)}return[2]})})})]})})},e.prototype.addNewListSymbol=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,c,h,d,f,y,g,m;return a(this,function(a){switch(a.label){case 0:for(a.trys.push([0,6,,7]),u.Windown.DuaXe.stateSpin.curentCountScater,e=u.Windown.DuaXe.stateSpin.isMaxSpeed?3:1,(o=this.result.slice()).reverse(),this.setResult(t),i=this.result.length-o.length,o.length=this.result.length,o.reverse(),r=this.getListSymbol(),s=r[0],c=0;c<i;c++)(h=u.Windown.DuaXe.asset.getSymbol()).setPosition(cc.v2(0,h.position.y)),this.parentItem.addChild(h),h.setSiblingIndex(0),g=h.getComponent(p.SymbolDuaXe),6==this.sizeSymbol?g.isVectical=!1:g.isVectical=!0,g.setItemColum(this),this.getListSymbol().unshift(g);for(d=this.getListSymbol(),f=[],d[0].setResult(this.getRandomResult()),this.result.forEach(function(t,e){var n=d[e+1];t.t,n.typeItem,n.isShuff||n.setResult(t)}),s.node.setPosition(cc.v2(s.node.x,s.node.height*(2/3)/2)),y=s.getIndexOf()-1;y>=0;)(g=d[y]).node.setPosition(cc.v2(g.node.x,s.node.y+s.node.height*(2/3)/2+g.node.height*(2/3)/2)),s=g,y--;return f.length<1?1!=e?[3,2]:[4,u.Windown.DuaXe.getMakeDelay(.5).prosime]:[3,3];case 1:a.sent(),a.label=2;case 2:return[3,5];case 3:return[4,u.Windown.DuaXe.getPromiseAll(f)];case 4:a.sent(),a.label=5;case 5:return n(null),[3,7];case 6:return m=a.sent(),l.Util.ThrowErrProsime(m),[3,7];case 7:return[2]}})})})},e.prototype.moveSymbolInView=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r,s,c,p,h,d,f;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),t=u.Windown.DuaXe.stateSpin.isMaxSpeed?2:1,[4,u.Windown.DuaXe.getMakeDelay(.5-.02*this.index).prosime];case 1:if(a.sent(),this.getListSymbol().forEach(function(t){t.offItem()}),(n=this.getListSymbol().filter(function(t){return t.checkIsInView()})).reverse(),o=this.getListYByListResult(),n.length>0)for(i=0,r=n.length;i<r;i++)s=n[i],c=s.getIndexOf()-1,p=o[c],Math.abs(p-s.node.position.y)>2&&(h=cc.moveTo(.25/t,cc.v2(s.node.position.x,p)).easing(cc.easeSineIn()),d=cc.sequence(cc.moveBy(.075/t,cc.v2(0,17)),cc.moveBy(.075/t,cc.v2(0,-17)),cc.callFunc(function(){})),s.node.runAction(cc.sequence(h,cc.callFunc(function(){u.Windown.DuaXe.audio.playSymCollapse()}),d)));return e(null),[3,3];case 2:return f=a.sent(),l.Util.ThrowErrProsime(f),[3,3];case 3:return[2]}})})})},e.prototype.getListYByListResult=function(){var t=[],e=this.getListSymbol()[0].size.height*(2/3);90==this.getListSymbol()[0].node.eulerAngles.z&&(e=this.getListSymbol()[0].size.width*(2/3));var n=this.getListSymbol().slice(1,this.result.length+1),o=-n[0].sizeItem*e/2;t.push(o);for(var i=1;i<n.length;i++)o-=n[i-1].sizeItem*e/2+n[i].sizeItem*e/2,t.push(o);return t},e.prototype.moveSymbolNew=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r,s,c,p;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),t=this.getListSymbol().filter(function(t){return t.checkIsInView()}),n=u.Windown.DuaXe.stateSpin.isMaxSpeed?2:1,o=this.getListSymbolResult(),i=[],r=o.reverse(),(s=this.getListYByListResult()).reverse(),c=0,r.forEach(function(e,o){var r=e.node,a=s[o];!t.includes(e)&&Math.abs(a-r.position.y)>2&&i.push(new Promise(function(t){var i=cc.moveTo(.25/n,cc.v2(r.position.x,a)).easing(cc.easeSineIn()),s=cc.sequence(cc.moveBy(.075,cc.v2(0,17)),cc.moveBy(.075,cc.v2(0,-17)),cc.callFunc(function(){e.effectSpawnSymbol(),t(null)}));r.runAction(cc.sequence(cc.delayTime(c),i,cc.callFunc(function(){}),s)),1==n&&(c+=u.Windown.RandomNumber(0,4)<2?0:.05*o)}))}),i.length>0&&1==n&&u.Windown.DuaXe.nearWinNoSap.active?(u.Windown.DuaXe.audio.playEffectNoStop(u.Windown.DuaXe.audio.heartbeatSlowdrop),[4,u.Windown.DuaXe.getMakeDelay(.5).prosime]):[3,2];case 1:a.sent(),a.label=2;case 2:return[4,u.Windown.DuaXe.getPromiseAll(i)];case 3:return a.sent(),t.forEach(function(t){t.offItem()}),this.reSetResultColum(),e(null),[3,5];case 4:return p=a.sent(),l.Util.ThrowErrProsime(p),[3,5];case 5:return[2]}})})})},e.prototype.update=function(t){var e=this;this.isMoveSlowDown&&(this.getListSymbol().forEach(function(n){n.node.setPosition(n.node.position.x,n.node.position.y-t*e.deltaSlowDown)}),this.deltaSlowDown>500?this.deltaSlowDown-=1800*t:this.deltaSlowDown<1e3&&(this.stateWhel=c.default.STOP,this.isMoveSlowDown=!1,this.recaculateSpeedSpin(!0)))},r([f(cc.Integer)],e.prototype,"sizeSymbol",void 0),r([f(cc.Node)],e.prototype,"parentItem",void 0),r([d],e)}(cc.Component);n.ItemSlotDuaXe=y,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./SymbolDuaXe":"SymbolDuaXe"}],ItemSlotMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"516a6fWkLJNcZYTSx65Hx7f","ItemSlotMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE_MOVE=void 0;var c=cc._decorator,l=c.ccclass,u=c.property,p=t("../../../Scritps/DefineTs/StateReelSlot"),h=t("../../../Scritps/Util"),d=t("../../../Scritps/Windown"),f=t("./SymbolMatChuoc");(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD_NEW=1]="ADD_NEW"})(n.TYPE_MOVE||(n.TYPE_MOVE={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.sizeSymbol=8,e.parentItemFront=null,e.parentItemActive=null,e.funReject=null,e.resolve=null,e.stateWhel=p.default.WAITING,e.result=[],e.resultTemp=[],e.listResultRandomCache=[],e.listIconEff=[],e.nodeWildDT=null,e.nodeWildShowDT=null,e.isScater=!1,e.index=-1,e.indexNodeFirt=0,e.isMoveSlowDown=!1,e.deltaSlowDown=0,e.listNumMutilWild=[],e.indexMaxWild=0,e.listItemSymbol=[],e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.initParent=function(){this.parentItemFront=cc.instantiate(this.parentItem),this.parentItemFront.setPosition(d.Windown.convertNodeInOtherNode(this.parentItem,d.Windown.MatChuoc.parentItemFront)),this.parentItemFront.parent=d.Windown.MatChuoc.parentItemFront,this.parentItemActive=cc.instantiate(this.parentItem),this.parentItemActive.setPosition(d.Windown.convertNodeInOtherNode(this.parentItem,d.Windown.MatChuoc.parentItemActive)),this.parentItemActive.parent=d.Windown.MatChuoc.parentItemActive},e.prototype.initListSymbol=function(){for(var t=[],e=0,n=this.parentItem.children;e<n.length;e++){var o=n[e].getComponent(f.default);o&&t.push(o)}this.listItemSymbol=t},e.prototype.getListSymbol=function(){return this.listItemSymbol},e.prototype.getListSymbolResult=function(){var t=[],e=this.getListSymbol();return this.result.forEach(function(n,o){t.push(e[o+1])}),t},e.prototype.setResultFirtGame=function(t){0==this.index||4==this.index?this.sizeSymbol=8:this.sizeSymbol=9,t.push({i:d.Windown.RandomNumber(0,9)});var e=t.slice(1,t.length-1);this.setResult(e),this.initParent();for(var n=this.parentItem.children,o=0,i=this.sizeSymbol;o<i;o++){var r=n[o];null==r&&((r=this.getSymbol()).parent=this.parentItem),r.setSiblingIndex(o),r.setPosition(cc.v3(0,0,0));var s=r.getComponent(f.default);s.setItemColum(this),s.setResult(t[o])}this.initListSymbol(),this.getListSymbol().forEach(function(t){t.initPosStartGame()})},e.prototype.activeNodeNearWin=function(){d.Windown.MatChuoc.effect.activeNodeNearWin(this.index)},e.prototype.offNearWin=function(){4==this.index&&d.Windown.MatChuoc.effect.offNearWin()},e.prototype.setResult=function(t){this.result=t,this.resultTemp=t.slice()},e.prototype.checkAndRemoveItem=function(t){return s(this,void 0,void 0,function(){var e,n,o;return a(this,function(){for(e=!1,n=this.getListSymbol().slice(2,this.result.length+1),o=0;o<n.length;o++)n[o].result!=t&&9!=n[o].result||(n[o].typeItem==f.TYPE_ITEM.NONE?(n[o].removeItem(f.TYPE_ITEM.NONE),this.result[o]=null):(n[o].effectRemoveItem(n[o].typeItem),n[o].isShuff=!0),e=!0);return e&&(this.result=this.result.filter(function(t){return null!=t})),[2]})})},e.prototype.checkItemWin=function(t){return s(this,void 0,void 0,function(){var e,n,o,i,r,s;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),this.getListSymbol(),e=d.Windown.MatChuoc.stateSpin.isMaxSpeed?0:.07,d.Windown.MatChuoc.stateSpin.isMaxSpeed?[3,2]:[4,d.Windown.MatChuoc.getMakeDelay(e*this.index).prosime];case 1:a.sent(),a.label=2;case 2:for(n=this.getListSymbol().slice(2,this.result.length+1),o=0,i=n;o<i.length;o++)(r=i[o]).result!=t&&9!=r.result||r.takeItem(this.index,n.indexOf(r));return[3,4];case 3:return s=a.sent(),h.Util.ThrowErrProsime(s),[3,4];case 4:return[2]}})})},e.prototype.addNewListSymbol=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,c,l,u,p,y,g,m;return a(this,function(a){switch(a.label){case 0:for(a.trys.push([0,6,,7]),d.Windown.MatChuoc.stateSpin.curentCountScater,e=d.Windown.MatChuoc.stateSpin.isMaxSpeed?3:1,(o=this.result.slice()).reverse(),this.setResult(t),i=this.result.length-o.length,o.length=this.result.length,o.reverse(),r=this.getListSymbol(),s=r[0],c=0;c<i;c++)l=d.Windown.MatChuoc.asset.getSymbol(),this.parentItem.addChild(l),l.setSiblingIndex(0),(g=l.getComponent(f.default)).setItemColum(this),this.getListSymbol().unshift(g);for(this.parentItem.children.forEach(function(t,e){t.setSiblingIndex(e)}),u=this.getListSymbol(),p=[],u[0].setResult(this.getRandomResult()),this.result.forEach(function(t,e){var n=u[e+1];t.t!=n.typeItem&&n.isShuff?p.push(n.setResult(t)):n.setResult(t)}),s.node.setPosition(0,s.node.height/2,0),y=s.getIndexOf()-1;y>=0;)(g=u[y]).node.setPosition(cc.v3(0,s.node.getPosition().y+s.node.height/2+g.node.height/2,0)),s=g,y--;return p.length<1?1!=e?[3,2]:[4,d.Windown.MatChuoc.getMakeDelay(.7).prosime]:[3,3];case 1:a.sent(),a.label=2;case 2:return[3,5];case 3:return[4,d.Windown.MatChuoc.getPromiseAll(p)];case 4:a.sent(),a.label=5;case 5:return n(null),[3,7];case 6:return m=a.sent(),h.Util.ThrowErrProsime(m),[3,7];case 7:return[2]}})})})},e.prototype.getSymbol=function(){return d.Windown.MatChuoc.asset.getSymbol()},e.prototype.checkIsNorSap=function(){var t=this.getListSymbol().filter(function(t){return t.checkIsInView()}),e=0;return t.forEach(function(t){e+=t.sizeItem}),this.sizeSymbol-2-e>0},e.prototype.getListYByListResult=function(){var t=[],e=this.getListSymbol()[0].node.height,n=this.getListSymbol().slice(1,this.result.length+1),o=-n[0].sizeItem*e/2;t.push(o);for(var i=1;i<n.length;i++)o-=n[i-1].sizeItem*e/2+n[i].sizeItem*e/2,t.push(o);return t},e.prototype.moveSymbolInView=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r,s,c,l;return a(this,function(){try{if(t=d.Windown.MatChuoc.stateSpin.isMaxSpeed?3:1,this.getListSymbol().forEach(function(t){t.offItem()}),(n=this.getListSymbol().filter(function(t){return t.checkIsInView()})).reverse(),o=this.getListYByListResult(),n.length>0)for(i=0,r=n.length;i<r;i++)s=n[i],c=s.getIndexOf()-1,l=o[c],Math.abs(l-s.node.getPosition().y)>2&&(cc.moveTo(.2/t,cc.v2(s.node.getPosition().x,l)).easing(cc.easeSineIn(.01)),cc.sequence(cc.moveBy(.04/t,cc.v2(0,15)).easing(cc.easeSineOut(.01)),cc.moveBy(.04/t,cc.v2(0,-15)).easing(cc.easeSineIn(.05)),cc.callFunc(function(){})),cc.tween(s.node).to(.2/t,{y:l},{easing:cc.easing.sineIn}).call(function(){d.Windown.MatChuoc.audio.playSymCollapse()}).by(.04/t,{y:15},{easing:cc.easing.sineOut}).by(.04/t,{y:-15},{easing:cc.easing.sineIn}).start());e(null)}catch(a){h.Util.ThrowErrProsime(a)}return[2]})})})},e.prototype.moveSymbolNew=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r,s,c,l;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),t=this.getListSymbol().filter(function(t){return t.checkIsInView()}),n=d.Windown.MatChuoc.stateSpin.isMaxSpeed?3:1,o=this.getListSymbolResult(),i=[],r=o.reverse(),(s=this.getListYByListResult()).reverse(),c=0,r.forEach(function(e,o){var r=e.node,a=s[o];!t.includes(e)&&Math.abs(a-r.getPosition().y)>2&&i.push(new Promise(function(t){var i=cc.moveTo(.2/n,cc.v2(r.getPosition().x,a)).easing(cc.easeSineIn(.03)),s=cc.sequence(cc.moveBy(.04,cc.v2(0,15)).easing(cc.easeSineIn()),cc.moveBy(.04,cc.v2(0,-15)).easing(cc.easeSineIn()),cc.callFunc(function(){t(null),e.effectSpawnSymbol()}));r.runAction(cc.sequence(cc.delayTime(c),i,cc.callFunc(function(){d.Windown.MatChuoc.audio.playSymCollapse()}),s)),1==n&&(c+=d.Windown.RandomNumber(0,4)<2?0:.05*o)}))}),i.length>0&&1==n&&d.Windown.MatChuoc.nearWinNoSap.active?(d.Windown.MatChuoc.audio.playEffectNoStop(d.Windown.MatChuoc.audio.symCollapse),[4,d.Windown.MatChuoc.getMakeDelay(.2).prosime]):[3,2];case 1:a.sent(),a.label=2;case 2:return[4,d.Windown.MatChuoc.getPromiseAll(i)];case 3:return a.sent(),t.forEach(function(t){t.offItem()}),this.reSetResultColum(),e(null),[3,5];case 4:return l=a.sent(),h.Util.ThrowErrProsime(l),[3,5];case 5:return[2]}})})})},e.prototype.reset=function(){},e.prototype.runSpin=function(){var t=this;this.stateWhel=p.default.RUN,this.getListSymbol().forEach(function(t){t.offItemFront()}),d.Windown.MatChuoc.stateSpin.isMaxSpeed?this.getListSymbol().forEach(function(t){t.runSpin()}):this.node.runAction(cc.sequence(cc.moveBy(.09,cc.v2(0,50)).easing(cc.easeSineOut()),cc.moveBy(.06,cc.v2(0,-50)),cc.callFunc(function(){t.getListSymbol().forEach(function(t){t.runSpin()})})))},e.prototype.stopSpin=function(t,e){var n=this;return new Promise(function(o,i){return s(n,void 0,void 0,function(){var n;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,6,,7]),this.setResult(e),this.funReject=i,this.isScater=t,this.resolve=o,t?[3,2]:[4,d.Windown.MatChuoc.getMakeDelay(.1-.01*this.index).prosime];case 1:r.sent(),o(null),r.label=2;case 2:return t?(this.activeNodeNearWin(),this.runSlowDownActicon(),[4,d.Windown.MatChuoc.getMakeDelay(1.5).prosime]):[3,4];case 3:return r.sent(),this.stateWhel=p.default.SHOW_EFFECT,[3,5];case 4:this.stateWhel=p.default.STOP,this.recaculateSpeedSpin(!1),r.label=5;case 5:return[3,7];case 6:return n=r.sent(),h.Util.ThrowErrProsime(n),[3,7];case 7:return[2]}})})})},e.prototype.forceStopSpin=function(t,e){return this.funReject&&this.funReject(),t&&(this.offNearWin(),d.Windown.MatChuoc.audio.stopEffect(d.Windown.MatChuoc.audio.fastspinEnd),this.isMoveSlowDown=!1),this.stopSpinIsFastSpin(t,e)},e.prototype.stopSpinIsFastSpin=function(t,e){var n=this;return new Promise(function(t){if(n.stateWhel==p.default.END)return console.log("stopSpinIsFastSpin0: "+e),void t(null);n.setResult(e),n.stateWhel=p.default.END,n.parentItem.stopAllActions(),n.parentItem.setPosition(cc.v3(n.parentItem.getPosition().x,n.node.height/2,0)),n.reSetResultColum(),n.isMoveSlowDown=!1,n.parentItem.runAction(cc.sequence(cc.moveBy(.04,cc.v2(0,10)).easing(cc.easeSineOut(.03)),cc.moveBy(.04,cc.v2(0,-10)).easing(cc.easeSineIn(.03)),cc.callFunc(function(){console.log("stopSpinIsFastSpin1: "+e),d.Windown.MatChuoc.audio.playEffect(d.Windown.MatChuoc.audio.reelQuickStop),n.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()}),t(null)})))})},e.prototype.recaculateSpeedSpin=function(t){var e=this.getListSymbol(),n=e[0].node.getPosition().y,o=this.node.height;0!=this.index&&4!=this.index||(o-=139);var i=-o-e[0].node.height/2,r=Math.abs(i-n),s=.3;t&&(s=2),e.forEach(function(t){t.stopSpin(cc.moveBy(s,cc.v2(0,-r)).easing(cc.easeSineOut(.05)))})},e.prototype.errSpin=function(){},e.prototype.reSetResultColum=function(){var t=this.getListSymbol();if(t.length>this.sizeSymbol)for(;t.length>this.sizeSymbol;)d.Windown.MatChuoc.asset.putSymbol(t[t.length-1].node),t.pop();else if(t.length<this.sizeSymbol)for(var e=t.length;e<this.sizeSymbol;e++){var n=this.getSymbol();this.parentItem.addChild(n);var o=n.getComponent(f.default);o.setItemColum(this),t.push(o)}this.result.forEach(function(e,n){t[n+1].setResult(e)}),e=this.result.length+1;for(var i=t.length;e<i;e++)t[e].setResult(t[e].objSFS);t.forEach(function(t){t.canRun=!1,t.node.stopAllActions(),t.initPosStartGame()})},e.prototype.effStopSpin=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){try{if(this.stateWhel==p.default.END)return[2];this.stateWhel=p.default.END,this.parentItem.stopAllActions(),this.reSetResultColum(),this.funReject=null,this.isMoveSlowDown=!1,this.isScater?(this.offNearWin(),d.Windown.MatChuoc.audio.playEffect(d.Windown.MatChuoc.audio.reelStopSingle),this.parentItem.runAction(cc.sequence(cc.moveBy(.1,cc.v2(0,-10)).easing(cc.easeSineOut(.04)),cc.moveBy(.1,cc.v2(0,10)).easing(cc.easeSineIn(.04)),cc.callFunc(function(){t.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()})}))),console.log("effStopSpin scatter"),this.resolve&&this.resolve(null),this.resolve=null):this.parentItem.runAction(cc.sequence(cc.moveBy(.05,cc.v2(0,10)).easing(cc.easeSineIn(.04)),cc.moveBy(.06,cc.v2(0,-10)).easing(cc.easeSineOut(.04)),cc.callFunc(function(){d.Windown.MatChuoc.audio.playEffect(d.Windown.MatChuoc.audio.reelStopSingle),t.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()})})))}catch(e){h.Util.ThrowErrProsime(e)}return[2]})})},e.prototype.getIdSymbolResult=function(){return this.stateWhel==p.default.STOP&&this.resultTemp.pop()||this.getRandomResult()},e.prototype.checkLastSymbol=function(t){var e=this.getListSymbol();return e[e.length-1]==t},e.prototype.getRandomResult=function(){var t=Object.create(null);return t.i=d.Windown.RandomNumber(0,11),9==t.i&&(t.i=d.Windown.RandomNumber(0,8)),10==t.i&&(t.i=d.Windown.RandomNumber(0,3)%3==0?10:d.Windown.RandomNumber(0,8)),t.t=d.Windown.RandomNumber(0,8)%8==0?2:0,2==this.index&&d.Windown.MatChuoc.stateSpin.isShowingDragon&&(10==t.i&&(t.i=d.Windown.RandomNumber(0,8)),t.t=2),t},e.prototype.checkParentItem=function(){},e.prototype.runSlowDownActicon=function(){this.getListSymbol().forEach(function(t){t.node.stopAllActions()}),this.isMoveSlowDown=!0,this.deltaSlowDown=6e3},e.prototype.update=function(t){var e=this;this.isMoveSlowDown&&(this.getListSymbol().forEach(function(n){n.node.setPosition(cc.v3(0,n.node.getPosition().y-t*e.deltaSlowDown,0))}),this.deltaSlowDown>500?this.deltaSlowDown-=1800*t:this.deltaSlowDown<1e3&&(this.stateWhel=p.default.STOP,this.isMoveSlowDown=!1,this.recaculateSpeedSpin(!0)))},r([u(cc.Node)],e.prototype,"parentItem",void 0),r([u],e.prototype,"sizeSymbol",void 0),r([l],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./SymbolMatChuoc":"SymbolMatChuoc"}],ItemSlotMatTroi:[function(t,e,n){"use strict";cc._RF.push(e,"dcf7b9AUZ1CaamFp8o4SAhS","ItemSlotMatTroi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE_MOVE=void 0;var c=t("../../../Scritps/DefineTs/StateReelSlot"),l=t("../../../Scritps/Network/ConectManager"),u=t("../../../Scritps/Util"),p=t("../../../Scritps/Windown"),h=t("./SymbolMatTroi");(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD_NEW=1]="ADD_NEW"})(n.TYPE_MOVE||(n.TYPE_MOVE={}));var d=cc._decorator,f=d.ccclass,y=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.sizeSymbol=12,e.funReject=null,e.resolve=null,e.stateWhel=c.default.WAITING,e.result=[],e.resultTemp=[],e.listIconEff=[],e.nodeEffNearWin=null,e.nodeWildDT=null,e.nodeWildShowDT=null,e.isScater=!1,e.index=-1,e.indexNodeFirt=0,e.isMoveSlowDown=!1,e.deltaSlowDown=0,e.listNumMutilWild=[],e.indexMaxWild=0,e.nodeNearWinNoSap=null,e.listItemSymbol=[],e.listProSkip=[],e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.initParent=function(){this.parentItemFront=cc.instantiate(this.parentItem),this.parentItemFront.setPosition(p.Windown.convertNodeInOtherNode(this.parentItem,p.Windown.MatTroiView.parentItemFront)),this.parentItemFront.parent=p.Windown.MatTroiView.parentItemFront,this.parentItemActive=cc.instantiate(this.parentItem),this.parentItemActive.setPosition(p.Windown.convertNodeInOtherNode(this.parentItem,p.Windown.MatTroiView.parentItemActive)),this.parentItemActive.parent=p.Windown.MatTroiView.parentItemActive},e.prototype.initListSymbol=function(){for(var t=[],e=0,n=this.parentItem.children;e<n.length;e++){var o=n[e].getComponent(h.default);o&&t.push(o)}this.listItemSymbol=t},e.prototype.getListSymbol=function(){return this.listItemSymbol},e.prototype.getListSymbolResult=function(){var t=[],e=this.getListSymbol();return this.result.forEach(function(n,o){t.push(e[o+1])}),t},e.prototype.setResultFirtGame=function(){var t=this.getListRandomResult(),e=t.slice(1,t.length-1);this.setResult(e),this.initParent();for(var n=this.parentItem.children,o=0,i=this.sizeSymbol;o<i;o++){var r=n[o];null==r&&((r=this.getSymbol()).parent=this.parentItem),r.x=0,r.setSiblingIndex(o);var s=r.getComponent(h.default);s.isVectical=!0,s.setItemColum(this),s.setResult(t[o])}this.parentItem.sortAllChildren(),this.initListSymbol(),this.getListSymbol().forEach(function(t){return t.initPosStartGame()})},e.prototype.getListRandomResult=function(){var t=[];if(0==this.index||5==this.index)for(var e=0;e<this.sizeSymbol;e++)t.push(this.getRandomResult());else{t.push(this.getRandomResult());var n=this.getRandomResult();t.push(n);for(var o=n.getInt("size");o<5;)o+(n=this.getRandomResult(p.Windown.RandomNumber(1,6-o))).getInt("size")<=5&&(o+=n.getInt("size"),t.push(n));for(e=t.length;e<this.sizeSymbol;e++)t.push(this.getRandomResult())}return t},e.prototype.activeNodeNearWin=function(){p.Windown.MatTroiView.activeMask(!0),p.Windown.MatTroiView.activeMask(!1,this.index),null==this.nodeEffNearWin&&(this.nodeEffNearWin=p.Windown.MatTroiView.asset.getNearWin(),this.nodeEffNearWin.parent=p.Windown.MatTroiView.parentNearWin,this.nodeEffNearWin.setPosition(p.Windown.convertNodeInOtherNode(this.node,p.Windown.MatTroiView.parentNearWin))),this.nodeEffNearWin.opacity=255,this.nodeEffNearWin.active=!0,this.nodeEffNearWin.getComponent(cc.Animation).play("NearFreeSpin"),5==this.index?this.nodeEffNearWin.children[0].x=161:this.nodeEffNearWin.children[0].x=167,p.Windown.MatTroiView.audio.playEffect(p.Windown.MatTroiView.audio.fastspinStart)},e.prototype.offNearWin=function(){p.Windown.MatTroiView.activeMask(!0,this.index),this.nodeEffNearWin&&(this.nodeEffNearWin.stopAllActions(),this.nodeEffNearWin.active=!1),5==this.index&&(p.Windown.MatTroiView.activeMask(!1),p.Windown.MatTroiView.infoBar.hideOneMoreScatter(),p.Windown.MatTroiView.infoBar.showRdContent())},e.prototype.setResult=function(t){this.result=t,this.resultTemp=t.slice(),this.indexMaxWild=this.resultTemp.length},e.prototype.checkAndRemoveItem=function(t){for(var e=!1,n=this.getListSymbol().slice(1,this.result.length+1),o=0;o<n.length;o++)n[o].result-1!=t&&n[o].result-1!=10||(0==n[o].typeItem?(n[o].removeItem(),this.result[o]=null):n[o].isShuff=!0,e=!0);e&&(this.parentItem.sortAllChildren(),this.result=this.result.filter(function(t){return null!=t}))},e.prototype.checkItemWin=function(t,e){return s(this,void 0,void 0,function(){var n,o,i,r,s,c;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),this.getListSymbol(),n=0==e?.07*this.index:.07*(6-this.index),p.Windown.MatTroiView.stateSpin.isMaxSpeed?[3,2]:[4,p.Windown.MatTroiView.getMakeDelay(n).prosime];case 1:a.sent(),a.label=2;case 2:for(o=this.getListSymbol().slice(1,this.result.length+1),i=0,r=o;i<r.length;i++)((s=r[i]).result-1==t||s.result-1==10&&!s.isTakeItem)&&(s.typewin=e,s.takeItem());return[3,4];case 3:return c=a.sent(),u.Util.ThrowErrProsime(c),[3,4];case 4:return[2]}})})},e.prototype.addNewListSymbol=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,c,l,d,f,y,g;return a(this,function(a){switch(a.label){case 0:for(a.trys.push([0,4,,5]),p.Windown.MatTroiView.stateSpin.curentCountScater,(e=this.result.slice()).reverse(),this.setResult(t),o=this.result.length-e.length,e.length=this.result.length,e.reverse(),i=this.getListSymbol(),r=i[0],s=0;s<o;s++)c=p.Windown.MatTroiView.asset.getSymbol(),this.parentItem.addChild(c,0),c.setSiblingIndex(0),(y=c.getComponent(h.default)).setItemColum(this),this.getListSymbol().unshift(y);for(this.parentItem.sortAllChildren(),l=this.getListSymbol(),d=[],l[0].setResult(this.getRandomResult()),this.result.forEach(function(t,e){var n=l[e+1];t.getInt("typeItem")!=n.typeItem&&n.isShuff||n.setResult(t)}),r.node.y=r.node.height/2,f=r.getIndexOf()-1;f>=0;)(y=l[f]).node.x=0,y.node.y=r.node.y+r.node.height/2+y.node.height/2,r=y,f--;return[4,Promise.all(d)];case 1:return a.sent(),d.length<1?[4,p.Windown.MatTroiView.getMakeDelay(.9).prosime]:[3,3];case 2:a.sent(),a.label=3;case 3:return n(null),[3,5];case 4:return g=a.sent(),u.Util.ThrowErrProsime(g),[3,5];case 5:return[2]}})})})},e.prototype.getSymbol=function(){return p.Windown.MatTroiView.asset.getSymbol()},e.prototype.checkIsNorSap=function(){var t=this.getListSymbol().filter(function(t){return t.checkIsInView()}),e=0;return t.forEach(function(t){e+=t.sizeItem}),this.sizeSymbol-2-e>0},e.prototype.moveAllSymbol=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,c,l,h,d,f,y,g,m,v,S,b,w;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,9,,10]),e=p.Windown.MatTroiView.getDelta(),o=p.Windown.MatTroiView.stateSpin.curentCountScater>1&&!p.Windown.MatTroiView.stateSpin.isMaxSpeed,i=o||p.Windown.MatTroiView.stateSpin.isMaxSpeed?0:.05*p.Windown.RandomNumber(0,5),p.Windown.MatTroiView.stateSpin.isMaxSpeed?[3,2]:[4,p.Windown.MatTroiView.getMakeDelay(.2+i).prosime];case 1:a.sent(),a.label=2;case 2:if(r=this.getListSymbol(),(s=r.filter(function(t){return t.checkIsInView()})).reverse(),s[s.length-1],s.length>0)for(c=s[0],l=-c.size.height*(this.sizeSymbol-2)+c.node.height/2,h=function(t,n){var o=s[t],i=o.node;if(Math.abs(l-i.y)>2){var r=cc.moveTo(.25/e,i.x,l).easing(cc.easeSineIn()),a=cc.sequence(cc.moveBy(.059/e,0,18).easing(cc.easeSineOut()),cc.moveBy(.059/e,0,-18).easing(cc.easeSineIn()),cc.callFunc(function(){o.effectSpawnSymbol()}));i.runAction(cc.sequence(r,cc.callFunc(function(){}),a))}else o.isShuff&&o.effectSpawnSymbol();t<n-1&&(l=l+i.height/2+s[t+1].node.height/2)},d=0,f=s.length;d<f;d++)h(d,f);return y=0,s.forEach(function(t){y+=t.sizeItem}),g=this.sizeSymbol-2-y,o?[4,p.Windown.MatTroiView.getMakeDelay(.4).prosime]:[3,7];case 3:return a.sent(),p.Windown.MatTroiView.audio.playEffect(p.Windown.MatTroiView.audio.heartbeatNoise),p.Windown.MatTroiView.stateSpin.offAllSymbol(!1),s.forEach(function(t){t.effectNearWinScater()}),p.Windown.MatTroiView.infoBar.showOneMoreScater(),g>0?(p.Windown.MatTroiView.activeMask(!1),(m=p.Windown.MatTroiView.asset.getNearWinNoSap()).parent=this.parentItemActive,m.getComponent(cc.Animation).play(),m.setPosition(p.Windown.convertNodeInOtherNode(this.parentItem,m.parent)),[4,p.Windown.MatTroiView.getMakeDelay(4.5).prosime]):[3,6];case 4:return a.sent(),p.Windown.MatTroiView.stateSpin.activeAllSymbol(),m.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){p.Windown.MatTroiView.asset.putNearWinNoSap(m)}))),[4,p.Windown.MatTroiView.getMakeDelay(.3+.5*t).prosime];case 5:a.sent(),a.label=6;case 6:s.forEach(function(t){t.removeAddScater()}),a.label=7;case 7:return o&&g>0&&!p.Windown.MatTroiView.stateSpin.isMaxSpeed&&p.Windown.MatTroiView.audio.playEffectNoStop(p.Windown.MatTroiView.audio.heartbeatSlowdrop),v=[],S=r,b=r[0].node.height/2,S.forEach(function(t,n){var o=r[n],i=o.node;!s.includes(o)&&Math.abs(b-i.y)>1&&v.push(new Promise(function(t){var o=cc.moveTo(.25/e,i.x,b).easing(cc.easeSineIn()),s=cc.sequence(cc.moveBy(.059/e,0,18).easing(cc.easeSineOut()),cc.moveBy(.059/e,0,-18).easing(cc.easeSineIn()),cc.callFunc(function(){t(null),r[n].effectSpawnSymbol()}));i.runAction(cc.sequence(o,cc.callFunc(function(){p.Windown.MatTroiView.audio.playEffect(p.Windown.MatTroiView.audio.spinStop,.6)}),s))})),n<S.length-1&&(b=b-i.height/2-r[n+1].node.height/2)}),[4,Promise.all(v)];case 8:return a.sent(),this.reSetResultColum(),n(null),[3,10];case 9:return w=a.sent(),u.Util.ThrowErrProsime(w),[3,10];case 10:return[2]}})})})},e.prototype.runSpin=function(){this.funReject=null,this.resolve=null,this.stateWhel=c.default.RUN,this.getListSymbol().forEach(function(t){t.runSpin()})},e.prototype.stopSpin=function(t,e){var n=this;return new Promise(function(o,i){return s(n,void 0,void 0,function(){var n;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,6,,7]),this.listProSkip=[],this.setResult(e),this.funReject=i,this.isScater=t,this.resolve=o,this.stateWhel=c.default.CAN_STOP,t?[3,2]:(this.listProSkip.push(p.Windown.MatTroiView.getMakeDelay(.07)),[4,this.listProSkip[this.listProSkip.length-1].prosime]);case 1:r.sent(),o(null),r.label=2;case 2:return t?(this.activeNodeNearWin(),this.runSlowDownActicon(),p.Windown.MatTroiView.infoBar.showOneMoreScater(),this.listProSkip.push(p.Windown.MatTroiView.getMakeDelay(1.5)),[4,this.listProSkip[this.listProSkip.length-1].prosime]):[3,4];case 3:return r.sent(),this.stateWhel=c.default.SHOW_EFFECT,[3,5];case 4:this.stateWhel=c.default.STOP,this.recaculateSpeedSpin(!1),r.label=5;case 5:return[3,7];case 6:return n=r.sent(),u.Util.ThrowErrProsime(n),[3,7];case 7:return[2]}})})})},e.prototype.forceStopSpin=function(t,e){return this.listProSkip.forEach(function(t){t.cancle(!1)}),this.funReject&&this.funReject(),t&&(this.offNearWin(),p.Windown.MatTroiView.audio.stopEffect(p.Windown.MatTroiView.audio.fastspinStart),this.isMoveSlowDown=!1),this.stopSpinIsFastSpin(t,e)},e.prototype.stopSpinIsFastSpin=function(t,e){var n=this;return new Promise(function(t){n.stateWhel!=c.default.SHOW_EFFECT?(n.setResult(e),n.stateWhel=c.default.SHOW_EFFECT,n.parentItem.stopAllActions(),n.parentItem.y=n.node.height/2,n.reSetResultColum(),n.isMoveSlowDown=!1,n.parentItem.y+=20,n.parentItem.runAction(cc.sequence(cc.moveBy(.04,0,-20).easing(cc.easeSineOut()),cc.callFunc(function(){n.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()}),t(null)})))):t(null)})},e.prototype.setResultIcon=function(t){var e=this.result.slice();e.reverse(),this.setResult(t);var n=this.result.length-e.length;e.length=this.result.length,e.reverse(),this.getListSymbol()[0];for(var o=0;o<n;o++){var i=p.Windown.MatTroiView.asset.getSymbol();this.parentItem.addChild(i,0),i.setSiblingIndex(0),i.getComponent(h.default).setItemColum(this)}var r=this.getListSymbol();r[0].setResult(this.getRandomResult()),this.result.forEach(function(t,e){var n=r[e+1];t.getInt("typeItem")!=n.typeItem&&n.isShuff||n.setResult(t)})},e.prototype.recaculateSpeedSpin=function(t){var e=this.getListSymbol(),n=e[0].node.y,o=-this.node.height-e[0].node.height/2,i=Math.abs(o-n),r=.22;t&&(r=1.5),e.forEach(function(t){t.setImgResult(!1),t.stopSpin(cc.moveBy(r,0,-i))})},e.prototype.reSetResultColum=function(){var t=this.getListSymbol();if(t.length>this.sizeSymbol)for(;t.length>this.sizeSymbol;)p.Windown.MatTroiView.asset.putSymbol(t[t.length-1].node),(t=this.getListSymbol()).pop();else if(t.length<this.sizeSymbol)for(var e=t.length;e<this.sizeSymbol;e++){var n=this.getSymbol();this.parentItem.addChild(n);var o=n.getComponent(h.default);6==this.sizeSymbol?o.isVectical=!1:o.isVectical=!0,o.setItemColum(this),t.push(o)}this.result.forEach(function(e,n){t[n+1].setResult(e)}),e=this.result.length+1;for(var i=t.length;e<i;e++)t[e].setResult(t[e].objSFS);t.forEach(function(t){t.canRun=!1,t.node.stopAllActions(),t.initPosStartGame()})},e.prototype.effStopSpin=function(){var t=this;this.stateWhel!=c.default.SHOW_EFFECT&&(this.stateWhel=c.default.SHOW_EFFECT,this.parentItem.stopAllActions(),this.parentItem.y=this.node.height/2,this.reSetResultColum(),this.isMoveSlowDown=!1,0==p.Windown.MatTroiView.stateSpin.isMaxSpeed&&p.Windown.MatTroiView.audio.playEffect(p.Windown.MatTroiView.audio.spinStop,.6),this.funReject=null,this.isScater?this.parentItem.runAction(cc.sequence(cc.moveBy(.15,0,-30).easing(cc.easeSineOut()),cc.callFunc(this.offNearWin,this),cc.moveBy(.2,0,30).easing(cc.easeSineIn()),cc.callFunc(function(){t.resolve&&t.resolve(null),t.resolve=null,t.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()}),5==t.index&&p.Windown.MatTroiView.infoBar.hideOneMoreScatter()}))):this.parentItem.runAction(cc.sequence(cc.moveBy(.055,0,18).easing(cc.easeSineOut()),cc.moveBy(.055,0,-18).easing(cc.easeSineIn()),cc.callFunc(function(){t.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()})}))))},e.prototype.getIdSymbolResult=function(){return this.stateWhel==c.default.STOP&&this.resultTemp.pop()||this.getRandomResult()},e.prototype.checkLastSymbol=function(t){var e=this.getListSymbol();return e[e.length-1]==t},e.prototype.getRandomResult=function(){0!=this.index&&this.index;var t=null;return(t=l.ConectManager.getIns().getSFSObj()).putInt("size",1),t.putInt("idItem",p.Windown.RandomNumber(0,12)),t.putInt("typeItem",0),t},e.prototype.checkParentItem=function(){},e.prototype.runSlowDownActicon=function(){this.getListSymbol().forEach(function(t){t.node.stopAllActions()}),this.isMoveSlowDown=!0,this.deltaSlowDown=3500},e.prototype.update=function(t){var e=this;this.isMoveSlowDown&&(this.getListSymbol().forEach(function(n){n.node.y-=t*e.deltaSlowDown}),this.deltaSlowDown>500?this.deltaSlowDown-=1800*t:this.deltaSlowDown<1e3&&(this.stateWhel=c.default.STOP,this.isMoveSlowDown=!1,this.recaculateSpeedSpin(!0)))},r([y(cc.Node)],e.prototype,"parentItem",void 0),r([y(cc.Integer)],e.prototype,"sizeSymbol",void 0),r([f],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./SymbolMatTroi":"SymbolMatTroi"}],ItemSlotNekoNgang:[function(t,e,n){"use strict";cc._RF.push(e,"913f8Kqu0FAzaCqD3ZIe5d8","ItemSlotNekoNgang");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./ItemSlotNeko"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.start=function(){},r([c],e)}(s.default));n.default=l,cc._RF.pop()},{"./ItemSlotNeko":"ItemSlotNeko"}],ItemSlotNeko:[function(t,e,n){"use strict";cc._RF.push(e,"e0553Jaoe9HqY8V5v7BXtYe","ItemSlotNeko");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE_MOVE=void 0;var c=t("../../../Scritps/DefineTs/StateReelSlot"),l=t("../../../Scritps/Network/ConectManager"),u=t("../../../Scritps/Util"),p=t("../../../Scritps/Windown"),h=t("./SymbolNeko");(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD_NEW=1]="ADD_NEW"})(n.TYPE_MOVE||(n.TYPE_MOVE={}));var d=cc._decorator,f=d.ccclass,y=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.sizeSymbol=7,e.funReject=null,e.resolve=null,e.stateWhel=c.default.WAITING,e.result=[],e.resultTemp=[],e.listIconEff=[],e.nodeEffNearWin=null,e.nodeWildDT=null,e.nodeWildShowDT=null,e.isScater=!1,e.index=-1,e.indexNodeFirt=0,e.isMoveSlowDown=!1,e.deltaSlowDown=0,e.listNumMutilWild=[],e.indexMaxWild=0,e.listProSkip=[],e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.getListSymbol=function(){if(null!=this.parentItem){for(var t=[],e=0,n=this.parentItem.children;e<n.length;e++){var o=n[e].getComponent(h.default);o&&t.push(o)}return t}},e.prototype.getListSymbolResult=function(){var t=[],e=this.getListSymbol();return this.result.forEach(function(n,o){t.push(e[o+1])}),t},e.prototype.setResultFirtGame=function(){var t=this.getListRandomResult(),e=t.slice(1,t.length-1);this.setResult(e);for(var n=this.parentItem.children,o=0,i=this.sizeSymbol;o<i;o++){var r=n[o];null==r&&((r=this.getSymbol()).parent=this.parentItem),r.setSiblingIndex(o);var s=r.getComponent(h.default);6==this.sizeSymbol?s.isVectical=!1:s.isVectical=!0,s.setItemColum(this),s.setResult(t[o])}this.parentItem.sortAllChildren(),this.emitNewList(),this.getListSymbol().forEach(function(t){return t.initPosStartGame()})},e.prototype.getListRandomResult=function(){var t=[];if(0==this.index||5==this.index)for(var e=0;e<this.sizeSymbol;e++)t.push(this.getRandomResult());else{t.push(this.getRandomResult());var n=this.getRandomResult();t.push(n);for(var o=n.getInt("size");o<5;)o+(n=this.getRandomResult(p.Windown.RandomNumber(1,6-o))).getInt("size")<=5&&(o+=n.getInt("size"),t.push(n));for(e=t.length;e<this.sizeSymbol;e++)t.push(this.getRandomResult())}return t},e.prototype.activeNodeNearWin=function(){p.Windown.Neko.stateSpin.offAllSymbol(),null==this.nodeEffNearWin&&(this.nodeEffNearWin=p.Windown.Neko.asset.getNearWin(),this.nodeEffNearWin.parent=p.Windown.Neko.parentEffect,this.nodeEffNearWin.setPosition(p.Windown.convertNodeInOtherNode(this.node,p.Windown.Neko.parentEffect))),this.nodeEffNearWin.opacity=255,this.nodeEffNearWin.active=!0,this.nodeEffNearWin.getComponent(cc.Animation).play("StartNearFS"),this.activeAllSymbol(),p.Windown.Neko.activeMask(!0),p.Windown.Neko.audio.playEffect(p.Windown.Neko.audio.fastspinStart)},e.prototype.offNearWin=function(){var t=this;this.nodeEffNearWin&&(p.Windown.Neko.audio.playEffect(p.Windown.Neko.audio.fastspinEnd),this.nodeEffNearWin.stopAllActions(),this.nodeEffNearWin.getComponent(cc.Animation).play("EndNearFS"),this.nodeEffNearWin.getComponent(cc.Animation).once(cc.Animation.EventType.FINISHED,function(){t.nodeEffNearWin.active=!1}))},e.prototype.setResult=function(t){this.result=t,this.resultTemp=t.slice(),this.indexMaxWild=this.resultTemp.length},e.prototype.emitNewList=function(){},e.prototype.checkAndRemoveItem=function(t,e){var n=!1,o=this.getListSymbol().slice(1,this.result.length+1);6==this.sizeSymbol&&(o.reverse(),o=o.slice(0,e+1)),6==this.sizeSymbol&&o.reverse();for(var i=0;i<o.length;i++)o[i].result-1!=t&&12!=o[i].result||(0==o[i].typeItem?(o[i].removeItem(),this.result[i]=null):o[i].isShuff=!0,n=!0);n&&(this.parentItem.sortAllChildren(),this.emitNewList(),this.result=this.result.filter(function(t){return null!=t}))},e.prototype.checkItemWin=function(t,e){return s(this,void 0,void 0,function(){var n,o,i,r,s;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,8,,9]),this.getListSymbol(),6!=this.sizeSymbol?[3,2]:[4,p.Windown.Neko.getMakeDelay(.07).prosime];case 1:a.sent(),a.label=2;case 2:return[4,p.Windown.Neko.getMakeDelay(.07*this.index).prosime];case 3:a.sent(),n=this.getListSymbol().slice(1,this.result.length+1),6==this.sizeSymbol&&(n.reverse(),n=n.slice(0,e+1)),o=0,i=n,a.label=4;case 4:return o<i.length?(r=i[o]).result-1!=t&&12!=r.result?[3,6]:(r.takeItem(),6!=this.sizeSymbol?[3,6]:[4,p.Windown.Neko.getMakeDelay(.07).prosime]):[3,7];case 5:a.sent(),a.label=6;case 6:return o++,[3,4];case 7:return[3,9];case 8:return s=a.sent(),u.Util.ThrowErrProsime(s),[3,9];case 9:return[2]}})})},e.prototype.addNewListSymbol=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,c,l,d,f,y,g;return a(this,function(a){switch(a.label){case 0:for(a.trys.push([0,6,,7]),p.Windown.Neko.stateSpin.curentCountScater,(e=this.result.slice()).reverse(),this.setResult(t),o=this.result.length-e.length,e.length=this.result.length,e.reverse(),i=this.getListSymbol(),r=i[0],s=0;s<o;s++)c=p.Windown.Neko.asset.getSymbol(),this.parentItem.addChild(c,0),c.setSiblingIndex(0),y=c.getComponent(h.default),6==this.sizeSymbol?y.isVectical=!1:y.isVectical=!0,y.setItemColum(this);for(this.parentItem.sortAllChildren(),this.emitNewList(),l=this.getListSymbol(),d=[],l[0].setResult(this.getRandomResult()),this.result.forEach(function(t,e){var n=l[e+1];t.getInt("typeItem")!=n.typeItem&&n.isShuff?d.push(n.actionRandomNewResultNextKhung(t.getInt("idItem"))):n.setResult(t)}),r.node.y=r.node.height/2,f=r.getIndexOf()-1;f>=0;)(y=l[f]).node.y=r.node.y+r.node.height/2+y.node.height/2,r=y,f--;return d.length<1?p.Windown.Neko.stateSpin.isMaxSpeed?[3,2]:[4,p.Windown.Neko.getMakeDelay(.5).prosime]:[3,3];case 1:a.sent(),a.label=2;case 2:return[3,5];case 3:return[4,Promise.all(d)];case 4:a.sent(),a.label=5;case 5:return n(null),[3,7];case 6:return g=a.sent(),u.Util.ThrowErrProsime(g),[3,7];case 7:return[2]}})})})},e.prototype.getSymbol=function(){return p.Windown.Neko.asset.getSymbol()},e.prototype.checkIsNorSap=function(){var t=this.getListSymbol().filter(function(t){return t.checkIsInView()}),e=0;return t.forEach(function(t){e+=t.sizeItem}),this.sizeSymbol-2-e>0},e.prototype.moveAllSymbol=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,c,l,h,d,f,y,g,m,v,S,b,w,_,C;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,10,,11]),e=p.Windown.Neko.stateSpin.curentCountScater>2&&!p.Windown.Neko.stateSpin.isMaxSpeed,o=e||p.Windown.Neko.stateSpin.isMaxSpeed?0:.05*p.Windown.RandomNumber(0,5),i=p.Windown.Neko.stateSpin.isMaxSpeed?3:1,[4,p.Windown.Neko.getMakeDelay(.2+o).prosime];case 1:if(a.sent(),(r=this.getListSymbol()).forEach(function(t){t.activeItem()}),(s=r.filter(function(t){return t.checkIsInView()})).reverse(),c=s[s.length-1],s.length>0)for(l=s[0],h=-l.size.height*(this.sizeSymbol-2)+l.node.height/2,d=function(t,e){var n=s[t],o=n.node;if(Math.abs(h-o.y)>2){var r=cc.moveTo(.25/i,o.x,h).easing(cc.easeSineIn()),a=cc.sequence(cc.moveBy(.059,0,18).easing(cc.easeSineOut()),cc.moveBy(.059,0,-18).easing(cc.easeSineIn()),cc.callFunc(function(){n.effectSpawnSymbol()}));o.runAction(cc.sequence(r,cc.callFunc(function(){p.Windown.Neko.audio.playEffectNoStop(p.Windown.Neko.audio.symCollapse,.6)}),a))}else n.isShuff&&n.effectSpawnSymbol();t<e-1&&(h=h+o.height/2+s[t+1].node.height/2)},f=0,y=s.length;f<y;f++)d(f,y);return g=0,s.forEach(function(t){g+=t.sizeItem}),m=this.sizeSymbol-2-g,e?[4,p.Windown.Neko.getMakeDelay(.4).prosime]:[3,8];case 2:return a.sent(),p.Windown.Neko.audio.playEffect(p.Windown.Neko.audio.heartbeatNoise),p.Windown.Neko.stateSpin.offAllSymbol(!1),s.forEach(function(t){t.effectNearWinScater()}),m>0?((v=p.Windown.Neko.asset.getNearWinNoSap()).parent=this.parentItem,v.height=c?m*c.size.height:m*r[0].size.height,S=-v.height/2,v.setPosition(cc.v2(0,S)),[4,p.Windown.Neko.getMakeDelay(4.5).prosime]):[3,5];case 3:return a.sent(),p.Windown.Neko.stateSpin.activeAllSymbol(),v.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){v.opacity=255,p.Windown.Neko.asset.putNearWinNoSap(v)}))),[4,p.Windown.Neko.getMakeDelay(.3+.5*t).prosime];case 4:return a.sent(),[3,7];case 5:return[4,p.Windown.Neko.getMakeDelay(3.5).prosime];case 6:a.sent(),a.label=7;case 7:s.forEach(function(t){t.removeAddScater()}),a.label=8;case 8:return e&&m>0&&!p.Windown.Neko.stateSpin.isMaxSpeed&&p.Windown.Neko.audio.playEffectNoStop(p.Windown.Neko.audio.heartbeatSlowdrop),b=[],w=r,_=r[0].node.height/2,w.forEach(function(t,e){var n=r[e],o=n.node;!s.includes(n)&&Math.abs(_-o.y)>1&&b.push(new Promise(function(t){var n=cc.moveTo(.25/i,o.x,_).easing(cc.easeSineIn()),s=cc.sequence(cc.moveBy(.059,0,18).easing(cc.easeSineOut()),cc.moveBy(.059,0,-18).easing(cc.easeSineIn()),cc.callFunc(function(){t(null),r[e].effectSpawnSymbol()}));o.runAction(cc.sequence(n,cc.callFunc(function(){p.Windown.Neko.audio.playEffectNoStop(p.Windown.Neko.audio.symCollapse,.6)}),s))})),e<w.length-1&&(_=_-o.height/2-r[e+1].node.height/2)}),[4,Promise.all(b)];case 9:return a.sent(),this.reSetResultColum(),n(null),[3,11];case 10:return C=a.sent(),u.Util.ThrowErrProsime(C),[3,11];case 11:return[2]}})})})},e.prototype.offAllSymbol=function(t){this.getListSymbol().forEach(function(e){(t||13!=e.result)&&e.offItem()})},e.prototype.activeAllSymbol=function(){this.getListSymbol().forEach(function(t){t.activeItem()})},e.prototype.reset=function(){},e.prototype.runSpin=function(){this.stateWhel=c.default.RUN,this.getListSymbol().forEach(function(t){t.runSpin()})},e.prototype.stopSpin=function(t,e){var n=this;return new Promise(function(o,i){return s(n,void 0,void 0,function(){var n;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,6,,7]),this.setResult(e),this.funReject=i,this.isScater=t,this.resolve=o,t?[3,2]:[4,p.Windown.Neko.getMakeDelay(.07).prosime];case 1:r.sent(),o(null),r.label=2;case 2:return t?(this.activeNodeNearWin(),this.runSlowDownActicon(),[4,p.Windown.Neko.getMakeDelay(1.5).prosime]):[3,4];case 3:return r.sent(),this.stateWhel=c.default.SHOW_EFFECT,[3,5];case 4:this.stateWhel=c.default.STOP,this.recaculateSpeedSpin(!1),r.label=5;case 5:return[3,7];case 6:return n=r.sent(),u.Util.ThrowErrProsime(n),[3,7];case 7:return[2]}})})})},e.prototype.recaculateSpeedSpin=function(t){this.emitNewList();var e=this.getListSymbol(),n=e[0].node.y,o=-this.node.height-e[0].node.height/2,i=Math.abs(o-n),r=.28;t&&(r=2),e.forEach(function(t){t.stopSpin(cc.moveBy(r,0,-i))})},e.prototype.forceStopSpin=function(t,e){return this.listProSkip.forEach(function(t){t.cancle(!1)}),this.funReject&&this.funReject(),t&&(this.offNearWin(),p.Windown.RungRam.audio.stopEffect(p.Windown.RungRam.audio.fastspin),this.isMoveSlowDown=!1),this.stopSpinIsFastSpin(t,e)},e.prototype.stopSpinIsFastSpin=function(t,e){var n=this;return new Promise(function(t){n.stateWhel!=c.default.SHOW_EFFECT?(n.setResult(e),n.stateWhel=c.default.SHOW_EFFECT,n.parentItem.stopAllActions(),n.parentItem.y=n.node.height/2,n.reSetResultColum(),n.sizeSymbol>6&&(p.Windown.Neko.audio.playStopAudio(),n.index>=1&&n.index<=4?p.Windown.Neko.updateNewTotalLine(n.result.length+1):p.Windown.Neko.updateNewTotalLine(n.result.length)),n.isMoveSlowDown=!1,n.parentItem.y+=20,n.parentItem.runAction(cc.sequence(cc.moveBy(.04,0,-20).easing(cc.easeSineOut()),cc.callFunc(function(){n.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()}),t(null)})))):t(null)})},e.prototype.errSpin=function(){},e.prototype.reSetResultColum=function(){var t=this.getListSymbol();if(t.length>this.sizeSymbol)for(;t.length>this.sizeSymbol;)p.Windown.Neko.asset.putSymbol(t[t.length-1].node),t=this.getListSymbol();else if(t.length<this.sizeSymbol){for(var e=t.length;e<this.sizeSymbol;e++){var n=this.getSymbol();this.parentItem.addChild(n);var o=n.getComponent(h.default);6==this.sizeSymbol?o.isVectical=!1:o.isVectical=!0,o.setItemColum(this)}t=this.getListSymbol()}this.result.forEach(function(e,n){t[n+1].setResult(e)}),e=this.result.length+1;for(var i=t.length;e<i;e++)t[e].setResult(t[e].objSFS);t.forEach(function(t){t.canRun=!1,t.node.stopAllActions(),t.initPosStartGame()})},e.prototype.effStopSpin=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){try{if(this.stateWhel==c.default.SHOW_EFFECT)return[2];this.stateWhel=c.default.SHOW_EFFECT,this.parentItem.sortAllChildren(),this.parentItem.stopAllActions(),this.emitNewList(),this.parentItem.y=this.node.height/2,this.reSetResultColum(),this.sizeSymbol>6&&(p.Windown.Neko.audio.playEffectNoStop(p.Windown.Neko.audio.spinStop),this.index>=1&&this.index<=4?p.Windown.Neko.updateNewTotalLine(this.result.length+1):p.Windown.Neko.updateNewTotalLine(this.result.length)),this.isMoveSlowDown=!1,this.isScater?this.parentItem.runAction(cc.sequence(cc.moveBy(.15,0,-30).easing(cc.easeSineOut()),cc.callFunc(this.offNearWin,this),cc.moveBy(.2,0,30).easing(cc.easeSineIn()),cc.callFunc(function(){t.resolve&&t.resolve(null),t.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()})}))):this.parentItem.runAction(cc.sequence(cc.moveBy(.04,0,-8).easing(cc.easeSineOut()),cc.moveBy(.04,0,8).easing(cc.easeSineIn()),cc.callFunc(function(){t.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()})})))}catch(e){u.Util.ThrowErrProsime(e)}return[2]})})},e.prototype.getIdSymbolResult=function(){return this.stateWhel==c.default.STOP&&this.resultTemp.pop()||this.getRandomResult()},e.prototype.checkLastSymbol=function(t){var e=this.getListSymbol();return e[e.length-1]==t},e.prototype.getRandomResult=function(t){0!=this.index&&5!=this.index||(t=1);var e=null;return e=l.ConectManager.getIns().getSFSObj(),t?(e.putInt("size",t),t>1?e.putInt("idItem",p.Windown.RandomNumber(0,12)):e.putInt("idItem",p.Windown.RandomNumber(0,13))):(e.putInt("idItem",p.Windown.RandomNumber(0,13)),e.getInt("idItem")<12?(p.Windown.RandomNumber(0,100),e.putInt("size",p.Windown.RandomNumber(1,5))):e.putInt("size",1)),1==e.getInt("size")||11==e.getInt("idItem")?e.putInt("typeItem",0):e.putInt("typeItem",p.Windown.RandomNumber(0,3)),e},e.prototype.checkParentItem=function(){},e.prototype.runSlowDownActicon=function(){this.getListSymbol().forEach(function(t){t.node.stopAllActions()}),this.isMoveSlowDown=!0,this.deltaSlowDown=6e3},e.prototype.update=function(t){var e=this;this.isMoveSlowDown&&(this.getListSymbol().forEach(function(n){n.node.y-=t*e.deltaSlowDown}),this.deltaSlowDown>500?this.deltaSlowDown-=1800*t:this.deltaSlowDown<1e3&&(this.stateWhel=c.default.STOP,this.isMoveSlowDown=!1,this.recaculateSpeedSpin(!0)))},r([y(cc.Node)],e.prototype,"parentItem",void 0),r([y(cc.Integer)],e.prototype,"sizeSymbol",void 0),r([f],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./SymbolNeko":"SymbolNeko"}],ItemSlotNgoKhong:[function(t,e,n){"use strict";cc._RF.push(e,"7c98cmHIuxGZ7NzNZZI8exw","ItemSlotNgoKhong");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/StateReelSlot"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=t("./SymbolNgoKhong"),h=t("./SymbolNgoKhong"),d=t("./WildMutilSymbol"),f=cc._decorator,y=f.ccclass,g=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.stateSpin=0,e.funReject=null,e.resolve=null,e.stateWhel=c.default.WAITING,e.result=[],e.resultTemp=[],e.listIconEff=[],e.nodeEffNearWin=null,e.nodeWildDT=null,e.nodeWildShowDT=null,e.isScater=!1,e.totalItem=4,e.index=-1,e.indexNodeFirt=0,e.isMoveSlowDown=!1,e.deltaSlowDown=0,e.listNumMutilWild=[],e.indexMaxWild=0,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.getListSymbol=function(){var t=[];return this.parentItem.children.forEach(function(e){var n=e.getComponent(p.default);n&&t.push(n)}),t},e.prototype.getListWildMutil=function(){var t=[];return this.parentItem.children.forEach(function(e){var n=e.getComponent(d.default);n&&t.push(n)}),t},e.prototype.setResultFirtGame=function(t){var e=this;this.setResult(t),this.getListSymbol().forEach(function(t){t.setItemColum(e)});for(var n=0,o=t.length;n<o;n++){var i=u.Windown.NgoKhong.asset.getSymbol();i.parent=this.parentItem,i.setSiblingIndex(n+1),i.getComponent(h.default).setItemColum(this),i.getComponent(h.default).setResult(t[n])}this.parentItem.sortAllChildren();var r=this.getListSymbol();for(n=0,o=r.length;n<o;n++){var s=r[n];s.node.y=r.length*s.node.height/2-s.node.height*n-s.node.height/2}this.totalItem=4,u.Windown.NgoKhong.listKhung[this.index].currentIndex=t.length-4,u.Windown.NgoKhong.listKhung[this.index].emitNewSize(!1);var a=130*(r.length-2);this.node.height=a},e.prototype.activeNodeNearWin=function(){null==this.nodeEffNearWin&&(this.nodeEffNearWin=u.Windown.NgoKhong.asset.getNearWin(),this.nodeEffNearWin.parent=u.Windown.NgoKhong.parentItem,this.nodeEffNearWin.setPosition(this.node.getPosition())),this.nodeEffNearWin.opacity=255,this.nodeEffNearWin.active=!0,this.activeAllSymbol();for(var t=u.Windown.NgoKhong.listColum,e=0;e<t.length;e++)t[e]!=this&&t[e].offAllSymbol();u.Windown.NgoKhong.activeMask(!0),u.Windown.NgoKhong.audio.playEffect(u.Windown.NgoKhong.audio.fastspinEnd)},e.prototype.offNearWin=function(){var t=this;this.nodeEffNearWin&&(this.nodeEffNearWin.stopAllActions(),this.nodeEffNearWin.runAction(cc.sequence(cc.fadeOut(.1),cc.callFunc(function(){t.nodeEffNearWin.active=!1}))))},e.prototype.effectAddColum=function(t){u.Windown.NgoKhong.audio.playEffectNoStop(u.Windown.NgoKhong.audio.fastspinStart,.7),u.Windown.NgoKhong.audio.playEffectNoStop(u.Windown.NgoKhong.audio.fsReelAppear),u.Windown.NgoKhong.effectShake();var e=this.getListSymbol().length,n=130*(e-2);cc.tween(this.node).to(.2,{height:n}).start();var o=u.Windown.NgoKhong.listKhung;o[this.index].currentIndex=e-6,o.forEach(function(t){return t.emitNewSize()}),u.Windown.NgoKhong.emitNewScale();var i=u.Windown.NgoKhong.asset.getAddSymbol();i.parent=this.node.parent,i.setPosition(this.node.getPosition());var r=i.getComponent(cc.Animation);r.once(cc.Animation.EventType.FINISHED,function(){u.Windown.NgoKhong.asset.putAddSymbol(i)},this),r.play("AddSymbol");var s=130*o[this.index].currentIndex;i.children[0].height=600+s,i.children[1].height=600+s;var a=i.children[2];a.height=100,a.y=t.y;var c=u.Windown.NgoKhong.asset.getAddSymbol2();c.setPosition(this.node.x,t.y),c.parent=this.node.parent;var l=c.getComponent(cc.Animation);l.play("AddGayNhuY"),l.once(cc.Animation.EventType.FINISHED,function(){u.Windown.NgoKhong.asset.putAddSymbol2(c)}),cc.tween(a).to(.2,{height:600+s,y:0}).start()},e.prototype.removeAddSymbolAdded=function(){for(var t=this.getListSymbol(),e=t.length-6,n=1,o=1+e;n<o;n++)t[n].removeItem();this.result.splice(0,e),this.parentItem.sortAllChildren();var i=this.getListSymbol(),r=130*(i.length-2);for(cc.tween(this.node).to(.2,{height:r}).start(),n=0,o=i.length;n<o;n++){var s=i[n];s.node.stopAllActions();var a=i.length*s.node.height/2-s.node.height*n-s.node.height/2;s.node.runAction(cc.moveTo(.2,cc.v2(s.node.x,a)))}},e.prototype.showGayNhuY=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,c,h,d,f,y=this;return a(this,function(g){switch(g.label){case 0:return g.trys.push([0,5,,6]),cc.log("json.:  "+this.result),e=this.result.indexOf(11),null==(o=this.getListSymbol()[e+1])||null==o?(this.result[e]=t[0],this.result.splice(e+1,0,t[1]),this.resetAllItem(),i=this.getListSymbol(),r=i.length,c=130*(r-2),cc.tween(this.node).to(.2,{height:c}).start(),(h=u.Windown.NgoKhong.listKhung)[this.index].currentIndex=r-6,h.forEach(function(t){return t.emitNewSize()}),u.Windown.NgoKhong.emitNewScale(),n(null),l.Util.ThrowErrProsime({stack:"null gay nhu y: "+u.Windown.SFSObjToJson(u.Windown.NgoKhong.dataFinish)}),[2]):(this.result[e]=t[0],this.result.splice(e+1,0,t[1]),d=function(){return s(y,void 0,void 0,function(){var n,i,r,s,c,h;return a(this,function(){try{for((n=u.Windown.NgoKhong.asset.getSymbol()).setPosition(o.node.getPosition()),n.parent=o.node.parent,n.setSiblingIndex(o.node.getSiblingIndex()+1),this.node.parent.sortAllChildren(),o.setResult(t[0]),n.getComponent(p.default).setItemColum(this),n.getComponent(p.default).setResult(t[1]),o.addEffectBackGround(),n.getComponent(p.default).addEffectBackGround(),this.getListWildMutil().forEach(function(t){t.moveWhenGayNhuY(e)}),i=this.getListSymbol(),r=0,s=i.length;r<s;r++)(c=i[r]).node.stopAllActions(),h=i.length*c.node.height/2-c.node.height*r-c.node.height/2,cc.log("y: "+h),c.node.runAction(cc.moveTo(.2,cc.v2(c.node.x,h)));this.effectAddColum(o.node)}catch(a){l.Util.ThrowErrProsime(a)}return[2]})})},u.Windown.NgoKhong.stateSpin.isMaxSpeed?(o.activeItem(),d(),[4,u.Windown.NgoKhong.getMakeDelay(.2).prosime]):[3,2]);case 1:return g.sent(),[3,4];case 2:return u.Windown.NgoKhong.audio.playEffectNoStop(u.Windown.NgoKhong.audio.featureJingubangExpand,.7),o.addNodeGayNhuY(d),o.activeItem(),[4,u.Windown.NgoKhong.getMakeDelay(.4).prosime];case 3:g.sent(),g.label=4;case 4:return n(null),[3,6];case 5:return f=g.sent(),l.Util.ThrowErrProsime(f),[3,6];case 6:return[2]}})})})},e.prototype.setResult=function(t){this.result=t,this.resultTemp=t.slice(),this.indexMaxWild=this.resultTemp.length},e.prototype.checkIsNoSap=function(t){return this.getListSymbol().length-2!=t.length},e.prototype.checkItemWin=function(t){return s(this,void 0,void 0,function(){var e,n,o,i;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this.getListSymbol(),[4,u.Windown.NgoKhong.getMakeDelay(.03*this.index).prosime];case 1:for(r.sent(),this.getListWildMutil().forEach(function(t){t.playAniTake()}),n=1,o=e.length;n<o-1;n++)e[n].result!=t&&10!=e[n].result||e[n].takeItem();return[3,3];case 2:return i=r.sent(),l.Util.ThrowErrProsime(i),[3,3];case 3:return[2]}})})},e.prototype.addNewListSymbol=function(t,e){var n=this;return new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s,c,h,d,f,y,g,m,v,S,b,w,_,C;return a(this,function(a){switch(a.label){case 0:for(a.trys.push([0,6,,7]),n=u.Windown.NgoKhong.stateSpin.curentCountScater>1,this.setResult(t),i=this.getListSymbol(),r=i[0],(s=[]).unshift(r),r.node.setSiblingIndex(0),c=t.length-i.length+2,_=0,g=c;_<g;_++)(h=u.Windown.NgoKhong.asset.getSymbol()).parent=this.parentItem,h.setSiblingIndex(0),h.y=i[0].node.y+h.height*(_+2),(d=h.getComponent(p.default)).setItemColum(this),s.unshift(d);for(r.node.y+=r.node.height,this.parentItem.sortAllChildren(),f=this.getListSymbol(),_=1,g=s.length;_<g;_++)s[_].setResult(t[_-1]);for(_=0,g=f.length;_<g;_++)m=f[_],s.includes(m)||(m.node.stopAllActions(),S=f.length*m.node.height/2-m.node.height*_-m.node.height/2,this.actionMove(0,cc.v2(m.node.x,S),m.node));return y=.05,!n||u.Windown.NgoKhong.stateSpin.isMaxSpeed?[3,4]:[4,u.Windown.NgoKhong.getMakeDelay(.3).prosime];case 1:for(a.sent(),u.Windown.NgoKhong.audio.playEffect(u.Windown.NgoKhong.audio.heartbeatNoise),u.Windown.NgoKhong.listColum.forEach(function(t){t.offAllSymbol()}),u.Windown.NgoKhong.activeMask(!0),_=0,g=f.length;_<g;_++)m=f[_],s.includes(m)||m.effectNearWinScater();return(v=u.Windown.NgoKhong.asset.getNearWinNoSap()).parent=this.parentItem,v.height=130*c,S=(r.node.y+i[1].node.y-130)/2,v.setPosition(cc.v2(0,S)),[4,u.Windown.NgoKhong.getMakeDelay(4.5).prosime];case 2:return a.sent(),u.Windown.NgoKhong.listColum.forEach(function(t){t.activeAllSymbol()}),u.Windown.NgoKhong.activeMask(!1),v.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){v.opacity=255,u.Windown.NgoKhong.asset.putNearWinNoSap(v)}))),[4,u.Windown.NgoKhong.getMakeDelay(.3+.5*e).prosime];case 3:a.sent(),a.label=4;case 4:for(b=function(t){var e=f[t];if(s.includes(e)){y+=u.Windown.RandomNumber(0,100)/600,e.node.stopAllActions();var o=f.length*e.node.height/2-e.node.height*t-e.node.height/2;n&&!u.Windown.NgoKhong.stateSpin.isMaxSpeed&&u.Windown.NgoKhong.audio.playEffect(u.Windown.NgoKhong.audio.heartbeatSlowdrop,.8),w.actionMove(y,cc.v2(e.node.x,o),e.node,function(){12==e.result?(e.addNodeScater(),u.Windown.NgoKhong.audio.playEffectNoStop(u.Windown.NgoKhong.audio.symScatter,.6)):10==e.result&&(e.activeWild(),u.Windown.NgoKhong.audio.playEffectNoStop(u.Windown.NgoKhong.audio.symWildSpawn,.7))})}},w=this,_=f.length-1;_>=0;_--)b(_);return[4,u.Windown.NgoKhong.getMakeDelay(y+.5).prosime];case 5:return a.sent(),o(null),[3,7];case 6:return C=a.sent(),l.Util.ThrowErrProsime(C),[3,7];case 7:return[2]}})})})},e.prototype.actionMove=function(t,e,n,o){if(void 0===o&&(o=null),Math.abs(n.y-e.y)<10)o&&o();else{u.Windown.NgoKhong.stateSpin.isMaxSpeed&&(t=0);var i=cc.moveTo(.25,e).easing(cc.easeSineIn()),r=cc.sequence(cc.moveBy(.03,0,15).easing(cc.easeSineOut()),cc.moveBy(.03,0,-15).easing(cc.easeSineIn()),cc.callFunc(function(){o&&o()}));n.runAction(cc.sequence(cc.delayTime(t),i,cc.callFunc(function(){u.Windown.NgoKhong.audio.playEffect(u.Windown.NgoKhong.audio.slider_effect,.5)}),r))}},e.prototype.offAllSymbol=function(){this.getListSymbol().forEach(function(t){t.offItem()})},e.prototype.activeAllSymbol=function(){this.getListSymbol().forEach(function(t){t.activeItem()})},e.prototype.reset=function(){},e.prototype.runSpin=function(){var t=this,e=cc.moveBy(.15,0,-130).easing(cc.easeBackIn()),n=cc.repeat(cc.moveBy(1,0,-2500),cc.macro.REPEAT_FOREVER);this.parentItem.stopAllActions(),this.parentItem.runAction(cc.sequence(e,cc.callFunc(function(){t.getListSymbol().forEach(function(t){t.removeNodeScater()})}),n)),this.stateWhel=c.default.RUN},e.prototype.stopSpin=function(t,e){var n=this;return new Promise(function(o,i){return s(n,void 0,void 0,function(){var n;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.setResult(e),this.funReject=i,this.isScater=t,this.resolve=o,t?(this.activeNodeNearWin(),this.runSlowDownActicon(),[4,u.Windown.NgoKhong.getMakeDelay(1.5).prosime]):[3,2];case 1:return r.sent(),this.stateWhel=c.default.SHOW_EFFECT,[3,3];case 2:this.stateWhel=c.default.STOP,r.label=3;case 3:return[3,5];case 4:return n=r.sent(),l.Util.ThrowErrProsime(n),[3,5];case 5:return[2]}})})})},e.prototype.forceStopSpin=function(){},e.prototype.errSpin=function(){},e.prototype.effStopSpin=function(){return s(this,void 0,void 0,function(){var t,e,n,o;return a(this,function(){try{for(this.parentItem.stopAllActions(),this.parentItem.y=0,this.resetAllItem(),t=this.getListSymbol(),e=0,n=t.length;e<n;e++)o=t[e],0==e||e==n-1?o.offBlur():12==o.result?(o.addNodeScater(),u.Windown.NgoKhong.audio.playEffectNoStop(u.Windown.NgoKhong.audio.symScatter)):10==o.result&&(o.activeWild(),u.Windown.NgoKhong.audio.playEffectNoStop(u.Windown.NgoKhong.audio.symWildSpawn,.7));this.getListWildMutil().forEach(function(t){t.effectShow()}),this.parentItem.children.forEach(function(t){var e=t.getComponent(d.default);e&&e.isStopColum()}),this.isMoveSlowDown=!1,this.isScater?this.parentItem.runAction(cc.sequence(cc.moveBy(.15,0,-30).easing(cc.easeSineOut()),cc.callFunc(this.offNearWin,this),cc.moveBy(.2,0,30).easing(cc.easeSineIn()),cc.callFunc(this.resolve,this))):(this.parentItem.runAction(cc.sequence(cc.moveBy(.08,0,-15).easing(cc.easeSineOut()),cc.moveBy(.08,0,15).easing(cc.easeSineIn()))),this.resolve())}catch(i){l.Util.ThrowErrProsime(i)}return[2]})})},e.prototype.resetAllItem=function(){var t=this;this.parentItem.sortAllChildren();var e=this.getListSymbol();u.Windown.NgoKhong.audio.playEffect(u.Windown.NgoKhong.audio.spinStop);var n=!1,o=0;e[o].setResult(u.Windown.RandomNumber(0,13)),o++,this.result.forEach(function(i){var r=e[o];if(null==r||null==r){var s=u.Windown.NgoKhong.asset.getSymbol();s.parent=t.parentItem,s.setSiblingIndex(e[o-1].node.getSiblingIndex()+1),(r=s.getComponent(p.default)).setItemColum(t),e.push(r),n=!0}r.setResult(i),o++});var i=e[o];if(null==i||null==i){var r=u.Windown.NgoKhong.asset.getSymbol();r.parent=this.parentItem,r.setSiblingIndex(e[o-1].node.getSiblingIndex()+1),(i=r.getComponent(p.default)).setItemColum(this),n=!0}i.setResult(u.Windown.RandomNumber(0,13)),n&&this.parentItem.sortAllChildren();for(var s=0,a=(e=this.getListSymbol()).length;s<a;s++){var c=e[s];c.node.y=e.length*c.node.height/2-c.node.height*s-c.node.height/2}},e.prototype.getIdSymbolResult=function(){if(this.stateWhel==c.default.STOP){var t=this.resultTemp.pop();if(t&&10==t&&this.resultTemp.length<=this.indexMaxWild){for(var e=1,n=this.resultTemp.length-1;n>=0&&(this.index,10==this.resultTemp[n]);n--)e++,this.indexMaxWild=n;if(e>1){cc.log("nhay me vao add count r ne");var o=this.getListSymbol(),i=o[0].node,r=u.Windown.NgoKhong.asset.getSymbolMutilWild();r.parent=this.parentItem,r.setSiblingIndex(999),r.zIndex=cc.macro.MAX_ZINDEX,r.getComponent(d.default).init(e,this,cc.v2(0,130*o.length/2-130*(this.resultTemp.length+2)+130*parseInt(e/2)+e%2*130/2),this.resultTemp.length),r.setPosition(0,i.y+130*parseInt(e/2)+e%2*130/2-65)}}return t}return u.Windown.RandomNumber(0,13)},e.prototype.checkParentItem=function(){},e.prototype.runSlowDownActicon=function(){this.parentItem.stopAllActions(),this.isMoveSlowDown=!0,this.deltaSlowDown=6e3},e.prototype.update=function(t){this.isMoveSlowDown&&(this.parentItem.y-=t*this.deltaSlowDown,this.deltaSlowDown>500?this.deltaSlowDown-=1800*t:this.deltaSlowDown<1e3&&(this.stateWhel=c.default.STOP))},r([g(cc.Node)],e.prototype,"parentItem",void 0),r([y],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./SymbolNgoKhong":"SymbolNgoKhong","./WildMutilSymbol":"WildMutilSymbol"}],ItemSlotQuyBa:[function(t,e,n){"use strict";cc._RF.push(e,"2b413mCGP5KF4Sm+0q71+X9","ItemSlotQuyBa");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.ItemSlotQuyBa=n.TYPE_MOVE=void 0;var c=t("../../../Scritps/DefineTs/StateReelSlot"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=t("./SymbolQuyBa"),h=cc._decorator,d=h.ccclass,f=h.property;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD_NEW=1]="ADD_NEW"})(n.TYPE_MOVE||(n.TYPE_MOVE={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.result=[],e.listItemSymbol=[],e.parentItemFront=null,e.parentItemActive=null,e.funReject=null,e.resolve=null,e.stateWhel=c.default.WAITING,e.resultTemp=[],e.listResultRandomCache=[],e.listIconEff=[],e.nodeWildDT=null,e.nodeWildShowDT=null,e.isScater=!1,e.index=-1,e.indexNodeFirt=0,e.isMoveSlowDown=!1,e.deltaSlowDown=0,e.listNumMutilWild=[],e.indexMaxWild=0,e.sizeSymbol=7,e.parentItem=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.getListSymbolResult=function(){var t=[],e=this.getListSymbol();return this.result.forEach(function(n,o){t.push(e[o+1])}),t},e.prototype.getListSymbol=function(){return this.listItemSymbol},e.prototype.initParent=function(){this.parentItemFront=cc.instantiate(this.parentItem),this.parentItemFront.setPosition(u.Windown.convertNodeInOtherNode(this.parentItem,u.Windown.QuyBa.parentItemFront)),this.parentItemFront.parent=u.Windown.QuyBa.parentItemFront,this.parentItemActive=cc.instantiate(this.parentItem),this.parentItemActive.setPosition(u.Windown.convertNodeInOtherNode(this.parentItem,u.Windown.QuyBa.parentItemActive)),this.parentItemActive.parent=u.Windown.QuyBa.parentItemActive},e.prototype.forceStopSpin=function(t,e){return this.funReject&&this.funReject(),t&&(this.offNearWin(),u.Windown.QuyBa.audio.stopEffect(u.Windown.QuyBa.audio.fastspinEnd),this.isMoveSlowDown=!1),this.stopSpinIsFastSpin(t,e)},e.prototype.setResultFirtGame=function(t){var e=t.slice(1,t.length-1);this.setResult(e),this.initParent();for(var n=this.parentItem.children,o=0,i=this.sizeSymbol;o<i;o++){var r=n[o];null==r&&((r=this.getSymbol()).parent=this.parentItem),r.setSiblingIndex(o),r.setPosition(cc.v3(0,0,0));var s=r.getComponent(p.SymbolQuyBa);s.setItemColum(this),s.setResult(t[o]),null!=t[o]&&12==t[o].i&&(s.bgScatter.active=!0,s.bgScatter.opacity=255)}this.initListSymbol(),this.getListSymbol().forEach(function(t){t.initPosStartGame()})},e.prototype.initListSymbol=function(){for(var t=[],e=0,n=this.parentItem.children;e<n.length;e++){var o=n[e].getComponent(p.SymbolQuyBa);o&&t.push(o)}this.listItemSymbol=t},e.prototype.setResult=function(t){this.result=t,this.resultTemp=t.slice()},e.prototype.getSymbol=function(){return u.Windown.QuyBa.asset.getSymbol()},e.prototype.runSpin=function(){this.stateWhel=c.default.RUN,this.getListSymbol().forEach(function(t){t.runSpin()})},e.prototype.stopSpin=function(t,e){var n=this;return new Promise(function(o,i){return s(n,void 0,void 0,function(){var n;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,7,,8]),this.setResult(e),this.funReject=i,this.isScater=t,this.resolve=o,t?[3,2]:[4,u.Windown.QuyBa.getMakeDelay(.1-.01*this.index).prosime];case 1:r.sent(),o(null),r.label=2;case 2:return t?[4,u.Windown.QuyBa.getMakeDelay(.5).prosime]:[3,5];case 3:return r.sent(),this.activeNodeNearWin(),this.runSlowDownActicon(),[4,u.Windown.QuyBa.getMakeDelay(.5).prosime];case 4:return r.sent(),this.stateWhel=c.default.SHOW_EFFECT,[3,6];case 5:this.stateWhel=c.default.STOP,this.recaculateSpeedSpin(!1),r.label=6;case 6:return[3,8];case 7:return n=r.sent(),l.Util.ThrowErrProsime(n),[3,8];case 8:return[2]}})})})},e.prototype.getIdSymbolResult=function(){return this.stateWhel==c.default.STOP&&this.resultTemp.pop()||this.getRandomResult()},e.prototype.getRandomResult=function(t){(this.index<2||6==this.index)&&(t=1);var e=Object.create(null);return t?(e.s=t,e.i=u.Windown.RandomNumber(0,13)):(e.i=u.Windown.RandomNumber(0,13),e.i<12?e.s=u.Windown.RandomNumber(1,5):e.s=1),11!=e.i&&12!=e.i||(e.t=u.Windown.RandomNumber(1,3)),e},e.prototype.recaculateSpeedSpin=function(t){var e=this.getListSymbol(),n=e[0].node.getPosition().y,o=-this.node.height-e[0].node.height*(2/3)/2,i=Math.abs(o-n),r=.3;t&&(r=2),e.forEach(function(t){t.stopSpin(cc.moveBy(r,cc.v2(0,-i)).easing(cc.easeSineOut()))})},e.prototype.runSlowDownActicon=function(){this.getListSymbol().forEach(function(t){u.Windown.stopAllActionByTarget(t.node)}),this.isMoveSlowDown=!0,this.deltaSlowDown=3500},e.prototype.activeNodeNearWin=function(){u.Windown.QuyBa.effect.activeNodeNearWin(this.index)},e.prototype.reSetResultColum=function(){var t=this.getListSymbol();if(t.length>this.sizeSymbol)for(;t.length>this.sizeSymbol;)u.Windown.QuyBa.asset.putSymbol(t[t.length-1].node),t.pop();else if(t.length<this.sizeSymbol)for(var e=t.length;e<this.sizeSymbol;e++){var n=this.getSymbol();this.parentItem.addChild(n);var o=n.getComponent(p.SymbolQuyBa);o.setItemColum(this),t.push(o)}this.result.forEach(function(e,n){t[n+1].setResult(e)}),e=this.result.length+1;for(var i=t.length;e<i;e++)t[e].setResult(t[e].objSFS);t.forEach(function(t){t.canRun=!1,u.Windown.stopAllActionByTarget(t.node),t.initPosStartGame()})},e.prototype.stopSpinIsFastSpin=function(t,e){var n=this;return new Promise(function(t){n.stateWhel!=c.default.END?(n.setResult(e),n.stateWhel=c.default.END,u.Windown.stopAllActionByTarget(n.parentItem),n.parentItem.setPosition(cc.v3(n.parentItem.getPosition().x,n.node.height/2,0)),n.reSetResultColum(),u.Windown.QuyBa.updateNewTotalLine(n.result.length),n.isMoveSlowDown=!1,n.parentItem.setPosition(cc.v3(n.parentItem.getPosition().x,n.parentItem.getPosition().y+20,0)),n.parentItem.runAction(cc.sequence(cc.moveBy(.04,cc.v2(0,-20)).easing(cc.easeSineIn()),cc.callFunc(function(){n.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()}),t(null)})))):t(null)})},e.prototype.offNearWin=function(){5==this.index&&u.Windown.QuyBa.effect.offNearWin()},e.prototype.effStopSpin=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){try{if(this.stateWhel==c.default.END)return[2];this.stateWhel=c.default.END,u.Windown.stopAllActionByTarget(this.parentItem),this.reSetResultColum(),this.sizeSymbol>6&&(u.Windown.QuyBa.audio.playStopAudio(),u.Windown.QuyBa.updateNewTotalLine(this.result.length)),this.funReject=null,this.isMoveSlowDown=!1,this.isScater?(this.offNearWin(),this.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()}),this.resolve&&this.resolve(null),this.resolve=null):this.parentItem.runAction(cc.sequence(cc.moveBy(.05,cc.v2(0,10)),cc.moveBy(.1,cc.v2(.05,-10)),cc.callFunc(function(){t.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()})})))}catch(e){l.Util.ThrowErrProsime(e)}return[2]})})},e.prototype.effectStartSpin=function(){return s(this,void 0,void 0,function(){return a(this,function(){return[2]})})},e.prototype.checkAndRemoveItem=function(t){for(var e=!1,n=this.getListSymbol().slice(1,this.result.length+1),o=0;o<n.length;o++)n[o].result!=t&&11!=n[o].result||(1==n[o].typeItem?(n[o].removeItem(),this.result[o]=null):(n[o].effectRemoveItem(),n[o].isShuff=!0,n[o].actionRandomNewResultNextKhung(11)),e=!0);e&&(this.result=this.result.filter(function(t){return null!=t}))},e.prototype.checkItemWin=function(t){return s(this,void 0,void 0,function(){var e,n,o,i,r,s,c,p;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),e=this.getListSymbolResult(),n=u.Windown.QuyBa.stateSpin.isMaxSpeed?0:.05,[4,u.Windown.QuyBa.getMakeDelay(this.index*n).prosime];case 1:for(a.sent(),o=function(e){if((e.result==t||11==e.result)&&(e.takeItem(),11==e.result&&!cc.isValid(e.efTakeWild))){var n=u.Windown.QuyBa.asset.getNodeTakeWild();n.setParent(u.Windown.QuyBa.parentMultiEffect),n.setPosition(u.Windown.convertNodeInOtherNode(u.Windown.QuyBa.multiBottleControl.getBottle(i.index-1),u.Windown.QuyBa.parentMultiEffect)),n.getComponent(cc.Animation).once(cc.Animation.EventType.FINISHED,function(){e.efTakeWild=null,n.destroy()}),e.efTakeWild=n;var o=cc.Vec2.distance(u.Windown.convertNodeInOtherNode(e.node,u.Windown.QuyBa.multiBottleControl.node),u.Windown.QuyBa.multiBottleControl.getBottle(i.index-1).getPosition()),r=n.children[0];r.setContentSize(cc.size(r.width,r.height*o/350)),n.getComponent(cc.Animation).play("TakeWild")}},i=this,r=0,s=e;r<s.length;r++)c=s[r],o(c);return[3,3];case 2:return p=a.sent(),l.Util.ThrowErrProsime(p),[3,3];case 3:return[2]}})})},e.prototype.addNewListSymbol=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,c,h,d,f,y,g,m,v,S;return a(this,function(a){switch(a.label){case 0:for(a.trys.push([0,6,,7]),u.Windown.QuyBa.stateSpin.curentCountScater,e=u.Windown.QuyBa.stateSpin.isMaxSpeed?3:1,(o=this.result.slice()).reverse(),this.setResult(t),i=this.result.length-o.length,o.length=this.result.length,o.reverse(),r=this.getListSymbol(),s=r[0],c=s,h=0;h<i;h++)(d=u.Windown.QuyBa.asset.getSymbol()).setPosition(0,d.position.y),this.parentItem.addChild(d),d.setSiblingIndex(0),(m=d.getComponent(p.SymbolQuyBa)).setItemColum(this),this.getListSymbol().unshift(m);for(f=this.getListSymbol(),y=[],f[0].setResult(this.getRandomResult()),this.result.forEach(function(t,e){var n=f[e+1];t.t,n.typeItem,n.isShuff||n.setResult(t)}),s.node.setPosition(s.node.position.x,c.node.height*(2/3)/2),g=s.getIndexOf()-1;g>=0;)m=f[g],v=m.node,m.node.setPosition(m.node.position.x,s.node.position.y+c.node.height*(2/3)/2+v.height*(2/3)/2),s=m,g--;return y.length<1?1!=e?[3,2]:[4,u.Windown.QuyBa.getMakeDelay(.5).prosime]:[3,3];case 1:a.sent(),a.label=2;case 2:return[3,5];case 3:return[4,u.Windown.QuyBa.getPromiseAll(y)];case 4:a.sent(),a.label=5;case 5:return n(null),[3,7];case 6:return S=a.sent(),l.Util.ThrowErrProsime(S),[3,7];case 7:return[2]}})})})},e.prototype.moveSymbolInView=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r,s,c,p,h,d;return a(this,function(){try{if(t=u.Windown.QuyBa.stateSpin.isMaxSpeed?2:1,this.getListSymbol().forEach(function(t){t.offItem()}),(n=this.getListSymbol().filter(function(t){return t.checkIsInView()})).reverse(),o=this.getListYByListResult(),n.length>0)for(i=0,r=n.length;i<r;i++)s=n[i],c=s.getIndexOf()-1,p=o[c],Math.abs(p-s.node.position.y)>2&&(h=cc.moveTo(.25/t,cc.v2(s.node.position.x,p)).easing(cc.easeSineIn()),d=cc.sequence(cc.moveBy(.075/t,cc.v2(0,17)),cc.moveBy(.075/t,cc.v2(0,-17)),cc.callFunc(function(){})),s.node.runAction(cc.sequence(h,cc.callFunc(function(){u.Windown.QuyBa.audio.playSymCollapse()}),d)));e(null)}catch(a){l.Util.ThrowErrProsime(a)}return[2]})})})},e.prototype.getListYByListResult=function(){var t=[],e=this.getListSymbol()[0].size.height*(2/3),n=this.getListSymbol().slice(1,this.result.length+1),o=-n[0].sizeItem*e/2;t.push(o);for(var i=1;i<n.length;i++)o-=n[i-1].sizeItem*e/2+n[i].sizeItem*e/2,t.push(o);return t},e.prototype.moveSymbolNew=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r,s,c,p;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),t=this.getListSymbol().filter(function(t){return t.checkIsInView()}),n=u.Windown.QuyBa.stateSpin.isMaxSpeed?2:1,o=this.getListSymbolResult(),i=[],r=o.reverse(),(s=this.getListYByListResult()).reverse(),c=0,r.forEach(function(e,o){var r=e.node,a=s[o];!t.includes(e)&&Math.abs(a-r.position.y)>2&&i.push(new Promise(function(t){var e=cc.moveTo(.25/n,cc.v2(r.position.x,a)).easing(cc.easeSineIn()),i=cc.sequence(cc.moveBy(.075,cc.v2(0,17)),cc.moveBy(.075,cc.v2(0,-17)),cc.callFunc(function(){t(null)}));r.runAction(cc.sequence(cc.delayTime(c),e,cc.callFunc(function(){}),i)),1==n&&(c+=u.Windown.RandomNumber(0,4)<2?0:.05*o)}))}),i.length>0&&1==n&&u.Windown.QuyBa.nearWinNoSap.active?(u.Windown.QuyBa.audio.playEffectNoStop(u.Windown.QuyBa.audio.heartbeatSlowdrop),[4,u.Windown.QuyBa.getMakeDelay(.5).prosime]):[3,2];case 1:a.sent(),a.label=2;case 2:return[4,u.Windown.QuyBa.getPromiseAll(i)];case 3:return a.sent(),t.forEach(function(t){t.offItem()}),this.reSetResultColum(),e(null),[3,5];case 4:return p=a.sent(),l.Util.ThrowErrProsime(p),[3,5];case 5:return[2]}})})})},e.prototype.update=function(t){var e=this;this.isMoveSlowDown&&(this.getListSymbol().forEach(function(n){n.node.setPosition(n.node.position.x,n.node.position.y-t*e.deltaSlowDown)}),this.deltaSlowDown>500?this.deltaSlowDown-=1800*t:this.deltaSlowDown<1e3&&(this.stateWhel=c.default.STOP,this.isMoveSlowDown=!1,this.recaculateSpeedSpin(!0)))},r([f],e.prototype,"sizeSymbol",void 0),r([f(cc.Node)],e.prototype,"parentItem",void 0),r([d],e)}(cc.Component);n.ItemSlotQuyBa=y,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./SymbolQuyBa":"SymbolQuyBa"}],ItemSlotRungRamNgang:[function(t,e,n){"use strict";cc._RF.push(e,"5e41fQ8T41ML66dZLuCuWjt","ItemSlotRungRamNgang");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./ItemSlotRungRam"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.start=function(){},r([c],e)}(s.default));n.default=l,cc._RF.pop()},{"./ItemSlotRungRam":"ItemSlotRungRam"}],ItemSlotRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"aa39bVPx9BNmZq7Hpbf/Ip3","ItemSlotRungRam");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE_MOVE=void 0;var c=t("../../../Scritps/DefineTs/StateReelSlot"),l=t("../../../Scritps/Network/ConectManager"),u=t("../../../Scritps/Util"),p=t("../../../Scritps/Windown"),h=t("./SymbolRungRam");(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD_NEW=1]="ADD_NEW"})(n.TYPE_MOVE||(n.TYPE_MOVE={}));var d=cc._decorator,f=d.ccclass,y=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.sizeSymbol=7,e.parentItemFront=null,e.parentItemActive=null,e.funReject=null,e.resolve=null,e.stateWhel=c.default.WAITING,e.result=[],e.resultTemp=[],e.listIconEff=[],e.nodeEffNearWin=null,e.nodeWildDT=null,e.nodeWildShowDT=null,e.isScater=!1,e.index=-1,e.indexNodeFirt=0,e.isMoveSlowDown=!1,e.deltaSlowDown=0,e.listNumMutilWild=[],e.indexMaxWild=0,e.listItemSymbol=[],e.listProSkip=[],e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.initParent=function(){this.parentItemFront=cc.instantiate(this.parentItem),this.parentItemFront.setPosition(p.Windown.convertNodeInOtherNode(this.parentItem,p.Windown.RungRam.parentItemFront)),this.parentItemFront.parent=p.Windown.RungRam.parentItemFront,this.parentItemActive=cc.instantiate(this.parentItem),this.parentItemActive.setPosition(p.Windown.convertNodeInOtherNode(this.parentItem,p.Windown.RungRam.parentItemActive)),this.parentItemActive.parent=p.Windown.RungRam.parentItemActive,6==this.sizeSymbol&&(this.parentItemFront.angle=-90,this.parentItemActive.angle=-90)},e.prototype.initListSymbol=function(){for(var t=[],e=0,n=this.parentItem.children;e<n.length;e++){var o=n[e].getComponent(h.default);o&&t.push(o)}this.listItemSymbol=t},e.prototype.getListSymbol=function(){return this.listItemSymbol},e.prototype.getListSymbolResult=function(){var t=[],e=this.getListSymbol();return this.result.forEach(function(n,o){t.push(e[o+1])}),t},e.prototype.setResultFirtGame=function(){var t=this.getListRandomResult(),e=t.slice(1,t.length-1);this.setResult(e),this.initParent();for(var n=this.parentItem.children,o=0,i=this.sizeSymbol;o<i;o++){var r=n[o];null==r&&((r=this.getSymbol()).parent=this.parentItem),r.setSiblingIndex(o),r.x=0;var s=r.getComponent(h.default);6==this.sizeSymbol?s.isVectical=!1:s.isVectical=!0,s.setItemColum(this),s.setResult(t[o])}this.initListSymbol(),this.getListSymbol().forEach(function(t){t.initPosStartGame(),t.checkItemFront()})},e.prototype.getListRandomResult=function(){var t=[];if(0==this.index||5==this.index)for(var e=0;e<this.sizeSymbol;e++)t.push(this.getRandomResult());else{t.push(this.getRandomResult());var n=this.getRandomResult();t.push(n);for(var o=n.getInt("size");o<5;)o+(n=this.getRandomResult(p.Windown.RandomNumber(1,6-o))).getInt("size")<=5&&(o+=n.getInt("size"),t.push(n));for(e=t.length;e<this.sizeSymbol;e++)t.push(this.getRandomResult())}return t},e.prototype.activeNodeNearWin=function(){p.Windown.RungRam.activeMask(!0),p.Windown.RungRam.activeMask(!1,6==this.sizeSymbol?6:this.index),null==this.nodeEffNearWin&&(this.nodeEffNearWin=p.Windown.RungRam.asset.getNearWin(),this.nodeEffNearWin.parent=p.Windown.RungRam.parentEffect,this.nodeEffNearWin.setPosition(p.Windown.convertNodeInOtherNode(this.node,p.Windown.RungRam.parentEffect))),this.nodeEffNearWin.opacity=255,this.nodeEffNearWin.active=!0,p.Windown.RungRam.infoBar.showOneMoreScater(),p.Windown.RungRam.audio.playEffect(p.Windown.RungRam.audio.fastspin)},e.prototype.offNearWin=function(){var t=this;p.Windown.RungRam.activeMask(!0,6==this.sizeSymbol?6:this.index),this.nodeEffNearWin&&(this.nodeEffNearWin.stopAllActions(),this.nodeEffNearWin.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.nodeEffNearWin.active=!1})))),5==this.index&&(p.Windown.RungRam.activeMask(!1),p.Windown.RungRam.infoBar.offOneMoreScater(),p.Windown.RungRam.infoBar.showRdContent())},e.prototype.setResult=function(t){this.result=t,this.resultTemp=t.slice(),this.indexMaxWild=this.resultTemp.length},e.prototype.checkAndRemoveItem=function(t,e){var n=!1,o=this.getListSymbol().slice(1,this.result.length+1);6==this.sizeSymbol&&(o.reverse(),o=o.slice(0,e+1)),6==this.sizeSymbol&&o.reverse();for(var i=0;i<o.length;i++)o[i].result-1!=t&&12!=o[i].result||(0==o[i].typeItem?(o[i].removeItem(),this.result[i]=null):(o[i].effectRemoveItem(),o[i].isShuff=!0),n=!0);n&&(this.result=this.result.filter(function(t){return null!=t}))},e.prototype.checkItemWin=function(t,e){this.getListSymbol();var n=this.getListSymbol().slice(1,this.result.length+1);6==this.sizeSymbol&&(n.reverse(),n=n.slice(0,e+1));for(var o=0,i=n;o<i.length;o++){var r=i[o];r.result-1!=t&&12!=r.result||r.takeItem()}},e.prototype.addNewListSymbol=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,c,l,d,f,y,g;return a(this,function(a){switch(a.label){case 0:for(a.trys.push([0,4,,5]),p.Windown.RungRam.stateSpin.curentCountScater,(e=this.result.slice()).reverse(),this.setResult(t),o=this.result.length-e.length,e.length=this.result.length,e.reverse(),i=this.getListSymbol(),r=i[0],s=0;s<o;s++)(c=p.Windown.RungRam.asset.getSymbol()).x=0,this.parentItem.addChild(c,0),c.setSiblingIndex(0),y=c.getComponent(h.default),6==this.sizeSymbol?y.isVectical=!1:y.isVectical=!0,y.setItemColum(this),this.getListSymbol().unshift(y);for(l=this.getListSymbol(),d=[],l[0].setResult(this.getRandomResult()),this.result.forEach(function(t,e){var n=l[e+1];t.getInt("typeItem")!=n.typeItem&&n.isShuff?d.push(n.actionRandomNewResultNextKhung(t.getInt("idItem"))):n.setResult(t)}),r.node.y=r.node.height/2,f=r.getIndexOf()-1;f>=0;)(y=l[f]).node.y=r.node.y+r.node.height/2+y.node.height/2,r=y,f--;return[4,Promise.all(d)];case 1:return a.sent(),d.length<1?[4,p.Windown.RungRam.getMakeDelay(.9).prosime]:[3,3];case 2:a.sent(),a.label=3;case 3:return n(null),[3,5];case 4:return g=a.sent(),u.Util.ThrowErrProsime(g),[3,5];case 5:return[2]}})})})},e.prototype.getSymbol=function(){return p.Windown.RungRam.asset.getSymbol()},e.prototype.checkIsNorSap=function(){var t=this.getListSymbol().filter(function(t){return t.checkIsInView()}),e=0;return t.forEach(function(t){e+=t.sizeItem}),this.sizeSymbol-2-e>0},e.prototype.moveAllSymbol=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,c,l,h,d,f,y,g,m,v,S,b,w;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,10,,11]),e=p.Windown.RungRam.stateSpin.curentCountScater>2&&!p.Windown.RungRam.stateSpin.isMaxSpeed,o=e||p.Windown.RungRam.stateSpin.isMaxSpeed?0:.05*p.Windown.RandomNumber(0,5),i=p.Windown.RungRam.stateSpin.isMaxSpeed?3:1,[4,p.Windown.RungRam.getMakeDelay(.2+o).prosime];case 1:if(a.sent(),(r=this.getListSymbol()).forEach(function(t){t.offItem()}),(s=r.filter(function(t){return t.checkIsInView()})).reverse(),s[s.length-1],s.length>0)for(c=s[0],l=-c.size.height*(this.sizeSymbol-2)+c.node.height/2,h=function(t,e){var n=s[t],o=n.node;if(Math.abs(l-o.y)>2){var r=cc.moveTo(.25/i,o.x,l).easing(cc.easeSineIn()),a=cc.sequence(cc.moveBy(.04,0,15).easing(cc.easeSineOut()),cc.moveBy(.04,0,-15).easing(cc.easeSineIn()),cc.callFunc(function(){n.effectSpawnSymbol()}));o.runAction(cc.sequence(r,cc.callFunc(function(){n.isSmoke&&n.showSmoke(),p.Windown.RungRam.audio.playSymCollapse()}),a))}else n.isShuff&&n.effectSpawnSymbol();t<e-1&&(l=l+o.height/2+s[t+1].node.height/2)},d=0,f=s.length;d<f;d++)h(d,f);return y=0,s.forEach(function(t){y+=t.sizeItem}),g=this.sizeSymbol-2-y,e?[4,p.Windown.RungRam.getMakeDelay(.4).prosime]:[3,8];case 2:return a.sent(),p.Windown.RungRam.audio.playEffect(p.Windown.RungRam.audio.heartbeatNoise),p.Windown.RungRam.stateSpin.offAllSymbol(!1),s.forEach(function(t){t.effectNearWinScater(!0)}),p.Windown.RungRam.infoBar.showOneMoreScater(),g>0?[4,p.Windown.RungRam.getMakeDelay(3).prosime]:[3,5];case 3:return a.sent(),p.Windown.RungRam.activeMask(!1),p.Windown.RungRam.stateSpin.offAllEffectSymbolScater(),[4,p.Windown.RungRam.getMakeDelay(.3+.6*t).prosime];case 4:return a.sent(),[3,7];case 5:return[4,p.Windown.RungRam.getMakeDelay(3.5).prosime];case 6:a.sent(),a.label=7;case 7:s.forEach(function(t){t.removeAddScater()}),a.label=8;case 8:return e&&g>0&&!p.Windown.RungRam.stateSpin.isMaxSpeed&&p.Windown.RungRam.audio.playEffectNoStop(p.Windown.RungRam.audio.heartbeatSlowdrop),m=[],v=r,S=r[0].node.height/2,b=!0,v.forEach(function(t,e){var n=r[e],o=n.node;!s.includes(n)&&Math.abs(S-o.y)>1&&m.push(new Promise(function(t){var s=cc.moveTo(.25/i,o.x,S).easing(cc.easeSineIn()),a=cc.sequence(cc.moveBy(.04,0,15).easing(cc.easeSineOut()),cc.moveBy(.04,0,-15).easing(cc.easeSineIn()),cc.callFunc(function(){t(null),r[e].effectSpawnSymbol()}));o.runAction(cc.sequence(s,cc.callFunc(function(){p.Windown.RungRam.audio.playSymCollapse(),n.isSmoke&&n.showSmoke(),b&&(p.Windown.RungRam.stateSpin.effectDropScater(),b=!1)}),a))})),e<v.length-1&&(S=S-o.height/2-r[e+1].node.height/2)}),[4,Promise.all(m)];case 9:return a.sent(),this.reSetResultColum(),n(null),[3,11];case 10:return w=a.sent(),u.Util.ThrowErrProsime(w),[3,11];case 11:return[2]}})})})},e.prototype.reset=function(){},e.prototype.runSpin=function(){this.stateWhel=c.default.RUN,this.getListSymbol().forEach(function(t){t.runSpin()})},e.prototype.stopSpin=function(t,e){var n=this;return new Promise(function(o,i){return s(n,void 0,void 0,function(){var n;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,6,,7]),this.listProSkip=[],this.setResult(e),this.funReject=i,this.isScater=t,this.resolve=o,t?[3,2]:(this.listProSkip.push(p.Windown.RungRam.getMakeDelay(.07)),[4,this.listProSkip[this.listProSkip.length-1].prosime]);case 1:r.sent(),o(null),r.label=2;case 2:return t?(this.activeNodeNearWin(),this.runSlowDownActicon(),this.listProSkip.push(p.Windown.RungRam.getMakeDelay(1.1)),[4,this.listProSkip[this.listProSkip.length-1].prosime]):[3,4];case 3:return r.sent(),this.stateWhel=c.default.SHOW_EFFECT,[3,5];case 4:this.stateWhel=c.default.STOP,this.recaculateSpeedSpin(!1),r.label=5;case 5:return[3,7];case 6:return n=r.sent(),u.Util.ThrowErrProsime(n),[3,7];case 7:return[2]}})})})},e.prototype.forceStopSpin=function(t,e){return this.listProSkip.forEach(function(t){t.cancle(!1)}),this.funReject&&this.funReject(),t&&(this.offNearWin(),p.Windown.RungRam.audio.stopEffect(p.Windown.RungRam.audio.fastspin),this.isMoveSlowDown=!1),this.stopSpinIsFastSpin(t,e)},e.prototype.stopSpinIsFastSpin=function(t,e){var n=this;return new Promise(function(t){n.stateWhel!=c.default.SHOW_EFFECT?(n.setResult(e),n.stateWhel=c.default.SHOW_EFFECT,n.parentItem.stopAllActions(),n.parentItem.y=n.node.height/2,n.reSetResultColum(),n.sizeSymbol>6&&(p.Windown.RungRam.audio.playStopAudio(),n.index>=1&&n.index<=4?p.Windown.RungRam.updateNewTotalLine(n.result.length+1):p.Windown.RungRam.updateNewTotalLine(n.result.length)),n.isMoveSlowDown=!1,n.parentItem.y+=20,n.parentItem.runAction(cc.sequence(cc.moveBy(.04,0,-20).easing(cc.easeSineOut()),cc.callFunc(function(){n.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()}),t(null)})))):t(null)})},e.prototype.recaculateSpeedSpin=function(t){var e=this.getListSymbol(),n=e[0].node.y,o=-this.node.height-e[0].node.height/2,i=Math.abs(o-n),r=.28;t&&(r=2),e.forEach(function(t){t.stopSpin(cc.moveBy(r,0,-i))})},e.prototype.errSpin=function(){},e.prototype.reSetResultColum=function(){var t=this.getListSymbol();if(t.length>this.sizeSymbol)for(;t.length>this.sizeSymbol;)p.Windown.RungRam.asset.putSymbol(t[t.length-1].node),t.pop();else if(t.length<this.sizeSymbol)for(var e=t.length;e<this.sizeSymbol;e++){var n=this.getSymbol();this.parentItem.addChild(n);var o=n.getComponent(h.default);6==this.sizeSymbol?o.isVectical=!1:o.isVectical=!0,o.setItemColum(this),t.push(o)}this.result.forEach(function(e,n){t[n+1].setResult(e)}),e=this.result.length+1;for(var i=t.length;e<i;e++)t[e].setResult(t[e].objSFS);t.forEach(function(t){t.canRun=!1,t.node.stopAllActions(),t.initPosStartGame()})},e.prototype.effStopSpin=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){try{if(this.stateWhel==c.default.SHOW_EFFECT)return[2];this.stateWhel=c.default.SHOW_EFFECT,this.parentItem.stopAllActions(),this.parentItem.y=this.node.height/2,this.reSetResultColum(),this.sizeSymbol>6&&(p.Windown.RungRam.audio.playStopAudio(),this.index>=1&&this.index<=4?p.Windown.RungRam.updateNewTotalLine(this.result.length+1):p.Windown.RungRam.updateNewTotalLine(this.result.length)),this.funReject=null,this.isMoveSlowDown=!1,this.isScater?(this.offNearWin(),this.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()}),this.resolve&&this.resolve(null)):this.parentItem.runAction(cc.sequence(cc.moveBy(.04,0,10).easing(cc.easeSineOut()),cc.moveBy(.04,0,-10).easing(cc.easeSineIn()),cc.callFunc(function(){t.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()})})))}catch(e){u.Util.ThrowErrProsime(e)}return[2]})})},e.prototype.getIdSymbolResult=function(){return this.stateWhel==c.default.STOP&&this.resultTemp.pop()||this.getRandomResult()},e.prototype.checkLastSymbol=function(t){var e=this.getListSymbol();return e[e.length-1]==t},e.prototype.getRandomResult=function(t){0!=this.index&&5!=this.index||(t=1);var e=null;return e=l.ConectManager.getIns().getSFSObj(),t?(e.putInt("size",t),t>1?e.putInt("idItem",p.Windown.RandomNumber(0,12)):e.putInt("idItem",p.Windown.RandomNumber(0,13))):(e.putInt("idItem",p.Windown.RandomNumber(0,13)),e.getInt("idItem")<12?(p.Windown.RandomNumber(0,100),e.putInt("size",p.Windown.RandomNumber(1,5))):e.putInt("size",1)),1==e.getInt("size")||11==e.getInt("idItem")?e.putInt("typeItem",0):e.putInt("typeItem",p.Windown.RandomNumber(0,3)),e},e.prototype.checkParentItem=function(){},e.prototype.runSlowDownActicon=function(){this.getListSymbol().forEach(function(t){t.node.stopAllActions()}),this.isMoveSlowDown=!0,this.deltaSlowDown=6e3},e.prototype.update=function(t){var e=this;this.isMoveSlowDown&&(this.getListSymbol().forEach(function(n){n.node.y-=t*e.deltaSlowDown}),this.deltaSlowDown>500?this.deltaSlowDown-=1800*t:this.deltaSlowDown<1e3&&(this.stateWhel=c.default.STOP,this.isMoveSlowDown=!1,this.recaculateSpeedSpin(!0)))},r([y(cc.Node)],e.prototype,"parentItem",void 0),r([y(cc.Integer)],e.prototype,"sizeSymbol",void 0),r([f],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./SymbolRungRam":"SymbolRungRam"}],ItemSlotTruTien:[function(t,e,n){"use strict";cc._RF.push(e,"69a2bPXxmdK8bTyBzsX7Ctt","ItemSlotTruTien");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentBlur=null,e.aniBlur=null,e.parentItem=null,e.listSpItem=null,e.stateSpin=0,e.funReject=null,e.stateWhel=0,e.result=[],e.listIconEff=[],e.nodeEffNearWin=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.randomFirtGame=function(){for(var t=[],e=0;e<3;e++)t.push(s.Windown.RandomNumber(0,10));this.setResult(t)},e.prototype.setIsResult=function(){var t=this.parentItem.children;t[3].active=!1,t[4].active=!1},e.prototype.activeNodeNearWin=function(){null==this.nodeEffNearWin&&(this.nodeEffNearWin=s.Windown.TruTien.asset.getNearWin(),this.nodeEffNearWin.parent=s.Windown.TruTien.parentItem,this.nodeEffNearWin.setPosition(this.node.x,-230)),this.nodeEffNearWin.active=!0;for(var t=s.Windown.TruTien.listColum,e=0;e<t.length-1;e++)t[e].offAllItemNoScater();s.Windown.TruTien.audio.playEffect(s.Windown.TruTien.audio.showScater)},e.prototype.offNearWin=function(){this.nodeEffNearWin&&(this.nodeEffNearWin.active=!1);for(var t=s.Windown.TruTien.listColum,e=0;e<t.length-1;e++)t[e].activeAllItemNoScater();s.Windown.TruTien.audio.stopEffect(s.Windown.TruTien.audio.showScater)},e.prototype.setResult=function(t){this.result=t;for(var e=this.getListItemSp(),n=0,o=e.length;n<o;n++){var i=e[n].getComponentInChildren(sp.Skeleton),r=e[n].getComponentInChildren(cc.Sprite),a=t[n];i.node.active=!(a<5),s.Windown.TruTien.lastFreeSpinLeft>0&&8==a&&(a=9),i.skeletonData=s.Windown.TruTien.asset.listSpItem[a],r.spriteFrame=s.Windown.TruTien.asset.listSFItem[a],a<5||(i.clearTracks(),i.setAnimation(0,"idle",!0))}},e.prototype.activeItem=function(t,e){var n=this;void 0===e&&(e=!1);var o=this.getListItemSp();t.forEach(function(t){var i=o[t].getComponentInChildren(sp.Skeleton);i.node.active=!0,i.setAnimation(0,"active",!0),n.playAniActive(t,e)})},e.prototype.checkActiveItemWhenStop=function(){for(var t=this.getListItemSp(),e=0;e<this.result.length;e++)if(this.result[e]>4){var n=t[e].getComponentInChildren(sp.Skeleton);n.setAnimation(0,"active",!1),n.addAnimation(0,"idle",!0)}},e.prototype.offAllItem=function(){this.getListItemSp().forEach(function(t){t.children[0].color=cc.Color.GRAY,t.children[1].active=!1}),this.listIconEff.forEach(function(t){s.Windown.TruTien.asset.putIconEf(t)}),this.listIconEff=[]},e.prototype.showFLyScaster=function(){var t=-1;for(var e in this.result)8==this.result[e]&&(t=parseInt(e));if(-1!=t){var n=s.Windown.TruTien.asset.getFlyScater();n.parent=s.Windown.TruTien.effect.node,n.setPosition(this.getPointItem(t,n.parent));var o=cc.v2(7,222),i=o.clone().subSelf(n.getPosition()),r=180*Math.atan2(i.x,i.y)/Math.PI;n.angle=-r;var a=n.getComponent(sp.Skeleton);a.setAnimation(0,"fly_scatter",!0),s.Windown.TruTien.audio.playEffect(s.Windown.TruTien.audio.scaterFly),n.runAction(cc.sequence(cc.moveTo(1,o),cc.callFunc(function(){s.Windown.TruTien.audio.playEffect(s.Windown.TruTien.audio.scaterDisapear),a.setAnimation(0,"fade_out_scatter",!1),a.setCompleteListener(function(){a.setCompleteListener(null),n.destroy()})})))}},e.prototype.offAllItemNoScater=function(){for(var t=this.getListItemSp(),e=0;e<t.length;e++)if(8!=this.result[e]){var n=t[e];n.children[0].color=cc.Color.GRAY,n.children[1].color=cc.Color.GRAY}},e.prototype.activeAllItemNoScater=function(){for(var t=this.getListItemSp(),e=0;e<t.length;e++)if(8!=this.result[e]){var n=t[e];n.children[0].color=cc.Color.WHITE,n.children[1].color=cc.Color.WHITE}},e.prototype.reset=function(){for(var t=this.result,e=this.getListItemSp(),n=0,o=e.length;n<o;n++){var i=e[n].getComponentInChildren(sp.Skeleton);e[n].getComponentInChildren(cc.Sprite).node.color=cc.Color.WHITE,t[n]<5?i.node.active=!1:(i.node.active=!0,i.clearTracks(),i.setAnimation(0,"idle",!0))}this.listIconEff.forEach(function(t){s.Windown.TruTien.asset.putIconEf(t)}),this.listIconEff=[]},e.prototype.playAniActive=function(t,e){void 0===e&&(e=!1);var n=s.Windown.TruTien.asset.getIconEf();n.parent=s.Windown.TruTien.parentItem,n.setPosition(this.getPointItem(t,s.Windown.TruTien.parentItem)),this.listIconEff.push(n);var o=n.getComponent(sp.Skeleton);e?(o.setAnimation(0,"idle",!1),o.addAnimation(0,"idle_info",!0)):o.setAnimation(0,"tap",!1)},e.prototype.getPointItem=function(t,e){var n=this.getListItemSp()[t],o=n.parent.convertToWorldSpaceAR(n.getPosition());return e.convertToNodeSpaceAR(o)},e.prototype.getListItemSp=function(){if(null!=this.listSpItem)return this.listSpItem;this.listSpItem=[];for(var t=this.parentItem.children,e=0;e<3;e++)this.listSpItem.push(t[e]);return this.listSpItem},e.prototype.runSpin=function(){var t=this;this.randomBlur();var e=cc.moveBy(.08,0,40).easing(cc.easeSineOut()),n=cc.moveBy(.1,0,-180),o=cc.callFunc(function(){t.parentBlur.active=!0,t.aniBlur.play("ItemBlur"),t.parentBlur.y=815,t.node.y=0,t.parentItem.active=!1});this.node.stopAllActions(),this.node.runAction(cc.sequence(e,n,o)),this.stateWhel=1},e.prototype.stopEndGame=function(){this.stateWhel=4,this.node.y=0,this.parentItem.active=!0,this.parentBlur.active=!1,this.node.stopAllActions(),this.funReject&&this.funReject()},e.prototype.stopSpin=function(t){var e=this;return new Promise(function(n,o){e.funReject=o;var i=cc.callFunc(function(){e.stateWhel=4,e.node.y=0,e.parentItem.active=!0,e.parentBlur.active=!1,s.Windown.TruTien.audio.playEffect(s.Windown.TruTien.audio.reelStop)}),r=(s.Windown.TruTien.isMaxSpeed,cc.moveBy(.12,0,-60).easing(cc.easeSineOut())),a=cc.moveBy(.12,0,60).easing(cc.easeSineIn()),c=cc.callFunc(function(){e.funReject=null,n(null),e.checkActiveItemWhenStop(),e.result.includes(8)&&s.Windown.TruTien.audio.playEffect(s.Windown.TruTien.audio.iconScater)});e.node.stopAllActions(),t&&!s.Windown.TruTien.isMaxSpeed?(e.activeNodeNearWin(),e.node.runAction(cc.sequence(cc.delayTime(3.3),i,r,cc.callFunc(e.offNearWin,e),a,c))):e.node.runAction(cc.sequence(i,r,a,c))})},e.prototype.forceStopSpin=function(){var t=this;if(this.funReject&&(this.funReject(null),this.funReject=null),1==this.stateWhel){var e=cc.callFunc(function(){t.stateWhel=4,t.node.y=0,t.parentItem.active=!0,t.parentBlur.active=!1,s.Windown.TruTien.audio.playEffect(s.Windown.TruTien.audio.reelStop)}),n=(s.Windown.TruTien.isMaxSpeed,cc.moveBy(.12,0,-60).easing(cc.easeSineOut())),o=cc.moveBy(.12,0,60).easing(cc.easeSineIn()),i=cc.callFunc(function(){t.funReject=null,t.checkActiveItemWhenStop()});this.offNearWin(),this.node.stopAllActions(),this.node.runAction(cc.sequence(e,n,o,i))}},e.prototype.randomBlur=function(){var t=this.parentItem.children,e=t[3],n=t[4],o=s.Windown.RandomNumber(0,10),i=s.Windown.RandomNumber(0,10);e.getComponentInChildren(sp.Skeleton).skeletonData=s.Windown.TruTien.asset.listSpItem[o],n.getComponentInChildren(sp.Skeleton).skeletonData=s.Windown.TruTien.asset.listSpItem[i];var r=this.parentBlur.getComponentsInChildren(cc.Sprite),a=r.length;r[6].spriteFrame=s.Windown.TruTien.asset.listSpItemBlur[o],r[7].spriteFrame=s.Windown.TruTien.asset.listSpItemBlur[this.result[0]],r[8].spriteFrame=s.Windown.TruTien.asset.listSpItemBlur[this.result[1]];for(var c=0;c<a-3;c++){var l=s.Windown.RandomNumber(0,10);r[c].spriteFrame=s.Windown.TruTien.asset.listSpItemBlur[l]}},e.prototype.loopBlur=function(){for(var t=this.parentBlur.getComponentsInChildren(cc.Sprite),e=t.length,n=e-3;n<e;n++)t[n].spriteFrame=t[n-e+3].spriteFrame;for(n=0;n<e-3;n++){var o=s.Windown.RandomNumber(0,10);t[n].spriteFrame=s.Windown.TruTien.asset.listSpItemBlur[o]}},r([l(cc.Node)],e.prototype,"parentBlur",void 0),r([l(cc.Animation)],e.prototype,"aniBlur",void 0),r([l(cc.Node)],e.prototype,"parentItem",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],ItemSpin:[function(t,e){"use strict";cc._RF.push(e,"94a8bT/IL5HY52rh2w5C0Rh","ItemSpin"),cc.Class({extends:cc.Component,properties:{imgType:cc.Node,imgTypeXDV:cc.Node},onLoad:function(){this.onEvent()},onEvent:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onClick,this)},offEvent:function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onClick,this)},onClick:function(){Global.GenData.viewInfoSesion(this.data,this.node)},init:function(t){this.data=t;for(var e=t.modelByClient,n=e.green+e.red+e.yello,o=0,i=e.listBetItem.length;o<i;o++)n+=e.listBetItem[o];Global.GenData.moneyCurrent-=n;var r=t.modelMakebet,s=r.makeBetNormal,a=r.makebetXDV,c=r.makeBetAnTruoc,l=s.objReviceFirtItem.moneyRevice;l+=c.moneyRevice;for(var u=0,p=s.ListObjReviceSub.length;u<p;u++)l+=s.ListObjReviceSub[u].moneyRevice;l+=a.reviceXanh,l+=a.reviceDo,l+=a.reviceVang,Global.GenData.moneyCurrent+=l,this.data.moneyPlayer=Global.GenData.moneyCurrent;var h=Global.GenData.getPosByMoneyAndSpinCount(t.moneyPlayer,this.data.idSpin+1);this.node.position=h,Global.GenData.drawLine(h),this.setColorType(s.typeSpecial),this.setColorTypeXDV(a.typeSpecial)},setColorType:function(t){switch(t){case 1:case 2:case 3:case 4:case 5:this.imgType.color=cc.Color.YELLOW;break;case 6:case 8:case 11:case 12:case 9:case 10:case 13:case 7:this.imgType.color=cc.Color.GREEN;break;case 14:this.imgType.color=cc.Color.RED;break;default:this.imgType.color=cc.Color.WHITE}},setColorTypeXDV:function(t){switch(t){case 1:case 2:this.imgTypeXDV.color=cc.Color.RED;break;case 3:this.imgTypeXDV.color=cc.Color.YELLOW;break;case 4:this.imgTypeXDV.color=cc.Color.GREEN;break;default:this.imgTypeXDV.color=cc.Color.WHITE}}}),cc._RF.pop()},{}],ItemSuKien:[function(t,e,n){"use strict";cc._RF.push(e,"9df80VAf9BL4oz3AaoKk0AR","ItemSuKien");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbStt=null,e.lbInfo=null,e.bg=null,e.spr=null,e.listSf=[],e.objInfo=null,e}return i(e,t),e.prototype.init=function(t){cc.log(s.Windown.SFSObjToJson(t)),this.objInfo=t,this.lbStt.string=t.getInt("index").toString(),this.lbInfo.string=t.getUtfString("tenSuKien")},e.prototype.onClick=function(){s.Windown.SuKien.tabSuKien.showInfo(this.objInfo)},r([l(cc.Label)],e.prototype,"lbStt",void 0),r([l(cc.Label)],e.prototype,"lbInfo",void 0),r([l(cc.Sprite)],e.prototype,"bg",void 0),r([l(cc.Sprite)],e.prototype,"spr",void 0),r([l([cc.SpriteFrame])],e.prototype,"listSf",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Windown":"Windown"}],ItemTangCap:[function(t,e,n){"use strict";cc._RF.push(e,"4ca18rI7gRItKH1mkIJ6FRx","ItemTangCap");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),cc.Enum({MONEY:0,ICE:1,SPEED:2,TARGET:3});var s=t("../../Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listSp=[],e.spItem=null,e.lbAmount=null,e}return i(e,t),e.prototype.initItem=function(t){var e=t.getInt("Type"),n=t.getInt("Value"),o=t.getInt("index");this.spItem.spriteFrame=this.getSFbyType(e),this.lbAmount.string=s.Windown.formatNumber(n),cc.Tween.stopAllByTarget(this.node),this.node.scale=2,this.node.opacity=0,cc.tween(this.node).delay(.5*o).to(1,{scale:1,opacity:255},{easing:"expoIn"}).start()},e.prototype.getSFbyType=function(t){return t<100?(4==t&&(t=7),this.listSp[t]):200==t?this.listSp[4]:1e3==t?this.listSp[6]:1001==t?this.listSp[5]:void 0},r([l([cc.SpriteFrame])],e.prototype,"listSp",void 0),r([l(cc.Sprite)],e.prototype,"spItem",void 0),r([l(cc.Label)],e.prototype,"lbAmount",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Windown":"Windown"}],ItemTopTx:[function(t,e,n){"use strict";cc._RF.push(e,"b276c7Z0cpB2resRj2n2r/Y","ItemTopTx");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),t("../../../Scritps/DefineTs/REQUEST_CODE"),t("../../../Scritps/Network/ConectManager");var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.idPlayer=null,e}return i(e,t),e.prototype.initItem=function(t){var e=this.getComponentsInChildren(cc.Label);e[1].string=t.get("nickname"),e[1].string.length>12&&(e[1].string=e[1].string.slice(0,10)+"..."),e[2].string=s.Windown.formatNumber(t.get("agWin"),!1);var n=cc.find("Mask/ava",this.node).getComponent(cc.Sprite);this.idPlayer=t.get("iduser"),s.Windown.updateAvatar(t,n)},e.prototype.start=function(){},e.prototype.onDestroy=function(){},e.prototype.onClick=function(){},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Windown":"Windown"}],ItemWinDetailHistory:[function(t,e,n){"use strict";cc._RF.push(e,"c1a21Zm915LrL3n5xqwTL4U","ItemWinDetailHistory");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprIcon=null,e.lbConsecutive=null,e.lbWin=null,e.lbDirectionWin=null,e.iconAtlas=[],e.payTable={0:{3:6,4:8,5:10,6:12},1:{3:6,4:8,5:10,6:12},2:{3:6,4:8,5:10,6:12},3:{3:6,4:10,5:12,6:15},4:{3:6,4:10,5:12,6:15},5:{3:6,4:10,5:12,6:15},6:{3:10,4:12,5:18,6:20},7:{3:10,4:12,5:18,6:20},8:{3:15,4:20,5:25,6:30},9:{3:15,4:20,5:25,6:30}},e}return i(e,t),e.prototype.start=function(){},e.prototype.setInfo=function(t,e,n,o,i){this.sprIcon.spriteFrame=t<11?this.iconAtlas[0].getSpriteFrame(t.toString()):this.iconAtlas[1].getSpriteFrame(t.toString()),this.lbConsecutive.string=this.getLbConsecutive(e),this.lbDirectionWin.string=0==o?"T\u1eeb tr\xe1i qua ph\u1ea3i":"T\u1eeb ph\u1ea3i qua tr\xe1i",this.lbWin.string="x"+i.join("x")+"x"+this.getMultiplierItemWin(t,e)+"x"+s.Windown.MatTroiView.curRoomBet+"="+s.Windown.formatNumber(n)},e.prototype.getMultiplierItemWin=function(t,e){return t-=1,this.payTable[t.toString()][(e+1).toString()]},e.prototype.getLbConsecutive=function(t){var e="";switch(t){case 2:e="B\u1ed9 ba";break;case 3:e="B\u1ed9 b\u1ed1n";break;case 4:e="B\u1ed9 n\u0103m";break;case 5:e="B\u1ed9 s\xe1u"}return e},r([l(cc.Sprite)],e.prototype,"sprIcon",void 0),r([l(cc.Label)],e.prototype,"lbConsecutive",void 0),r([l(cc.Label)],e.prototype,"lbWin",void 0),r([l(cc.Label)],e.prototype,"lbDirectionWin",void 0),r([l([cc.SpriteAtlas])],e.prototype,"iconAtlas",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],JackpotItem:[function(t,e,n){"use strict";cc._RF.push(e,"1d4ce28IO5Kw4d5hMM57gdA","JackpotItem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Windown"),a=t("./LbMoneyChange"),c=cc._decorator,l=c.ccclass,u=c.property,p=c.requireComponent,h=cc.Enum({FISH:32,THAN_TAI:2,POKER_MINI:43,MINI_SLOT:33,TAIXIU:36}),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.index=0,e.gameType=h.FISH,e.offsetStart=.8,e.per=1,e.isFirt=!0,e.lbMoney=null,e.mapMoneyCachePer=new Map,e}return i(e,t),e.prototype.onLoad=function(){this.lbMoney=this.getComponent(a.default)},e.prototype.onEnable=function(){s.Windown.JackpotManager.dangKyLabel(this),this.emitNewData()},e.prototype.onDisable=function(){s.Windown.JackpotManager.huyDangKyLabel(this)},e.prototype.emitNewData=function(){if(null!=s.Windown.JackpotManager.infoJackpot)if(this.gameType==h.FISH){var t="fish"+this.index,e=s.Windown.JackpotManager.infoJackpot.getLong(t)*this.per;this.updateMoney(e)}else this.gameType==h.POKER_MINI?(t="Mini"+this.index,e=s.Windown.JackpotManager.infoJackpot.get(t)*this.per,this.updateMoney(e)):this.gameType==h.MINI_SLOT?(t="SlotMini"+this.index,e=s.Windown.JackpotManager.infoJackpot.get(t)*this.per,this.updateMoney(e)):this.gameType==h.TAIXIU&&(t="huTX",e=s.Windown.JackpotManager.infoJackpot.get(t)*this.per,this.updateMoney(e))},e.prototype.changeIndex=function(t){this.index=t,this.changePer(this.per)},e.prototype.reset=function(){this.mapMoneyCachePer.clear(),this.lbMoney._currentMonney=0,this.lbMoney.resetLb(),this.isFirt=!0},e.prototype.changePer=function(t){this.mapMoneyCachePer.set(this.per,this.lbMoney._currentMonney);var e=this.mapMoneyCachePer.get(t);cc.log(e),null==e?this.isFirt=!0:this.lbMoney._currentMonney=e,this.per=t,this.emitNewData()},e.prototype.updateMoney=function(t){this.isFirt&&(this.lbMoney._currentMonney=t*this.offsetStart,this.isFirt=!1),this.lbMoney.setMoney(t)},r([u(cc.Integer)],e.prototype,"index",void 0),r([u({type:h})],e.prototype,"gameType",void 0),r([u(cc.Float)],e.prototype,"offsetStart",void 0),r([u(cc.Float)],e.prototype,"per",void 0),r([l,p(a.default)],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../Windown":"Windown","./LbMoneyChange":"LbMoneyChange"}],JackpotManager:[function(t,e,n){"use strict";cc._RF.push(e,"469caVIbu1HUKB3G7sYjDY8","JackpotManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.infoJackpot=null,e.listItems=[],e.timeRunJackpot=5,e.timeRequestjackpot=5,e}return i(e,t),e.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node),s.Windown.JackpotManager=this},e.prototype.onDestroy=function(){s.Windown.JackpotManager=this},e.prototype.start=function(){},e.prototype.reviceData=function(t){this.infoJackpot=t,this.listItems.forEach(function(t){t.emitNewData()}),t.containsKey("huTX")&&(s.Windown.JackpotTX=t.get("huTX"),null!=s.Windown.MainView&&s.Windown.MainView.node.active&&(s.Windown.MainView.lbJackpotTX.string=s.Windown.formatNumber(t.get("huTX"))))},e.prototype.sendGetJackpot=function(){},e.prototype.dangKyLabel=function(t){this.listItems.includes(t)||this.listItems.push(t)},e.prototype.huyDangKyLabel=function(t){var e=this.listItems.indexOf(t);e>-1&&this.listItems.splice(e,1)},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../Windown":"Windown"}],JsonOb:[function(t,e,n){"use strict";cc._RF.push(e,"923404WNGhO26uVc8JpsOGk","JsonOb"),Object.defineProperty(n,"__esModule",{value:!0}),n.JsonOb=void 0;var o=Object.prototype,i={obj:"[object Object]",array:"[object Array]"},r=["push","pop","shift","unshift","sort","reverse","splice"],s=function(){function t(t,e){o.toString.call(t)!==i.obj&&o.toString.call(t)!==i.array&&console.error("Vui l\xf2ng chuy\u1ec3n v\xe0o m\u1ed9t \u0111\u1ed1i t\u01b0\u1ee3ng ho\u1eb7c m\u1ea3ng"),this._callback=e,this.observe(t)}return t.prototype.observe=function(t,e){var n=this;o.toString.call(t)===i.array&&this.overrideArrayProto(t,e),Object.keys(t).forEach(function(r){var s=n,a=t[r],c=e&&e.slice();c?c.push(r):c=[r],Object.defineProperty(t,r,{get:function(){return a},set:function(t){a!==t&&("[object Object]"===o.toString.call(t)&&s.observe(t,c),s._callback(t,a,c),a=t)}}),o.toString.call(t[r])!==i.obj&&o.toString.call(t[r])!==i.array||n.observe(t[r],c)},this)},t.prototype.overrideArrayProto=function(t,e){var n,o=Array.prototype,i=Object.create(Array.prototype),s=this;r.forEach(function(t){Object.defineProperty(i,t,{value:function(){var i=this.slice();return n=o[t].apply(this,arguments),s.observe(this,e),s._callback(this,i,e),n}})}),t.__proto__=i},t}();n.JsonOb=s,cc._RF.pop()},{}],KingKongAssets:[function(t,e,n){"use strict";cc._RF.push(e,"8b53aSiKNFKALQs4ThC+Zez","KingKongAssets");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./KingKongSymbol"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbol=null,e.symbolAtlas=null,e.paylineAtlas=null,e.nodeNFS=null,e.symbolScatter=null,e.evenBall=null,e.assetParent=null,e}var n;return i(e,t),n=e,e.prototype.onLoad=function(){n.instance=this},e.prototype.start=function(){},e.prototype.onDestroy=function(){n.instance=null},e.instance=null,r([l(s.default)],e.prototype,"symbol",void 0),r([l(cc.SpriteAtlas)],e.prototype,"symbolAtlas",void 0),r([l(cc.SpriteAtlas)],e.prototype,"paylineAtlas",void 0),r([l(cc.Node)],e.prototype,"nodeNFS",void 0),r([l(cc.Node)],e.prototype,"symbolScatter",void 0),r([l(cc.Node)],e.prototype,"evenBall",void 0),r([l(cc.Node)],e.prototype,"assetParent",void 0),n=r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./KingKongSymbol":"KingKongSymbol"}],KingKongAudio:[function(t,e,n){"use strict";cc._RF.push(e,"04779T1u/ZBiIwn/wZl2yft","KingKongAudio");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Parent/AudioManager"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click=null,e.fsSpin=null,e.bgm_fs=null,e.SE_BigWin=null,e.SE_FreeSpinEnd=null,e.SE_ReelSpeedUp=null,e.SE_Scoring_01=null,e.SE_ScoringEnd=null,e.SE_Base_Hit=[],e}return i(e,t),e.prototype.start=function(){},e.prototype.playClick=function(){this.playEffect(this.click)},e.prototype.playMusic=function(){this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.6))},e.prototype.playIndexTakeLine=function(){},e.prototype.playSmalWin=function(){},e.prototype.playBkgfs=function(){this.stopMusic(),this.playEffect(this.fsSpin),this.playEffect(this.bgm_fs,.6,!0)},e.prototype.stopBkgFs=function(){this.stopEffect(this.bgm_fs,!0),this.playMusic()},r([l(cc.AudioClip)],e.prototype,"click",void 0),r([l(cc.AudioClip)],e.prototype,"fsSpin",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_fs",void 0),r([l(cc.AudioClip)],e.prototype,"SE_BigWin",void 0),r([l(cc.AudioClip)],e.prototype,"SE_FreeSpinEnd",void 0),r([l(cc.AudioClip)],e.prototype,"SE_ReelSpeedUp",void 0),r([l(cc.AudioClip)],e.prototype,"SE_Scoring_01",void 0),r([l(cc.AudioClip)],e.prototype,"SE_ScoringEnd",void 0),r([l([cc.AudioClip])],e.prototype,"SE_Base_Hit",void 0),r([c],e)}(s.default);n.default=u,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":"AudioManager"}],KingKongCollum:[function(t,e,n){"use strict";cc._RF.push(e,"16739gUTr5H/K3tjh1AOyFX","KingKongCollum");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Windown"),l=t("./KingKongSymbol"),u=t("./KingKongView"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.collumIndex=0,e.numberSymbol=4,e.listSymbols=[],e.kingKongView=null,e.symbolContainer=null,e.initPos=cc.v2(0,0),e.stepMove=160,e.positionReset=320,e.isStop=!1,e.listIDResult=[],e.spineNFS=null,e.isNeerSpin=!1,e.isChangeSpeedNFS=!1,e.speedNFS=.05,e.nodeNFS=null,e.resolveStop=null,e.isSetDarkForNFS=!1,e}return i(e,t),e.prototype.onLoad=function(){for(var t=0;t<this.numberSymbol;t++){var e=cc.instantiate(this.kingKongView.AssetsKingKong.symbol.node).getComponent(l.default);this.listSymbols.push(e),this.symbolContainer.addChild(e.node),e.node.setPosition(cc.v2(0,this.initPos.y-160*t)),e.node.active=!0,e.collumCtrl=this,e.setRandomSprite(),e.indexSymbol=t}},e.prototype.update=function(){},e.prototype.start=function(){},e.prototype.spinSymbol=function(){var t=this;this.listSymbols.forEach(function(e){t.kingKongView.isTurbo?e.speed=.05:e.speed=.08,e.spin()})},e.prototype.stopCollumCompleted=function(){this.listSymbols.sort(function(t,e){return t.indexSymbol-e.indexSymbol}),4==this.collumIndex&&(this.kingKongView.activeAllSymbol(),this.kingKongView.allCollumStopCompleted()),null!=this.nodeNFS&&(this.nodeNFS.active=!1),null!=this.resolveStop&&(this.resolveStop(),this.resolveStop=null)},e.prototype.activeAllSymbol=function(){this.listSymbols.forEach(function(t){t.sprite.node.color=cc.Color.WHITE})},e.prototype.prepareStop=function(){this.hideNFS(),cc.log("prepareStop---")},e.prototype.Stop=function(t){return s(this,void 0,void 0,function(){var e=this;return a(this,function(){return this.listIDResult=t,[2,new Promise(function(t){e.isNeerSpin?(cc.log("nearFSP:"+e.collumIndex),e.isChangeSpeedNFS=!0,e.showNFS(),e.kingKongView.setDarkForNFS(e),e.scheduleOnce(function(){e.isChangeSpeedNFS=!1,e.isStop=!0,e.resolveStop=t},3.5),e.slowDownSpeed()):(e.isStop=!0,e.scheduleOnce(function(){t(null),c.Windown.KingKong.audio.playEffect(c.Windown.KingKong.audio.SE_Base_Hit[e.collumIndex])},.2))})]})})},e.prototype.showScatter=function(){for(var t=0;t<this.listSymbols.length;t++)12==this.listSymbols[t].id&&this.listSymbols[t].showScatter()},e.prototype.slowDownSpeed=function(t){var e=this;void 0===t&&(t=.5),c.Windown.KingKong.audio.playEffect(c.Windown.KingKong.audio.SE_ReelSpeedUp);var n={a:.05};cc.tween(n).to(3.5,{a:t},{progress:function(t,n,o,i){e.speedNFS=t+(n-t)*i},easing:cc.easing.quadIn}).start()},e.prototype.showSymbolWin=function(t){this.listSymbols[t].showEffectWin()},e.prototype.getSpeedNFS=function(){return this.speedNFS},e.prototype.showNFS=function(){null==this.nodeNFS&&(this.nodeNFS=cc.instantiate(c.Windown.KingKong.AssetsKingKong.nodeNFS),this.nodeNFS.parent=this.node.parent,this.nodeNFS.x=this.node.x,this.nodeNFS.y=this.node.y,c.Windown.KingKong.isFreeSpin?this.nodeNFS.getComponent(cc.Animation).play("NearFreeSpin2"):this.nodeNFS.getComponent(cc.Animation).play("NearFreeSpin")),this.nodeNFS.active=!0},e.prototype.hideNFS=function(){this.spineNFS&&(this.spineNFS.active=!1)},e.prototype.hideAllSymbol=function(t){void 0===t&&(t=-1),this.listSymbols.forEach(function(e){e.sprite.node.color=e.id!=t?cc.Color.GRAY:cc.Color.WHITE,e.hideSpine()})},e.prototype.Reset=function(){this.isStop=!1,this.listIDResult=[],this.listSymbols.forEach(function(t){t.Reset()}),this.isNeerSpin=!1,this.speedNFS=.05,this.isChangeSpeedNFS=!1,this.isSetDarkForNFS=!1},r([d],e.prototype,"collumIndex",void 0),r([d],e.prototype,"numberSymbol",void 0),r([d([l.default])],e.prototype,"listSymbols",void 0),r([d(u.default)],e.prototype,"kingKongView",void 0),r([d(cc.Node)],e.prototype,"symbolContainer",void 0),r([d],e.prototype,"initPos",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../Scritps/Windown":"Windown","./KingKongSymbol":"KingKongSymbol","./KingKongView":"KingKongView"}],KingKongEffect:[function(t,e,n){"use strict";cc._RF.push(e,"41482Sn7CNPf6wQwGNTd1jq","KingKongEffect");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Util"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.effectContainer=null,e.animBigWin=null,e.lbBgWin=null,e.btnConfirm=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.showBigWin=function(t){return s(this,void 0,void 0,function(){var e=this;return a(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e,o=this;return a(this,function(){try{this.effectContainer.active=!0,this.animBigWin.node.parent.getComponentInChildren(dragonBones.ArmatureDisplay).playAnimation("Win_1",1),this.animBigWin.node.parent.active=!0,this.animBigWin.setAnimation(0,"Idle",!1),this.lbBgWin.resetLb(),this.lbBgWin.time=3,this.lbBgWin.callBack=function(){o.btnConfirm.node.active=!0},this.lbBgWin.setMoney(t,!0),this.btnConfirm.node.active=!1,this.btnConfirm.node.off("click"),this.btnConfirm.node.on("click",function(){n(null),o.animBigWin.node.parent.active=!1,o.effectContainer.active=!1}),e=this.animBigWin.node.parent.getChildByName("BigWin_FX"),cc.tween(e).by(2,{angle:-360}).repeatForever().start(),cc.tween(e).set({opacity:150}).to(.5,{opacity:255}).start()}catch(i){l.Util.ThrowErrProsime(i)}return[2]})})})]})})},e.prototype.showStartFS=function(){return s(this,void 0,void 0,function(){return a(this,function(){return[2]})})},e.prototype.showEndFS=function(){return s(this,void 0,void 0,function(){return a(this,function(){return[2]})})},r([h(cc.Node)],e.prototype,"effectContainer",void 0),r([h(sp.Skeleton)],e.prototype,"animBigWin",void 0),r([h(c.default)],e.prototype,"lbBgWin",void 0),r([h(cc.Button)],e.prototype,"btnConfirm",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util"}],KingKongHistoryDetail:[function(t,e,n){"use strict";cc._RF.push(e,"80698mIAQJMvIKQ0wUsF36G","KingKongHistoryDetail");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTitle=null,e.lbTime=null,e.lbBet=null,e.lbWin=null,e.lbMNUser=null,e.parentItem=null,e.itemPayline=null,e.scrItemPayline=null,e.listItem=[],e.isFreeSpin=!1,e.payLine=[],e}return i(e,t),e.prototype.onLoad=function(){for(var t=0;t<this.parentItem.childrenCount;t++){var e=this.parentItem.children[t];this.listItem.push(e.children)}this.payLine=s.Windown.KingKong.payLine},e.prototype.show=function(t){this.node.active=!0,this.node.x=721.812,cc.Tween.stopAllByTarget(this.node),this.node.opacity=0,cc.tween(this.node).to(.2,{x:0,opacity:255},{easing:cc.easing.quadIn}).start();var e=t.get("date"),n=t.get("infolog"),o=JSON.parse(n);this.isFreeSpin=o.freeSpin,this.lbTitle.string=this.isFreeSpin?"QUAY MI\u1ec4N PH\xcd":"QUAY TH\u01af\u1edcNG",this.lbTime.string=s.Windown.formatDate(new Date(e),"dd/MM HH:mm:ss");var i=o.isScarter,r=JSON.parse(o.views),a=0;r.forEach(function(t){t.includes(12)&&a++});for(var c=0;c<5;c++)for(var l=0;l<3;l++){var u=r[c][l];this.listItem[c][l].getComponent(cc.Sprite).spriteFrame=s.Windown.KingKong.AssetsKingKong.symbolAtlas.getSpriteFrame(u.toString()),this.listItem[c][l].color=cc.Color.GRAY,!i&&2!=a||12!=u||(this.listItem[c][l].color=cc.Color.WHITE)}this.lbBet.string=s.Windown.formatNumber(20*o.agBet),this.lbWin.string=s.Windown.formatNumber(o.agWin),this.lbMNUser.string=s.Windown.formatNumber(o.agUser),this.setLineAn(o.listLineWin,r)},e.prototype.onClickClose=function(){var t=this;s.Windown.KingKong.audio.playClick(),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.2,{x:720,opacity:0},{easing:cc.easing.quadOut}).call(function(){t.node.active=!1}).start()},e.prototype.setLineAn=function(t){this.scrItemPayline.content.children.forEach(function(t){t.active=!1});for(var e=0,n=t.length;e<n;e++){t[e].symbol;for(var o=t[e].stack,i=s.Windown.KingKong.payLine[t[e].id-1],r=0;r<o+1;r++)this.listItem[r][i[r]].color=cc.Color.WHITE;var a=this.scrItemPayline.content.children[e];cc.isValid(a)||((a=cc.instantiate(this.scrItemPayline.content.children[0])).parent=this.scrItemPayline.content),a.active=!0,a.getComponentInChildren(cc.Sprite).spriteFrame=s.Windown.KingKong.AssetsKingKong.paylineAtlas.getSpriteFrame("line_"+t[e].id),a.getChildByName("lbWin").getComponent(cc.Label).string="W: "+s.Windown.formatMoney(t[e].agWinLine),a.getChildByName("lbIdLine").getComponent(cc.Label).string=t[e].id+""}},r([l(cc.Label)],e.prototype,"lbTitle",void 0),r([l(cc.Label)],e.prototype,"lbTime",void 0),r([l(cc.Label)],e.prototype,"lbBet",void 0),r([l(cc.Label)],e.prototype,"lbWin",void 0),r([l(cc.Label)],e.prototype,"lbMNUser",void 0),r([l(cc.Node)],e.prototype,"parentItem",void 0),r([l(cc.Node)],e.prototype,"itemPayline",void 0),r([l(cc.ScrollView)],e.prototype,"scrItemPayline",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],KingKongHistory:[function(t,e,n){"use strict";cc._RF.push(e,"6c88flrUh5CK4nF9b9ArS5J","KingKongHistory");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Network/ConectManager"),c=t("../../../Scritps/Popup/PageData/PageData"),l=t("../../../Scritps/Windown"),u=t("./KingKongHistoryDetail"),p=t("./KingKongItemHistory"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.detail=null,e.listData=null,e.maxRow=11,e}return i(e,t),e.prototype.show=function(){this.node.active=!0,this.reset(),this.node.y=-1280,cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.3,{y:0},{easing:cc.easing.quadOut}).start(),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryInCa,null,l.Windown.KingKong.roomSFS),l.Windown.UIManager.showLoading()},e.prototype.start=function(){},e.prototype.reset=function(){this.pageDate.setTotalPage(1),this.pageDate.reset(),this.resetContent()},e.prototype.resetContent=function(){for(var t=this.pageDate.content.children,e=0,n=t.length;e<n;e++)t[e].active=!1},e.prototype.responseServer=function(t){l.Windown.UIManager.hideLoading();var e=t.getSFSArray("history");this.initWithListData(e)},e.prototype.initWithListData=function(t){cc.log("history:"+l.Windown.SFSArrToJson(t)),this.pageDate.content.children;var e=t.size(),n=Math.floor(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var a=n[r];if(i<this.listData.size()){null==a&&(a=cc.instantiate(o),e.addChild(a),a.y=-(r+1)*a.height+a.height/2);var c=this.listData.getSFSObject(i);a.getComponent(p.default).initItem(c),a.active=!0,i++}else{if(!a)break;a.active=!1}}},e.prototype.onClickClose=function(){var t=this;l.Windown.KingKong.audio.playClick(),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.2,{y:-1280},{easing:cc.easing.quadIn}).call(function(){t.node.active=!1}).start()},e.prototype.showDetail=function(t){this.detail.show(t)},r([f(c.default)],e.prototype,"pageDate",void 0),r([f(u.default)],e.prototype,"detail",void 0),r([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Popup/PageData/PageData":"PageData","../../../Scritps/Windown":"Windown","./KingKongHistoryDetail":"KingKongHistoryDetail","./KingKongItemHistory":"KingKongItemHistory"}],KingKongInfoBar:[function(t,e,n){"use strict";cc._RF.push(e,"4d651Lh9BJOyqEc08wQUma9","KingKongInfoBar");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Obs/LbMoneyChange"),a=t("../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTotalWin=null,e.lbInfo=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.prepareSpin=function(){},e.prototype.updateTotalWin=function(t){a.Windown.KingKong.audio.playEffect(a.Windown.KingKong.audio.SE_Scoring_01),this.lbTotalWin.resetLb(),this.lbTotalWin.time=1.5,this.lbTotalWin.setMoney(t),this.lbTotalWin.cb=function(){a.Windown.KingKong.audio.stopEffect(a.Windown.KingKong.audio.SE_Scoring_01),a.Windown.KingKong.audio.playEffect(a.Windown.KingKong.audio.SE_ScoringEnd)},this.lbInfo.node.active=!1,this.lbTotalWin.node.parent.active=!0},e.prototype.updateInfoText=function(t){this.lbInfo.node.active=!0,this.lbInfo.string=t,this.lbTotalWin.node.parent.active=!1},r([u(s.default)],e.prototype,"lbTotalWin",void 0),r([u(cc.Label)],e.prototype,"lbInfo",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Windown":"Windown"}],KingKongItemHistory:[function(t,e,n){"use strict";cc._RF.push(e,"9b00ddOoqRBj5E/WTaHQQlK","KingKongItemHistory");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTime=null,e.lbBet=null,e.lbWin=null,e.data=null,e}return i(e,t),e.prototype.initItem=function(t){try{this.data=t;var e=this.data.get("date");this.lbTime.string=s.Windown.formatDate(new Date(e),"dd/MM\nHH:mm:ss");var n=this.data.get("infolog"),o=JSON.parse(n);this.lbBet.string=s.Windown.formatNumber(20*o.agBet),this.lbWin.string=s.Windown.formatNumber(o.agWin)}catch(i){console.error(i)}},e.prototype.onClick=function(){s.Windown.KingKong.audio.playClick(),s.Windown.KingKong.popupLichSu.showDetail(this.data)},r([l(cc.Label)],e.prototype,"lbTime",void 0),r([l(cc.Label)],e.prototype,"lbBet",void 0),r([l(cc.Label)],e.prototype,"lbWin",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],KingKongSettingAuto:[function(t,e,n){"use strict";cc._RF.push(e,"48a94xzn2xAZ6ygRVAH5fFu","KingKongSettingAuto");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnConfirm=null,e.tglUnlimited=null,e.tglLoseLimited=null,e.currentTglSession=null,e.lbLoseLitmitedValue=null,e.listTglLoseLimit=[],e.autoSpinNumber=0,e.loseLimited=0,e.isTurbo=!1,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.tglLoseLimited.node.children.forEach(function(e){t.listTglLoseLimit.push(e.getComponent(cc.Toggle))})},e.prototype.start=function(){},e.prototype.onEnable=function(){null!=this.currentTglSession&&(0!=s.Windown.KingKong.autoSpinRemain?(this.currentTglSession.checkEvents[0].customEventData=s.Windown.KingKong.autoSpinRemain+"",this.currentTglSession.node.active=!0,this.currentTglSession.getComponentInChildren(cc.Label).string="("+s.Windown.KingKong.autoSpinRemain+")",this.currentTglSession.isChecked=!0,this.currentTglSession.check()):this.currentTglSession.getComponentInChildren(cc.Label).string="(0)")},e.prototype.onClickClose=function(){var t=this;cc.tween(this.node).to(.3,{y:-this.node.height,opacity:150},{easing:cc.easing.sineIn}).call(function(){t.node.active=!1}).start()},e.prototype.onClickSelectNumberSession=function(t,e){this.autoSpinNumber=parseInt(e),this.btnConfirm.node.color=cc.Color.WHITE,this.btnConfirm.node.children[0].color=cc.Color.WHITE,this.btnConfirm.interactable=!0,this.tglLoseLimited.allowSwitchOff=!1,this.listTglLoseLimit.forEach(function(t){t.interactable=!0,t.node.color=cc.Color.WHITE}),this.tglUnlimited.check()},e.prototype.onClickClearSession=function(){this.autoSpinNumber=0,this.btnConfirm.interactable=!1,this.btnConfirm.node.color=cc.Color.GRAY,this.btnConfirm.node.children[0].color=cc.Color.GRAY,this.tglUnlimited.isChecked=!1,this.tglLoseLimited.allowSwitchOff=!0,this.listTglLoseLimit.forEach(function(t){t.interactable=!1,t.node.color=cc.Color.GRAY,t.isChecked=!1})},e.prototype.onClickSelectLoseLimited=function(t,e){switch(e){case"unlimited":this.loseLimited=9999999;break;case"500":this.loseLimited=500;break;case"100":this.loseLimited=100;break;case"50":this.loseLimited=50;break;case"10":this.loseLimited=10}this.loseLimited<1e3?(this.lbLoseLitmitedValue.node.active=!0,this.lbLoseLitmitedValue.string="[-"+s.Windown.formatNumber(this.loseLimited*s.Windown.KingKong.betValue)+"]"):this.lbLoseLitmitedValue.node.active=!1,cc.log("loseLimited==="+this.loseLimited)},e.prototype.onClickTurbo=function(){this.isTurbo=!this.isTurbo,s.Windown.KingKong.isTurbo=this.isTurbo},e.prototype.onClickConfirm=function(){s.Windown.KingKong.setAutoSpin(this.autoSpinNumber,this.loseLimited),this.onClickClose()},r([l(cc.Button)],e.prototype,"btnConfirm",void 0),r([l(cc.Toggle)],e.prototype,"tglUnlimited",void 0),r([l(cc.ToggleContainer)],e.prototype,"tglLoseLimited",void 0),r([l(cc.Toggle)],e.prototype,"currentTglSession",void 0),r([l(cc.Label)],e.prototype,"lbLoseLitmitedValue",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],KingKongSetting:[function(t,e,n){"use strict";cc._RF.push(e,"d6adbWwuG9H45MJb/Kb2Q4A","KingKongSetting");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.NodeFunction=null,e.NodeBet=null,e.spriteSound=null,e.nodeRule=null,e.scrRule=null,e.sprSoundState=[],e.soundOn=!0,e}return i(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){cc.tween(this.node).set({opacity:0}).to(.3,{opacity:255},{easing:cc.easing.sineOut}).start()},e.prototype.show=function(t){void 0===t&&(t=1);var e=1==t?this.NodeFunction:this.NodeBet,n=1==t?this.NodeBet:this.NodeFunction;e.active=!0,n.active=!1,cc.tween(e).set({y:-this.node.height/2-e.height/2}).to(.3,{y:-this.node.height/2+e.height/2},{easing:cc.easing.sineOut}).start()},e.prototype.setConfigBet=function(t){for(var e=this.NodeBet.getChildByName("TglContainer"),n=0;n<t.length;n++){var o=e.children[n].getComponent(cc.Toggle);o.checkEvents[0].customEventData=t[n]+"",o.node.getComponentInChildren(cc.Label).string=s.Windown.formatNumber(t[n])+""}},e.prototype.onClickHome=function(){s.Windown.KingKong.onClickBackToLobby()},e.prototype.onClickSound=function(){this.soundOn=!this.soundOn,this.spriteSound.spriteFrame=this.sprSoundState[this.soundOn?0:1],s.Windown.KingKong.audio.isActiveMusic=this.soundOn,s.Windown.KingKong.audio.isActiveSound=this.soundOn},e.prototype.onClickRule=function(){this.nodeRule.active=!0,cc.Tween.stopAllByTarget(this.nodeRule),cc.tween(this.nodeRule).set({y:-1280,opacity:0}).to(.3,{y:0,opacity:255},{easing:cc.easing.quadIn}).start(),this.NodeFunction.active=!1},e.prototype.onHideRule=function(){var t=this;this.NodeFunction.active=!0,cc.Tween.stopAllByTarget(this.nodeRule),cc.tween(this.nodeRule).to(.2,{y:-1280},{easing:cc.easing.quadOut}).call(function(){t.nodeRule.active=!1}).start(),this.scrRule.scrollToTop()},e.prototype.onHideSetting=function(){var t=this;cc.tween(this.node).to(.1,{opacity:0},{easing:cc.easing.sineIn}).call(function(){t.node.active=!1}).start()},e.prototype.onClickHistory=function(){s.Windown.KingKong.audio.playClick(),s.Windown.KingKong.onShowPopupHistory()},e.prototype.onClickSelectBet=function(t,e){s.Windown.KingKong.setBetValue(parseInt(e))},r([l(cc.Node)],e.prototype,"NodeFunction",void 0),r([l(cc.Node)],e.prototype,"NodeBet",void 0),r([l(cc.Sprite)],e.prototype,"spriteSound",void 0),r([l(cc.Node)],e.prototype,"nodeRule",void 0),r([l(cc.ScrollView)],e.prototype,"scrRule",void 0),r([l([cc.SpriteFrame])],e.prototype,"sprSoundState",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],KingKongSymbol:[function(t,e,n){"use strict";cc._RF.push(e,"a66f5jokn9IOIZKip+Gjcgm","KingKongSymbol");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=t("./KingKongAssets"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.spine=null,e.indexSymbol=0,e.indexStop=-1,e.speed=.1,e.id=0,e.symbolAtlas=null,e.collumCtrl=null,e.spriteAnim=null,e.initSpriteScale=1,e.animScatter=null,e.animWild=null,e}return i(e,t),e.prototype.update=function(){this.collumCtrl.isChangeSpeedNFS&&(this.speed=this.collumCtrl.speedNFS)},e.prototype.onLoad=function(){this.spriteAnim=this.sprite.node.getComponent(cc.Animation),this.symbolAtlas=a.default.instance.symbolAtlas,this.initSpriteScale=this.sprite.node.scale},e.prototype.start=function(){},e.prototype.setSprite=function(t,e){void 0===e&&(e=!1),this.id=t,this.sprite.spriteFrame=this.symbolAtlas.getSpriteFrame(t+""),this.sprite.sizeMode=cc.Sprite.SizeMode.TRIMMED,t<4&&this.sprite.node.setContentSize(cc.size(1.2*this.sprite.node.width,1.2*this.sprite.node.height)),this.sprite.node.scale=11==this.id?.7:.8,this.spine&&(this.spine.active=!1),this.collumCtrl.isSetDarkForNFS&&12!=this.id?this.sprite.node.color=cc.Color.GRAY:this.sprite.node.color=cc.Color.WHITE},e.prototype.setSpine=function(){},e.prototype.setRandomSprite=function(){var t=s.Windown.RandomNumber(0,10);this.sprite.spriteFrame=this.symbolAtlas.getSpriteFrame(t.toString()),this.sprite.sizeMode=cc.Sprite.SizeMode.TRIMMED,t<4&&this.sprite.node.setContentSize(cc.size(1.2*this.sprite.node.width,1.2*this.sprite.node.height)),this.sprite.node.scale=11==t?.7:.8},e.prototype.spin=function(){var t=this,e=this.node.y-this.collumCtrl.stepMove;this.indexSymbol++,cc.tween(this.node).to(.25,{y:e},{easing:cc.easing.backIn}).call(function(){t.loopMove()}).start()},e.prototype.loopMove=function(){var t=this;this.indexSymbol>3&&(this.node.y=this.collumCtrl.positionReset,this.indexSymbol=0,this.setSprite(s.Windown.RandomNumber(0,8),!0)),this.indexSymbol++,cc.tween(this.node).by(this.speed,{y:-this.collumCtrl.stepMove}).call(function(){t.collumCtrl.isStop?t.stopMove():t.loopMove()}).start()},e.prototype.stopMove=function(){var t=this;if(this.indexSymbol>3)if(this.node.y=this.collumCtrl.positionReset,this.indexSymbol=0,this.collumCtrl.listIDResult.length>0){this.indexStop=this.collumCtrl.listIDResult.length;var e=this.collumCtrl.listIDResult.pop();this.setSprite(e),this.stopMove()}else{this.node.y=this.collumCtrl.positionReset+this.collumCtrl.stepMove;var n=(this.indexSymbol=0)?cc.easing.backOut:null;cc.tween(this.node).to(this.speed,{y:this.node.y-this.collumCtrl.stepMove},{easing:n}).start(),this.setSprite(s.Windown.RandomNumber(0,9))}else{n=this.indexSymbol+1==this.indexStop?cc.easing.backOut:null;var o=this.indexSymbol+1==this.indexStop?3*this.speed:this.speed;this.collumCtrl.isNeerSpin&&(n=null,o=this.speed),this.indexSymbol++,cc.tween(this.node).by(o,{y:-this.collumCtrl.stepMove},{easing:n}).call(function(){t.indexSymbol!=t.indexStop?t.stopMove():3==t.indexSymbol&&t.collumCtrl.stopCollumCompleted()}).start(),3==this.indexSymbol&&this.scheduleOnce(function(){t.collumCtrl.prepareStop()},.85*o)}},e.prototype.showEffectWin=function(){switch(this.id){case 11:this.spine.active=!0,this.sprite.node.active=!1,this.spine.destroyAllChildren();var t=cc.instantiate(s.Windown.KingKong.AssetsKingKong.assetParent.getChildByName("Symbol_"+this.id));this.spine.addChild(t),t.active=!0;break;case 12:this.spine.active=!0,this.sprite.node.active=!1;break;default:this.spine.active=!1,this.sprite.node.active=!0,this.sprite.node.color=cc.Color.WHITE,this.spriteAnim.play("SymbolWin")}},e.prototype.Reset=function(){0==this.indexSymbol&&this.setSprite(s.Windown.RandomNumber(0,9)),this.sprite.node.color=cc.Color.WHITE,this.indexStop=-1,this.spriteAnim.stop(),this.sprite.node.scale=11==this.id?.7:this.initSpriteScale,this.sprite.node.active=!0,this.spine.active=!1,this.hideSpine()},e.prototype.showScatter=function(){var t=this;this.sprite.node.active=!1,null==this.animScatter&&(this.animScatter=cc.instantiate(s.Windown.KingKong.AssetsKingKong.symbolScatter),this.animScatter.parent=this.node),this.scheduleOnce(function(){t.sprite.node.active=!0},2),cc.log("showScatter Windown.KingKong.isFreeSpin="+s.Windown.KingKong.isFreeSpin),s.Windown.KingKong.isWin2Scatter||s.Windown.KingKong.isFreeSpin||this.scheduleOnce(function(){var e=cc.instantiate(s.Windown.KingKong.AssetsKingKong.evenBall),n=s.Windown.KingKong.animKong.node.parent;e.active=!0,e.parent=n,e.setPosition(n.convertToNodeSpaceAR(t.node.parent.convertToWorldSpaceAR(t.node.position)));var o=s.Windown.KingKong.animKong.node.position;cc.tween(e).to(.5,{position:o},{easing:cc.easing.sineIn}).call(function(){3==t.collumCtrl.collumIndex&&(s.Windown.KingKong.animKong.playAnimation("Collect",1),s.Windown.KingKong.animKong.once("complete",function(){s.Windown.KingKong.animKong.playAnimation("Idle_2",1),s.Windown.KingKong.animKong.once("complete",function(){s.Windown.KingKong.animKong.playAnimation("Win_2",1),s.Windown.KingKong.animKong.once("complete",function(){cc.tween(s.Windown.KingKong.animKong.node).to(.3,{opacity:0}).call(function(){s.Windown.KingKong.animKong.node.active=!1,s.Windown.KingKong.animKong.node.opacity=255}).start()})})})),e.destroy()}).start()},1.5),this.animScatter.active=!0,this.animScatter.getChildByName("Symbol_1_ske_0").getComponent(dragonBones.ArmatureDisplay).playAnimation("Symbol_1",1)},e.prototype.hideSpine=function(){null!=this.animScatter&&(this.animScatter.active=!1),null!=this.animWild&&(this.animWild.active=!1)},r([u(cc.Sprite)],e.prototype,"sprite",void 0),r([u(cc.Node)],e.prototype,"spine",void 0),r([u],e.prototype,"indexSymbol",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":"Windown","./KingKongAssets":"KingKongAssets"}],KingKongView:[function(t,e,n){"use strict";cc._RF.push(e,"846abgTKt1FjqOmq2RxVufX","KingKongView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.WIN_TYPE=n.GAME_STATE=n.SPINE_TYPE=void 0;var c,l,u,p=t("../../../Scritps/DefineTs/EVENT_MANAGER"),h=t("../../../Scritps/DefineTs/PlayerPP"),d=t("../../../Scritps/DefineTs/REQUEST_CODE"),f=t("../../../Scritps/DefineTs/TextDefine"),y=t("../../../Scritps/Game/GAME_TYPE"),g=t("../../../Scritps/Network/ConectManager"),m=t("../../../Scritps/Other/LbMonoSpace"),v=t("../../../Scritps/Other/MakeDelay"),S=t("../../../Scritps/Util"),b=t("../../../Scritps/Windown"),w=t("./KingKongAssets"),_=t("./KingKongAudio"),C=t("./KingKongCollum"),T=t("./KingKongEffect"),I=t("./KingKongHistory"),W=t("./KingKongInfoBar"),M=t("./KingKongSetting"),E=t("./KingKongSettingAuto"),R=cc._decorator,A=R.ccclass,B=R.property;(function(t){t[t.NORMAL=0]="NORMAL",t[t.AUTO=1]="AUTO"})(c=n.SPINE_TYPE||(n.SPINE_TYPE={})),function(t){t[t.PREPARE=0]="PREPARE",t[t.SPINNING=1]="SPINNING",t[t.SHOWING_RESULT=2]="SHOWING_RESULT",t[t.JOIN_GAME=3]="JOIN_GAME"}(l=n.GAME_STATE||(n.GAME_STATE={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.BIGWIN=1]="BIGWIN"}(u=n.WIN_TYPE||(n.WIN_TYPE={}));var O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bkgSprite=null,e.collumContainer=null,e.sprGameName=null,e.maskFS=null,e.nodeFSLeft=null,e.nodeBottomNormal=null,e.nodePopupClickToFS=null,e.maskEndFS=null,e.maskGetFS=null,e.baseBgSpin=null,e.listSfBgGetFS=[],e.listSfBGSpin=[],e.btnSpin=null,e.btnAuto=null,e.btnStopAuto=null,e.btnChangeBet=null,e.lbAutoSpinRemain=null,e.lbBetValue=null,e.lbBalance=null,e.lbTotalWin=null,e.lbFSGet=null,e.lbFSRemain=null,e.lbFSTotal=null,e.lbFSTotalWin=null,e.animKong=null,e.animBaseBGVolcano=null,e.animBaseBGFront=null,e.AssetsKingKong=null,e.infoBar=null,e.settingView=null,e.settingAuto=null,e.effectController=null,e.popupLichSu=null,e.audio=null,e.makeDelay=null,e.listCol=[],e.listCollum=[],e.listBetValue=[],e.spinReelView=[],e.isAutoSpin=!1,e.isTurbo=!1,e.isScatter=!1,e.isFreeSpin=!1,e.isWin2Scatter=!1,e.autoSpinRemain=0,e.limitLoseValue=0,e.betValue=1e3,e.gameType=-1,e.winType=0,e.curRoomBet=100,e.totalLineBet=20,e.agWin=0,e.agUser=0,e.freeSpinLeft=0,e.currentFSTurn=0,e.totalFreeSpin=0,e.totalWinFS=0,e.limitAgUserLose=0,e.dataFinish=null,e.sfs=null,e.roomSFS=null,e.listConfigBet=[],e.listLineWin=[],e.stopShowLineCB=null,e.spinType=c.NORMAL,e.gameState=l.JOIN_GAME,e.objDelayWaitShowAgWin=null,e.payLine=[[1,1,1,1,1],[0,0,0,0,0],[2,2,2,2,2],[0,1,2,1,0],[2,1,0,1,2],[0,0,1,2,2],[2,2,1,0,0],[1,0,1,2,1],[1,2,1,0,1],[1,0,0,1,0],[1,2,2,1,2],[0,1,0,0,1],[2,1,2,2,1],[0,2,0,2,0],[2,0,2,0,2],[1,0,2,0,1],[1,2,0,2,1],[0,1,1,1,0],[2,1,1,1,2],[0,2,2,2,0]],e.indexSpinTest=0,e.indexSpin=0,e}return i(e,t),e.prototype.onLoad=function(){b.Windown.KingKong=this,this.makeDelay=new v.default(this),cc.log("start KingKong"),this.gameType=y.default.KingKong,this.sfs=g.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(p.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),this.setupView(),this.gameState=l.JOIN_GAME,this.sendJoinRoom(),this.agUser=b.Windown.User.userAg},e.prototype.sendJoinRoom=function(){cc.log("send creat room");try{var t=g.ConectManager.getIns().getValibleRoomName(),e=new SFS2X.RoomSettings(t),n=new SFS2X.RoomExtension("SlotInCaExtension","ext.Room.SlotInCa.SlotGameView");e.extension=n,e.isGame=!0,e.maxUsers=1,e.groupId="SlotInCa",this.sfs.send(new SFS2X.CreateRoomRequest(e,!0))}catch(o){cc.error(o),this.onDisconnect()}},e.prototype.onDestroy=function(){b.Windown.KingKong=null,this.dataFinish&&(b.Windown.MoneyUser.removeDelay(this.gameType),this.dataFinish=null),b.Windown.MoneyUser.endGameMOney(this.gameType),cc.systemEvent.removeAll(this),this.roomSFS=null,this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),this.makeDelay.clear()},e.prototype.onDisconnect=function(){cc.log("disconnect"),b.Windown.UIManager.hideLoading(),b.Windown.UIManager.hideLoadingData(),cc.director.loadScene("main")},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(e){case d.REQUEST_CODE.SpinInCa:cc.log(b.Windown.SFSObjToJson(n)),this.handleFinish(n);break;case d.REQUEST_CODE.HistoryInCa:this.popupLichSu.responseServer(n);break;case d.REQUEST_CODE.HistoryChiTietInCa:break;default:cc.log("extResponse:",b.Windown.SFSObjToJson(n))}},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),b.Windown.UIManager.hideLoading(),b.Windown.UIManager.hideLoadingData(),b.Windown.Dialog.showLog(f.TextDefine.ERR_JOIN_ROOM),cc.director.loadScene("main")},e.prototype.onJoinRoom=function(t){var e=this,n=t.room;if("SlotInCa"==n.groupId){this.roomSFS=n,b.Windown.UIManager.hideLoadingData();var o=n.getVariable("cf").value;cc.log(o);var i=[],r=JSON.parse(o);for(var s in r){var a=Object.create(null);a.bet=parseInt(s),a.perJp=r[s].percentPot/100,i.push(a)}i.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=i;var c=[];this.listConfigBet.forEach(function(t,n){n>0&&c.push(t.bet*e.totalLineBet)}),this.settingView.setConfigBet(c),this.curRoomBet=this.listConfigBet[1].bet,this.setBetValue(this.curRoomBet*this.totalLineBet),this.lbBalance.string=b.Windown.formatNumber(b.Windown.User.userAg),this.lbTotalWin.string="0"}},e.prototype.userExitRoom=function(t){cc.log("user exit room"),"SlotInCa"==t.room.groupId&&t.user.isItMe&&cc.director.loadScene("main")},e.prototype.onCreateError=function(){b.Windown.UIManager.hideLoading(),cc.director.loadScene("main"),b.Windown.Dialog.showLog(f.TextDefine.ERR_JOIN_ROOM)},e.prototype.start=function(){for(var t=0,e=this.listCol.length;t<e;t++){var n=this.listCol[t].getComponent(C.default);this.listCollum.push(n)}this.animBaseBGFront.armatureName="Volcano",this.animBaseBGFront.playAnimation("Base_BG",-1),this.animBaseBGVolcano.playAnimation("Base_BG",-1)},e.prototype.setBetValue=function(t){this.betValue=t,this.curRoomBet=this.betValue/this.totalLineBet,this.lbBetValue.string=b.Windown.formatNumber(this.betValue)+"",cc.log("curRoomBet="+this.curRoomBet)},e.prototype.setupView=function(){var t=cc.find("Game",this.node);if(cc.sys.isMobile)e=1280/720;else{var e=cc.view.getDesignResolutionSize().height/1280;t.setScale(e,e,e),this.bkgSprite.setContentSize(cc.winSize),b.Windown.UIManager.changeRotation(!0)}},e.prototype.onClickSpin=function(){this.audio.playClick(),cc.log("onClickSpin:",this.gameState),this.gameState!=l.SHOWING_RESULT&&(this.infoBar.lbTotalWin.setMoneyNoTime(0),cc.log("totaFreeSPin="+this.totalFreeSpin),this.totalFreeSpin>0&&(this.currentFSTurn++,this.lbFSRemain.string=this.currentFSTurn+""),this.startSpin(),this.setStateBtn(),this.effectButtonSpin(),this.sendClickSpin())},e.prototype.onClickSpinTest=function(){this.audio.playClick(),this.gameState!=l.SHOWING_RESULT&&(this.totalFreeSpin>0&&(this.currentFSTurn++,this.lbFSRemain.string=this.currentFSTurn+""),this.startSpin(),this.setStateBtn(),this.effectButtonSpin(),this.sendClickSpinTest("[[1,2,3],[12,3,4],[12,5,6],[12,7,8],[9,10,11]]"))},e.prototype.sendClickSpinTest=function(t){this.lbBalance.setMoney(this.agUser-this.betValue);var e=g.ConectManager.getIns().getSFSObj();e.putInt("bet",this.curRoomBet),e.putUtfString("arr",t),g.ConectManager.getIns().sendRequest("testSpinInCa",e,this.roomSFS)},e.prototype.sendClickSpin=function(){this.lbBalance.setMoney(this.agUser-this.betValue);var t=g.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),g.ConectManager.getIns().sendRequest(d.REQUEST_CODE.SpinInCa,t,this.roomSFS)},e.prototype.startSpin=function(){this.autoSpinRemain>0&&this.isAutoSpin?(this.autoSpinRemain--,this.lbAutoSpinRemain.node.active=!0,this.lbAutoSpinRemain.string=this.autoSpinRemain+""):(this.autoSpinRemain=0,this.lbAutoSpinRemain.node.active=!1),this.setStateSpin(l.SPINNING),this.listCollum.forEach(function(t){t.spinSymbol()})},e.prototype.activeAllSymbol=function(){this.listCollum.forEach(function(t){t.activeAllSymbol()})},e.prototype.handleFinish=function(t){var e=this;t.containsKey(h.PlayerPP.ERR_MESSAGE)?b.Windown.Dialog.showLog(t.get(h.PlayerPP.ERR_MESSAGE)):(this.dataFinish=t,this.agWin=this.dataFinish.getLong("agWin"),this.agUser=this.dataFinish.getLong("agUser"),this.spinReelView=JSON.parse(t.get("views")),this.isWin2Scatter=this.checkWin2Scatter(),this.isScatter=t.getBool("isScarter"),this.listLineWin=JSON.parse(b.Windown.SFSArrToJson(t.get("listLineWin"))),this.isFreeSpin=t.getBool("freeSpin"),this.freeSpinLeft=t.getInt("numFreeSpin"),this.isScatter&&(this.totalFreeSpin+=15),this.isFreeSpin&&(this.totalWinFS+=this.agWin),this.agWin>10*this.betValue?this.winType=u.BIGWIN:this.winType=u.NORMAL,this.setNearSpinEffect(),this.scheduleOnce(function(){e.handleStopSpin()},this.isAutoSpin?.5:1))},e.prototype.checkWin2Scatter=function(){var t=0;return this.spinReelView.forEach(function(e){e.includes(12)&&t++}),2==t},e.prototype.getMakeDelay=function(t){return this.makeDelay.getDelay(t)},e.prototype.handleStopSpin=function(){return s(this,void 0,void 0,function(){var t,e,n,o;return a(this,function(i){switch(i.label){case 0:i.trys.push([0,8,,9]),t=0,e=this.listCollum.length,i.label=1;case 1:return t<e?(n=this.listCollum[t]).isNeerSpin?[4,n.Stop(this.spinReelView[t])]:[3,3]:[3,7];case 2:return i.sent(),[3,4];case 3:n.Stop(this.spinReelView[t]),i.label=4;case 4:return[4,b.Windown.KingKong.getMakeDelay(this.isAutoSpin?.1:.25).prosime];case 5:i.sent(),i.label=6;case 6:return t++,[3,1];case 7:return[3,9];case 8:return o=i.sent(),S.Util.ThrowErrProsime(o),[3,9];case 9:return[2]}})})},e.prototype.allCollumStopCompleted=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(e){switch(e.label){case 0:return this.setStateSpin(l.SHOWING_RESULT),this.currentFSTurn==this.totalFreeSpin&&this.isFreeSpin?[4,this.showTotalWinFreeSPin()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.isScatter||this.isWin2Scatter?[4,this.showScatterSymbol()]:[3,4];case 3:e.sent(),e.label=4;case 4:return this.listLineWin.length>0||this.isWin2Scatter||this.isScatter?(this.infoBar.updateTotalWin(this.agWin),cc.tween(this.node).delay(1.5).call(function(){t.setStateBtn(),t.effectButtonSpin()}).start(),this.lbBalance.setMoney(this.agUser),this.listLineWin.length>0?[4,this.showAllWinLine()]:[3,6]):[3,7];case 5:e.sent(),e.label=6;case 6:return[3,8];case 7:this.setStateBtn(),this.effectButtonSpin(),e.label=8;case 8:return this.isScatter?[4,this.effectController.showBigWin(this.agWin)]:[3,11];case 9:return e.sent(),[4,this.showBgFS()];case 10:e.sent(),e.label=11;case 11:return cc.log("winType=",this.winType),this.winType!=u.BIGWIN?[3,15]:this.isFreeSpin&&this.currentFSTurn==this.totalFreeSpin?[4,this.effectController.showBigWin(this.totalWinFS)]:[3,13];case 12:return e.sent(),[3,15];case 13:return this.isScatter?[3,15]:[4,this.effectController.showBigWin(this.agWin)];case 14:e.sent(),e.label=15;case 15:return this.objDelayWaitShowAgWin=b.Windown.KingKong.getMakeDelay(this.agWin>0?.5:.25),[4,this.objDelayWaitShowAgWin.prosime];case 16:return e.sent(),this.resetSlotView(),[2]}})})},e.prototype.showScatterSymbol=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){return[2,new Promise(function(e){return s(t,void 0,void 0,function(){var t,n;return a(this,function(o){switch(o.label){case 0:for(o.trys.push([0,2,,3]),t=0;t<this.listCollum.length;t++)this.listCollum[t].showScatter();return[4,b.Windown.KingKong.getMakeDelay(this.isWin2Scatter||this.isFreeSpin?3:8).prosime];case 1:return o.sent(),cc.log("ShowwScatter Symbol xong"),e(null),[3,3];case 2:return n=o.sent(),S.Util.ThrowErrProsime(n),[3,3];case 3:return[2]}})})})]})})},e.prototype.showBgFS=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){return[2,new Promise(function(e){return s(t,void 0,void 0,function(){var t=this;return a(this,function(){try{this.sprGameName.active=!1,this.isFreeSpin?cc.tween(this.maskGetFS).delay(2).to(.5,{scale:2,opacity:0,y:-50},{easing:cc.easing.sineIn}).call(function(){t.maskGetFS.y=0,t.maskGetFS.scale=1,t.maskGetFS.opacity=255,t.maskFS.active=!1,e(null)}).start():(this.animBaseBGVolcano.playAnimation("TS",1),this.animBaseBGFront.playAnimation("TS",1),this.animBaseBGVolcano.once("complete",function(){t.animBaseBGFront.playAnimation("Free_BG",-1),t.animBaseBGVolcano.playAnimation("Free_BG",-1),t.maskEndFS.active=!1,cc.tween(t.maskGetFS).delay(.5).to(.5,{scale:2,opacity:0,y:-50},{easing:cc.easing.sineIn}).call(function(){t.maskGetFS.y=0,t.maskGetFS.scale=1,t.maskGetFS.opacity=255,t.maskFS.active=!1,e(null)}).start()})),this.maskFS.active=!0,this.maskGetFS.active=!0,this.isFreeSpin?this.maskGetFS.getChildByName("sprTextMask").getComponent(cc.Sprite).spriteFrame=this.listSfBgGetFS[1]:this.maskGetFS.getChildByName("sprTextMask").getComponent(cc.Sprite).spriteFrame=this.listSfBgGetFS[0],this.nodeBottomNormal.active=!1,this.nodeFSLeft.active=!0,this.baseBgSpin.spriteFrame=this.listSfBGSpin[1],this.lbFSTotal.setMoney(this.totalFreeSpin,!1)}catch(n){S.Util.ThrowErrProsime(n)}return[2]})})})]})})},e.prototype.showAllWinLine=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){return cc.log("showAllWinLine"),[2,new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i;return a(this,function(r){switch(r.label){case 0:for(r.trys.push([0,3,,4]),this.hideAllSymbol(),t=0,n=this.listLineWin.length;t<n;t++)o=this.listLineWin[t],this.effectWinline(o.id,o.symbol,o.stack);return this.btnSpin.node.off("click"),this.btnSpin.node.on("click",function(){cc.log("OnCLickBtnSpin"),e(null)}),this.isScatter||this.isFreeSpin||this.isAutoSpin?[4,b.Windown.KingKong.getMakeDelay(1.5).prosime]:[3,2];case 1:r.sent(),e(null),r.label=2;case 2:return[3,4];case 3:return i=r.sent(),S.Util.ThrowErrProsime(i),[3,4];case 4:return[2]}})})})]})})},e.prototype.stopShowLine=function(t){t(null)},e.prototype.effectWinline=function(t,e,n){for(var o=this.payLine[t-1],i=0;i<n+1;i++)this.listCollum[i].showSymbolWin(o[i]+1)},e.prototype.resetSlotView=function(){cc.log("ResetSlotViewL Limit Lose="+this.limitLoseValue),cc.log("ResetSlotViewL Limit AGUser="+this.limitAgUserLose),this.setStateSpin(l.PREPARE),this.infoBar.prepareSpin(),this.listCollum.forEach(function(t){t.Reset()}),this.agUser<this.limitAgUserLose&&(this.limitAgUserLose=0,this.isAutoSpin,this.autoSpinRemain=0,this.infoBar.updateInfoText("Ch\u1ea1m h\u1ea1n m\u1ee9c d\u1eebng l\u1ed7!")),this.isAutoSpin&&this.autoSpinRemain>0?0==this.totalFreeSpin&&this.onClickSpin():(this.lbAutoSpinRemain.node.active=!1,this.btnStopAuto.node.active=!1),this.isScatter&&!this.isFreeSpin&&(this.nodePopupClickToFS.active=!0,this.isAutoSpin=!0),this.isFreeSpin&&(this.currentFSTurn==this.totalFreeSpin?(cc.log("resetFreeSpin"),this.isFreeSpin=!1,this.currentFSTurn=0,this.totalFreeSpin=0,this.totalWinFS=0,this.indexSpinTest=0,this.lbFSRemain.string="0"):this.onClickSpin())},e.prototype.hidePopupClickToFS=function(){this.nodePopupClickToFS.active=!1,this.onClickSpin()},e.prototype.hideAllSymbol=function(t){void 0===t&&(t=-1),this.listCollum.forEach(function(e){e.hideAllSymbol(t)})},e.prototype.setDarkForNFS=function(t){this.listCollum.forEach(function(e){e!=t&&(e.isSetDarkForNFS=!0,e.hideAllSymbol(12))})},e.prototype.setStateSpin=function(t){switch(this.gameState=t,this.gameState){case l.SPINNING:case l.SHOWING_RESULT:case l.JOIN_GAME:case l.PREPARE:}},e.prototype.setStateBtn=function(){this.gameState==l.SPINNING?(this.btnAuto.node.getChildByName("blockEven").active=!0,this.btnSpin.node.getChildByName("blockEven").active=!0,this.btnChangeBet.node.getChildByName("blockEven").active=!0):(this.btnAuto.node.getChildByName("blockEven").active=!1,this.btnSpin.node.getChildByName("blockEven").active=!1,this.btnChangeBet.node.getChildByName("blockEven").active=!1)},e.prototype.effectButtonSpin=function(){var t=this.btnSpin.node.getChildByName("arrow");this.gameState==l.SPINNING?cc.tween(t).to(.3,{angle:180},{easing:cc.easing.sineIn}).start():this.gameState==l.SHOWING_RESULT&&cc.tween(t).to(.3,{angle:0},{easing:cc.easing.sineOut}).start()},e.prototype.onClickMenu=function(){this.audio.playClick(),this.settingView.node.active=!0,this.settingView.show(1)},e.prototype.onClickChangeBet=function(){this.audio.playClick(),this.isAutoSpin||(this.settingView.node.active=!0,this.settingView.show(2))},e.prototype.onClickAuto=function(){this.audio.playClick(),this.settingAuto.node.active=!0,cc.tween(this.settingAuto.node).set({y:-this.settingAuto.node.height,opacity:150}).to(.3,{y:0,opacity:255},{easing:cc.easing.sineOut}).start()},e.prototype.onClickStopAuto=function(){this.audio.playClick(),this.btnStopAuto.node.active=!1,this.isAutoSpin=!1,this.lbAutoSpinRemain.node.active=!1},e.prototype.setAutoSpin=function(t,e){this.isAutoSpin=!0,this.autoSpinRemain=t,this.limitLoseValue=e*this.betValue,this.btnStopAuto.node.active=!0,this.lbAutoSpinRemain.string=this.autoSpinRemain+"",this.lbAutoSpinRemain.node.active=!0,this.limitAgUserLose=this.agUser-this.limitLoseValue,this.onClickSpin()},e.prototype.setNearSpinEffect=function(){var t=this,e=0;this.spinReelView.forEach(function(n){e>=2&&3==t.listCollum[t.spinReelView.indexOf(n)].collumIndex&&(t.listCollum[t.spinReelView.indexOf(n)].isNeerSpin=!0),n.includes(12)&&e++})},e.prototype.showTotalWinFreeSPin=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){return[2,new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r=this;return a(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),this.maskEndFS.active=!0,this.maskFS.active=!0,this.maskGetFS.active=!1,t=this.maskEndFS.getChildByName("Volcano_text_1").getComponent(dragonBones.ArmatureDisplay),n=this.maskEndFS.getChildByName("Volcano_text_0").getComponent(dragonBones.ArmatureDisplay),t.playAnimation("FreeSpin_nd_1_fnt",1),n.playAnimation("FreeSpin_nd_1_fnt",1),this.animBaseBGFront.playAnimation("FreeSpinEnd_1",1),this.animBaseBGVolcano.playAnimation("FreeSpinEnd_1",1),(o=this.maskEndFS.getChildByName("TS_MSG03_vn_png")).y=400,o.scaleY=.5,o.opacity=0,this.totalWinFS>10*this.betValue?this.winType=u.BIGWIN:this.winType=u.NORMAL,cc.tween(o).delay(2).call(function(){r.lbFSTotalWin.setMoney(r.totalWinFS)}).to(.3,{scaleY:1,opacity:255,y:165}).to(.1,{scaleY:.8}).to(.1,{scaleY:1}).delay(2.5).call(function(){r.lbFSTotal.resetLb(),r.maskEndFS.active=!1,r.animBaseBGFront.playAnimation("Base_BG",-1),r.animBaseBGVolcano.playAnimation("Base_BG",-1),r.maskFS.active=!1,r.nodeFSLeft.active=!1,r.nodeBottomNormal.active=!0,r.baseBgSpin.spriteFrame=r.listSfBGSpin[0],r.animKong.node.active=!0,r.animKong.playAnimation("Idle_1",-1),r.sprGameName.active=!0,e(null)}).start(),[4,b.Windown.KingKong.getMakeDelay(3).prosime];case 1:return s.sent(),[3,3];case 2:return i=s.sent(),S.Util.ThrowErrProsime(i),[3,3];case 3:return[2]}})})})]})})},e.prototype.showBigWin=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){return[2,new Promise(function(){return s(t,void 0,void 0,function(){return a(this,function(){return[2]})})})]})})},e.prototype.onClickBackToLobby=function(){b.Windown.KingKong.audio.playClick(),this.roomSFS?g.ConectManager.getIns().sendLeaveRoom(this.roomSFS):cc.director.loadScene("main")},e.prototype.onShowPopupHistory=function(){this.popupLichSu.show()},e.instance=null,r([B(cc.Node)],e.prototype,"bkgSprite",void 0),r([B(cc.Node)],e.prototype,"collumContainer",void 0),r([B(cc.Node)],e.prototype,"sprGameName",void 0),r([B(cc.Node)],e.prototype,"maskFS",void 0),r([B(cc.Node)],e.prototype,"nodeFSLeft",void 0),r([B(cc.Node)],e.prototype,"nodeBottomNormal",void 0),r([B(cc.Node)],e.prototype,"nodePopupClickToFS",void 0),r([B(cc.Node)],e.prototype,"maskEndFS",void 0),r([B(cc.Node)],e.prototype,"maskGetFS",void 0),r([B(cc.Sprite)],e.prototype,"baseBgSpin",void 0),r([B([cc.SpriteFrame])],e.prototype,"listSfBgGetFS",void 0),r([B([cc.SpriteFrame])],e.prototype,"listSfBGSpin",void 0),r([B(cc.Button)],e.prototype,"btnSpin",void 0),r([B(cc.Button)],e.prototype,"btnAuto",void 0),r([B(cc.Button)],e.prototype,"btnStopAuto",void 0),r([B(cc.Button)],e.prototype,"btnChangeBet",void 0),r([B(cc.Label)],e.prototype,"lbAutoSpinRemain",void 0),r([B(m.default)],e.prototype,"lbBetValue",void 0),r([B(m.default)],e.prototype,"lbBalance",void 0),r([B(cc.Label)],e.prototype,"lbTotalWin",void 0),r([B(m.default)],e.prototype,"lbFSGet",void 0),r([B(m.default)],e.prototype,"lbFSRemain",void 0),r([B(m.default)],e.prototype,"lbFSTotal",void 0),r([B(m.default)],e.prototype,"lbFSTotalWin",void 0),r([B(dragonBones.ArmatureDisplay)],e.prototype,"animKong",void 0),r([B(dragonBones.ArmatureDisplay)],e.prototype,"animBaseBGVolcano",void 0),r([B(dragonBones.ArmatureDisplay)],e.prototype,"animBaseBGFront",void 0),r([B(w.default)],e.prototype,"AssetsKingKong",void 0),r([B(W.default)],e.prototype,"infoBar",void 0),r([B(M.default)],e.prototype,"settingView",void 0),r([B(E.default)],e.prototype,"settingAuto",void 0),r([B(T.default)],e.prototype,"effectController",void 0),r([B(I.default)],e.prototype,"popupLichSu",void 0),r([B(_.default)],e.prototype,"audio",void 0),r([B([cc.Node])],e.prototype,"listCol",void 0),r([A],e)}(cc.Component);n.default=O,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../../Scritps/DefineTs/PlayerPP":"PlayerPP","../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Other/MakeDelay":"MakeDelay","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./KingKongAssets":"KingKongAssets","./KingKongAudio":"KingKongAudio","./KingKongCollum":"KingKongCollum","./KingKongEffect":"KingKongEffect","./KingKongHistory":"KingKongHistory","./KingKongInfoBar":"KingKongInfoBar","./KingKongSetting":"KingKongSetting","./KingKongSettingAuto":"KingKongSettingAuto"}],LayoutScale:[function(t,e,n){"use strict";cc._RF.push(e,"96d27VGYElCzIc0dp2RQAoM","LayoutScale");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.layoutHorizontal=null,e.spacingX=0,e.totalChildSize=0,e}return i(e,t),e.prototype.onLoad=function(){this.designSize=cc.v2(1280,720),this.containerSize=cc.v2(this.layoutHorizontal.node.width,this.layoutHorizontal.node.height),this.spacingX=this.layoutHorizontal.spacingX,this.totalChildSize=this.containerSize.x-(this.spacingX*this.layoutHorizontal.node.childrenCount-1),cc.view.on("design-resolution-changed",this.onScreenSizeChange.bind(this))},e.prototype.start=function(){this.onScreenSizeChange()},e.prototype.onScreenSizeChange=function(){if(this.node){var t=cc.winSize.width-this.designSize.x,e=(this.containerSize.x+t-this.totalChildSize)/this.layoutHorizontal.node.childrenCount;this.layoutHorizontal.spacingX=e}},r([c(cc.Layout)],e.prototype,"layoutHorizontal",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],LbMoneyChange:[function(t,e,n){"use strict";cc._RF.push(e,"51285Z3WLtLkq3nj7qtpTPH","LbMoneyChange");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=a.requireComponent,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.time=.5,e.scaleEffect=!1,e.lb=null,e.objEasing=null,e._currentMonney=0,e._monney=0,e.formatMoney=!1,e.initScale=1,e.cb=null,e}return i(e,t),e.prototype.onLoad=function(){this.lb=this.getComponent(cc.Label),this.objEasing={},this.initScale=this.node.scale},e.prototype.resetLb=function(){cc.Tween.stopAllByTarget(this),this.lb&&(this.lb.string="0"),this._currentMonney=0,this._monney=0},e.prototype.setMoneyNoTime=function(t,e){void 0===e&&(e=!1),this.resetLb(),this._currentMonney=t,this._monney=t,this.lb.string=e?s.Windown.formatMoney(parseInt(this._currentMonney.toString())):s.Windown.formatNumber(parseInt(this._currentMonney.toString()))},e.prototype.onDisable=function(){cc.Tween.stopAllByTarget(this)},e.prototype.setMoney=function(t,e,n,o){var i=this;void 0===e&&(e=!1),void 0===n&&(n=""),void 0===o&&(o=!0),cc.Tween.stopAllByTarget(this),this.formatMoney=e,this._monney=t;var r={startNumber:this._currentMonney};cc.tween(r).to(this.time,{startNumber:this._monney},{progress:function(t,a,c,l){if(0==cc.isValid(i.lb))cc.Tween.stopAllByTarget(r);else{var u=t+(a-t)*l;if(i._currentMonney=u,e)i.lb.string=n+s.Windown.formatMoney(parseInt(u),1,1e6);else{var p=n+s.Windown.formatNumber(parseInt(u));o||(p=p.replace(/[.]/g,"")),i.lb&&(i.lb.string=p)}if(parseInt(u))return u}}}).call(function(){null!=i.cb&&(i.cb(),i.cb=null)}).start(),this.scaleEffect&&(cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(this.time/2,{scale:1.2*this.initScale}).to(this.time/2,{scale:this.initScale}).start())},r([l(cc.Float)],e.prototype,"time",void 0),r([l(cc.Boolean)],e.prototype,"scaleEffect",void 0),r([c,u(cc.Label)],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Windown":"Windown"}],LbMonoSpace:[function(t,e,n){"use strict";cc._RF.push(e,"ef6cdgak0JA7Klp9LwbTgyF","LbMonoSpace");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=cc.Enum({ATLAS:0,LIST_SF:1,BITMAP_FONT:2}),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=u.ATLAS,e.atlas=null,e.tempReplaceAtlas="ky-tu-replace",e.isPrefix=!1,e.listFS=[null,null,null,null,null,null,null,null,null,null,null,null],e.font=null,e._string="1.234.567",e._maxWidth=20,e._maxWidthSpecialChar=20,e._offYSpeciChar=-10,e._offYChar=-10,e._scale=1,e.time=.5,e.callBack=null,e.objEasing=null,e._currentMonney=0,e._monney=0,e.formatMoney=!1,e.pool=new cc.NodePool,e}return i(e,t),Object.defineProperty(e.prototype,"string",{get:function(){return this._string},set:function(t){t!=this._string&&(this._string=t,this._updateString(),this._updateYalChar())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){t!=this._maxWidth&&(this._maxWidth=t,this._updateWidth())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidthSpecialChar",{get:function(){return this._maxWidthSpecialChar},set:function(t){t!=this._maxWidthSpecialChar&&(this._maxWidthSpecialChar=t,this._updateWidth())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offYSpeciChar",{get:function(){return this._offYSpeciChar},set:function(t){t!=this._offYSpeciChar&&(this._offYSpeciChar=t,this._updateYalChar,this._updateYSPecialChar())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offYChar",{get:function(){return this._offYChar},set:function(t){t!=this._offYChar&&(this._offYChar=t,this._updateYalChar(),this._updateYSPecialChar())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this._scale},set:function(t){t!=this._scale&&(this._scale=t,this._updateWidth())},enumerable:!1,configurable:!0}),e.prototype.resetLb=function(){cc.Tween.stopAllByTarget(this),this.string="0",this._currentMonney=0,this._monney=0},e.prototype.setMoneyNoTime=function(t,e){void 0===e&&(e=!1),this.resetLb(),this._currentMonney=t,this._monney=t,this.string=e?s.Windown.formatMoney(parseInt(this._currentMonney.toString())):s.Windown.formatNumber(parseInt(this._currentMonney.toString()))},e.prototype.onDisable=function(){cc.Tween.stopAllByTarget(this)},e.prototype.setMoney=function(t,e,n,o){var i=this;void 0===e&&(e=!1),void 0===n&&(n=""),void 0===o&&(o=!0),cc.Tween.stopAllByTarget(this),this.formatMoney=e,this._monney=t,cc.tween(this).to(this.time,{_currentMonney:{value:this._monney,progress:function(t,r,a,c){var l=t+(r-t)*c;if(e)i.string=n+s.Windown.formatMoney(parseInt(l),1,1e6);else{var u=n+s.Windown.formatNumber(parseInt(l));o||(u=u.replace(/[.]/g,"")),i.string=u}return null!=i.callBack&&l==i._monney&&(i.callBack(),i.callBack=null),l}}}).start()},e.prototype.getLb=function(t){if(this.pool.size()>0)return this.pool.get();var e=new cc.Node;e.anchorY=0,e.width=t?this.maxWidthSpecialChar:this.maxWidth;var n=new cc.Node;return n.anchorY=0,e.addChild(n),this.type==u.BITMAP_FONT?n.addComponent(cc.Label).font=this.font:n.addComponent(cc.Sprite),e},e.prototype.putLb=function(t){this.pool.put(t)},e.prototype.onLoad=function(){},e.prototype.onDestroy=function(){this.pool.clear()},e.prototype.start=function(){},e.prototype.getSf=function(t){if(this.type==u.ATLAS){switch(t){case"x":case"X":t="multiply";break;case",":t="comma";break;case".":t="decimal"}var e=this.isPrefix?this.tempReplaceAtlas+t:t+this.tempReplaceAtlas,n=this.atlas.getSpriteFrame(e);return null==n&&cc.warn("Kh\xf4ng th\u1ec3 t\xecm th\u1ea5y \u1ea3nh c\xf3 t\xean "+e+" trong atlas"),n}var o=Number(t);return isNaN(o)?"."==t?this.listFS[11]:","==t?this.listFS[12]:"x"==t||"X"==t?this.listFS[10]:void 0:this.listFS[o]},e.prototype._updateString=function(){for(var t=this.node.children;this.node.childrenCount>0;)this.putLb(t[0]);for(var e=this._string.split(""),n=0,o=e.length;n<o;n++){var i=e[n],r=this.getLb("."==i||"<"==i);r.name=i,this.type==u.BITMAP_FONT?r.getComponentInChildren(cc.Label).string=i:r.getComponentInChildren(cc.Sprite).spriteFrame=this.getSf(i),this.node.addChild(r)}this._updateWidth(),this._updateYSPecialChar(),this._updateYalChar()},e.prototype._updateWidth=function(){if(!(this._string.length<1)){var t=this._string.split(""),e=t.filter(function(t){return","==t||"."==t}).length,n=(t.length-e)*this.maxWidth+e*this.maxWidthSpecialChar;this.node.width=n;var o=this.node.children,i=o[0],r=this._getWidthNodeByName(i);i.width=r,i.x=-n/2+r/2,i.scale=this._scale;for(var s=1,a=o.length;s<a;s++){var c=o[s];r=this._getWidthNodeByName(c),c.width=r,c.x=i.x+(i.width/2+r/2),(i=c).scale=this._scale}}},e.prototype._updateCustomWidth=function(){},e.prototype._updateYSPecialChar=function(){for(var t=0,e=this.node.children;t<e.length;t++){var n=e[t];"."==n.name||","==n.name?n.y=this._offYSpeciChar:"x"!=n.name&&"%"!=n.name||(n.y=this._offYSpeciChar+20)}},e.prototype._updateYalChar=function(){for(var t=0,e=this.node.children;t<e.length;t++){var n=e[t];"."!=n.name&&","!=n.name?n.y=this._offYChar:n.y=this._offYSpeciChar}},e.prototype._getWidthNodeByName=function(t){var e=t.name;return","==e||"."==e||"%"==e?this._maxWidthSpecialChar:this._maxWidth},r([l({type:u})],e.prototype,"type",void 0),r([l({type:cc.SpriteAtlas,visible:function(){return this.type==u.ATLAS}})],e.prototype,"atlas",void 0),r([l({visible:function(){return this.type==u.ATLAS},tooltip:'L\xe0 k\xfd t\u1ef1 b\u1ecb thay th\u1ebf khi l\u1ea5y t\xean \u1ea3nh t\u1eeb atlas.\nV\xed d\u1ee5: "0_bule_font" th\xec k\xfd t\u1ef1 thay th\u1ebf l\xe0: _bule_font'})],e.prototype,"tempReplaceAtlas",void 0),r([l({visible:function(){return this.type==u.ATLAS},tooltip:"l\xe0 get k\xfd t\u1ef1 b\u1ecb thay th\u1ebf l\xe0 \u1edf \u0111\u1ea7u hay \u1edf \u0111u\xf4i.vd blueFont_0 l\xe0 \u1edf \u0111\u1ea7u,0_blueFont l\xe0 \u1edf cu\u1ed1i ok?"})],e.prototype,"isPrefix",void 0),r([l({type:cc.SpriteFrame,visible:function(){return this.type==u.LIST_SF},tooltip:"0-9.,"})],e.prototype,"listFS",void 0),r([l({type:cc.Font,visible:function(){return this.type==u.BITMAP_FONT}})],e.prototype,"font",void 0),r([l],e.prototype,"_string",void 0),r([l],e.prototype,"string",null),r([l],e.prototype,"_maxWidth",void 0),r([l],e.prototype,"maxWidth",null),r([l],e.prototype,"_maxWidthSpecialChar",void 0),r([l],e.prototype,"maxWidthSpecialChar",null),r([l],e.prototype,"_offYSpeciChar",void 0),r([l],e.prototype,"offYSpeciChar",null),r([l],e.prototype,"_offYChar",void 0),r([l],e.prototype,"offYChar",null),r([l],e.prototype,"_scale",void 0),r([l],e.prototype,"scale",null),r([l(cc.Float)],e.prototype,"time",void 0),r([c],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Windown":"Windown"}],LichSuAiCap:[function(t,e,n){"use strict";cc._RF.push(e,"63024KjmihCt7zH3GzBTNr7","LichSuAiCap");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Network/ConectManager"),c=t("../../../Scritps/Popup/PageData/PageData"),l=t("../../../Scritps/Windown"),u=t("./DetailHistoryAiCap"),p=t("./ItemLichSuAiCap"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.detail=null,e.listData=null,e.maxRow=11,e}return i(e,t),e.prototype.show=function(){this.node.active=!0,this.reset(),this.node.y=-1280,this.node.stopAllActions(),this.node.runAction(cc.moveTo(.3,0,0)),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryAiCap,null,l.Windown.AiCap.roomSFS),l.Windown.UIManager.showLoading()},e.prototype.responseServer=function(t){l.Windown.UIManager.hideLoading();var e=t.getSFSArray("history");this.initWithListData(e)},e.prototype.responseServerChiTiet=function(t){l.Windown.UIManager.hideLoading(),this.showDetail(t)},e.prototype.initWithListData=function(t){cc.log(l.Windown.SFSArrToJson(t)),this.pageDate.content.children;var e=t.size(),n=Math.floor(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var a=n[r];if(i<this.listData.size()){null==a&&(a=cc.instantiate(o),e.addChild(a),a.y=-(r+1)*a.height+a.height/2);var c=this.listData.getSFSObject(i);a.getComponent(p.default).initItem(c),a.active=!0,i++}else{if(!a)break;a.active=!1}}},e.prototype.showDetail=function(t){console.log(l.Windown.SFSObjToJson(t)),this.detail.show(t)},e.prototype.resetContent=function(){for(var t=this.pageDate.content.children,e=0,n=t.length;e<n;e++)t[e].active=!1},e.prototype.reset=function(){this.pageDate.setTotalPage(1),this.pageDate.reset(),this.resetContent()},e.prototype.onClickClose=function(){var t=this;l.Windown.AiCap.audio.playClick(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.moveTo(.3,0,-1280),cc.callFunc(function(){t.node.active=!1})))},r([f(c.default)],e.prototype,"pageDate",void 0),r([f(u.default)],e.prototype,"detail",void 0),r([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Popup/PageData/PageData":"PageData","../../../Scritps/Windown":"Windown","./DetailHistoryAiCap":"DetailHistoryAiCap","./ItemLichSuAiCap":"ItemLichSuAiCap"}],LichSuAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"cac4aXBcIxD5pfLJiRpMVjH","LichSuAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Network/ConectManager"),c=t("../../../Scritps/Popup/PageData/PageData"),l=t("../../../Scritps/Windown"),u=t("./DetailHistoryAsgard"),p=t("./ItemLichSuAsgard"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.detail=null,e.listData=null,e.maxRow=11,e}return i(e,t),e.prototype.show=function(){this.node.active=!0,this.reset(),this.node.y=-1280,this.node.stopAllActions(),this.node.runAction(cc.moveTo(.3,0,0)),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryAsgard,null,l.Windown.Asgard.roomSFS),l.Windown.UIManager.showLoading()},e.prototype.responseServer=function(t){l.Windown.UIManager.hideLoading();var e=t.getSFSArray("history");this.initWithListData(e)},e.prototype.responseServerChiTiet=function(t){l.Windown.UIManager.hideLoading(),this.showDetail(t)},e.prototype.initWithListData=function(t){cc.log(l.Windown.SFSArrToJson(t)),this.pageDate.content.children;var e=t.size(),n=Math.floor(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var a=n[r];if(i<this.listData.size()){null==a&&(a=cc.instantiate(o),e.addChild(a),a.y=-(r+1)*a.height+a.height/2);var c=this.listData.getSFSObject(i);a.getComponent(p.default).initItem(c),a.active=!0,i++}else{if(!a)break;a.active=!1}}},e.prototype.showDetail=function(t){this.detail.show(t)},e.prototype.resetContent=function(){for(var t=this.pageDate.content.children,e=0,n=t.length;e<n;e++)t[e].active=!1},e.prototype.reset=function(){this.pageDate.setTotalPage(1),this.pageDate.reset(),this.resetContent()},e.prototype.onClickClose=function(){var t=this;l.Windown.Asgard.audio.playClick(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.moveTo(.3,0,-1280),cc.callFunc(function(){t.node.active=!1})))},r([f(c.default)],e.prototype,"pageDate",void 0),r([f(u.default)],e.prototype,"detail",void 0),r([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Popup/PageData/PageData":"PageData","../../../Scritps/Windown":"Windown","./DetailHistoryAsgard":"DetailHistoryAsgard","./ItemLichSuAsgard":"ItemLichSuAsgard"}],LichSuCaishen:[function(t,e,n){"use strict";cc._RF.push(e,"e8b4dT7/TFILoxzwmUQafRX","LichSuCaishen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Network/ConectManager"),c=t("../../../Scritps/Popup/PageData/PageData"),l=t("../../../Scritps/Windown"),u=t("./DetailHistoryCaishen"),p=t("./ItemLichSuCaishen"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.detail=null,e.listData=null,e.maxRow=11,e}return i(e,t),e.prototype.show=function(){this.node.active=!0,this.reset(),this.node.y=-1280,this.node.stopAllActions(),this.node.runAction(cc.moveTo(.3,0,0)),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryCaishen,null,l.Windown.Caishen.roomSFS),cc.log("Showw lich su"),l.Windown.UIManager.showLoading(),this.detail.node.active=!1},e.prototype.responseServer=function(t){l.Windown.UIManager.hideLoading();var e=t.getSFSArray("history");this.initWithListData(e)},e.prototype.responseServerChiTiet=function(t){l.Windown.UIManager.hideLoading(),this.showDetail(t)},e.prototype.initWithListData=function(t){cc.log(l.Windown.SFSArrToJson(t)),this.pageDate.content.children;var e=t.size(),n=Math.floor(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var a=n[r];if(i<this.listData.size()){null==a&&(a=cc.instantiate(o),e.addChild(a),a.y=-(r+1)*a.height+a.height/2);var c=this.listData.getSFSObject(i);a.getComponent(p.default).initItem(c),a.active=!0,i++}else{if(!a)break;a.active=!1}}},e.prototype.showDetail=function(t){console.log(l.Windown.SFSObjToJson(t)),this.detail.node.active=!0,this.detail.show(t)},e.prototype.resetContent=function(){for(var t=this.pageDate.content.children,e=0,n=t.length;e<n;e++)t[e].active=!1},e.prototype.reset=function(){this.pageDate.setTotalPage(1),this.pageDate.reset(),this.resetContent()},e.prototype.onClickClose=function(){var t=this;l.Windown.Caishen.audio.playClick(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.moveTo(.3,0,-1280),cc.callFunc(function(){t.node.active=!1})))},r([f(c.default)],e.prototype,"pageDate",void 0),r([f(u.default)],e.prototype,"detail",void 0),r([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Popup/PageData/PageData":"PageData","../../../Scritps/Windown":"Windown","./DetailHistoryCaishen":"DetailHistoryCaishen","./ItemLichSuCaishen":"ItemLichSuCaishen"}],LichSuCuoc:[function(t,e,n){"use strict";cc._RF.push(e,"541b7z2VoZHNbTFPrmHaAaU","LichSuCuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Popup/PageData/PageData"),c=t("../../../Scritps/Windown"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.parentItem=null,e.maxRow=7,e.listData=null,e}return i(e,t),e.prototype.start=function(){c.Windown.TaiXiu.sendRequest(s.REQUEST_CODE.TXhistoryBet,null)},e.prototype.response=function(t){cc.log(c.Windown.SFSObjToJson(t));var e=t.getSFSArray("history");e._dataHolder.reverse();var n=e.size(),o=parseInt(n/this.maxRow);n%this.maxRow>0&&o++,0==o&&(o=1),this.listData=e,this.pageDate.setTotalPage(o),this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.parentItem,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var a=n[r];if(i<this.listData.size()){null==a&&(a=cc.instantiate(o),e.addChild(a),a.y=-(r+1)*a.height+a.height/2);var c=this.listData.getSFSObject(i);this.initItem(a,c,r),a.active=!0,i++}else{if(!a)break;a.active=!1}}},e.prototype.initItem=function(t,e){cc.log("initItem:",c.Windown.SFSObjToJson(e)),t.getComponentsInChildren(cc.Label);var n=e.get("info");t.getChildByName("phien").getComponent(cc.Label).string="#"+e.get("round"),t.getChildByName("time").getComponent(cc.Label).string=c.Windown.formatDate(new Date(e.get("time")),"dd/MM HH:mm:ss"),t.getChildByName("tongCuoc").getComponent(cc.Label).string=c.Windown.formatNumber(e.get("bet"),!1);var o;o=e.get("agWin")<=0?"T\xe0i"==n?"X\u1ec9u":"T\xe0i":"T\xe0i"==n?"T\xe0i":"X\u1ec9u",t.getChildByName("lbResultBet").getComponent(cc.Label).string="K\u1ebft qu\u1ea3: "+n+" - \u0110\u1eb7t: "+o,t.getChildByName("lbWin").getComponent(cc.Label).string=c.Windown.formatNumber(e.get("agWin")),t.getChildByName("lbWin").color=e.get("agWin")>0?cc.Color.GREEN:cc.Color.RED,t.getChildByName("lbBalance").getComponent(cc.Label).string=c.Windown.formatNumber(e.get("ag"))},e.prototype.onClickClose=function(){c.Windown.TaiXiu&&(c.Windown.TaiXiu.lichSuCuoc=null),this.node.destroy()},r([p(a.default)],e.prototype,"pageDate",void 0),r([p(cc.Node)],e.prototype,"parentItem",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Popup/PageData/PageData":"PageData","../../../Scritps/Windown":"Windown"}],LichSuDieuThuyen:[function(t,e,n){"use strict";cc._RF.push(e,"a92a0rYkZ5EAodQWLuozm6z","LichSuDieuThuyen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Network/ConectManager"),c=t("../../../Scritps/Popup/PageData/PageData"),l=t("../../../Scritps/Windown"),u=t("./DetailHistoryDieuThuyen"),p=t("./ItemLichSuDieuThuyen"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.detail=null,e.listData=null,e.maxRow=11,e}return i(e,t),e.prototype.show=function(){this.node.active=!0,this.reset(),this.node.y=-1280,this.node.stopAllActions(),this.node.runAction(cc.moveTo(.3,0,0)),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryDieuThuyen,null,l.Windown.DieuThuyen.roomSFS),l.Windown.UIManager.showLoading()},e.prototype.responseServer=function(t){l.Windown.UIManager.hideLoading();var e=t.getSFSArray("history");this.initWithListData(e)},e.prototype.initWithListData=function(t){cc.log(t),this.pageDate.content.children;var e=t.size(),n=parseInt(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var a=n[r];if(i<this.listData.size()){null==a&&(a=cc.instantiate(o),e.addChild(a),a.y=-(r+1)*a.height+a.height/2);var c=this.listData.getSFSObject(i);a.getComponent(p.default).initItem(c),a.active=!0,i++}else{if(!a)break;a.active=!1}}},e.prototype.showDetail=function(t){this.detail.show(t)},e.prototype.resetContent=function(){for(var t=this.pageDate.content.children,e=0,n=t.length;e<n;e++)t[e].active=!1},e.prototype.reset=function(){this.pageDate.setTotalPage(1),this.pageDate.reset(),this.resetContent()},e.prototype.onClickClose=function(){var t=this;l.Windown.DieuThuyen.audio.playClick(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.moveTo(.3,0,-1280),cc.callFunc(function(){t.node.active=!1})))},r([f(c.default)],e.prototype,"pageDate",void 0),r([f(u.default)],e.prototype,"detail",void 0),r([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Popup/PageData/PageData":"PageData","../../../Scritps/Windown":"Windown","./DetailHistoryDieuThuyen":"DetailHistoryDieuThuyen","./ItemLichSuDieuThuyen":"ItemLichSuDieuThuyen"}],LichSuDuaXe:[function(t,e,n){"use strict";cc._RF.push(e,"9fbf4oWAu1IgJnLYdZq0VzR","LichSuDuaXe");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.LichSuDuaXe=void 0;var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Network/ConectManager"),c=t("../../../Scritps/Popup/PageData/PageData"),l=t("../../../Scritps/Windown"),u=t("./DetailHistoryDuaXe"),p=t("./ItemLichSuDuaXe"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.detail=null,e.listData=null,e.maxRow=11,e}return i(e,t),e.prototype.onLoad=function(){this.detail.node.active=!1},e.prototype.show=function(){this.node.active=!0,this.reset(),this.node.setPosition(this.node.getPosition().x,-1280,0),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.3,{position:cc.v3(0,0,0)}).start(),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryDuaXe,null,l.Windown.DuaXe.roomSFS),l.Windown.UIManager.showLoading()},e.prototype.responseServer=function(t){l.Windown.UIManager.hideLoading(),console.log("Reponse History M: "+JSON.stringify(t));var e=JSON.parse(l.Windown.SFSObjToJson(t));if(e.errorMessage)l.Windown.Dialog.showLog(e.errorMessage);else{var n=e.history;this.initWithListData(n)}},e.prototype.responseServerChiTiet=function(t){var e=JSON.parse(l.Windown.SFSObjToJson(t));l.Windown.UIManager.hideLoading(),this.showDetail(e)},e.prototype.initWithListData=function(t){this.pageDate.content.children;var e=t.length,n=Math.floor(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var a=n[r];if(i<this.listData.length){null==a&&(a=cc.instantiate(o),e.addChild(a),a.setPosition(cc.v3(a.getPosition().x,-(r+1)*a.height+a.height/2,0)));var c=this.listData[i];a.getComponent(p.default).initItem(c),a.active=!0,i++}else{if(!a)break;a.active=!1}}},e.prototype.showDetail=function(t){this.detail.show(t)},e.prototype.resetContent=function(){for(var t=this.pageDate.content.children,e=0,n=t.length;e<n;e++)t[e].active=!1},e.prototype.reset=function(){this.pageDate.setTotalPage(1),this.pageDate.reset(),this.resetContent()},e.prototype.onClickClose=function(){var t=this;cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.3,{position:cc.v3(0,-1280,0)}).call(function(){t.node.active=!1}).start()},r([f(c.default)],e.prototype,"pageDate",void 0),r([f(u.default)],e.prototype,"detail",void 0),r([d],e)}(cc.Component);n.LichSuDuaXe=y,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Popup/PageData/PageData":"PageData","../../../Scritps/Windown":"Windown","./DetailHistoryDuaXe":"DetailHistoryDuaXe","./ItemLichSuDuaXe":"ItemLichSuDuaXe"}],LichSuGiaoDich:[function(t,e,n){"use strict";cc._RF.push(e,"7b102c9wbRFubyi6Qz6BJCP","LichSuGiaoDich");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/REQUEST_CODE"),a=t("../../Network/ConectManager"),c=t("../../Windown"),l=t("../PageData/PageData"),u=t("./ItemLichSuGiaoDich"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.parentType=null,e.listData=null,e.currentTye=-1,e.curentRoom=1,e.maxRow=7,e}return i(e,t),e.prototype.onLoad=function(){c.Windown.LichSuGiaoDich=this},e.prototype.onDestroy=function(){c.Windown.LichSuGiaoDich=null},e.prototype.show=function(){c.Windown.actionEffectOpen(this.node),c.Windown.UIManager.showLoading(),this.reset(),a.ConectManager.getIns().sendRequestToCallback(s.REQUEST_CODE.GetTranscationsShop,null,this.response.bind(this))},e.prototype.response=function(t){c.Windown.Dialog.checkAndShowLog(t,!1),this.initWithListData(t.getSFSArray("listData")),c.Windown.UIManager.hideLoading()},e.prototype.initWithListData=function(t){var e=t.size(),n=parseInt(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var a=n[r];if(i<this.listData.size()){null==a&&(a=cc.instantiate(o),e.addChild(a),a.y=-(r+1)*a.height+a.height/2);var c=this.listData.getSFSObject(i);a.getComponent(u.default).initItem(c),a.active=!0,i++}else{if(!a)break;a.active=!1}}},e.prototype.onClickActiveType=function(){this.parentType.active=!this.parentType.active},e.prototype.resetContent=function(){for(var t=this.pageDate.content.children,e=0,n=t.length;e<n;e++)t[e].active=!1},e.prototype.reset=function(){this.pageDate.setTotalPage(1),this.pageDate.reset(),this.resetContent()},e.prototype.onClickClose=function(){var t=this;c.Windown.actionEffectClose(this.node,function(){t.node.parent=null})},r([d(l.default)],e.prototype,"pageDate",void 0),r([d(cc.Node)],e.prototype,"parentType",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../Network/ConectManager":"ConectManager","../../Windown":"Windown","../PageData/PageData":"PageData","./ItemLichSuGiaoDich":"ItemLichSuGiaoDich"}],LichSuHu:[function(t,e,n){"use strict";cc._RF.push(e,"89617EtjcZAhIm/+6AQjDcS","LichSuHu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Popup/PageData/PageData"),c=t("../../../Scritps/Windown"),l=t("./ItemHistoryHuTX"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.parentItem=null,e.maxRow=6,e.listData=null,e}return i(e,t),e.prototype.start=function(){c.Windown.TaiXiu.sendRequest(s.REQUEST_CODE.TXHisHu,null)},e.prototype.responseServer=function(t){this.listData=new SFS2X.SFSArray,c.Windown.UIManager.hideLoading();var e=t.getSFSArray("data");this.sortData(e);var n=e.size(),o=parseInt(n/this.maxRow);n%this.maxRow>0&&o++,0==o&&(o=1),this.pageDate.setTotalPage(o),this.onChangePage(1)},e.prototype.sortData=function(t){for(var e=this,n=[],o=0,i=t.size();o<i;o++)n.push(t.getSFSObject(o));n.sort(function(t,e){return e.getInt("agWin")-t.getInt("agWin")}),n.forEach(function(t){e.listData.addSFSObject(t)})},e.prototype.onChangePage=function(t){for(var e=this.parentItem,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var a=n[r];if(i<this.listData.size()){null==a&&(a=cc.instantiate(o),e.addChild(a),a.y=-(r+1)*a.height+a.height/2);var c=this.listData.getSFSObject(i);this.initItem(a,c,i),a.active=!0,i++}else{if(!a)break;a.active=!1}}},e.prototype.initItem=function(t,e,n){t.getComponent(l.default).initItem(e,n)},e.prototype.onClickClose=function(){c.Windown.TaiXiu&&(c.Windown.TaiXiu.histoyHu=null),this.node.destroy()},r([h(a.default)],e.prototype,"pageDate",void 0),r([h(cc.Node)],e.prototype,"parentItem",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Popup/PageData/PageData":"PageData","../../../Scritps/Windown":"Windown","./ItemHistoryHuTX":"ItemHistoryHuTX"}],LichSuJackpot:[function(t,e,n){"use strict";cc._RF.push(e,"51defQ02eJCJaQPEiGGJbBX","LichSuJackpot");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Popup/PageData/PageData"),a=t("../../../Scritps/Windown"),c=t("./ItemLichSuJackpot"),l=t("./Network/CODE_EVT"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.parentType=null,e.listData=null,e.currentTye=-1,e.curentRoom=1,e.maxRow=8,e}return i(e,t),e.prototype.onLoad=function(){a.Windown.LichSuGiaoDich=this},e.prototype.onDestroy=function(){a.Windown.LichSuGiaoDich=null},e.prototype.start=function(){this.node.angle=a.Windown.UIManager.isVertical?0:90},e.prototype.show=function(){a.Windown.actionEffectOpenPopup(this.node),a.Windown.UIManager.showLoading(),this.reset(),a.Windown.FishBongDem.sendRequest(l.default.GetLogJackpot,null)},e.prototype.response=function(t){a.Windown.Dialog.checkAndShowLog(t,!1),cc.log("data: "+a.Windown.SFSObjToJson(t)),this.initWithListData(t.getSFSArray("data")),a.Windown.UIManager.hideLoading()},e.prototype.initWithListData=function(t){t._dataHolder.reverse();var e=t.size(),n=parseInt(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var a=n[r];if(i<this.listData.size()){null==a&&(a=cc.instantiate(o),e.addChild(a),a.y=-(r+1)*a.height+a.height/2);var l=this.listData.getSFSObject(i);a.getComponent(c.default).initItem(l),a.active=!0,i++}else{if(!a)break;a.active=!1}}},e.prototype.onClickActiveType=function(){this.parentType.active=!this.parentType.active},e.prototype.resetContent=function(){for(var t=this.pageDate.content.children,e=0,n=t.length;e<n;e++)t[e].active=!1},e.prototype.reset=function(){this.pageDate.setTotalPage(1),this.pageDate.reset(),this.resetContent()},e.prototype.onClickClose=function(){var t=this;a.Windown.actionEffectClosePopup(this.node,function(){t.node.active=!1})},r([h(s.default)],e.prototype,"pageDate",void 0),r([h(cc.Node)],e.prototype,"parentType",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../Scritps/Popup/PageData/PageData":"PageData","../../../Scritps/Windown":"Windown","./ItemLichSuJackpot":"ItemLichSuJackpot","./Network/CODE_EVT":"CODE_EVT"}],LichSuLoDe:[function(t,e,n){"use strict";cc._RF.push(e,"87e0a1ziyhBg5ihK1tGDfxX","LichSuLoDe");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Network/ConectManager"),c=t("../../../Scritps/Popup/PageData/PageData"),l=t("../../../Scritps/Windown"),u=t("./ItemLichSuLoDe"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.listData=null,e.maxRow=4,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){var t=a.ConectManager.getIns().getSFSObj();l.Windown.LoDe.sendRequest(s.REQUEST_CODE.LichsuLoDe,t)},e.prototype.show=function(){l.Windown.actionEffectOpenPopup(this.node.getChildByName("Container"))},e.prototype.onClickClose=function(){var t=this;l.Windown.actionEffectClosePopup(this.node.getChildByName("Container"),function(){t.node.active=!1})},e.prototype.setInfo=function(t){this.listData=t.getSFSArray("history"),this.initWithListData(this.listData)},e.prototype.initWithListData=function(t){var e=t.size(),n=parseInt(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var a=n[r];if(i<this.listData.size()){null==a&&(a=cc.instantiate(o),e.addChild(a),a.y=-(r+1)*a.height+a.height/2);var c=this.listData.getSFSObject(i);a.getComponent(u.default).initItem(c),a.active=!0,i++}else{if(!a)break;a.active=!1}}},r([d(c.default)],e.prototype,"pageDate",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Popup/PageData/PageData":"PageData","../../../Scritps/Windown":"Windown","./ItemLichSuLoDe":"ItemLichSuLoDe"}],LichSuMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"95cf6ezmD5Cq4sGW2tQiIAZ","LichSuMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=t("../../../Scritps/DefineTs/REQUEST_CODE"),u=t("../../../Scritps/Network/ConectManager"),p=t("../../../Scritps/Popup/PageData/PageData"),h=t("../../../Scritps/Windown"),d=t("./DetailHistoryMatChuoc"),f=t("./ItemLichSuMatChuoc"),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.detail=null,e.listData=null,e.maxRow=11,e}return i(e,t),e.prototype.show=function(){this.node.active=!0,this.reset(),this.node.setPosition(this.node.getPosition().x,-1280,0),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.3,{position:cc.v3(0,0,0)}).start(),u.ConectManager.getIns().sendRequest(l.REQUEST_CODE.HistoryMatChuoc,null,h.Windown.MatChuoc.roomSFS),h.Windown.UIManager.showLoading()},e.prototype.responseServer=function(t){h.Windown.UIManager.hideLoading(),console.log("Reponse History M: "+h.Windown.SFSObjToJson(t));var e=JSON.parse(h.Windown.SFSObjToJson(t));if(e.errorMessage)h.Windown.Dialog.showLog(e.errorMessage);else{var n=e.history;this.initWithListData(n)}},e.prototype.responseServerChiTiet=function(t){var e=JSON.parse(h.Windown.SFSObjToJson(t));h.Windown.UIManager.hideLoading(),this.showDetail(e)},e.prototype.initWithListData=function(t){this.pageDate.content.children;var e=t.length,n=Math.floor(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var a=n[r];if(i<this.listData.length){null==a&&(a=cc.instantiate(o),e.addChild(a),a.setPosition(cc.v3(a.getPosition().x,-(r+1)*a.height+a.height/2,0)));var c=this.listData[i];a.getComponent(f.default).initItem(c),a.active=!0,i++}else{if(!a)break;a.active=!1}}},e.prototype.showDetail=function(t){this.detail.show(t)},e.prototype.resetContent=function(){for(var t=this.pageDate.content.children,e=0,n=t.length;e<n;e++)t[e].active=!1},e.prototype.reset=function(){this.pageDate.setTotalPage(1),this.pageDate.reset(),this.resetContent()},e.prototype.onClickClose=function(){var t=this;h.Windown.MatChuoc.audio.playClick(),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.3,{position:cc.v3(0,-1280,0)}).call(function(){t.node.active=!1}).start()},r([c(p.default)],e.prototype,"pageDate",void 0),r([c(d.default)],e.prototype,"detail",void 0),r([a],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Popup/PageData/PageData":"PageData","../../../Scritps/Windown":"Windown","./DetailHistoryMatChuoc":"DetailHistoryMatChuoc","./ItemLichSuMatChuoc":"ItemLichSuMatChuoc"}],LichSuMatTroi:[function(t,e,n){"use strict";cc._RF.push(e,"24686easvlN75Wa9mZi54Mo","LichSuMatTroi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Network/ConectManager"),c=t("../../../Scritps/Popup/PageData/PageData"),l=t("../../../Scritps/Windown"),u=t("./DetailHistoryMatTroi"),p=t("./ItemLichSuMatTroi"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.detail=null,e.listData=null,e.maxRow=11,e}return i(e,t),e.prototype.show=function(){this.node.active=!0,this.reset(),this.node.y=-1280,this.node.stopAllActions(),this.node.runAction(cc.moveTo(.3,0,0)),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryMatTroi,null,l.Windown.MatTroiView.roomSFS),l.Windown.UIManager.showLoading()},e.prototype.responseServer=function(t){l.Windown.UIManager.hideLoading();var e=t.getSFSArray("history");this.initWithListData(e)},e.prototype.responseServerChiTiet=function(t){l.Windown.UIManager.hideLoading(),this.showDetail(t)},e.prototype.initWithListData=function(t){cc.log(l.Windown.SFSArrToJson(t)),this.pageDate.content.children;var e=t.size(),n=Math.floor(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var a=n[r];if(i<this.listData.size()){null==a&&(a=cc.instantiate(o),e.addChild(a),a.y=-(r+1)*a.height+a.height/2);var c=this.listData.getSFSObject(i);a.getComponent(p.default).initItem(c),a.active=!0,i++}else{if(!a)break;a.active=!1}}},e.prototype.showDetail=function(t){console.log(l.Windown.SFSObjToJson(t)),this.detail.show(t)},e.prototype.resetContent=function(){for(var t=this.pageDate.content.children,e=0,n=t.length;e<n;e++)t[e].active=!1},e.prototype.reset=function(){this.pageDate.setTotalPage(1),this.pageDate.reset(),this.resetContent()},e.prototype.onClickClose=function(){var t=this;l.Windown.MatTroiView.audio.playClick(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.moveTo(.3,0,-1280),cc.callFunc(function(){t.node.active=!1})))},r([f(c.default)],e.prototype,"pageDate",void 0),r([f(u.default)],e.prototype,"detail",void 0),r([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Popup/PageData/PageData":"PageData","../../../Scritps/Windown":"Windown","./DetailHistoryMatTroi":"DetailHistoryMatTroi","./ItemLichSuMatTroi":"ItemLichSuMatTroi"}],LichSuNeko:[function(t,e,n){"use strict";cc._RF.push(e,"e98b2OnyZlJu5cE9Fe+HpTm","LichSuNeko");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Network/ConectManager"),c=t("../../../Scritps/Popup/PageData/PageData"),l=t("../../../Scritps/Windown"),u=t("./DetailHistoryNeko"),p=t("./ItemLichSuNeko"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.detail=null,e.listData=null,e.maxRow=11,e}return i(e,t),e.prototype.show=function(){this.node.active=!0,this.reset(),this.node.y=-1280,this.node.stopAllActions(),this.node.runAction(cc.moveTo(.3,0,0)),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryNeko,null,l.Windown.Neko.roomSFS),l.Windown.UIManager.showLoading()},e.prototype.responseServer=function(t){l.Windown.UIManager.hideLoading();var e=t.getSFSArray("history");this.initWithListData(e)},e.prototype.responseServerChiTiet=function(t){l.Windown.UIManager.hideLoading(),this.showDetail(t)},e.prototype.initWithListData=function(t){cc.log(l.Windown.SFSArrToJson(t)),this.pageDate.content.children;var e=t.size(),n=Math.floor(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var a=n[r];if(i<this.listData.size()){null==a&&(a=cc.instantiate(o),e.addChild(a),a.y=-(r+1)*a.height+a.height/2);var c=this.listData.getSFSObject(i);a.getComponent(p.default).initItem(c),a.active=!0,i++}else{if(!a)break;a.active=!1}}},e.prototype.showDetail=function(t){console.log(l.Windown.SFSObjToJson(t)),this.detail.show(t)},e.prototype.resetContent=function(){for(var t=this.pageDate.content.children,e=0,n=t.length;e<n;e++)t[e].active=!1},e.prototype.reset=function(){this.pageDate.setTotalPage(1),this.pageDate.reset(),this.resetContent()},e.prototype.onClickClose=function(){var t=this;l.Windown.Neko.audio.playClick(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.moveTo(.3,0,-1280),cc.callFunc(function(){t.node.active=!1})))},r([f(c.default)],e.prototype,"pageDate",void 0),r([f(u.default)],e.prototype,"detail",void 0),r([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Popup/PageData/PageData":"PageData","../../../Scritps/Windown":"Windown","./DetailHistoryNeko":"DetailHistoryNeko","./ItemLichSuNeko":"ItemLichSuNeko"}],LichSuNgoKhong:[function(t,e,n){"use strict";cc._RF.push(e,"19872zHUT1MpqyYlTQhlbH2","LichSuNgoKhong");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Network/ConectManager"),c=t("../../../Scritps/Popup/PageData/PageData"),l=t("../../../Scritps/Windown"),u=t("./DetailHistoryNgoKhong"),p=t("./ItemLichSuNgoKhong"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.detail=null,e.listData=null,e.maxRow=11,e}return i(e,t),e.prototype.show=function(){this.node.active=!0,this.reset(),this.node.y=-1280,this.node.stopAllActions(),this.node.runAction(cc.moveTo(.3,0,0)),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryNgoKhong,null,l.Windown.NgoKhong.roomSFS),l.Windown.UIManager.showLoading()},e.prototype.responseServer=function(t){l.Windown.UIManager.hideLoading();var e=t.getSFSArray("history");this.initWithListData(e)},e.prototype.initWithListData=function(t){cc.log(l.Windown.SFSArrToJson(t)),this.pageDate.content.children;var e=t.size(),n=parseInt(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var a=n[r];if(i<this.listData.size()){null==a&&(a=cc.instantiate(o),e.addChild(a),a.y=-(r+1)*a.height+a.height/2);var c=this.listData.getSFSObject(i);a.getComponent(p.default).initItem(c),a.active=!0,i++}else{if(!a)break;a.active=!1}}},e.prototype.showDetail=function(t){this.detail.show(t)},e.prototype.resetContent=function(){for(var t=this.pageDate.content.children,e=0,n=t.length;e<n;e++)t[e].active=!1},e.prototype.reset=function(){this.pageDate.setTotalPage(1),this.pageDate.reset(),this.resetContent()},e.prototype.onClickClose=function(){var t=this;l.Windown.NgoKhong.audio.playClick(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.moveTo(.3,0,-1280),cc.callFunc(function(){t.node.active=!1})))},r([f(c.default)],e.prototype,"pageDate",void 0),r([f(u.default)],e.prototype,"detail",void 0),r([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Popup/PageData/PageData":"PageData","../../../Scritps/Windown":"Windown","./DetailHistoryNgoKhong":"DetailHistoryNgoKhong","./ItemLichSuNgoKhong":"ItemLichSuNgoKhong"}],LichSuQuyBa:[function(t,e,n){"use strict";cc._RF.push(e,"a31b67YozlLjIsM8esGRVzr","LichSuQuyBa");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=t("../../../Scritps/DefineTs/REQUEST_CODE"),u=t("../../../Scritps/Popup/PageData/PageData"),p=t("./ItemLichSuQuyBa"),h=t("./DetailHistoryQuyBa"),d=t("../../../Scritps/Windown"),f=t("../../../Scritps/Network/ConectManager"),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.detail=null,e.listData=null,e.maxRow=11,e}return i(e,t),e.prototype.onLoad=function(){this.detail.node.active=!1},e.prototype.show=function(){this.node.active=!0,this.reset(),this.node.setPosition(this.node.getPosition().x,-1280,0),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.3,{position:cc.v3(0,0,0)}).start(),f.ConectManager.getIns().sendRequest(l.REQUEST_CODE.HistoryQuyBa,null,d.Windown.QuyBa.roomSFS),d.Windown.UIManager.showLoading()},e.prototype.responseServer=function(t){d.Windown.UIManager.hideLoading(),console.log("Reponse History M: "+d.Windown.SFSObjToJson(t));var e=JSON.parse(d.Windown.SFSObjToJson(t));if(e.errorMessage)d.Windown.Dialog.showLog(e.errorMessage);else{var n=e.history;this.initWithListData(n)}},e.prototype.responseServerChiTiet=function(t){var e=JSON.parse(d.Windown.SFSObjToJson(t));d.Windown.UIManager.hideLoading(),this.showDetail(e)},e.prototype.initWithListData=function(t){this.pageDate.content.children;var e=t.length,n=Math.floor(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var a=n[r];if(i<this.listData.length){null==a&&(a=cc.instantiate(o),e.addChild(a),a.setPosition(cc.v3(a.getPosition().x,-(r+1)*a.height+a.height/2,0)));var c=this.listData[i];a.getComponent(p.default).initItem(c),a.active=!0,i++}else{if(!a)break;a.active=!1}}},e.prototype.showDetail=function(t){this.detail.show(t)},e.prototype.resetContent=function(){for(var t=this.pageDate.content.children,e=0,n=t.length;e<n;e++)t[e].active=!1},e.prototype.reset=function(){this.pageDate.setTotalPage(1),this.pageDate.reset(),this.resetContent()},e.prototype.onClickClose=function(){var t=this;cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.3,{position:cc.v3(0,-1280,0)}).call(function(){t.node.active=!1}).start()},r([c(u.default)],e.prototype,"pageDate",void 0),r([c(h.default)],e.prototype,"detail",void 0),r([a],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Popup/PageData/PageData":"PageData","../../../Scritps/Windown":"Windown","./DetailHistoryQuyBa":"DetailHistoryQuyBa","./ItemLichSuQuyBa":"ItemLichSuQuyBa"}],LichSuRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"3fdb0i6oK5ES4RnVwtvnQfl","LichSuRungRam");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Network/ConectManager"),c=t("../../../Scritps/Popup/PageData/PageData"),l=t("../../../Scritps/Windown"),u=t("./DetailHistoryRungRam"),p=t("./ItemLichSuRungRam"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.detail=null,e.listData=null,e.maxRow=11,e}return i(e,t),e.prototype.show=function(){this.node.active=!0,this.reset(),this.node.y=-1280,this.node.stopAllActions(),this.node.runAction(cc.moveTo(.3,0,0)),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryRungRam,null,l.Windown.RungRam.roomSFS),l.Windown.UIManager.showLoading()},e.prototype.responseServer=function(t){l.Windown.UIManager.hideLoading();var e=t.getSFSArray("history");this.initWithListData(e)},e.prototype.responseServerChiTiet=function(t){l.Windown.UIManager.hideLoading(),this.showDetail(t)},e.prototype.initWithListData=function(t){cc.log(l.Windown.SFSArrToJson(t)),this.pageDate.content.children;var e=t.size(),n=Math.floor(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var a=n[r];if(i<this.listData.size()){null==a&&(a=cc.instantiate(o),e.addChild(a),a.y=-(r+1)*a.height+a.height/2);var c=this.listData.getSFSObject(i);a.getComponent(p.default).initItem(c),a.active=!0,i++}else{if(!a)break;a.active=!1}}},e.prototype.showDetail=function(t){this.detail.show(t)},e.prototype.resetContent=function(){for(var t=this.pageDate.content.children,e=0,n=t.length;e<n;e++)t[e].active=!1},e.prototype.reset=function(){this.pageDate.setTotalPage(1),this.pageDate.reset(),this.resetContent()},e.prototype.onClickClose=function(){var t=this;l.Windown.RungRam.audio.playClick(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.moveTo(.3,0,-1280),cc.callFunc(function(){t.node.active=!1})))},r([f(c.default)],e.prototype,"pageDate",void 0),r([f(u.default)],e.prototype,"detail",void 0),r([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Popup/PageData/PageData":"PageData","../../../Scritps/Windown":"Windown","./DetailHistoryRungRam":"DetailHistoryRungRam","./ItemLichSuRungRam":"ItemLichSuRungRam"}],LichSuTraoThuong:[function(t,e,n){"use strict";cc._RF.push(e,"58289TLUXxJ553RDXHHLBUi","LichSuTraoThuong");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/REQUEST_CODE"),a=t("../../Network/ConectManager"),c=t("../../Windown"),l=t("./ItemLichSuTraoThuong"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.currentType=-1,e}return i(e,t),e.prototype.show=function(t){if(this.node.active=!0,c.Windown.actionEffectOpenPopup(this.node),this.currentType!=t){this.currentType=t;var e=a.ConectManager.getIns().getSFSObj();e.putInt("type",t),a.ConectManager.getIns().sendRequestToCallback(s.REQUEST_CODE.GetHistoryRank,e,this.responseServer.bind(this))}},e.prototype.onToggle=function(t,e){"week"==e?this.show(0):this.show(1)},e.prototype.responseServer=function(t){cc.log("nhay vao response lichsu");for(var e=t.getSFSArray("listData"),n=[],o=0,i=e.size();o<i;o++)n.push(e.getSFSObject(o));n.sort(function(t,e){return t.getInt("indexRank")-e.getInt("indexRank")});var r=this.content.children;for(o=0,i=r.length;o<i;o++){var s=r[o].getComponent(l.default);o<n.length?(s.node.active=!0,s.initItem(n[o])):s.node.active=!1}},e.prototype.onClickClose=function(){var t=this;c.Windown.actionEffectClosePopup(this.node,function(){t.node.active=!1})},r([h(cc.Node)],e.prototype,"content",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../Network/ConectManager":"ConectManager","../../Windown":"Windown","./ItemLichSuTraoThuong":"ItemLichSuTraoThuong"}],LichSuTruTien:[function(t,e,n){"use strict";cc._RF.push(e,"e8e8eI7z1BIC5UFl1aqFdLh","LichSuTruTien");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Network/ConectManager"),c=t("../../../Scritps/Popup/PageData/PageData"),l=t("../../../Scritps/Windown"),u=t("./DetailHistoryTruTien"),p=t("./ItemLichSuTruTien"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.detail=null,e.listData=null,e.maxRow=11,e}return i(e,t),e.prototype.show=function(){this.node.active=!0,this.reset(),this.node.y=-1280,this.node.stopAllActions(),this.node.runAction(cc.moveTo(.3,0,0)),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryTruTien,null,l.Windown.TruTien.roomSFS),l.Windown.UIManager.showLoading()},e.prototype.responseServer=function(t){l.Windown.UIManager.hideLoading();var e=t.getSFSArray("history");this.initWithListData(e)},e.prototype.initWithListData=function(t){cc.log(t),this.pageDate.content.children;var e=t.size(),n=parseInt(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var a=n[r];if(i<this.listData.size()){null==a&&(a=cc.instantiate(o),e.addChild(a),a.y=-(r+1)*a.height+a.height/2);var c=this.listData.getSFSObject(i);a.getComponent(p.default).initItem(c),a.active=!0,i++}else{if(!a)break;a.active=!1}}},e.prototype.showDetail=function(t){this.detail.show(t)},e.prototype.resetContent=function(){for(var t=this.pageDate.content.children,e=0,n=t.length;e<n;e++)t[e].active=!1},e.prototype.reset=function(){this.pageDate.setTotalPage(1),this.pageDate.reset(),this.resetContent()},e.prototype.onClickClose=function(){var t=this;l.Windown.TruTien.audio.playClick(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.moveTo(.3,0,-1280),cc.callFunc(function(){t.node.active=!1})))},r([f(c.default)],e.prototype,"pageDate",void 0),r([f(u.default)],e.prototype,"detail",void 0),r([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Popup/PageData/PageData":"PageData","../../../Scritps/Windown":"Windown","./DetailHistoryTruTien":"DetailHistoryTruTien","./ItemLichSuTruTien":"ItemLichSuTruTien"}],ListennerEventSpin:[function(t,e,n){"use strict";cc._RF.push(e,"9a7a3AHMB5ICpX59OGn7ud5","ListennerEventSpin");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.SpinSuccess=function(){},e.prototype.ShowTextSuccess=function(){s.Windown.MiniPoker.ShowTextSuccess()},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],LoDeConfirmPopup:[function(t,e,n){"use strict";cc._RF.push(e,"21c041dXjJAQKKgCU9hGi9r","LoDeConfirmPopup");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbDate=null,e.lbTypeBet=null,e.lbNumberBet=null,e.lbPriceBet=null,e.lbTotalBet=null,e.lbWinBet=null,e.callBack=null,e}return i(e,t),e.prototype.onEnable=function(){s.Windown.actionEffectOpen(this.node.getChildByName("Container"))},e.prototype.start=function(){},e.prototype.setInfo=function(t,e,n,o,i,r,a){this.lbDate.string=t,this.lbTypeBet.string=this.getTypeBet(e),this.lbNumberBet.string=n,this.lbPriceBet.string=s.Windown.formatNumber(o),this.lbTotalBet.string=s.Windown.formatNumber(i),this.lbWinBet.string=s.Windown.formatNumber(r),this.callBack=a},e.prototype.getTypeBet=function(t){var e="";switch(t){case 1:e="\u0110\u1ec0 \u0110\u1eb6C BI\u1ec6T";break;case 3:e="L\xd4 T\xd4 2 S\u1ed0";break;case 2:e="3 C\xc0NG";break;case 4:e="XI\xcaN 2";break;case 5:e="XI\xcaN 3";break;case 6:e="XI\xcaN 4"}return e},e.prototype.onClickConfirm=function(){null!=this.callBack&&(this.callBack(),this.onClickClose())},e.prototype.onClickClose=function(){var t=this;s.Windown.actionEffectClose(this.node.getChildByName("Container"),function(){t.node.active=!1})},r([l(cc.Label)],e.prototype,"lbDate",void 0),r([l(cc.Label)],e.prototype,"lbTypeBet",void 0),r([l(cc.Label)],e.prototype,"lbNumberBet",void 0),r([l(cc.Label)],e.prototype,"lbPriceBet",void 0),r([l(cc.Label)],e.prototype,"lbTotalBet",void 0),r([l(cc.Label)],e.prototype,"lbWinBet",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],LoDeController:[function(t,e,n){"use strict";cc._RF.push(e,"bf5fbSyR/VJMoSX0ImZnDCh","LoDeController");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Scritps/DefineTs/TextDefine"),s=t("../../../Scritps/Game/GAME_TYPE"),a=t("../../../Scritps/Windown"),c=function(){function t(){}return t.prototype.intiGame=function(){return o(this,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:return[4,a.Windown.loadBundle(s.default.XocDia.toString())];case 1:return t=e.sent(),a.Windown.UIManager.showLoadingData(),t.preloadScene("Lode",{},function(t,e){a.Windown.UIManager.setPerData(t/e)},function(e){e?a.Windown.Dialog.showLog(r.TextDefine.Error):t.loadScene("Lode",function(t,e){if(t)return a.Windown.Dialog.showLog(r.TextDefine.Error),void a.Windown.UIManager.hideLoadingData();cc.director.runScene(e,null,function(){a.Windown.UIManager.hideLoadingData()})})}),[2]}})})},t.prototype.start=function(){},t}();n.default=c,cc._RF.pop()},{"../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Windown":"Windown"}],LoDeView:[function(t,e,n){"use strict";cc._RF.push(e,"1f429yTlyxHHbBYCVHob0bf","LoDeView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../DevDatePicker/DevDatePicker"),a=t("../../../Scritps/DefineTs/EVENT_MANAGER"),c=t("../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../Scritps/DefineTs/TextDefine"),u=t("../../../Scritps/Game/GAME_TYPE"),p=t("../../../Scritps/Network/ConectManager"),h=t("../../../Scritps/Network/Http"),d=t("../../../Scritps/Windown"),f=t("./EdbLoDeController"),y=t("./LichSuLoDe"),g=t("./LoDeConfirmPopup"),m=cc._decorator,v=m.ccclass,S=m.property,b={De:1,BaCang:2,Lo:3,LoXien2:4,LoXien3:5,LoXien4:6},w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bkgSprite=null,e.bgAudio=null,e.nodeBetLo=null,e.nodeBetDe=null,e.nodeBaCang=null,e.nodeLoXien=null,e.nodeResult=null,e.nodeThongKe=null,e.listNodeNumTK=[],e.nodeSetting=null,e.tglChangeSizeTK=null,e.datePickerResult=null,e.popupLichSu=null,e.edbPrice=null,e.edbTotalBet=null,e.popupConfirm=null,e.edbNumberBet=null,e.lbRemainTime=null,e.lbBalance=null,e.lbToday=null,e.lbPriceBet=null,e.lbTotalBet=null,e.lbTotalWin=null,e.lbDateCurrentResult=null,e.lbGiaiDB=null,e.lbGiaiNhat=null,e.lbGiai2=[],e.lbGiai3=[],e.lbGiai4=[],e.lbGiai5=[],e.lbGiai6=[],e.lbGiai7=[],e.sprUpDown=[],e.dateToday=new Date,e.result=null,e.typeTK="not",e.sizeTK=50,e.dataTK=null,e.gameType=0,e.sfs=null,e.objFinish=null,e.roomSFS=null,e.rateDe=95,e.priceDe=1,e.rateLo=99,e.priceLo=27,e.rate3Cang=900,e.price3Cang=1,e.rateLoXien2=17,e.priceLoXien2=1,e.rateLoXien3=65,e.priceLoXien3=1,e.rateLoXien4=250,e.priceLoXien4=1,e.totalWinPerNum=0,e.typeBet=b.Lo,e.strTimeRelease="",e}return i(e,t),e.prototype.update=function(){this.countTimeRemain()},e.prototype.onLoad=function(){var t=this;this.datePickerResult.setDate(this.dateToday.getFullYear(),this.dateToday.getMonth(),this.dateToday.getDate()),this.datePickerResult.setPickDateCallback(function(e,n,o){t.lbDateCurrentResult.string=(o<10?"0"+o:o)+"-"+(n+1<10?"0"+(n+1):n+1),t.getResult(o,n+1,e),t.openDatePicker()}),this.strTimeRelease="18:05:00"},e.prototype.start=function(){d.Windown.LoDe=this,this.gameType=u.default.Lode,this.sfs=p.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(a.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),this.sendJoinRoom(),this.setInfoView(),this.dateToday.getHours()<18||18==this.dateToday.getHours()&&this.dateToday.getMinutes()<35?this.getResult(this.dateToday.getDate()-1,this.dateToday.getMonth()+1,this.dateToday.getFullYear()):this.getResult(this.dateToday.getDate(),this.dateToday.getMonth()+1,this.dateToday.getFullYear()),this.getInfoThongKe(),this.edbPrice.initInfo(),this.edbTotalBet.initInfo(),"on"==d.Windown.getLocalStorage("music")?this.bgAudio.play():this.bgAudio.pause(),this.setupView()},e.prototype.setupView=function(){if(cc.sys.isMobile)cc.log("view mobile:",cc.winSize),this.node.angle=90,t=this.node.addComponent(cc.Widget),this.bkgSprite.node.angle=90,this.node.setContentSize(cc.winSize.height,cc.winSize.width),d.Windown.UIManager.changeRotation(!1);else{cc.log("view web:"+cc.view.getDesignResolutionSize());var t,e=cc.view.getDesignResolutionSize().height/720;this.node.angle=0,cc.log("SetupView: "+e),this.node.setScale(e,e,e),this.bkgSprite.node.angle=0,this.bkgSprite.node.setContentSize(cc.winSize.width,cc.winSize.height),(t=this.node.getComponent(cc.Widget)).left=0,t.right=0,t.bottom=0,t.top=0,t.updateAlignment(),d.Windown.UIManager.changeRotation(!0)}},e.prototype.countTimeRemain=function(){if(""!=this.strTimeRelease){var t=this.strTimeRelease.split(":"),e=new Date,n=parseInt(t[0]),o=parseInt(t[1]),i=parseInt(t[2]),r="",s="",a="";r=0==e.getHours()?"0"+n:n>=e.getHours()?"0"+(n-e.getHours()):"0"+(n+24-e.getHours()),s="0"+(60-Math.abs(o-e.getMinutes())),a="0"+(60-Math.abs(i-e.getSeconds())),this.lbRemainTime.string=r.slice(-2)+":"+s.slice(-2)+":"+a.slice(-2)}},e.prototype.sendJoinRoom=function(){d.Windown.UIManager.showLoading();var t=this.sfs.roomManager.getRoomListFromGroup("LD").find(function(t){return cc.log("value"+t.getVariable("cj").value),t.containsVariable("cj")&&t.getVariable("cj").value});t?(this.roomSFS=t,t.isJoined?this.sendGetInfoRoom():(cc.log("nhay vao send join rom: "+t),this.sfs.send(new SFS2X.JoinRoomRequest(t,null,-1)))):this.scheduleOnce(this.sendJoinRoom,3)},e.prototype.sendGetInfoRoom=function(){},e.prototype.sendRequest=function(t,e){p.ConectManager.getIns().sendRequest(t,e,this.roomSFS)},e.prototype.onDisconnect=function(){cc.log("disconnect"),cc.director.loadScene("main"),this.clear()},e.prototype.userExitRoom=function(t){if("LD"==t.room.groupId&&(cc.log("user exit room LODE"),t.user.isItMe))return this.clear(),void cc.director.loadScene("main")},e.prototype.clear=function(){cc.systemEvent.targetOff(this),this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),this.objFinish&&(this.objFinish.get("agWin"),d.Windown.MoneyUser.removeDelay(this.gameType)),d.Windown.MoneyUser.endGameMOney(this.gameType)},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(e){case c.REQUEST_CODE.InfoRoomLoDe:this.handleInfoRoom(n);break;case c.REQUEST_CODE.BetLoDe:this.handleBet(n);break;case c.REQUEST_CODE.LichsuLoDe:this.popupLichSu.setInfo(n);break;default:cc.log("Khong vao Case Nao ca:"+e+"\n",d.Windown.SFSObjToJson(n))}},e.prototype.handleBet=function(t){cc.log("handleBet:"+d.Windown.SFSObjToJson(t)),t.containsKey("status")&&t.getBool("status")?(d.Windown.Dialog.showDialog("\u0110\u1eb7t c\u01b0\u1ee3c th\xe0nh c\xf4ng!"),this.lbBalance.string=d.Windown.formatNumber(t.getLong("ag"))):t.containsKey("errorMessage")&&""!=t.getUtfString("errorMessage")&&d.Windown.Dialog.showDialog(t.getUtfString("errorMessage"))},e.prototype.handleInfoRoom=function(t){this.rateDe=t.getInt("rateDe"),this.rateLo=t.getInt("rateLo"),this.rate3Cang=t.getInt("rate3Cang"),this.rateLoXien2=t.getInt("rateLoXien2"),this.rateLoXien3=t.getInt("rateLoXien3"),this.rateLoXien4=t.getInt("rateLoXien4"),this.priceDe=t.getInt("priceDe"),this.priceLo=t.getInt("priceLo"),this.price3Cang=t.getInt("price3Cang"),this.priceLoXien2=t.getInt("priceLoXien2"),this.priceLoXien3=t.getInt("priceLoXien3"),this.priceLoXien4=t.getInt("priceLoXien4")},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),d.Windown.UIManager.hideLoading(),d.Windown.Dialog.showLog(l.TextDefine.ERR_JOIN_ROOM)},e.prototype.onJoinRoom=function(t){var e=t.room;cc.log("onJoinRoom :",t),"LD"==e.groupId&&(cc.log("r\xf4m lak "+e.id),d.Windown.UIManager.hideLoading())},e.prototype.setInfoView=function(){this.lbBalance.string=d.Windown.formatNumber(d.Windown.User.userAg),this.dateToday.getHours()<18||18==this.dateToday.getHours()&&this.dateToday.getMinutes()<30?this.lbToday.string=this.dateToday.getDate()+"-"+(this.dateToday.getMonth()+1):this.lbToday.string=this.dateToday.getDate()+1+"-"+(this.dateToday.getMonth()+1)},e.prototype.getInfoThongKe=function(){var t=this,e="https://api.vgjt.info/ld3m/lotte/stats?city_id=1&size="+this.sizeTK;h.default.get(e,{},function(e,n){null!=e?cc.log("Respone Errr =",e):(t.dataTK=n,t.setInfoTK())})},e.prototype.setInfoTK=function(){for(var t=this.dataTK[this.typeTK],e=this.nodeThongKe.getChildByName("NumberContainer"),n=0,o=t.length;n<o;n++)e.children[n].getChildByName("iconChange").active=!1,e.children[n].getChildByName("lbChange").active=!1,e.children[n].getChildByName("lbNum").getComponent(cc.Label).string=t[n].number,e.children[n].getChildByName("lbTurn").getComponent(cc.Label).string=t[n].count+" l\u1ea7n","not"!=this.typeTK&&(e.children[n].getChildByName("iconChange").active=!0,e.children[n].getChildByName("lbChange").active=!0,e.children[n].getChildByName("lbChange").color="less"==this.typeTK?cc.Color.RED:cc.Color.GREEN,e.children[n].getChildByName("iconChange").getComponent(cc.Sprite).spriteFrame="less"==this.typeTK?this.sprUpDown[1]:this.sprUpDown[0],e.children[n].getChildByName("lbChange").getComponent(cc.Label).string=t[n].change)},e.prototype.getResult=function(t,e,n){var o,i=this,r="https://api.vgjt.info/ld3m/lotte/results?date=%s&city=1";o=t+"-"+e+"-"+n,this.lbDateCurrentResult.string=(t<10?"0"+t:t)+"-"+(e+1<10?"0"+e:e),r=cc.js.formatStr(r,o),h.default.get(r,{},function(t,e){if(null!=t)cc.log("Respone Errr =",t);else if(cc.log("Respone Result =",e),e.success){var n=e.rows;if(null!=n.result){i.result=n.result,i.lbGiaiDB.string=n.result.special,i.lbGiaiNhat.string=n.result.prize1;var o=n.result.prize2.split("-");i.lbGiai2.forEach(function(t,e){t.string=o[e]});var r=n.result.prize3.split("-");i.lbGiai3.forEach(function(t,e){t.string=r[e]});var s=n.result.prize4.split("-");i.lbGiai4.forEach(function(t,e){t.string=s[e]});var a=n.result.prize5.split("-");i.lbGiai5.forEach(function(t,e){t.string=a[e]});var c=n.result.prize6.split("-");i.lbGiai6.forEach(function(t,e){t.string=c[e]});var l=n.result.prize7.split("-");i.lbGiai7.forEach(function(t,e){t.string=l[e]})}else i.lbGiaiDB.string="",i.lbGiaiNhat.string="",i.lbGiai2.forEach(function(t){t.string=""}),i.lbGiai3.forEach(function(t){t.string=""}),i.lbGiai4.forEach(function(t){t.string=""}),i.lbGiai5.forEach(function(t){t.string=""}),i.lbGiai6.forEach(function(t){t.string=""}),i.lbGiai7.forEach(function(t){t.string=""})}})},e.prototype.onClickChangeTypeResult=function(t,e){var n=this,o=0;"full"==e?o=0:"two"==e?o=2:"three"==e&&(o=3),this.lbGiaiDB.string=this.setResultLabel(this.result.special,0==o?this.result.special.length:o),this.lbGiaiNhat.string=this.setResultLabel(this.result.prize1,0==o?this.result.special.length:o);var i=this.result.prize2.split("-");this.lbGiai2.forEach(function(t,e){t.string=n.setResultLabel(i[e],0==o?i[e].length:o)});var r=this.result.prize3.split("-");this.lbGiai3.forEach(function(t,e){t.string=n.setResultLabel(r[e],0==o?r[e].length:o)});var s=this.result.prize4.split("-");this.lbGiai4.forEach(function(t,e){t.string=n.setResultLabel(s[e],0==o?s[e].length:o)});var a=this.result.prize5.split("-");this.lbGiai5.forEach(function(t,e){t.string=n.setResultLabel(a[e],0==o?a[e].length:o)});var c=this.result.prize6.split("-");this.lbGiai6.forEach(function(t,o){t.string="three"==e||"full"==e?c[o]:n.setResultLabel(c[o],2)});var l=this.result.prize7.split("-");this.lbGiai7.forEach(function(t,e){t.string=l[e]})},e.prototype.setResultLabel=function(t,e){return(t=t.trim()).substring(t.length-e,t.length)},e.prototype.onClickTabTypeBet=function(t,e){this.nodeBetDe.active=this.nodeBetLo.active=this.nodeBaCang.active=this.nodeLoXien.active=!1;var n="<color=#FFFFFF>Thanh to\xe1n </c><color=#FFEE2E>1</color><color=#FFFFFF> l\xf4. \u0110\u1eb7t </color><color=#FFEE2E>1</color><color=#FFFFFF> \u0103n </color><color=#FFEE2E>%s</color>";switch(e){case"De":this.nodeBetDe.active=!0,this.typeBet=b.De,this.edbNumberBet=this.nodeBetDe.getChildByName("edbChooseNumber").getComponent(cc.EditBox);break;case"Lo":this.nodeBetLo.active=!0,this.typeBet=b.Lo,this.edbNumberBet=this.nodeBetLo.getChildByName("edbChooseNumber").getComponent(cc.EditBox);break;case"BaCang":this.nodeBaCang.active=!0,this.typeBet=b.BaCang,this.edbNumberBet=this.nodeBaCang.getChildByName("edbChooseNumber").getComponent(cc.EditBox);break;case"LoXien":this.nodeLoXien.active=!0,this.typeBet=b.LoXien2,cc.find("ButtonContainer/tgleXien2",this.nodeLoXien).getComponent(cc.Toggle).isChecked=!0,this.nodeLoXien.getChildByName("lbRate").getComponent(cc.RichText).string=cc.js.formatStr(n,this.rateLoXien2),this.edbNumberBet=this.nodeLoXien.getChildByName("edbChooseNumber").getComponent(cc.EditBox);break;case"LoXien2":this.nodeLoXien.active=!0,this.typeBet=b.LoXien2,this.nodeLoXien.getChildByName("lbRate").getComponent(cc.RichText).string=cc.js.formatStr(n,this.rateLoXien2),this.edbNumberBet=this.nodeLoXien.getChildByName("edbChooseNumber").getComponent(cc.EditBox);break;case"LoXien3":this.nodeLoXien.active=!0,this.typeBet=b.LoXien3,this.nodeLoXien.getChildByName("lbRate").getComponent(cc.RichText).string=cc.js.formatStr(n,this.rateLoXien3),this.edbNumberBet=this.nodeLoXien.getChildByName("edbChooseNumber").getComponent(cc.EditBox);break;case"LoXien4":this.nodeLoXien.active=!0,this.typeBet=b.LoXien4,this.nodeLoXien.getChildByName("lbRate").getComponent(cc.RichText).string=cc.js.formatStr(n,this.rateLoXien4),this.edbNumberBet=this.nodeLoXien.getChildByName("edbChooseNumber").getComponent(cc.EditBox)}this.edbPrice.initInfo(),this.edbTotalBet.initInfo()},e.prototype.onClickTabKQTK=function(t,e){this.nodeThongKe.active="TK"==e,this.nodeResult.active="KQ"==e},e.prototype.onClickChangeTypeTK=function(t,e){this.typeTK=e,this.setInfoTK()},e.prototype.onClickChangeSizeTK=function(t,e){this.sizeTK=parseInt(e),this.getInfoThongKe(),this.tglChangeSizeTK.isChecked=!1,this.nodeThongKe.getChildByName("lbSoKy").getComponent(cc.Label).string=this.sizeTK+" K\u1ef3"},e.prototype.openDatePicker=function(){var t=this;this.datePickerResult.node.active?cc.tween(this.datePickerResult.node.getChildByName("Bkg")).to(.3,{scaleY:0},{easing:cc.easing.backIn}).call(function(){t.datePickerResult.node.active=!1}).start():(this.datePickerResult.node.active=!0,cc.tween(this.datePickerResult.node.getChildByName("Bkg")).set({scaleY:0}).to(.3,{scaleY:1},{easing:cc.easing.backOut}).start())},e.prototype.onClickDatCuoc=function(){var t=this,e=this.edbNumberBet.getComponent(f.default).listNumber;if(0!=e.length){var n=1e3*this.edbTotalBet.getNumberValue(),o=1e3*this.edbPrice.getNumberValue();if(d.Windown.User.userAg<n)d.Windown.UIManager.showAlertMini("S\u1ed1 d\u01b0 kh\xf4ng \u0111\u1ee7. Vui l\xf2ng n\u1ea1p th\xeam!");else if(this.typeBet==b.LoXien2&&e.length<2||this.typeBet==b.LoXien3&&e.length<3||this.typeBet==b.LoXien4&&e.length<4)d.Windown.UIManager.showAlertMini("Ch\u01b0a \u0111\u1ee7 s\u1ed1 \u0111\u1ec3 \u0111\u1eb7t c\u01b0\u1ee3c l\xf4 xi\xean!");else{this.popupConfirm.node.active=!0;var i=this.lbToday.string+"-"+this.dateToday.getFullYear();cc.log("totalWinPerNum=="+this.totalWinPerNum),this.popupConfirm.setInfo(i,this.typeBet,this.edbNumberBet.string,o,n,this.totalWinPerNum,function(){var o=p.ConectManager.getIns().getSFSObj(),i=t.getTypeBetRequest();o.putInt("type",i),o.putLong("tiencuoc",n),o.putIntArray("danhsachsocuoc",e),t.sendRequest(c.REQUEST_CODE.BetLoDe,o)})}}else d.Windown.UIManager.showAlertMini("Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111\u1ec1!")},e.prototype.onConfirmBet=function(){},e.prototype.getTypeBetRequest=function(){var t=0;switch(this.typeBet){case b.De:t=1;break;case b.Lo:t=0;break;case b.BaCang:t=2;break;case b.LoXien2:case b.LoXien3:case b.LoXien4:t=3}return t},e.prototype.onDestroy=function(){cc.systemEvent.removeAll(this),this.roomSFS=null,this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),d.Windown.GameView=null,d.Windown.LoDe=null},e.prototype.onShowSetting=function(){this.nodeSetting.active=!0,cc.tween(this.nodeSetting).set({x:-this.node.width/2-this.nodeSetting.width}).to(.2,{x:-this.node.width/2},{easing:cc.easing.sineIn}).start()},e.prototype.onHideSetting=function(){cc.tween(this.nodeSetting).to(.2,{x:-this.node.width/2-this.nodeSetting.width},{easing:cc.easing.sineOut}).start()},e.prototype.onClickBack=function(){try{p.ConectManager.getIns().sendLeaveRoom(this.roomSFS),cc.log("Send Leave Room")}catch(t){this.clear(),cc.director.loadScene("main")}},e.prototype.onClickLichSu=function(){cc.isValid(this.popupLichSu)&&(this.popupLichSu.node.active=!0,this.popupLichSu.show())},r([S(cc.Sprite)],e.prototype,"bkgSprite",void 0),r([S(cc.AudioSource)],e.prototype,"bgAudio",void 0),r([S(cc.Node)],e.prototype,"nodeBetLo",void 0),r([S(cc.Node)],e.prototype,"nodeBetDe",void 0),r([S(cc.Node)],e.prototype,"nodeBaCang",void 0),r([S(cc.Node)],e.prototype,"nodeLoXien",void 0),r([S(cc.Node)],e.prototype,"nodeResult",void 0),r([S(cc.Node)],e.prototype,"nodeThongKe",void 0),r([S([cc.Node])],e.prototype,"listNodeNumTK",void 0),r([S(cc.Node)],e.prototype,"nodeSetting",void 0),r([S(cc.Toggle)],e.prototype,"tglChangeSizeTK",void 0),r([S(s.default)],e.prototype,"datePickerResult",void 0),r([S(y.default)],e.prototype,"popupLichSu",void 0),r([S(f.default)],e.prototype,"edbPrice",void 0),r([S(f.default)],e.prototype,"edbTotalBet",void 0),r([S(g.default)],e.prototype,"popupConfirm",void 0),r([S(cc.EditBox)],e.prototype,"edbNumberBet",void 0),r([S(cc.Label)],e.prototype,"lbRemainTime",void 0),r([S(cc.Label)],e.prototype,"lbBalance",void 0),r([S(cc.Label)],e.prototype,"lbToday",void 0),r([S(cc.Label)],e.prototype,"lbPriceBet",void 0),r([S(cc.Label)],e.prototype,"lbTotalBet",void 0),r([S(cc.Label)],e.prototype,"lbTotalWin",void 0),r([S(cc.Label)],e.prototype,"lbDateCurrentResult",void 0),r([S(cc.Label)],e.prototype,"lbGiaiDB",void 0),r([S(cc.Label)],e.prototype,"lbGiaiNhat",void 0),r([S([cc.Label])],e.prototype,"lbGiai2",void 0),r([S([cc.Label])],e.prototype,"lbGiai3",void 0),r([S([cc.Label])],e.prototype,"lbGiai4",void 0),r([S([cc.Label])],e.prototype,"lbGiai5",void 0),r([S([cc.Label])],e.prototype,"lbGiai6",void 0),r([S([cc.Label])],e.prototype,"lbGiai7",void 0),r([S([cc.SpriteFrame])],e.prototype,"sprUpDown",void 0),r([v],e)}(cc.Component);n.default=w,cc._RF.pop()},{"../../../DevDatePicker/DevDatePicker":"DevDatePicker","../../../Scritps/DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Network/Http":"Http","../../../Scritps/Windown":"Windown","./EdbLoDeController":"EdbLoDeController","./LichSuLoDe":"LichSuLoDe","./LoDeConfirmPopup":"LoDeConfirmPopup"}],Loading:[function(t,e,n){"use strict";cc._RF.push(e,"5a2acfru5VIVqPR5Lg9kCxH","Loading");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},r([c(cc.Label)],e.prototype,"label",void 0),r([c],e.prototype,"text",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],LobbyView:[function(t,e,n){"use strict";cc._RF.push(e,"b5072io58RMzKxbjGiRTT2u","LobbyView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Windown"),a=t("./ItemBetRoom"),c=t("../DefineTs/REQUEST_CODE"),l=t("../Network/ConectManager"),u=t("../Game/GAME_TYPE"),p=t("./CreateTable"),h=t("./CheckPass"),d=cc._decorator,f=d.ccclass,y=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollViewTable=null,e.itemBetRoom=null,e.editBoxRoomId=null,e.createTablePrefabs=null,e.checkPassPrefabs=null,e.gameId=0,e}return i(e,t),e.prototype.onLoad=function(){s.Windown.LobbyView=this},e.prototype.onClickClose=function(){this.node.destroy(),s.Windown.LobbyView=null},e.prototype.onEnable=function(){for(var t=0;t<this.scrollViewTable.content.childrenCount;t++)this.scrollViewTable.content.children[t].getComponent(a.default).updateStateItem();s.Windown.User.userAg<=1e3&&s.Windown.UIManager.showBonusNap()},e.prototype.onDestroy=function(){cc.log("Lobby OnDestroy: ",s.Windown.LobbyView),s.Windown.LobbyView=null},e.prototype.setLobbyView=function(t,e){var n=JSON.parse(t);console.log("setLobbyView: ",n),this.node.active=!0,this.gameId=e;var o=JSON.parse(n.ListMark);this.listMarkLobby=o,this.scrollViewTable.content.removeAllChildren();for(var i=0;i<o.length;i++){var r=cc.instantiate(this.itemBetRoom).getComponent(a.default);r.node.active=!0,this.scrollViewTable.content.addChild(r.node),r.setInfo(o[i],i,this.gameId)}},e.prototype.onClickJoinPlayNow=function(){switch(this.gameId){case u.default.TienLen:s.Windown.MainView.onClickJoinTienLen(null,null,!1,-1,-1,"");break;default:return}},e.prototype.sendPlayNow=function(t){var e=l.ConectManager.getIns().getSFSObj();e.putInt("gameType",t),l.ConectManager.getIns().sendRequest(c.REQUEST_CODE.JOINPLAYNOW,e)},e.prototype.onClickCreateTable=function(){var t=cc.instantiate(this.createTablePrefabs).getComponent(p.default);null!=this.listMarkLobby&&t.init(this.listMarkLobby,this.gameId),this.node.addChild(t.node)},e.prototype.onClickFindTable=function(){if(""!=this.editBoxRoomId.string){var t=cc.instantiate(this.checkPassPrefabs).getComponent(h.default);t.init(this.gameId,parseInt(this.editBoxRoomId.string)),this.node.addChild(t.node)}},r([y(cc.ScrollView)],e.prototype,"scrollViewTable",void 0),r([y(cc.Node)],e.prototype,"itemBetRoom",void 0),r([y(cc.EditBox)],e.prototype,"editBoxRoomId",void 0),r([y(cc.Prefab)],e.prototype,"createTablePrefabs",void 0),r([y(cc.Prefab)],e.prototype,"checkPassPrefabs",void 0),r([f],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../DefineTs/REQUEST_CODE":"REQUEST_CODE","../Game/GAME_TYPE":"GAME_TYPE","../Network/ConectManager":"ConectManager","../Windown":"Windown","./CheckPass":"CheckPass","./CreateTable":"CreateTable","./ItemBetRoom":"ItemBetRoom"}],LogicManagerTL:[function(t,e,n){"use strict";cc._RF.push(e,"c865axVbS9EGJZ7VqasZHET","LogicManagerTL");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return i(e,t),n=e,e.checkDoiTL=function(t){return!(!n.checkDoi(t)||2!==t.length||t.length>0&&2==t[0].N)},e.checkXamTL=function(t){return!(!n.checkXam(t)||3!==t.length)},e.checkSanhTL=function(t){var e=t.slice();if(e.length<3)return!1;e.sort(function(t,e){return t.N-e.N});for(var n=0;n<e.length-1;n++)if(e[n].N+1!==e[n+1].N)return!1;return!0},e.ckeckThungPhaSanhTL=function(t){var e=t.slice();if(!this.checkSanhTL(e))return!1;for(var n=0;n<e.length-1;n++)if(e[n].S!==e[n+1].S)return!1;return!0},e.check2DoiThongTL=function(){return!1},e.check3DoiThongTL=function(t){var e=t.slice();if(6!==e.length)return!1;if(e.sort(function(t,e){return t.N-e.N}),e[0].N!=e[1].N)return!1;for(var n=0;n<e.length-2;n++)if(e[n].N+1!==e[n+2].N||2==e[n].N)return!1;return!0},e.check4DoiThongTL=function(t){var e=t.slice();if(8!==e.length)return!1;if(e.sort(function(t,e){return t.N-e.N}),e[0].N!=e[1].N)return!1;for(var n=0;n<e.length-2;n++)if(e[n].N+1!==e[n+2].N||2==e[n].N)return!1;return!0},e.checkHaiTL=function(t){var e=t.slice();return 1==e.length&&2==e[0].N},e.checkDoiHaiTL=function(t){var e=t.slice();if(2!=e.length)return!1;for(var n=0;n<e.length;n++)if(2!=e[n].N)return!1;return!0},e.checkTuQuy=function(t){var e=t.slice();if(e.sort(function(t,e){return t.N-e.N}),e.length<4)return!1;for(var n=0;n<e.length-1;n++){for(var o=0,i=n+1;i<e.length;i++)e[i].N===e[n].N&&o++;if(3===o)return!0}return!1},e.checkDoi=function(t){var e=t.slice();if(e.sort(function(t,e){return t.N-e.N}),e.length<2)return!1;for(var n=0;n<e.length-1;n++)if(e[n].N===e[n+1].N)return!0;return!1},e.checkXam=function(t){var e=t.slice();if(e.sort(function(t,e){return t.N-e.N}),e.length<3)return!1;for(var n=0;n<e.length-2;n++)if(e[n].N===e[n+1].N&&e[n+1].N===e[n+2].N)return!0;return!1},e.checkSetOfTwos=function(t){var e=t.slice();if(e.length>3||e.length<2)return!1;for(var n=0;n<e.length;n++)if(2!==e[n].N)return!1;return!0},n=r([a],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],MainView:[function(t,e,n){"use strict";cc._RF.push(e,"2e4aciY5iJFhZZI8ZQ9Q4KF","MainView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./Bundle/DownloadProgress"),l=t("./DefineTs/EVENT_MANAGER"),u=t("./DefineTs/REQUEST_CODE"),p=t("./DefineTs/TextDefine"),h=t("./Game/GAME_TYPE"),d=t("./Network/ConectManager"),f=t("./Other/DragMiniGame"),y=t("./Windown"),g=cc._decorator,m=g.ccclass,v=g.property,S=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.lbName=null,t.lbUserId=null,t.btnLogout=null,t.nodeLogin=null,t.parentIcon=null,t.imgAvatar=null,t.bgHeaderLeft=null,t.bgHeaderRight=null,t.lbNumNhiemVuDone=null,t.lbNumMailNotRead=null,t.lbNumMailNotRead2=null,t.lbJackpotTX=null,t.numNotReadMail=0,t.numDoneQuest=0,t.spBanNgay=null,t.spBanDem=null,t.spMain=null,t.btnPlayNow=null,t.btnLogin1=null,t.btnLogin2=null,t.btnDownloadApp=null,t.btnDangKy=null,t.btnFirtNap=null,t.spritetest=null,t.btnTaiXiu=null,t.btnMiniPoker=null,t.btnMiniSlot=null,t.listOtherGame=[],t.tglTabgame=[],t.btnGroupFb=null,t.tglSeeMore=null,t.edbTestBong=null,t.listTkErr=[],t}return i(n,e),n.prototype.onDisable=function(){},n.prototype.onClickTestBong=function(){cc.log("testBong:"+this.edbTestBong.string);var t=d.ConectManager.getIns().getSFSObj();t.putInt("type",1),t.putDouble("agTran",5e4),d.ConectManager.getIns().sendRequestToCallback(this.edbTestBong.string,t,this.responeTest.bind(this))},n.prototype.responeTest=function(t){var e=this;cc.log("responeTest",y.Windown.SFSObjToJson(t)),cc.systemEvent.removeAll(this),y.Windown.UIManager.showLoading(),this.scheduleOnce(function(){d.ConectManager.getIns().sendRequestToCallback("jointBong2",null,e.responeJointBong.bind(e))},1)},n.prototype.responeJointBong=function(t){y.Windown.UIManager.hideLoading(),cc.log("responeJointBong",y.Windown.SFSObjToJson(t))},n.prototype.onEnable=function(){y.Windown.UIManager.changeRotation(!0),this.lbJackpotTX.string=y.Windown.formatNumber(y.Windown.JackpotTX),y.Windown.BigWinLobby.alertMessageView.isHorizontal=!0,y.Windown.User.userAg<=2e3&&0==y.Windown.isFirtConnect&&y.Windown.UIManager.showShop();var t=cc.sys.localStorage.getItem("LastTabGame");null!=t&&("Slot"==t?(this.tglTabgame[1].isChecked=!0,this.tglTabgame[1].check()):(this.tglTabgame[0].isChecked=!0,this.tglTabgame[0].check()))},n.prototype.onLoad=function(){y.Windown.MainView=this,cc.find("info",this.node).active=!1,this.btnLogout.active=!1,y.Windown.User.isLogin||this.showNodeLogin(),cc.systemEvent.on(l.EVENT_MANAGER.onConnect,this.onConnect,this),cc.systemEvent.on(l.EVENT_MANAGER.onDisconnect,this.onLogout,this),cc.systemEvent.on(u.REQUEST_CODE.GetIdJoinRoom,this.responseGetIdRoom,this),y.Windown.BundleVersionLocal=Object.create({});var t=cc.sys.localStorage.getItem("BundleVersionLocal");null!=t&&(y.Windown.BundleVersionLocal=JSON.parse(t)),cc.sys.isBrowser?(cc.log("window.matchMedia('(display-mode: standalone)').matches="+window.matchMedia("(display-mode: standalone)").matches),cc.sys.os==cc.sys.OS_ANDROID&&!window.matchMedia("(display-mode: standalone)").matches||cc.sys.os==cc.sys.OS_IOS&&!window.navigator.standalone?this.btnDownloadApp.active=!0:this.btnDownloadApp.active=!1):this.btnDownloadApp.active=!1},n.prototype.onClickJoinAiCap=function(t,e,n){return s(this,void 0,void 0,function(){var t,e;return a(this,function(o){switch(o.label){case 0:return y.Windown.UIManager.checkAndShowDangNhap(),t=null,n&&(t=function(){y.Windown.MainView.onClickJoinAiCap(null,null,null)}),y.Windown.UIManager.onClickOpenBigGame(h.default.AiCap.toString(),t)?[3,2]:(y.Windown.UIManager.showLoadingData(),[4,y.Windown.loadBundle(h.default.AiCap.toString())]);case 1:e=o.sent();try{e.preloadScene("BauVatAiCap",{},function(t,e){y.Windown.UIManager.setPerData(t/e)},function(t){t&&(cc.log("errorLoadScence1:",t),y.Windown.Dialog.showLog(p.TextDefine.Error))}),e.loadScene("BauVatAiCap",function(t,e){if(t)return y.Windown.Dialog.showLog(p.TextDefine.Error),y.Windown.UIManager.hideLoadingData(),void cc.log("errorLoadScence2:",t);cc.director.runScene(e,null,function(){cc.log("scene Run BauVatAiCap"),y.Windown.UIManager.hideLoadingData()})})}catch(i){cc.log("errorLoadScence1:",i)}o.label=2;case 2:return[2]}})})},n.prototype.onClickJoinMuaDong=function(t,e,n){return s(this,void 0,void 0,function(){var t,e;return a(this,function(o){switch(o.label){case 0:return y.Windown.UIManager.checkAndShowDangNhap(),t=null,n&&(t=function(){y.Windown.MainView.onClickJoinMuaDong(null,null,null)}),y.Windown.UIManager.onClickOpenBigGame(h.default.MuaDong.toString(),t)?[3,2]:(y.Windown.UIManager.showLoadingData(),[4,y.Windown.loadBundle(h.default.MuaDong.toString())]);case 1:e=o.sent();try{e.preloadScene("MuaDongVoTan",{},function(t,e){y.Windown.UIManager.setPerData(t/e)},function(t){t&&(cc.log("errorLoadScence1:",t),y.Windown.Dialog.showLog(p.TextDefine.Error))}),e.loadScene("MuaDongVoTan",function(t,e){if(t)return y.Windown.Dialog.showLog(p.TextDefine.Error),y.Windown.UIManager.hideLoadingData(),void cc.log("errorLoadScence2:",t);cc.log(" runscene MuaDongVoTan"),cc.director.runScene(e,null,function(){cc.log("scene Run MuaDongVoTan"),y.Windown.UIManager.hideLoadingData()})})}catch(i){cc.log("errorLoadScence1:",i)}o.label=2;case 2:return[2]}})})},n.prototype.responseConfigShop=function(t){for(var e=t.getSFSArray("ListConfig"),n=0,o=0,i=e.size();o<i;o++){var r=e.getSFSObject(o);0==r.getInt("type")&&1==r.getInt("nhamangtype")&&1==r.getBool("statuss")&&n<r.getInt("requireVnd")&&(n=r.getInt("requireVnd"))}y.Windown.User.maxNap=n},n.prototype.onDestroy=function(){cc.systemEvent.targetOff(this),y.Windown.MainView=null,cc.sys.isNative&&jsb.Device.setKeepScreenOn(!0)},n.prototype.start=function(){cc.sys.isNative&&jsb.Device.setKeepScreenOn(!1);var t=(new Date).getHours();this.spMain.spriteFrame=t>=19||t<5?this.spBanDem:this.spBanNgay,this.node.setContentSize(cc.winSize),this.setStatusButton();var e=cc.repeatForever(cc.sequence(cc.scaleTo(.5,1.2),cc.scaleTo(.5,.9)));this.lbNumNhiemVuDone.node.parent.runAction(e.clone()),this.lbNumMailNotRead.node.parent.runAction(e.clone()),this.lbNumMailNotRead2.node.parent.runAction(e.clone()),this.lbNumNhiemVuDone.node.parent.active=!1,this.lbNumMailNotRead.node.parent.active=!1,this.lbNumMailNotRead2.node.parent.active=!1,y.Windown.User.isLogin?this.initUIUser():null!=y.Windown.getDeviceID()&&d.ConectManager.getIns().checkConnectAndConnect(),this.checkTaiApp()},n.prototype.setStatusButton=function(){cc.sys.isNative?(this.btnDangKy.active=!0,this.btnPlayNow.active=!1,this.btnLogin1.active=!0,this.btnLogin2.active=!1):(this.btnDangKy.active=!0,this.btnPlayNow.active=!1,this.btnLogin1.active=!1,this.btnLogin2.active=!0)},n.prototype.onConnect=function(){if(y.Windown.isFirtConnect&&null==y.Windown.BotController){var t=y.Windown.getLocalStorage("autoLogin");if(t&&"true"==t){var e=y.Windown.getLocalStorage("userName"),n=y.Windown.getLocalStorage("userPass");e&&""!=e&&n&&""!=n&&d.ConectManager.getIns().sendLogin(e,n,"")}if(cc.sys.isNative){var o=y.Windown.getLocalStorage("isLogInPlayNow");o&&"true"==o&&this.onClickGuest();var i=y.Windown.getLocalStorage("isLogInFb");i&&"true"==i&&this.onClickLoginFB()}else{var r=new URL(window.location.toString()),s=new URLSearchParams(r.search).get("token");if(null!=s&&""!=s){cc.log("token la "+s);var a=Object.create(null);a.tokenInWeb=s,d.ConectManager.getIns().loginFb(a)}}}y.Windown.isFirtConnect=!1},n.prototype.onClickTest=function(){},n.prototype.showNodeLogin=function(){this.nodeLogin.active=!0;var t=this.nodeLogin.getChildByName("Container");t.scale=5,cc.Tween.stopAllByTarget(t),cc.Tween.stopAllByTarget(t),cc.tween(t).to(.3,{scale:1,opacity:255},{easing:cc.easing.sineOut}).call(function(){}).start()},n.prototype.hideNodeLogin=function(){var t=this,e=this.nodeLogin.getChildByName("Container");cc.Tween.stopAllByTarget(e),cc.tween(e).to(.3,{scale:5,opacity:0},{easing:cc.easing.sineIn}).call(function(){t.nodeLogin.active=!1}).start()},n.prototype.initUIUser=function(){return s(this,void 0,void 0,function(){return a(this,function(){return this.lbName.string=y.Windown.User.nickName,this.lbUserId.string=y.Windown.User.userId+"",this.hideNodeLogin(),cc.find("info",this.node).active=!0,this.updateAvatar(y.Windown.SFSInfouser),cc.systemEvent.emit(l.EVENT_MANAGER.LEVEL_UP),this.btnFirtNap.getComponent(cc.Animation).play("BtnFirtNapOn"),this.btnFirtNap.getComponent(cc.Button).interactable=!0,this.updateNumNotReadMail(y.Windown.HomThuController.countNotRead),this.updateNumDoneQuest(),d.ConectManager.getIns().sendRequest(u.REQUEST_CODE.GetAccountBlance,null),y.Windown.BotController&&y.Windown.BotController.onLeaveRoomFish(),d.ConectManager.getIns().sendRequestToCallback(u.REQUEST_CODE.GetConfigTranfer,null,this.responseConfigShop.bind(this)),this.btnGroupFb.interactable=!0,[2]})})},n.prototype.updateNumDoneQuest=function(){y.Windown.NhiemVuConTroller.numQuestDone>0?(this.lbNumNhiemVuDone.node.parent.active=!0,this.lbNumNhiemVuDone.string=y.Windown.NhiemVuConTroller.numQuestDone.toString()):this.lbNumNhiemVuDone.node.parent.active=!1},n.prototype.updateNumNotReadMail=function(t){t>0?(this.lbNumMailNotRead.node.parent.active=!0,this.lbNumMailNotRead2.node.parent.active=!0,this.lbNumMailNotRead.string=t.toString(),this.lbNumMailNotRead2.string=t.toString()):(this.lbNumMailNotRead.node.parent.active=!1,this.lbNumMailNotRead2.node.parent.active=!1)},n.prototype.updateAvatar=function(t){return s(this,void 0,void 0,function(){return a(this,function(){return y.Windown.updateAvatar(t,this.imgAvatar),[2]})})},n.prototype.onLogout=function(){y.Windown.UIManager.hideLoading(),y.Windown.UIManager.hideLoadingData(),cc.find("info",this.node).active=!1,this.lbNumNhiemVuDone.node.parent.active=!1,this.lbNumMailNotRead.node.parent.active=!1,this.lbNumMailNotRead2.node.parent.active=!1,this.btnLogout.active=!1,this.showNodeLogin()},n.prototype.onClickDangNhap=function(){y.Windown.UIManager.showDangNhap()},n.prototype.onClickDangKy=function(){y.Windown.getDeviceID(),y.Windown.UIManager.showDangKy()},n.prototype.onClickBonusNap=function(){y.Windown.UIManager.showBonusNap()},n.prototype.onClickVongQuay=function(){y.Windown.UIManager.showVongQuay()},n.prototype.onClickTietKiem=function(){y.Windown.UIManager.showTietKiem()},n.prototype.onClickDaiLy=function(){y.Windown.UIManager.showDaiLy()},n.prototype.onClickTuiDo=function(){y.Windown.UIManager.showTuiDo()},n.prototype.onClickCuaHang=function(){y.Windown.UIManager.showCuaHang()},n.prototype.onClickLoginFB=function(){},n.prototype.OnFbStatusChangeCallback=function(){cc.log("statusChangeCallback")},n.prototype.CheckLFbLoginState=function(){var t=new URL(window.location.toString()),e=new URLSearchParams(t.search).get("token");if(null!=e&&""!=e&&!this.listTkErr.includes(e)){var n=Object.create(null);return n.tokenInWeb=e,void d.ConectManager.getIns().loginFb(n)}y.Windown.isClickBtnLogout=!1},n.prototype.onClickThoat=function(){if(cc.sys.isNative);else{var t=new URL(window.location.toString()),e=new URLSearchParams(t.search).get("token");null==e||""==e||this.listTkErr.includes(e)||this.listTkErr.push(e)}y.Windown.isClickBtnLogout=!0,y.Windown.setLocalStorage("userName",""),y.Windown.setLocalStorage("userPass",""),y.Windown.setLocalStorage("isLogInPlayNow","false"),y.Windown.setLocalStorage("isLogInFb","false"),d.ConectManager.getIns().sendLogout()},n.prototype.onClicShop=function(){y.Windown.UIManager.showShop()},n.prototype.onClickSuKien=function(){y.Windown.UIManager.showSuKien()},n.prototype.onClickGiftCode=function(){y.Windown.UIManager.showGiftCode()},n.prototype.onClickTransferBong=function(){y.Windown.UIManager.showTransferSport()},n.prototype.onClickNhiemVu=function(){y.Windown.UIManager.showNhiemVu()},n.prototype.onClickKhuyenMai=function(){y.Windown.UIManager.showNhiemVuNap()},n.prototype.onClickHomThu=function(){y.Windown.UIManager.showHomThu()},n.prototype.onClickHoTro=function(){cc.sys.openURL(y.Windown.LinkCSKH)},n.prototype.onClickShop=function(){y.Windown.UIManager.showShop()},n.prototype.onClickXepHang=function(){y.Windown.UIManager.showXepHang()},n.prototype.onClickThongTin=function(){y.Windown.UIManager.showLoading();var t=d.ConectManager.getIns().getSFSObj();t.putInt("Id",y.Windown.User.userId),d.ConectManager.getIns().sendRequest(u.REQUEST_CODE.GetInfo,t)},n.prototype.onClickCaiDat=function(){y.Windown.UIManager.showCaiDat()},n.prototype.onClickBaner=function(){y.Windown.UIManager.showSuKien()},n.prototype.onClickGuest=function(){y.Windown.UIManager.showLoading(),y.Windown.getDeviceID(),d.ConectManager.getIns().checkConnectAndConnect(),d.ConectManager.getIns().loginGuest()},n.prototype.onClickFanPage=function(){cc.log("onClickFanPage:"+y.Windown.LinkFanpage),y.Windown.LinkFanpage&&cc.sys.openURL(y.Windown.LinkFanpage)},n.prototype.onClickGroupTele=function(){cc.log("link tele=="+y.Windown.LinkTele),y.Windown.LinkTele&&cc.sys.openURL(y.Windown.LinkTele)},n.prototype.onClickDoi=function(){y.Windown.UIManager.showShop(1)},n.prototype.onClickJoinBongDem=function(e,n,o){return s(this,void 0,void 0,function(){var e,n;return a(this,function(i){switch(i.label){case 0:return y.Windown.UIManager.checkAndShowDangNhap(),e=null,o&&(e=function(){y.Windown.MainView.onClickJoinBongDem(null,null,null)}),y.Windown.UIManager.onClickOpenBigGame(h.default.BongDem,e)?[3,3]:(y.Windown.UIManager.showLoadingData(),[4,y.Windown.loadBundle(h.default.BongDem.toString())]);case 1:return n=i.sent(),[4,Promise.resolve().then(function(){return t("../Bundle/FishBongDem/Scritps/Game/FishBongDem")})];case 2:new(i.sent().default);try{n.preloadScene("FishBongDem",{},function(t,e){y.Windown.UIManager.setPerData(t/e)},function(t){t&&(cc.log("errorLoadScence1:",t),y.Windown.Dialog.showLog(p.TextDefine.Error))}),n.loadScene("FishBongDem",function(t,e){if(t)return y.Windown.Dialog.showLog(p.TextDefine.Error),y.Windown.UIManager.hideLoadingData(),void cc.log("errorLoadScence2:",t);cc.director.runScene(e,null,function(){cc.log("scene Run FishBongDem"),y.Windown.UIManager.hideLoadingData()})})}catch(r){cc.log("errorLoadScence1:",r)}i.label=3;case 3:return[2]}})})},n.prototype.onClickJoinXeng=function(e,n,o){return s(this,void 0,void 0,function(){var e,n;return a(this,function(i){switch(i.label){case 0:return y.Windown.UIManager.checkAndShowDangNhap(),e=null,o&&(e=function(){y.Windown.MainView.onClickJoinXeng(null,null,null)}),y.Windown.UIManager.onClickOpenBigGame(h.default.Xeng,e)?[3,3]:(y.Windown.UIManager.showLoading(),[4,y.Windown.loadBundle(h.default.Xeng.toString())]);case 1:return i.sent(),[4,Promise.resolve().then(function(){return t("../Bundle/Xeng/Scritps/XengController")})];case 2:n=i.sent(),y.Windown.UIManager.hideLoading(),(new n.default).intiGame(),i.label=3;case 3:return[2]}})})},n.prototype.onClickJoinMoonSun=function(t,e,n){return s(this,void 0,void 0,function(){var t,e;return a(this,function(o){switch(o.label){case 0:return y.Windown.UIManager.checkAndShowDangNhap(),t=null,n&&(t=function(){y.Windown.MainView.onClickJoinMoonSun(null,null,null)}),y.Windown.UIManager.onClickOpenBigGame(h.default.MatTroi.toString(),t)?[3,2]:(y.Windown.UIManager.showLoadingData(),[4,y.Windown.loadBundle(h.default.MatTroi.toString())]);case 1:e=o.sent();try{e.preloadScene("MatTroi",{},function(t,e){y.Windown.UIManager.setPerData(t/e)},function(t){t&&(cc.log("errorLoadScence1:",t),y.Windown.Dialog.showLog(p.TextDefine.Error))}),e.loadScene("MatTroi",function(t,e){if(t)return y.Windown.Dialog.showLog(p.TextDefine.Error),y.Windown.UIManager.hideLoadingData(),void cc.log("errorLoadScence2:",t);cc.log(" runscene Mat troi"),cc.director.runScene(e,null,function(){cc.log("scene Run Mat troi")})})}catch(i){cc.log("errorLoadScence1:",i)}o.label=2;case 2:return[2]}})})},n.prototype.onClickJoinBaccarat=function(e,n,o){return s(this,void 0,void 0,function(){var e,n;return a(this,function(i){switch(i.label){case 0:return y.Windown.UIManager.checkAndShowDangNhap(),e=null,o&&(e=function(){y.Windown.MainView.onClickJoinBaccarat(null,null,null)}),y.Windown.UIManager.onClickOpenBigGame(h.default.Baccarat,e)?[3,3]:(y.Windown.UIManager.showLoadingData(),[4,y.Windown.loadBundle(h.default.Baccarat.toString())]);case 1:return i.sent(),[4,Promise.resolve().then(function(){return t("../Bundle/Baccarat/Scripts/BaccaratController")})];case 2:n=i.sent(),y.Windown.UIManager.hideLoading(),(new n.default).intiGame(),i.label=3;case 3:return[2]}})})},n.prototype.onClickJoinXocDia=function(e,n,o){return s(this,void 0,void 0,function(){var e,n;return a(this,function(i){switch(i.label){case 0:return y.Windown.UIManager.checkAndShowDangNhap(),e=null,o&&(e=function(){y.Windown.MainView.onClickJoinXocDia(null,null,null)}),y.Windown.UIManager.onClickOpenBigGame(h.default.XocDia,e)?[3,3]:(y.Windown.UIManager.showLoadingData(),[4,y.Windown.loadBundle(h.default.XocDia.toString())]);case 1:return i.sent(),[4,Promise.resolve().then(function(){return t("../Bundle/XocDia/Scripts/XocDiaController")})];case 2:n=i.sent(),y.Windown.UIManager.hideLoading(),(new n.default).intiGame(),i.label=3;case 3:return[2]}})})},n.prototype.onClickJoinLoDe=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return y.Windown.UIManager.checkAndShowDangNhap(),y.Windown.UIManager.showLoadingData(),[4,y.Windown.loadBundle(h.default.Lode.toString())];case 1:(t=e.sent()).preloadScene("Lode",{},function(t,e){y.Windown.UIManager.setPerData(t/e)},function(e){e?y.Windown.Dialog.showLog(p.TextDefine.Error):t.loadScene("Lode",function(t,e){if(t)return y.Windown.Dialog.showLog(p.TextDefine.Error),void y.Windown.UIManager.hideLoadingData();cc.director.runScene(e,null,function(){y.Windown.UIManager.hideLoadingData()})})}),e.label=2;case 2:return[2]}})})},n.prototype.onClickJoinLobbyView=function(t,e){return s(this,void 0,void 0,function(){var t;return a(this,function(){return(t=d.ConectManager.getIns().getSFSObj()).putInt("gameType",parseInt(e)),y.Windown.UIManager.currentGameId=parseInt(e),d.ConectManager.getIns().sendRequest(u.REQUEST_CODE.GETLISTMARKGAME,t),[2]})})},n.prototype.onClickJoinTienLen=function(t,e,n,o,i,r,c){return void 0===o&&(o=-1),void 0===i&&(i=-1),void 0===r&&(r=""),void 0===c&&(c=!1),s(this,void 0,void 0,function(){var t,e;return a(this,function(s){switch(s.label){case 0:return y.Windown.UIManager.checkAndShowDangNhap(),t=null,n&&(t=function(){y.Windown.MainView.onClickJoinTienLen(null,null,null,o,i,r)}),y.Windown.UIManager.onClickOpenBigGame(h.default.TienLen,t)?[3,2]:(y.Windown.UIManager.showLoadingData(),[4,y.Windown.loadBundle(h.default.TienLen.toString())]);case 1:(e=s.sent()).preloadScene("TienLen",{},function(t,e){y.Windown.UIManager.setPerData(t/e)},function(t){if(t)return y.Windown.Dialog.showLog(p.TextDefine.Error),void cc.error(t);e.loadScene("TienLen",function(t,e){if(t)return y.Windown.Dialog.showLog(p.TextDefine.Error),y.Windown.UIManager.hideLoadingData(),void cc.error(t);cc.director.runScene(e,null,function(){if(-1!=o||-1!=i)if(-1==o)cc.log("click bet: ",i),cc.director.getScene().getChildByName("Canvas").getChildByName("Game").getComponent("TienLenGameView").sendGetInfoRoom(i);else if(c){var t=d.ConectManager.getIns().getSFSObj();t.putInt("idRoom",o),t.putUtfString("pass",r),t.putUtfString("groupId","TE"),cc.log("Send jid: ",t),d.ConectManager.getIns().sendRequest(u.REQUEST_CODE.FINDTABLE,t)}else cc.log("reconnect room: ",o),cc.director.getScene().getChildByName("Canvas").getChildByName("Game").getComponent("TienLenGameView").sendJoinRoom(o,r);else y.Windown.LobbyView.sendPlayNow(h.default.TienLen)})})}),s.label=2;case 2:return[2]}})})},n.prototype.onClickJoinKingKong=function(t,e,n){return s(this,void 0,void 0,function(){var t,e;return a(this,function(o){switch(o.label){case 0:return y.Windown.UIManager.checkAndShowDangNhap(),t=null,n&&(t=function(){y.Windown.MainView.onClickJoinKingKong(null,null,null)}),y.Windown.UIManager.onClickOpenBigGame(h.default.KingKong,t)?[3,2]:(y.Windown.UIManager.showLoadingData(),[4,y.Windown.loadBundle(h.default.KingKong.toString())]);case 1:(e=o.sent()).preloadScene("KingKong",{},function(t,e){y.Windown.UIManager.setPerData(t/e)},function(t){t?y.Windown.Dialog.showLog(p.TextDefine.Error):e.loadScene("KingKong",function(t,e){if(t)return y.Windown.Dialog.showLog(p.TextDefine.Error),void y.Windown.UIManager.hideLoadingData();cc.log("RunScene:"+e.name),cc.director.runScene(e,null,function(){cc.log("scene Run")})})}),o.label=2;case 2:return[2]}})})},n.prototype.onClickJoinRong=function(t,e,n){return s(this,void 0,void 0,function(){var t,e;return a(this,function(o){switch(o.label){case 0:return y.Windown.UIManager.checkAndShowDangNhap(),t=null,n&&(t=function(){y.Windown.MainView.onClickJoinRong(null,null,null)}),y.Windown.UIManager.onClickOpenBigGame(h.default.Rong,t)?[3,2]:(y.Windown.UIManager.showLoadingData(),[4,y.Windown.loadBundle(h.default.Rong.toString())]);case 1:(e=o.sent()).preloadScene("RongPhatTai",{},function(t,e){y.Windown.UIManager.setPerData(t/e)},function(t){t?y.Windown.Dialog.showLog(p.TextDefine.Error):e.loadScene("RongPhatTai",function(t,e){if(t)return y.Windown.Dialog.showLog(p.TextDefine.Error),void y.Windown.UIManager.hideLoadingData();cc.log("RunScene:"+e.name),cc.director.runScene(e,null,function(){cc.log("scene Run")})})}),o.label=2;case 2:return[2]}})})},n.prototype.onClickJoinDieuThuyen=function(t,e,n){return s(this,void 0,void 0,function(){var t,e;return a(this,function(o){switch(o.label){case 0:return y.Windown.UIManager.checkAndShowDangNhap(),t=null,n&&(t=function(){y.Windown.MainView.onClickJoinDieuThuyen(null,null,null)}),y.Windown.UIManager.onClickOpenBigGame(h.default.DieuThuyen,t)?[3,2]:(y.Windown.UIManager.showLoadingData(),[4,y.Windown.loadBundle(h.default.DieuThuyen.toString())]);case 1:(e=o.sent()).preloadScene("DieuThuyen",{},function(t,e){y.Windown.UIManager.setPerData(t/e)},function(t){t?y.Windown.Dialog.showLog(p.TextDefine.Error):e.loadScene("DieuThuyen",function(t,e){if(t)return y.Windown.Dialog.showLog(p.TextDefine.Error),void y.Windown.UIManager.hideLoadingData();cc.director.runScene(e,null,function(){})})}),o.label=2;case 2:return[2]}})})},n.prototype.onClickJoinNgoKhong=function(t,e,n){return s(this,void 0,void 0,function(){var t,e;return a(this,function(o){switch(o.label){case 0:return y.Windown.UIManager.checkAndShowDangNhap(),t=null,n&&(t=function(){y.Windown.MainView.onClickJoinNgoKhong(null,null,null)}),y.Windown.UIManager.onClickOpenBigGame(h.default.NgoKhong,t)?[3,2]:(y.Windown.UIManager.showLoadingData(),[4,y.Windown.loadBundle(h.default.NgoKhong.toString())]);case 1:(e=o.sent()).preloadScene("NgoKhong",{},function(t,e){y.Windown.UIManager.setPerData(t/e)},function(t){t?y.Windown.Dialog.showLog(p.TextDefine.Error):e.loadScene("NgoKhong",function(t,e){if(t)return y.Windown.Dialog.showLog(p.TextDefine.Error),void y.Windown.UIManager.hideLoadingData();cc.director.runScene(e,null,function(){})})}),o.label=2;case 2:return[2]}})})},n.prototype.onClickJoinNeko=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return y.Windown.UIManager.checkAndShowDangNhap(),y.Windown.UIManager.showLoadingData(),[4,y.Windown.loadBundle(h.default.Neko.toString())];case 1:(t=e.sent()).preloadScene("Neko",{},function(t,e){y.Windown.UIManager.setPerData(t/e)},function(e){e?y.Windown.Dialog.showLog(p.TextDefine.Error):t.loadScene("Neko",function(t,e){if(t)return y.Windown.Dialog.showLog(p.TextDefine.Error),void y.Windown.UIManager.hideLoadingData();cc.director.runScene(e,null,function(){})})}),e.label=2;case 2:return[2]}})})},n.prototype.onClickJoinRungRam=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return y.Windown.UIManager.checkAndShowDangNhap(),y.Windown.UIManager.showLoadingData(),[4,y.Windown.loadBundle(h.default.RungRam.toString())];case 1:(t=e.sent()).preloadScene("RungRam",{},function(t,e){y.Windown.UIManager.setPerData(t/e)},function(e){e?y.Windown.Dialog.showLog(p.TextDefine.Error):t.loadScene("RungRam",function(t,e){if(t)return y.Windown.Dialog.showLog(p.TextDefine.Error),void y.Windown.UIManager.hideLoadingData();cc.director.runScene(e,null,function(){y.Windown.UIManager.hideLoadingData()})})}),e.label=2;case 2:return[2]}})})},n.prototype.onClickJoinMatChuoc=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return y.Windown.UIManager.checkAndShowDangNhap(),y.Windown.UIManager.showLoadingData(),[4,y.Windown.loadBundle(h.default.MatChuoc.toString())];case 1:(t=e.sent()).preloadScene("MatChuoc",{},function(t,e){y.Windown.UIManager.setPerData(t/e)},function(e){e?y.Windown.Dialog.showLog(p.TextDefine.Error):t.loadScene("MatChuoc",function(t,e){if(t)return y.Windown.Dialog.showLog(p.TextDefine.Error),void y.Windown.UIManager.hideLoadingData();cc.director.runScene(e,null,function(){y.Windown.UIManager.hideLoadingData()})})}),e.label=2;case 2:return[2]}})})},n.prototype.onClickJoinCaishen=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return y.Windown.UIManager.checkAndShowDangNhap(),y.Windown.UIManager.showLoadingData(),[4,y.Windown.loadBundle(h.default.Caishen.toString())];case 1:(t=e.sent()).preloadScene("Caishen",{},function(t,e){y.Windown.UIManager.setPerData(t/e)},function(e){e?y.Windown.Dialog.showLog(p.TextDefine.Error):t.loadScene("Caishen",function(t,e){if(t)return y.Windown.Dialog.showLog(p.TextDefine.Error),void y.Windown.UIManager.hideLoadingData();cc.director.runScene(e,null,function(){y.Windown.UIManager.hideLoadingData()})})}),e.label=2;case 2:return[2]}})})},n.prototype.onClickJoinQuyBa=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return y.Windown.UIManager.checkAndShowDangNhap(),y.Windown.UIManager.showLoadingData(),[4,y.Windown.loadBundle(h.default.QuyBa.toString())];case 1:(t=e.sent()).preloadScene("QuyBa",{},function(t,e){y.Windown.UIManager.setPerData(t/e)},function(e){e?y.Windown.Dialog.showLog(p.TextDefine.Error):t.loadScene("QuyBa",function(t,e){if(t)return y.Windown.Dialog.showLog(p.TextDefine.Error),void y.Windown.UIManager.hideLoadingData();cc.director.runScene(e,null,function(){y.Windown.UIManager.hideLoadingData()})})}),e.label=2;case 2:return[2]}})})},n.prototype.onClickJoinDuaXe=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return y.Windown.UIManager.checkAndShowDangNhap(),y.Windown.UIManager.showLoadingData(),[4,y.Windown.loadBundle(h.default.DuaXe.toString())];case 1:(t=e.sent()).preloadScene("DuaXe",{},function(t,e){y.Windown.UIManager.setPerData(t/e)},function(e){e?y.Windown.Dialog.showLog(p.TextDefine.Error):t.loadScene("DuaXe",function(t,e){if(t)return y.Windown.Dialog.showLog(p.TextDefine.Error),void y.Windown.UIManager.hideLoadingData();cc.director.runScene(e,null,function(){y.Windown.UIManager.hideLoadingData()})})}),e.label=2;case 2:return[2]}})})},n.prototype.onClickJoinMedusa=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return y.Windown.UIManager.showAlertMini("Game s\u1eafp ra m\u1eaft!"),[2];case 1:t=e.sent();try{t.preloadScene("Medusa",{},function(t,e){y.Windown.UIManager.setPerData(t/e)},function(t){t&&(cc.log("errorLoadScence1:",t),y.Windown.Dialog.showLog(p.TextDefine.Error))}),t.loadScene("Medusa",function(t,e){if(t)return y.Windown.Dialog.showLog(p.TextDefine.Error),y.Windown.UIManager.hideLoadingData(),void cc.log("errorLoadScence2:",t);cc.log(" runscene Medusa"),cc.director.runScene(e,null,function(){cc.log("scene Run Medusa"),y.Windown.UIManager.hideLoadingData()})})}catch(n){cc.log("errorLoadScence1:",n)}e.label=2;case 2:return[2]}})})},n.prototype.onClickJoinAsgard=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return y.Windown.UIManager.checkAndShowDangNhap(),y.Windown.UIManager.showLoadingData(),[4,y.Windown.loadBundle(h.default.Asgard.toString())];case 1:(t=e.sent()).preloadScene("Asgard",{},function(t,e){y.Windown.UIManager.setPerData(t/e)},function(e){e?y.Windown.Dialog.showLog(p.TextDefine.Error):t.loadScene("Asgard",function(t,e){if(t)return y.Windown.Dialog.showLog(p.TextDefine.Error),void y.Windown.UIManager.hideLoadingData();cc.director.runScene(e,null,function(){y.Windown.UIManager.hideLoadingData()})})}),e.label=2;case 2:return[2]}})})},n.prototype.onClickJoinMiniPoker=function(t){return s(this,void 0,void 0,function(){var e,n,o,i,r,s;return a(this,function(a){switch(a.label){case 0:return y.Windown.UIManager.checkAndShowDangNhap(),y.Windown.MiniPoker?(y.Windown.MiniPoker.getComponent(f.default).nomalSize(),y.Windown.MiniPoker.node.setPosition(0,0),y.Windown.MiniPoker.node.active=!0,[2]):(e=t.target,y.Windown.UIManager.objGameWating[h.default.MiniPoker]=!0,n=[],[4,y.Windown.loadBundle(h.default.MiniPoker.toString(),this.createNodeLoadingMini(h.default.MiniPoker,e,n))]);case 1:return a.sent(),o=this.createNodeLoadingMini(h.default.MiniPoker,e,n),[4,y.Windown.loadRes(h.default.MiniPoker.toString(),"MiniPoker",cc.Prefab,o)];case 2:for(i=a.sent(),cc.instantiate(i).parent=y.Windown.UIManager.parentMiniGame,y.Windown.UIManager.objGameWating[h.default.MiniPoker]=!1,r=0,s=n;r<s.length;r++)s[r].node.destroy();return[2]}})})},n.prototype.onClickMiniSlot=function(t){return s(this,void 0,void 0,function(){var e,n,o,i,r,s;return a(this,function(a){switch(a.label){case 0:return y.Windown.UIManager.checkAndShowDangNhap(),y.Windown.MiniSlot?(y.Windown.MiniSlot.getComponent(f.default).nomalSize(),y.Windown.MiniSlot.node.setPosition(0,0),y.Windown.MiniSlot.node.active=!0,[2]):(e=t.target,y.Windown.UIManager.objGameWating[h.default.MiniSlot]=!0,n=[],[4,y.Windown.loadBundle(h.default.MiniSlot.toString(),this.createNodeLoadingMini(h.default.MiniSlot,e,n))]);case 1:return a.sent(),o=this.createNodeLoadingMini(h.default.MiniSlot,e,n),[4,y.Windown.loadRes(h.default.MiniSlot.toString(),"MiniSlot",cc.Prefab,o)];case 2:for(i=a.sent(),cc.instantiate(i).parent=y.Windown.UIManager.parentMiniGame,y.Windown.UIManager.objGameWating[h.default.MiniSlot]=!1,r=0,s=n;r<s.length;r++)s[r].node.destroy();return[2]}})})},n.prototype.onClickJoinTaiXiu=function(t){return s(this,void 0,void 0,function(){var e,n,o,i,r,s;return a(this,function(a){switch(a.label){case 0:return y.Windown.TaiXiu?(y.Windown.TaiXiu.getComponent(f.default).nomalSize(),y.Windown.TaiXiu.node.setPosition(0,0),y.Windown.TaiXiu.isDelayLeave=!1,y.Windown.TaiXiu.node.active=!0,[2]):(e=t.target,y.Windown.UIManager.objGameWating[h.default.TaiXiu]=!0,n=[],[4,y.Windown.loadBundle(h.default.TaiXiu.toString(),this.createNodeLoadingMini(h.default.TaiXiu,e,n))]);case 1:return a.sent(),o=this.createNodeLoadingMini(h.default.TaiXiu,e,n),[4,y.Windown.loadRes(h.default.TaiXiu.toString(),"TaiXiu",cc.Prefab,o)];case 2:for(i=a.sent(),cc.instantiate(i).parent=y.Windown.UIManager.parentMiniGame,y.Windown.UIManager.objGameWating[h.default.TaiXiu]=!1,r=0,s=n;r<s.length;r++)s[r].node.destroy();return[2]}})})},n.prototype.createNodeLoadingMini=function(t,e,n){void 0===n&&(n=[]);var o=[y.Windown.BtnMiniGame.node];o.push(e),o.forEach(function(t){var e=cc.instantiate(y.Windown.UIManager.prefabDownload).getComponent(c.default);e.node.name="ProgressDownload",e.node.active=!0,e.node.scale=.7,t.addChild(e.node),n.push(e)});var i=0;return function(t,e){for(var o=0,r=n;o<r.length;o++)r[o].setPercent(i),t/e>i&&(i=t/e)}},n.prototype.responseGetIdRoom=function(t){cc.log(y.Windown.SFSObjToJson(t)),y.Windown.Dialog.checkAndShowLog(t,!1);var e=t.getInt("idRoom");d.ConectManager.getIns().sendJoinRoom(e)},n.prototype.getItemIconGameByType=function(t){var e=[],n=cc.find(t.toString(),this.parentIcon);return n&&e.push(n),e},n.prototype.onClickDownloadApp=function(){cc.sys.os==cc.sys.OS_ANDROID?cc.sys.openURL("https://raw.githubusercontent.com/cristianomessi30041975/Big99APK/refs/heads/main/Big99.apk"):y.Windown.UIManager.checkShowSuggestTaiAppIOS()},n.prototype.onClickCloseDownLoadApp=function(){this.btnDownloadApp.active=!1},n.prototype.checkTaiApp=function(){cc.sys.os==cc.sys.OS_ANDROID&&cc.sys.isBrowser&&y.Windown.Dialog.showLog("Vui l\xf2ng t\u1ea3i \u1ee9ng d\u1ee5ng \u0111\u1ec3 c\xf3 tr\u1ea3i nghi\u1ec7m t\u1ed1t nh\u1ea5t. M\u1ecdi c\u1ea3nh b\xe1o b\u1ea3o m\u1eadt khi c\xe0i \u1ee9ng d\u1ee5ng l\xe0 b\xecnh th\u01b0\u1eddng. \u1ee8ng d\u1ee5ng c\u1ee7a game l\xe0 an to\xe0n b\u1ea1n nh\xe9!",function(){cc.sys.openURL("https://raw.githubusercontent.com/cristianomessi30041975/Big99APK/refs/heads/main/Big99.apk")})},n.prototype.onClickTabGame=function(t,e){"Slot"==e?this.listOtherGame.forEach(function(t){t.active=!1}):this.listOtherGame.forEach(function(t){t.active=!0}),cc.sys.localStorage.setItem("LastTabGame",e)},n.prototype.onClickHideTab=function(){this.tglSeeMore.isChecked=!this.tglSeeMore.isChecked},r([v(cc.Label)],n.prototype,"lbName",void 0),r([v(cc.Label)],n.prototype,"lbUserId",void 0),r([v(cc.Node)],n.prototype,"btnLogout",void 0),r([v(cc.Node)],n.prototype,"nodeLogin",void 0),r([v(cc.Node)],n.prototype,"parentIcon",void 0),r([v(cc.Sprite)],n.prototype,"imgAvatar",void 0),r([v(cc.Sprite)],n.prototype,"bgHeaderLeft",void 0),r([v(cc.Sprite)],n.prototype,"bgHeaderRight",void 0),r([v(cc.Label)],n.prototype,"lbNumNhiemVuDone",void 0),r([v(cc.Label)],n.prototype,"lbNumMailNotRead",void 0),r([v(cc.Label)],n.prototype,"lbNumMailNotRead2",void 0),r([v(cc.Label)],n.prototype,"lbJackpotTX",void 0),r([v(cc.SpriteFrame)],n.prototype,"spBanNgay",void 0),r([v(cc.SpriteFrame)],n.prototype,"spBanDem",void 0),r([v(cc.Sprite)],n.prototype,"spMain",void 0),r([v(cc.Node)],n.prototype,"btnPlayNow",void 0),r([v(cc.Node)],n.prototype,"btnLogin1",void 0),r([v(cc.Node)],n.prototype,"btnLogin2",void 0),r([v(cc.Node)],n.prototype,"btnDownloadApp",void 0),r([v(cc.Node)],n.prototype,"btnDangKy",void 0),r([v(cc.Node)],n.prototype,"btnFirtNap",void 0),r([v(cc.Sprite)],n.prototype,"spritetest",void 0),r([v(cc.Node)],n.prototype,"btnTaiXiu",void 0),r([v(cc.Node)],n.prototype,"btnMiniPoker",void 0),r([v(cc.Node)],n.prototype,"btnMiniSlot",void 0),r([v([cc.Node])],n.prototype,"listOtherGame",void 0),r([v([cc.Toggle])],n.prototype,"tglTabgame",void 0),r([v(cc.Button)],n.prototype,"btnGroupFb",void 0),r([v(cc.Toggle)],n.prototype,"tglSeeMore",void 0),r([v(cc.EditBox)],n.prototype,"edbTestBong",void 0),r([m],n)}(cc.Component);n.default=S,cc._RF.pop()},{"../Bundle/Baccarat/Scripts/BaccaratController":"BaccaratController","../Bundle/FishBongDem/Scritps/Game/FishBongDem":"FishBongDem","../Bundle/Xeng/Scritps/XengController":"XengController","../Bundle/XocDia/Scripts/XocDiaController":"XocDiaController","./Bundle/DownloadProgress":"DownloadProgress","./DefineTs/EVENT_MANAGER":"EVENT_MANAGER","./DefineTs/REQUEST_CODE":"REQUEST_CODE","./DefineTs/TextDefine":"TextDefine","./Game/GAME_TYPE":"GAME_TYPE","./Network/ConectManager":"ConectManager","./Other/DragMiniGame":"DragMiniGame","./Windown":"Windown"}],MakeDelay:[function(t,e,n){"use strict";cc._RF.push(e,"00435LXTBZF2bxZ8m0r8djZ","MakeDelay"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./ObjMakeDelay"),i=function(){function t(t){this.mapMakeDelay=null,this.target=t,this.mapMakeDelay=new Map}return t.prototype.getDelay=function(t){var e=this,n=Date.now()+this.mapMakeDelay.size;return new o.default(this,new Promise(function(o){var i=function(){o(),e.mapMakeDelay.delete(n)};e.mapMakeDelay.set(n,i),e.target.scheduleOnce(i,t)}),n)},t.prototype.cancaleDelay=function(t,e){var n=this.mapMakeDelay.get(t);null!=n&&(this.target.unschedule(n),e&&n())},t.prototype.clear=function(){var t=this;this.mapMakeDelay.forEach(function(e){t.target.unschedule(e)}),this.mapMakeDelay.clear()},t}();n.default=i,cc._RF.pop()},{"./ObjMakeDelay":"ObjMakeDelay"}],MatChuocView:[function(t,e,n){"use strict";cc._RF.push(e,"dec8cHykF5LF4V3Dtx3o8bz","MatChuocView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,l=c.ccclass,u=c.property,p=t("../../../Scritps/DefineTs/EVENT_MANAGER"),h=t("../../../Scritps/DefineTs/TextDefine"),d=t("../../../Scritps/Game/GAME_TYPE"),f=t("../../../Scritps/Obs/LbMoneyChange"),y=t("../../../Scritps/Other/LbMonoSpace"),g=t("./AssetMatChuoc"),m=t("./AudioMatChuoc"),v=t("./EffectMatChuoc"),S=t("./InfoBarControllerMatChuoc"),b=t("./ItemSlotMatChuoc"),w=t("./LichSuMatChuoc"),_=t("./MutilControlMatChuoc"),C=t("./SpinNormalMatChuoc"),T=t("../../../Scritps/DefineTs/StateReelSlot"),I=t("../../../Scritps/Windown"),W=t("../../../Scritps/Network/ConectManager"),M=t("../../../Scritps/DefineTs/REQUEST_CODE"),E=t("../../../Scritps/Util"),R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.asset=null,e.bkgSprite=null,e.parentItem=null,e.parentEffect=null,e.parentBkgEffect=null,e.parentItemFront=null,e.parentItemActive=null,e.nodeLine=null,e.effect=null,e.labelChipReviceInBox=null,e.lb_totalBet=null,e.lb_FSLeft=null,e.lb_CountAuto=null,e.infoBar=null,e.muitlCtr=null,e.btnSpin=null,e.parentMask=null,e.nodeChooseAuto=null,e._popupLichSu=null,e.audio=null,e.listNodeDeactive=[],e.listLbDeactive=[],e.nodeBtnPlay=null,e.nodeBtnSeting=null,e.nearWinNoSap=null,e.nearDragonFS=null,e.toggleTurbo=null,e.btnStartAuto=null,e.listColum=[],e.listResult=null,e.listResultConvert=[],e.listConfigBet=[],e.gameType=-1,e.stateReel=0,e.totalLineBet=20,e.curRoomBet=50,e.funEnd=null,e.isShowBtnPlay=!0,e.dataFinish=null,e.sfsObjTest=null,e.sfsObjTest2=null,e.stateSpin=null,e.sfs=null,e.roomSFS=null,e.isDoneStartSpin=!1,e.currentTotalLine=1,e.isMouseEnterSpin=!1,e.indexFinish=0,e}return i(e,t),e.prototype.onLoad=function(){var t=this;I.Windown.MatChuoc=this,cc.log("start mat chuoc"),this.gameType=d.default.MatChuoc,this.sfs=W.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(p.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),this.stateReel=T.default.WAITING,this.stateSpin=new C.default,this.sendJoinRoom(),this.activeMask(!1),this.registerBtnSpinEffect(),this.schedule(function(){t.stateReel==T.default.WAITING&&I.Windown.MatChuoc.audio.playEffect(I.Windown.MatChuoc.audio.voxRandom[I.Windown.RandomNumber(0,12)])},12)},e.prototype.registerBtnSpinEffect=function(){var t=this;this.btnSpin.on(cc.Node.EventType.MOUSE_ENTER,function(){var e=t.btnSpin.getChildByName("cirle");if(t.isMouseEnterSpin=!0,e.scaleX>=1.8&&t.stateReel==T.default.WAITING){var n=cc.tween(e).set({scale:1.5}).call(function(){e.opacity=0}).call(function(){cc.tween(e).to(.75,{opacity:255}).start()}).to(.75,{scale:2.2},{easing:"sineOut"}).call(function(){cc.tween(e).to(.1,{opacity:0}).start()}).call(function(){t.isMouseEnterSpin&&n.start()});n.start()}}),this.btnSpin.on(cc.Node.EventType.MOUSE_LEAVE,function(){t.isMouseEnterSpin=!1})},e.prototype.sendJoinRoom=function(){var t=W.ConectManager.getIns().getSFSObj();t.putInt("gameType",d.default.MatChuoc),t.putInt("roomType",-1),t.putInt("mark",-1),W.ConectManager.getIns().sendRequest(M.REQUEST_CODE.GetIdJoinRoom,t)},e.prototype.onJoinRoom=function(t){cc.log("onJoinRoom "+t.room.groupId);var e=t.room;if("SlotMC"==e.groupId){this.roomSFS=e,I.Windown.UIManager.hideLoadingData();var n=e.getVariable("cf").value;cc.log(n);var o=[],i=JSON.parse(n);for(var r in i){var s=Object.create(null);s.bet=parseInt(r),s.perJp=i[r].percentPot/100,o.push(s)}o.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=o,this.curRoomBet=this.listConfigBet[0].bet,this.lb_totalBet.string=I.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),I.Windown.UIManager.hideLoading(),I.Windown.UIManager.hideLoadingData(),I.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM),cc.director.loadScene("main")},e.prototype.userExitRoom=function(t){cc.log("user exit room"),"SlotMC"==t.room.groupId&&t.user.isItMe&&cc.director.loadScene("main")},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(e){case M.REQUEST_CODE.SpinMatChuoc:this.handleFinish(n);break;case M.REQUEST_CODE.HistoryMatChuoc:this._popupLichSu&&this._popupLichSu.responseServer(n);break;case M.REQUEST_CODE.HistoryChiTietMatChuoc:this._popupLichSu&&this._popupLichSu.responseServerChiTiet(n)}},e.prototype.onCreateError=function(){cc.log("creat errr"),I.Windown.UIManager.hideLoading(),cc.director.loadScene("main"),I.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM)},e.prototype.onJoinGame=function(t){var e=[],n=t;for(var o in n){var i=Object.create(null);i.bet=parseInt(o),i.perJp=n[o].percentPot/100,e.push(i)}e.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=e,this.curRoomBet=this.listConfigBet[0].bet,this.lb_totalBet.string=I.Windown.formatNumber(this.totalLineBet*this.curRoomBet)},e.prototype.handleHistoryM=function(t){this._popupLichSu&&this._popupLichSu.responseServer(t)},e.prototype.handleHistoryInfoM=function(t){this._popupLichSu&&this._popupLichSu.responseServerChiTiet(t)},e.prototype.handleResponse=function(t,e){cc.log("handleResponse: "+t),cc.log("handleResponse: "+e)},e.prototype.onDisconnect=function(){cc.log("disconnect"),I.Windown.UIManager.hideLoading(),I.Windown.UIManager.hideLoadingData(),cc.director.loadScene("main")},e.prototype.switchBkgGame=function(t){var e=cc.find("Game/BkgGround/FreeSpin",this.node),n=cc.find("Game/Mid/BkgFs",this.node);t?(e.active=!0,this.muitlCtr.startFreeSpin(t),I.Windown.MatChuoc.lb_FSLeft.node.parent.active=!0,this.nodeBtnPlay.active=!1,n.active=!0):(e.active=!1,n.active=!1,this.nodeBtnPlay.active=!0,I.Windown.MatChuoc.lb_FSLeft.node.parent.active=!1,this.muitlCtr.endFreeSpin()),this.infoBar.changInfoBarFS(t)},e.prototype.activeMask=function(t,e,n,o){void 0===n&&(n=180),void 0===o&&(o=!1);var i=this.parentMask.children;o?i.forEach(function(t){t.getComponent(cc.Sprite).spriteFrame=I.Windown.MatChuoc.asset.bgMaskFS}):i.forEach(function(t){t.getComponent(cc.Sprite).spriteFrame=I.Windown.MatChuoc.asset.bgMaskNormal}),t?e?(i[e].stopAllActions(),i[e].runAction(cc.fadeTo(.3,n))):i.forEach(function(t){t.stopAllActions(),t.runAction(cc.fadeTo(.3,n))}):e?(i[e].stopAllActions(),i[e].runAction(cc.fadeOut(.3))):i.forEach(function(t){t.stopAllActions(),t.runAction(cc.fadeOut(.3))})},e.prototype.handleWaitSPin=function(){},e.prototype.handleFinish=function(t){var e=this,n=JSON.parse(I.Windown.SFSObjToJson(t));if(this.isDoneStartSpin){if(cc.log("HandleFinish stringtify: "+I.Windown.SFSObjToJson(t)),n.errorMessage)return this.stateSpin.handleErrSpin(),I.Windown.Dialog.showLog(n.errorMessage),this.activeAllBtn(),void this.onClickResetCountAuto();this.dataFinish=n,I.Windown.MoneyUser.pushDelayMoney(this.gameType,this.dataFinish.agUser,n.agWin),this.truTienBet(this.dataFinish.agBet*this.totalLineBet,this.dataFinish.agUser),this.listResult=n.views;var o=n.arrBonus;o="[]"==o?"[0,0,0,0,0,0]":o,this.listResultConvert=this.convertResult(this.listResult,n.listItemWin,JSON.parse(o)),this.stateSpin.isMaxSpeed,this.stateReel=T.default.CAN_STOP;var i=this.stateSpin.isMaxSpeed?0:.5;this.scheduleOnce(this.funEnd=function(){e.stateSpin.onEnd()},i)}else this.scheduleOnce(function(){e.handleFinish(t)},.05)},e.prototype.onDestroy=function(){I.Windown.MatChuoc=null,this.dataFinish&&(I.Windown.MoneyUser.removeDelay(this.gameType),this.dataFinish=null),I.Windown.MoneyUser.endGameMOney(this.gameType),cc.systemEvent.removeAll(this),this.roomSFS=null,this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),this.clearAllMakeDelay()},e.prototype.start=function(){var t=this;this.setupView(),this.initItem(),this.switchBkgGame(!1),cc.sys.isNative||this.scheduleOnce(function(){return s(t,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,I.Windown.loadBundle(d.default.MatChuoc.toString())];case 1:return t.sent().loadDir("Spine",function(){}),[2]}})})},3)},e.prototype.initItem=function(){for(var t=cc.instantiate(this.parentItem.children[0]),e=t.width,n=(t.height,[[{t:0,i:5},{t:0,i:3},{t:0,i:4},{t:0,i:3},{t:0,i:1},{t:0,i:0},{t:0,i:1},{t:0,i:8}],[{t:0,i:5},{t:0,i:7},{t:0,i:2},{t:2,i:7},{t:0,i:10},{t:2,i:6},{t:0,i:5},{t:0,i:8},{t:0,i:8}],[{t:0,i:5},{t:0,i:6},{t:0,i:4},{t:0,i:9},{t:2,i:8},{t:0,i:9},{t:0,i:0},{t:0,i:6},{t:0,i:8}],[{t:0,i:5},{t:0,i:7},{t:0,i:2},{t:2,i:7},{t:0,i:10},{t:2,i:6},{t:0,i:5},{t:0,i:8},{t:0,i:8}],[{t:0,i:5},{t:0,i:3},{t:0,i:4},{t:0,i:3},{t:0,i:1},{t:0,i:0},{t:0,i:1},{t:0,i:8}]]),o=0;o<5;o++){var i=null,r=this.parentItem.children[o];null==r&&((r=cc.instantiate(t)).parent=this.parentItem),(i=r.getComponent(b.default)).node.setPosition(cc.v3(e*(o-1)+e/2-3*e/2,i.node.getPosition().y,0)),o>0&&o<4?i.node.setPosition(cc.v3(i.node.getPosition().x,89.6)):i.node.setPosition(cc.v3(i.node.getPosition().x,14)),i.index=o,this.listColum.push(i),i.setResultFirtGame(n[o])}},e.prototype.onClickTestActionDragon=function(){this.stateSpin.showDragonFS()},e.prototype.setupView=function(){var t=cc.find("Game",this.node);if(cc.sys.isMobile)e=1280/720;else{var e=cc.view.getDesignResolutionSize().height/1280;t.setScale(e,e,e),this.bkgSprite.setContentSize(cc.winSize),I.Windown.UIManager.changeRotation(!0)}},e.prototype.sendClickSpin=function(){if(null!=this.sfsObjTest)return W.ConectManager.getIns().sendRequest("testSpin",this.sfsObjTest,this.roomSFS),this.sfsObjTest=null,void cc.log("send test ne");if(null!=this.sfsObjTest2)return W.ConectManager.getIns().sendRequest("testSpin2",this.sfsObjTest2,this.roomSFS),this.sfsObjTest2=null,void cc.log("send test ne");var t=W.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),W.ConectManager.getIns().sendRequest(M.REQUEST_CODE.SpinMatChuoc,t,this.roomSFS)},e.prototype.onClickBtnSpin=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),this.stateReel!=T.default.WAITING?[3,2]:(this.audio.playEffect(this.audio.spinBtn),this.stateReel=T.default.RUN,this.setStateEffBtnSpin(),this.offAllBtn(),this.infoBar.reset(),this.isDoneStartSpin=!1,this.sendClickSpin(),[4,I.Windown.MatChuoc.getPromise(this.stateSpin.onStart())]);case 1:return e.sent(),this.isDoneStartSpin=!0,[3,3];case 2:this.stateReel==T.default.CAN_STOP?this.stateSpin.isMaxSpeed||(cc.log("nhay vao forestop ne"),this.stateReel=T.default.RUN,this.unschedule(this.funEnd),this.stateSpin.onForceEnd()):this.stateReel==T.default.STOP||this.stateReel==T.default.SHOW_EFFECT&&(this.stateSpin.resetForNextNextSpin(),this.onClickBtnSpin()),e.label=3;case 3:return[3,5];case 4:return t=e.sent(),E.Util.ThrowErrProsime(t),[3,5];case 5:return[2]}})})},e.prototype.showContentTip=function(){},e.prototype.updateNewTotalLine=function(t){this.currentTotalLine*=t},e.prototype.resetForNewGame=function(){this.stateReel=T.default.WAITING,this.setStateEffBtnSpin()},e.prototype.resetLbTotalLine=function(){this.currentTotalLine=1},e.prototype.setStateEffBtnSpin=function(){var t=this.btnSpin.getComponent(cc.Animation),e=cc.find("sb_arrow",this.btnSpin),n=cc.find("sb_arrow_blur",this.btnSpin);if(this.stateReel!=T.default.STOP){var o=cc.Material.getBuiltinMaterial("2d-sprite");e.getComponent(cc.Sprite).setMaterial(0,o)}if(this.stateReel==T.default.WAITING||this.stateReel==T.default.SHOW_EFFECT)n.active=!1,e.active=!0,e.stopAllActions(),e.runAction(cc.repeatForever(cc.rotateBy(3,-360)));else if(this.stateReel==T.default.RUN)t.play("Btn_Click"),n.active=!0,n.stopAllActions(),n.runAction(cc.repeatForever(cc.rotateBy(.3,-360))),e.active=!1,this.infoBar.showRdContent();else if(this.stateReel==T.default.STOP){e.active=!0,n.active=!1,n.stopAllActions(),e.stopAllActions();var i=cc.Material.getBuiltinMaterial("2d-gray-sprite");e.getComponent(cc.Sprite).setMaterial(0,i)}},e.prototype.setLbFreeSpinLeft=function(t){var e=this.lb_FSLeft.node.parent;this.lb_FSLeft.string=t.toString(),t<1?(cc.find("last_spin",e).active=!0,cc.find("remaining_spin",e).active=!1,this.lb_FSLeft.node.active=!1):(cc.find("last_spin",e).active=!1,cc.find("remaining_spin",e).active=!0,this.lb_FSLeft.node.active=!0)},e.prototype.setCountAuto=function(t){this.lb_CountAuto.node.parent.active=!(t<1),this.lb_CountAuto.string=t.toString()},e.prototype.showMoneyAllWin=function(t){this.labelChipReviceInBox.setMoney(t),I.Windown.MoneyUser.removeDelay(this.gameType)},e.prototype.offLbFree=function(){this.lb_FSLeft.node.parent.active=!1},e.prototype.onClickSendObjTest=function(){var t=Object.create(null);t.bet=this.curRoomBet,t.arr=[[{t:0,i:1},{t:0,i:0},{t:0,i:7},{t:0,i:3},{t:0,i:1}],[{t:2,i:0},{t:0,i:1},{t:0,i:8},{t:0,i:0},{t:0,i:0}],[{t:0,i:7},{t:2,i:0},{t:0,i:0},{t:0,i:0},{t:0,i:8}],[{t:0,i:7},{t:0,i:0},{t:0,i:0},{t:0,i:7}],[{t:0,i:1},{t:0,i:1},{t:0,i:4}],[{t:0,i:6},{t:0,i:6},{t:0,i:0},{t:0,i:8},{t:0,i:2}]],this.sfsObjTest=t,this.onClickBtnSpin(),cc.log("onClickSendObjTest")},e.prototype.onClickSendFixData=function(){var t=Object.create(null);t.view=[[{i:0},{i:0},{i:1},{i:4},{i:2}],[{i:1},{i:1},{i:10},{i:0},{i:5},{i:3}],[{i:8,t:2},{i:5},{i:6,t:2},{i:7,t:2},{i:10},{i:5}],[{i:6},{i:3},{i:7},{i:3},{i:10,t:2},{i:5}],[{i:0},{i:1},{i:2},{i:6},{i:5}]],t.bet=this.curRoomBet,this.sfsObjTest=t,this.onClickBtnSpin()},e.prototype.onClickTest=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(){return(t=Object.create(null)).bet=this.curRoomBet,t.arr=[[{s:1,t:0,i:4},{s:1,t:0,i:6},{s:1,t:0,i:1},{s:1,t:0,i:7},{s:1,t:0,i:1}],[{s:1,t:0,i:7},{s:1,t:0,i:3},{s:1,t:0,i:2},{s:1,t:0,i:2},{s:1,t:0,i:2},{s:1,t:0,i:0}],[{s:1,t:0,i:8},{s:1,t:2,i:2},{s:1,t:0,i:2},{s:1,t:0,i:2}],[{s:1,t:2,i:0},{s:1,t:0,i:6},{s:1,t:0,i:5},{s:1,t:0,i:7}],[{s:1,t:0,i:7},{s:1,t:0,i:3},{s:1,t:0,i:2},{s:1,t:0,i:2},{s:1,t:0,i:7},{s:1,t:0,i:3}],[{s:1,t:0,i:7},{s:1,t:0,i:5},{s:1,t:0,i:5},{s:1,t:0,i:3},{s:1,t:0,i:7}]],this.sfsObjTest=t,this.onClickBtnSpin(),[2]})})},e.prototype.onClickResetCountAuto=function(){this.stateSpin.countAutoSpin=0,this.lb_CountAuto.node.parent.active=!1,I.Windown.MatChuoc.audio.playClick()},e.prototype.onClickItemAutoSpin=function(t){I.Windown.MatChuoc.audio.playClick(),this.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer).allowSwitchOff=!1;var e=t.node.name,n=Number(e);this.stateSpin.countAutoSpin=n,this.btnStartAuto.interactable=!0,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#FF8E26")},e.prototype.onClickStartAutoSpin=function(){this.onClickBtnSpin(),this.onClickCloseListAuto(),I.Windown.MatChuoc.stateSpin.countAutoSpin>0&&I.Windown.MatChuoc.setCountAuto(I.Windown.MatChuoc.stateSpin.countAutoSpin)},e.prototype.onClickShowListAuto=function(){I.Windown.MatChuoc.audio.playClick(),this.nodeChooseAuto.active=!0,this.nodeChooseAuto.opacity=0,this.nodeChooseAuto.runAction(cc.fadeIn(.3)),this.btnStartAuto.interactable=!1,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")},e.prototype.onClickCloseListAuto=function(){var t=this;I.Windown.MatChuoc.audio.playClick(),this.nodeChooseAuto.stopAllActions(),this.nodeChooseAuto.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){var e=t.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer);e.allowSwitchOff=!0,e.toggleItems.forEach(function(t){t.isChecked&&(t.isChecked=!1)}),t.nodeChooseAuto.active=!1,t.btnStartAuto.interactable=!1,t.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")})))},e.prototype.convertResult=function(t,e,n){var o=this,i=[];return t.forEach(function(t,r){var s=Object.create(null);s.listSFSObj=[];var a;a=n[r-1]?n[r-1]:1,s.mutil=a,s.agWin=0,t.forEach(function(n,o){var i=[];if(n.forEach(function(t){i.push(t)}),i.reverse(),s.listSFSObj.push(i),o==t.length-1){var r=e.shift();r&&(r.lsIdItem=JSON.parse(r.lsIdItem),r.lsstack=JSON.parse(r.lsstack),r.lsAgWin=JSON.parse(r.lsAgWin),r.lsAgWin.length>0&&(s.listItemWin=r,s.isNoSap=!0),r.lsAgWin.forEach(function(t){s.agWin+=t}))}}),s.countScater=o.getCountScater(s.listSFSObj),i.push(s)}),i},e.prototype.getListActiveScaster=function(t){for(var e=[],n=0,o=0;o<t.length;o++)n>=2?e.push(!0):e.push(!1),t[o].forEach(function(t,e){10==t.i&&e>0&&n++});return e},e.prototype.onClickChangeBet=function(t,e){if(I.Windown.MatChuoc.audio.playClick(),this.listConfigBet.length<1)I.Windown.Dialog.showLog(h.TextDefine.Error);else{var n=-1;for(var o in this.listConfigBet)if(this.listConfigBet[o].bet==this.curRoomBet){n=parseInt(o);break}0==e?n--:n++,n<0&&(n=this.listConfigBet.length-1),n>this.listConfigBet.length-1&&(n=0),this.curRoomBet=this.listConfigBet[n].bet,this.lb_totalBet.string=I.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.onClickCachChoi=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return I.Windown.MatChuoc.audio.playClick(),I.Windown.UIManager.showLoading(),[4,I.Windown.loadRes(this.gameType.toString(),"Frefabs/CachChoi",cc.Prefab)];case 1:return t=e.sent(),cc.instantiate(t).parent=I.Windown.MatChuoc.node.getChildByName("Game"),I.Windown.UIManager.hideLoading(),[2]}})})},e.prototype.onClickBackToLobby=function(){I.Windown.MatChuoc.audio.playClick(),this.roomSFS?(cc.log("Vao day"),W.ConectManager.getIns().sendLeaveRoom(this.roomSFS)):cc.director.loadScene("main")},e.prototype.getRdViewForLoop=function(t){for(var e=[],n=0,o=5-t;n<o;n++)e.push([{i:I.Windown.RandomNumber(0,10),t:2}]);return e.forEach(function(t){for(var e=0;e<1;e++)t.unshift({i:I.Windown.RandomNumber(0,10),t:0})}),e},e.prototype.getRdViewFirtGame=function(){for(var t=[],e=0;e<5;e++){for(var n=[],o=0;o<(0==e||4==e?4:5);o++)(i=Object.create(null)).i=I.Windown.RandomNumber(0,10),n.push(i);t.push(n)}for(e=0;e<t.length;e++)for(n=t[e],o=0;o<n.length;o++){var i;if(i=n[o])for(var r=o+1,s=o+1;r<s;r++)n[r]=null}for(var a in t)t[a]=t[a].filter(function(t){return null!=t});for(var a in t);return t},e.prototype.initRandomResult=function(){for(var t=0,e=0,n=this.listColum;e<n.length;e++){var o=n[e];o.stateWhel!=T.default.RUN&&(t=o.index)}var i=this.getRdViewForLoop(t);this.listColum.forEach(function(e,n){var o;e.index>=t&&(o=e.listResultRandomCache).unshift.apply(o,i[n-t])})},e.prototype.onClickTurbo=function(){I.Windown.MatChuoc.audio.playClick();var t=this.toggleTurbo.isChecked;this.toggleTurbo.node.children[1].active=!t,this.stateSpin.isMaxSpeed=t,t?I.Windown.UIManager.showAlertMini("\u0110\xe3 b\u1eadt quay nhanh"):I.Windown.UIManager.showAlertMini("\u0110\xe3 t\u1eaft quay nhanh")},e.prototype.onClickSeting=function(){var t=this;if(I.Windown.MatChuoc.audio.playClick(),this.isShowBtnPlay=!this.isShowBtnPlay,this.isShowBtnPlay)e=cc.v3(0,-750,0),cc.tween(this.nodeBtnSeting).call(function(){cc.tween(t.nodeBtnSeting).to(.5,{opacity:0}).start()}).to(.3,{position:e}).start(),cc.tween(this.nodeBtnPlay).to(.3,{opacity:255}).start();else{cc.Tween.stopAllByTarget(this.nodeBtnPlay),cc.Tween.stopAllByTarget(this.nodeBtnSeting);var e=cc.v3(0,-500,0);this.nodeBtnSeting.opacity=0,cc.tween(this.nodeBtnSeting).call(function(){cc.tween(t.nodeBtnSeting).to(.5,{opacity:255}).start()}).to(.4,{position:e}).start(),cc.tween(this.nodeBtnPlay).to(.3,{opacity:0}).start()}},e.prototype.getDelta=function(){return this.stateSpin.isMaxSpeed?2:1},e.prototype.getCountScater=function(t){var e=0;return t.forEach(function(t){t.forEach(function(t){10==t.i&&e++})}),e},e.prototype.getMakeDelay=function(t){return I.Windown.CpPromise.getDelay(t,this)},e.prototype.getPromise=function(t){return I.Windown.CpPromise.getDelayByPromise(t,this).prosime},e.prototype.getPromiseAll=function(t){return I.Windown.CpPromise.getDelayPromiseAll(t,this).prosime},e.prototype.clearAllMakeDelay=function(){I.Windown.CpPromise.targetOff(this)},e.prototype.activeAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!0,t.node.children.forEach(function(t){t.getComponent(cc.Sprite)&&(t.color=cc.Color.fromHEX(new cc.Color,"#FDB028"))})}),this.listLbDeactive.forEach(function(t){t.node.color=cc.Color.fromHEX(new cc.Color,"#86F0FF")})},e.prototype.offAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!1,t.node.children.forEach(function(t){t.getComponent(cc.Sprite)&&(t.color=cc.Color.fromHEX(new cc.Color,"#999999"))})}),this.listLbDeactive.forEach(function(t){t.node.color=cc.Color.fromHEX(new cc.Color,"#FFFFFF")})},e.prototype.truTienBet=function(t,e){0!=t&&I.Windown.MoneyUser.subMoney(t,e)},e.prototype.effectShake=function(){var t=this;this.unschedule(this.shake),this.schedule(this.shake=function(){t.camera.setPosition(I.Windown.RandomNumber(-3,4),I.Windown.RandomNumber(-3,4))},0,I.Windown.RandomNumber(10,15))},e.prototype.onClickLichSu=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return I.Windown.MatChuoc.audio.playClick(),I.Windown.UIManager.showLoading(),[4,I.Windown.loadRes(this.gameType.toString(),"Frefabs/LichSu",cc.Prefab)];case 1:return t=e.sent(),this._popupLichSu=cc.instantiate(t).getComponent(w.default),this._popupLichSu.node.parent=I.Windown.MatChuoc.node.getChildByName("Game"),this._popupLichSu.show(),[2]}})})},e.prototype.update=function(){},r([u(cc.Node)],e.prototype,"camera",void 0),r([u(g.default)],e.prototype,"asset",void 0),r([u(cc.Node)],e.prototype,"bkgSprite",void 0),r([u(cc.Node)],e.prototype,"parentItem",void 0),r([u(cc.Node)],e.prototype,"parentEffect",void 0),r([u(cc.Node)],e.prototype,"parentBkgEffect",void 0),r([u(cc.Node)],e.prototype,"parentItemFront",void 0),r([u(cc.Node)],e.prototype,"parentItemActive",void 0),r([u(cc.Node)],e.prototype,"nodeLine",void 0),r([u(v.default)],e.prototype,"effect",void 0),r([u(f.default)],e.prototype,"labelChipReviceInBox",void 0),r([u(cc.Label)],e.prototype,"lb_totalBet",void 0),r([u(y.default)],e.prototype,"lb_FSLeft",void 0),r([u(y.default)],e.prototype,"lb_CountAuto",void 0),r([u(S.default)],e.prototype,"infoBar",void 0),r([u(_.default)],e.prototype,"muitlCtr",void 0),r([u(cc.Node)],e.prototype,"btnSpin",void 0),r([u(cc.Node)],e.prototype,"parentMask",void 0),r([u(cc.Node)],e.prototype,"nodeChooseAuto",void 0),r([u(m.default)],e.prototype,"audio",void 0),r([u([cc.Button])],e.prototype,"listNodeDeactive",void 0),r([u([cc.Label])],e.prototype,"listLbDeactive",void 0),r([u(cc.Node)],e.prototype,"nodeBtnPlay",void 0),r([u(cc.Node)],e.prototype,"nodeBtnSeting",void 0),r([u(cc.Node)],e.prototype,"nearWinNoSap",void 0),r([u(cc.Node)],e.prototype,"nearDragonFS",void 0),r([u(cc.Toggle)],e.prototype,"toggleTurbo",void 0),r([u(cc.Button)],e.prototype,"btnStartAuto",void 0),r([l],e)}(cc.Component);n.default=R,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./AssetMatChuoc":"AssetMatChuoc","./AudioMatChuoc":"AudioMatChuoc","./EffectMatChuoc":"EffectMatChuoc","./InfoBarControllerMatChuoc":"InfoBarControllerMatChuoc","./ItemSlotMatChuoc":"ItemSlotMatChuoc","./LichSuMatChuoc":"LichSuMatChuoc","./MutilControlMatChuoc":"MutilControlMatChuoc","./SpinNormalMatChuoc":"SpinNormalMatChuoc"}],MatThan:[function(t,e,n){"use strict";cc._RF.push(e,"e2a985N1XFLfrnAg4UxzIfB","MatThan");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/Network/ConectManager"),l=t("../../../../Scritps/Windown"),u=t("../Bullet/BulletMatThan"),p=t("../DeadBevhavior/PanelPoint"),h=t("../Fish/FISH_TYPE"),d=t("../Network/CODE_EVT"),f=t("../Player/TypeItemDragBD"),y=cc._decorator,g=y.ccclass,m=y.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeBullet=null,e.lbNickName=null,e.panelPoint=null,e.poolBullet=new cc.NodePool(u.default),e.fishTarget=null,e.player=null,e.distanceMax=400,e.currentColider=null,e.curentPosColider=cc.v2(),e.listBullet=[],e.isRun=!1,e.crTimeDelay=0,e.isSendTargetFish=!1,e.moneyCurrent=0,e.moneyMax=0,e.mutilLeft=0,e.idItemDrag=0,e.moneyGun=0,e.isEnd=!1,e}return i(e,t),e.prototype.start=function(){cc.systemEvent.on(d.default.MatThanAtack,this.onAtack,this),cc.systemEvent.on(d.default.RemoveMatThan,this.end,this),this.poolBullet.put(this.nodeBullet)},e.prototype.init=function(t,e,n,o,i){return s(this,void 0,void 0,function(){var r,s,u;return a(this,function(a){switch(a.label){case 0:return this.player=t,this.lbNickName.string=this.player.namePlayer.length>6?this.player.namePlayer.substring(0,3)+".."+this.player.namePlayer.substring(this.player.namePlayer.length-3,this.player.namePlayer.length):this.player.namePlayer,this.moneyMax=e,this.idItemDrag=o,this.panelPoint.init(this.player,this.idItemDrag,f.default.MAT_THAN),this.panelPoint.addMoney(n),this.moneyGun=i,(r=c.ConectManager.getIns().getSFSObj()).putInt("Type",f.default.MAT_THAN),r.putLong("Id",o),l.Windown.FishBongDem.sendRequest(d.default.UsingItemDrag,r),this.isSendTargetFish=!0,this.node.scale=0,s=this.player.getPosInVew().subSelf(cc.v2(this.player.playerSiting%2==0?100:-100,this.player.playerSiting<3?-50:50)),this.node.setPosition(s),(u=l.Windown.FishBongDem.pool.getLocXoay()).parent=l.Windown.FishBongDem.fishBDView.parentFish,u.zIndex=cc.macro.MIN_ZINDEX,u.setPosition(s),u.scale=0,u.runAction(cc.scaleTo(.5,1.5)),[4,l.Windown.FishBongDem.makeDelay(1)];case 1:return a.sent(),this.node.runAction(cc.scaleTo(.5,1).easing(cc.easeBackOut())),[4,l.Windown.FishBongDem.makeDelay(.5)];case 2:return a.sent(),this.isSendTargetFish=!1,u.runAction(cc.scaleTo(.3,0)),[4,l.Windown.FishBongDem.makeDelay(.3)];case 3:return a.sent(),l.Windown.FishBongDem.pool.putLocXoay(u),[2]}})})},e.prototype.onAtack=function(t){if(cc.log("ontack ve"),t.get("iid")==this.idItemDrag){var e=t.get("idF"),n=t.get("IC"),o=l.Windown.FishBongDem.fishMng.getFishById(e);o&&(this.fishTarget=o,this.currentColider=o.getListColider()[n]),this.isSendTargetFish=!1}},e.prototype.onChangeTarget=function(t){var e=t.get("idF"),n=l.Windown.FishBongDem.fishMng.getFishById(e);n&&(this.fishTarget=n)},e.prototype.getBullet=function(){var t=null;return(t=this.poolBullet.size()>0?this.poolBullet.get():cc.instantiate(this.nodeBullet)).active=!0,t},e.prototype.putBullet=function(t){this.node?this.poolBullet.put(t.node):t.node.destroy()},e.prototype.removeBullet=function(t){if(this.node){var e=this.listBullet.indexOf(t);e>-1&&this.listBullet.splice(e,1)}},e.prototype.end=function(t){return s(this,void 0,void 0,function(){var e,n;return a(this,function(o){switch(o.label){case 0:return t.get("iid")!=this.idItemDrag?[2]:this.isEnd?[2]:(this.isEnd=!0,this.panelPoint.end(),this.offTarget(),e=this.player.getPosInVew().subSelf(cc.v2(this.player.playerSiting%2==0?100:-100,this.player.playerSiting<3?-50:50)),(n=l.Windown.FishBongDem.pool.getLocXoay()).parent=l.Windown.FishBongDem.fishBDView.parentFish,n.zIndex=cc.macro.MIN_ZINDEX,n.setPosition(e),n.scale=0,n.runAction(cc.scaleTo(.5,1.5)),[4,l.Windown.FishBongDem.makeDelay(1)]);case 1:return o.sent(),this.node.runAction(cc.sequence(cc.moveTo(1,e).easing(cc.easeBackIn()),cc.delayTime(.5),cc.scaleTo(.5,0))),[4,l.Windown.FishBongDem.makeDelay(2)];case 2:return o.sent(),n.runAction(cc.scaleTo(.3,0)),[4,l.Windown.FishBongDem.makeDelay(.3)];case 3:return o.sent(),l.Windown.FishBongDem.pool.putLocXoay(n),this.node.destroy(),[2]}})})},e.prototype.emitNewMoney=function(){if(this.moneyCurrent=this.panelPoint.moneyCurrent,this.mutilLeft=(this.moneyMax-this.moneyCurrent)/this.moneyGun,this.mutilLeft<6){var t=c.ConectManager.getIns().getSFSObj();t.putUtfString("evt",d.default.RemoveMatThan),t.putLong("iid",this.idItemDrag),l.Windown.FishBongDem.sendRequest(d.default.MatThanAtack,t)}},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this),this.poolBullet.clear(),this.listBullet.forEach(function(t){t.node.destroy()}),this.listBullet.length=0},e.prototype.folowAndAtack=function(t){var e=this;if(this.crTimeDelay+=t,this.fishTarget&&this.crTimeDelay>=.15){var n=this.getBullet();n.parent=this.node.parent,n.setPosition(this.node.getPosition());var o=n.getComponent(u.default);o.creat(this.fishTarget,this,this.player.isMe),this.crTimeDelay=0,this.listBullet.push(o),l.Windown.FishBongDem.getSound().playEffectNoStop(l.Windown.FishBongDem.getSound().matThanAtack,.5)}this.listBullet.forEach(function(t){t.currentPosColider=e.curentPosColider})},e.prototype.checkDistanceFish=function(){var t=this;if(this.fishTarget&&this.fishTarget.getCanColision()&&this.currentColider){var e=this.fishTarget.checkColiderInScreen(this.currentColider);if(e){if(this.curentPosColider=e,cc.Vec2.distance(this.node.getPosition(),e)>this.distanceMax&&!this.isRun){var n=cc.misc.clampf(e.x+l.Windown.RandomNumber(-50,50),-400,400),o=cc.misc.clampf(e.y+l.Windown.RandomNumber(-50,50),-200,200);this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.moveTo(1,cc.v2(n,o)).easing(cc.easeQuarticActionOut()),cc.callFunc(function(){t.isRun=!1}))),this.isRun=!0}}else this.getNewColider()}else this.curentPosColider=null,this.offTarget()},e.prototype.getNewColider=function(){var t=this.fishTarget.getColiderInScreen(this.currentColider);t?this.currentColider=t:this.offTarget()},e.prototype.offTarget=function(){this.fishTarget=null,this.currentColider=null,this.curentPosColider=null,this.listBullet.forEach(function(t){t.currentPosColider=null,t.update(0)}),this.isRun&&!this.isEnd&&(this.node.stopAllActions(),this.isRun=!1)},e.prototype.autoChooseFish=function(){var t=this;if(null==this.fishTarget&&!this.isEnd){this.offTarget();var e=[];l.Windown.FishBongDem.fishMng.forEachListFish(function(n){n.fishType!=h.default.SONG_AM&&n.fishType!=h.default.GUN_FIRE&&n.fishType!=h.default.LAZE&&n.fishType!=h.default.BOOM&&n.fishType!=h.default.MUI_KHOAN&&n.fishType!=h.default.VONG_QUAY&&n.fishType!=h.default.JACKPOT&&n.getColiderInScreen()&&(t.mutilLeft<31&&n.fishType,e.push(n))});var n=e[l.Windown.RandomNumber(0,e.length)];if(n){var o=c.ConectManager.getIns().getSFSObj();o.putInt("idF",n.fishId),o.putInt("IC",n.getListColider().indexOf(n.getColiderInScreen())),o.putLong("iid",this.idItemDrag),o.putUtfString("evt",d.default.MatThanAtack),l.Windown.FishBongDem.sendRequest(d.default.MatThanAtack,o),this.isSendTargetFish=!0,this.unschedule(this.offTarget),this.scheduleOnce(this.offTarget,l.Windown.RandomNumber(7,12))}}},e.prototype.update=function(t){t*=cc.director.getScheduler().getTimeScale(),this.player.isMe&&!this.isSendTargetFish&&this.autoChooseFish(),this.checkDistanceFish(t),this.folowAndAtack(t)},r([m(cc.Node)],e.prototype,"nodeBullet",void 0),r([m(cc.Label)],e.prototype,"lbNickName",void 0),r([m(p.default)],e.prototype,"panelPoint",void 0),r([g],e)}(cc.Component);n.default=v,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Windown":"Windown","../Bullet/BulletMatThan":"BulletMatThan","../DeadBevhavior/PanelPoint":"PanelPoint","../Fish/FISH_TYPE":"FISH_TYPE","../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD"}],MatTroiView:[function(t,e,n){"use strict";cc._RF.push(e,"5101eaMqfxDCqoPAkoIzvRN","MatTroiView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/EVENT_MANAGER"),l=t("../../../Scritps/DefineTs/PlayerPP"),u=t("../../../Scritps/DefineTs/REQUEST_CODE"),p=t("../../../Scritps/DefineTs/StateReelSlot"),h=t("../../../Scritps/DefineTs/TextDefine"),d=t("../../../Scritps/Game/GAME_TYPE"),f=t("../../../Scritps/Network/ConectManager"),y=t("../../../Scritps/Obs/LbMoneyChange"),g=t("../../../Scritps/Other/LbMonoSpace"),m=t("../../../Scritps/Other/MakeDelay"),v=t("../../../Scritps/Util"),S=t("../../../Scritps/Windown"),b=t("./AssetMatTroi"),w=t("./AudioMatTroi"),_=t("./EffectControlMatTroi"),C=t("./EffectMatTroi"),T=t("./InfoBarControllerMatTroi"),I=t("./ItemSlotMatTroi"),W=t("./LichSuMatTroi"),M=t("./MultiControlMatTroi"),E=t("./SpinNormalMatTroi"),R=cc._decorator,A=R.ccclass,B=R.property,O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.asset=null,e.bkgSprite=null,e.parentItem=null,e.parentEffect=null,e.parentBackgroundEffect=null,e.parentItemFront=null,e.parentItemActive=null,e.parentNearWin=null,e.nodeLine=null,e.effect=null,e.labelChipReviceInBox=null,e.lb_totalBet=null,e.toggleMusic=null,e.lb_FSLeft=null,e.lb_TotalLine=null,e.lb_CountAuto=null,e.infoBar=null,e.effectController=null,e.muitlCtr=null,e.btnSpin=null,e.parentMask=null,e.nodeChooseAuto=null,e.khungItem=null,e._popupLichSu=null,e.audio=null,e.listNodeDeactive=[],e.nodeBtnPlay=null,e.nodeBtnSeting=null,e.toggleTurbo=null,e.btnStartAuto=null,e.listColum=[],e.listResult=null,e.listResultConvert=[],e.listConfigBet=[],e.gameType=-1,e.sfs=null,e.roomSFS=null,e.stateReel=0,e.totalLineBet=20,e.curRoomBet=50,e.funEnd=null,e.isShowBtnPlay=!0,e.dataFinish=null,e.sfsObjTest=null,e.sfsObjTest2=null,e.stateSpin=null,e.makeDelay=null,e.currentTotalLine=1,e.isMouseEnterSpin=!1,e}return i(e,t),e.prototype.onLoad=function(){S.Windown.MatTroiView=this,this.makeDelay=new m.default(this),this.gameType=d.default.MatTroi,this.sfs=f.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(c.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),cc.systemEvent.on(c.EVENT_MANAGER.LOGIN,this.onLogin,this),this.stateReel=p.default.WAITING,this.stateSpin=new E.default,this.sendJoinRoom(),this.activeMask(!1),this.registerBtnSpinEffect()},e.prototype.onLogin=function(){this.sendJoinRoom()},e.prototype.registerBtnSpinEffect=function(){var t=this;this.btnSpin.on(cc.Node.EventType.MOUSE_ENTER,function(){var e=t.btnSpin.getChildByName("cirle");if(t.isMouseEnterSpin=!0,1.2==e.scale&&t.stateReel==p.default.WAITING){var n=cc.tween(e).set({scale:.5,opacity:0}).to(.75,{scale:1.2,opacity:255},{easing:cc.easing.sineOut}).to(.1,{opacity:0}).delay(.5).call(function(){t.isMouseEnterSpin&&n.start()});n.start()}}),this.btnSpin.on(cc.Node.EventType.MOUSE_LEAVE,function(){t.isMouseEnterSpin=!1})},e.prototype.start=function(){var t=this;this.setupView(),this.initItem(),S.Windown.AudioManager.isActiveSound&&S.Windown.AudioManager.isActiveMusic?(this.toggleMusic.isChecked=!0,this.toggleMusic.checkMark.node.active=!0,this.toggleMusic.node.children[0].active=!1):(this.toggleMusic.isChecked=!1,this.toggleMusic.checkMark.node.active=!1,this.toggleMusic.node.children[0].active=!0),cc.sys.isNative||this.scheduleOnce(function(){return s(t,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,S.Windown.loadBundle(d.default.MatTroi.toString())];case 1:return t.sent().loadDir("Spine",function(){}),[2]}})})},3)},e.prototype.onDestroy=function(){S.Windown.MatTroiView=null,this.dataFinish&&(S.Windown.MoneyUser.removeDelay(this.gameType),this.dataFinish=null),S.Windown.MoneyUser.endGameMOney(this.gameType),cc.systemEvent.removeAll(this),this.roomSFS=null,this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),this.makeDelay.clear()},e.prototype.switchBkgGame=function(t){var e=cc.find("Game/BkgGround/FreeSpin",this.node);S.Windown.MatTroiView.lb_FSLeft.node.parent.active=!1,t?(e.active=!0,cc.find("Game/BkgGround/Normal",this.node).active=!1,S.Windown.MatTroiView.lb_FSLeft.node.parent.active=!0):(cc.find("Game/BkgGround/Normal",this.node).active=!0,e.active=!1)},e.prototype.initItem=function(){for(var t=cc.instantiate(this.parentItem.children[0]),e=(t.width,0);e<6;e++){var n=this.parentItem.children[e];null==n&&((n=cc.instantiate(t)).parent=this.parentItem);var o=n.getComponent(I.default);this.listColum.push(o),o.index=e,o.setResultFirtGame(),o.node.y=0}},e.prototype.activeMask=function(t,e,n){void 0===n&&(n=.3);var o=this.parentMask.children;t?e?(o[e].stopAllActions(),o[e].runAction(cc.fadeTo(n,180))):(o.forEach(function(t){t.stopAllActions(),t.runAction(cc.fadeTo(n,180))}),this.khungItem.stopAllActions(),cc.tween(this.khungItem).to(n,{color:cc.Color.GRAY}).start()):e?(o[e].stopAllActions(),o[e].runAction(cc.fadeOut(n))):(o.forEach(function(t){t.stopAllActions(),t.runAction(cc.fadeOut(n))}),this.khungItem.stopAllActions(),cc.tween(this.khungItem).to(n,{color:cc.Color.WHITE}).start())},e.prototype.getMakeDelay=function(t){return this.makeDelay.getDelay(t)},e.prototype.resetLbTotalLine=function(){this.currentTotalLine=1,this.lb_TotalLine.string=". . ."},e.prototype.onClickBtnSpin=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),this.stateReel!=p.default.WAITING?[3,2]:(this.audio.playEffect(this.audio.spinBtn),this.audio.playEffect(this.audio.spinActivated),this.stateReel=p.default.RUN,this.setStateEffBtnSpin(),this.offAllBtn(),this.infoBar.reset(),this.effectController.resetForNewSpin(),[4,this.stateSpin.onStart()]);case 1:return e.sent(),this.sendClickSpin(),[3,3];case 2:this.stateReel==p.default.CAN_STOP?this.stateSpin.isMaxSpeed||(this.unschedule(this.funEnd),this.stateSpin.onForceEnd(),this.stateReel=p.default.RUN):this.stateReel==p.default.STOP||this.stateReel==p.default.SHOW_EFFECT&&(this.stateSpin.resetForNextNextSpin(),this.onClickBtnSpin()),e.label=3;case 3:return[3,5];case 4:return t=e.sent(),v.Util.ThrowErrProsime(t),[3,5];case 5:return[2]}})})},e.prototype.sendClickSpin=function(){if(null!=this.sfsObjTest)return f.ConectManager.getIns().sendRequest("testSpin",this.sfsObjTest,this.roomSFS),this.sfsObjTest=null,void cc.log("send test ne");if(null!=this.sfsObjTest2)return f.ConectManager.getIns().sendRequest("testSpin2",this.sfsObjTest2,this.roomSFS),this.sfsObjTest2=null,void cc.log("send test2 ne");var t=f.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),f.ConectManager.getIns().sendRequest(u.REQUEST_CODE.SpinMatTroi,t,this.roomSFS)},e.prototype.offAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!1,t.node.children.forEach(function(t){t.color=cc.Color.fromHEX(new cc.Color,"#999999")})})},e.prototype.setStateEffBtnSpin=function(){var t=this.btnSpin.getComponent(cc.Animation),e=cc.find("sb_arrow",this.btnSpin),n=cc.find("sb_arrow_blur",this.btnSpin);if(this.stateReel!=p.default.STOP){var o=cc.Material.getBuiltinMaterial("2d-sprite");e.getComponentInChildren(cc.Sprite).setMaterial(0,o)}if(this.stateReel==p.default.WAITING||this.stateReel==p.default.SHOW_EFFECT)0==this.stateSpin.countAutoSpin?(n.active=!1,e.active=!0,t.play("btnSpin"),o=cc.Material.getBuiltinMaterial("2d-sprite"),e.getComponentInChildren(cc.Sprite).setMaterial(0,o),this.btnSpin.getChildByName("sb_base").active=!0):this.btnSpin.getChildByName("sb_base").active=!1,cc.find("mf_vfx_j_sun_add_00",this.btnSpin).getComponent(cc.Sprite).spriteFrame=null,cc.find("sb_vfx_b_screen",this.btnSpin).getComponent(cc.Sprite).spriteFrame=null;else if(this.stateReel==p.default.RUN)this.audio.playEffect(this.audio.spinBtn),this.audio.playEffect(this.audio.menu_icon_press),0==this.stateSpin.countAutoSpin?(t.play("btnSpin_Click"),n.active=!0,n.stopAllActions(),n.runAction(cc.repeatForever(cc.rotateBy(.3,-360))),e.active=!1,this.btnSpin.getChildByName("sb_base").active=!0):this.btnSpin.getChildByName("sb_base").active=!1,this.infoBar.showRdContent();else if(this.stateReel==p.default.STOP){e.active=!0,e.stopAllActions(),n.active=!1;var i=cc.Material.getBuiltinMaterial("2d-gray-sprite");e.getComponentInChildren(cc.Sprite).setMaterial(0,i)}},e.prototype.sendJoinRoom=function(){try{var t=f.ConectManager.getIns().getValibleRoomName(),e=new SFS2X.RoomSettings(t),n=new SFS2X.RoomExtension("MatTroiExtension","ext.Room.SlotMatTroiMatTrang.SlotGameView");e.extension=n,e.isGame=!0,e.maxUsers=1,e.groupId="SlotMatTroi",this.sfs.send(new SFS2X.CreateRoomRequest(e,!0))}catch(o){cc.error(o),this.onDisconnect()}},e.prototype.userExitRoom=function(t){cc.log("user exit room"),"SlotMatTroi"==t.room.groupId&&t.user.isItMe&&cc.director.loadScene("main")},e.prototype.onCreateError=function(){cc.log("creat errr"),S.Windown.UIManager.hideLoading(),cc.director.loadScene("main"),S.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM)},e.prototype.onJoinRoom=function(t){var e=t.room;if("SlotMatTroi"==e.groupId){this.roomSFS=e,S.Windown.UIManager.hideLoadingData(),cc.log("hide loading data nay");var n=e.getVariable("cf").value;cc.log(n);var o=[],i=JSON.parse(n);for(var r in i){var s=Object.create(null);s.bet=parseInt(r),s.perJp=i[r].percentPot/100,o.push(s)}o.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=o,this.curRoomBet=this.listConfigBet[0].bet,this.lb_totalBet.string=S.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),S.Windown.UIManager.hideLoading(),S.Windown.UIManager.hideLoadingData(),S.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM),cc.director.loadScene("main")},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(e){case u.REQUEST_CODE.SpinMatTroi:cc.log(S.Windown.SFSObjToJson(n)),this.handleFinish(n);break;case u.REQUEST_CODE.HistoryMatTroi:this._popupLichSu&&this._popupLichSu.responseServer(n);break;case u.REQUEST_CODE.HistoryChiTietMatTroi:this._popupLichSu&&this._popupLichSu.responseServerChiTiet(n);break;case u.REQUEST_CODE.REQUEST_GET_LastSpin_SLOT:this.handleGetLastSpinSlot(n)}},e.prototype.handleGetLastSpinSlot=function(t){var e=t.get("t"),n=t.get("iF");if(e==d.default.MatTroi&&n&&null==this.dataFinish){var o=t.get("d"),i=o.get("numFreeSpin");this.stateSpin.lastFreeSpinLeft=i,this.stateSpin.freeSpinLeft=i-1,this.lb_FSLeft.string=this.stateSpin.freeSpinLeft.toString();var r=o.getIntArray("bonusSpinR"),s=o.getIntArray("bonusSpinL"),a=s[s.length-1],c=r[r.length-1];return this.effect.swidthFS(!0,a,c),this.dataFinish=o,void this.onClickBtnSpin()}e==d.default.MatTroi&&this.stateReel==p.default.RUN&&(!t.containsKey("d")||this.dataFinish&&S.Windown.SFSObjToJson(this.dataFinish)==S.Windown.SFSObjToJson(t.get("d"))?this.sendClickSpin():this.handleFinish(t.get("d")))},e.prototype.handleFinish=function(t){var e=this;if(t.containsKey(l.PlayerPP.ERR_MESSAGE))return this.stateSpin.handleErrSpin(),S.Windown.Dialog.showLog(t.get(l.PlayerPP.ERR_MESSAGE)),this.activeAllBtn(),void this.onClickResetCountAuto();this.dataFinish=t,S.Windown.MoneyUser.pushDelayMoney(this.gameType,this.dataFinish.get("agUser"),t.get("agWin")),this.truTienBet(this.dataFinish.get("agBet")*this.totalLineBet,this.dataFinish.get("agUser")),this.listResult=t.get("views");var n=t.getIntArray("bonusSpinR"),o=t.getIntArray("bonusSpinL");this.listResultConvert=this.convertResult(this.listResult,JSON.parse(S.Windown.SFSArrToJson(t.get("listItemWinL"))),JSON.parse(S.Windown.SFSArrToJson(t.get("listItemWinR"))),n,o),this.stateSpin.isMaxSpeed,this.stateReel=p.default.CAN_STOP;var i=this.stateSpin.isMaxSpeed?0:.5;this.scheduleOnce(this.funEnd=function(){e.stateSpin.onEnd()},i)},e.prototype.onClickResetCountAuto=function(){this.stateSpin.countAutoSpin=0,this.lb_CountAuto.node.parent.active=!1,S.Windown.MatTroiView.audio.playClick()},e.prototype.convertResult=function(t,e,n,o,i){var r=this,s=[];return S.Windown.foreachSFSArray(t,function(t,a){var c=Object.create(null);c.listSFSObj=[],c.agWin=0,c.bonusSpinR=a<o.length?o[a]:1,c.bonusSpinL=a<i.length?i[a]:1,S.Windown.foreachSFSArray(t,function(o,i){var r=[];if(S.Windown.foreachSFSArray(o,function(t){r.push(t)}),r.reverse(),c.listSFSObj.push(r),r.forEach(function(t){JSON.parse(S.Windown.SFSObjToJson(t))}),i==t.size()-1){var s=e.shift();s&&(s.lsIdItem=JSON.parse(s.lsIdItem),s.lsstack=JSON.parse(s.lsstack),s.lsAgWin=JSON.parse(s.lsAgWin),s.lsAgWin.length>0&&(c.listItemWinL=s,c.isNoSap=!0),s.lsAgWin.forEach(function(t){c.agWin+=t}));var a=n.shift();a&&(a.lsIdItem=JSON.parse(a.lsIdItem),a.lsstack=JSON.parse(a.lsstack),a.lsAgWin=JSON.parse(a.lsAgWin),a.lsAgWin.length>0&&(c.listItemWinR=a,c.isNoSap=!0),a.lsAgWin.forEach(function(t){c.agWin+=t}))}}),c.countScater=r.getCountScater(c.listSFSObj),s.push(c)}),s},e.prototype.getListActiveScaster=function(t){for(var e=[],n=0,o=0;o<t.length;o++)e.push(n>=2),t[o].forEach(function(t){11==t.getInt("idItem")&&n++});return e},e.prototype.clearAllMakeDelay=function(){this.makeDelay.clear()},e.prototype.resetForNewGame=function(){this.stateReel=p.default.WAITING,this.setStateEffBtnSpin()},e.prototype.setLbFreeSpinLeft=function(t){var e=this.lb_FSLeft.node.parent;this.lb_FSLeft.string=t.toString(),t<1?(cc.find("last_spin",e).active=!0,cc.find("remaining_spin",e).active=!1,this.lb_FSLeft.node.active=!1):(cc.find("last_spin",e).active=!1,cc.find("remaining_spin",e).active=!0,this.lb_FSLeft.node.active=!0)},e.prototype.setCountAuto=function(t){this.lb_CountAuto.node.parent.active=!(t<1),this.lb_CountAuto.string=t.toString()},e.prototype.getCountScater=function(t){var e=0;return t.forEach(function(t){t.forEach(function(t){11==t.getInt("idItem")&&e++})}),e},e.prototype.truTienBet=function(t,e){0!=t&&S.Windown.MoneyUser.subMoney(t,e)},e.prototype.activeAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!0,t.node.children.forEach(function(t){t.color=cc.Color.fromHEX(new cc.Color,"#FFD500")})})},e.prototype.getDelta=function(){return this.stateSpin.isMaxSpeed?2:1},e.prototype.updateNewTotalLine=function(t){this.currentTotalLine*=t,this.lb_TotalLine.string=this.currentTotalLine.toString()},e.prototype.onDisconnect=function(){cc.log("disconnect"),S.Windown.UIManager.hideLoading(),S.Windown.UIManager.hideLoadingData(),cc.director.loadScene("main")},e.prototype.setupView=function(){var t=cc.find("Game",this.node);if(cc.sys.isMobile)e=1280/720;else{var e=cc.view.getDesignResolutionSize().height/1280;t.setScale(e,e,e),this.bkgSprite.setContentSize(cc.winSize),S.Windown.UIManager.changeRotation(!0)}},e.prototype.onClickChangeBet=function(t,e){if(S.Windown.MatTroiView.audio.playClick(),this.listConfigBet.length<1)S.Windown.Dialog.showLog(h.TextDefine.Error);else{var n=-1;for(var o in this.listConfigBet)if(this.listConfigBet[o].bet==this.curRoomBet){n=parseInt(o);break}0==e?n--:n++,n<0&&(n=this.listConfigBet.length-1),n>this.listConfigBet.length-1&&(n=0),this.curRoomBet=this.listConfigBet[n].bet,this.lb_totalBet.string=S.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.onClickSeting=function(){if(S.Windown.MatTroiView.audio.playClick(),this.isShowBtnPlay=!this.isShowBtnPlay,this.isShowBtnPlay)t=cc.v2(0,-750),this.nodeBtnPlay.runAction(cc.fadeIn(.4)),this.nodeBtnSeting.runAction(cc.spawn(cc.fadeOut(.3),cc.moveTo(.3,t)));else{this.nodeBtnPlay.stopAllActions(),this.nodeBtnSeting.stopAllActions();var t=cc.v2(0,-525.279);this.nodeBtnPlay.runAction(cc.fadeOut(.3)),this.nodeBtnSeting.opacity=0,this.nodeBtnSeting.runAction(cc.spawn(cc.fadeIn(.4),cc.moveTo(.4,t)))}},e.prototype.onClickTurbo=function(){S.Windown.MatTroiView.audio.playClick();var t=this.toggleTurbo.isChecked;this.toggleTurbo.node.children[1].active=!t,this.stateSpin.isMaxSpeed=t,t?(S.Windown.UIManager.showAlertMini("\u0110\xe3 B\u1eacT quay nhanh"),this.toggleTurbo.node.getChildByName("ic_toast_turbo_off").active=!1,this.toggleTurbo.node.getChildByName("ic_toast_turbo_on").active=!0):(S.Windown.UIManager.showAlertMini("\u0110\xe3 T\u1eaeT quay nhanh"),this.toggleTurbo.node.getChildByName("ic_toast_turbo_off").active=!0,this.toggleTurbo.node.getChildByName("ic_toast_turbo_on").active=!1)},e.prototype.onClickBackToLobby=function(){S.Windown.MatTroiView.audio.playClick(),this.roomSFS?f.ConectManager.getIns().sendLeaveRoom(this.roomSFS):cc.director.loadScene("main")},e.prototype.onClickMusic=function(){S.Windown.MatTroiView.audio.playClick();var t=this.toggleMusic.isChecked;this.toggleMusic.node.children[0].active=!t,S.Windown.AudioManager?(S.Windown.AudioManager.isActiveSound=t,S.Windown.AudioManager.isActiveMusic=t):t?(S.Windown.setLocalStorage("sound","on"),S.Windown.setLocalStorage("music","on")):(S.Windown.setLocalStorage("sound","off"),S.Windown.setLocalStorage("music","off"))},e.prototype.onClickCachChoi=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return cc.log("onClickCachChoi1"),S.Windown.MatTroiView.audio.playClick(),cc.log("onClickCachChoi2"),S.Windown.UIManager.showLoading(),[4,S.Windown.loadRes(this.gameType.toString(),"Prefabs/CachChoi",cc.Prefab)];case 1:return t=e.sent(),cc.log("onClickCachChoi3"),cc.instantiate(t).parent=S.Windown.MatTroiView.node.getChildByName("Game"),cc.log("onClickCachChoi"),S.Windown.UIManager.hideLoading(),[2]}})})},e.prototype.onClickLichSu=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return S.Windown.MatTroiView.audio.playClick(),S.Windown.UIManager.showLoading(),[4,S.Windown.loadRes(this.gameType.toString(),"Prefabs/LichSu",cc.Prefab)];case 1:return t=e.sent(),this._popupLichSu=cc.instantiate(t).getComponent(W.default),this._popupLichSu.node.parent=S.Windown.MatTroiView.node.getChildByName("Game"),this._popupLichSu.show(),[2]}})})},e.prototype.showMoneyAllWin=function(t){this.labelChipReviceInBox.setMoney(t),S.Windown.MoneyUser.removeDelay(this.gameType)},e.prototype.onClickFakeAllData=function(){var t={data:'{"agWin":2100,"numFreeSpin":0,"bonusSpinR":[2,2],"agUser":147650,"listItemWinL":[{"2b":false,"lsIdItem":"[1]","lsstack":"[2]","lsAgWin":"[300]","win":300},{"2b":false,"lsIdItem":"[0]","lsstack":"[3]","lsAgWin":"[400]","win":400}],"bonusSpinL":[3,3],"agBet":50,"listItemWinR":[{"2b":false,"lsIdItem":"[]","lsstack":"[]","lsAgWin":"[]","win":0},{"2b":false,"lsIdItem":"[]","lsstack":"[]","lsAgWin":"[]","win":0}],"views":[[[{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":1}],[{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":0}],[{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":0}],[{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":0}],[{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":11},{"size":1,"typeItem":0,"idItem":8}],[{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":11}]],[[{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":0}],[{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":2}],[{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":3}],[{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":0}],[{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":11},{"size":1,"typeItem":0,"idItem":8}],[{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":11}]],[[{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":5}],[{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":7}],[{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":0}],[{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":1}],[{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":11},{"size":1,"typeItem":0,"idItem":8}],[{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":11}]]],"Scarter3":false}',bet:this.curRoomBet};this.sfsObjTest2=S.Windown.JsonToSFSObj(JSON.stringify(t)),this.onClickBtnSpin(),cc.log("onClickFakeAllData")},e.prototype.onClickSendObjTest=function(){var t=f.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),t.putUtfString("arr",'[[{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":11}],\n            [{"size":1,"typeItem":0,"idItem":11},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":8}],\n            [{"size":1,"typeItem":0,"idItem":11},{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":0}],\n            [{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":10}],\n            [{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":3}],\n            [{"size":9,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":3}]]'),this.sfsObjTest=t,this.onClickBtnSpin(),cc.log("onClickSendObjTest")},e.prototype.onClickItemAutoSpin=function(t){S.Windown.MatTroiView.audio.playClick(),this.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer).allowSwitchOff=!1;var e=t.node.name,n=Number(e);this.stateSpin.countAutoSpin=n,this.btnStartAuto.interactable=!0,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#FF8E26")},e.prototype.onClickStartAutoSpin=function(){this.onClickBtnSpin(),this.onClickCloseListAuto(),S.Windown.MatTroiView.stateSpin.countAutoSpin>0&&S.Windown.MatTroiView.setCountAuto(S.Windown.MatTroiView.stateSpin.countAutoSpin)},e.prototype.onClickShowListAuto=function(){S.Windown.MatTroiView.audio.playClick(),this.nodeChooseAuto.active=!0,this.nodeChooseAuto.opacity=0,this.nodeChooseAuto.runAction(cc.fadeIn(.3)),this.btnStartAuto.interactable=!1,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")},e.prototype.onClickCloseListAuto=function(){var t=this;S.Windown.MatTroiView.audio.playClick(),this.nodeChooseAuto.stopAllActions(),this.nodeChooseAuto.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){var e=t.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer);e.allowSwitchOff=!0,e.toggleItems.forEach(function(t){t.isChecked&&t.uncheck()}),t.nodeChooseAuto.active=!1,t.btnStartAuto.interactable=!1,t.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")})))},r([B(b.default)],e.prototype,"asset",void 0),r([B(cc.Node)],e.prototype,"bkgSprite",void 0),r([B(cc.Node)],e.prototype,"parentItem",void 0),r([B(cc.Node)],e.prototype,"parentEffect",void 0),r([B(cc.Node)],e.prototype,"parentBackgroundEffect",void 0),r([B(cc.Node)],e.prototype,"parentItemFront",void 0),r([B(cc.Node)],e.prototype,"parentItemActive",void 0),r([B(cc.Node)],e.prototype,"parentNearWin",void 0),r([B(cc.Node)],e.prototype,"nodeLine",void 0),r([B(C.default)],e.prototype,"effect",void 0),r([B(y.default)],e.prototype,"labelChipReviceInBox",void 0),r([B(cc.Label)],e.prototype,"lb_totalBet",void 0),r([B(cc.Toggle)],e.prototype,"toggleMusic",void 0),r([B(g.default)],e.prototype,"lb_FSLeft",void 0),r([B(cc.Label)],e.prototype,"lb_TotalLine",void 0),r([B(g.default)],e.prototype,"lb_CountAuto",void 0),r([B(T.default)],e.prototype,"infoBar",void 0),r([B(_.default)],e.prototype,"effectController",void 0),r([B(M.default)],e.prototype,"muitlCtr",void 0),r([B(cc.Node)],e.prototype,"btnSpin",void 0),r([B(cc.Node)],e.prototype,"parentMask",void 0),r([B(cc.Node)],e.prototype,"nodeChooseAuto",void 0),r([B(cc.Node)],e.prototype,"khungItem",void 0),r([B(w.default)],e.prototype,"audio",void 0),r([B([cc.Button])],e.prototype,"listNodeDeactive",void 0),r([B(cc.Node)],e.prototype,"nodeBtnPlay",void 0),r([B(cc.Node)],e.prototype,"nodeBtnSeting",void 0),r([B(cc.Toggle)],e.prototype,"toggleTurbo",void 0),r([B(cc.Button)],e.prototype,"btnStartAuto",void 0),r([A],e)}(cc.Component);n.default=O,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../../Scritps/DefineTs/PlayerPP":"PlayerPP","../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Other/MakeDelay":"MakeDelay","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./AssetMatTroi":"AssetMatTroi","./AudioMatTroi":"AudioMatTroi","./EffectControlMatTroi":"EffectControlMatTroi","./EffectMatTroi":"EffectMatTroi","./InfoBarControllerMatTroi":"InfoBarControllerMatTroi","./ItemSlotMatTroi":"ItemSlotMatTroi","./LichSuMatTroi":"LichSuMatTroi","./MultiControlMatTroi":"MultiControlMatTroi","./SpinNormalMatTroi":"SpinNormalMatTroi"}],MenuInGame:[function(t,e,n){"use strict";cc._RF.push(e,"ca6dayGjCFFMr4rOISC7uaK","MenuInGame");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeGroup=null,e}return i(e,t),e.prototype.onLoad=function(){this.onShowAllItem()},e.prototype.onEnable=function(){cc.tween(this.nodeGroup).set({opacity:0,x:-this.node.parent.width/2-this.nodeGroup.width/2}).to(.2,{opacity:255,x:-this.node.parent.width/2+this.nodeGroup.width/2},{easing:cc.easing.sineOut}).start()},e.prototype.onClickCaiDat=function(){this.onClickClose(),s.Windown.UIManager.showCaiDatFish()},e.prototype.onClickAutoExit=function(){this.onClickClose(),null!=this.node.getParent()&&s.Windown.GameView.sendAutoExit()},e.prototype.onClickRule=function(){this.onClickClose(),null!=this.node.getParent()&&s.Windown.GameView.onClickRule()},e.prototype.onClickClose=function(){var t=this;cc.tween(this.nodeGroup).to(.2,{opacity:255,x:-this.node.parent.width/2-this.nodeGroup.width/2},{easing:cc.easing.sineIn}).call(function(){try{t.node.removeFromParent(),t.node.destroy()}catch(e){console.log(e)}}).start()},e.prototype.onClickChangeTable=function(){this.onClickClose(),null!=this.node.getParent()&&(s.Windown.UIManager.lastGameType=s.Windown.GameView.gameType,s.Windown.UIManager.lastMark=s.Windown.GameView.markCurrent,s.Windown.GameView.sendAutoExit(),s.Windown.UIManager.isClickChangeTable=!0)},e.prototype.onShowAllItem=function(){for(var t=0;t<this.nodeGroup.childrenCount;t++)this.nodeGroup.children[t].active=!0},e.prototype.onHideItem=function(t){this.nodeGroup.children[t].active=!1,this.sortHighLightItem()},e.prototype.sortHighLightItem=function(){for(var t=[],e=0;e<this.nodeGroup.childrenCount;e++)this.nodeGroup.children[e].active&&t.push(e);for(e=0;e<t.length;e++)this.nodeGroup.children[t[e]].getComponent(cc.Sprite).enabled=e%2==0},r([l(cc.Node)],e.prototype,"nodeGroup",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Windown":"Windown"}],MiniPokerHistoryItem:[function(t,e,n){"use strict";cc._RF.push(e,"31887ORf+dDv6/2cEtJEVU9","MiniPokerHistoryItem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbBalance=null,e.lbTime=null,e.lbBetValue=null,e.lbReceiveValue=null,e.sprCards=[],e.cardAtlas=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.initItem=function(t){t.getLong("date"),this.lbTime.string=s.Windown.formatDate(new Date(t.getLong("date")),"yyyy/MM/dd HH:mm:ss"),this.lbBetValue.string=s.Windown.formatNumber(t.getInt("agBet")),this.lbReceiveValue.string=s.Windown.formatNumber(t.getInt("agWin")),this.lbReceiveValue.node.color=t.getInt("agWin")>0?cc.Color.YELLOW:cc.Color.RED,this.lbBalance.string=s.Windown.formatNumber(t.getInt("agUser"));for(var e=JSON.parse(t.getUtfString("views")),n=0;n<e.length;n++){cc.log("view==",e[n]);var o=this.convertCard(e[n].I);this.sprCards[n].spriteFrame=o<10?s.Windown.MiniPoker.getSpriteCard("0"+o.toString()):s.Windown.MiniPoker.getSpriteCard(o.toString())}},e.prototype.convertCard=function(t){var e=0;switch(t){case 1:e=40;break;case 2:e=41;break;case 3:e=42;break;case 4:e=43;break;case 5:e=44;break;case 6:e=45;break;case 7:e=46;break;case 8:e=47;break;case 9:e=48;break;case 10:e=49;break;case 11:e=50;break;case 12:e=51;break;case 13:e=52;break;case 14:e=27;break;case 15:e=28;break;case 16:e=29;break;case 17:e=30;break;case 18:e=31;break;case 19:e=32;break;case 20:e=33;break;case 21:e=34;break;case 22:e=35;break;case 23:e=36;break;case 24:e=37;break;case 25:e=38;break;case 26:e=39;break;case 27:e=1;break;case 28:e=2;break;case 29:e=3;break;case 30:e=4;break;case 31:e=5;break;case 32:e=6;break;case 33:e=7;break;case 34:e=8;break;case 35:e=9;break;case 36:e=10;break;case 37:e=11;break;case 38:e=12;break;case 39:e=13;break;case 40:e=14;break;case 41:e=15;break;case 42:e=16;break;case 43:e=17;break;case 44:e=18;break;case 45:e=19;break;case 46:e=20;break;case 47:e=21;break;case 48:e=22;break;case 49:e=23;break;case 50:e=24;break;case 51:e=25;break;case 52:e=26}return e},r([l(cc.Label)],e.prototype,"lbBalance",void 0),r([l(cc.Label)],e.prototype,"lbTime",void 0),r([l(cc.Label)],e.prototype,"lbBetValue",void 0),r([l(cc.Label)],e.prototype,"lbReceiveValue",void 0),r([l([cc.Sprite])],e.prototype,"sprCards",void 0),r([l(cc.SpriteAtlas)],e.prototype,"cardAtlas",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],MiniPokerView:[function(t,e,n){"use strict";cc._RF.push(e,"8f59eZ5kgdHH6zhC5wIECip","MiniPokerView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/EVENT_MANAGER"),l=t("../../../Scritps/DefineTs/PlayerPP"),u=t("../../../Scritps/DefineTs/TextDefine"),p=t("../../../Scritps/Game/GAME_TYPE"),h=t("../../../Scritps/Network/ConectManager"),d=t("../../../Scritps/Obs/JackpotItem"),f=t("../../../Scritps/Other/DragMiniGame"),y=t("../../../Scritps/Other/OffMiniGame"),g=t("../../../Scritps/Windown"),m=t("./ItemMiniPoker"),v=cc._decorator,S=v.ccclass,b=v.property,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sfs=null,e.roomSFS=null,e.listConfigBet=[],e.curRoomBet=0,e.listCardSpin=null,e.cardAtlas=null,e.listSpriteResult=[],e.nodeEffectJP=null,e.skeCanGat=null,e.isEndTurn=!0,e.btnSpin=null,e.btnSieuToc=null,e.groupToggle=[],e.animMessage=null,e.btnAuto=null,e.helpView=null,e.lbJp=null,e.lbJackpotWin=null,e}return i(e,t),e.prototype.onLoad=function(){this.idGame=p.default.MiniPoker,g.Windown.MiniPoker=this,this.sfs=h.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),cc.systemEvent.on(c.EVENT_MANAGER.CHANG_ROTATION,this.onChangRotate,this),cc.systemEvent.on(c.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),this.onChangRotate(g.Windown.UIManager.isVertical),this.sendJoinRoom()},e.prototype.onChangRotate=function(t){cc.log("onChangRotate"),t?(this.node.rotation=0,this.node.scale=1,this.node.setPosition(cc.v2(-33.171,0)),cc.winSize.width/cc.winSize.height>1&&(this.node.rotation=0,this.node.scale=1.5,this.node.setPosition(cc.v2(0,0)))):(this.node.rotation=-90,this.node.scale=1,this.node.setPosition(cc.v2(0,0)))},e.prototype.onCreateError=function(){g.Windown.UIManager.hideLoading(),g.Windown.Dialog.showLog(u.TextDefine.ERR_JOIN_ROOM),this.onDisconnect()},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),g.Windown.UIManager.hideLoading(),g.Windown.UIManager.hideLoadingData(),g.Windown.Dialog.showLog(u.TextDefine.ERR_JOIN_ROOM),this.onDisconnect()},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(e){case"spinPoker":cc.log("check data spin : ",g.Windown.SFSObjToJson(n)),this.handleFinish(n);break;case"historyPoker":g.Windown.HistoryMiniPoker.responseServer(n)}},e.prototype.handleFinish=function(t){if(t.containsKey(l.PlayerPP.ERR_MESSAGE))return this.forceStopSpinByNotMoney(),void g.Windown.Dialog.checkAndShowLog(t);var e=this.convertResult(t).dataViews,n=this.convertResult(t).typeCard,o=this.convertResult(t).accountBalance,i=this.convertResult(t).prizeValue,r=this.convertResult(t).isJackpot;this.OnGetResult(n,e,r,i,o)},e.prototype.convertResult=function(t){return{dataViews:JSON.parse(t.get("views")),typeCard:t.get("typeCards"),accountBalance:t.get("agUser"),prizeValue:t.get("agWin"),isJackpot:t.get("isTakeJP")}},e.prototype.ClickSpin=function(){this.skeCanGat.timeScale=1,this.skeCanGat.setAnimation(0,"animation",!1),this.ActiveButton(!1),this.isSpinSuccess=!1,this.isGetResult=!1,this.isEndTurn=!1,this.countTime=0,this.listCardSpin.spinItem(this.isSieuToc),this.sendClickSpin()},e.prototype.getLichSu=function(){var t=h.ConectManager.getIns().getSFSObj();h.ConectManager.getIns().sendRequest("historyPoker",t,this.roomSFS)},e.prototype.ActiveButton=function(t){this.btnSpin.interactable=t,this.btnSieuToc.interactable=t,this.isBigwin=!1;for(var e=0;e<this.groupToggle.length;e++)this.groupToggle[e].interactable=t},e.prototype.OnGetResult=function(t,e,n,o,i){this.cachePrize=o;var r=null;(r=e).PrizeValue=o,r.CardTypeID=t,g.Windown.MoneyUser.pushDelayMoney(this.idGame,i,o),g.Windown.MoneyUser.subMoney(this.curRoomBet,i),o>.1*this.curRoomBet&&(this.isBigwin=!0),this.isGetResult=!0,this.stopSpinAndSetCard(r,o,n)},e.prototype.stopSpinAndSetCard=function(t,e,n){var o=this,i=[];this.scheduleOnce(function(){i.push(new Promise(function(e){o.listCardSpin.setCard(t,e)})),Promise.all(i).then(function(){o.checkShowJackpotAndBigwin(n,e,function(){o.stopSpinAndShowResult(t)})})},.5)},e.prototype.stopSpinAndShowResult=function(t){var e=this,n=[];this.scheduleOnce(function(){n.push(new Promise(function(n){e.listCardSpin.handleShowResult(t,n)})),Promise.all(n).then(function(){e.ShowTextSuccess()})},.7)},e.prototype.ShowTextSuccess=function(){g.Windown.MoneyUser.removeDelay(this.idGame),this.ActiveButton(!0),this.isEndTurn=!0,this.isAuto&&this.AutoSpin()},e.prototype.checkShowJackpotAndBigwin=function(t,e,n){var o=this;t?(this.nodeEffectJP.active=!0,this.lbJackpotWin.string=g.Windown.formatNumber(e),cc.tween(this.nodeEffectJP).set({scale:0}).to(.3,{scale:1.3},{easing:cc.easing.backOut}).delay(3).call(function(){o.nodeEffectJP.active=!1,n()}).start()):n()},e.prototype.sendJoinRoom=function(){cc.log("send creat room");try{var t=h.ConectManager.getIns().getValibleRoomName(),e=new SFS2X.RoomSettings(t),n=new SFS2X.RoomExtension("MiniPokerExtension","ext.Room.MiniPoker.SlotGameView");e.extension=n,e.isGame=!0,e.maxUsers=1,e.groupId="MiniPoker",this.sfs.send(new SFS2X.CreateRoomRequest(e,!0))}catch(o){cc.error(o),this.onDisconnect()}},e.prototype.onJoinRoom=function(t){return s(this,void 0,void 0,function(){var e,n,o,i,r,s,c;return a(this,function(){e=t.room,cc.log("onJoinRoom : ",t.room),g.Windown.UIManager.hideLoading();try{if("MiniPoker"==e.groupId){for(s in this.roomSFS=e,n=e.getVariable("cf"),o=n.value,i=[],r=JSON.parse(o))(c=Object.create({})).bet=parseInt(s),c.perJp=r[s].percentPot/100,i.push(c);i.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=i,console.log("check list config bet : ",this.listConfigBet),this.curRoomBet=this.listConfigBet[0].bet,this.lbJp.changeIndex(this.curRoomBet)}}catch(a){cc.log(a)}return[2]})})},e.prototype.start=function(){this.getComponent(f.default).nomalSize(),this.lbJp.lbMoney.time=.5},e.prototype.sendClickSpin=function(){var t=h.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),h.ConectManager.getIns().sendRequest("spinPoker",t,this.roomSFS)},e.prototype.onClickChangBet=function(t,e){var n=parseInt(e);this.curRoomBet=this.listConfigBet[n].bet,this.lbJp.changeIndex(this.curRoomBet)},e.prototype.OnClickAuto=function(){this.ClickAuto(this.btnAuto.isChecked)},e.prototype.ClickAuto=function(t){this.isAuto=t,this.isAuto&&this.isEndTurn&&this.AutoSpin()},e.prototype.AutoSpin=function(){this.ClickSpin()},e.prototype.onToggleSieuToc=function(t){this.isSieuToc=t.isChecked},e.prototype.ForceStop=function(){var t=this;g.Windown.actionEffectClose(this.node,function(){t.isSpinSuccess=!1,t.isGetResult=!1,t.isAuto=!1,t.isEndTurn=!0,t.animMessage.node.active=!1,t.ActiveButton(!0),t.btnAuto.isChecked=!1,t.Close()})},e.prototype.Close=function(){g.Windown.MoneyUser.endGameMOney(this.idGame),this.isMinimizeGame=!1,this.node.removeFromParent(!1)},e.prototype.forceStopSpinByNotMoney=function(){this.ActiveButton(!0),this.isSpinSuccess=!1,this.isGetResult=!1,this.isAuto=!1,this.isEndTurn=!0,this.listCardSpin.stopByNotMoney()},e.prototype.onClickClose=function(){this.node.active=!1,g.Windown.UIManager.parentMiniGame.getComponentInChildren(y.default)._touchStart(null),this.roomSFS?h.ConectManager.getIns().sendLeaveRoom(this.roomSFS):this.node.destroy()},e.prototype.getSpriteCard=function(t){return this.cardAtlas.getSpriteFrame(t)},e.prototype.userExitRoom=function(t){"MiniPoker"==t.room.groupId&&t.user.isItMe&&this.node.destroy()},e.prototype.clear=function(){cc.systemEvent.targetOff(this),this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse)},e.prototype.showJackpotMini=function(){},e.prototype.hideJackPotMini=function(){},e.prototype.ClickButtonHistory=function(){g.Windown.UIManager.showLoading(),g.Windown.HistoryMiniPoker?g.Windown.HistoryMiniPoker.show():cc.assetManager.loadBundle(p.default.MiniPoker.toString(),function(t,e){t||e.load("Prefabs/HistoryMiniPoker",cc.Prefab,function(t,e){if(!t){var n=cc.instantiate(e);g.Windown.UIManager.parentPopup.addChild(n),g.Windown.HistoryMiniPoker.show()}})})},e.prototype.ClickButtonHelp=function(){g.Windown.UIManager.showLoading(),g.Windown.HuongDanChoiMiniPoker?g.Windown.HuongDanChoiMiniPoker.show():cc.assetManager.loadBundle(p.default.MiniPoker.toString(),function(t,e){t||e.load("Prefabs/minipokerHelpView",cc.Prefab,function(t,e){if(!t){var n=cc.instantiate(e);g.Windown.UIManager.parentPopup.addChild(n),g.Windown.HuongDanChoiMiniPoker.show()}})})},e.prototype.onDisconnect=function(){cc.log("disconnect"),g.Windown.UIManager.hideLoading(),g.Windown.UIManager.hideLoadingData(),this.node.destroy()},e.prototype.onDestroy=function(){this.clear(),g.Windown.MiniPoker=null},r([b(m.default)],e.prototype,"listCardSpin",void 0),r([b(cc.SpriteAtlas)],e.prototype,"cardAtlas",void 0),r([b(cc.SpriteFrame)],e.prototype,"listSpriteResult",void 0),r([b(cc.Node)],e.prototype,"nodeEffectJP",void 0),r([b(sp.Skeleton)],e.prototype,"skeCanGat",void 0),r([b(cc.Button)],e.prototype,"btnSpin",void 0),r([b(cc.Toggle)],e.prototype,"btnSieuToc",void 0),r([b(cc.Toggle)],e.prototype,"groupToggle",void 0),r([b(cc.Animation)],e.prototype,"animMessage",void 0),r([b(cc.Toggle)],e.prototype,"btnAuto",void 0),r([b(cc.Prefab)],e.prototype,"helpView",void 0),r([b(d.default)],e.prototype,"lbJp",void 0),r([b(cc.Label)],e.prototype,"lbJackpotWin",void 0),r([S],e)}(cc.Component);n.default=w,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../../Scritps/DefineTs/PlayerPP":"PlayerPP","../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Obs/JackpotItem":"JackpotItem","../../../Scritps/Other/DragMiniGame":"DragMiniGame","../../../Scritps/Other/OffMiniGame":"OffMiniGame","../../../Scritps/Windown":"Windown","./ItemMiniPoker":"ItemMiniPoker"}],MiniSlotView:[function(t,e,n){"use strict";cc._RF.push(e,"311f0Daq8VCjoHjOSTeBj4Y","MiniSlotView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/EVENT_MANAGER"),l=t("../../../Scritps/DefineTs/PlayerPP"),u=t("../../../Scritps/DefineTs/StateReelSlot"),p=t("../../../Scritps/DefineTs/TextDefine"),h=t("../../../Scritps/Game/GAME_TYPE"),d=t("../../../Scritps/Network/ConectManager"),f=t("../../../Scritps/Obs/JackpotItem"),y=t("../../../Scritps/Obs/LbMoneyChange"),g=t("../../../Scritps/Other/DragMiniGame"),m=t("../../../Scritps/Other/OffMiniGame"),v=t("../../../Scritps/Windown"),S=t("./AssetCandy"),b=t("./EffectCandy"),w=t("./SoundMiniSlot"),_=cc._decorator,C=_.ccclass,T=_.property,I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sfs=null,e.curRoomBet=0,e.totalLineBet=20,e.stateGame=0,e.roomSFS=null,e.dataFinish=null,e.listConfigBet=[],e.listNodeItem=[],e.parentItem=null,e.parentLine=null,e.itemChooseBet=null,e.toggleAutoSpin=null,e.parentBtnLevelBet=null,e.listColum=[],e.effect=null,e.asset=null,e.listFunShowOceLine=[],e.lbMoneyLostBet=null,e.labelChipRevice=null,e.gameType=0,e.btnSpin=null,e.sound=null,e.lbJp=null,e}return i(e,t),e.prototype.onLoad=function(){cc.log("chay vao on load mini slot !!!!"),v.Windown.MiniSlot=this,this.sfs=d.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(c.EVENT_MANAGER.CHANG_ROTATION,this.onChangRotate,this),this.onChangRotate(v.Windown.UIManager.isVertical),this.sendJoinRoom(),this.initItem(),this.gameType=h.default.MiniSlot},e.prototype.onChangRotate=function(t){cc.log("onChangRotate"),t?(this.node.rotation=0,this.node.scale=1,this.node.setPosition(cc.v2(0,0)),cc.winSize.width/cc.winSize.height>1&&(this.node.rotation=0,this.node.scale=1280/720,this.node.setPosition(cc.v2(0,0)))):(this.node.rotation=-90,this.node.scale=1,this.node.setPosition(cc.v2(0,0)))},e.prototype.start=function(){this.lbJp.lbMoney.time=.5,this.getComponent(g.default).nomalSize()},e.prototype.genButtonBetByConfig=function(){for(var t=this.itemChooseBet.node,e=this.parentBtnLevelBet.children,n=0;n<this.listConfigBet.length;n++){var o=this.listConfigBet[n],i=e[n];null==i&&(i=cc.instantiate(t),this.parentBtnLevelBet.addChild(i)),i.active=!0,i.getChildByName("Background").getComponentInChildren(cc.Label).string=v.Windown.formatMoney((20*o.bet).toString(),1,1e3),i.getChildByName("checkmark").getComponentInChildren(cc.Label).string=v.Windown.formatMoney((20*o.bet).toString(),1,1e3),i.getComponent(cc.Toggle).checkEvents[0].customEventData=o.bet.toString(),0===n?(i.getComponent(cc.Toggle).isChecked=!0,cc.log("check")):i.getComponent(cc.Toggle).isChecked=!1}},e.prototype.onClickSelectBet=function(t,e){var n=parseInt(e);this.curRoomBet=n,cc.log("chayv ao day"),this.lbJp.changeIndex(20*this.curRoomBet)},e.prototype.initItem=function(){for(var t=this.parentItem.children[0],e=0;e<3;e++){var n=this.parentItem.children[e];null==n&&(n=cc.instantiate(t),this.parentItem.addChild(n));var o=n.getComponent("ItemSlotCandy");this.listColum.push(o),o.randomFirtGame(),o.node.active=!0,o.node.x=o.node.width*e+o.node.width/2*.7,o.node.y=0;for(var i=o.getListItemSp(),r=0;r<i.length;r++){var s=i[r];this.listNodeItem.push(s)}}},e.prototype.sendJoinRoom=function(){v.Windown.UIManager.showLoading(),cc.log("send creat room");try{var t=d.ConectManager.getIns().getValibleRoomName(),e=new SFS2X.RoomSettings(t),n=new SFS2X.RoomExtension("SlotMiniExtension","ext.Room.SlotMini.SlotGameView");e.extension=n,e.isGame=!0,e.maxUsers=1,e.groupId="SlotMini",this.sfs.send(new SFS2X.CreateRoomRequest(e,!0)),cc.log("send creat room : ",JSON.stringify(e))}catch(o){cc.error(o),this.onDisconnect()}},e.prototype.onDestroy=function(){this.clear(),v.Windown.MiniSlot=null},e.prototype.onJoinRoom=function(t){return s(this,void 0,void 0,function(){var e,n,o,i,r,s,c;return a(this,function(){if(e=t.room,cc.log("onJoinRoom : ",t.room),v.Windown.UIManager.hideLoading(),"SlotMini"==e.groupId){for(s in this.roomSFS=e,n=e.getVariable("cf"),o=n.value,cc.log(o),i=[],r=JSON.parse(o))(c=Object.create(null)).bet=parseInt(s),c.perJp=r[s].percentPot/100,i.push(c);i.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=i,this.curRoomBet=this.listConfigBet[0].bet,this.lbJp.changeIndex(20*this.curRoomBet),this.genButtonBetByConfig()}return[2]})})},e.prototype.onDisconnect=function(){cc.log("disconnect"),v.Windown.UIManager.hideLoading(),v.Windown.UIManager.hideLoadingData(),cc.director.loadScene("main")},e.prototype.onClickSpin=function(){this.stateGame==u.default.WAITING?(cc.log("=>  StateReelSlot.WAITING"),this.runSpin()):this.stateGame==u.default.CAN_STOP?cc.log("=> StateReelSlot.CAN_STOP"):this.stateGame==u.default.STOP?cc.log("===> StateReelSlot.STOP"):this.stateGame==u.default.SHOW_EFFECT&&(cc.log("=>  StateReelSlot.SHOW_EFFECT"),this.resetForNewGame())},e.prototype.sendClickSpin=function(){this.btnSpin.interactable=!1;var t=d.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),cc.log("onClickSendSpin Mini : ",this.curRoomBet),d.ConectManager.getIns().sendRequest("spinMini",t,this.roomSFS)},e.prototype.forceStopSpin=function(){cc.log("force StopSpin"),this.unschedule(this.stopSpin),this.stopColum(!0)},e.prototype.runSpin=function(){this.sound.playStartSpin(),this.sound.playLoopSpin(),this.offAllLineWin();for(var t=0;t<this.listColum.length;t++)this.listColum[t].runSpin();this.sendClickSpin(),this.stateGame=u.default.RUN},e.prototype.onCreateError=function(){cc.log("creat errr"),v.Windown.UIManager.hideLoading(),cc.director.loadScene("main"),v.Windown.Dialog.showLog(p.TextDefine.ERR_JOIN_ROOM)},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),v.Windown.UIManager.hideLoading(),v.Windown.UIManager.hideLoadingData(),v.Windown.Dialog.showLog(p.TextDefine.ERR_JOIN_ROOM),cc.director.loadScene("main")},e.prototype.userExitRoom=function(t){"SlotMini"==t.room.groupId&&(cc.log("user exit room minislot"),t.user.isItMe)&&this.node.destroy()},e.prototype.clear=function(){cc.systemEvent.targetOff(this),this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),this.dataFinish&&(this.dataFinish.payLinePrizeValue,v.Windown.MoneyUser.removeDelay(this.gameType)),v.Windown.MoneyUser.endGameMOney(this.gameType)},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(e){case"spinMini":cc.log("check data spin : ",v.Windown.SFSObjToJson(n)),this.handleFinish(n);break;case"historyMini":v.Windown.HistoryMiniSlot.responseServer(n)}},e.prototype.handleFinish=function(t){var e=this;if(t.containsKey(l.PlayerPP.ERR_MESSAGE))cc.log("quay loi");else{var n=this.convertResult(t);cc.log("check line win : ",n.lineWin),this.dataFinish={spinId:11111,slotData:n.views,prizeData:n.lineWin,totalBetValue:n.totalBetValue,payLinePrizeValue:n.payLinePrizeValue,accountBalance:n.accountBalance,isTakeJackpot:n.isTakeJackpot},v.Windown.MoneyUser.pushDelayMoney(this.gameType,this.dataFinish.accountBalance,this.dataFinish.payLinePrizeValue),this.truTienBet(20*this.dataFinish.totalBetValue,this.dataFinish.accountBalance);var o=this.isMaxSpeed?.2:.5;this.stateGame=u.default.CAN_STOP,this.scheduleOnce(function(){e.setResult(e.dataFinish.slotData),e.setUpShowOceLineWin();var t=e.isMaxSpeed?.1:.5;e.scheduleOnce(e.stopSpin,t)},o)}},e.prototype.convertResult=function(t){for(var e={views:null,lineWin:null,totalBetValue:0,payLinePrizeValue:0,accountBalance:0,isTakeJackpot:!1},n=JSON.parse(t.get("views")),o=[],i=0;i<n.length;i++)for(var r=n[i],s=0;s<r.length;s++){var a=r[s];o.push(a)}var c=JSON.parse(v.Windown.SFSArrToJson(t.get("listLineWin"))),l=[];for(i=0;i<c.length;i++)r=c[i],l.push(r.id);return e.totalBetValue=t.get("agBet"),cc.log("check total bet : ",t.get("agBet")),e.payLinePrizeValue=t.get("agWin"),cc.log("check receiver bet : ",t.get("agWin")),e.accountBalance=t.get("agUser"),cc.log("check money user : ",t.get("agUser")),e.isTakeJackpot=t.get("isTakeJP"),cc.log("check jackpot : ",t.get("isTakeJP")),e.views=o,e.lineWin=l,e},e.prototype.stopSpin=function(){this.stopColum(!1)},e.prototype.stopColum=function(t){var e=this;void 0===t&&(t=!1),this.sound.stopLoopSpin(),this.listPromises=[];for(var n=this.isMaxSpeed?.15:.3,o=t?0:n,i=function(t){return new Promise(function(n,i){e.listColum[t].stopSpin(o*t,n,i)})},r=0,s=this.listColum.length;r<s;r++)this.listPromises.push(i(r));Promise.all(this.listPromises).then(function(){e.handleStopAllColum()}).catch(function(){})},e.prototype.handleStopAllColum=function(){cc.log("Stop all collum"),this.checkAndShowEffect(),this.setStateToggleRoom(),this.btnSpin.interactable=!0},e.prototype.setResult=function(t){cc.log("check slot data : ",t);for(var e=0;e<9;e++){var n=t[e],o=this.listNodeItem[e].getComponentInChildren(cc.Sprite),i=this.listNodeItem[e].getComponentInChildren(sp.Skeleton);2==n||3==n?(o.spriteFrame=this.asset.listSpItem[n],o.sizeMode=cc.Sprite.SizeMode.TRIMMED,o.node.active=!0,i.node.active=!1):(o.node.active=!1,i.node.active=!0,i.skeletonData=this.asset.listSkeData[n],i.setAnimation(0,"animation",!0))}},e.prototype.truTienBet=function(t,e){0!=t&&(this.lbMoneyLostBet.string="-"+v.Windown.formatNumber(t),this.lbMoneyLostBet.node.opacity=255,this.lbMoneyLostBet.node.position=cc.v3(141,177,10),this.lbMoneyLostBet.node.runAction(cc.spawn(cc.moveBy(1,0,50),cc.fadeOut(1))),v.Windown.MoneyUser.subMoney(t,e))},e.prototype.setUpShowOceLineWin=function(){var t=this;if(this.listFunShowOceLine=[],""!=this.dataFinish.prizeData)for(var e=this.parentLine.children,n=function(n){var i=o.dataFinish.prizeData[n];if(i>20)return"continue";o.listFunShowOceLine.push(function(){t.offMoneyReviceSpin(!0),t.offAllLineWin(),e[i].active=!0})},o=this,i=0,r=this.dataFinish.prizeData.length;i<r;i++)n(i)},e.prototype.showOnceLine=function(){var t=this;cc.log("chay vao show once line");var e=0,n=this.dataFinish.payLinePrizeValue;this.showMoneyReviceSpin(n),this.addMoneyUser(n),this.stateGame=u.default.SHOW_EFFECT,this.isAutoSpin?this.scheduleOnce(this.resetForNewGame,1.5):(this.schedule(this.funShowOnceLine=function(){t.listFunShowOceLine[e%t.listFunShowOceLine.length](),e++},1.5),this.setStateToggleRoom())},e.prototype.showMoneyReviceSpin=function(t){0!=t&&(v.Windown.MiniSlot.sound.playTakeMoney(),this.labelChipRevice.node.parent.active=!0),this.isMaxSpeed?this.labelChipRevice.time=.25:this.labelChipRevice.time=.5;var e=this.labelChipRevice.node.parent;e.stopAllActions(),e.opacity=0,e.y=90,e.runAction(cc.sequence(cc.spawn(cc.moveTo(1,e.x,126),cc.fadeIn(.1)),cc.fadeOut(.3))),this.labelChipRevice.setMoneyNoTime(t)},e.prototype.addMoneyUser=function(t){cc.log("+ tien user la : ",t),v.Windown.MoneyUser.removeDelay(this.gameType)},e.prototype.checkAndShowEffect=function(){var t=this,e=this.dataFinish.isTakeJackpot,n=this.dataFinish.payLinePrizeValue>=200*this.curRoomBet,o=function(n){e?t.effect.showJackpot(n):n()};this.showAllLineWin(function(){o(function(){var o;o=function(){t.showOnceLine()},n&&!e?t.effect.showBigWin(o):o()})})},e.prototype.showAllLineWin=function(t){if(this.offAllLineWin(),this.dataFinish.prizeData.length<1)this.resetForNewGame();else if(this.funNextAllWin=t,t(),cc.log("check prize data : ",this.dataFinish.prizeData),""!=this.dataFinish.prizeData)for(var e=this.dataFinish.prizeData,n=this.parentLine.children,o=0,i=e.length;o<i;o++){var r=e[o];if(r<25){var s=n[r];s.active=!0,s.opacity=0,cc.Tween.stopAllByTarget(s),cc.tween(s).delay(.04*o).to(.1,{opacity:255}).start()}}},e.prototype.showBonusGame=function(t){t()},e.prototype.resetForNewGame=function(){var t=this;cc.log("chay vao reset new game "),this.dataFinish=null,this.stateGame=u.default.WAITING,cc.log("check state : ",this.stateGame),this.unschedule(this.funNextAllWin),this.unschedule(this.funShowOnceLine),this.unschedule(this.resetForNewGame),this.offAllLineWin(),this.setStateToggleRoom(),this.isAutoSpin?(this.scheduleOnce(function(){t.offMoneyReviceSpin(!0)},.5),this.onClickSpin()):this.offMoneyReviceSpin()},e.prototype.setStateToggleRoom=function(){},e.prototype.offAllLineWin=function(){for(var t=this.parentLine.children,e=0,n=t.length;e<n;e++)t[e].active=!1},e.prototype.offMoneyReviceSpin=function(t){var e=this;void 0===t&&(t=!1),t?(this.labelChipRevice.node.parent.stopAllActions(),this.labelChipRevice.node.parent.runAction(cc.sequence(cc.fadeOut(.4),cc.callFunc(function(){e.labelChipRevice.resetLb(),e.labelChipRevice.node.parent.active=!1})))):(this.labelChipRevice.resetLb(),this.labelChipRevice.node.parent.active=!1)},e.prototype.onClickHelp=function(){v.Windown.UIManager.showLoading(),v.Windown.GuideMiniSlot?v.Windown.GuideMiniSlot.show():cc.assetManager.getBundle(this.gameType.toString()).load("Prefabs/MS_PopupGuide",cc.Prefab,function(t,e){if(!t){var n=cc.instantiate(e);v.Windown.UIManager.hideLoading(),v.Windown.UIManager.parentPopup.addChild(n),v.Windown.GuideMiniSlot.show()}})},e.prototype.onClickTop=function(){},e.prototype.onClickLichSu=function(){v.Windown.UIManager.showLoading(),v.Windown.HistoryMiniSlot?v.Windown.HistoryMiniSlot.show():cc.assetManager.getBundle(this.gameType.toString()).load("Prefabs/MS_PopupHistory",cc.Prefab,function(t,e){t||(v.Windown.UIManager.hideLoading(),v.Windown.UIManager.parentPopup.addChild(cc.instantiate(e)),v.Windown.HistoryMiniSlot.show())})},e.prototype.onClickAutoSpin=function(t){this.isAutoSpin=t.isChecked,this.isAutoSpin&&(this.stateGame!=u.default.WAITING&&this.stateGame!=u.default.SHOW_EFFECT||this.onClickSpin())},e.prototype.onClickMaxSpeed=function(t){this.isMaxSpeed=t.isChecked,this.isMaxSpeed&&(this.stateGame!=u.default.WAITING&&this.stateGame!=u.default.SHOW_EFFECT||this.toggleAutoSpin.check())},e.prototype.onClickClose=function(){v.Windown.UIManager.parentMiniGame.getComponentInChildren(m.default)._touchStart(null),this.node.active=!1,this.roomSFS?d.ConectManager.getIns().sendLeaveRoom(this.roomSFS):this.node.destroy()},r([T(cc.Node)],e.prototype,"parentItem",void 0),r([T(cc.Node)],e.prototype,"parentLine",void 0),r([T(cc.Toggle)],e.prototype,"itemChooseBet",void 0),r([T(cc.Toggle)],e.prototype,"toggleAutoSpin",void 0),r([T(cc.Node)],e.prototype,"parentBtnLevelBet",void 0),r([T(b.default)],e.prototype,"effect",void 0),r([T(S.default)],e.prototype,"asset",void 0),r([T(cc.Label)],e.prototype,"lbMoneyLostBet",void 0),r([T(y.default)],e.prototype,"labelChipRevice",void 0),r([T(cc.Button)],e.prototype,"btnSpin",void 0),r([T(w.default)],e.prototype,"sound",void 0),r([T(f.default)],e.prototype,"lbJp",void 0),r([C],e)}(cc.Component);n.default=I,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../../Scritps/DefineTs/PlayerPP":"PlayerPP","../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Obs/JackpotItem":"JackpotItem","../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Other/DragMiniGame":"DragMiniGame","../../../Scritps/Other/OffMiniGame":"OffMiniGame","../../../Scritps/Windown":"Windown","./AssetCandy":"AssetCandy","./EffectCandy":"EffectCandy","./SoundMiniSlot":"SoundMiniSlot"}],MiniSlot_Guide:[function(t,e,n){"use strict";cc._RF.push(e,"8aaafr5kJdBGbso3VBHPWCk","MiniSlot_Guide");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.onLoad=function(){s.Windown.GuideMiniSlot=this},e.prototype.start=function(){},e.prototype.onClickClose=function(){var t=this;s.Windown.actionEffectClosePopup(this.node,function(){t.node.active=!1})},e.prototype.show=function(){s.Windown.UIManager.hideLoading(),this.node.active=!0,s.Windown.actionEffectOpenPopup(this.node)},e.prototype.onDestroy=function(){s.Windown.GuideMiniSlot=null},r([l(cc.Label)],e.prototype,"label",void 0),r([l],e.prototype,"text",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],MiniSlot_History:[function(t,e,n){"use strict";cc._RF.push(e,"71a46Ao4cFM7YSRcfsRP+p+","MiniSlot_History");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Network/ConectManager"),a=t("../../../Scritps/Parent/BaseScrollView"),c=t("../../../Scritps/Windown"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.srcListView=null,e}return i(e,t),e.prototype.onLoad=function(){c.Windown.HistoryMiniSlot=this},e.prototype.responseServer=function(t){c.Windown.UIManager.hideLoading();var e=JSON.parse(c.Windown.SFSArrToJson(t.get("history")));cc.log("chay vao day check data  :",JSON.parse(c.Windown.SFSArrToJson(t.get("history"))));var n=e.length;this.srcListView.init(e,50*n,50),c.Windown.UIManager.hideLoading()},e.prototype.onClickClose=function(){var t=this;c.Windown.actionEffectClosePopup(this.node,function(){t.node.active=!1})},e.prototype.show=function(){this.srcListView.resetScr(),c.Windown.UIManager.showLoading();var t=s.ConectManager.getIns().getSFSObj();s.ConectManager.getIns().sendRequest("historyMini",t,c.Windown.MiniSlot.roomSFS),cc.log("chay vao send get history "),c.Windown.actionEffectOpenPopup(this.node)},e.prototype.onDestroy=function(){c.Windown.HistoryMiniSlot=null},r([p(a.default)],e.prototype,"srcListView",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Parent/BaseScrollView":"BaseScrollView","../../../Scritps/Windown":"Windown"}],MiniSlot_ItemHistory:[function(t,e,n){"use strict";cc._RF.push(e,"e89a1b2CTFLXocCj3FrqAfr","MiniSlot_ItemHistory");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelTime=null,e.labelSub=null,e.labelAdd=null,e.labelGold=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.initItem=function(t){cc.log("chec oite akd : ",t);var e=new Date(t.date),n=e.getDate(),o=e.getMonth()+1,i=e.getHours(),r=e.getMinutes(),a=e.getSeconds();n<10&&(n=+n),o<10&&(o=o),i<10&&(i=i),r<10&&(r=r),a<10&&(a=a),this.labelTime.string=s.Windown.formatDate(e,"dd/MM HH:mm:ss").replace(" ","\n"),this.labelSub.string=this.formatGold(20*t.agBet),this.labelAdd.string=this.formatGold(t.agWin),this.labelGold.string=this.formatGold(t.agUser)},e.prototype.formatGold=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},r([l(cc.Label)],e.prototype,"labelTime",void 0),r([l(cc.Label)],e.prototype,"labelSub",void 0),r([l(cc.Label)],e.prototype,"labelAdd",void 0),r([l(cc.Label)],e.prototype,"labelGold",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],MiniSlot_ItemRank:[function(t,e,n){"use strict";cc._RF.push(e,"0f10407frNAhreiCaJIpbBc","MiniSlot_ItemRank");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},r([c(cc.Label)],e.prototype,"label",void 0),r([c],e.prototype,"text",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],MiniSlot_Rank:[function(t,e,n){"use strict";cc._RF.push(e,"76857P0UAZGtqiRimbQ0ja/","MiniSlot_Rank");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.onLoad=function(){s.Windown.RankMiniSlot=this},e.prototype.responseServer=function(t){var e=t[1];cc.log(e),e.length},e.prototype.onClickClose=function(){var t=this;s.Windown.actionEffectClose(this.node,function(){t.node.active=!1})},e.prototype.onDestroy=function(){s.Windown.RankMiniSlot=null},e.prototype.show=function(){s.Windown.actionEffectOpen(this.node)},r([l(cc.Label)],e.prototype,"label",void 0),r([l],e.prototype,"text",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],ModelLevel:[function(t,e,n){"use strict";cc._RF.push(e,"3d27btqTYFIvLRg9fEQRkK4","ModelLevel"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],MoneyUserController:[function(t,e,n){"use strict";cc._RF.push(e,"8ea7bDdjEBE4oJPmxGKeL9V","MoneyUserController");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listLabel=[],e.moneyCache=0,e.objDelay=new Map,e.listHandleNewMoney=[],e}return i(e,t),e.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node),s.Windown.MoneyUser=this},e.prototype.onDestroy=function(){s.Windown.MoneyUser=null},e.prototype.emitNewMonney=function(){for(var t=0,e=this.listLabel.length;t<e;t++)this.listLabel[t].emitNewMoney();this.listHandleNewMoney.forEach(function(t){t.fun.call(t.target,s.Windown.User.userAg)})},e.prototype.dangKy=function(t){this.listLabel.includes(t)||this.listLabel.push(t)},e.prototype.huyDangKy=function(t){var e=this.listLabel.indexOf(t);e>-1&&this.listLabel.splice(e,1)},e.prototype.subMoney=function(t,e){this.moneyCache=e,this.updateMoney()},e.prototype.dangKyHandle=function(t,e){var n=Object.create(null);n.fun=t,n.target=e,this.listHandleNewMoney.push(n)},e.prototype.removeHandle=function(t,e){for(var n=this.listHandleNewMoney.filter(function(t){return t.target==e}),o=0;o<n.length;o++)n[o]==t&&(n.splice(o,1),o--)},e.prototype.targetOff=function(t){var e=this.listHandleNewMoney.findIndex(function(e){return e.target==t});e>-1&&this.listHandleNewMoney.splice(e,1)},e.prototype.pushDelayMoney=function(t,e,n){cc.log("totalMoney:"+e),cc.log("moneyAdd:"+n),this.moneyCache=parseInt(e);var o=this.objDelay.get(t);null==o&&(o=0),this.objDelay.set(t,o+n),s.Windown.User.userAg=this.getMoneyCurrentWhitDelay()},e.prototype.removeDelay=function(t,e){void 0===e&&(e=!0),this.objDelay.delete(t),e&&this.updateMoney()},e.prototype.getMoneyDelay=function(t){return this.objDelay.get(t)||0},e.prototype.getMoneyCurrentWhitDelay=function(){var t=0;return this.objDelay.forEach(function(e){t+=e}),this.moneyCache-t},e.prototype.updateMoney=function(){this.setMoneyUser(this.getMoneyCurrentWhitDelay())},e.prototype.endGameMOney=function(t){this.removeDelay(t)},e.prototype.setMoneyUser=function(t){s.Windown.User.userAg=t,this.emitNewMonney()},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../Windown":"Windown"}],MoneyUser:[function(t,e,n){"use strict";cc._RF.push(e,"f9533HWoDRDeo/SqOYrNOro","MoneyUser");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Windown"),a=t("./LbMoneyChange"),c=cc._decorator,l=c.ccclass,u=(c.property,c.requireComponent),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbMoney=null,e}return i(e,t),e.prototype.onLoad=function(){this.lbMoney=this.getComponent(a.default),s.Windown.MoneyUser.dangKy(this)},e.prototype.onDestroy=function(){s.Windown.MoneyUser&&s.Windown.MoneyUser.huyDangKy(this)},e.prototype.start=function(){this.emitNewMoney()},e.prototype.emitNewMoney=function(){this.lbMoney.setMoney(s.Windown.User.userAg)},r([l,u(a.default)],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Windown":"Windown","./LbMoneyChange":"LbMoneyChange"}],MuaDongCachChoi:[function(t,e,n){"use strict";cc._RF.push(e,"becefMQV7xBELQ2MGLp9b9C","MuaDongCachChoi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onClickClose=function(){var t=this;s.Windown.MuaDongVoTan.audio.playClick(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.node.destroy()})))},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],MuaDongEffectScater:[function(t,e,n){"use strict";cc._RF.push(e,"31eadPRFeFMYKLcRfnGA+xF","MuaDongEffectScater");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){this.node.children[0].active=!1,this.node.children[1].active=!1,this.node.children[2].scale=0,this.node.children[3].scale=0,this.node.children[this.node.children.length-2].active=!1,this.node.children[this.node.children.length-1].active=!1},e.prototype.show=function(){var t=this.node.children[2],e=this.node.children[3];t.scale=0,e.scale=0,t.runAction(cc.scaleTo(.3,.75).easing(cc.easeBackOut())),e.runAction(cc.scaleTo(.3,.75).easing(cc.easeBackOut())),this.node.children[4].getComponent(sp.Skeleton).setAnimation(0,"spawn",!1),this.node.children[4].getComponent(sp.Skeleton).addAnimation(0,"idle",!0)},e.prototype.showNearFS=function(){this.node.children[0].active=!0,this.node.children[1].active=!0,this.node.children[4].getComponent(sp.Skeleton).setAnimation(0,"win",!1),this.node.children[4].getComponent(sp.Skeleton).addAnimation(0,"idle",!0);var t=this.node.children[this.node.children.length-1].getComponent(cc.Animation),e=this.node.children[this.node.children.length-2].getComponent(cc.Animation);t.node.active=!0,t.play(),t.once(cc.Animation.EventType.FINISHED,function(){e.node.active=!0,e.play()})},r([a],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],MuaDongItemTakeFS:[function(t,e,n){"use strict";cc._RF.push(e,"8b57bGMrbFKO6qLcrraxNT4","MuaDongItemTakeFS");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.take=function(){var t=this;return new Promise(function(e){t.node.opacity=0;var n=t.node.children[1],o=t.node.children[2],i=t.node.children[0],r=s.Windown.MuaDongVoTan.lb_FSLeft;n.active=!1,o.active=!1,s.Windown.MuaDongVoTan.audio.playEffectNoStop(s.Windown.MuaDongVoTan.audio.fsGetFreespinSpawn),s.Windown.MuaDongVoTan.audio.playEffectNoStop(s.Windown.MuaDongVoTan.audio.fsGetFreespinFly),t.node.runAction(cc.sequence(cc.fadeIn(.2),cc.moveTo(1.5,s.Windown.convertNodeInOtherNode(r.node,t.node.parent)).easing(cc.easeQuarticActionIn()),cc.callFunc(function(){i.runAction(cc.fadeOut(.3)),r.setMoneyNoTime(r._monney+1),r.node.stopAllActions(),r.node.runAction(cc.sequence(cc.scaleTo(.3,1.8),cc.scaleTo(.3,1.5))),n.active=!0,n.opacity=150,n.scale=.45,n.runAction(cc.spawn(cc.fadeOut(.6).easing(cc.easeQuinticActionIn()),cc.scaleTo(.5,.868).easing(cc.easeQuadraticActionOut()))),o.active=!0,o.getComponent(cc.Animation).play(),s.Windown.MuaDongVoTan.audio.playEffectNoStop(s.Windown.MuaDongVoTan.audio.fsGetFreespinReach),e(null)})))})},e.prototype.takeMutil=function(){var t=this;return new Promise(function(e){t.node.opacity=0;var n=t.node.children[1],o=t.node.children[2],i=t.node.children[0];n.active=!1,o.active=!1,s.Windown.MuaDongVoTan.audio.playEffectNoStop(s.Windown.MuaDongVoTan.audio.fsGetMultiSpawn),s.Windown.MuaDongVoTan.audio.playEffectNoStop(s.Windown.MuaDongVoTan.audio.fsGetMultiFly),t.node.runAction(cc.sequence(cc.fadeIn(.2),cc.moveTo(1.6,s.Windown.convertNodeInOtherNode(s.Windown.MuaDongVoTan.topWin.multiple1.node,t.node.parent)).easing(cc.easeQuarticActionIn()),cc.callFunc(function(){i.runAction(cc.fadeOut(.3)),s.Windown.MuaDongVoTan.topWin.takeMutilItem(),n.active=!0,n.opacity=150,n.scale=.45,n.runAction(cc.spawn(cc.fadeOut(.6).easing(cc.easeQuinticActionIn()),cc.scaleTo(.5,.868).easing(cc.easeQuadraticActionOut()))),o.active=!0,o.getComponent(cc.Animation).play(),e(null)})))})},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],MuaDongVoTanAsset:[function(t,e,n){"use strict";cc._RF.push(e,"5fdb1sfiEBKTbdBGLGrO/lO","MuaDongVoTanAsset");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./MuaDongVoTanSymbol"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemMuaDongVoTanSymbol=null,e.atlasSymbol=null,e.atlasSymbolBlur=null,e.atlasTxt=null,e.atlasTxtBlur=null,e.effectTakeItem=null,e.effectTakeItemWild=null,e.effectNearFS=null,e.nodeAddReel=null,e.nodeAddMutil=null,e.nodeAddFs=null,e.nodeEffectScater=null,e.bigWild=null,e.poolSymbol=new cc.NodePool(s.default),e.poolAddScater=new cc.NodePool(s.default),e.poolEffNearWin=new cc.NodePool,e.poolBkgShuffSymbol=new cc.NodePool,e.poolWinSymbol1=new cc.NodePool,e.poolWinSymbol2=new cc.NodePool,e.poolWinSymbol3=new cc.NodePool,e.poolWinSymbol4=new cc.NodePool,e.poolNearWinNoSap=new cc.NodePool,e.poolXu=new cc.NodePool,e.poolShuffToWild=new cc.NodePool,e.poolShuffToNormal=new cc.NodePool,e.poolAddReel=new cc.NodePool,e}return i(e,t),e.prototype.getSymbol=function(){var t=null;return(t=this.poolSymbol.size()>0?this.poolSymbol.get():cc.instantiate(this.itemMuaDongVoTanSymbol)).active=!0,t},e.prototype.putSymbol=function(t){this.poolSymbol.put(t)},e.prototype.getEffTakeItem=function(){var t=cc.instantiate(this.effectTakeItem);return t.active=!0,t},e.prototype.getEffTakeItemWild=function(){var t=cc.instantiate(this.effectTakeItemWild);return t.active=!0,t},e.prototype.getAddReel=function(){var t=cc.instantiate(this.nodeAddReel);return t.active=!0,t},e.prototype.getNearFs=function(){var t=cc.instantiate(this.effectNearFS);return t.active=!0,t},e.prototype.getAddMutil=function(){var t=cc.instantiate(this.nodeAddMutil);return t.active=!0,t},e.prototype.getAddFs=function(){var t=cc.instantiate(this.nodeAddFs);return t.active=!0,t},e.prototype.getEffectScater=function(){var t=cc.instantiate(this.nodeEffectScater);return t.active=!0,t},e.prototype.getBigWild=function(){var t=cc.instantiate(this.bigWild);return t.active=!0,t},e.prototype.onDestroy=function(){this.poolSymbol.clear(),this.poolEffNearWin.clear(),this.poolBkgShuffSymbol.clear(),this.poolNearWinNoSap.clear(),this.poolXu.clear(),this.poolWinSymbol1.clear(),this.poolWinSymbol2.clear(),this.poolWinSymbol3.clear(),this.poolWinSymbol4.clear(),this.poolAddScater.clear(),this.poolShuffToWild.clear(),this.poolShuffToNormal.clear()},r([l(cc.Node)],e.prototype,"itemMuaDongVoTanSymbol",void 0),r([l(cc.SpriteAtlas)],e.prototype,"atlasSymbol",void 0),r([l(cc.SpriteAtlas)],e.prototype,"atlasSymbolBlur",void 0),r([l(cc.SpriteAtlas)],e.prototype,"atlasTxt",void 0),r([l(cc.SpriteAtlas)],e.prototype,"atlasTxtBlur",void 0),r([l(cc.Node)],e.prototype,"effectTakeItem",void 0),r([l(cc.Node)],e.prototype,"effectTakeItemWild",void 0),r([l(cc.Node)],e.prototype,"effectNearFS",void 0),r([l(cc.Node)],e.prototype,"nodeAddReel",void 0),r([l(cc.Node)],e.prototype,"nodeAddMutil",void 0),r([l(cc.Node)],e.prototype,"nodeAddFs",void 0),r([l(cc.Node)],e.prototype,"nodeEffectScater",void 0),r([l(cc.Node)],e.prototype,"bigWild",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./MuaDongVoTanSymbol":"MuaDongVoTanSymbol"}],MuaDongVoTanAudio:[function(t,e,n){"use strict";cc._RF.push(e,"8fcbbXFReNLdZvixOvU8u7b","MuaDongVoTanAudio");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Parent/AudioManager"),a=t("../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click=null,e.GeneralAudio=null,e.bgm_fs=null,e.bgmBigwinEnd=null,e.bgmBigwinMain=null,e.bgmTotalwinEnd=null,e.bgmTotalwinMain=null,e.fastspin=null,e.featureBuyBtn=null,e.featureBuyCancel=null,e.featureBuyHover=null,e.featureBuyStart=null,e.fsGetFreespinFly=null,e.fsGetFreespinReach=null,e.fsGetFreespinSpawn=null,e.fsGetMultiFly=null,e.fsGetMultiReach=null,e.fsGetMultiSpawn=null,e.fsSpin=null,e.fsTrans=null,e.fsWonRemainingIncrease=null,e.fsWonTitle=null,e.multiplierFly=null,e.list_item_click=null,e.menu_icon_press=null,e.multiplierUp=null,e.multiplierUpCombo=null,e.prizeInfobarTotalwin=null,e.prize_smallwin=null,e.slider_effect=null,e.prizeMedwinEnd=null,e.prizeMedwinMain=null,e.prizeSmallwin=null,e.prizeWinHighlight=null,e.wallet_counting_above=null,e.spinBtn=null,e.spinStop1=null,e.spinStop2=null,e.spinStop3=null,e.spinStopQuick=null,e.symScatter=null,e.symWild=null,e.uiCollect=null,e.uiInfo=null,e.uiStart=null,e.reelExpand1=null,e.reelExpand2=null,e.reelReset=null,e.reelSlower=null,e.reelStop=null,e.scatterWinHighlight=null,e.spinActiveLoop=null,e}return i(e,t),e.prototype.playClick=function(){this.playEffect(this.click)},e.prototype.stopBkgFs=function(){this.stopEffect(this.bgm_fs,!0),this.playMusic()},e.prototype.playMusic=function(){this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.6))},e.prototype.playMusicFreeSpin=function(){this.stopMusic(),this.playEffect(this.bgm_fs,.6,!0)},e.prototype.playStopReel=function(){var t=this["spinStop"+a.Windown.RandomNumber(1,4)];this.playEffectNoStop(t,.5)},r([u(cc.AudioClip)],e.prototype,"click",void 0),r([u(cc.AudioClip)],e.prototype,"GeneralAudio",void 0),r([u(cc.AudioClip)],e.prototype,"bgm_fs",void 0),r([u(cc.AudioClip)],e.prototype,"bgmBigwinEnd",void 0),r([u(cc.AudioClip)],e.prototype,"bgmBigwinMain",void 0),r([u(cc.AudioClip)],e.prototype,"bgmTotalwinEnd",void 0),r([u(cc.AudioClip)],e.prototype,"bgmTotalwinMain",void 0),r([u(cc.AudioClip)],e.prototype,"fastspin",void 0),r([u(cc.AudioClip)],e.prototype,"featureBuyBtn",void 0),r([u(cc.AudioClip)],e.prototype,"featureBuyCancel",void 0),r([u(cc.AudioClip)],e.prototype,"featureBuyHover",void 0),r([u(cc.AudioClip)],e.prototype,"featureBuyStart",void 0),r([u(cc.AudioClip)],e.prototype,"fsGetFreespinFly",void 0),r([u(cc.AudioClip)],e.prototype,"fsGetFreespinReach",void 0),r([u(cc.AudioClip)],e.prototype,"fsGetFreespinSpawn",void 0),r([u(cc.AudioClip)],e.prototype,"fsGetMultiFly",void 0),r([u(cc.AudioClip)],e.prototype,"fsGetMultiReach",void 0),r([u(cc.AudioClip)],e.prototype,"fsGetMultiSpawn",void 0),r([u(cc.AudioClip)],e.prototype,"fsSpin",void 0),r([u(cc.AudioClip)],e.prototype,"fsTrans",void 0),r([u(cc.AudioClip)],e.prototype,"fsWonRemainingIncrease",void 0),r([u(cc.AudioClip)],e.prototype,"fsWonTitle",void 0),r([u(cc.AudioClip)],e.prototype,"multiplierFly",void 0),r([u(cc.AudioClip)],e.prototype,"list_item_click",void 0),r([u(cc.AudioClip)],e.prototype,"menu_icon_press",void 0),r([u(cc.AudioClip)],e.prototype,"multiplierUp",void 0),r([u(cc.AudioClip)],e.prototype,"multiplierUpCombo",void 0),r([u(cc.AudioClip)],e.prototype,"prizeInfobarTotalwin",void 0),r([u(cc.AudioClip)],e.prototype,"prize_smallwin",void 0),r([u(cc.AudioClip)],e.prototype,"slider_effect",void 0),r([u(cc.AudioClip)],e.prototype,"prizeMedwinEnd",void 0),r([u(cc.AudioClip)],e.prototype,"prizeMedwinMain",void 0),r([u(cc.AudioClip)],e.prototype,"prizeSmallwin",void 0),r([u(cc.AudioClip)],e.prototype,"prizeWinHighlight",void 0),r([u(cc.AudioClip)],e.prototype,"wallet_counting_above",void 0),r([u(cc.AudioClip)],e.prototype,"spinBtn",void 0),r([u(cc.AudioClip)],e.prototype,"spinStop1",void 0),r([u(cc.AudioClip)],e.prototype,"spinStop2",void 0),r([u(cc.AudioClip)],e.prototype,"spinStop3",void 0),r([u(cc.AudioClip)],e.prototype,"spinStopQuick",void 0),r([u(cc.AudioClip)],e.prototype,"symScatter",void 0),r([u(cc.AudioClip)],e.prototype,"symWild",void 0),r([u(cc.AudioClip)],e.prototype,"uiCollect",void 0),r([u(cc.AudioClip)],e.prototype,"uiInfo",void 0),r([u(cc.AudioClip)],e.prototype,"uiStart",void 0),r([u(cc.AudioClip)],e.prototype,"reelExpand1",void 0),r([u(cc.AudioClip)],e.prototype,"reelExpand2",void 0),r([u(cc.AudioClip)],e.prototype,"reelReset",void 0),r([u(cc.AudioClip)],e.prototype,"reelSlower",void 0),r([u(cc.AudioClip)],e.prototype,"reelStop",void 0),r([u(cc.AudioClip)],e.prototype,"scatterWinHighlight",void 0),r([u(cc.AudioClip)],e.prototype,"spinActiveLoop",void 0),r([l],e)}(s.default);n.default=p,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":"AudioManager","../../../Scritps/Windown":"Windown"}],MuaDongVoTanDetailHistory:[function(t,e,n){"use strict";cc._RF.push(e,"e0aa6TDDVRHL4cJSqqgfPVF","MuaDongVoTanDetailHistory");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=t("./MuaDongVoTanItemSlot"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.itemTemplate=null,e.lbTitle=null,e.lbTime=null,e.lbBet=null,e.lbSonhan=null,e.lbWin=null,e.lbMNUser=null,e.lbCuocCoSo=null,e.listColum=[],e.content=null,e.leftTemp=null,e.rightTemp=null,e.listLineWin=null,e.lineTemp=null,e.listSpriteItem=[],e.listItemSlot=[],e.isFreeSpin=!1,e}return i(e,t),e.prototype.show=function(t){var e=this;this.node.active=!0,this.node.x=721.812,this.node.stopAllActions(),this.node.opacity=0,this.node.runAction(cc.spawn(cc.moveTo(.3,0,0),cc.fadeIn(.3).easing(cc.easeElasticIn(3))));var n=t.get("date"),o=t.get("infolog"),i=JSON.parse(o);for(cc.log(o),this.isFreeSpin=i.numFreeSpin>0,0==i.agBet?this.lbTitle.string="Free spin":this.lbTitle.string="Spin normal",this.lbTime.string=s.Windown.formatDate(new Date(n),"dd/MM HH:mm:ss"),this.lbBet.string=s.Windown.formatNumber(20*i.agBet),this.lbWin.string=s.Windown.formatNumber(i.agWin),this.lbMNUser.string=s.Windown.formatNumber(i.agUser),this.lbCuocCoSo.string=s.Windown.formatNumber(i.agBet),this.listItemSlot=[];this.content.childrenCount>2;)(y=this.content.children[2]).removeFromParent(),y.destroy();var r=i.views[0].concat(i.viewAdd),c=cc.instantiate(this.leftTemp);c.active=!0,c.position.y=0;for(var l=0;l<r.length;l++){var u=r[l];(y=cc.instantiate(this.itemTemplate)).active=!0,y.setPosition(cc.v2(0,0));var p=y.getComponent(a.default);p.setResultFirtGame(!0),p.setResultHistory(u),p.node.x=187*l+93.5+5*l+117,this.listItemSlot.push(p),this.content.addChild(y)}this.content.width=132+187*r.length;var h=cc.instantiate(this.rightTemp);h.active=!0,h.position.y=0,this.lbSonhan.string="S\u1ed1 nh\xe2n chi\u1ebfn th\u1eafng: "+i.bonus;var d=i.listItemWin;this.listLineWin.destroyAllChildren();for(var f=0;f<i.listItemWin.length;f++){var y,g=i.listItemWin[f];g&&((y=cc.instantiate(this.lineTemp)).getChildByName("lineSprite").getComponent(cc.Sprite).spriteFrame=this.getAtlas().getSpriteFrame(this.convertNameSpineById(g.symbol+1)),y.getChildByName("lineid").getComponent(cc.Label).string=this.getSizeSymbol(g.symbol,d),y.getChildByName("agWinsmall").getComponent(cc.Label).string="\u0111"+s.Windown.formatNumber(g.agWin,!1)+(i.bonus>0?" x "+i.bonus:""),y.getChildByName("agWin").getComponent(cc.Label).string="\u0111"+s.Windown.formatNumber(g.agWin*i.bonus,!1),y.active=!0,this.listLineWin.addChild(y))}for(var m=0;m<this.listItemSlot.length;m++)this.listItemSlot[m].getListSymbolResult().forEach(function(t){var e=t.getItemId();11==e||100==e||101==e?t.activeItem(0):t.offItem(0)});var v=function(t){var n=S.listItemSlot[t],o=n.getListSymbolResult();if(o.map(function(t){return t.getItemId()}).includes(10)&&S.checkIdWildWin(t,d))return n.showBigWild(),n.showBigWildTake(),"continue";o.forEach(function(n){e.checkIdWin(n.getItemId(),t,d)&&n.takeItem()})},S=this;for(m=0;m<this.listItemSlot.length;m++)v(m)},e.prototype.checkIdWin=function(t,e,n){for(var o=0,i=n;o<i.length;o++){var r=i[o],s=t==r.symbol&&e<=r.stack;if(s)return s}return!1},e.prototype.checkIdWildWin=function(t,e){for(var n=0,o=e;n<o.length;n++){var i=t<=o[n].stack;if(i)return i}return!1},e.prototype.getSizeSymbol=function(t,e){for(var n=0,o=0,i=e;o<i.length;o++){var r=i[o],s=r.symbol;if(s==t){for(var a=0;a<=r.stack;a++){var c=this.listItemSlot[a],l=c.getListSymbolResult().map(function(t){return t.getItemId()});n+=c.getSumItemId(s,l)}break}}return n<10?"0"+n:n.toString()},e.prototype.onClickClose=function(){var t=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.3,721.812,0),cc.fadeOut(.3).easing(cc.easeElasticOut(3))),cc.callFunc(function(){t.node.active=!1})))},e.prototype.getAtlas=function(){return s.Windown.MuaDongVoTan.asset.atlasSymbol},e.prototype.convertNameSpineById=function(t){switch(t){case 0:return"h_blank";case 1:return"l_9";case 2:return"l_10";case 3:return"l_j";case 4:return"l_q";case 5:return"l_k";case 6:return"l_a";case 7:return"h_sball";case 8:return"h_staff";case 9:return"h_owl";case 10:return"h_jack";case 11:return"s_wild_a_block";case 12:return"s_fspins_block";case 100:return"s_mul_block";case 101:return"s_plus_block"}},r([u(cc.Node)],e.prototype,"parentItem",void 0),r([u(cc.Node)],e.prototype,"itemTemplate",void 0),r([u(cc.Label)],e.prototype,"lbTitle",void 0),r([u(cc.Label)],e.prototype,"lbTime",void 0),r([u(cc.Label)],e.prototype,"lbBet",void 0),r([u(cc.Label)],e.prototype,"lbSonhan",void 0),r([u(cc.Label)],e.prototype,"lbWin",void 0),r([u(cc.Label)],e.prototype,"lbMNUser",void 0),r([u(cc.Label)],e.prototype,"lbCuocCoSo",void 0),r([u([cc.Node])],e.prototype,"listColum",void 0),r([u(cc.Node)],e.prototype,"content",void 0),r([u(cc.Node)],e.prototype,"leftTemp",void 0),r([u(cc.Node)],e.prototype,"rightTemp",void 0),r([u(cc.Node)],e.prototype,"listLineWin",void 0),r([u(cc.Node)],e.prototype,"lineTemp",void 0),r([u([cc.SpriteFrame])],e.prototype,"listSpriteItem",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":"Windown","./MuaDongVoTanItemSlot":"MuaDongVoTanItemSlot"}],MuaDongVoTanEffect:[function(t,e,n){"use strict";cc._RF.push(e,"84ac6kcqjNCLqCBA6LcIx4T","MuaDongVoTanEffect");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../Scritps/Game/GAME_TYPE"),u=t("../../../Scritps/Network/ConectManager"),p=t("../../../Scritps/Other/LbMonoSpace"),h=t("../../../Scritps/Util"),d=t("../../../Scritps/Windown"),f=t("./MuaDongVoTanPopupFreespin"),y=t("./MuaDongVoTanTotalWin"),g=cc._decorator,m=g.ccclass,v=g.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeMask=null,e.lb_Money=null,e.nodeBigWin=null,e.nodeThangCucLon=null,e.nodeThangSieuLon=null,e.btnFast=null,e.particle=null,e.listNodeBoxMoney=[],e.listPromiseIgro=[],e.isClickBtnFast=!1,e.funNext=null,e.funDelayOff=null,e.mapColor=new Map,e.isThangCucLon=!1,e.isThangSieuLon=!1,e._moneyRevice=0,e.isClosing=!1,e._isSkip=!0,e}return i(e,t),e.prototype.onLoad=function(){this.funNext=null},e.prototype.start=function(){this.nodeBigWin.active=!1,this.nodeThangCucLon.active=!1,this.nodeThangSieuLon.active=!1,this.btnFast.node.active=!1},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){this.unschedule(this.funDelayOff)},e.prototype.initPosMask=function(t){cc.find("mask",this.node).y=t},e.prototype.onClickBtnShowFast=function(){for(this.btnFast.node.active=!1,this.isClickBtnFast=!0;this.listPromiseIgro.length>0;)this.listPromiseIgro.shift().cancle(!0)},e.prototype.showBigWin=function(t,e){var n=this;return new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s,p,f,y,g=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,7,,8]),this.scheduleOnce(function(){g.btnFast.node.active=!0},1),this.lb_Money.node.active=!0,this.lb_Money.resetLb(),4,this.isClickBtnFast=!1,n=e<30?4:e<50?8:12,this.lb_Money.time=n,this.lb_Money.setMoney(t),this.effectBigWin(),d.Windown.MuaDongVoTan.audio.playEffect(d.Windown.MuaDongVoTan.audio.bgmBigwinMain,1),i=d.Windown.MuaDongVoTan.getMakeDelay(4),this.listPromiseIgro.push(i),[4,i.prosime];case 1:return a.sent(),e>=30?(this.effectMegaWin(),d.Windown.MuaDongVoTan.audio.playEffect(d.Windown.MuaDongVoTan.audio.bgmTotalwinEnd,1),this.isClickBtnFast?[3,3]:(r=d.Windown.MuaDongVoTan.getMakeDelay(4),this.listPromiseIgro.push(r),[4,r.prosime])):[3,3];case 2:a.sent(),a.label=3;case 3:return e>=50?(d.Windown.MuaDongVoTan.audio.playEffect(d.Windown.MuaDongVoTan.audio.bgmTotalwinEnd,2),this.effectSuperWin(),this.isClickBtnFast?[3,5]:(r=d.Windown.MuaDongVoTan.getMakeDelay(4),this.listPromiseIgro.push(r),[4,r.prosime])):[3,5];case 4:a.sent(),a.label=5;case 5:return d.Windown.MuaDongVoTan.audio.stopEffect(d.Windown.MuaDongVoTan.audio.bgmBigwinMain),d.Windown.MuaDongVoTan.audio.playEffect(d.Windown.MuaDongVoTan.audio.bgmTotalwinEnd),(s=this.lb_Money.node).stopAllActions(),s.runAction(cc.sequence(cc.scaleTo(.3,1.15),cc.scaleTo(.3,1))),this.particle.resetSystem(),d.Windown.MuaDongVoTan.dataFinish&&d.Windown.MuaDongVoTan.dataFinish.get("agWin")>1e4&&((p=u.ConectManager.getIns().getSFSObj()).putInt("gt",l.default.MuaDong),p.putInt("mt",d.Windown.MuaDongVoTan.dataFinish.get("agWin")),p.putUtfString("nn",d.Windown.User.nickName),p.putUtfString("dt","bw"),u.ConectManager.getIns().sendRequest(c.REQUEST_CODE.AddBigWin,p)),this.lb_Money.setMoneyNoTime(t),f=d.Windown.MuaDongVoTan.getMakeDelay(4),this.listPromiseIgro.push(f),this.btnFast.node.active=!0,[4,f.prosime];case 6:return a.sent(),this.funNext=o,this.funNext(),this.onClose(),[3,8];case 7:return y=a.sent(),h.Util.ThrowErrProsime(y),[3,8];case 8:return[2]}})})})},e.prototype.effectBigWin=function(){var t=this;this.stopAllActionEff(),this.nodeBigWin.active=!0,this.nodeBigWin.getComponent(cc.Animation).play("BigWin"),this.scheduleOnce(function(){cc.find("phun1",t.nodeBigWin).getComponent(cc.Animation).play(),cc.find("phun2",t.nodeBigWin).getComponent(cc.Animation).play()},.5),this.lb_Money.node.stopAllActions(),this.lb_Money.node.scale=0,this.lb_Money.node.runAction(cc.sequence(cc.delayTime(.3),cc.scaleTo(.5,1).easing(cc.easeBackOut())))},e.prototype.effectMegaWin=function(){var t=this;this.stopAllActionEff(),this.nodeThangCucLon.active=!0,this.nodeThangCucLon.getComponent(cc.Animation).play("MegaWin"),cc.find("phun1",this.nodeThangCucLon).getComponent(cc.Sprite).spriteFrame=null,cc.find("phun2",this.nodeThangCucLon).getComponent(cc.Sprite).spriteFrame=null,this.scheduleOnce(function(){cc.find("phun1",t.nodeThangCucLon).getComponent(cc.Animation).play(),cc.find("phun2",t.nodeThangCucLon).getComponent(cc.Animation).play()},.5)},e.prototype.effectSuperWin=function(){var t=this;this.stopAllActionEff(),this.nodeThangSieuLon.active=!0,this.nodeThangSieuLon.getComponent(cc.Animation).play("SuperWin"),cc.find("phun1",this.nodeThangSieuLon).getComponent(cc.Sprite).spriteFrame=null,cc.find("phun2",this.nodeThangSieuLon).getComponent(cc.Sprite).spriteFrame=null,this.scheduleOnce(function(){cc.find("phun1",t.nodeThangSieuLon).getComponent(cc.Animation).play(),cc.find("phun2",t.nodeThangSieuLon).getComponent(cc.Animation).play()},.5)},e.prototype.stopAllActionEff=function(){this.nodeBigWin.active=!1,this.nodeThangCucLon.active=!1,this.nodeThangSieuLon.active=!1},e.prototype.showStartFs=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),d.Windown.MuaDongVoTan.stateSpin.freeSpinCache=t,d.Windown.MuaDongVoTan.stateSpin.activeAllSymbol(),d.Windown.MuaDongVoTan.listColum.forEach(function(t){t.getListSymbolResult().forEach(function(t){t.effectScaterShowFS()})}),d.Windown.MuaDongVoTan.audio.playEffect(d.Windown.MuaDongVoTan.audio.scatterWinHighlight),[4,d.Windown.MuaDongVoTan.getMakeDelay(.8).prosime];case 1:return r.sent(),d.Windown.MuaDongVoTan.audio.playMusicFreeSpin(),[4,d.Windown.loadRes(l.default.MuaDong.toString(),"Frefabs/StartFreeSpin",cc.Prefab)];case 2:return e=r.sent(),(o=cc.instantiate(e)).parent=this.node,o.zIndex=1,[4,o.getComponent(f.default).show(t,this.listNodeBoxMoney)];case 3:return r.sent(),n(null),[3,5];case 4:return i=r.sent(),h.Util.ThrowErrProsime(i),[3,5];case 5:return[2]}})})})},e.prototype.switchFS=function(t){t?(this.listNodeBoxMoney.forEach(function(t){t.y=-630}),d.Windown.MuaDongVoTan.setBackgroundGame(!0)):(d.Windown.MuaDongVoTan.setBackgroundGame(!1),this.listNodeBoxMoney.forEach(function(t){t.y=-397.701}))},e.prototype.showEndFree=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),t<1?(d.Windown.MuaDongVoTan.audio.stopBkgFs(),this.switchFS(!1),n(null),[2]):[4,d.Windown.loadRes(l.default.MuaDong.toString(),"Frefabs/EndFreeSpin",cc.Prefab)];case 1:return e=r.sent(),this.switchFS(!1),(o=cc.instantiate(e)).parent=this.node,o.zIndex=999,[4,o.getComponent(y.default).show(t)];case 2:return r.sent(),n(null),[3,4];case 3:return i=r.sent(),h.Util.ThrowErrProsime(i),[3,4];case 4:return[2]}})})})},e.prototype.update=function(){},e.prototype.resetView=function(){this.lb_Money.node.getComponent(p.default).resetLb(),this.lb_Money.node.active=!1,this.node.opacity=255,this.nodeBigWin.active=!1,this.nodeThangCucLon.active=!1,this.nodeThangSieuLon.active=!1,this.isClickBtnFast=!1},e.prototype.onClose=function(){var t=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){t.resetView()})))},r([v(cc.Node)],e.prototype,"nodeMask",void 0),r([v(p.default)],e.prototype,"lb_Money",void 0),r([v(cc.Node)],e.prototype,"nodeBigWin",void 0),r([v(cc.Node)],e.prototype,"nodeThangCucLon",void 0),r([v(cc.Node)],e.prototype,"nodeThangSieuLon",void 0),r([v(cc.Button)],e.prototype,"btnFast",void 0),r([v(cc.ParticleSystem)],e.prototype,"particle",void 0),r([v([cc.Node])],e.prototype,"listNodeBoxMoney",void 0),r([m],e)}(cc.Component);n.default=S,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./MuaDongVoTanPopupFreespin":"MuaDongVoTanPopupFreespin","./MuaDongVoTanTotalWin":"MuaDongVoTanTotalWin"}],MuaDongVoTanInfoBarController:[function(t,e,n){"use strict";cc._RF.push(e,"dd27euogNNNVboWYDWIBBfB","MuaDongVoTanInfoBarController");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentContent=null,e.lbTotalWin=null,e.spWin=null,e.listSfSpWin=[],e.spKhungWin=[],e.listSfSpKhungWin=[],e.parrentMoney=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.parentContent.x=277.406,this.parentContent.runAction(cc.repeatForever(cc.sequence(cc.moveTo(80,-8733.728,0),cc.callFunc(function(){t.parentContent.x=277.406})))),this.showRdContent()},e.prototype.showRdContent=function(){this.parentContent.active=!0,this.parrentMoney.active=!1,this.node.getChildByName("ib_vfx_b_loop_00").active=!1,this.node.getChildByName("ib_vfx_a").active=!1,this.node.getChildByName("ib_vfx_d_00").active=!1},e.prototype.reset=function(){var t=this;this.spWin.spriteFrame=this.listSfSpWin[0],this.spKhungWin.forEach(function(e){return e.spriteFrame=u.Windown.MuaDongVoTan.stateSpin.freeSpinLeft>0?t.listSfSpKhungWin[1]:t.listSfSpKhungWin[0]}),this.node.getChildByName("ib_vfx_b_loop_00").active=!1,this.node.getChildByName("buiNo").active=!1,this.node.getChildByName("ib_vfx_a").opacity=0,this.node.getChildByName("ib_vfx_d_00").active=!1},e.prototype.showTakeMoney=function(t){return s(this,void 0,void 0,function(){var e=this;return a(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e,o=this;return a(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),t<1?(n(null),[2]):(cc.log("money: "+t),this.parentContent.active=!1,this.parrentMoney.active=!0,this.lbTotalWin.resetLb(),this.lbTotalWin.setMoneyNoTime(t),this.node.getComponent(cc.Animation).play(),u.Windown.MuaDongVoTan.audio.playEffect(u.Windown.MuaDongVoTan.audio.prizeSmallwin),this.node.getComponent(cc.Animation).once(cc.Animation.EventType.FINISHED,function(){o.node.getChildByName("ib_vfx_b_loop_00").active=!0,o.node.getChildByName("ib_vfx_b_loop_00").getComponent(cc.Animation).play()}),[4,u.Windown.MuaDongVoTan.getMakeDelay(1).prosime]);case 1:return i.sent(),n(null),[3,3];case 2:return e=i.sent(),l.Util.ThrowErrProsime(e),[3,3];case 3:return[2]}})})})]})})},e.prototype.checkAnhShowTakeMutil=function(){u.Windown.MuaDongVoTan.dataFinish.get("bonus")>1&&(this.node.getChildByName("buiNo").active=!0,this.node.getChildByName("buiNo").getComponent(cc.Animation).play())},e.prototype.showTotalMoney=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r=this;return a(this,function(s){switch(s.label){case 0:return s.trys.push([0,8,,9]),0==t?(n(null),[2]):(this.parentContent.active=!1,this.parrentMoney.active=!0,this.checkAnhShowTakeMutil(),this.spWin.spriteFrame=this.listSfSpWin[1],e=u.Windown.MuaDongVoTan.curRoomBet*u.Windown.MuaDongVoTan.totalLineBet,(o=t/e)<7?(this.lbTotalWin.setMoneyNoTime(t),[3,6]):[3,1]);case 1:return o<15?(this.lbTotalWin.resetLb(),this.lbTotalWin.time=2,this.lbTotalWin.setMoney(t),[4,u.Windown.MuaDongVoTan.audio.playEffectSync(u.Windown.MuaDongVoTan.audio.prizeMedwinMain)]):[3,3];case 2:return s.sent(),u.Windown.MuaDongVoTan.audio.playEffect(u.Windown.MuaDongVoTan.audio.prizeMedwinEnd),this.parrentMoney.runAction(cc.sequence(cc.scaleTo(.3,1.15),cc.scaleTo(.3,1))),this.scheduleOnce(function(){r.spKhungWin.forEach(function(t){return t.spriteFrame=r.listSfSpKhungWin[2]})},.3),this.node.getChildByName("ib_vfx_d_00").active=!0,this.node.getChildByName("ib_vfx_d_00").getComponent(cc.Animation).play(),[3,6];case 3:return[4,u.Windown.MuaDongVoTan.getMakeDelay(.2).prosime];case 4:return s.sent(),[4,u.Windown.MuaDongVoTan.effect.showBigWin(t,o)];case 5:s.sent(),this.lbTotalWin.setMoneyNoTime(t),this.spKhungWin.forEach(function(t){return t.spriteFrame=r.listSfSpKhungWin[3]}),s.label=6;case 6:return[4,u.Windown.MuaDongVoTan.getMakeDelay(.5).prosime];case 7:return s.sent(),n(null),[3,9];case 8:return i=s.sent(),l.Util.ThrowErrProsime(i),[3,9];case 9:return[2]}})})})},r([d(cc.Node)],e.prototype,"parentContent",void 0),r([d(c.default)],e.prototype,"lbTotalWin",void 0),r([d(cc.Sprite)],e.prototype,"spWin",void 0),r([d([cc.SpriteFrame])],e.prototype,"listSfSpWin",void 0),r([d([cc.Sprite])],e.prototype,"spKhungWin",void 0),r([d([cc.SpriteFrame])],e.prototype,"listSfSpKhungWin",void 0),r([d(cc.Node)],e.prototype,"parrentMoney",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],MuaDongVoTanItemLichSu:[function(t,e,n){"use strict";cc._RF.push(e,"926b2g45HZJzpHX9bvLaO/n","MuaDongVoTanItemLichSu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Network/ConectManager"),c=t("../../../Scritps/Windown"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTime=null,e.lbBet=null,e.lbWin=null,e.data=null,e}return i(e,t),e.prototype.initItem=function(t){try{this.data=t;var e=this.data.get("date"),n=this.data.get("bet"),o=this.data.get("agWin");this.lbTime.string=c.Windown.formatDate(new Date(e),"dd/MM\nHH:mm:ss"),this.lbBet.string=c.Windown.formatNumber(n*c.Windown.MuaDongVoTan.totalLineBet),this.lbWin.string=c.Windown.formatNumber(o)}catch(i){console.error(i)}},e.prototype.onClick=function(){var t=a.ConectManager.getIns().getSFSObj();t.putInt("id",this.data.get("id")),console.log("id la: "+this.data.get("id")),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryChiTietMuaDong,t,c.Windown.MuaDongVoTan.roomSFS),c.Windown.MuaDongVoTan.audio.playClick(),c.Windown.UIManager.showLoading()},r([p(cc.Label)],e.prototype,"lbTime",void 0),r([p(cc.Label)],e.prototype,"lbBet",void 0),r([p(cc.Label)],e.prototype,"lbWin",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Windown":"Windown"}],MuaDongVoTanItemSlot:[function(t,e,n){"use strict";cc._RF.push(e,"c1572/BPqNKL4MYHdVoz7ex","MuaDongVoTanItemSlot");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE_MOVE=void 0;var c=t("../../../Scritps/DefineTs/StateReelSlot"),l=t("../../../Scritps/Network/ConectManager"),u=t("../../../Scritps/Util"),p=t("../../../Scritps/Windown"),h=t("./EffectItemMuaDong"),d=t("./MuaDongVoTanSymbol");(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD_NEW=1]="ADD_NEW"})(n.TYPE_MOVE||(n.TYPE_MOVE={}));var f=cc._decorator,y=f.ccclass,g=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.parentItemFront=null,e.sizeSymbol=6,e.funReject=null,e.resolve=null,e.stateWhel=c.default.WAITING,e.result=[],e.resultTemp=[],e.listIconEff=[],e.nodeEffNearWin=null,e.nodeBigWild=null,e.effBigWild=null,e.isScater=!1,e.index=-1,e.indexNodeFirt=0,e.isMoveSlowDown=!1,e.deltaSlowDown=0,e.indexMaxWild=0,e.listIdActive=[],e.listItemSymbol=[],e.listProSkip=[],e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.initParent=function(){this.parentItemFront=cc.instantiate(this.parentItem),this.parentItemFront.setPosition(p.Windown.convertNodeInOtherNode(this.parentItem,p.Windown.MuaDongVoTan.parentItemFront)),this.parentItemFront.parent=p.Windown.MuaDongVoTan.parentItemFront},e.prototype.initListSymbol=function(){for(var t=[],e=0,n=this.parentItem.children;e<n.length;e++){var o=n[e].getComponent(d.default);o&&t.push(o)}this.listItemSymbol=t},e.prototype.getListSymbol=function(){return this.listItemSymbol},e.prototype.getListResultId=function(){return this.result.map(function(t){return t.get("idItem")})},e.prototype.getListSymbolResult=function(){var t=[],e=this.getListSymbol();return this.result.forEach(function(n,o){t.push(e[o+1])}),t},e.prototype.onDestroy=function(){cc.isValid(this.nodeBigWild)&&this.nodeBigWild.destroy()},e.prototype.setResultFirtGame=function(t){var e=this.getListRandomResult(),n=e.slice(1,e.length-1);this.setResult(n),null==t&&this.initParent();for(var o=this.parentItem.children,i=0,r=this.sizeSymbol;i<r;i++){var s=o[i];null==s&&((s=this.getSymbol()).parent=this.parentItem);var a=s.getComponent(d.default);a.setItemColum(this),a.setResult(e[i])}0==this.index&&cc.log(this.parentItem.childrenCount),this.parentItem.sortAllChildren(),this.initListSymbol(),this.getListSymbol().forEach(function(t){return t.initPosStartGame()})},e.prototype.getListRandomResult=function(){for(var t=[],e=0;e<this.sizeSymbol;e++)t.push(this.getRandomResult());return t},e.prototype.setResult=function(t){this.result=t,this.resultTemp=t.slice(),this.indexMaxWild=this.resultTemp.length},e.prototype.getSymbol=function(){return p.Windown.MuaDongVoTan.asset.getSymbol()},e.prototype.offAllSymbol=function(){this.getListSymbol().forEach(function(t){t.offItem()})},e.prototype.activeAllSymbol=function(){this.getListSymbol().forEach(function(t){t.activeItem()})},e.prototype.reset=function(){this.listIdActive=[]},e.prototype.runSpin=function(){var t=this;this.stateWhel=c.default.RUN,this.getListSymbol().forEach(function(t){t.runSpin()}),this.nodeBigWild&&(p.Windown.MuaDongVoTan.stateSpin.isMaxSpeed?(this.nodeBigWild.destroy(),this.nodeBigWild=null):(this.nodeBigWild.parent=this.node,this.nodeBigWild.setPosition(0,0),this.nodeBigWild.stopAllActions(),this.nodeBigWild.runAction(cc.sequence(cc.moveBy(1,0,-2500),cc.callFunc(function(){t.nodeBigWild.destroy(),t.nodeBigWild=null})))))},e.prototype.stopSpin=function(t,e){var n=this;return new Promise(function(o,i){return s(n,void 0,void 0,function(){var n;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,8,,9]),this.listProSkip=[],t=this.checkFreeSpin(this.index)>=2,this.setResult(e),this.funReject=i,this.isScater=t,this.resolve=o,!t&&this.index<3?(this.listProSkip.push(p.Windown.MuaDongVoTan.getMakeDelay(.25)),[4,this.listProSkip[this.listProSkip.length-1].prosime]):[3,2];case 1:r.sent(),this.index<p.Windown.MuaDongVoTan.listColum.length-1&&(o(null),this.resolve=null),r.label=2;case 2:return t?this.index<3?(this.listProSkip.push(p.Windown.MuaDongVoTan.getMakeDelay(.25*this.index)),[4,this.listProSkip[this.listProSkip.length-1].prosime]):[3,4]:[3,6];case 3:r.sent(),r.label=4;case 4:return this.showNearFS(),this.runSlowDownActicon(),this.listProSkip.push(p.Windown.MuaDongVoTan.getMakeDelay(.7)),[4,this.listProSkip[this.listProSkip.length-1].prosime];case 5:return r.sent(),this.stateWhel=c.default.SHOW_EFFECT,[3,7];case 6:this.stateWhel=c.default.STOP,this.recaculateSpeedSpin(!1),r.label=7;case 7:return[3,9];case 8:return n=r.sent(),u.Util.ThrowErrProsime(n),[3,9];case 9:return[2]}})})})},e.prototype.forceStopSpin=function(t,e){return this.listProSkip.forEach(function(t){t.cancle(!1)}),this.funReject&&this.funReject(),(t=this.checkFreeSpin(this.index)>=2)&&(this.offNearWin(),p.Windown.MuaDongVoTan.audio.stopEffect(p.Windown.MuaDongVoTan.audio.fastspin),this.isMoveSlowDown=!1),this.stopSpinIsFastSpin(t,e)},e.prototype.stopSpinIsFastSpin=function(t,e){var n=this;return new Promise(function(t){n.stateWhel!=c.default.SHOW_EFFECT?(n.setResult(e),n.stateWhel=c.default.SHOW_EFFECT,n.parentItem.stopAllActions(),n.parentItem.y=n.node.height/2,n.reSetResultColum(),p.Windown.MuaDongVoTan.audio.playStopReel(),n.isMoveSlowDown=!1,n.parentItem.y+=20,n.parentItem.runAction(cc.sequence(cc.moveBy(.04,0,-20).easing(cc.easeSineOut()),cc.callFunc(function(){n.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()}),t(null)})))):t(null)})},e.prototype.recaculateSpeedSpin=function(t){var e=this.getListSymbol(),n=e[0].node.y,o=-this.node.height-e[0].node.height/2,i=Math.abs(o-n),r=.35;t&&(r=2),e.forEach(function(t){t.stopSpin(cc.moveBy(r,0,-i))})},e.prototype.errSpin=function(){},e.prototype.setResultHistory=function(t){var e=this.getListSymbolResult();t.forEach(function(t,n){e[n].setResultHistory(t.idItem)})},e.prototype.reSetResultColum=function(){var t=this.getListSymbol();this.result.forEach(function(e,n){t[n+1].setResult(e)});for(var e=this.result.length+1,n=t.length;e<n;e++)t[e].setResult(t[e].objSFS);t.forEach(function(t){t.canRun=!1,t.node.stopAllActions(),t.initPosStartGame()})},e.prototype.effStopSpin=function(){var t=this;this.stateWhel!=c.default.SHOW_EFFECT&&(this.funReject=null,p.Windown.MuaDongVoTan.audio.playStopReel(),this.stateWhel=c.default.SHOW_EFFECT,this.parentItem.stopAllActions(),this.parentItem.y=this.node.height/2,this.reSetResultColum(),this.setItemActiveWithListIdActive(),this.isMoveSlowDown=!1,this.isScater?(this.offNearWin(),this.parentItem.runAction(cc.sequence(cc.moveBy(.15,0,-30).easing(cc.easeSineOut()),cc.moveBy(.2,0,30).easing(cc.easeSineIn()),cc.callFunc(function(){t.resolve&&t.resolve(null),t.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()})})))):this.parentItem.runAction(cc.sequence(cc.moveBy(.15,0,-15).easing(cc.easeSineOut()),cc.moveBy(.15,0,15).easing(cc.easeSineIn()),cc.callFunc(function(){t.getListSymbolResult().forEach(function(t){t.effectSpawnSymbol()}),cc.log("end roi ne"),t.resolve&&t.resolve(null)}))))},e.prototype.getIdSymbolResult=function(){return this.stateWhel==c.default.STOP&&this.resultTemp.pop()||this.getRandomResult()},e.prototype.checkLastSymbol=function(t){var e=this.getListSymbol();return e[e.length-1]==t},e.prototype.getRandomResult=function(){var t=null;return(t=l.ConectManager.getIns().getSFSObj()).putInt("size",1),this.index>0?t.putInt("idItem",p.Windown.RandomNumber(-1,11)):t.putInt("idItem",p.Windown.RandomNumber(-1,9)),t.putInt("typeItem",0),t},e.prototype.checkAnItem=function(){},e.prototype.runSlowDownActicon=function(){this.getListSymbol().forEach(function(t){t.node.stopAllActions()}),this.isMoveSlowDown=!0,this.deltaSlowDown=5e3},e.prototype.update=function(t){var e=this;this.isMoveSlowDown&&(this.getListSymbol().forEach(function(n){n.node.y-=t*e.deltaSlowDown}),this.deltaSlowDown>1e3?this.deltaSlowDown-=2e3*t:this.deltaSlowDown<=1e3&&(this.stateWhel=c.default.STOP,this.isMoveSlowDown=!1,this.recaculateSpeedSpin(!0)))},e.prototype.runEffectEndGameWin=function(){var t=this;this.effBigWild&&this.effBigWild.runAction(cc.repeatForever(cc.sequence(cc.callFunc(function(){t.effBigWild.opacity=0,p.Windown.MuaDongVoTan.audio.playEffect(p.Windown.MuaDongVoTan.audio.prizeWinHighlight)}),cc.fadeIn(.3),cc.delayTime(2)))),this.getListSymbolResult().forEach(function(t){t.runEffectEndGameWin()})},e.prototype.resetState=function(){var t=this.getListSymbol();this.effBigWild&&this.effBigWild.destroy(),this.effBigWild=null,t.forEach(function(t){t.resetState()})},e.prototype.getSumItemId=function(t,e){if(null==e&&(e=this.result.map(function(t){return t.get("idItem")})),e.includes(10)&&11!=t)return 4;var n=0;return e.forEach(function(e){e==t&&n++}),n},e.prototype.setItemActiveWithListIdActive=function(){p.Windown.MuaDongVoTan.stateSpin.setListIdActive(this.index);for(var t=function(t){var e=p.Windown.MuaDongVoTan.listColum[t];e.getListSymbolResult().forEach(function(t){e.listIdActive.includes(t.result)||10==t.result||11==t.result||100==t.result||101==t.result?t.activeItem():t.offItem()})},e=this.index;e>=0;e--)t(e)},e.prototype.countFreeSpin=function(){var t=this,e=0;return p.Windown.MuaDongVoTan.stateSpin.listColum.forEach(function(n,o){o<=t.index&&n.getListSymbol().forEach(function(t,n){n>0&&n<5&&11==t.getItemId()&&e++})}),e},e.prototype.showBigWild=function(){var t=this;return new Promise(function(e){if(t.nodeBigWild)e(null);else{p.Windown.MuaDongVoTan.audio.playEffect(p.Windown.MuaDongVoTan.audio.symWild);var n=t.getListSymbolResult();for(var o in n){var i=n[o];if(10==i.getItemId()){var r=p.Windown.MuaDongVoTan.asset.getBigWild();r.position=cc.v3(0,0),t.node.parent.addChild(r),r.active=!0;var s=r.getComponent(cc.Animation).play();p.Windown.MuaDongVoTan.stateSpin.isMaxSpeed&&(s.speed=2),r.getComponent(cc.Animation).once(cc.Animation.EventType.FINISHED,e),r.setPosition(t.node.getPosition());var a=cc.find("wild_vfx_a",r);a.setPosition(p.Windown.convertNodeInOtherNode(i.node,a.parent)),t.nodeBigWild=r;break}}}})},e.prototype.showSymbolWin=function(t){var e=this,n=this.getListSymbolResult();this.result.map(function(t){return t.get("idItem")}).includes(10)&&p.Windown.MuaDongVoTan.checkIdWildWin(this.index,t)?this.showBigWildWin():n.forEach(function(n){p.Windown.MuaDongVoTan.checkIdWin(n.getItemId(),e.index,t)&&n.winItem()})},e.prototype.showSymbolTake=function(t){var e=this;this.result.map(function(t){return t.get("idItem")}).includes(10)&&p.Windown.MuaDongVoTan.checkIdWildWin(this.index,t)?this.showBigWildTake():this.getListSymbolResult().forEach(function(n){p.Windown.MuaDongVoTan.checkIdWin(n.getItemId(),e.index,t)&&n.takeItem()})},e.prototype.showBigWildTake=function(){if(null!=this.nodeBigWild&&null==this.effBigWild){this.effBigWild=p.Windown.MuaDongVoTan.asset.getEffTakeItemWild(),this.effBigWild.parent=this.nodeBigWild,this.effBigWild.scale=this.effBigWild.scale/this.nodeBigWild.scale,this.effBigWild.getComponent(h.default).take(),this.effBigWild.setPosition(0,0);var t=cc.find("skeleton",this.nodeBigWild);t.active=!0,t.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){t.getComponent(sp.Skeleton).setAnimation(0,"idle",!0)})))}},e.prototype.showBigWildWin=function(){this.effBigWild&&cc.isValid(this.effBigWild,!0)&&this.effBigWild.getComponent(h.default).win()},e.prototype.showNearFS=function(){p.Windown.MuaDongVoTan.audio.playEffect(p.Windown.MuaDongVoTan.audio.fastspin),null==this.nodeEffNearWin&&(this.nodeEffNearWin=p.Windown.MuaDongVoTan.asset.getNearFs(),this.nodeEffNearWin.parent=p.Windown.MuaDongVoTan.parentEffect,this.nodeEffNearWin.setPosition(p.Windown.convertNodeInOtherNode(this.node,p.Windown.MuaDongVoTan.parentEffect)))},e.prototype.offNearWin=function(){var t=this;this.nodeEffNearWin&&(this.nodeEffNearWin.stopAllActions(),this.nodeEffNearWin.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.nodeEffNearWin.destroy(),t.nodeEffNearWin=null}))))},e.prototype.showNewCol=function(t,e){var n=this;return new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s,c;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,7,,8]),n=null,(i=this.checkFreeSpin(e)>=2)||((n=p.Windown.MuaDongVoTan.asset.getAddReel()).parent=p.Windown.MuaDongVoTan.parentEffect,n.setPosition(p.Windown.convertNodeInOtherNode(this.node,p.Windown.MuaDongVoTan.parentEffect)),r=n.getComponentsInChildren(cc.Animation),s=[r[0].play(),r[1].play(),r[2].play()],p.Windown.MuaDongVoTan.stateSpin.isMaxSpeed&&s.forEach(function(t){return t.speed=2})),this.getListSymbol().forEach(function(t){t.node.y+=900}),this.runSpin(e),this.node.runAction(cc.fadeIn(.2)),i?[3,2]:[4,p.Windown.MuaDongVoTan.getMakeDelay(p.Windown.MuaDongVoTan.stateSpin.isMaxSpeed?.5:1).prosime];case 1:a.sent(),a.label=2;case 2:return p.Windown.MuaDongVoTan.stateSpin.isMaxSpeed?[4,this.stopSpinIsFastSpin(i,t)]:[3,4];case 3:return a.sent(),[3,6];case 4:return[4,this.stopSpin(i,t)];case 5:a.sent(),a.label=6;case 6:return n&&n.destroy(),this.offNearWin(),o(null),[3,8];case 7:return c=a.sent(),u.Util.ThrowErrProsime(c),[3,8];case 8:return[2]}})})})},e.prototype.checkFreeSpin=function(t){if(p.Windown.MuaDongVoTan.listResultConvert[0]){for(var e=p.Windown.MuaDongVoTan.listResultConvert[0].listSFSObj.concat(p.Windown.MuaDongVoTan.listResultConvert[0].listViewAdd),n=0,o=0;o<t;o++)for(var i=e[o],r=0;r<i.length;r++)11==i[r].getInt("idItem")&&n++;return n}},e.prototype.removeEfWin=function(){this.getListSymbol().forEach(function(t){t.removeEfWin()})},r([g(cc.Node)],e.prototype,"parentItem",void 0),r([g(cc.Integer)],e.prototype,"sizeSymbol",void 0),r([y],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./EffectItemMuaDong":"EffectItemMuaDong","./MuaDongVoTanSymbol":"MuaDongVoTanSymbol"}],MuaDongVoTanLichSu:[function(t,e,n){"use strict";cc._RF.push(e,"dae2e02c5BHgr/tEVrdprg6","MuaDongVoTanLichSu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Network/ConectManager"),c=t("../../../Scritps/Popup/PageData/PageData"),l=t("../../../Scritps/Windown"),u=t("./MuaDongVoTanDetailHistory"),p=t("./MuaDongVoTanItemLichSu"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.detail=null,e.listData=null,e.maxRow=11,e}return i(e,t),e.prototype.show=function(){this.node.active=!0,this.reset(),this.node.y=-1280,this.node.stopAllActions(),this.node.runAction(cc.moveTo(.3,0,0)),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryMuaDong,null,l.Windown.MuaDongVoTan.roomSFS),l.Windown.UIManager.showLoading()},e.prototype.responseServer=function(t){l.Windown.UIManager.hideLoading();var e=t.getSFSArray("history");this.initWithListData(e)},e.prototype.responseServerChiTiet=function(t){l.Windown.UIManager.hideLoading(),this.showDetail(t)},e.prototype.initWithListData=function(t){cc.log(l.Windown.SFSArrToJson(t)),this.pageDate.content.children;var e=t.size(),n=Math.floor(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var a=n[r];if(i<this.listData.size()){null==a&&(a=cc.instantiate(o),e.addChild(a),a.y=-(r+1)*a.height+a.height/2);var c=this.listData.getSFSObject(i);a.getComponent(p.default).initItem(c),a.active=!0,i++}else{if(!a)break;a.active=!1}}},e.prototype.showDetail=function(t){console.log(l.Windown.SFSObjToJson(t)),this.detail.show(t)},e.prototype.resetContent=function(){for(var t=this.pageDate.content.children,e=0,n=t.length;e<n;e++)t[e].active=!1},e.prototype.reset=function(){this.pageDate.setTotalPage(1),this.pageDate.reset(),this.resetContent()},e.prototype.onClickClose=function(){var t=this;l.Windown.MuaDongVoTan.audio.playClick(),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.moveTo(.3,0,-1280),cc.callFunc(function(){l.Windown.MuaDongVoTan._popupLichSu=null,t.node.destroy()})))},r([f(c.default)],e.prototype,"pageDate",void 0),r([f(u.default)],e.prototype,"detail",void 0),r([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Popup/PageData/PageData":"PageData","../../../Scritps/Windown":"Windown","./MuaDongVoTanDetailHistory":"MuaDongVoTanDetailHistory","./MuaDongVoTanItemLichSu":"MuaDongVoTanItemLichSu"}],MuaDongVoTanPopupFreespin:[function(t,e,n){"use strict";cc._RF.push(e,"ff187D6NrlKsJdAJb5t/lFQ","MuaDongVoTanPopupFreespin");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Other/LbMonoSpace"),a=t("../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnStart=null,e.lbNum=null,e}return i(e,t),e.prototype.show=function(t){var e=this;return new Promise(function(n){a.Windown.MuaDongVoTan.effect.switchFS(!0),e.lbNum.string=t.toString(),a.Windown.MuaDongVoTan.audio.playEffect(a.Windown.MuaDongVoTan.audio.fsTrans);var o=function(){a.Windown.MuaDongVoTan.audio.playClick(),e.btnStart.interactable=!1,e.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){n(null),e.node.destroy()})))};e.btnStart.node.once("click",o),e.scheduleOnce(o,5)})},r([u(cc.Button)],e.prototype,"btnStart",void 0),r([u(s.default)],e.prototype,"lbNum",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Windown":"Windown"}],MuaDongVoTanSpinNormal:[function(t,e,n){"use strict";cc._RF.push(e,"e162aZK75RGcZm5sCWlnTaG","MuaDongVoTanSpinNormal");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Scritps/DefineTs/StateReelSlot"),s=t("../../../Scritps/Util"),a=t("../../../Scritps/Windown"),c=t("./MuaDongVoTanItemSlot"),l=function(){function t(){this.listFunShowOceLine=[],this.funShowOceLine=null,this.listColum=[],this.isMaxSpeed=!1,this.isAutoSpin=!1,this.lastAutoSpin=!1,this.countAutoSpin=0,this.lastFreeSpinLeft=0,this.freeSpinLeft=0,this.freeSpinCache=0,this.moneyTotalFs=0,this.currentMutilFs=1,this._totalFreeSpin=0,this.listIdItemActive=[],this.listColum=a.Windown.MuaDongVoTan.listColum}return t.prototype.onStart=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,6,,7]),[4,this.removeAllMutilAdded()];case 1:o.sent(),a.Windown.MuaDongVoTan.audio.playEffect(a.Windown.MuaDongVoTan.audio.spinActiveLoop,1,!0),t=0,o.label=2;case 2:return t<this.listColum.length?(this.listColum[t].runSpin(t),this.isMaxSpeed?[3,4]:[4,a.Windown.MuaDongVoTan.getMakeDelay(.04).prosime]):[3,5];case 3:o.sent(),o.label=4;case 4:return t++,[3,2];case 5:return e(null),[3,7];case 6:return n=o.sent(),s.Util.ThrowErrProsime(n),[3,7];case 7:return[2]}})})})},t.prototype.onEnd=function(){return o(this,void 0,void 0,function(){var t,e,n,o,r,c,l;return i(this,function(i){switch(i.label){case 0:cc.log("end me roi nay"),t=a.Windown.MuaDongVoTan.listResultConvert,i.label=1;case 1:i.trys.push([1,11,,12]),e=0,n=[],a.Windown.MuaDongVoTan.audio.stopEffect(a.Windown.MuaDongVoTan.audio.spinActiveLoop),o=0,r=this.listColum,i.label=2;case 2:return o<r.length?(c=r[o],this.isMaxSpeed?[3,4]:[4,c.stopSpin(!1,t[0].listSFSObj[e])]):[3,7];case 3:return i.sent(),[3,5];case 4:n.push(c.stopSpinIsFastSpin(!1,t[0].listSFSObj[e])),i.label=5;case 5:e++,i.label=6;case 6:return o++,[3,2];case 7:return this.isMaxSpeed?[4,Promise.all(n)]:[3,10];case 8:return i.sent(),[4,a.Windown.MuaDongVoTan.getMakeDelay(.1).prosime];case 9:return i.sent(),[3,10];case 10:return this.handleStopAllColum(),[3,12];case 11:return l=i.sent(),s.Util.ThrowErrProsime(l),[3,12];case 12:return[2]}})})},t.prototype.onForceEnd=function(){return o(this,void 0,void 0,function(){var t,e,n,o,r,c,l;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,3,,4]),a.Windown.MuaDongVoTan.clearAllMakeDelay(),a.Windown.MuaDongVoTan.audio.stopEffect(a.Windown.MuaDongVoTan.audio.spinActiveLoop),t=a.Windown.MuaDongVoTan.listResultConvert,e=[],n=0,o=0,r=this.listColum;o<r.length;o++)c=r[o],e.push(c.forceStopSpin(!1,t[0].listSFSObj[n])),n++;return a.Windown.MuaDongVoTan.audio.playEffect(a.Windown.MuaDongVoTan.audio.spinStopQuick),[4,Promise.all(e)];case 1:return i.sent(),[4,a.Windown.MuaDongVoTan.getMakeDelay(.25).prosime];case 2:return i.sent(),this.handleStopAllColum(),[3,4];case 3:return l=i.sent(),s.Util.ThrowErrProsime(l),[3,4];case 4:return[2]}})})},t.prototype.handleErrSpin=function(){return o(this,void 0,void 0,function(){var t,e,n,o;return i(this,function(i){switch(i.label){case 0:i.trys.push([0,6,,7]),a.Windown.MuaDongVoTan.audio.stopEffect(a.Windown.MuaDongVoTan.audio.spinActiveLoop),a.Windown.MuaDongVoTan.audio.stopEffect(a.Windown.MuaDongVoTan.audio.reelReset),a.Windown.MuaDongVoTan.audio.playEffect(a.Windown.MuaDongVoTan.audio.reelStop),t=0,e=this.listColum,i.label=1;case 1:return t<e.length?(n=e[t],this.isMaxSpeed?[3,3]:[4,n.stopSpin(!1,n.result)]):[3,5];case 2:return i.sent(),[3,4];case 3:n.stopSpin(!1,n.result),i.label=4;case 4:return t++,[3,1];case 5:return a.Windown.MuaDongVoTan.resetForNewGame(),[3,7];case 6:return o=i.sent(),s.Util.ThrowErrProsime(o),[3,7];case 7:return[2]}})})},t.prototype.removeAllMutilAdded=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o,r,c;return i(this,function(i){switch(i.label){case 0:if(i.trys.push([0,2,,3]),a.Windown.MuaDongVoTan.topWin.cleanData(),this.activeAllSymbol(),a.Windown.MuaDongVoTan.parentItem.stopAllActions(),this.listColum.forEach(function(t){t.resetState()}),null==a.Windown.MuaDongVoTan.listResultConvert[0]||this.listColum.length<4)return e(null),[2];for(t=this.isMaxSpeed?.1:.3,a.Windown.MuaDongVoTan.audio.playEffect(a.Windown.MuaDongVoTan.audio.reelReset),cc.tween(a.Windown.MuaDongVoTan.parentItem).to(t,{position:cc.v3(-286,-4),width:576}).start(),n=function(){var e=o.listColum.pop();e.node.runAction(cc.sequence(cc.fadeOut(t),cc.callFunc(function(){e.node.parent=null,e.node.destroy()})))},o=this,r=this.listColum.length-1;r>2;r--)n();return[4,a.Windown.MuaDongVoTan.getMakeDelay(t).prosime];case 1:return i.sent(),e(null),[3,3];case 2:return c=i.sent(),s.Util.ThrowErrProsime(c),[3,3];case 3:return[2]}})})})},t.prototype.setListIdActive=function(t){var e=this;this.listIdItemActive=[];var n=this.listColum[0];n.result.forEach(function(t){var n=t.get("idItem");-1!=n&&100!=n&&101!=n&&e.listIdItemActive.push(n)}),n.listIdActive=this.listIdItemActive.slice();for(var o=function(t,n){e.listColum.forEach(function(e,o){o<n&&(e.listIdActive=e.listIdActive.filter(function(e){return e!=t}))})},i=function(t,n){var o=0;return e.listColum.forEach(function(e,i){i<=n&&(o+=e.getSumItemId(t))}),o},r=function(t,e){var n=[];return t.includes(10)?n=e.slice():t.forEach(function(t){e.includes(t)&&n.push(t)}),n},s=1;s<=t;s++){for(var c,l=this.listColum[s],u=l.getListResultId(),p=n.listIdActive,h=r(u,p),d=function(t){var e=p[t];!h.includes(e)&&i(e,s)<5&&(o(e,s),p=p.filter(function(t){return t!=e}),t=-1),c=t},f=0;f<p.length;f++)d(f),f=c;(n=l).listIdActive=h}a.Windown.MuaDongVoTan.topWin.resetData(),this.listColum.forEach(function(e,n){if(n<=t)if(e.getListResultId().includes(10)){var o=[];e.listIdActive.forEach(function(t){o.includes(t)||o.push(t)});for(var i=0;i<4;i++)a.Windown.MuaDongVoTan.topWin.setData(o)}else a.Windown.MuaDongVoTan.topWin.setData(e.listIdActive)})},t.prototype.setEndListIdActive=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o,r,c,l,u;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),this.listColum.forEach(function(t){t.offAllSymbol()}),a.Windown.MuaDongVoTan.topWin.resetData(),t=[],this.listColum.forEach(function(e){e.getListSymbolResult().forEach(function(e){11==e.getItemId()&&t.push(11)})}),n=a.Windown.MuaDongVoTan.listResultConvert[0],this.listColum[this.listColum.length-1].listIdActive.length>0&&a.Windown.MuaDongVoTan.agWin<1?[4,a.Windown.MuaDongVoTan.getMakeDelay(.3).prosime]:[3,2];case 1:i.sent(),i.label=2;case 2:for(o=function(e){for(var o=n.listItemWin[e],i=o.symbol,s=o.stack,a=0,c=0;c<s;c++){var l=r.listColum[c];null==l.nodeBigWild&&l.getListSymbolResult().forEach(function(t){t.getItemId()==i&&t.activeItem()}),a+=l.getSumItemId(i)}for(;a>0;)t.push(i),a--},r=this,c=0,l=n.listItemWin.length;c<l;c++)o(c);return a.Windown.MuaDongVoTan.topWin.setData(t),e(null),[3,4];case 3:return u=i.sent(),s.Util.ThrowErrProsime(u),[3,4];case 4:return[2]}})})})},t.prototype.checkAndShowWild=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=[],this.listColum.forEach(function(e){e.result.map(function(t){return t.get("idItem")}).includes(10)&&a.Windown.MuaDongVoTan.checkIdWildWin(e.index)&&t.push(e.showBigWild())}),[4,Promise.all(t)];case 1:return o.sent(),cc.log("xong check wild ne"),e(null),[3,3];case 2:return n=o.sent(),s.Util.ThrowErrProsime(n),[3,3];case 3:return[2]}})})})},t.prototype.checkAndShowTakeSymbol=function(t){var e=this;return new Promise(function(n){return o(e,void 0,void 0,function(){var e;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),[4,this.checkAndShowWild()];case 1:return o.sent(),this.showTakeAllSymbol(t),a.Windown.MuaDongVoTan.agWin>0?[4,a.Windown.MuaDongVoTan.getMakeDelay(.4).prosime]:[3,3];case 2:o.sent(),o.label=3;case 3:return n(null),[3,5];case 4:return e=o.sent(),s.Util.ThrowErrProsime(e),[3,5];case 5:return[2]}})})})},t.prototype.checkAndShowViewAdd=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o,r,c,l;return i(this,function(i){switch(i.label){case 0:if(i.trys.push([0,8,,9]),t=a.Windown.MuaDongVoTan.listResultConvert[0],n=t.listViewAdd,o=[],!(n.length>0))return[3,6];r=0,i.label=1;case 1:return r<n.length?[4,this.initItemViewAdd(n[r],r)]:[3,6];case 2:return i.sent(),this.lastFreeSpinLeft>0?((c=[]).push(this.checkAndShowTakeMutilFS(r+3)),c.push(this.checkAndShowTakePlusFS(r+3)),[4,Promise.all(c)]):[3,4];case 3:i.sent(),i.label=4;case 4:o.push(this.checkAndShowTakeSymbol(r+3)),i.label=5;case 5:return r++,[3,1];case 6:return[4,Promise.all(o)];case 7:return i.sent(),e(null),[3,9];case 8:return l=i.sent(),s.Util.ThrowErrProsime(l),[3,9];case 9:return[2]}})})})},t.prototype.checkAndShowTakeMutilFS=function(t){var e=this;return new Promise(function(n){return o(e,void 0,void 0,function(){var e,o,r,c,l,u,p,h,d,f;return i(this,function(i){switch(i.label){case 0:i.trys.push([0,10,,11]),e=0,o=[],r=0,c=this.listColum,i.label=1;case 1:if(!(r<c.length))return[3,6];if(l=c[r],t&&l.index!=t)return[3,5];u=l.getListSymbolResult(),p=0,h=u,i.label=2;case 2:return p<h.length?100!=(d=h[p]).getItemId()?[3,4]:[4,a.Windown.MuaDongVoTan.getMakeDelay(.3*e).prosime]:[3,5];case 3:i.sent(),o.push(d.effectTakeMutil()),e++,i.label=4;case 4:return p++,[3,2];case 5:return r++,[3,1];case 6:return[4,Promise.all(o)];case 7:return i.sent(),o.length>0?[4,a.Windown.MuaDongVoTan.getMakeDelay(.3).prosime]:[3,9];case 8:i.sent(),i.label=9;case 9:return n(null),[3,11];case 10:return f=i.sent(),s.Util.ThrowErrProsime(f),[3,11];case 11:return[2]}})})})},t.prototype.checkAndShowTakePlusFS=function(t){var e=this;return new Promise(function(n){return o(e,void 0,void 0,function(){var e,o,r,c,l,u,p,h,d,f;return i(this,function(i){switch(i.label){case 0:i.trys.push([0,10,,11]),e=0,o=[],r=0,c=this.listColum,i.label=1;case 1:if(!(r<c.length))return[3,6];if(l=c[r],t&&l.index!=t)return[3,5];u=l.getListSymbolResult(),p=0,h=u,i.label=2;case 2:return p<h.length?101!=(d=h[p]).getItemId()?[3,4]:[4,a.Windown.MuaDongVoTan.getMakeDelay(.3*e).prosime]:[3,5];case 3:i.sent(),o.push(d.effectTakeFs()),e++,i.label=4;case 4:return p++,[3,2];case 5:return r++,[3,1];case 6:return[4,Promise.all(o)];case 7:return i.sent(),o.length>0?[4,a.Windown.MuaDongVoTan.getMakeDelay(.3).prosime]:[3,9];case 8:i.sent(),i.label=9;case 9:return n(null),[3,11];case 10:return f=i.sent(),s.Util.ThrowErrProsime(f),[3,11];case 11:return[2]}})})})},t.prototype.handleStopAllColum=function(){return o(this,void 0,void 0,function(){var t,e,n;return i(this,function(o){switch(o.label){case 0:cc.log("handleStopAllColum"),o.label=1;case 1:return o.trys.push([1,10,,11]),a.Windown.MuaDongVoTan.stateReel==r.default.STOP?[2]:(a.Windown.MuaDongVoTan.stateReel=r.default.STOP,a.Windown.MuaDongVoTan.setStateEffBtnSpin(),a.Windown.MuaDongVoTan.infoBar.showRdContent(),a.Windown.MuaDongVoTan.listResultConvert[0],this.freeSpinLeft=a.Windown.MuaDongVoTan.freeSpinNumber,this.lastFreeSpinLeft>0?((t=[]).push(this.checkAndShowTakeMutilFS()),t.push(this.checkAndShowTakePlusFS()),[4,Promise.all(t)]):[3,3]);case 2:o.sent(),o.label=3;case 3:return(e=[]).push(this.checkAndShowTakeSymbol(2)),e.push(this.checkAndShowViewAdd()),[4,Promise.all(e)];case 4:return o.sent(),this.showAllSymbolWin(),[4,this.setEndListIdActive()];case 5:return o.sent(),[4,a.Windown.MuaDongVoTan.infoBar.showTakeMoney(a.Windown.MuaDongVoTan.agWin/a.Windown.MuaDongVoTan.dataFinish.get("bonus"))];case 6:return o.sent(),[4,a.Windown.MuaDongVoTan.topWin.effectTakeMoney()];case 7:return o.sent(),[4,this.showMoneyTotalRevice()];case 8:return o.sent(),[4,this.checkAndShowEffect()];case 9:return o.sent(),this.resetForNextNextSpin(),[3,11];case 10:return n=o.sent(),s.Util.ThrowErrProsime(n),[3,11];case 11:return[2]}})})},t.prototype.showAllSymbolWin=function(){for(var t=0,e=this.listColum;t<e.length;t++)e[t].showSymbolWin()},t.prototype.showTakeAllSymbol=function(t){for(var e=0,n=this.listColum;e<n.length;e++){var o=n[e];o.index<=t&&o.showSymbolTake()}},t.prototype.activeAllSymbol=function(){this.listColum.forEach(function(t){t.activeAllSymbol()})},t.prototype.initItemViewAdd=function(t,e){var n=this;return new Promise(function(r){a.Windown.MuaDongVoTan.topWin.takeMutilAddReel();var l=a.Windown.MuaDongVoTan.itemSlotTemplate;a.Windown.MuaDongVoTan.audio.playEffectNoStop(a.Windown.MuaDongVoTan.audio.reelExpand1),cc.tween(a.Windown.MuaDongVoTan.parentItem).by(.4,{position:cc.v3(0==e?-96:-192,0,0)}).call(function(){return o(n,void 0,void 0,function(){var n,o,u;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),a.Windown.MuaDongVoTan.audio.playEffectNoStop(a.Windown.MuaDongVoTan.audio.reelExpand2),(n=cc.instantiate(l)).parent=a.Windown.MuaDongVoTan.parentItem,o=n.getComponent(c.default),this.listColum.push(o),o.index=e+3,o.setResultFirtGame(),o.node.x=187*(e+3)+93.5+5*(e+3),o.node.y=0,n.opacity=0,[4,o.showNewCol(t,e+3)];case 1:return i.sent(),r(null),[3,3];case 2:return u=i.sent(),s.Util.ThrowErrProsime(u),[3,3];case 3:return[2]}})})}).start();var u=187*(n.listColum.length+1)+5*n.listColum.length+1;cc.tween(a.Windown.MuaDongVoTan.parentItem).to(.2,{width:u}).start()})},t.prototype.offAllSymbol=function(){this.listColum.forEach(function(t){t.offAllSymbol()}),a.Windown.MuaDongVoTan.activeMask(!0)},t.prototype.checkAndShowEffect=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),t=a.Windown.MuaDongVoTan.isScatter3,n=a.Windown.MuaDongVoTan.dataFinish.get("FreeSpin"),this.freeSpinLeft=n,!t&&this.lastFreeSpinLeft<1?(e(null),[2]):t?[4,a.Windown.MuaDongVoTan.effect.showStartFs(n)]:[3,2];case 1:i.sent(),a.Windown.MuaDongVoTan.topWin.resetMutil(),i.label=2;case 2:return 1==this.lastFreeSpinLeft&&this.freeSpinLeft<1?[4,a.Windown.MuaDongVoTan.effect.showEndFree(this.moneyTotalFs)]:[3,4];case 3:i.sent(),this.moneyTotalFs=0,i.label=4;case 4:return this.lastFreeSpinLeft=this.freeSpinLeft,e(null),[3,6];case 5:return o=i.sent(),s.Util.ThrowErrProsime(o),[3,6];case 6:return[2]}})})})},t.prototype.resetForNextNextSpin=function(){var t=this;return cc.log("chay vao resetForNextNextSpin"),new Promise(function(){if(a.Windown.MuaDongVoTan.agWin<=0||t.freeSpinLeft>0||t.countAutoSpin>0)t.activeAllSymbol();else{t.listColum.forEach(function(t){return t.runEffectEndGameWin()});var e=a.Windown.MuaDongVoTan.parentItem,n=e.width/250;e.runAction(cc.repeatForever(cc.sequence(cc.moveTo(n,-286,-4).easing(cc.easeInOut(2)),cc.moveTo(n,-286-(187*(t.listColum.length-3)+5*(t.listColum.length-3)),-4).easing(cc.easeInOut(2)))))}a.Windown.MuaDongVoTan.resetForNewGame(),t.freeSpinLeft>0?a.Windown.MuaDongVoTan.scheduleOnce(function(){a.Windown.MuaDongVoTan.setLbFreeSpinLeft(t.freeSpinLeft-1),a.Windown.MuaDongVoTan.onClickBtnSpin()},.5):t.countAutoSpin>0?a.Windown.MuaDongVoTan.scheduleOnce(function(){t.countAutoSpin--,a.Windown.MuaDongVoTan.setCountAuto(t.countAutoSpin),a.Windown.MuaDongVoTan.onClickBtnSpin()},.5):a.Windown.MuaDongVoTan.activeAllBtn()})},t.prototype.showMoneyTotalRevice=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=a.Windown.MuaDongVoTan.agWin,this.lastFreeSpinLeft>0&&(this.moneyTotalFs+=t),t<1?(e(null),[2]):[4,a.Windown.MuaDongVoTan.infoBar.showTotalMoney(t)];case 1:return o.sent(),a.Windown.MuaDongVoTan.showMoneyAllWin(t),e(null),[3,3];case 2:return n=o.sent(),s.Util.ThrowErrProsime(n),[3,3];case 3:return[2]}})})})},t}();n.default=l,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./MuaDongVoTanItemSlot":"MuaDongVoTanItemSlot"}],MuaDongVoTanSymbol:[function(t,e,n){"use strict";cc._RF.push(e,"ce84e1ixm1H5pN8td7E25Ha","MuaDongVoTanSymbol");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/StateReelSlot"),a=t("../../../Scritps/Windown"),c=t("./EffectItemMuaDong"),l=t("./MuaDongEffectScater"),u=t("./MuaDongItemTakeFS"),p=t("./MuaDongVoTanItemSlot"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.spriteTxt=null,e.listSpineWin=[],e.efScater=null,e.ske=null,e.size=new cc.Size(190,160),e.itemColum=null,e.result=-100,e.objSFS=null,e.sizeItem=0,e.canRun=!1,e.efWin=null,e.nodeMutil=null,e.lastPos=null,e.isShuff=!1,e.isShowEffectSpawn=!1,e}return i(e,t),e.prototype.setItemColum=function(t){this.itemColum=t},e.prototype.setResult=function(t,e){void 0===e&&(e=null),null!=t&&(this.objSFS=t,this.result=t.getInt("idItem"),this.sizeItem=t.getInt("size"),this.itemColum.stateWhel==s.default.RUN?this.setImgResult(!0):this.setImgResult(!1),this.isShuff=!1,this.isShowEffectSpawn=!1)},e.prototype.setResultHistory=function(t){this.result=t,this.setImgResult(!1)},e.prototype.setImgResult=function(t){this.sprite.spriteFrame=this.getSpItem(t),null==this.sprite.spriteFrame&&cc.log("id null: "+this.result),this.spriteTxt.spriteFrame=this.getSpTxt(t),t?(this.sprite.node.scale=1.45,this.spriteTxt.node.scale=1.45):(this.sprite.node.scale=.73,this.spriteTxt.node.scale=.73)},e.prototype.checkItemFront=function(){this.checkIsInView()&&11==this.result?this.node.parent=this.itemColum.parentItemFront:this.node.parent=this.itemColum.parentItem},e.prototype.getSpItem=function(t){return t?this.getAtlasBlur().getSpriteFrame(this.convertNameSpriteById()+"_blur"):this.getAtlas().getSpriteFrame(this.convertNameSpriteById())},e.prototype.getSpTxt=function(t){var e=this.convertNameTxtById();return null==e?null:t?this.getAtlasTxtBlur().getSpriteFrame(e+"_blur"):this.getAtlasTxt().getSpriteFrame(e)},e.prototype.getAtlas=function(){return a.Windown.MuaDongVoTan.asset.atlasSymbol},e.prototype.getAtlasBlur=function(){return a.Windown.MuaDongVoTan.asset.atlasSymbolBlur},e.prototype.getAtlasTxt=function(){return a.Windown.MuaDongVoTan.asset.atlasTxt},e.prototype.getAtlasTxtBlur=function(){return a.Windown.MuaDongVoTan.asset.atlasTxtBlur},e.prototype.getIndexOf=function(){return this.itemColum.getListSymbol().indexOf(this)},e.prototype.convertNameSpriteById=function(){switch(this.result){case-1:return"h_blank";case 0:return"l_9";case 1:return"l_10";case 2:return"l_j";case 3:return"l_q";case 4:return"l_k";case 5:return"l_a";case 6:return"h_sball";case 7:return"h_staff";case 8:return"h_owl";case 9:return"h_jack";case 10:return"s_wild_a_block";case 11:return"s_fspins_block";case 100:return"s_mul_block";case 101:return"s_plus_block"}},e.prototype.convertNameTxtById=function(){switch(this.result){case-1:case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:return null;case 10:return"s_wild_a";case 11:return"s_fspins";case 100:return"s_mul";case 101:return"s_plus"}},e.prototype.checkIsInView=function(){return this.node.y<0&&this.node.y>-this.size.height*(this.itemColum.sizeSymbol-2)},e.prototype.offItem=function(t){void 0===t&&(t=.15),this.node.children.forEach(function(e){e.stopActionByTag(999),t<=0?e.color=cc.Color.GRAY:cc.tween(e).to(t,{color:cc.Color.GRAY}).tag(999).start()})},e.prototype.activeItem=function(t){void 0===t&&(t=.15),a.Windown.MuaDongVoTan.stateSpin.isMaxSpeed&&(t/=2),this.node.children.forEach(function(e){e.stopActionByTag(999),t<=0?e.color=cc.Color.WHITE:cc.tween(e).to(t,{color:cc.Color.WHITE}).tag(999).start()})},e.prototype.runEffectEndGameWin=function(){var t=this;this.efWin&&this.efWin.runAction(cc.repeatForever(cc.sequence(cc.callFunc(function(){t.efWin.opacity=0,t.ske.setAnimation(0,"win",!1)}),cc.fadeIn(.3),cc.delayTime(2))))},e.prototype.resetState=function(){this.activeItem(),this.removeEfWin()},e.prototype.runSpin=function(){this.node.parent=this.itemColum.parentItem;var t=cc.repeatForever(cc.moveBy(a.Windown.MuaDongVoTan.stateSpin.isMaxSpeed?.5:1,0,-2500));this.node.stopAllActions(),this.node.runAction(t),this.canRun=!0,this.efScater&&this.efScater.destroy(),this.efScater=null,this.resetState()},e.prototype.stopSpin=function(t){var e=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(t,cc.callFunc(function(){e.itemColum.effStopSpin()})))},e.prototype.initPosStartGame=function(){var t,e=this.getIndexOf(),n=this.itemColum.getListSymbol()[e-1],o=null==n?void 0:n.node.y;t=n?o-this.node.height/2-n.node.height/2:this.node.height/2,this.node.y=t},e.prototype.moveWhenListChange=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=null);var o=this.getIndexOf(),i=this.itemColum.getListSymbol()[o+1],r=i.node.y,s=null;t==p.TYPE_MOVE.NORMAL&&(s=r+this.node.height/2+i.node.height/2,this.node.y=s)},e.prototype.takeItem=function(){null==this.efWin&&(this.efWin=a.Windown.MuaDongVoTan.asset.getEffTakeItem(),this.efWin.parent=this.node,this.efWin.getComponent(c.default).take(),this.efWin.setPosition(0,0),this.activeItem())},e.prototype.winItem=function(){this.efWin&&(this.efWin.getComponent(c.default).win(),this.ske.node.active=!0,this.ske.skeletonData=this.listSpineWin[this.getItemId()],this.ske.setAnimation(0,"win",!1))},e.prototype.removeEfWin=function(){this.efWin&&this.efWin.destroy(),this.efWin=null,this.ske.node&&(this.ske.node.active=!1)},e.prototype.effectScater=function(){null==this.efScater&&(this.efScater=a.Windown.MuaDongVoTan.asset.getEffectScater(),this.efScater.parent=this.node,this.efScater.setPosition(0,0)),this.efScater.getComponent(l.default).show();for(var t=0;t<this.itemColum.index;t++)a.Windown.MuaDongVoTan.listColum[t].getListSymbolResult().forEach(function(t){11==t.getItemId()&&t.effectScaterShowFS()})},e.prototype.effectScaterShowFS=function(){this.efScater&&this.efScater.getComponent(l.default).showNearFS()},e.prototype.effectSpawnSymbol=function(){!this.isShowEffectSpawn&&this.checkIsInView()&&(this.checkItemFront(),11==this.result?(a.Windown.MuaDongVoTan.audio.playEffectNoStop(a.Windown.MuaDongVoTan.audio.symScatter),this.isShowEffectSpawn=!0,this.effectScater()):10==this.result?this.isShowEffectSpawn=!0:11==this.result&&(this.isShowEffectSpawn=!0))},e.prototype.effectTakeMutil=function(){var t=a.Windown.MuaDongVoTan.asset.getAddMutil();return t.parent=a.Windown.MuaDongVoTan.node,t.setPosition(a.Windown.convertNodeInOtherNode(this.node,t.parent)),this.offItem(),t.getComponent(u.default).takeMutil()},e.prototype.effectTakeFs=function(){var t=a.Windown.MuaDongVoTan.asset.getAddFs();return t.parent=a.Windown.MuaDongVoTan.node,t.setPosition(a.Windown.convertNodeInOtherNode(this.node,t.parent)),this.offItem(),t.getComponent(u.default).take()},e.prototype.unuse=function(){this.itemColum=null,this.isShowEffectSpawn=!1,this.isShuff=!1,this.result=-2,this.node.opacity=255,this.sprite.node.scale=1,this.sprite.node.y=1,this.sprite.node.opacity=255,this.node.stopAllActions()},e.prototype.checkEndCot=function(){if(0==this.getIndexOf()){var t=this.node.height/2;if(this.node.y<=t){var e=this.itemColum.getIdSymbolResult(),n=this.itemColum.getListSymbol(),o=n.pop();n.unshift(o),o.node.zIndex=0,o.setResult(e),o.moveWhenListChange(p.TYPE_MOVE.NORMAL)}}},e.prototype.getItemId=function(){return this.result},e.prototype.onDestroy=function(){this.resetState(),this.efScater&&this.efScater.destroy(),this.efScater=null},e.prototype.update=function(){this.canRun&&this.checkEndCot()},r([f(cc.Sprite)],e.prototype,"sprite",void 0),r([f(cc.Sprite)],e.prototype,"spriteTxt",void 0),r([f([sp.SkeletonData])],e.prototype,"listSpineWin",void 0),r([f(cc.Node)],e.prototype,"efScater",void 0),r([f(sp.Skeleton)],e.prototype,"ske",void 0),r([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Windown":"Windown","./EffectItemMuaDong":"EffectItemMuaDong","./MuaDongEffectScater":"MuaDongEffectScater","./MuaDongItemTakeFS":"MuaDongItemTakeFS","./MuaDongVoTanItemSlot":"MuaDongVoTanItemSlot"}],MuaDongVoTanTopWin:[function(t,e,n){"use strict";cc._RF.push(e,"85c13ag5stOYbT3oeb9Q/ny","MuaDongVoTanTopWin");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Windown"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.topRight=null,e.topLeft=null,e.itemTemp=null,e.nodeTitle=null,e.multiple1=null,e.multiple2=null,e.lightWinMulti=null,e._multiple=1,e}return i(e,t),e.prototype.start=function(){this.cleanData(),this.itemTemp.active=!1,this.multiple2.node.opacity=0},e.prototype.setEndData=function(){},e.prototype.setData=function(t){var e=this;t.forEach(function(t){var n;if(t<11){if(10!=t){null==(n=e.topRight.getChildByName(t.toString()))&&((n=cc.instantiate(e.itemTemp)).parent=e.topRight,n.x=0),n.name=t.toString(),n.active=!0;var o=n.getComponentInChildren(c.default);n.children[1].getComponent(cc.Sprite).spriteFrame=e.getAtlas().getSpriteFrame(e.convertNameSpineById(t));var i=parseInt(o.string);o.string=(i+1).toString(),o.string!=t.toString()&&(o.node.stopAllActions(),o.node.scale=.1,o.node.runAction(cc.scaleTo(.2,.5).easing(cc.easeBackOut())))}}else(n=e.topLeft.children[0]).active=!0,o=n.getComponentInChildren(c.default),i=parseInt(o.string),o.setMoneyNoTime((i+1).toString()),o.string!=t.toString()&&(o.node.stopAllActions(),o.node.scale=.1,o.node.runAction(cc.scaleTo(.2,.5).easing(cc.easeBackOut())))})},e.prototype.resetData=function(){this.topRight.children.forEach(function(t){t.active=!1,t.getComponentInChildren(c.default).setMoneyNoTime(0)}),this.topLeft.children.forEach(function(t){t.getComponentInChildren(c.default).setMoneyNoTime("0"),t.active=!1})},e.prototype.cleanData=function(){this.topRight.destroyAllChildren(),this.topLeft.children.forEach(function(t){t.getComponentInChildren(c.default).setMoneyNoTime("0"),t.active=!1}),this.resetMutil()},e.prototype.resetMutil=function(){var t=this,e=l.Windown.MuaDongVoTan.stateSpin.lastFreeSpinLeft;console.log("current lastFree: "+e),e&&e>0||(cc.log("nhay me vao reset mutik"),this._multiple=1,this.multiple1.node.stopAllActions(),this.multiple1.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.nodeTitle.active=!0}))))},e.prototype.getAtlas=function(){return l.Windown.MuaDongVoTan.asset.atlasSymbol},e.prototype.convertNameSpineById=function(t){switch(t+1){case 1:return"l_9";case 2:return"l_10";case 3:return"l_j";case 4:return"l_q";case 5:return"l_k";case 6:return"l_a";case 7:return"h_sball";case 8:return"h_staff";case 9:return"h_owl";case 10:return"h_jack"}},e.prototype.initCurrentMutil=function(t){this._multiple=t||1,this.multiple1.string="x"+this._multiple,this.multiple2.string="x"+this._multiple,this._multiple>1&&(this.multiple1.node.stopAllActions(),this.multiple1.node.opacity=255,this.nodeTitle.active=!1),cc.log("mutil la: "+this._multiple)},e.prototype.getMultiple=function(){return this._multiple},e.prototype.takeMutilItem=function(){var t=this;this._multiple++;var e=this.multiple1.node;this.nodeTitle.active=!1,l.Windown.MuaDongVoTan.audio.playEffectNoStop(l.Windown.MuaDongVoTan.audio.fsGetMultiReach),e.runAction(cc.fadeIn(.1)),e.runAction(cc.sequence(cc.scaleTo(.15,1),cc.callFunc(function(){t.multiple1.string="x"+t._multiple,t.multiple2.string="x"+t._multiple}),cc.scaleTo(.15,.85)))},e.prototype.takeMutilAddReel=function(){l.Windown.MuaDongVoTan.audio.playEffect(l.Windown.MuaDongVoTan.audio.multiplierUp),this.nodeTitle.active=!1,this._multiple++,this.multiple1.string="x"+this._multiple,this.multiple2.string="x"+this._multiple;var t=this.multiple1.node;t.opacity=0,t.y=-184.905,t.stopAllActions(),t.runAction(cc.spawn(cc.moveTo(.4,0,-22.909).easing(cc.easeQuarticActionOut()),cc.fadeIn(.15).easing(cc.easeQuarticActionIn())))},e.prototype.effectTakeMoney=function(){var t=this;return new Promise(function(e){if(t._multiple<2||l.Windown.MuaDongVoTan.agWin<1)e(null);else{var n=l.Windown.MuaDongVoTan.stateSpin.isMaxSpeed?2:1;l.Windown.MuaDongVoTan.audio.playEffect(l.Windown.MuaDongVoTan.audio.multiplierFly);var o=t.multiple2.node;o.setPosition(l.Windown.convertNodeInOtherNode(t.multiple1.node,o.parent)),o.scale=.85,o.opacity=150,o.stopAllActions(),o.runAction(cc.sequence(cc.spawn(cc.moveTo(.5/n,0,346.03),cc.scaleTo(.5/n,.6)),cc.callFunc(function(){return s(t,void 0,void 0,function(){return a(this,function(){return l.Windown.MuaDongVoTan.audio.playEffect(l.Windown.MuaDongVoTan.audio.prizeInfobarTotalwin),e(null),[2]})})}),cc.spawn(cc.scaleTo(.2/n,2).easing(cc.easeQuarticActionOut()),cc.fadeOut(.25/n).easing(cc.easeQuarticActionIn()))))}})},r([h(cc.Node)],e.prototype,"topRight",void 0),r([h(cc.Node)],e.prototype,"topLeft",void 0),r([h(cc.Node)],e.prototype,"itemTemp",void 0),r([h(cc.Node)],e.prototype,"nodeTitle",void 0),r([h(c.default)],e.prototype,"multiple1",void 0),r([h(c.default)],e.prototype,"multiple2",void 0),r([h(cc.Node)],e.prototype,"lightWinMulti",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Windown":"Windown"}],MuaDongVoTanTotalWin:[function(t,e,n){"use strict";cc._RF.push(e,"51794UTzcpE6IpdQPFnvb9L","MuaDongVoTanTotalWin");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../Scritps/Game/GAME_TYPE"),u=t("../../../Scritps/Network/ConectManager"),p=t("../../../Scritps/Other/LbMonoSpace"),h=t("../../../Scritps/Util"),d=t("../../../Scritps/Windown"),f=cc._decorator,y=f.ccclass,g=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.particleEnd=null,e.btnThuThap=null,e}return i(e,t),e.prototype.show=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,p=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),d.Windown.MuaDongVoTan.audio.playEffect(d.Windown.MuaDongVoTan.audio.bgmTotalwinMain),e=[],o=d.Windown.MuaDongVoTan.getMakeDelay(3.4),e.push(o),i=function(){for(;e.length>0;)e.shift().cancle(!1);if(t>1e4){var o=u.ConectManager.getIns().getSFSObj();o.putInt("gt",l.default.MuaDong),o.putInt("mt",t),o.putUtfString("nn",d.Windown.User.nickName),o.putUtfString("dt","fs"),u.ConectManager.getIns().sendRequest(c.REQUEST_CODE.AddBigWin,o)}p.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){p.node.destroy(),n(null),d.Windown.MuaDongVoTan.audio.stopBkgFs()}))),d.Windown.MuaDongVoTan.audio.playClick()},this.scheduleOnce(function(){p.node.once(cc.Node.EventType.TOUCH_END,function(){for(;e.length>0;)e.shift().cancle(!0)})},.5),this.label.time=3.4,this.label.setMoney(t),[4,o.prosime];case 1:return a.sent(),this.node.targetOff(this),r=d.Windown.MuaDongVoTan.getMakeDelay(6),e.push(r),this.label.setMoneyNoTime(t),this.label.node.parent.runAction(cc.sequence(cc.scaleTo(.15,1.1),cc.callFunc(function(){p.particleEnd.resetSystem()}),cc.scaleTo(.15,.95))),this.btnThuThap.active=!0,this.btnThuThap.opacity=0,this.btnThuThap.runAction(cc.fadeIn(.5)),this.btnThuThap.once("click",i),d.Windown.MuaDongVoTan.audio.stopEffect(d.Windown.MuaDongVoTan.audio.bgmTotalwinMain),d.Windown.MuaDongVoTan.audio.playEffect(d.Windown.MuaDongVoTan.audio.bgmTotalwinEnd),[4,r.prosime];case 2:return a.sent(),i(),[3,4];case 3:return s=a.sent(),h.Util.ThrowErrProsime(s),[3,4];case 4:return[2]}})})})},r([g(p.default)],e.prototype,"label",void 0),r([g(cc.ParticleSystem)],e.prototype,"particleEnd",void 0),r([g(cc.Node)],e.prototype,"btnThuThap",void 0),r([y],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],MuaDongVoTanView:[function(t,e,n){"use strict";cc._RF.push(e,"ad1c2baurhGsbsovbOXjqRK","MuaDongVoTanView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/EVENT_MANAGER"),l=t("../../../Scritps/DefineTs/PlayerPP"),u=t("../../../Scritps/DefineTs/REQUEST_CODE"),p=t("../../../Scritps/DefineTs/StateReelSlot"),h=t("../../../Scritps/DefineTs/TextDefine"),d=t("../../../Scritps/Game/GAME_TYPE"),f=t("../../../Scritps/Network/ConectManager"),y=t("../../../Scritps/Obs/LbMoneyChange"),g=t("../../../Scritps/Other/LbMonoSpace"),m=t("../../../Scritps/Other/MakeDelay"),v=t("../../../Scritps/Util"),S=t("../../../Scritps/Windown"),b=t("./MuaDongVoTanAsset"),w=t("./MuaDongVoTanAudio"),_=t("./MuaDongVoTanEffect"),C=t("./MuaDongVoTanInfoBarController"),T=t("./MuaDongVoTanItemSlot"),I=t("./MuaDongVoTanLichSu"),W=t("./MuaDongVoTanSpinNormal"),M=t("./MuaDongVoTanTopWin"),E=cc._decorator,R=E.ccclass,A=E.property,B=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.asset=null,e.bkgSprite=null,e.effect=null,e.parentItem=null,e.itemSlotTemplate=null,e.parentItemFront=null,e.parentEffect=null,e.labelChipReviceInBox=null,e.lb_totalBet=null,e.lb_FSLeft=null,e.lb_TotalLine=null,e.lb_CountAuto=null,e.infoBar=null,e.btnSpin=null,e.mask=null,e.nodeChooseAuto=null,e.audio=null,e.listNodeDeactive=[],e.nodeBtnPlay=null,e.nodeBtnSeting=null,e.toggleTurbo=null,e.btnStartAuto=null,e.leftBar=null,e.rightBar=null,e.ui_bg_top=null,e.ui_bg_bottom=null,e.ib_bar_a_bns=null,e.topWin=null,e.popupFreeSpin=null,e.nodeFreeSpin=null,e.snow=null,e.listColum=[],e.listResult=null,e.listViewAdd=null,e.listResultConvert=[],e.listConfigBet=[],e.gameType=-1,e.sfs=null,e.roomSFS=null,e.stateReel=0,e.totalLineBet=10,e.curRoomBet=50,e.funEnd=null,e.isShowBtnPlay=!0,e.dataFinish=null,e.sfsObjTest=null,e.stateSpin=null,e.makeDelay=null,e.currentTotalLine=1,e.agWin=0,e.freeSpinNumber=0,e._isFreeSpin=!1,e._popupLichSu=null,e}return i(e,t),e.prototype.onLoad=function(){S.Windown.MuaDongVoTan=this,this.makeDelay=new m.default(this),cc.log("start slot ai cap"),this.gameType=d.default.MuaDong,this.sfs=f.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(c.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),cc.systemEvent.on(c.EVENT_MANAGER.LOGIN,this.onLogin,this),this.stateReel=p.default.WAITING,this.stateSpin=new W.default,this.sendJoinRoom(),this.activeMask(!1),this.setBackgroundGame(!1),this.initSnow()},e.prototype.onLogin=function(){this.sendJoinRoom()},e.prototype.sendJoinRoom=function(){var t=f.ConectManager.getIns().getSFSObj();t.putInt("gameType",d.default.MuaDong),t.putInt("roomType",-1),t.putInt("mark",-1),f.ConectManager.getIns().sendRequest(u.REQUEST_CODE.GetIdJoinRoom,t)},e.prototype.onDisconnect=function(){cc.log("disconnect"),S.Windown.UIManager.hideLoading(),S.Windown.UIManager.hideLoadingData(),cc.director.loadScene("main")},e.prototype.userExitRoom=function(t){cc.log("user exit room"),"SlotMD"==t.room.groupId&&t.user.isItMe&&cc.director.loadScene("main")},e.prototype.onCreateError=function(){cc.log("creat errr"),S.Windown.UIManager.hideLoading(),cc.director.loadScene("main"),S.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM)},e.prototype.onJoinRoom=function(t){var e=t.room;if("SlotMD"==e.groupId){this.roomSFS=e,S.Windown.UIManager.hideLoadingData();var n=e.getVariable("cf").value;cc.log(n);var o=[],i=JSON.parse(n);for(var r in i){var s=Object.create(null);s.bet=parseInt(r),s.perJp=i[r].percentPot/100,o.push(s)}o.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=o,this.curRoomBet=this.listConfigBet[0].bet,this.lb_totalBet.string=S.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),S.Windown.UIManager.hideLoading(),S.Windown.UIManager.hideLoadingData(),S.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM),cc.director.loadScene("main")},e.prototype.activeMask=function(){},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(cc.log("extResponse",e),e){case u.REQUEST_CODE.SpinMuaDong:cc.log(S.Windown.SFSObjToJson(n)),this.handleFinish(n);break;case u.REQUEST_CODE.HistoryMuaDong:this._popupLichSu&&this._popupLichSu.responseServer(n);break;case u.REQUEST_CODE.HistoryChiTietMuaDong:this._popupLichSu&&this._popupLichSu.responseServerChiTiet(n);break;case u.REQUEST_CODE.REQUEST_GET_LastSpin_SLOT:this.handleGetLastSpinSlot(n)}},e.prototype.handleGetLastSpinSlot=function(t){var e=t.get("t"),n=t.get("iF");if(e==d.default.MuaDong&&n&&null==this.dataFinish){var o=t.get("d"),i=o.get("FreeSpin");return console.log("curren mutil: "+o.get("bonus")),this.stateSpin.lastFreeSpinLeft=i,this.stateSpin.freeSpinLeft=i-1,this.lb_FSLeft.setMoneyNoTime(this.stateSpin.freeSpinLeft),this.effect.switchFS(!0),console.log(S.Windown.SFSObjToJson(o)),this.topWin.initCurrentMutil(o.get("bonus")),void this.onClickBtnSpin()}e==d.default.MuaDong&&this.stateReel==p.default.RUN&&(!t.containsKey("d")||this.dataFinish&&S.Windown.SFSObjToJson(this.dataFinish)==S.Windown.SFSObjToJson(t.get("d"))?this.sendClickSpin():this.handleFinish(t.get("d")))},e.prototype.handleFinish=function(t){var e=this;if(t.containsKey(l.PlayerPP.ERR_MESSAGE))return this.stateSpin.handleErrSpin(),S.Windown.Dialog.showLog(t.get(l.PlayerPP.ERR_MESSAGE)),this.activeAllBtn(),void this.onClickResetCountAuto();this.dataFinish=t,this.agWin=this.dataFinish.get("agWin"),this.isScatter3=this.dataFinish.get("isScatter3"),this.freeSpinNumber=this.dataFinish.get("FreeSpin"),S.Windown.MoneyUser.pushDelayMoney(this.gameType,this.dataFinish.get("agUser"),this.agWin),this.truTienBet(this.dataFinish.get("agBet")*this.totalLineBet,this.dataFinish.get("agUser")),this.listResult=t.get("views"),this.listViewAdd=t.get("viewAdd"),this.listResultConvert=this.convertResult(this.listResult,this.listViewAdd,JSON.parse(S.Windown.SFSArrToJson(t.get("listItemWin")))),this.stateReel=p.default.CAN_STOP;var n=this.stateSpin.isMaxSpeed?0:.2;this.scheduleOnce(this.funEnd=function(){e.stateSpin.onEnd()},n)},e.prototype.checkIdWin=function(t,e,n){if(null==n&&(n=this.listResultConvert),null==n[0])return!1;for(var o=0,i=n[0].listItemWin;o<i.length;o++){var r=i[o],s=t==r.symbol&&e<=r.stack;if(s)return s}return!1},e.prototype.checkIdWildWin=function(t,e){if(null==e&&(e=this.listResultConvert),null==e[0])return!1;for(var n=0,o=e[0].listItemWin;n<o.length;n++){var i=t<=o[n].stack;if(i)return i}return!1},e.prototype.onDestroy=function(){S.Windown.MuaDongVoTan=null,this.dataFinish&&(S.Windown.MoneyUser.removeDelay(this.gameType),this.dataFinish=null),S.Windown.MoneyUser.endGameMOney(this.gameType),cc.systemEvent.removeAll(this),this.roomSFS=null,this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse)},e.prototype.start=function(){var t=this;this.setupView(),this.initItem(),cc.sys.isNative||this.scheduleOnce(function(){return s(t,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,S.Windown.loadBundle(d.default.MuaDong.toString())];case 1:return t.sent().loadDir("Spine",function(){}),[2]}})})},3),this.parentItem.on(cc.Node.EventType.POSITION_CHANGED,function(){t.parentEffect.setPosition(t.parentItem.position),t.parentItemFront.setPosition(t.parentItem.position)}),this.parentEffect.setPosition(this.parentItem.position),this.parentItemFront.setPosition(this.parentItem.position)},e.prototype.initSnow=function(){for(var t=this,e=0;e<8;e++){var n=S.Windown.RandomNumber(5,8),o=cc.instantiate(this.snow);o.parent=this.snow.parent,o.position=cc.v3(S.Windown.RandomNumber(-390,300),1300,0),o.runAction(cc.sequence(cc.delayTime(e),cc.moveTo(n,cc.v2(o.position.x+190,-680)),cc.removeSelf()))}this.schedule(function(){for(var e=0;e<8;e++){var n=S.Windown.RandomNumber(5,8),o=cc.instantiate(t.snow);o.parent=t.snow.parent,o.scale=(.15,.25,.1*Math.random()+.15),o.position=cc.v3(S.Windown.RandomNumber(-390,300),1300,0),o.runAction(cc.sequence(cc.delayTime(S.Windown.RandomNumber(0,8)),cc.moveTo(n,cc.v2(o.position.x+190,-680)),cc.removeSelf()))}},8)},e.prototype.initItem=function(){this.itemSlotTemplate=cc.instantiate(this.parentItem.children[2]);for(var t=0;t<3;t++){var e=this.parentItem.children[t+2];null==e&&((e=cc.instantiate(this.itemSlotTemplate)).parent=this.parentItem);var n=e.getComponent(T.default);this.listColum.push(n),n.index=t,n.node.x=187*t+93.5+5*t,n.node.y=0,n.setResultFirtGame()}this.parentItem.width=576,cc.log("wild la: "+this.parentItem.width)},e.prototype.setupView=function(){var t=cc.find("Game",this.node);if(cc.sys.isMobile)e=1280/720;else{var e=cc.view.getDesignResolutionSize().height/1280;t.setScale(e,e,e),this.bkgSprite.setContentSize(cc.winSize),S.Windown.UIManager.changeRotation(!0)}},e.prototype.sendClickSpin=function(){if(null!=this.sfsObjTest)return f.ConectManager.getIns().sendRequest("testSpin",this.sfsObjTest,this.roomSFS),this.sfsObjTest=null,void cc.log("send test ne");var t=f.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),f.ConectManager.getIns().sendRequest(u.REQUEST_CODE.SpinMuaDong,t,this.roomSFS)},e.prototype.onClickBtnSpin=function(){return s(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:if(n.trys.push([0,7,,8]),this.stateReel!=p.default.WAITING)return[3,5];this.audio.playEffect(this.audio.spinBtn),this.stateReel=p.default.RUN,this.setStateEffBtnSpin(),this.offAllBtn(),this.btnSpin.getComponent(cc.Animation).play(),this.infoBar.reset(),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.stateSpin.onStart()];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),v.Util.ThrowErrProsime(t),[3,4];case 4:return this.sendClickSpin(),[3,6];case 5:this.stateReel==p.default.CAN_STOP&&(this.stateSpin.isMaxSpeed||(this.unschedule(this.funEnd),this.stateSpin.onForceEnd(),this.stateReel=p.default.RUN)),n.label=6;case 6:return[3,8];case 7:return e=n.sent(),v.Util.ThrowErrProsime(e),[3,8];case 8:return[2]}})})},e.prototype.showContentTip=function(){},e.prototype.resetForNewGame=function(){this.stateReel=p.default.WAITING,this.setStateEffBtnSpin()},e.prototype.resetLbTotalLine=function(){},e.prototype.clearAllMakeDelay=function(){this.makeDelay.clear()},e.prototype.setStateEffBtnSpin=function(){var t=cc.find("sb_button_frame/sb_arrow",this.btnSpin);if(this.stateReel!=p.default.STOP){var e=cc.Material.getBuiltinMaterial("2d-sprite");t.getComponent(cc.Sprite).setMaterial(0,e)}if(this.stateReel==p.default.WAITING||this.stateReel==p.default.SHOW_EFFECT)t.stopAllActions(),t.runAction(cc.repeatForever(cc.rotateBy(3,-360)));else if(this.stateReel==p.default.RUN)cc.log("play anim"),t.stopAllActions(),t.runAction(cc.repeatForever(cc.rotateBy(.3,-360))),this.infoBar.showRdContent();else if(this.stateReel==p.default.STOP){t.stopAllActions();var n=cc.Material.getBuiltinMaterial("2d-gray-sprite");t.getComponent(cc.Sprite).setMaterial(0,n)}},e.prototype.setLbFreeSpinLeft=function(t){var e=this.lb_FSLeft.node.parent;this.lb_FSLeft.setMoneyNoTime(t),t<1?(cc.find("last_spin",e).active=!0,cc.find("remaining_spin",e).active=!1,this.lb_FSLeft.node.active=!1):(cc.find("last_spin",e).active=!1,cc.find("remaining_spin",e).active=!0,this.lb_FSLeft.node.active=!0)},e.prototype.setCountAuto=function(t){this.lb_CountAuto.node.parent.active=!(t<1),this.lb_CountAuto.setMoneyNoTime(t)},e.prototype.setBackgroundGame=function(t){void 0===t&&(t=!1),this.ui_bg_top.children[0].active=t,this.leftBar.children[0].active=t,this.rightBar.children[0].active=t,this.ui_bg_top.children[0].active=t,this.ui_bg_bottom.children[0].active=t,this.nodeFreeSpin.active=t,this.nodeBtnPlay.position=cc.v3(0,t?-240:0,0),this._isFreeSpin=t},e.prototype.showMoneyAllWin=function(t){cc.log("money win: "+t),this.labelChipReviceInBox.setMoney(t),S.Windown.MoneyUser.removeDelay(this.gameType)},e.prototype.offLbFree=function(){this.lb_FSLeft.node.parent.active=!1},e.prototype.onClickSendObjTest=function(){var t=f.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),t.putUtfString("arr",JSON.stringify([[{size:1,typeItem:0,idItem:11},{size:1,typeItem:0,idItem:-1},{size:1,typeItem:0,idItem:1},{size:1,typeItem:0,idItem:-1}],[{size:1,typeItem:0,idItem:8},{size:1,typeItem:0,idItem:-1},{size:1,typeItem:0,idItem:11},{size:1,typeItem:0,idItem:7}],[{size:1,typeItem:0,idItem:11},{size:1,typeItem:0,idItem:4},{size:1,typeItem:0,idItem:1},{size:1,typeItem:0,idItem:1}]])),this.sfsObjTest=t,this.onClickBtnSpin()},e.prototype.onClickTest=function(){var t=f.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),t.putUtfString("arr",JSON.stringify({agWin:96e3,bonus:4,FreeSpin:0,listItemWin:[{symbol:2,agWin:12e3,sizeSymBol:12},{symbol:2,agWin:12e3,sizeSymBol:12}],agUser:339600,isScatter3:!1,agBet:100,views:[[[{size:1,typeItem:0,idItem:3},{size:1,typeItem:0,idItem:2},{size:1,typeItem:0,idItem:2},{size:1,typeItem:0,idItem:3}],[{size:1,typeItem:0,idItem:2},{size:1,typeItem:0,idItem:1},{size:1,typeItem:0,idItem:8},{size:1,typeItem:0,idItem:0}],[{size:1,typeItem:0,idItem:7},{size:1,typeItem:0,idItem:5},{size:1,typeItem:0,idItem:2},{size:1,typeItem:0,idItem:10}]]],viewAdd:[[[{size:1,typeItem:0,idItem:3},{size:1,typeItem:0,idItem:2},{size:1,typeItem:0,idItem:2},{size:1,typeItem:0,idItem:3}],[{size:1,typeItem:0,idItem:2},{size:1,typeItem:0,idItem:1},{size:1,typeItem:0,idItem:8},{size:1,typeItem:0,idItem:0}],[{size:1,typeItem:0,idItem:7},{size:1,typeItem:0,idItem:5},{size:1,typeItem:0,idItem:2},{size:1,typeItem:0,idItem:10}]]]})),this.sfsObjTest=t,this.onClickBtnSpin()},e.prototype.onClickResetCountAuto=function(){this.stateSpin.countAutoSpin=0,this.lb_CountAuto.node.parent.active=!1,S.Windown.MuaDongVoTan.audio.playClick()},e.prototype.onClickItemAutoSpin=function(t){S.Windown.MuaDongVoTan.audio.playClick(),this.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer).allowSwitchOff=!1;var e=t.node.name,n=Number(e);this.stateSpin.countAutoSpin=n,this.btnStartAuto.interactable=!0,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#FF8E26")},e.prototype.onClickStartAutoSpin=function(){this.onClickBtnSpin(),this.onClickCloseListAuto(),S.Windown.MuaDongVoTan.stateSpin.countAutoSpin>0&&S.Windown.MuaDongVoTan.setCountAuto(S.Windown.MuaDongVoTan.stateSpin.countAutoSpin)},e.prototype.onClickShowListAuto=function(){S.Windown.MuaDongVoTan.audio.playClick(),this.nodeChooseAuto.active=!0,this.nodeChooseAuto.opacity=0,this.nodeChooseAuto.runAction(cc.fadeIn(.3)),this.btnStartAuto.interactable=!1,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#E79CCF")},e.prototype.onClickCloseListAuto=function(){var t=this;S.Windown.MuaDongVoTan.audio.playClick(),this.nodeChooseAuto.stopAllActions(),this.nodeChooseAuto.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){var e=t.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer);e.allowSwitchOff=!0,e.toggleItems.forEach(function(t){t.isChecked&&t.uncheck()}),t.nodeChooseAuto.active=!1,t.btnStartAuto.interactable=!1,t.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#E79CCF")})))},e.prototype.convertResult=function(t,e,n){var o=[];return S.Windown.foreachSFSArray(t,function(i){var r=Object.create(null);r.listSFSObj=[],r.listItemWin=[],r.listViewAdd=[],S.Windown.foreachSFSArray(i,function(e,o){var i=[];if(S.Windown.foreachSFSArray(e,function(t){i.push(t)}),r.listSFSObj.push(i),o==t.size()-1)for(var s=0;s<n.length;s++){var a=n[s];a&&(a.stack=JSON.parse(a.stack),a.agWin=JSON.parse(a.agWin),a.symbol=JSON.parse(a.symbol),r.listItemWin.push(a))}}),S.Windown.foreachSFSArray(e,function(t){var e=[];S.Windown.foreachSFSArray(t,function(t){e.push(t)}),r.listViewAdd.push(e)}),o.push(r)}),o},e.prototype.onClickChangeBet=function(t,e){if(S.Windown.MuaDongVoTan.audio.playClick(),this.listConfigBet.length<1)S.Windown.Dialog.showLog(h.TextDefine.Error);else{var n=-1;for(var o in this.listConfigBet)if(this.listConfigBet[o].bet==this.curRoomBet){n=parseInt(o);break}0==e?n--:n++,n<0&&(n=this.listConfigBet.length-1),n>this.listConfigBet.length-1&&(n=0),this.curRoomBet=this.listConfigBet[n].bet,this.lb_totalBet.string=S.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.onClickCachChoi=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return S.Windown.MuaDongVoTan.audio.playClick(),S.Windown.UIManager.showLoading(),[4,S.Windown.loadRes(this.gameType.toString(),"Frefabs/CachChoi",cc.Prefab)];case 1:return t=e.sent(),cc.instantiate(t).parent=S.Windown.MuaDongVoTan.node.getChildByName("Game"),S.Windown.UIManager.hideLoading(),[2]}})})},e.prototype.onClickBackToLobby=function(){S.Windown.MuaDongVoTan.audio.playClick(),this.roomSFS?f.ConectManager.getIns().sendLeaveRoom(this.roomSFS):cc.director.loadScene("main")},e.prototype.onClickTurbo=function(){S.Windown.MuaDongVoTan.audio.playClick();var t=this.toggleTurbo.isChecked;this.toggleTurbo.node.children[1].active=!t,this.stateSpin.isMaxSpeed=t,t?S.Windown.UIManager.showAlertMini("B\u1eadt T\u0103ng T\u1ed1c"):S.Windown.UIManager.showAlertMini("T\u1eaft T\u0103ng T\u1ed1c")},e.prototype.onClickSeting=function(){if(S.Windown.MuaDongVoTan.audio.playClick(),cc.log("click onClickSeting"),this.isShowBtnPlay=!this.isShowBtnPlay,this.isShowBtnPlay)t=cc.v2(0,-750),this.nodeBtnPlay.runAction(cc.fadeIn(.4)),this.nodeBtnSeting.runAction(cc.spawn(cc.fadeOut(.3),cc.moveTo(.3,t)));else{this.nodeBtnPlay.stopAllActions(),this.nodeBtnSeting.stopAllActions();var t=cc.v2(0,-525.279);this.nodeBtnPlay.runAction(cc.fadeOut(.3)),this.nodeBtnSeting.opacity=0,this.nodeBtnSeting.runAction(cc.spawn(cc.fadeIn(.4),cc.moveTo(.4,t)))}},e.prototype.getMakeDelay=function(t){return this.makeDelay.getDelay(t)},e.prototype.activeAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!0,t.node.children.forEach(function(t){t.color=cc.Color.fromHEX(new cc.Color,"#E79CCF")})})},e.prototype.offAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!1,t.node.children.forEach(function(t){t.color=cc.Color.fromHEX(new cc.Color,"#999999")})})},e.prototype.truTienBet=function(t,e){0!=t&&S.Windown.MoneyUser.subMoney(t,e)},e.prototype.effectShake=function(t,e){void 0===t&&(t=.2),void 0===e&&(e=10)},e.prototype.onClickLichSu=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return S.Windown.MuaDongVoTan.audio.playClick(),S.Windown.UIManager.showLoading(),[4,S.Windown.loadRes(this.gameType.toString(),"Frefabs/LichSu",cc.Prefab)];case 1:return t=e.sent(),this._popupLichSu=cc.instantiate(t).getComponent(I.default),this._popupLichSu.node.parent=S.Windown.MuaDongVoTan.node.getChildByName("Game"),this._popupLichSu.show(),[2]}})})},e.prototype.update=function(){},e.prototype.activeLightHover=function(){},r([A(b.default)],e.prototype,"asset",void 0),r([A(cc.Node)],e.prototype,"bkgSprite",void 0),r([A(_.default)],e.prototype,"effect",void 0),r([A(cc.Node)],e.prototype,"parentItem",void 0),r([A(cc.Node)],e.prototype,"parentItemFront",void 0),r([A(cc.Node)],e.prototype,"parentEffect",void 0),r([A(y.default)],e.prototype,"labelChipReviceInBox",void 0),r([A(cc.Label)],e.prototype,"lb_totalBet",void 0),r([A(g.default)],e.prototype,"lb_FSLeft",void 0),r([A(cc.Label)],e.prototype,"lb_TotalLine",void 0),r([A(g.default)],e.prototype,"lb_CountAuto",void 0),r([A(C.default)],e.prototype,"infoBar",void 0),r([A(cc.Node)],e.prototype,"btnSpin",void 0),r([A(cc.Node)],e.prototype,"mask",void 0),r([A(cc.Node)],e.prototype,"nodeChooseAuto",void 0),r([A(w.default)],e.prototype,"audio",void 0),r([A([cc.Button])],e.prototype,"listNodeDeactive",void 0),r([A(cc.Node)],e.prototype,"nodeBtnPlay",void 0),r([A(cc.Node)],e.prototype,"nodeBtnSeting",void 0),r([A(cc.Toggle)],e.prototype,"toggleTurbo",void 0),r([A(cc.Button)],e.prototype,"btnStartAuto",void 0),r([A(cc.Node)],e.prototype,"leftBar",void 0),r([A(cc.Node)],e.prototype,"rightBar",void 0),r([A(cc.Node)],e.prototype,"ui_bg_top",void 0),r([A(cc.Node)],e.prototype,"ui_bg_bottom",void 0),r([A(cc.Node)],e.prototype,"ib_bar_a_bns",void 0),r([A(M.default)],e.prototype,"topWin",void 0),r([A(cc.Node)],e.prototype,"popupFreeSpin",void 0),r([A(cc.Node)],e.prototype,"nodeFreeSpin",void 0),r([A(cc.Node)],e.prototype,"snow",void 0),r([R],e)}(cc.Component);n.default=B,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../../Scritps/DefineTs/PlayerPP":"PlayerPP","../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Other/MakeDelay":"MakeDelay","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./MuaDongVoTanAsset":"MuaDongVoTanAsset","./MuaDongVoTanAudio":"MuaDongVoTanAudio","./MuaDongVoTanEffect":"MuaDongVoTanEffect","./MuaDongVoTanInfoBarController":"MuaDongVoTanInfoBarController","./MuaDongVoTanItemSlot":"MuaDongVoTanItemSlot","./MuaDongVoTanLichSu":"MuaDongVoTanLichSu","./MuaDongVoTanSpinNormal":"MuaDongVoTanSpinNormal","./MuaDongVoTanTopWin":"MuaDongVoTanTopWin"}],MultiControlMatTroi:[function(t,e,n){"use strict";cc._RF.push(e,"ed0dfBjo59Am5DM+R7ndcYX","MultiControlMatTroi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Other/LbMonoSpace"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeMultil=null,e.nodeMultilFade=null,e.curentMutil=0,e.resolve=null,e}return i(e,t),e.prototype.start=function(){this.nodeMultilFade.opacity=0},e.prototype.take=function(){this.nodeMultil.getComponentInChildren(s.default).string="x"+this.curentMutil.toString(),this.nodeMultilFade.getComponentInChildren(s.default).string="x"+this.curentMutil.toString()},e.prototype.startFreeSpin=function(){this.curentMutil=2,this.nodeMultil.getComponentInChildren(s.default).string="x"+this.curentMutil.toString(),this.nodeMultilFade.getComponentInChildren(s.default).string="x"+this.curentMutil.toString(),this.nodeMultil.opacity=255},e.prototype.endTakeMultil=function(){var t=this;return new Promise(function(e){t.curentMutil>0?(t.nodeMultil.stopAllActions(),t.nodeMultil.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3,.8).easing(cc.easeQuinticActionIn()),cc.moveTo(.3,0,-138).easing(cc.easeQuinticActionIn())),cc.callFunc(function(){t.getComponent(cc.Animation).play("TakeMutilIB"),t.nodeMultilFade.opacity=0,t.nodeMultilFade.scale=.8,t.nodeMultilFade.stopAllActions(),t.nodeMultilFade.runAction(cc.spawn(cc.fadeTo(.1,120),cc.scaleTo(.5,2).easing(cc.easeQuinticActionOut()),cc.sequence(cc.delayTime(.4),cc.fadeOut(.1).easing(cc.easeQuinticActionOut())))),e(null),t.resolve=null}),cc.moveTo(.3,0,-280).easing(cc.easeQuinticActionOut())))):e(null)})},e.prototype.resetForNextSpin=function(){},r([l(cc.Node)],e.prototype,"nodeMultil",void 0),r([l(cc.Node)],e.prototype,"nodeMultilFade",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace"}],MultiEffectDuaXe:[function(t,e,n){"use strict";cc._RF.push(e,"49095xplEFEf5/8eAlOdll1","MultiEffectDuaXe");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.MultiEffectDuaXe=void 0;var c=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Windown"),u=t("../../../Scritps/Util"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbMultiTotalFS=null,e.nodeTakeTotalMulti=null,e}return i(e,t),e.prototype.start=function(){this.lbMultiTotalFS.node.parent.active=!1},e.prototype.checkShowMultiSymbol=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i;return a(this,function(){try{e=l.Windown.DuaXe.stateSpin.isMaxSpeed?.75:1,o=cc.instantiate(t.spriteItem.node),t.showEffMulti(!0),o.getComponent(cc.Sprite).spriteFrame=t.spriteItem.spriteFrame,o.parent=this.node,i=l.Windown.convertWorldPointInOtherNode(t.node.convertToWorldSpaceAR(t.spriteItem.node.position),this.node),o.setPosition(i),o.setScale(cc.v3(2/3,2/3)),cc.tween(o).to(.3*e,{scale:1.4},{easing:"sineOut"}).to(.4*e,{position:cc.v3(0,100),scale:.3,opacity:200},{easing:"sineIn"}).to(.1,{opacity:0}).call(function(){o.destroy()}).start(),this.scheduleOnce(function(){n(null)},.5*e)}catch(r){u.Util.ThrowErrProsime(r)}return[2]})})})},e.prototype.mergeCurrentMultiTotal=function(){var t=cc.instantiate(this.lbMultiTotalFS.node.parent);t.parent=this.node,t.setPosition(l.Windown.convertNodeInOtherNode(this.lbMultiTotalFS.node.parent,this.node)),this.lbMultiTotalFS.node.parent.opacity=150;var e=l.Windown.DuaXe.stateSpin.isMaxSpeed?.75:1;cc.tween(t).to(.3*e,{scale:2.5},{easing:"backOut"}).to(.4*e,{position:cc.v3(0,100),scale:.3,opacity:200},{easing:"sineIn"}).to(.1*e,{opacity:0}).call(function(){t.destroy()}).start()},e.prototype.showEffectMergeMulti=function(t,e){return void 0===e&&(e=!1),s(this,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return null==this.nodeTakeTotalMulti&&(this.nodeTakeTotalMulti=l.Windown.DuaXe.asset.getNodeTakeToltaMulti(),this.nodeTakeTotalMulti.node.setParent(this.node),this.nodeTakeTotalMulti.node.setPosition(cc.v3(0,100))),[4,this.nodeTakeTotalMulti.show(t,!e)];case 1:return n.sent(),l.Windown.DuaXe.activeMask(!1),[2]}})})},e.prototype.showEffectPushUpMulti=function(){var t=l.Windown.DuaXe.stateSpin.isMaxSpeed?.75:1,e=this.lbMultiTotalFS.node.parent;e.active=!0,e.opacity=255,this.lbMultiTotalFS.string=l.Windown.DuaXe.bonus+"",cc.tween(e).set({position:cc.v3(e.position.x,-359.527)}).to(.5*t,{position:cc.v3(e.position.x,-247.069)},{easing:"backOut"}).start()},e.prototype.showEffectCurrentMultiWin=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){return[2,new Promise(function(e){return s(t,void 0,void 0,function(){var t,n;return a(this,function(){try{t=l.Windown.DuaXe.stateSpin.isMaxSpeed?.75:1,(n=cc.instantiate(this.lbMultiTotalFS.node.parent)).parent=this.lbMultiTotalFS.node.parent.parent,n.opacity=0,n.active=!0,l.Windown.DuaXe.audio.playEffect(l.Windown.DuaXe.audio.textBonusJump),cc.tween(n).to(.2*t,{scale:1.6,opacity:200},{easing:"sineOut"}).to(.2*t,{position:cc.v3(n.position.x,-335),scale:1.1},{easing:"sineIn"}).to(.2*t,{opacity:0}).call(function(){n.destroy(),e(null)}).start()}catch(o){u.Util.ThrowErrProsime(o)}return[2]})})})]})})},e.prototype.checkAndShowTotalMulti=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return l.Windown.DuaXe.stateSpin.freeSpinLeft>0?0!=l.Windown.DuaXe.currentBonusFS||0==l.Windown.DuaXe.bonus?[3,5]:l.Windown.DuaXe.dataFinish.agWin>0?[4,this.showEffectMergeMulti(l.Windown.DuaXe.bonus,!0)]:[3,2]:[3,13];case 1:return e.sent(),this.showEffectPushUpMulti(),[3,4];case 2:return[4,this.showEffectMergeMulti(l.Windown.DuaXe.bonus,!1)];case 3:e.sent(),t=this.lbMultiTotalFS.node.parent,this.lbMultiTotalFS.string=l.Windown.DuaXe.bonus+"",t.active=!0,t.opacity=255,t.setPosition(cc.v3(this.lbMultiTotalFS.node.parent.position.x,-247)),e.label=4;case 4:return[3,12];case 5:return 0!=l.Windown.DuaXe.dataFinish.agWin?[3,8]:l.Windown.DuaXe.currentBonusFS==l.Windown.DuaXe.bonus?[3,7]:[4,this.showEffectMergeMulti(l.Windown.DuaXe.bonus,!1)];case 6:e.sent(),t=this.lbMultiTotalFS.node.parent,this.lbMultiTotalFS.string=l.Windown.DuaXe.bonus+"",t.active=!0,t.opacity=255,t.setPosition(cc.v3(this.lbMultiTotalFS.node.parent.position.x,-247)),e.label=7;case 7:return[3,12];case 8:return l.Windown.DuaXe.currentBonusFS!=l.Windown.DuaXe.bonus?[3,10]:[4,this.showEffectCurrentMultiWin()];case 9:return e.sent(),[3,12];case 10:return[4,this.showEffectMergeMulti(l.Windown.DuaXe.bonus,!0)];case 11:e.sent(),this.showEffectPushUpMulti(),e.label=12;case 12:return[3,15];case 13:return l.Windown.DuaXe.bonus>0&&l.Windown.DuaXe.dataFinish.agWin>0?[4,this.showEffectMergeMulti(l.Windown.DuaXe.bonus,!0)]:[3,15];case 14:e.sent(),e.label=15;case 15:return[2]}})})},r([d(c.default)],e.prototype,"lbMultiTotalFS",void 0),r([h],e)}(cc.Component);n.MultiEffectDuaXe=f,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],MutilControlAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"7e088UpPspB3JqyTI9wgfzL","MutilControlAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentItemMutil=null,e.lbMutil=null,e.listLbMutil=[],e.parentLightActive=null,e.parentLightReelActive=null,e.parentHaoQuangActive=null,e.nodeHaoQuangStart=null,e._isFs=!1,e}return i(e,t),e.prototype.start=function(){this.parentLightActive.children.forEach(function(t){return t.active=!1}),this.parentLightReelActive.children.forEach(function(t){return t.active=!1}),this.parentHaoQuangActive.children.forEach(function(t){return t.active=!1}),this.listLbMutil.forEach(function(t){t.string="0",t.node.parent.active=!1}),this._isFs=!1,this.nodeHaoQuangStart.active=!1},e.prototype.startFreeSpin=function(){var t=this;this._isFs=!0,this.nodeHaoQuangStart.active=!0,this.nodeHaoQuangStart.opacity=0,u.Windown.Asgard.audio.playEffectNoStop(u.Windown.Asgard.audio.fsIntro),this.nodeHaoQuangStart.runAction(cc.sequence(cc.fadeIn(.3),cc.callFunc(function(){t.listLbMutil.forEach(function(e,n){var o=e;o.node.parent.runAction(cc.fadeIn(.3)),o.string="2";var i=o.node.parent;i.active=!0,i.opacity=0,i.scale=0,i.stopAllActions(),i.runAction(cc.spawn(cc.fadeIn(.3),cc.scaleTo(.3,1).easing(cc.easeBackOut())));var r=t.parentHaoQuangActive.children[n];r.active=!0,r.opacity=255,r.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){r.active=!1}))),i.y=21,i.runAction(cc.repeatForever(cc.sequence(cc.moveBy(1.4,0,-5),cc.moveBy(1.4,0,5))))})}),cc.fadeOut(.7)))},e.prototype.endFreeSpin=function(){this._isFs=!1},e.prototype.mutilUpReel=function(t){var e=this;this.parentLightActive.children.forEach(function(t){t.active&&(t.stopAllActions(),t.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.active=!1}))))}),this.parentLightReelActive.children.forEach(function(t){t.active&&(t.stopAllActions(),t.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.active=!1}))))}),this.listLbMutil.forEach(function(t){var e=t.node.parent;e.y=21,e.stopAllActions(),e.runAction(cc.repeatForever(cc.sequence(cc.moveBy(1.4,0,-5),cc.moveBy(1.4,0,5))))}),t.forEach(function(t,n){var o=e.listLbMutil[n];if(o.node.parent.runAction(cc.fadeIn(.3)),o.string!=t.toString()){o.string=t.toString();var i=o.node.parent;i.active=!0,i.opacity=0,i.scale=0,i.runAction(cc.spawn(cc.fadeIn(.3),cc.scaleTo(.3,1).easing(cc.easeBackOut())));var r=e.parentHaoQuangActive.children[n];r.active=!0,r.opacity=255,r.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){r.active=!1})))}})},e.prototype.effectActiveReel=function(t){var e=this.parentLightActive.children,n=this.parentLightReelActive.children,o=e[t-2],i=n[t-2];o.getNumberOfRunningActions()>0||(o.opacity=0,i.opacity=0,o.active=!0,i.active=!0,o.stopAllActions(),i.stopAllActions(),o.runAction(cc.fadeIn(.2)),i.runAction(cc.fadeIn(.2)))},e.prototype.effectTake=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),t<2?(n(null),[2]):(e=u.Windown.Asgard.stateSpin.isMaxSpeed?2:1,this.listLbMutil.forEach(function(t){if("0"!=t.string){var n=cc.instantiate(t.node.parent);n.parent=t.node.parent.parent,n.runAction(cc.speed(cc.sequence(cc.moveTo(.3,0,n.y).easing(cc.easeSineIn()),cc.callFunc(function(){n.destroy()})),e)),t.node.parent.opacity=80}}),[4,u.Windown.Asgard.getMakeDelay(.2/e).prosime]);case 1:return r.sent(),u.Windown.Asgard.audio.playEffect(u.Windown.Asgard.audio.multiCombine),(o=this.lbMutil.node.parent.parent).active=!0,o.y=0,o.getComponent(cc.Animation).play("EfMulTake").speed=e,this.lbMutil.string=t.toString(),[4,u.Windown.Asgard.getMakeDelay(.5/e).prosime];case 2:return r.sent(),this.lbMutil.node.parent.parent.runAction(cc.sequence(cc.moveTo(.3,cc.v2(0,-153.417)).easing(cc.easeQuadraticActionIn()),cc.callFunc(function(){u.Windown.Asgard.audio.playEffect(u.Windown.Asgard.audio.prizeSmallwinMultiplied),o.active=!1,n(null)}))),[3,4];case 3:return i=r.sent(),l.Util.ThrowErrProsime(i),[3,4];case 4:return[2]}})})})},e.prototype.resetForNextSpin=function(){return s(this,void 0,void 0,function(){return a(this,function(){return this._isFs?this.listLbMutil.forEach(function(t){t.string="2"}):this.listLbMutil.forEach(function(t){var e=t.node.parent;e.runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){t.string="0",e.active=!1})))}),[2]})})},r([d(c.default)],e.prototype,"lbMutil",void 0),r([d([c.default])],e.prototype,"listLbMutil",void 0),r([d(cc.Node)],e.prototype,"parentLightActive",void 0),r([d(cc.Node)],e.prototype,"parentLightReelActive",void 0),r([d(cc.Node)],e.prototype,"parentHaoQuangActive",void 0),r([d(cc.Node)],e.prototype,"nodeHaoQuangStart",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],MutilControlMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"40f5cuTTgJBV7HTk3hxMirE","MutilControlMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,l=c.ccclass,u=c.property,p=t("../../../Scritps/Util"),h=t("../../../Scritps/Windown"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentItemMutil=null,e.nodeLayoutMulti=null,e.nodeLayoutMultiFS=null,e._isFs=!1,e}return i(e,t),e.prototype.start=function(){this._isFs=!1},e.prototype.startFreeSpin=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){return[2,new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i,r,s=this;return a(this,function(a){switch(a.label){case 0:for(a.trys.push([0,2,,3]),i=0;i<this.nodeLayoutMultiFS.children.length;i++)(t=this.nodeLayoutMultiFS.children[i]).children[1].getComponent(cc.Sprite).spriteFrame=h.Windown.MatChuoc.asset.atlasMultiCtr.getSpriteFrame("b_x"+this.getIndexInitFS(i)),t.children.forEach(function(t,e){1!=e?(t.active=!0,"virtual"!=t.name&&(t.opacity=255),"x_active"==t.name&&(t.active=!1)):t.active=!1});for(this._isFs=!0,h.Windown.MatChuoc.audio.playEffect(h.Windown.MatChuoc.audio.multiUpupup),n=function(t){var e=o.nodeLayoutMultiFS.children[t];e.runAction(cc.sequence(cc.delayTime(.2*t),cc.callFunc(function(){e.getComponent(cc.Animation).play("upMultiFS")}),cc.delayTime(.05),cc.callFunc(function(){e.children[1].getComponent(cc.Sprite).spriteFrame=h.Windown.MatChuoc.asset.atlasMultiCtr.getSpriteFrame("b_x"+s.getMulIndex(t))})))},o=this,i=0;i<this.nodeLayoutMultiFS.children.length;i++)n(i);return h.Windown.MatChuoc.audio.playEffectNoStop(h.Windown.MatChuoc.audio.fsIntro),[4,h.Windown.MatChuoc.getMakeDelay(1).prosime];case 1:return a.sent(),this.resetForNextSpin(),e(null),[3,3];case 2:return r=a.sent(),p.Util.ThrowErrProsime(r),[3,3];case 3:return[2]}})})})]})})},e.prototype.endFreeSpin=function(){this.resetForNextSpin(),this._isFs=!1},e.prototype.mutilUpReel=function(t){cc.log("mutilUpReel: "+t)},e.prototype.getIndexInitFS=function(t){return 0==t?"1":1==t?"2":2==t?"3a":3==t?"5":void 0},e.prototype.getMulIndex=function(t){return 0==t?0==this._isFs?"1":"2":1==t?0==this._isFs?"2":"4":2==t?0==this._isFs?"3":"6":3==t?0==this._isFs?"5":"10":void 0},e.prototype.getIndexFromMul=function(t){if(this._isFs)switch(t){case 2:return 0;case 4:return 1;case 6:return 2;case 10:return 3}else switch(t){case 1:return 0;case 2:return 1;case 3:return 2;case 5:return 3}},e.prototype.effectTake=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s;return a(this,function(a){switch(a.label){case 0:if(a.trys.push([0,2,,3]),t<2)return n(null),[2];for(e=h.Windown.MatChuoc.stateSpin.isMaxSpeed?2:1,o=this._isFs?this.nodeLayoutMultiFS:this.nodeLayoutMulti,i=0;i<o.children.length;i++)r=o.children[i],i==this.getIndexFromMul(t)?(r.children.forEach(function(t,e){t.active=1!=e}),r.getComponent(cc.Animation).play("multiTake"),this._isFs?h.Windown.MatChuoc.audio.playEffect(h.Windown.MatChuoc.audio.voxMultiFS[i-1]):h.Windown.MatChuoc.audio.playEffect(h.Windown.MatChuoc.audio.voxMulti[i-1]),console.log("Multi: "+t)):r.children.forEach(function(t,e){t.active=1==e});return[4,h.Windown.MatChuoc.getMakeDelay(.2/e).prosime];case 1:return a.sent(),n(null),[3,3];case 2:return s=a.sent(),p.Util.ThrowErrProsime(s),[3,3];case 3:return[2]}})})})},e.prototype.resetForNextSpin=function(){return s(this,void 0,void 0,function(){var t,e;return a(this,function(){if(this._isFs)for(t=0;t<this.nodeLayoutMultiFS.children.length;t++)e=this.nodeLayoutMultiFS.children[t],0==t?(e.children.forEach(function(t,e){1!=e?(t.active=!0,t.opacity=255):t.active=!1}),t>0&&e.getComponent(cc.Animation).play("multiTake")):e.children.forEach(function(t,e){1!=e?t.active=!1:(t.active=!0,t.opacity=255)});else for(t=0;t<this.nodeLayoutMulti.children.length;t++)e=this.nodeLayoutMulti.children[t],0==t?(e.children.forEach(function(t,e){1!=e?(t.active=!0,t.opacity=255):t.active=!1}),t>0&&e.getComponent(cc.Animation).play("multiTake")):e.children.forEach(function(t,e){1!=e?t.active=!1:(t.active=!0,t.opacity=255)});return[2]})})},e.prototype.setDetailHistory=function(t,e){this.nodeLayoutMulti.active=!1,this.nodeLayoutMultiFS.parent.active=!1,t>0?this.nodeLayoutMulti.active=!0:this.nodeLayoutMultiFS.parent.active=!0;for(var n=0==t?this.nodeLayoutMultiFS:this.nodeLayoutMulti,o=0;o<n.children.length;o++){var i=n.children[o];o==this.getIndexFromMulHistory(0==t,e)?i.children.forEach(function(t,e){1!=e?(t.active=!0,t.opacity=255):t.active=!1}):i.children.forEach(function(t,e){1!=e?t.active=!1:(t.active=!0,t.opacity=255)})}},e.prototype.getIndexFromMulHistory=function(t,e){if(t)switch(e){case 2:return 0;case 4:return 1;case 6:return 2;case 10:return 3}else switch(e){case 1:return 0;case 2:return 1;case 3:return 2;case 5:return 3}},r([u(cc.Node)],e.prototype,"nodeLayoutMulti",void 0),r([u(cc.Node)],e.prototype,"nodeLayoutMultiFS",void 0),r([l],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],MutilControlNeko:[function(t,e,n){"use strict";cc._RF.push(e,"85c6aRtCuBMGLLrllj6syLw","MutilControlNeko");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Util"),l=t("../../../Scritps/Windown"),u=t("./ItemMuitlNeko"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeMultil=null,e.nodeMultilFade=null,e.itemBkgTake=null,e.curentMutil=0,e.resolve=null,e}return i(e,t),e.prototype.start=function(){this.nodeMultilFade.opacity=0},e.prototype.take=function(t,e){var n=1.4,o=1.2,i=120;e&&(n=.9,o=.8,i=-286),this.curentMutil+=2,this.nodeMultil.stopAllActions(),this.nodeMultil.runAction(cc.fadeIn(.1)),this.nodeMultil.runAction(cc.sequence(cc.scaleTo(.1,n).easing(cc.easeSineOut()),cc.scaleTo(.2,o).easing(cc.easeSineIn()),cc.callFunc(function(){t&&t(null)})));var r=cc.instantiate(this.itemBkgTake);r.active=!0,r.y=i,this.node.addChild(r,cc.macro.MIN_ZINDEX),this.node.sortAllChildren();var s=r.children[0],a=r.children[1];s.runAction(cc.fadeIn(.2)),s.runAction(cc.sequence(cc.scaleTo(.1,n).easing(cc.easeSineOut()),cc.scaleTo(.2,o).easing(cc.easeSineIn()),cc.fadeOut(.1))),a.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3,4*n),cc.sequence(cc.delayTime(.2),cc.fadeOut(.2))),cc.callFunc(function(){r.destroy()}))),this.nodeMultil.getComponentInChildren(cc.Label).string="x"+this.curentMutil.toString(),this.nodeMultilFade.getComponentInChildren(cc.Label).string="x"+this.curentMutil.toString()},e.prototype.getListMeoMutil=function(){var t=[];return l.Windown.Neko.itemSlotNekoNgang.getListSymbol().forEach(function(e){e.nodeMutil&&e.nodeMutil.parent&&t.push(e.nodeMutil)}),l.Windown.Neko.listColum.forEach(function(e){e.getListSymbol().forEach(function(e){e.nodeMutil&&e.nodeMutil.parent&&t.push(e.nodeMutil)})}),t},e.prototype.checkTakeMultil=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,p;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,6,,7]),this.resolve=n,(e=this.getListMeoMutil()).length<1?(n(null),[2]):t?[3,4]:[3,1];case 1:return this.curentMutil>0?(this.nodeMultil.stopAllActions(),this.nodeMultil.runAction(cc.spawn(cc.moveTo(.5,0,170),cc.scaleTo(.5,1.2))),[4,l.Windown.Neko.getMakeDelay(.5).prosime]):[3,3];case 2:return a.sent(),[3,4];case 3:0==this.curentMutil&&(this.nodeMultil.setPosition(0,170),this.nodeMultil.opacity=0),a.label=4;case 4:for(o=[],i=0,r=e.length;i<r;i++)s=e[i],i==r-1?o.push(s.getComponent(u.default).moveToMultilLabel(i,this.nodeMultil.getPosition(),this.take,this,t)):s.getComponent(u.default).moveToMultilLabel(i,this.nodeMultil.getPosition(),this.take,this,t);return[4,Promise.race(o)];case 5:return a.sent(),n(null),[3,7];case 6:return p=a.sent(),c.Util.ThrowErrProsime(p),[3,7];case 7:return[2]}})})})},e.prototype.startFreeSpin=function(){this.curentMutil=2,this.nodeMultil.getComponentInChildren(cc.Label).string="x"+this.curentMutil.toString(),this.nodeMultilFade.getComponentInChildren(cc.Label).string="x"+this.curentMutil.toString(),this.nodeMultil.opacity=255},e.prototype.endTakeMultil=function(){var t=this;return new Promise(function(e){t.curentMutil>0?(t.nodeMultil.stopAllActions(),t.nodeMultil.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3,.8).easing(cc.easeQuinticActionIn()),cc.moveTo(.3,0,-138).easing(cc.easeQuinticActionIn())),cc.callFunc(function(){t.getComponent(cc.Animation).play("TakeMutilIB"),t.nodeMultilFade.opacity=0,t.nodeMultilFade.scale=.8,t.nodeMultilFade.stopAllActions(),t.nodeMultilFade.runAction(cc.spawn(cc.fadeTo(.1,120),cc.scaleTo(.5,2).easing(cc.easeQuinticActionOut()),cc.sequence(cc.delayTime(.4),cc.fadeOut(.1).easing(cc.easeQuinticActionOut())))),e(null),t.resolve=null}),cc.moveTo(.3,0,-280).easing(cc.easeQuinticActionOut())))):e(null)})},e.prototype.resetForNextSpin=function(){l.Windown.Neko.stateSpin.freeSpinLeft<1&&(this.nodeMultil.stopAllActions(),this.nodeMultil.runAction(cc.fadeOut(.3)),this.curentMutil=0)},r([d(cc.Node)],e.prototype,"nodeMultil",void 0),r([d(cc.Node)],e.prototype,"nodeMultilFade",void 0),r([d(cc.Node)],e.prototype,"itemBkgTake",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./ItemMuitlNeko":"ItemMuitlNeko"}],MutilControlRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"549cebcYmlKM4g42jswIo2Q","MutilControlRungRam");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./ItemMutilFs"),l=t("./ItemMutilNomal"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemMutilFS=null,e.itemMutilNormal=null,e.currentItemMutil=null,e}return i(e,t),e.prototype.start=function(){this.itemMutilFS.mutilMng=this,this.itemMutilNormal.mutilMng=this,this.itemMutilNormal.init()},e.prototype.take=function(){this.currentItemMutil.take()},e.prototype.startFreeSpin=function(t){this.itemMutilFS.init(t)},e.prototype.endFreeSpin=function(){this.itemMutilNormal.init()},e.prototype.resetForNextSpin=function(){return s(this,void 0,void 0,function(){return a(this,function(){return this.currentItemMutil.resetForNextSpin(),[2]})})},r([h(c.default)],e.prototype,"itemMutilFS",void 0),r([h(l.default)],e.prototype,"itemMutilNormal",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"./ItemMutilFs":"ItemMutilFs","./ItemMutilNomal":"ItemMutilNomal"}],NapBankJP:[function(t,e,n){"use strict";cc._RF.push(e,"67973uDC0ZH5Ich4KkFK5I+","NapBankJP");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/REQUEST_CODE"),a=t("../../DefineTs/TextDefine"),c=t("../../InfoERR"),l=t("../../Network/ConectManager"),u=t("../../Windown"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.edbMoneyBank=null,e.edbCaptchaBank=null,e.nodeInfoBank=null,e.nodeReviceInfoBank=null,e.lbStkBank=null,e.lbTtkBank=null,e.lbContentBank=null,e.lbRealGold=null,e.lbRateBank=null,e.lbRateBank2=null,e.lbNameBank=null,e.funCapcha=null,e.rate=1,e}return i(e,t),e.prototype.excuted=function(){var t=this;cc.log("excuted bankJP"),cc.systemEvent.on(s.REQUEST_CODE.GetConfigBankNhat,this.responseConfigBank,this),cc.systemEvent.on(s.REQUEST_CODE.CashInYen,this.responseCashin,this),this.edbMoneyBank.string="",this.edbCaptchaBank.string="",this.nodeInfoBank.active=!0,this.nodeReviceInfoBank.active=!0,u.Windown.CapchaController.requestCapcha(),null!=u.Windown.ShopView.cardAmountShow&&(this.edbMoneyBank.string=u.Windown.ShopView.cardAmountShow.toString()),this.scheduleOnce(this.funCapcha=function(){for(var e=u.Windown.ShopView.ArrInfoTranfer,n=0,o=e.size();n<o;n++){var i=e.get(n);if(10==i.getInt("nhamangtype")){t.rate=i.getDouble("rate"),t.lbRateBank.string="1 VN\u0110 = "+t.rate+" V\xe0ng",t.lbRateBank2.string="1 VN\u0110 = "+t.rate+" V\xe0ng";break}}},.5);var e=l.ConectManager.getIns().getSFSObj();l.ConectManager.getIns().sendRequest(s.REQUEST_CODE.GetConfigBankNhat,e)},e.prototype.start=function(){},e.prototype.onClickNap=function(){var t=u.Windown.splitToInt(this.edbMoneyBank.string),e=this.edbCaptchaBank.string;try{if(isNaN(t))throw new c.InfoErr(a.TextDefine.NullMenhGia);if(t<100)throw new c.InfoErr(a.TextDefine.LonHon100);if(t%100!=0)throw new c.InfoErr(a.TextDefine.BoiSo100);if(e.length<1)throw new c.InfoErr(a.TextDefine.NullCaptcha);var n=l.ConectManager.getIns().getSFSObj();n.putInt("amount",t),null!=u.Windown.ShopView.idGoi&&n.putInt("napvip",u.Windown.ShopView.idGoi),cc.log("data gui len: "+u.Windown.SFSObjToJson(n)),l.ConectManager.getIns().sendRequest(s.REQUEST_CODE.CashInYen,n),u.Windown.UIManager.showLoading()}catch(o){u.Windown.Dialog.showLog(o.message.replace("lvd----",""))}},e.prototype.responseCashin=function(t){u.Windown.UIManager.hideLoading(),cc.log("responseCashin:",u.Windown.SFSObjToJson(t)),u.Windown.Dialog.showDialog(t.getUtfString("message"))},e.prototype.responseConfigBank=function(t){u.Windown.UIManager.hideLoading(),cc.log(u.Windown.SFSObjToJson(t)),u.Windown.Dialog.checkAndShowLog(t,!0);var e=t.getSFSArray("data").get(0),n=e.getUtfString("stk"),o=e.getUtfString("name"),i="HQ"+u.Windown.User.userId,r=e.getUtfString("bankName");this.lbStkBank.string=n,this.lbTtkBank.string=o,this.lbContentBank.string=i,this.lbNameBank.string="Ng\xe2n H\xe0ng: "+r,this.lbRateBank.string="1 Yen = "+this.rate+" V\xe0ng",this.nodeInfoBank.active=!0,this.nodeReviceInfoBank.active=!0},e.prototype.onClickHuy=function(){this.nodeInfoBank.active=!0,this.nodeReviceInfoBank.active=!1},e.prototype.onEdbMoneyChange=function(){var t=0;""!=this.edbMoneyBank.string.trim()&&(t=u.Windown.splitToInt(this.edbMoneyBank.string)),this.lbRealGold.string=u.Windown.formatNumber(Math.floor(t*this.rate))},e.prototype.onClickCoppy=function(t,e){var n="";switch(e){case"ttk":n=this.lbTtkBank.string;break;case"stk":n=this.lbStkBank.string;break;case"noidung":n=this.lbContentBank.string}cc.log("his.lbTtkBank.string="+this.lbTtkBank.string),cc.log("his.lbStkBank.string="+this.lbStkBank.string),u.Windown.coppyToClip(n)},r([d(cc.EditBox)],e.prototype,"edbMoneyBank",void 0),r([d(cc.EditBox)],e.prototype,"edbCaptchaBank",void 0),r([d(cc.Node)],e.prototype,"nodeInfoBank",void 0),r([d(cc.Node)],e.prototype,"nodeReviceInfoBank",void 0),r([d(cc.Label)],e.prototype,"lbStkBank",void 0),r([d(cc.Label)],e.prototype,"lbTtkBank",void 0),r([d(cc.Label)],e.prototype,"lbContentBank",void 0),r([d(cc.Label)],e.prototype,"lbRealGold",void 0),r([d(cc.Label)],e.prototype,"lbRateBank",void 0),r([d(cc.Label)],e.prototype,"lbRateBank2",void 0),r([d(cc.Label)],e.prototype,"lbNameBank",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../DefineTs/TextDefine":"TextDefine","../../InfoERR":"InfoERR","../../Network/ConectManager":"ConectManager","../../Windown":"Windown"}],NapBank:[function(t,e,n){"use strict";cc._RF.push(e,"51425KVNI1A06jWLr4RCYmR","NapBank");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/REQUEST_CODE"),a=t("../../DefineTs/TextDefine"),c=t("../../InfoERR"),l=t("../../Network/ConectManager"),u=t("../../Windown"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbStkBank=null,e.lbTtkBank=null,e.lbContentBank=null,e.lbRateBonusBank=null,e.lbRateBank=null,e.edbMoneyBank=null,e.edbCaptchaBank=null,e.nodeInfoBank=null,e.nodeReviceInfoBank=null,e.parentListBank=null,e.lbTimeBank=null,e.lbCurrentBankName=null,e.lbCurrentBankName2=null,e.spQR=null,e.sprQRBig=null,e.spQRDefault=null,e.funCd=null,e.curentBankCode="null",e.funCapcha=null,e}return i(e,t),e.prototype.excuted=function(){cc.systemEvent.on(s.REQUEST_CODE.GetConfigBank,this.responseConfigBank,this),cc.systemEvent.on(s.REQUEST_CODE.GetListBank,this.responseListBank,this),cc.systemEvent.on(s.REQUEST_CODE.HuyBank,this.responseHuyBank,this),this.edbMoneyBank.string="",this.edbCaptchaBank.string="",this.lbStkBank.string="...",this.lbTtkBank.string="...",this.lbContentBank.string="...",this.lbRateBank.string="...",this.lbRateBonusBank.string="...",this.lbCurrentBankName2.string="Ch\u1ecdn ng\xe2n h\xe0ng",this.nodeInfoBank.active=!0,this.nodeReviceInfoBank.active=!1,u.Windown.CapchaController.requestCapcha(),null!=u.Windown.ShopView.cardAmountShow&&(this.edbMoneyBank.string=u.Windown.ShopView.cardAmountShow.toString()),this.scheduleOnce(this.funCapcha=function(){l.ConectManager.getIns().sendRequest(s.REQUEST_CODE.GetListBank,null)},.5)},e.prototype.onClickChooseBank=function(t,e){var n=null;try{n=JSON.parse(e),this.lbCurrentBankName2.string=n.name,this.curentBankCode=n.code,this.onClickShowListChooseBank(),cc.log("nhay vao choose bank ne")}catch(o){cc.error(o),u.Windown.Dialog.showLog(a.TextDefine.Error)}},e.prototype.onClickShowListChooseBank=function(){var t=this.parentListBank.parent.parent;t.stopAllActions(),t.active?t.runAction(cc.sequence(cc.scaleTo(.3,1,0).easing(cc.easeBackIn()),cc.callFunc(function(){t.active=!1}))):(t.active=!0,t.runAction(cc.scaleTo(.3,1,1).easing(cc.easeBackOut())))},e.prototype.onClickCoppy=function(t,e){var n="";switch(e){case"ttk":n=this.lbTtkBank.string;break;case"stk":n=this.lbStkBank.string;break;case"noidung":n=this.lbContentBank.string}u.Windown.coppyToClip(n)},e.prototype.onClickNap=function(){var t=u.Windown.splitToInt(this.edbMoneyBank.string),e=this.edbCaptchaBank.string;try{if("null"==this.curentBankCode)throw new c.InfoErr(a.TextDefine.NullBank);if(isNaN(t))throw new c.InfoErr(a.TextDefine.NullMenhGia);if(t<1e4)throw new c.InfoErr(a.TextDefine.LonHon10000);if(e.length<1)throw new c.InfoErr(a.TextDefine.NullCaptcha);var n=l.ConectManager.getIns().getSFSObj();n.putInt("amount",t),n.putUtfString("bankCode",this.curentBankCode),n.putUtfString("captcha",e),null!=u.Windown.ShopView.idGoi&&n.putInt("napvip",u.Windown.ShopView.idGoi),cc.log("data gui len: "+u.Windown.SFSObjToJson(n)),l.ConectManager.getIns().sendRequest(s.REQUEST_CODE.GetConfigBank,n),u.Windown.UIManager.showLoading()}catch(o){u.Windown.Dialog.showLog(o.message.replace("lvd----",""))}},e.prototype.onClickHuy=function(){this.responseHuyBank()},e.prototype.onEdbChange=function(t){t=t.replace(/[.]/g,""),t=u.Windown.formatNumber(t),this.edbMoneyBank.string=t,this.edbMoneyBank.focus()},e.prototype.funCountDown=function(t){var e=this;this.schedule(this.funCd=function(){t--,e.lbTimeBank.string="Th\u1eddi gian c\xf2n l\u1ea1i("+t+")",t<1&&e.responseHuyBank()},1)},e.prototype.responseListBank=function(t){u.Windown.UIManager.hideLoading(),u.Windown.Dialog.checkAndShowLog(t,!0);for(var e=t.getSFSArray("listBank"),n=this.parentListBank.children[0],o=0,i=e.size();o<i;o++){var r=this.parentListBank.children[o];null==r&&((r=cc.instantiate(n)).parent=this.parentListBank),r.active=!0;var s=e.getSFSObject(o),a=(s.get("code"),s.get("name"));n.getComponentInChildren(cc.Label).string=a,n.getComponent(cc.Button).clickEvents[0].customEventData=u.Windown.SFSObjToJson(s)}for(o=e.size();o<this.parentListBank.childrenCount;o++)this.parentListBank.children[o].active=!1},e.prototype.responseConfigBank=function(t){u.Windown.UIManager.hideLoading(),cc.log(u.Windown.SFSObjToJson(t)),u.Windown.Dialog.checkAndShowLog(t,!0);var e=t.getUtfString("account"),n=t.getUtfString("account_name"),o=t.getUtfString("content"),i=t.getDouble("rate"),r=t.getDouble("rateBonus"),s=t.getDouble("requireBonus");this.lbStkBank.string=e,this.lbTtkBank.string=n,this.lbContentBank.string=o,this.lbRateBank.string="1:"+i,this.loadQRCode(t.getUtfString("bank_code"),e,t.getUtfString("amount"),o),this.lbRateBonusBank.string=r>0?a.TextDefine.RateBonusMomo.formatString(u.Windown.formatNumber(s),10*r):"",this.nodeInfoBank.active=!1,this.nodeReviceInfoBank.active=!0,this.funCountDown(t.get("timeToExpired")),this.lbCurrentBankName.string=t.getUtfString("bank")},e.prototype.responseHuyBank=function(){u.Windown.UIManager.hideLoading(),this.unschedule(this.funCd),this.curentBankCode="null",this.nodeInfoBank.active=!0,this.nodeReviceInfoBank.active=!1,u.Windown.CapchaController.requestCapcha(),this.edbMoneyBank.string="",this.lbCurrentBankName.string="Ch\u1ecdn Ng\xe2n H\xe0ng",this.lbCurrentBankName2.string="Ch\u1ecdn ng\xe2n h\xe0ng",this.spQR.spriteFrame=this.spQRDefault,this.spQR.node.children[0].active=!0},e.prototype.reset=function(){this.unschedule(this.funCd),this.unschedule(this.funCapcha),cc.systemEvent.targetOff(this),this.curentBankCode="null",this.lbCurrentBankName.string="Ch\u1ecdn Ng\xe2n H\xe0ng",this.lbCurrentBankName2.string="Ch\u1ecdn ng\xe2n h\xe0ng"},e.prototype.loadQRCode=function(t,e,n,o){var i=this,r="https://img.vietqr.io/image/%s-%s-compact.jpg?amount=%s&addInfo=%s";r=cc.js.formatStr(r,t,e,n,o),cc.assetManager.loadRemote(r,function(t,e){if(t)cc.log("Loi load anh");else if(!t&&e){var n=new cc.SpriteFrame(e);i.spQR.spriteFrame=n,i.spQR.node.children[0].active=!1}})},e.prototype.onClickShowBigQR=function(){this.sprQRBig.node.parent.active=!0,this.sprQRBig.spriteFrame=this.spQR.spriteFrame},e.prototype.onClickHideBigQR=function(){this.sprQRBig.node.parent.active=!1},r([d(cc.Label)],e.prototype,"lbStkBank",void 0),r([d(cc.Label)],e.prototype,"lbTtkBank",void 0),r([d(cc.Label)],e.prototype,"lbContentBank",void 0),r([d(cc.Label)],e.prototype,"lbRateBonusBank",void 0),r([d(cc.Label)],e.prototype,"lbRateBank",void 0),r([d(cc.EditBox)],e.prototype,"edbMoneyBank",void 0),r([d(cc.EditBox)],e.prototype,"edbCaptchaBank",void 0),r([d(cc.Node)],e.prototype,"nodeInfoBank",void 0),r([d(cc.Node)],e.prototype,"nodeReviceInfoBank",void 0),r([d(cc.Node)],e.prototype,"parentListBank",void 0),r([d(cc.Label)],e.prototype,"lbTimeBank",void 0),r([d(cc.Label)],e.prototype,"lbCurrentBankName",void 0),r([d(cc.Label)],e.prototype,"lbCurrentBankName2",void 0),r([d(cc.Sprite)],e.prototype,"spQR",void 0),r([d(cc.Sprite)],e.prototype,"sprQRBig",void 0),r([d(cc.SpriteFrame)],e.prototype,"spQRDefault",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../DefineTs/TextDefine":"TextDefine","../../InfoERR":"InfoERR","../../Network/ConectManager":"ConectManager","../../Windown":"Windown"}],NapTab:[function(t,e,n){"use strict";cc._RF.push(e,"f5a884QfWJML4SUyI09O8kc","NapTab");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/REQUEST_CODE"),a=t("../../DefineTs/TextDefine"),c=t("../../InfoERR"),l=t("../../Network/ConectManager"),u=t("../../Parent/BaseEditbox"),p=t("../../Windown"),h=t("./NapBank"),d=t("./NapBankJP"),f=t("./State/StateNapMomo"),y=cc._decorator,g=y.ccclass,m=y.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeCard=null,e.nodeVDT=null,e.edbSeri=null,e.edbMaThe=null,e.toggleVt=null,e.content=null,e.toggleCard=null,e.toggleVdt=null,e.toggleBank=null,e.toggleBankHan=null,e.lbMenhGia=null,e.lbNoteMenhGia=null,e.lbStkMomo=null,e.lbTtkMomo=null,e.lbContentMomo=null,e.lbRateBonus=null,e.lbRate=null,e.edbMoneyMomo=null,e.edbCaptchaMomo=null,e.nodeInfo=null,e.nodeReviceInfoMomo=null,e.lbTimeMomo=null,e.napBank=null,e.napBankJP=null,e.currentMenhGia=0,e.currentTypeNhaMang=-1,e.lastMenhGiaCardNode=null,e.currentState=null,e.deepLinkMomo="",e}return i(e,t),e.prototype.onLoad=function(){this.initNodeMove(p.Windown.ShopView.node),this.resignEdb(this.edbCaptchaMomo),this.resignEdb(this.edbMoneyMomo),this.resignEdb(this.edbMaThe),this.resignEdb(this.edbSeri)},e.prototype.checkTab=function(){cc.log("Check Tabbb Windown.User.userNhat:"+p.Windown.User.userNhat)},e.prototype.emitNewData=function(){this.currentTypeNhaMang=1,this.initMenhGia()},e.prototype.onDisable=function(){cc.systemEvent.removeAll(this),this.currentState&&this.currentState.reset()},e.prototype.reset=function(){this.toggleVdt.check(),this.edbSeri.string="",this.edbMaThe.string="",this.lbMenhGia.string="0 VN\u0110",this.currentMenhGia=0,this.checkTab()},e.prototype.resetChangeNhaMang=function(){this.edbSeri.string="",this.edbMaThe.string="",this.lbMenhGia.string="0 VN\u0110",this.currentMenhGia=0,this.lbNoteMenhGia.active=!0},e.prototype.resetInfoMomo=function(){this.lbStkMomo.string="...",this.lbTtkMomo.string="...",this.lbContentMomo.string="...",this.lbRate.string="...",this.lbRateBonus.string="..."},e.prototype.toggleCardCheck=function(t){t.isChecked&&(cc.systemEvent.on(s.REQUEST_CODE.CashInCardNew,this.responseNap,this),cc.systemEvent.on(s.REQUEST_CODE.CashInCardTuan,this.responseNap,this),this.nodeCard.active=!0,this.nodeVDT.active=!1,this.napBank.node.active=!1,this.toggleVt.check(),this.toggleVdt.uncheck(),this.toggleBank.uncheck(),this.currentState&&this.currentState.reset(),this.napBank.reset())},e.prototype.toggleVDTCheck=function(t){t.isChecked&&(null==this.currentState&&(this.currentState=new f.default(this)),this.currentState.executed(),this.napBank.reset(),this.napBank.node.active=!1,this.toggleBank.uncheck(),this.toggleVt.uncheck())},e.prototype.toggleBankCheck=function(t){t.isChecked&&(this.nodeCard.active=!1,this.nodeVDT.active=!1,this.napBank.node.active=!0,this.napBank.excuted(),this.toggleCard.uncheck(),this.toggleVdt.uncheck(),cc.log("Chay vao day roi"))},e.prototype.toggleBankHanCheck=function(t){t.isChecked&&(this.nodeCard.active=!1,this.nodeVDT.active=!1,this.napBank.node.active=!1,this.napBankJP.node.active=!0,this.napBankJP.excuted(),this.toggleCard.uncheck(),this.toggleVdt.uncheck(),this.toggleBank.uncheck(),cc.log("Chay vao day roi"))},e.prototype.onEdbMoneyMomoChange=function(t){cc.log("string: "+t),this.currentState.onEdbChange(t)},e.prototype.toggleNhaMangCheck=function(t){"toggleVT"==t.node.name?(this.currentTypeNhaMang=1,this.initMenhGia()):"toggleMB"==t.node.name?(this.currentTypeNhaMang=2,this.initMenhGia()):"toggleVN"==t.node.name?(this.currentTypeNhaMang=3,this.initMenhGia()):"toggleVB"==t.node.name&&(this.currentTypeNhaMang=5,this.initMenhGia())},e.prototype.initMenhGia=function(){var t=p.Windown.ShopView.ArrInfoTranfer;if(null!=t){this.offAllActive(),this.resetChangeNhaMang();for(var e=[],n=0,o=t.size();n<o;n++)1==(s=t.getSFSObject(n)).get("status")&&0==s.getInt("type")&&s.getInt("nhamangtype")==this.currentTypeNhaMang&&e.push(s);var i=this.content.children,r=i[0];for(e.sort(function(t,e){return t.getInt("requireVnd")-e.getInt("requireVnd")}),n=0,o=e.length;n<o;n++){var s=e[n],a=i[n];null==a&&((a=cc.instantiate(r)).parent=this.content),a.active=!0;var c=a.getComponentsInChildren(cc.Label);c[0].string=p.Windown.formatNumber(s.getInt("requireVnd"))+"VN\u0110",c[1].string=p.Windown.formatNumber(s.getInt("gold")),a.statuss=s.getBool("statuss"),a.color=s.getBool("statuss")?cc.Color.WHITE:cc.Color.GRAY,a.getComponent(cc.Button).clickEvents[0].customEventData=s.getInt("requireVnd").toString(),cc.Tween.stopAllByTarget(a),cc.tween(a).set({skewY:-15,scaleX:0,scaleY:1}).delay(.1*n).to(.2,{scale:1,skewX:0,skewY:0},{easing:cc.easing.cubicOut}).start()}for(n=e.length,o=i.length;n<o;n++)i[n].active=!1;this.initCardAmountShow()}},e.prototype.initCardAmountShow=function(){if(0!=p.Windown.ShopView.cardAmountShow){var t=this.getNodeItemMenhGia(p.Windown.ShopView.cardAmountShow);t&&this.onClickItemBtn(t.node,p.Windown.ShopView.cardAmountShow.toString())}},e.prototype.getNodeItemMenhGia=function(t){var e=this.content.children;for(var n in e)if(parseInt(e[n].getComponent(cc.Button).clickEvents[0].customEventData)==t)return e[n].getComponent(cc.Button);return null},e.prototype.nodeMenhGiaActive=function(t){cc.find("active",t).active=!0,this.lastMenhGiaCardNode=t},e.prototype.offAllActive=function(){this.lastMenhGiaCardNode&&(cc.find("active",this.lastMenhGiaCardNode).active=!1)},e.prototype.onClickItemBtn=function(t,e){this.offAllActive();var n=Number(e);cc.Tween.stopAllByTarget(this.lbMenhGia.node),cc.tween(this.lbMenhGia.node).set({opacity:0,y:this.lbMenhGia.node.y+50}).to(.2,{opacity:255,y:this.lbMenhGia.node.y},{easing:cc.easing.sineIn}).start(),this.lbMenhGia.string=p.Windown.formatNumber(n)+" VN\u0110",this.currentMenhGia=n,this.lbNoteMenhGia.active=!1,t instanceof cc.Event?this.nodeMenhGiaActive(t.target):this.nodeMenhGiaActive(t)},e.prototype.onClickRefeshCaptCha=function(){p.Windown.CapchaController.requestCapcha()},e.prototype.onClickNap=function(){try{this.checkValidation(),this.sendNap()}catch(t){p.Windown.Dialog.showLog(t.message.replace("lvd----",""))}},e.prototype.onClickNapMomo=function(){this.currentState&&this.currentState.onClickNap()},e.prototype.onClickHuyMomo=function(){this.currentState&&this.currentState.onClickHuy()},e.prototype.sendNap=function(){var t=l.ConectManager.getIns().getSFSObj();t.putUtfString("seri",this.edbSeri.string),t.putUtfString("pin",this.edbMaThe.string),t.putInt("amount",this.currentMenhGia),t.putInt("cardType",this.currentTypeNhaMang),null!=p.Windown.ShopView.idGoi&&t.putInt("napvip",p.Windown.ShopView.idGoi);var e=cc.js.formatStr(a.TextDefine.CONFIRM_CARD,this.getNameNhaMang(this.currentTypeNhaMang),p.Windown.formatNumber(this.currentMenhGia),this.edbSeri.string,this.edbMaThe.string);p.Windown.Dialog.showLog(e,function(){cc.log(p.Windown.SFSObjToJson(t)),l.ConectManager.getIns().sendRequest(s.REQUEST_CODE.CashInCardTuan,t),p.Windown.UIManager.showLoading()},!0)},e.prototype.getNameNhaMang=function(t){switch(t){case 1:return"VIETTEL";case 2:return"MOBIFONE";case 3:return"VINA";case 5:return"VIETNAMMOBIE"}return"L\u1ed7i"},e.prototype.responseNap=function(t){p.Windown.UIManager.hideLoading(),p.Windown.Dialog.checkAndShowLog(t,!0)},e.prototype.checkValidation=function(){0==this.currentMenhGia&&new c.InfoErr(a.TextDefine.NullMenhGia),""==this.edbSeri.string&&new c.InfoErr(a.TextDefine.NullSeri),""==this.edbMaThe.string&&new c.InfoErr(a.TextDefine.NullMaThe)},e.prototype.onClickCoppy=function(t,e){var n="";switch(e){case"ttk":n=this.lbTtkMomo.string;break;case"stk":n=this.lbStkMomo.string;break;case"noidung":n=this.lbContentMomo.string}p.Windown.coppyToClip(n)},e.prototype.onClickOpenMomo=function(){cc.sys.openURL(this.deepLinkMomo)},r([m(cc.Node)],e.prototype,"nodeCard",void 0),r([m(cc.Node)],e.prototype,"nodeVDT",void 0),r([m(cc.EditBox)],e.prototype,"edbSeri",void 0),r([m(cc.EditBox)],e.prototype,"edbMaThe",void 0),r([m(cc.Toggle)],e.prototype,"toggleVt",void 0),r([m(cc.Node)],e.prototype,"content",void 0),r([m(cc.Toggle)],e.prototype,"toggleCard",void 0),r([m(cc.Toggle)],e.prototype,"toggleVdt",void 0),r([m(cc.Toggle)],e.prototype,"toggleBank",void 0),r([m(cc.Toggle)],e.prototype,"toggleBankHan",void 0),r([m(cc.Label)],e.prototype,"lbMenhGia",void 0),r([m(cc.Node)],e.prototype,"lbNoteMenhGia",void 0),r([m(cc.Label)],e.prototype,"lbStkMomo",void 0),r([m(cc.Label)],e.prototype,"lbTtkMomo",void 0),r([m(cc.Label)],e.prototype,"lbContentMomo",void 0),r([m(cc.Label)],e.prototype,"lbRateBonus",void 0),r([m(cc.Label)],e.prototype,"lbRate",void 0),r([m(cc.EditBox)],e.prototype,"edbMoneyMomo",void 0),r([m(cc.EditBox)],e.prototype,"edbCaptchaMomo",void 0),r([m(cc.Node)],e.prototype,"nodeInfo",void 0),r([m(cc.Node)],e.prototype,"nodeReviceInfoMomo",void 0),r([m(cc.Label)],e.prototype,"lbTimeMomo",void 0),r([m(h.default)],e.prototype,"napBank",void 0),r([m(d.default)],e.prototype,"napBankJP",void 0),r([g],e)}(u.default);n.default=v,cc._RF.pop()},{"../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../DefineTs/TextDefine":"TextDefine","../../InfoERR":"InfoERR","../../Network/ConectManager":"ConectManager","../../Parent/BaseEditbox":"BaseEditbox","../../Windown":"Windown","./NapBank":"NapBank","./NapBankJP":"NapBankJP","./State/StateNapMomo":"StateNapMomo"}],NativeCallJs:[function(t,e){"use strict";cc._RF.push(e,"5bdcdAH2d9OSZ/JQfjqimKA","NativeCallJs"),cc._RF.pop()},{}],NearFSCaishen:[function(t,e,n){"use strict";cc._RF.push(e,"80675TS9HRCvY4zHQ9o7goq","NearFSCaishen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.NearFSCaishen=void 0;var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item=null,e._curItem=null,e.indexCol=0,e}return i(e,t),e.prototype.init=function(t){if(this.indexCol=t,this._curItem){var e=this._curItem;e.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){e.destroy()})))}s.Windown.Caishen.audio.playEffect(s.Windown.Caishen.audio.fastspinStart);var n=s.Windown.Caishen.listColum[t],o=cc.instantiate(this.item);o.parent=this.node,o.opacity=0,o.runAction(cc.fadeIn(.3)),o.setPosition(s.Windown.convertNodeInOtherNode(n.node,this.node)),this._curItem=o},e.prototype.effOff=function(){if(this._curItem){5==this.indexCol&&s.Windown.Caishen.audio.playEffect(s.Windown.Caishen.audio.fastspinEnd);var t=this._curItem;t.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.destroy()})))}},r([l(cc.Prefab)],e.prototype,"item",void 0),r([c],e)}(cc.Component);n.NearFSCaishen=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],NearFSDuaXe:[function(t,e,n){"use strict";cc._RF.push(e,"65b4aIOBmhDtq68dOEtW30s","NearFSDuaXe");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.NearFSDuaXe=void 0;var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item=null,e._curItem=null,e.indexCol=0,e}return i(e,t),e.prototype.init=function(t){if(this.indexCol=t,this._curItem){var e=this._curItem;e.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){e.destroy()})))}s.Windown.DuaXe.audio.playEffect(s.Windown.DuaXe.audio.fastspinStart);var n=s.Windown.DuaXe.listColum[t],o=cc.instantiate(this.item);o.parent=this.node,o.opacity=0,o.runAction(cc.fadeIn(.3)),o.setPosition(s.Windown.convertNodeInOtherNode(n.node,this.node)),this._curItem=o},e.prototype.effOff=function(){if(this._curItem){5==this.indexCol&&s.Windown.DuaXe.audio.playEffect(s.Windown.DuaXe.audio.fastspinEnd);var t=this._curItem;t.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.destroy()})))}},r([l(cc.Prefab)],e.prototype,"item",void 0),r([c],e)}(cc.Component);n.NearFSDuaXe=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],NearFSQuyBa:[function(t,e,n){"use strict";cc._RF.push(e,"5a6a38e14tFiLLUAL5+f7JB","NearFSQuyBa");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.NearFSQuyBa=void 0;var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item=null,e._curItem=null,e.indexCol=0,e}return i(e,t),e.prototype.init=function(t){if(this.indexCol=t,this._curItem){var e=this._curItem;e.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){e.destroy()})))}s.Windown.QuyBa.audio.playEffect(s.Windown.QuyBa.audio.fastspinStart);var n=s.Windown.QuyBa.listColum[t],o=cc.instantiate(this.item);o.parent=this.node,o.opacity=0,o.runAction(cc.fadeIn(.3)),o.setPosition(s.Windown.convertNodeInOtherNode(n.node,this.node)),this._curItem=o},e.prototype.effOff=function(){if(this._curItem){5==this.indexCol&&s.Windown.QuyBa.audio.playEffect(s.Windown.QuyBa.audio.fastspinEnd);var t=this._curItem;t.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.destroy()})))}},r([l(cc.Prefab)],e.prototype,"item",void 0),r([c],e)}(cc.Component);n.NearFSQuyBa=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],NearFsAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"fcc8fSesE5BNKnQLxlORo2i","NearFsAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item=null,e._curItem=null,e}return i(e,t),e.prototype.init=function(t){if(this._curItem){var e=this._curItem;e.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){e.destroy()})))}s.Windown.Asgard.audio.playEffect(s.Windown.Asgard.audio.fastspinStart);var n=s.Windown.Asgard.listColum[t],o=cc.instantiate(this.item);o.parent=this.node,o.setPosition(s.Windown.convertNodeInOtherNode(n.node,this.node)),this._curItem=o},e.prototype.effOff=function(){if(this._curItem){var t=this._curItem;t.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.destroy()})))}},r([l(cc.Prefab)],e.prototype,"item",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown"}],NearFsMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"58a22bkyklOyI67CthWRfUJ","NearFsMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item=null,e.itemDragon=null,e._curItem=null,e}return i(e,t),e.prototype.init=function(t){if(this._curItem){var e=this._curItem;e.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){e.destroy()})))}s.Windown.MatChuoc.audio.playEffect(s.Windown.MatChuoc.audio.fastspinStart);var n=s.Windown.MatChuoc.listColum[t],o=cc.instantiate(this.item);o.parent=this.node,o.setPosition(cc.v2(s.Windown.convertNodeInOtherNode(n.node,this.node).x,0)),this._curItem=o,o.opacity=0,o.runAction(cc.sequence(cc.fadeIn(.5),cc.callFunc(function(){})))},e.prototype.effOff=function(){if(this._curItem){var t=this._curItem;t.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.destroy()})))}},e.prototype.initDragonFS=function(){if(this._curItem){var t=this._curItem;t.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.destroy()})))}s.Windown.MatChuoc.audio.playEffect(s.Windown.MatChuoc.audio.fastspinStart);var e=s.Windown.MatChuoc.listColum[2],n=cc.instantiate(this.itemDragon);n.parent=this.node,n.setPosition(cc.v2(s.Windown.convertNodeInOtherNode(e.node,this.node).x,0)),this._curItem=n,n.opacity=0,n.runAction(cc.sequence(cc.fadeIn(.5),cc.callFunc(function(){})))},r([l(cc.Prefab)],e.prototype,"item",void 0),r([l(cc.Prefab)],e.prototype,"itemDragon",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown"}],NekoSpeedControl:[function(t,e,n){"use strict";cc._RF.push(e,"7f3fc0VmqlFFLhJQEmQyVia","NekoSpeedControl");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.normalSpeed=1,e.animation=null,e.spine=null,e.isSpine=!1,e}return i(e,t),e.prototype.onLoad=function(){this.isSpine?(cc.log("day la spine"),this.spine=this.node.getComponent(sp.Skeleton)):(this.animation=this.node.getComponent(cc.Animation),this.animation.on("play",this.onPlay,this))},e.prototype.start=function(){},e.prototype.onPlay=function(){null!=this.animation&&null!=this.animation.currentClip&&(cc.log("this.node.name="+this.node.name),this.animation.getAnimationState(this.animation.currentClip.name).speed=s.Windown.Neko.stateSpin.isMaxSpeed?3:this.normalSpeed)},e.prototype.onEnable=function(){cc.isValid(this.spine)&&(this.spine.timeScale=s.Windown.Neko.stateSpin.isMaxSpeed?3:1)},r([l],e.prototype,"isSpine",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],NekoView:[function(t,e,n){"use strict";cc._RF.push(e,"c975d9n7ddPl6yKHMEl/zaH","NekoView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/EVENT_MANAGER"),l=t("../../../Scritps/DefineTs/PlayerPP"),u=t("../../../Scritps/DefineTs/REQUEST_CODE"),p=t("../../../Scritps/DefineTs/StateReelSlot"),h=t("../../../Scritps/DefineTs/TextDefine"),d=t("../../../Scritps/Game/GAME_TYPE"),f=t("../../../Scritps/Network/ConectManager"),y=t("../../../Scritps/Obs/LbMoneyChange"),g=t("../../../Scritps/Other/MakeDelay"),m=t("../../../Scritps/Util"),v=t("../../../Scritps/Windown"),S=t("./AssetNeko"),b=t("./AudioNeko"),w=t("./EffectNeko"),_=t("./InfoBarControllerNeko"),C=t("./ItemSlotNeko"),T=t("./ItemSlotNekoNgang"),I=t("./LichSuNeko"),W=t("./MutilControlNeko"),M=t("./SpinNormalNeko"),E=cc._decorator,R=E.ccclass,A=E.property,B=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.asset=null,e.bkgSprite=null,e.itemSlotNekoNgang=null,e.parentItem=null,e.parentEffect=null,e.nodeLine=null,e.effect=null,e.labelChipReviceInBox=null,e.lb_totalBet=null,e.lb_FSLeft=null,e.lb_TotalLine=null,e.lb_CountAuto=null,e.infoBar=null,e.muitlCtr=null,e.btnSpin=null,e.mask=null,e.nodeChooseAuto=null,e.popupLichSu=null,e.audio=null,e.listNodeDeactive=[],e.cachChoi=null,e.nodeBtnPlay=null,e.nodeBtnSeting=null,e.toggleMusic=null,e.toggleTurbo=null,e.btnStartAuto=null,e.listColum=[],e.listResult=null,e.listResultConvert=[],e.listConfigBet=[],e.gameType=-1,e.sfs=null,e.roomSFS=null,e.stateReel=0,e.totalLineBet=20,e.curRoomBet=50,e.funEnd=null,e.isShowBtnPlay=!0,e.dataFinish=null,e.sfsObjTest=null,e.stateSpin=null,e.makeDelay=null,e.isDoneStartSpin=!1,e.currentTotalLine=1,e}return i(e,t),e.prototype.onLoad=function(){v.Windown.Neko=this,this.makeDelay=new g.default(this),cc.log("start dieu thuyen"),this.gameType=d.default.Neko,this.sfs=f.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(c.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),this.stateReel=p.default.WAITING,this.stateSpin=new M.default,this.sendJoinRoom(),this.activeMask(!1)},e.prototype.sendJoinRoom=function(){cc.log("send creat room");try{var t=f.ConectManager.getIns().getValibleRoomName(),e=new SFS2X.RoomSettings(t),n=new SFS2X.RoomExtension("NekoExtension","ext.Room.SlotNeko.SlotGameView");e.extension=n,e.isGame=!0,e.maxUsers=1,e.groupId="Neko",this.sfs.send(new SFS2X.CreateRoomRequest(e,!0))}catch(o){cc.error(o),this.onDisconnect()}},e.prototype.onDisconnect=function(){cc.log("disconnect"),v.Windown.UIManager.hideLoading(),v.Windown.UIManager.hideLoadingData(),cc.director.loadScene("main")},e.prototype.userExitRoom=function(t){cc.log("user exit room"),"Neko"==t.room.groupId&&t.user.isItMe&&cc.director.loadScene("main")},e.prototype.onCreateError=function(){v.Windown.UIManager.hideLoading(),cc.director.loadScene("main"),v.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM)},e.prototype.onJoinRoom=function(t){var e=t.room;if("Neko"==e.groupId){this.roomSFS=e,v.Windown.UIManager.hideLoadingData();var n=e.getVariable("cf").value;cc.log(n);var o=[],i=JSON.parse(n);for(var r in i){var s=Object.create(null);s.bet=parseInt(r),s.perJp=i[r].percentPot/100,o.push(s)}o.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=o,cc.log("ListBet=",o),this.curRoomBet=this.listConfigBet[0].bet,this.lb_totalBet.string=v.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.switchBkgGame=function(t){var e=cc.find("Game/BkgGround/FreeSpin",this.node);if(e.active=!1,v.Windown.Neko.lb_FSLeft.node.parent.active=!1,t){e.active=!0;var n=cc.find("Alats8-fs_vfx_c_add",e);n.stopAllActions(),this.muitlCtr.startFreeSpin(),n.runAction(cc.repeatForever(cc.rotateBy(1,30))),v.Windown.Neko.lb_FSLeft.node.parent.active=!0}},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),v.Windown.UIManager.hideLoading(),v.Windown.UIManager.hideLoadingData(),v.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM),cc.director.loadScene("main")},e.prototype.activeMask=function(){},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(e){case u.REQUEST_CODE.SpinNeko:cc.log(v.Windown.SFSObjToJson(n)),this.handleFinish(n);break;case u.REQUEST_CODE.HistoryNeko:this.popupLichSu.responseServer(n);break;case u.REQUEST_CODE.HistoryChiTietNeko:this.popupLichSu.responseServerChiTiet(n)}},e.prototype.handleFinish=function(t){var e=this;if(!this.isDoneStartSpin)return cc.log("handleFinish chua done start spin"),void this.scheduleOnce(function(){e.handleFinish(t)},.05);if(t.containsKey(l.PlayerPP.ERR_MESSAGE))return this.stateSpin.handleErrSpin(),v.Windown.Dialog.showLog(t.get(l.PlayerPP.ERR_MESSAGE)),this.activeAllBtn(),void this.onClickResetCountAuto();this.dataFinish=t,v.Windown.MoneyUser.pushDelayMoney(this.gameType,this.dataFinish.get("agUser"),this.dataFinish.getLong("agWin")),this.truTienBet(this.dataFinish.get("agBet")*this.totalLineBet,this.dataFinish.get("agUser")),this.listResult=t.get("views");var n=t.getIntArray("bonusSpin");this.listResultConvert=this.convertResult(this.listResult,JSON.parse(v.Windown.SFSArrToJson(t.get("listItemWin"))),n),this.stateSpin.isMaxSpeed,this.stateReel=p.default.CAN_STOP;var o=this.stateSpin.isMaxSpeed?0:.5;this.scheduleOnce(this.funEnd=function(){e.stateSpin.onEnd()},o)},e.prototype.onDestroy=function(){v.Windown.Neko=null,this.dataFinish&&(v.Windown.MoneyUser.removeDelay(this.gameType),this.dataFinish=null),v.Windown.MoneyUser.endGameMOney(this.gameType),cc.systemEvent.removeAll(this),this.roomSFS=null,this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),this.makeDelay.clear()},e.prototype.start=function(){var t=this;this.setupView(),this.initItem(),v.Windown.AudioManager.isActiveSound&&v.Windown.AudioManager.isActiveMusic?(this.toggleMusic.isChecked=!0,this.toggleMusic.checkMark.node.active=!0,this.toggleMusic.node.children[0].active=!1):(this.toggleMusic.isChecked=!1,this.toggleMusic.checkMark.node.active=!1,this.toggleMusic.node.children[0].active=!0),cc.sys.isNative||this.scheduleOnce(function(){return s(t,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,v.Windown.loadBundle(d.default.Neko.toString())];case 1:return t.sent().loadDir("Spine",function(){}),[2]}})})},3)},e.prototype.initItem=function(){for(var t=cc.instantiate(this.parentItem.children[0]),e=t.width,n=0;n<6;n++){var o=this.parentItem.children[n];null==o&&((o=cc.instantiate(t)).parent=this.parentItem);var i=o.getComponent(C.default);this.listColum.push(i),i.index=n,i.setResultFirtGame(),i.node.x=e*n+e/2-6*e/2,i.node.y=0}this.itemSlotNekoNgang.index=0,this.itemSlotNekoNgang.setResultFirtGame()},e.prototype.setupView=function(){var t=cc.find("Game",this.node);if(cc.sys.isMobile)e=1280/720;else{var e=cc.view.getDesignResolutionSize().height/1280;t.setScale(e,e,e),this.bkgSprite.setContentSize(cc.winSize),v.Windown.UIManager.changeRotation(!0)}},e.prototype.sendClickSpin=function(){if(null!=this.sfsObjTest)return f.ConectManager.getIns().sendRequest("testSpin",this.sfsObjTest,this.roomSFS),void(this.sfsObjTest=null);cc.log("send ClickSpin");var t=f.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),f.ConectManager.getIns().sendRequest(u.REQUEST_CODE.SpinNeko,t,this.roomSFS)},e.prototype.onClickBtnSpin=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),this.stateReel!=p.default.WAITING?[3,2]:(this.audio.playEffect(this.audio.spinBtn),this.stateReel=p.default.RUN,this.setStateEffBtnSpin(),this.offAllBtn(),this.infoBar.reset(),this.isDoneStartSpin=!1,this.sendClickSpin(),[4,this.stateSpin.onStart()]);case 1:return e.sent(),this.isDoneStartSpin=!0,[3,3];case 2:this.stateReel==p.default.CAN_STOP?this.stateSpin.isMaxSpeed||(cc.log("nhay vao forestop ne"),this.stateReel=p.default.RUN,this.unschedule(this.funEnd),this.stateSpin.onForceEnd()):this.stateReel==p.default.STOP||this.stateReel==p.default.SHOW_EFFECT&&(this.stateSpin.resetForNextNextSpin(),this.onClickBtnSpin()),e.label=3;case 3:return[3,5];case 4:return t=e.sent(),m.Util.ThrowErrProsime(t),[3,5];case 5:return[2]}})})},e.prototype.showContentTip=function(){},e.prototype.updateNewTotalLine=function(t){this.currentTotalLine*=t,this.lb_TotalLine.string=this.currentTotalLine.toString()},e.prototype.resetForNewGame=function(){this.stateReel=p.default.WAITING,this.setStateEffBtnSpin()},e.prototype.resetLbTotalLine=function(){this.currentTotalLine=1,this.lb_TotalLine.string=". . ."},e.prototype.setStateEffBtnSpin=function(){var t=this.btnSpin.getComponent(cc.Animation),e=cc.find("sb_arrow",this.btnSpin),n=cc.find("sb_arrow_blur",this.btnSpin);if(this.stateReel!=p.default.STOP){var o=cc.Material.getBuiltinMaterial("2d-sprite");e.getComponent(cc.Sprite).setMaterial(0,o)}if(this.stateReel==p.default.WAITING||this.stateReel==p.default.SHOW_EFFECT)n.active=!1,e.active=!0,e.stopAllActions(),e.runAction(cc.repeatForever(cc.rotateBy(3,-360)));else if(this.stateReel==p.default.RUN)cc.log("play anim"),t.play("BtnSpin"),n.active=!0,n.stopAllActions(),n.runAction(cc.repeatForever(cc.rotateBy(.3,-360))),e.active=!1,this.infoBar.showRdContent();else if(this.stateReel==p.default.STOP){e.active=!0,e.stopAllActions(),n.active=!1;var i=cc.Material.getBuiltinMaterial("2d-gray-sprite");e.getComponent(cc.Sprite).setMaterial(0,i)}},e.prototype.setLbFreeSpinLeft=function(t){var e=this.lb_FSLeft.node.parent;this.lb_FSLeft.string=t,t<1?(cc.find("last_spin",e).active=!0,cc.find("remaining_spin",e).active=!1,this.lb_FSLeft.node.active=!1):(cc.find("last_spin",e).active=!1,cc.find("remaining_spin",e).active=!0,this.lb_FSLeft.node.active=!0)},e.prototype.setCountAuto=function(t){this.lb_CountAuto.node.parent.active=!(t<1),this.lb_CountAuto.string=t.toString()},e.prototype.showMoneyAllWin=function(t){cc.log("money win: "+t),this.labelChipReviceInBox.setMoney(t),v.Windown.MoneyUser.removeDelay(this.gameType)},e.prototype.offLbFree=function(){this.lb_FSLeft.node.parent.active=!1},e.prototype.onClickSendObjTest=function(){var t=f.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),t.putUtfString("arr",'[[{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":12}],\n            [{"size":3,"typeItem":1,"idItem":0},{"size":2,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":12}],\n            [{"size":1,"typeItem":0,"idItem":0},{"size":2,"typeItem":1,"idItem":4},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":12}],\n            [{"size":1,"typeItem":0,"idItem":4},{"size":3,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":12}],\n            [{"size":4,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":12}],\n            [{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":2}]]'),this.sfsObjTest=t,this.onClickBtnSpin(),cc.log("onClickSendObjTest")},e.prototype.onClickTest=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(){return(t=f.ConectManager.getIns().getSFSObj()).putInt("bet",this.curRoomBet),t.putUtfString("arr",'[[{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":1}],[{"size":1,"typeItem":0,"idItem":12},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":0}],[{"size":1,"typeItem":0,"idItem":8},{"size":3,"typeItem":1,"idItem":2},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":2}],[{"size":3,"typeItem":1,"idItem":0},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":9}],[{"size":1,"typeItem":0,"idItem":12},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":3}],[{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":7}]]'),this.sfsObjTest=t,this.onClickBtnSpin(),[2]})})},e.prototype.onClickResetCountAuto=function(){this.stateSpin.countAutoSpin=0,this.lb_CountAuto.node.parent.active=!1,v.Windown.Neko.audio.playClick()},e.prototype.onClickItemAutoSpin=function(t){v.Windown.Neko.audio.playClick(),this.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer).allowSwitchOff=!1;var e=t.node.name,n=Number(e);this.stateSpin.countAutoSpin=n,this.btnStartAuto.interactable=!0,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#FF8E26")},e.prototype.onClickStartAutoSpin=function(){this.onClickBtnSpin(),this.onClickCloseListAuto(),v.Windown.Neko.stateSpin.countAutoSpin>0&&v.Windown.Neko.setCountAuto(v.Windown.Neko.stateSpin.countAutoSpin)},e.prototype.onClickShowListAuto=function(){v.Windown.Neko.audio.playClick(),this.nodeChooseAuto.active=!0,this.nodeChooseAuto.opacity=0,this.nodeChooseAuto.runAction(cc.fadeIn(.3)),this.btnStartAuto.interactable=!1,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")},e.prototype.onClickCloseListAuto=function(){var t=this;v.Windown.Neko.audio.playClick(),this.nodeChooseAuto.stopAllActions(),this.nodeChooseAuto.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){var e=t.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer);e.allowSwitchOff=!0,e.toggleItems.forEach(function(t){t.isChecked&&t.uncheck()}),t.nodeChooseAuto.active=!1,t.btnStartAuto.interactable=!1,t.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")})))},e.prototype.convertResult=function(t,e,n){var o=this,i=[];return v.Windown.foreachSFSArray(t,function(t,r){var s=Object.create(null);s.listSFSObj=[],s.listSFSObjNgang=[],s.mutil=cc.misc.clampf(n[r],1,9999999),s.agWin=0,v.Windown.foreachSFSArray(t,function(n,o){var i=[];if(v.Windown.foreachSFSArray(n,function(t,e){e==n.size()-1&&o>0&&o<5?s.listSFSObjNgang.push(t):i.push(t)}),i.reverse(),s.listSFSObj.push(i),o==t.size()-1){var r=e.shift();r&&(r.lsIdItem=JSON.parse(r.lsIdItem),r.lsstack=JSON.parse(r.lsstack),r.lsAgWin=JSON.parse(r.lsAgWin),r.lsAgWin.length>0&&(s.listItemWin=r,s.isNoSap=!0),r.lsAgWin.forEach(function(t){s.agWin+=t}))}}),s.countScater=o.getCountScater(s.listSFSObj,s.listSFSObjNgang),s.listSFSObjNgang.reverse(),i.push(s)}),i},e.prototype.setResult=function(){},e.prototype.getListActiveScaster=function(t,e){var n=[],o=0;e.forEach(function(t){12==t.getInt("idItem")&&o++});for(var i=0;i<t.length;i++)o>2?n.push(!0):n.push(!1),t[i].forEach(function(t){12==t.getInt("idItem")&&o++});return n},e.prototype.onClickChangeBet=function(t,e){if(v.Windown.Neko.audio.playClick(),this.listConfigBet.length<1)v.Windown.Dialog.showLog(h.TextDefine.Error);else{var n=-1;for(var o in this.listConfigBet)if(this.listConfigBet[o].bet==this.curRoomBet){n=parseInt(o);break}0==e?n--:n++,n<0&&(n=this.listConfigBet.length-1),n>this.listConfigBet.length-1&&(n=0),this.curRoomBet=this.listConfigBet[n].bet,this.lb_totalBet.string=v.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.onClickCachChoi=function(){v.Windown.Neko.audio.playClick(),this.cachChoi.active=!0,this.cachChoi.opacity=0,this.cachChoi.stopAllActions(),this.cachChoi.runAction(cc.fadeIn(.3))},e.prototype.onCloseCachChoi=function(){var t=this;v.Windown.Neko.audio.playClick(),this.cachChoi.stopAllActions(),this.cachChoi.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.cachChoi.active=!1})))},e.prototype.onClickBackToLobby=function(){v.Windown.Neko.audio.playClick(),this.roomSFS?f.ConectManager.getIns().sendLeaveRoom(this.roomSFS):cc.director.loadScene("main")},e.prototype.onClickMusic=function(){v.Windown.Neko.audio.playClick();var t=this.toggleMusic.isChecked;this.toggleMusic.node.children[0].active=!t,v.Windown.AudioManager?(v.Windown.AudioManager.isActiveSound=t,v.Windown.AudioManager.isActiveMusic=t):t?(v.Windown.setLocalStorage("sound","on"),v.Windown.setLocalStorage("music","on")):(v.Windown.setLocalStorage("sound","off"),v.Windown.setLocalStorage("music","off"))},e.prototype.onClickTurbo=function(){v.Windown.Neko.audio.playClick();var t=this.toggleTurbo.isChecked;this.stateSpin.isMaxSpeed=t,t?(v.Windown.UIManager.showAlertMini("\u0110\xe3 B\u1eacT quay nhanh"),this.toggleTurbo.node.getChildByName("ic_toast_turbo_off").active=!1,this.toggleTurbo.node.getChildByName("ic_toast_turbo_on").active=!0):(v.Windown.UIManager.showAlertMini("\u0110\xe3 T\u1eaeT quay nhanh"),this.toggleTurbo.node.getChildByName("ic_toast_turbo_off").active=!0,this.toggleTurbo.node.getChildByName("ic_toast_turbo_on").active=!1)},e.prototype.onClickSeting=function(){if(v.Windown.Neko.audio.playClick(),cc.log("click onClickSeting"),this.isShowBtnPlay=!this.isShowBtnPlay,this.isShowBtnPlay)t=cc.v2(0,-750),this.nodeBtnPlay.runAction(cc.fadeIn(.4)),this.nodeBtnSeting.runAction(cc.spawn(cc.fadeOut(.3),cc.moveTo(.3,t)));else{this.nodeBtnPlay.stopAllActions(),this.nodeBtnSeting.stopAllActions();var t=cc.v2(0,-525.279);this.nodeBtnPlay.runAction(cc.fadeOut(.3)),this.nodeBtnSeting.opacity=0,this.nodeBtnSeting.runAction(cc.spawn(cc.fadeIn(.4),cc.moveTo(.4,t)))}},e.prototype.getCountScater=function(t,e){var n=0;return t.forEach(function(t){t.forEach(function(t){12==t.getInt("idItem")&&n++})}),e.forEach(function(t){12==t.getInt("idItem")&&n++}),n},e.prototype.getMakeDelay=function(t){return this.makeDelay.getDelay(t)},e.prototype.activeAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!0,t.node.children.forEach(function(e,n){e.color=cc.Color.fromHEX(new cc.Color,"#FFD500"),"BtnFast"==t.node.name&&(1==n?e.children[0].color=cc.Color.fromHEX(new cc.Color,"#756200"):2==n&&(e.children[0].color=cc.Color.fromHEX(new cc.Color,"#FFD500")))})})},e.prototype.offAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!1,t.node.children.forEach(function(e,n){e.color=cc.Color.fromHEX(new cc.Color,"#999999"),"BtnFast"!=t.node.name||1!=n&&2!=n||(e.children[0].color=cc.Color.fromHEX(new cc.Color,"#999999"))})})},e.prototype.truTienBet=function(t,e){0!=t&&v.Windown.MoneyUser.subMoney(t,e)},e.prototype.effectShake=function(t,e){void 0===t&&(t=.2),void 0===e&&(e=10)},e.prototype.onClickLichSu=function(){v.Windown.Neko.audio.playClick(),this.popupLichSu.show()},e.prototype.update=function(){},r([A(S.default)],e.prototype,"asset",void 0),r([A(cc.Node)],e.prototype,"bkgSprite",void 0),r([A(T.default)],e.prototype,"itemSlotNekoNgang",void 0),r([A(cc.Node)],e.prototype,"parentItem",void 0),r([A(cc.Node)],e.prototype,"parentEffect",void 0),r([A(cc.Node)],e.prototype,"nodeLine",void 0),r([A(w.default)],e.prototype,"effect",void 0),r([A(y.default)],e.prototype,"labelChipReviceInBox",void 0),r([A(cc.Label)],e.prototype,"lb_totalBet",void 0),r([A(cc.Label)],e.prototype,"lb_FSLeft",void 0),r([A(cc.Label)],e.prototype,"lb_TotalLine",void 0),r([A(cc.Label)],e.prototype,"lb_CountAuto",void 0),r([A(_.default)],e.prototype,"infoBar",void 0),r([A(W.default)],e.prototype,"muitlCtr",void 0),r([A(cc.Node)],e.prototype,"btnSpin",void 0),r([A(cc.Node)],e.prototype,"mask",void 0),r([A(cc.Node)],e.prototype,"nodeChooseAuto",void 0),r([A(I.default)],e.prototype,"popupLichSu",void 0),r([A(b.default)],e.prototype,"audio",void 0),r([A([cc.Button])],e.prototype,"listNodeDeactive",void 0),r([A(cc.Node)],e.prototype,"cachChoi",void 0),r([A(cc.Node)],e.prototype,"nodeBtnPlay",void 0),r([A(cc.Node)],e.prototype,"nodeBtnSeting",void 0),r([A(cc.Toggle)],e.prototype,"toggleMusic",void 0),r([A(cc.Toggle)],e.prototype,"toggleTurbo",void 0),r([A(cc.Button)],e.prototype,"btnStartAuto",void 0),r([R],e)}(cc.Component);n.default=B,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../../Scritps/DefineTs/PlayerPP":"PlayerPP","../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Other/MakeDelay":"MakeDelay","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./AssetNeko":"AssetNeko","./AudioNeko":"AudioNeko","./EffectNeko":"EffectNeko","./InfoBarControllerNeko":"InfoBarControllerNeko","./ItemSlotNeko":"ItemSlotNeko","./ItemSlotNekoNgang":"ItemSlotNekoNgang","./LichSuNeko":"LichSuNeko","./MutilControlNeko":"MutilControlNeko","./SpinNormalNeko":"SpinNormalNeko"}],NgoKhongView:[function(t,e,n){"use strict";cc._RF.push(e,"95758DSxFpOBbtEFrKxDUs0","NgoKhongView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/EVENT_MANAGER"),l=t("../../../Scritps/DefineTs/PlayerPP"),u=t("../../../Scritps/DefineTs/REQUEST_CODE"),p=t("../../../Scritps/DefineTs/StateReelSlot"),h=t("../../../Scritps/DefineTs/TextDefine"),d=t("../../../Scritps/Game/GAME_TYPE"),f=t("../../../Scritps/Network/ConectManager"),y=t("../../../Scritps/Obs/LbMoneyChange"),g=t("../../../Scritps/Other/MakeDelay"),m=t("../../../Scritps/Util"),v=t("../../../Scritps/Windown"),S=t("./AssetNgoKhong"),b=t("./AudioNgoKhong"),w=t("./EffectNgoKhong"),_=t("./InfoBarControllerNgoKhong"),C=t("./ItemKhung"),T=t("./ItemSlotNgoKhong"),I=t("./LichSuNgoKhong"),W=t("./SpinNormalNgoKhong"),M=cc._decorator,E=M.ccclass,R=M.property,A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.aniAsAt=null,e.aniSaoRoi=null,e.asset=null,e.bkgSprite=null,e.parentItem=null,e.parentEffect=null,e.parentKhung=null,e.nodeLine=null,e.effect=null,e.labelChipReviceInBox=null,e.listKhung=[],e.lb_totalBet=null,e.lb_FSLeft=null,e.lb_TotalLine=null,e.lb_CountAuto=null,e.infoBar=null,e.btnSpin=null,e.mask=null,e.nodeChooseAuto=null,e.popupLichSu=null,e.audio=null,e.listNodeDeactive=[],e.cachChoi=null,e.nodeBtnPlay=null,e.nodeBtnSeting=null,e.toggleMusic=null,e.toggleTurbo=null,e.btnStartAuto=null,e.listColum=[],e.listResult=[],e.listResultConvert=[],e.listConfigBet=[],e.gameType=-1,e.sfs=null,e.roomSFS=null,e.stateReel=0,e.totalLineBet=20,e.curRoomBet=50,e.funEnd=null,e.isShowBtnPlay=!0,e.dataFinish=null,e.sfsObjTest=null,e.stateSpin=null,e.timeShake=0,e.forceShake=0,e.makeDelay=null,e}return i(e,t),e.prototype.onLoad=function(){v.Windown.NgoKhong=this,this.makeDelay=new g.default(this),cc.log("start dieu thuyen"),this.gameType=d.default.NgoKhong,this.sfs=f.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(c.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),this.setupView(),this.stateReel=p.default.WAITING,this.stateSpin=new W.default,this.sendJoinRoom(),this.activeMask(!1)},e.prototype.sendJoinRoom=function(){cc.log("send creat room");try{var t=f.ConectManager.getIns().getValibleRoomName(),e=new SFS2X.RoomSettings(t),n=new SFS2X.RoomExtension("NgoKhongExtension","ext.Room.SlotNgoKhong.SlotGameView");e.extension=n,e.isGame=!0,e.maxUsers=1,e.groupId="NgoKhong",this.sfs.send(new SFS2X.CreateRoomRequest(e,!0))}catch(o){cc.error(o),this.onDisconnect()}},e.prototype.onDisconnect=function(){cc.log("disconnect"),v.Windown.UIManager.hideLoading(),v.Windown.UIManager.hideLoadingData(),cc.director.loadScene("main")},e.prototype.userExitRoom=function(t){cc.log("user exit room"),"NgoKhong"==t.room.groupId&&t.user.isItMe&&cc.director.loadScene("main")},e.prototype.onCreateError=function(){cc.log("creat errr"),v.Windown.UIManager.hideLoading(),cc.director.loadScene("main"),v.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM)},e.prototype.onJoinRoom=function(t){var e=t.room;if("NgoKhong"==e.groupId){this.roomSFS=e,v.Windown.UIManager.hideLoadingData();var n=e.getVariable("cf").value;cc.log(n);var o=[],i=JSON.parse(n);for(var r in i){var s=Object.create(null);s.bet=parseInt(r),s.perJp=i[r].percentPot/100,o.push(s)}o.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=o,this.curRoomBet=this.listConfigBet[0].bet,this.lb_totalBet.string=v.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),v.Windown.UIManager.hideLoading(),v.Windown.UIManager.hideLoadingData(),v.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM),cc.director.loadScene("main")},e.prototype.activeMask=function(t){t?(this.mask.stopAllActions(),this.mask.runAction(cc.fadeIn(.3))):(this.mask.stopAllActions(),this.mask.runAction(cc.fadeOut(.3)))},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(e){case u.REQUEST_CODE.SpinNgoKhong:cc.log(v.Windown.SFSObjToJson(n)),this.handleFinish(n);break;case u.REQUEST_CODE.HistoryNgoKhong:this.popupLichSu.responseServer(n)}},e.prototype.handleFinish=function(t){var e=this;if(t.containsKey(l.PlayerPP.ERR_MESSAGE))return this.stateSpin.handleErrSpin(),v.Windown.Dialog.showLog(t.get(l.PlayerPP.ERR_MESSAGE)),this.activeAllBtn(),void this.onClickResetCountAuto();this.dataFinish=t,v.Windown.MoneyUser.pushDelayMoney(this.gameType,this.dataFinish.get("agUser"),this.dataFinish.getLong("agWin")),this.truTienBet(this.dataFinish.get("agBet")*this.totalLineBet,this.dataFinish.get("agUser")),this.listResult=JSON.parse(t.get("views")),this.listResultConvert=this.convertResult(this.listResult,JSON.parse(v.Windown.SFSArrToJson(t.get("listItemWin"))));var n=this.listResultConvert[this.listResultConvert.length-1];if(n){var o=n.listIdSymbol;v.Windown.setLocalStorage("lastNgoKhong",JSON.stringify(o))}var i=this.stateSpin.isMaxSpeed?2.5:1;this.scheduleOnce(function(){e.stateReel=p.default.CAN_STOP;var t=e.stateSpin.isMaxSpeed?.2:.5;e.scheduleOnce(e.funEnd=function(){e.stateSpin.onEnd()},t)},.4/i)},e.prototype.onDestroy=function(){v.Windown.NgoKhong=null,this.dataFinish&&(v.Windown.MoneyUser.removeDelay(this.gameType),this.dataFinish=null),v.Windown.MoneyUser.endGameMOney(this.gameType),cc.systemEvent.removeAll(this),this.roomSFS=null,this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),this.makeDelay.clear()},e.prototype.start=function(){var t=this;this.setupView(),this.setUpPreItemKhung(),this.initItem(),v.Windown.AudioManager.isActiveSound&&v.Windown.AudioManager.isActiveMusic?(this.toggleMusic.isChecked=!0,this.toggleMusic.checkMark.node.active=!0,this.toggleMusic.node.children[0].active=!1):(this.toggleMusic.isChecked=!1,this.toggleMusic.checkMark.node.active=!1,this.toggleMusic.node.children[0].active=!0),cc.sys.isNative||this.scheduleOnce(function(){return s(t,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,v.Windown.loadBundle(d.default.NgoKhong.toString())];case 1:return t.sent().loadDir("Frefabs",function(){cc.log("load xong r ne")}),[2]}})})},3)},e.prototype.initItem=function(){var t=cc.instantiate(this.parentItem.children[0]),e=t.width,n=v.Windown.getLocalStorage("lastNgoKhong"),o=null;if(n)o=JSON.parse(n),cc.log("json.string: "+JSON.stringify(n));else{o=[];for(var i=0;i<5;i++){for(var r=[],s=0;s<4;s++)r.push(v.Windown.RandomNumber(0,13));o.push(r)}}for(i=0;i<5;i++){var a=this.parentItem.children[i];null==a&&((a=cc.instantiate(t)).parent=this.parentItem);var c=a.getComponent(T.default);this.listColum.push(c),c.index=i,c.setResultFirtGame(o[i]),c.node.x=e*i+e/2-5*e/2,c.node.y=0}this.emitNewScale(!1)},e.prototype.setUpPreItemKhung=function(){for(var t=0,e=this.listKhung.length;t<e;t++){var n=this.listKhung[t];t>0&&n.intiItemKhungPre(this.listKhung[t-1]),n.emitNewSize()}},e.prototype.setupView=function(){var t=cc.find("Game",this.node);if(cc.sys.isMobile)e=1280/720;else{var e=cc.view.getDesignResolutionSize().height/1280;t.setScale(e,e,e),this.bkgSprite.setContentSize(cc.winSize),v.Windown.UIManager.changeRotation(!0)}},e.prototype.emitNewScale=function(t){void 0===t&&(t=!0);var e=0,n=0,o=1,i=.2;for(var r in t||(i=0),this.listKhung){var s=this.listKhung[r];s.currentIndex>e&&(e=s.currentIndex),o*=s.currentIndex+4,Number(r)>0&&Number(r)<4&&s.currentIndex>n&&(n=s.currentIndex)}for(var a=1,c=0;c<e;c++)a*=.92;this.parentItem.runAction(cc.scaleTo(i,a)),this.parentKhung.runAction(cc.scaleTo(i,a)),this.parentEffect.runAction(cc.scaleTo(i,a));var l=130*n/2+3*n,u=400+(l*=a)/2;this.nodeLine.runAction(cc.moveTo(i,cc.v2(this.nodeLine.x,u))),this.lb_TotalLine.setMoney(o,!1,"",!1)},e.prototype.sendClickSpin=function(){if(null!=this.sfsObjTest)return f.ConectManager.getIns().sendRequest("testSpin",this.sfsObjTest,this.roomSFS),this.sfsObjTest=null,void cc.log("send test ne");var t=f.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),f.ConectManager.getIns().sendRequest(u.REQUEST_CODE.SpinNgoKhong,t,this.roomSFS)},e.prototype.onClickBtnSpin=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),this.stateReel!=p.default.WAITING?[3,2]:(this.stateReel=p.default.RUN,this.setStateEffBtnSpin(),this.offAllBtn(),this.infoBar.reset(),[4,this.stateSpin.onStart()]);case 1:return e.sent(),this.sendClickSpin(),[3,3];case 2:if(this.stateReel==p.default.CAN_STOP)return[2];this.stateReel==p.default.STOP||this.stateReel==p.default.SHOW_EFFECT&&(this.audio.playClick(),this.stateSpin.resetForNextNextSpin(),this.onClickBtnSpin()),e.label=3;case 3:return[3,5];case 4:return t=e.sent(),m.Util.ThrowErrProsime(t),[3,5];case 5:return[2]}})})},e.prototype.showContentTip=function(){},e.prototype.resetForNewGame=function(){this.stateReel=p.default.WAITING,this.setStateEffBtnSpin()},e.prototype.setStateEffBtnSpin=function(){var t=this.btnSpin.getComponent(cc.Animation),e=cc.find("sb_arrow",this.btnSpin),n=cc.find("sb_arrow_blur",this.btnSpin);if(this.stateReel!=p.default.STOP){var o=cc.Material.getBuiltinMaterial("2d-sprite");e.getComponent(cc.Sprite).setMaterial(0,o)}if(this.stateReel==p.default.WAITING||this.stateReel==p.default.SHOW_EFFECT)n.active=!1,e.active=!0,e.stopAllActions(),e.runAction(cc.repeatForever(cc.rotateBy(3,-360)));else if(this.stateReel==p.default.RUN)this.audio.playEffect(this.audio.spinBtn),this.audio.playEffect(this.audio.menu_icon_press),t.play("BtnSpin"),n.active=!0,n.stopAllActions(),n.runAction(cc.repeatForever(cc.rotateBy(.3,-360))),e.active=!1,this.infoBar.showRdContent(),this.aniAsAt.node.activeInHierarchy&&(this.aniAsAt.play("AnhSangActive"),this.aniSaoRoi.play("SaoRoi"));else if(this.stateReel==p.default.STOP){e.active=!0,e.stopAllActions(),n.active=!1;var i=cc.Material.getBuiltinMaterial("2d-gray-sprite");e.getComponent(cc.Sprite).setMaterial(0,i)}},e.prototype.setLbFreeSpinLeft=function(t){var e=this.lb_FSLeft.node.parent;this.lb_FSLeft.string=t,t<1?(cc.find("last_spin",e).active=!0,cc.find("remaining_spin",e).active=!1,this.lb_FSLeft.node.active=!1):(cc.find("last_spin",e).active=!1,cc.find("remaining_spin",e).active=!0,this.lb_FSLeft.node.active=!0)},e.prototype.setCountAuto=function(t){this.lb_CountAuto.node.parent.active=!(t<1),this.lb_CountAuto.string=t.toString()},e.prototype.showMoneyAllWin=function(t){cc.log("money win: "+t),this.labelChipReviceInBox.setMoney(t),v.Windown.MoneyUser.removeDelay(this.gameType)},e.prototype.offLbFree=function(){this.lb_FSLeft.node.parent.active=!1},e.prototype.onClickSendObjTest=function(){var t=f.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),t.putUtfString("arr","[[10,10,0,11],[10,9,0,3],[2,7,10,10],[0,5,6,0],[2,5,1,1]]"),this.sfsObjTest=t,this.onClickBtnSpin(),cc.log("onClickSendObjTest")},e.prototype.onClickTest=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(){return(t=f.ConectManager.getIns().getSFSObj()).putInt("bet",this.curRoomBet),t.putUtfString("arr","[[9,10,1,11],[9,7,0,3],[0,7,0,5],[6,0,7,7],[7,0,10,2]]"),this.sfsObjTest=t,this.onClickBtnSpin(),[2]})})},e.prototype.onClickResetCountAuto=function(){this.stateSpin.countAutoSpin=0,this.lb_CountAuto.node.parent.active=!1},e.prototype.onClickItemAutoSpin=function(t){this.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer).allowSwitchOff=!1;var e=t.node.name,n=Number(e);this.stateSpin.countAutoSpin=n,this.btnStartAuto.interactable=!0,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#FF8E26")},e.prototype.onClickStartAutoSpin=function(){this.onClickBtnSpin(),this.onClickCloseListAuto(),v.Windown.NgoKhong.stateSpin.countAutoSpin>0&&v.Windown.NgoKhong.setCountAuto(v.Windown.NgoKhong.stateSpin.countAutoSpin)},e.prototype.onClickShowListAuto=function(){this.nodeChooseAuto.active=!0,this.nodeChooseAuto.opacity=0,this.nodeChooseAuto.runAction(cc.fadeIn(.3)),this.btnStartAuto.interactable=!1,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")},e.prototype.onClickCloseListAuto=function(){var t=this;this.nodeChooseAuto.stopAllActions(),this.nodeChooseAuto.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){var e=t.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer);e.allowSwitchOff=!0,e.toggleItems.forEach(function(t){t.isChecked&&t.uncheck()}),t.nodeChooseAuto.active=!1,t.btnStartAuto.interactable=!1,t.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")})))},e.prototype.convertResult=function(t,e){for(var n=[],o=0,i=t;o<i.length;o++)for(var r=i[o],s=0,a=r.length;s<a;s++){var c=r[s];c.forEach(function(t){t.reverse()});var l=Object.create(null);if(l.listIdSymbol=c,l.isNoSap=!1,l.countScater=this.getCountScater(c),s==a-1){var u=e.shift();u&&(u.lsIdItem=JSON.parse(u.lsIdItem),u.lsstack=JSON.parse(u.lsstack),u.lsAgWin=JSON.parse(u.lsAgWin),u.lsAgWin.length>0&&(l.listItemWin=u,l.isNoSap=!0))}n.push(l)}return n},e.prototype.setResult=function(){},e.prototype.getListActiveScaster=function(t){for(var e=[],n=0,o=0;o<t.length;o++)n>=2?e.push(!0):e.push(!1),t[o].includes(12)&&n++;return e},e.prototype.onClickChangeBet=function(t,e){if(this.audio.playClick(),this.listConfigBet.length<1)v.Windown.Dialog.showLog(h.TextDefine.Error);else{var n=-1;for(var o in this.listConfigBet)if(this.listConfigBet[o].bet==this.curRoomBet){n=parseInt(o);break}0==e?n--:n++,n<0&&(n=this.listConfigBet.length-1),n>this.listConfigBet.length-1&&(n=0),this.curRoomBet=this.listConfigBet[n].bet,this.lb_totalBet.string=v.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.onClickCachChoi=function(){this.cachChoi.active=!0,this.cachChoi.opacity=0,this.cachChoi.stopAllActions(),this.cachChoi.runAction(cc.fadeIn(.3))},e.prototype.onCloseCachChoi=function(){var t=this;this.cachChoi.stopAllActions(),this.cachChoi.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.cachChoi.active=!1})))},e.prototype.onClickBackToLobby=function(){this.roomSFS?f.ConectManager.getIns().sendLeaveRoom(this.roomSFS):cc.director.loadScene("main")},e.prototype.onClickMusic=function(){var t=this.toggleMusic.isChecked;this.toggleMusic.node.children[0].active=!t,v.Windown.AudioManager?(v.Windown.AudioManager.isActiveSound=t,v.Windown.AudioManager.isActiveMusic=t):t?(v.Windown.setLocalStorage("sound","on"),v.Windown.setLocalStorage("music","on")):(v.Windown.setLocalStorage("sound","off"),v.Windown.setLocalStorage("music","off"))},e.prototype.onClickTurbo=function(){var t=this.toggleTurbo.isChecked;this.toggleTurbo.node.children[1].active=!t,this.stateSpin.isMaxSpeed=t,t?v.Windown.UIManager.showAlertMini("\u0110\xe3 B\u1eacT quay nhanh"):v.Windown.UIManager.showAlertMini("\u0110\xe3 T\u1eaeT quay nhanh")},e.prototype.onClickSeting=function(){if(this.audio.playClick(),cc.log("click onClickSeting"),this.isShowBtnPlay=!this.isShowBtnPlay,this.isShowBtnPlay)t=cc.v2(0,-750),this.nodeBtnPlay.runAction(cc.fadeIn(.4)),this.nodeBtnSeting.runAction(cc.spawn(cc.fadeOut(.3),cc.moveTo(.3,t)));else{this.nodeBtnPlay.stopAllActions(),this.nodeBtnSeting.stopAllActions();var t=cc.v2(0,-483.765);this.nodeBtnPlay.runAction(cc.fadeOut(.3)),this.nodeBtnSeting.opacity=0,this.nodeBtnSeting.runAction(cc.spawn(cc.fadeIn(.4),cc.moveTo(.4,t)))}},e.prototype.getCountScater=function(t){var e=0;return t.forEach(function(t){t.includes(12)&&e++}),e},e.prototype.getMakeDelay=function(t){return this.makeDelay.getDelay(t)},e.prototype.activeAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!0,t.node.children.forEach(function(t){t.color=cc.Color.fromHEX(new cc.Color,"#FFD500")})})},e.prototype.offAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!1,t.node.children.forEach(function(t){t.color=cc.Color.fromHEX(new cc.Color,"#999999")})})},e.prototype.truTienBet=function(t,e){0!=t&&v.Windown.MoneyUser.subMoney(t,e)},e.prototype.effectShake=function(t,e){void 0===t&&(t=.2),void 0===e&&(e=10),this.timeShake=t,this.forceShake=e},e.prototype.onClickLichSu=function(){this.popupLichSu.show()},e.prototype.update=function(t){if(this.timeShake>0){var e=cc.v2(v.Windown.RandomNumber(-this.forceShake,this.forceShake+1),v.Windown.RandomNumber(-this.forceShake,this.forceShake+1));this.parentEffect.parent.setPosition(e),this.timeShake-=t}else this.parentEffect.parent.setPosition(0,0)},r([R(cc.Animation)],e.prototype,"aniAsAt",void 0),r([R(cc.Animation)],e.prototype,"aniSaoRoi",void 0),r([R(S.default)],e.prototype,"asset",void 0),r([R(cc.Node)],e.prototype,"bkgSprite",void 0),r([R(cc.Node)],e.prototype,"parentItem",void 0),r([R(cc.Node)],e.prototype,"parentEffect",void 0),r([R(cc.Node)],e.prototype,"parentKhung",void 0),r([R(cc.Node)],e.prototype,"nodeLine",void 0),r([R(w.default)],e.prototype,"effect",void 0),r([R(y.default)],e.prototype,"labelChipReviceInBox",void 0),r([R([C.default])],e.prototype,"listKhung",void 0),r([R(cc.Label)],e.prototype,"lb_totalBet",void 0),r([R(cc.Label)],e.prototype,"lb_FSLeft",void 0),r([R(y.default)],e.prototype,"lb_TotalLine",void 0),r([R(cc.Label)],e.prototype,"lb_CountAuto",void 0),r([R(_.default)],e.prototype,"infoBar",void 0),r([R(cc.Node)],e.prototype,"btnSpin",void 0),r([R(cc.Node)],e.prototype,"mask",void 0),r([R(cc.Node)],e.prototype,"nodeChooseAuto",void 0),r([R(I.default)],e.prototype,"popupLichSu",void 0),r([R(b.default)],e.prototype,"audio",void 0),r([R([cc.Button])],e.prototype,"listNodeDeactive",void 0),r([R(cc.Node)],e.prototype,"cachChoi",void 0),r([R(cc.Node)],e.prototype,"nodeBtnPlay",void 0),r([R(cc.Node)],e.prototype,"nodeBtnSeting",void 0),r([R(cc.Toggle)],e.prototype,"toggleMusic",void 0),r([R(cc.Toggle)],e.prototype,"toggleTurbo",void 0),r([R(cc.Button)],e.prototype,"btnStartAuto",void 0),r([E],e)}(cc.Component);n.default=A,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../../Scritps/DefineTs/PlayerPP":"PlayerPP","../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Other/MakeDelay":"MakeDelay","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./AssetNgoKhong":"AssetNgoKhong","./AudioNgoKhong":"AudioNgoKhong","./EffectNgoKhong":"EffectNgoKhong","./InfoBarControllerNgoKhong":"InfoBarControllerNgoKhong","./ItemKhung":"ItemKhung","./ItemSlotNgoKhong":"ItemSlotNgoKhong","./LichSuNgoKhong":"LichSuNgoKhong","./SpinNormalNgoKhong":"SpinNormalNgoKhong"}],NhiemVuConTroller:[function(t,e,n){"use strict";cc._RF.push(e,"a107bleM7RDWJlrK+I2unwD","NhiemVuConTroller");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../DefineTs/EVENT_MANAGER"),s=t("../../DefineTs/PathResource"),a=t("../../DefineTs/REQUEST_CODE"),c=t("../../Network/ConectManager"),l=t("../../Windown"),u=t("../NhiemVuNap/NhiemVuNap"),p=t("./NhiemVu"),h=function(){function t(){this.listQuestTanThu=[],this.listQuestNapNgay=[],this.listQuestChoiGame=[],this.listQuestNapTanThu=[],this.timeReset=0,this.questView=null,this.questKMView=null,this.numQuestDone=0,this.numQuestDoneTanThu=0,this.numQuestDoneNapCard=0,this.numQuestDoneChoiGame=0,this.itemQuestViewFish=null,cc.systemEvent.on(r.EVENT_MANAGER.LOGIN,this.onLogin,this),cc.systemEvent.on(a.REQUEST_CODE.GetQuest,this.responseListQuest,this),cc.systemEvent.on(a.REQUEST_CODE.GetQuestFinish,this.reponseGetQuestFinish,this)}return t.prototype.onLogin=function(){c.ConectManager.getIns().sendRequest(a.REQUEST_CODE.GetQuest,null)},t.prototype.responseListQuest=function(t){cc.log(l.Windown.SFSObjToJson(t));var e=t.getSFSArray("QuestNap"),n=t.getSFSArray("QuestPlayGame"),o=t.getSFSArray("QuestOver"),i=t.getSFSArray("QuestNapTanThu");this.timeReset=t.get("secondReset")||43200,this.listQuestNapTanThu=[],this.listQuestTanThu=[],this.listQuestNapNgay=[],this.listQuestChoiGame=[];for(var r=0,s=e.size();r<s;r++)this.listQuestNapNgay.push(e.getSFSObject(r));for(r=0,s=n.size();r<s;r++)this.listQuestChoiGame.push(n.getSFSObject(r));for(r=0,s=o.size();r<s;r++)this.listQuestTanThu.push(o.getSFSObject(r));for(r=0,s=i.size();r<s;r++)this.listQuestNapTanThu.push(i.getSFSObject(r));this.refeshQuest()},t.prototype.sortListQuest=function(){this.numQuestDone=0,this.numQuestDoneTanThu=0,this.numQuestDoneNapCard=0,this.numQuestDoneChoiGame=0;for(var t=0,e=this.listQuestNapNgay;t<e.length;t++)1==(s=e[t]).getInt("status")&&(this.numQuestDone++,this.numQuestDoneNapCard++);for(var n=0,o=this.listQuestChoiGame;n<o.length;n++)1==(s=o[n]).getInt("status")&&(this.numQuestDone++,this.numQuestDoneChoiGame++);for(var i=0,r=this.listQuestTanThu;i<r.length;i++)1==(s=r[i]).getInt("status")&&(this.numQuestDone++,this.numQuestDoneTanThu++);for(var s in this.listQuestNapNgay.sort(function(t,e){var n=t.getInt("currenttarget")/t.getInt("questtarget");return e.getInt("currenttarget")/e.getInt("questtarget")-n}),this.listQuestChoiGame.sort(function(t,e){var n=t.getInt("currenttarget")/t.getInt("questtarget");return e.getInt("currenttarget")/e.getInt("questtarget")-n}),this.listQuestTanThu.sort(function(t,e){var n=t.getInt("currenttarget")/t.getInt("questtarget");return e.getInt("currenttarget")/e.getInt("questtarget")-n}),this.listQuestNapNgay)this.listQuestNapNgay[s].putInt("index",parseInt(s)),this.listQuestNapNgay[s].putInt("typeImg",1);for(var s in this.listQuestChoiGame)this.listQuestChoiGame[s].putInt("index",parseInt(s)),this.listQuestChoiGame[s].putInt("typeImg",2);for(var s in this.listQuestTanThu)this.listQuestTanThu[s].putInt("index",parseInt(s)),this.listQuestTanThu[s].putInt("typeImg",3)},t.prototype.showQuest=function(){return o(this,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:return l.Windown.UIManager.showLoading(),null!=this.questView?[3,2]:[4,l.Windown.getPrefabRes(s.PathResource.NhiemVu)];case 1:t=e.sent(),this.questView=cc.instantiate(t).getComponent(p.default),e.label=2;case 2:return this.questView.node.parent=l.Windown.UIManager.parentPopup,l.Windown.UIManager.hideLoading(),[2]}})})},t.prototype.showQuestKM=function(){return o(this,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:return l.Windown.UIManager.showLoading(),null!=this.questKMView?[3,2]:[4,l.Windown.getPrefabRes(s.PathResource.NhiemVuNap)];case 1:t=e.sent(),this.questKMView=cc.instantiate(t).getComponent(u.default),e.label=2;case 2:return this.questKMView.node.parent=l.Windown.UIManager.parentPopup,l.Windown.UIManager.hideLoading(),[2]}})})},t.prototype.refeshQuest=function(){this.sortListQuest(),l.Windown.MainView&&l.Windown.MainView.updateNumDoneQuest(),this.questView&&this.questView.node.parent&&this.questView.refesh(),this.questKMView&&this.questKMView.node.parent&&this.questKMView.refesh(),this.itemQuestViewFish&&this.itemQuestViewFish.refresh()},t.prototype.reponseGetQuestFinish=function(t){l.Windown.Dialog.checkAndShowLog(t);var e=t.getInt("type"),n=this.getSFSQuestById(e);n&&n.putInt("status",2),this.refeshQuest()},t.prototype.getSFSQuestById=function(t){for(var e=0,n=this.listQuestNapNgay;e<n.length;e++)if((a=n[e]).getInt("type")==t)return a;for(var o=0,i=this.listQuestChoiGame;o<i.length;o++)if((a=i[o]).getInt("type")==t)return a;for(var r=0,s=this.listQuestTanThu;r<s.length;r++){var a;if((a=s[r]).getInt("type")==t)return a}return null},t}();n.default=h,cc._RF.pop()},{"../../DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../DefineTs/PathResource":"PathResource","../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../Network/ConectManager":"ConectManager","../../Windown":"Windown","../NhiemVuNap/NhiemVuNap":"NhiemVuNap","./NhiemVu":"NhiemVu"}],NhiemVuNap:[function(t,e,n){"use strict";cc._RF.push(e,"50f21hZXjBANbpZNfN1n1ln","NhiemVuNap");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/REQUEST_CODE"),a=t("../../Network/ConectManager"),c=t("../../Parent/ScrollViewControl"),l=t("../../Windown"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scr=null,e.tabProgress=null,e.tabRule=null,e.isCdTime=!1,e.timeReset=0,e}return i(e,t),e.prototype.onLoad=function(){l.Windown.NhiemVuNap=this},e.prototype.onEnable=function(){l.Windown.actionEffectOpenPopup(this.node),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.GetQuest,null),this.isCdTime=!1},e.prototype.updateItem=function(t,e){cc.log(e),t.getComponent("ItemNhiemVu").initItem(e),t.active=!0},e.prototype.refesh=function(){var t=[],e=[];(t=l.Windown.NhiemVuConTroller.listQuestNapTanThu).forEach(function(t){e.push(JSON.parse(l.Windown.SFSObjToJson(t)))}),t&&this.scr.setDataList(this.updateItem,e)},e.prototype.onClickClose=function(t,e){var n=this;l.Windown.actionEffectClosePopup(this.node,function(){n.node.parent=null,e&&e()})},e.prototype.onClickTab=function(t,e){this.tabProgress.active=0==e,this.tabRule.active=1==e},r([h(c.default)],e.prototype,"scr",void 0),r([h(cc.Node)],e.prototype,"tabProgress",void 0),r([h(cc.Node)],e.prototype,"tabRule",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../Network/ConectManager":"ConectManager","../../Parent/ScrollViewControl":"ScrollViewControl","../../Windown":"Windown"}],NhiemVu:[function(t,e,n){"use strict";cc._RF.push(e,"92047uyo75IuKnwQIbOpfsj","NhiemVu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/REQUEST_CODE"),a=t("../../Network/ConectManager"),c=t("../../Parent/ScrollViewControl"),l=t("../../Windown"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scr=null,e.toggleContainer=null,e.lbTime=null,e.funCdTime=null,e.isCdTime=!1,e}return i(e,t),e.prototype.onLoad=function(){l.Windown.NhiemVu=this},e.prototype.onEnable=function(){l.Windown.actionEffectOpen(this.node),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.GetQuest,null),this.isCdTime=!1},e.prototype.updateItem=function(t,e){t.getComponent("ItemNhiemVu").initItem(e),t.active=!0},e.prototype.refesh=function(){for(var t=this,e=function(t){var e=t.node.name;if(t.isChecked){var o=[],i=[];if(n.lbTime.node.active=!0,"napngay"==e)o=l.Windown.NhiemVuConTroller.listQuestNapNgay;else if("choigame"==e)o=l.Windown.NhiemVuConTroller.listQuestChoiGame;else if("tanthu"==e){o=l.Windown.NhiemVuConTroller.listQuestTanThu;for(var r=0;r<o.length;r++)7!=o[r].getInt("type")&&8!=o[r].getInt("type")&&9!=o[r].getInt("type")||(o.splice(r,1),r--);n.lbTime.node.active=!1}o.forEach(function(t){t.putUtfString("nameTab",e),i.push(JSON.parse(l.Windown.SFSObjToJson(t)))}),o&&n.scr.setDataList(n.updateItem,i)}if("napngay"==e){var s=l.Windown.NhiemVuConTroller.numQuestDoneNapCard;(a=cc.find("xx6",t.node).getComponentInChildren(cc.Label)).string=s.toString(),a.node.parent.active=s>0}else if("choigame"==e)s=l.Windown.NhiemVuConTroller.numQuestDoneChoiGame,(a=cc.find("xx6",t.node).getComponentInChildren(cc.Label)).string=s.toString(),a.node.parent.active=s>0;else if("tanthu"==e){var a;s=l.Windown.NhiemVuConTroller.numQuestDoneTanThu,(a=cc.find("xx6",t.node).getComponentInChildren(cc.Label)).string=s.toString(),a.node.parent.active=s>0}},n=this,o=0,i=this.toggleContainer.toggleItems;o<i.length;o++)e(i[o]);if(!this.isCdTime){var r=l.Windown.NhiemVuConTroller.timeReset;this.unschedule(this.funCdTime),this.schedule(this.funCdTime=function(){t.lbTime.string="L\xe0m m\u1edbi nhi\u1ec7m v\u1ee5 sau: "+l.Windown.formatTimeBySec(r),--r<0&&(a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.GetQuest,null),t.isCdTime=!1)},1,l.Windown.NhiemVuConTroller.timeReset,0),this.isCdTime=!0}},e.prototype.initListNhiemVu=function(){},e.prototype.onClickClose=function(t,e){var n=this;l.Windown.actionEffectClose(this.node,function(){n.node.parent=null,e&&e()})},e.prototype.onDisable=function(){l.Windown.NhiemVu=null},r([h(c.default)],e.prototype,"scr",void 0),r([h(cc.ToggleContainer)],e.prototype,"toggleContainer",void 0),r([h(cc.Label)],e.prototype,"lbTime",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../Network/ConectManager":"ConectManager","../../Parent/ScrollViewControl":"ScrollViewControl","../../Windown":"Windown"}],NodeChooseFS:[function(t,e,n){"use strict";cc._RF.push(e,"55ec3TfL61FqqQKp96p7GmN","NodeChooseFS");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/REQUEST_CODE"),l=t("../../../Scritps/Network/ConectManager"),u=t("../../../Scritps/Util"),p=t("../../../Scritps/Windown"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.funNext=null,e.typeFree=null,e}return i(e,t),e.prototype.start=function(){var t=this;cc.systemEvent.on(c.REQUEST_CODE.SelectTypeFree,this.responseServer,this);var e=cc.find("BtnNext",this.node),n=cc.find("BtnPre",this.node),o=cc.find("BtnSpine",this.node),i=this.parentItem.children[0],r=this.parentItem.children[1],s=this.parentItem.children[2];i.runAction(cc.sequence(cc.moveTo(.5,cc.v2(0,0)).easing(cc.easeSineOut()),cc.callFunc(function(){t.activeAc(i)}))),this.scheduleOnce(function(){r.runAction(cc.sequence(cc.moveTo(.6,cc.v2(-280,0)).easing(cc.easeSineOut()),cc.delayTime(.6),cc.spawn(cc.scaleTo(.4,.8),cc.bezierTo(.8,[cc.v2(-600,0),cc.v2(-700,0),cc.v2(-323)]).easing(cc.easeSineOut())))),s.runAction(cc.sequence(cc.moveTo(.6,cc.v2(280,0)).easing(cc.easeSineOut()),cc.delayTime(.6),cc.spawn(cc.scaleTo(.4,.8),cc.bezierTo(.8,[cc.v2(600,0),cc.v2(700,0),cc.v2(323)]).easing(cc.easeSineOut())))),t.scheduleOnce(function(){r.zIndex=0,s.zIndex=1,i.zIndex=2,t.parentItem.sortAllChildren(),t.onMask(i),e.active=!0,n.active=!0,o.active=!0,e.runAction(cc.fadeIn(.3)),n.runAction(cc.fadeIn(.3)),o.runAction(cc.fadeIn(.3))},1.6)},1),p.Windown.DieuThuyen.audio.playChooseFreeType(),p.Windown.DieuThuyen.stateSpin.countAutoSpin>0&&this.scheduleOnce(this.autoChoose,5)},e.prototype.autoChoose=function(){return s(this,void 0,void 0,function(){var t,e,n;return a(this,function(o){switch(o.label){case 0:o.trys.push([0,5,,6]),t=p.Windown.RandomNumber(1,5),e=0,o.label=1;case 1:return e<t?(this.onClickNext(),[4,p.Windown.DieuThuyen.makeDelay(.35)]):[3,4];case 2:o.sent(),o.label=3;case 3:return e++,[3,1];case 4:return this.onClickXacNhan(),[3,6];case 5:return n=o.sent(),u.Util.ThrowErrProsime(n),[3,6];case 6:return[2]}})})},e.prototype.responseServer=function(t){var e=this;this.unschedule(this.autoChoose),p.Windown.Dialog.checkAndShowLog(t),cc.log(p.Windown.SFSObjToJson(t)),this.typeFree=t.get("type");var n=t.get("numFree");p.Windown.DieuThuyen.stateSpin.lastTypeFree=this.typeFree,p.Windown.DieuThuyen.stateSpin.lastFreeSpinLeft=n,p.Windown.DieuThuyen.stateSpin.freeSpinLeft=n,p.Windown.DieuThuyen.setLbFreeSpinLeft(n),p.Windown.DieuThuyen.setMutilMoney(),p.Windown.DieuThuyen.activeLbFree(),p.Windown.DieuThuyen.activeNodeMutil(),p.Windown.DieuThuyen.audio.offChooseFree(),"freeLuBo"==this.typeFree?p.Windown.DieuThuyen.audio.playEffect(p.Windown.DieuThuyen.audio.lv_bu_bg,1,!0):"freeDieuThuyen"==this.typeFree?p.Windown.DieuThuyen.audio.playEffect(p.Windown.DieuThuyen.audio.diao_chan_bg,1,!0):p.Windown.DieuThuyen.audio.playEffect(p.Windown.DieuThuyen.audio.dong_zhuo_bg,.7),this.funNext&&this.funNext(),this.node.runAction(cc.sequence(cc.moveTo(.3,cc.v2(0,-1e3)),cc.callFunc(function(){e.node.destroy()})))},e.prototype.waitHandle=function(){var t=this;return new Promise(function(e){t.funNext=e})},e.prototype.onClickPre=function(){var t=this,e=this.parentItem.children;e.forEach(function(t){t.stopAllActions()}),e[2].runAction(cc.spawn(cc.scaleTo(.25,.8),cc.moveTo(.25,cc.v2(323)).easing(cc.easeSineOut()))),e[1].runAction(cc.spawn(cc.scaleTo(.25,.8),cc.moveTo(.25,cc.v2(-323)).easing(cc.easeSineOut()))),e[0].runAction(cc.spawn(cc.scaleTo(.25,1),cc.moveTo(.25,cc.v2(0)).easing(cc.easeSineOut()))),this.scheduleOnce(function(){e[2].zIndex=1,e[1].zIndex=0,e[0].zIndex=2,t.parentItem.sortAllChildren()},.1),this.scheduleOnce(function(){t.offAc(e[1]),t.offAc(e[0]),t.activeAc(e[2])},.25),this.offMask(e[2]),this.offMask(e[1]),this.onMask(e[0])},e.prototype.onClickNext=function(){var t=this,e=this.parentItem.children;e.forEach(function(t){t.stopAllActions()}),e[2].runAction(cc.spawn(cc.scaleTo(.25,.8),cc.moveTo(.25,cc.v2(-323)).easing(cc.easeSineOut()))),e[1].runAction(cc.spawn(cc.scaleTo(.25,1),cc.moveTo(.25,cc.v2(0)).easing(cc.easeSineOut()))),e[0].runAction(cc.spawn(cc.scaleTo(.25,.8),cc.moveTo(.25,cc.v2(323)).easing(cc.easeSineOut()))),this.scheduleOnce(function(){e[2].zIndex=0,e[1].zIndex=2,e[0].zIndex=1,t.parentItem.sortAllChildren()},.1),this.scheduleOnce(function(){t.offAc(e[1]),t.offAc(e[0]),t.activeAc(e[2])},.25),this.offMask(e[2]),this.offMask(e[0]),this.onMask(e[1])},e.prototype.offAc=function(t){for(var e=t.children[0],n=2;n<6;n++)e.children[n].stopAllActions();e.children[2].runAction(cc.sequence(cc.delayTime(.2),cc.spawn(cc.fadeOut(.2),cc.moveTo(.2,cc.v2(0,-784)).easing(cc.easeSineIn())))),e.children[3].runAction(cc.sequence(cc.delayTime(.2),cc.spawn(cc.fadeOut(.2),cc.moveTo(.2,cc.v2(0,-650)).easing(cc.easeSineIn())))),e.children[4].runAction(cc.sequence(cc.delayTime(.1),cc.spawn(cc.fadeOut(.2),cc.moveTo(.2,cc.v2(0,-766)).easing(cc.easeSineIn())))),e.children[5].runAction(cc.spawn(cc.fadeOut(.2),cc.moveTo(.2,cc.v2(0,-852)).easing(cc.easeSineIn())))},e.prototype.activeAc=function(t){var e=t.children[0],n=e.children[1].getComponent(sp.Skeleton);n.setAnimation(0,"Idle_2",!1),n.addAnimation(0,"Idle_1",!0);for(var o=2;o<6;o++)e.children[o].stopAllActions();e.children[2].runAction(cc.spawn(cc.fadeIn(.2),cc.moveTo(.2,cc.v2(0,-284)).easing(cc.easeSineOut()))),e.children[3].runAction(cc.spawn(cc.fadeIn(.2),cc.moveTo(.2,cc.v2(0,-150)).easing(cc.easeSineOut()))),e.children[4].runAction(cc.sequence(cc.delayTime(.1),cc.spawn(cc.fadeIn(.2),cc.moveTo(.2,cc.v2(0,-266)).easing(cc.easeSineOut())))),e.children[5].runAction(cc.sequence(cc.delayTime(.2),cc.spawn(cc.fadeIn(.2),cc.moveTo(.2,cc.v2(0,-352)).easing(cc.easeSineOut()))))},e.prototype.onClickXacNhan=function(){p.Windown.UIManager.showLoading();var t=l.ConectManager.getIns().getSFSObj();t.putUtfString("type",this.parentItem.children[2].name),l.ConectManager.getIns().sendRequest(c.REQUEST_CODE.SelectTypeFree,t,p.Windown.DieuThuyen.roomSFS),this.unschedule(this.autoChoose)},e.prototype.offMask=function(t){var e=t.children[1],n=t.children[2];e.runAction(cc.fadeOut(.2)),n.runAction(cc.fadeOut(.2))},e.prototype.onMask=function(t){var e=t.children[1],n=t.children[2];e.runAction(cc.fadeTo(.2,150)),n.runAction(cc.fadeTo(.2,150))},e.prototype.onDestroy=function(){this.unschedule(this.autoChoose),cc.systemEvent.removeAll(this)},r([f(cc.Node)],e.prototype,"parentItem",void 0),r([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],NotiFish:[function(t,e,n){"use strict";cc._RF.push(e,"4986cw4tMpMb6Q+ESkMFufi","NotiFish");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Game/GAME_TYPE"),a=t("../../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.description=null,e.isRuning=!1,e.listCache=[],e}return i(e,t),e.prototype.onLoad=function(){a.Windown.BigWinLobby.notiFish=this},e.prototype.onDestroy=function(){a.Windown.BigWinLobby.notiFish=null},e.prototype.addNotiShow=function(t){var e=this,n=t.get("gt"),o=t.get("dt"),i=t.get("nn"),r=t.get("mt");if(n==s.default.BongDem)if(this.isRuning)this.listCache.push(t);else{var c="";switch(o){case"24":c="\u0111\xe3 h\u1ea1 C\xe1 Voi Xanh";break;case"100":c="\u0111\xe3 N\u1ed4 H\u0168 C\xe1";break;case"101":c="\u0111\xe3 h\u1ea1 BOSS C\xe1 X\u1ea5u";break;case"103":c="\u0111\xe3 h\u1ea1 BOSS H\u1ecfa Long Qui";break;case"51":c="\u0111\xe3 h\u1ea1 Cua Laze";break;case"52":c="\u0111\xe3 h\u1ea1 Boom Nguy\xean T\u1eed";break;case"53":c="\u0111\xe3 h\u1ea1 T\xf4m M\u0169i Khoan";break;case"56":c="\u0111\xe3 h\u1ea1 Cua Quay";break;case"55":c="\u0111\xe3 h\u1ea1 Cua R\u1ed3ng";break;case"54":c="\u0111\xe3 h\u1ea1 Cua Si\xeau \xc2m";break;case"33":c="\u0111\xe3 h\u1ea1 BOSS H\u1ea3i Th\u1ea7n";break;case"28":c="\u0111\xe3 h\u1ea1 c\xe1 Th\u1ea7n T\xe0i";break;case"27":c="\u0111\xe3 h\u1ea1 C\xe1 M\u1eadp \u0110\u1ea1i D\u01b0\u01a1ng";break;case"102":c="\u0111\xe3 h\u1ea1 BOSS B\xf3ng \u0110\xeam";break;case"7":c="\u0111\xe3 d\xf9ng BOOM Nguy\xean T\u1eed";break;case"8":c="\u0111\xe3 d\xf9ng M\u1eaft Th\u1ea7n";break;case"9":c="\u0111\xe3 d\xf9ng \u0110inh Ba";break;case"70":case"71":case"72":case"73":c="\u0111\xe3 h\u1ea1 C\xe1 \u0110\u1eb7c Bi\u1ec7t";break;case"74":c="\u0111\xe3 h\u1ea1 C\xe1 \u0110I\u1ec6N"}if(""!=c){this.isRuning=!0;var l="Ch\xfac m\u1eebng ng\u01b0 d\xe2n </c><color=#0fffff> "+i+"</color> "+c+" thu \u0111\u01b0\u1ee3c <color=#FFF500> "+a.Windown.formatNumber(r)+"</color>";this.description.string=l,this.description.node.parent.active=!0,this.node.children[0].active=!0;var u=this.description.node.width,p=this.description.node.parent.width;this.description.node.x=100;var h=p+u,d=h/140;cc.Tween.stopAllByTarget(this.description.node),cc.tween(this.description.node).to(d,{x:-h}).delay(1).call(function(){e.isRuning=!1,e.listCache.length>0?e.addNotiShow(e.listCache.shift()):(e.description.node.parent.active=!1,e.node.children[0].active=!1)}).start()}}},r([u(cc.RichText)],e.prototype,"description",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../../Scritps/Windown":"Windown"}],NotiNoHu:[function(t,e,n){"use strict";cc._RF.push(e,"f3d2a4TjIxICr0b4NyO33FZ","NotiNoHu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./DefineTs/EVENT_MANAGER"),a=t("./DefineTs/PlayerPP"),c=t("./Game/GAME_TYPE"),l=t("./Windown"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbNickName=null,e.lbTitle=null,e.lbGold=null,e.nodeMove=null,e.vecStart=cc.v2(0,cc.winSize.height/2),e.vecEnd=cc.v2(0,549.396),e}return i(e,t),e.prototype.onLoad=function(){l.Windown.NotiNoHu=this,cc.systemEvent.on(s.EVENT_MANAGER.CHANG_ROTATION,this.changeRotation,this)},e.prototype.start=function(){this.changeRotation()},e.prototype.changeRotation=function(){if(cc.log("nhay vao changeRotation"),l.Windown.UIManager.isVertical){var t=(cc.winSize.width-1280)/2;this.nodeMove.x=0,this.nodeMove.y=cc.winSize.height/2-this.nodeMove.height/2,this.nodeMove.angle=0,this.vecStart=cc.v2(0,cc.winSize.height/2),this.vecEnd=cc.v2(0,cc.winSize.height/2-this.nodeMove.height/2-25)}else t=(-cc.winSize.width+this.node.height)/2,this.nodeMove.y=0,this.nodeMove.x=t,this.nodeMove.angle=90,this.vecStart=cc.v2(-cc.winSize.width/2,0),this.vecEnd=cc.v2((-cc.winSize.width+this.nodeMove.height)/2+25,0)},e.prototype.show=function(t){var e=this;cc.log("Show noti no hu");var n=t.getLong("MoneyRevice"),o=t.getUtfString(a.PlayerPP.NickName),i=t.get("gameType");if(o!=l.Windown.User.nickName){i==c.default.MiniPoker?this.lbTitle.string="N\u1ed5 H\u0169 MINI Poker":i==c.default.MiniSlot?this.lbTitle.string="N\u1ed5 H\u0169 GEMS":i==c.default.CaMap&&(this.lbTitle.string="N\u1ed5 H\u0169 B\u1eaeN C\xc1"),this.nodeMove.active=!0,this.lbNickName.string=o,this.lbGold.string=l.Windown.formatNumber(n);var r=this.nodeMove;r.stopAllActions(),r.opacity=0,r.setPosition(this.vecStart),r.runAction(cc.sequence(cc.spawn(cc.fadeIn(.5).easing(cc.easeSineIn()),cc.moveTo(.5,this.vecEnd).easing(cc.easeBackOut())),cc.delayTime(3),cc.fadeOut(1),cc.callFunc(function(){e.nodeMove.active=!1})))}},r([h(cc.Label)],e.prototype,"lbNickName",void 0),r([h(cc.Label)],e.prototype,"lbTitle",void 0),r([h(cc.Label)],e.prototype,"lbGold",void 0),r([h(cc.Node)],e.prototype,"nodeMove",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"./DefineTs/EVENT_MANAGER":"EVENT_MANAGER","./DefineTs/PlayerPP":"PlayerPP","./Game/GAME_TYPE":"GAME_TYPE","./Windown":"Windown"}],NotiTopMesage:[function(t,e,n){"use strict";cc._RF.push(e,"5d6a7hWgplDDal+hTxlnJ1t","NotiTopMesage");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeAni=null,e.lbSender=null,e.lbHeader=null,e.idMail=-1,e}return i(e,t),e.prototype.show=function(t){this.node.active=!0,this.nodeAni.play("NotiTop");var e=t.getUtfString("header"),n=t.getUtfString("sender");this.idMail=t.getInt("idMail"),this.lbSender.string=n+"-> T\xf4i",e.length>20&&(e=e.substring(0,20)+"..."),this.lbHeader.string=e,this.unschedule(this.onClickClose),this.unschedule(this.onHide),this.scheduleOnce(this.onClickClose,5),cc.sys.isNative&&(s.Windown.UIManager.playSoundWithUrl("Sound1/mail"),jsb.Device.vibrate(1))},e.prototype.onClickDoc=function(){-1!=this.idMail&&s.Windown.UIManager.showHomThu(this.idMail),this.idMail=-1,this.onClickClose()},e.prototype.onClickClose=function(){this.unschedule(this.onClickClose),this.unschedule(this.onHide),this.nodeAni.play("NotiTopOff"),this.schedule(this.onHide,1)},e.prototype.onHide=function(){this.node.active=!1},r([l(cc.Animation)],e.prototype,"nodeAni",void 0),r([l(cc.Label)],e.prototype,"lbSender",void 0),r([l(cc.Label)],e.prototype,"lbHeader",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Windown":"Windown"}],OSDefine:[function(t,e,n){"use strict";cc._RF.push(e,"8cb2c3okH5IBpHvDOVq+99E","OSDefine"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.ANDROID=1,t.IOS=2,t.WEB_PC=3,t.WEB_MOBILE=4,t.OTHER=5,t}();n.default=o,cc._RF.pop()},{}],ObjMakeDelay:[function(t,e,n){"use strict";cc._RF.push(e,"fd6b9uFHRREBJcLo0LpzhKl","ObjMakeDelay"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e,n){this.id=null,this.main=t,this.prosime=e,this.id=n}return t.prototype.cancle=function(t){this.main.cancaleDelay(this.id,t)},t}();n.default=o,cc._RF.pop()},{}],OffMiniGame:[function(t,e,n){"use strict";cc._RF.push(e,"774eeI3stFBorDJuC9anzCP","OffMiniGame");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Windown"),a=t("./DragMiniGame"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isMoveBtnMiniGame=!1,e._isTouch=!1,e._v2OffsetChange=null,e._isDrag=!1,e._isMiniSize=!1,e.offsetX=0,e.offsety=0,e}return i(e,t),e.prototype.onLoad=function(){this.offsetX=cc.winSize.width/2,this.offsety=cc.winSize.height/2,this.node&&this.node.setContentSize(cc.winSize)},e.prototype._touchStart=function(){s.Windown.UIManager.parentMiniGame.children.forEach(function(t){var e=t.getComponent(a.default);e&&e.miniSize(!1)}),this.node.active=!1},e.prototype.onEvent=function(){this.node.active=!0,this.node.once(cc.Node.EventType.TOUCH_START,this._touchStart,this)},e.prototype.onEnable=function(){this.funUpdate(),cc.view.on("canvas-resize",this.funUpdate,this),window.addEventListener("orientationchange",this.funUpdate.bind(this))},e.prototype.funUpdate=function(){this.node&&this.node.setContentSize(cc.winSize)},e.prototype.onDisable=function(){cc.view.targetOff(this),window.removeEventListener("orientationchange",this.funUpdate)},r([l],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../Windown":"Windown","./DragMiniGame":"DragMiniGame"}],OpenDefaultAnimClip:[function(t,e,n){"use strict";cc._RF.push(e,"d97deEjoZFDkLh2lwo4b+w6","OpenDefaultAnimClip");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.openClipName="",e}return i(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){this.getComponent(cc.Animation).play(this.openClipName)},r([c],e.prototype,"openClipName",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],PageData:[function(t,e,n){"use strict";cc._RF.push(e,"23251wgkaFKa7D+TbypjVkG","PageData");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./ItemIndicator"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentIndicator=null,e.content=null,e.clickEvents=[],e.currentIndexPage=0,e.totalPage=0,e.listItemIndecator=[],e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.listItemIndecator=this.parentIndicator.getComponentsInChildren(s.default),this.listItemIndecator.forEach(function(e){return e.setPage(t)})},e.prototype.start=function(){},e.prototype.setTotalPage=function(t,e){if(void 0===e&&(e=!1),this.totalPage!=t){this.totalPage=t,this.currentIndexPage=1;var n=this.getListInvalitorValible();n[0].initIndex(1),n[n.length-1].initIndex(this.totalPage),this.resetAllIndicator(),this.setupIndicator(),this.setCheckItem(),this.checkTotalPage(),e&&this.listItemIndecator[this.listItemIndecator.length-1].onClick(null,null)}},e.prototype.getListInvalitorValible=function(){return this.totalPage<7?this.listItemIndecator.slice(0,this.totalPage):this.listItemIndecator},e.prototype.checkTotalPage=function(){if(this.listItemIndecator.forEach(function(t){return t.node.active=!0}),this.totalPage<7)for(var t=this.totalPage,e=this.listItemIndecator.length;t<e;t++)this.listItemIndecator[t].node.active=!1;else this.listItemIndecator.forEach(function(t){return t.node.active=!0})},e.prototype.setupIndicator=function(){var t=this.getListInvalitorValible();if(this.totalPage<7){var e=1;t.forEach(function(t){t.initIndex(e),e++})}else{var n=t.slice(1,6),o=this.currentIndexPage-2;o<2&&(o=2),o+5>this.totalPage-1&&(o=this.totalPage-5);for(var i=0,r=n.length;i<r;i++){var s=n[i];0==i?o>2?s.initIndex(-1):s.initIndex(o):i==r-1&&o<this.totalPage-1?s.initIndex(-1):s.initIndex(o),o++}}},e.prototype.setCheckItem=function(){for(var t in this.listItemIndecator){var e=this.listItemIndecator[t];if(e.getIndex()==this.currentIndexPage){e.setCheck(!0);break}}},e.prototype.resetAllIndicator=function(){this.listItemIndecator.forEach(function(t){return t.setCheck(!1)})},e.prototype.onClickIndicator=function(t){-1!=t&&(t>this.totalPage?t=this.totalPage:t<1&&(t=1),this.currentIndexPage!=t&&(this.currentIndexPage=t,cc.Component.EventHandler.emitEvents(this.clickEvents,this.currentIndexPage),this.resetAllIndicator(),this.setupIndicator(),this.setCheckItem()))},e.prototype.reset=function(){this.currentIndexPage=1},e.prototype.onClickNext=function(){this.onClickIndicator(this.currentIndexPage+1)},e.prototype.onClickPre=function(){this.onClickIndicator(this.currentIndexPage-1)},r([l(cc.Node)],e.prototype,"parentIndicator",void 0),r([l(cc.Node)],e.prototype,"content",void 0),r([l(cc.Component.EventHandler)],e.prototype,"clickEvents",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./ItemIndicator":"ItemIndicator"}],PageViewEvent:[function(t,e,n){"use strict";cc._RF.push(e,"8396bFSQlRCuYH+Y5GCxSPB","PageViewEvent");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageView=null,e.funScroolPage=null,e}return i(e,t),e.prototype.start=function(){this.funChangePage()},e.prototype.funChangePage=function(){var t=this,e=this.pageView.getCurrentPageIndex()+1;e>=this.pageView.getPages().length&&(e=0),this.unschedule(this.funScroolPage),this.scheduleOnce(this.funScroolPage=function(){t.pageView.scrollToPage(e,.5)},5)},e.prototype.onChangePage=function(){this.funChangePage()},e.prototype.onClick=function(){0==this.pageView.getCurrentPageIndex()?(cc.log("chay vao day na"),cc.sys.openURL(s.Windown.LinkEventfanpage)):s.Windown.UIManager.showSuKien(this.pageView.getCurrentPageIndex()+1)},r([l(cc.PageView)],e.prototype,"pageView",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../Windown":"Windown"}],PanelPoint:[function(t,e,n){"use strict";cc._RF.push(e,"8be8esEk+RKfLsC/LbSleUI","PanelPoint");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../../Scritps/Game/GAME_TYPE"),c=t("../../../../Scritps/Network/ConectManager"),l=t("../../../../Scritps/Obs/LbMoneyChange"),u=t("../../../../Scritps/Windown"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isEnd=!1,e.moneyCurrent=0,e.lbMoney=null,e.listHandle=[],e.playerBD=null,e.idGun=-1,e.byFishType=-1,e.isDestroy=!1,e}return i(e,t),e.prototype.init=function(t,e,n){null!=t?(this.node.active=!0,this.node.x=0,this.byFishType=n,this.playerBD=t,this.idGun=e,this.playerBD.mapNodePanel.set(e,this.node),this.node.parent=this.playerBD.parentPanel,this.node.scale=0,this.node.opacity=255,this.node.stopAllActions(),this.node.runAction(cc.scaleTo(.3,1).easing(cc.easeBackOut())),this.reset()):this.actionEnd()},e.prototype.reset=function(){this.isDestroy||(this.listHandle=[],this.lbMoney.resetLb(),this.isEnd=!1,this.moneyCurrent=0)},e.prototype.addMoney=function(t){this.isDestroy||(this.moneyCurrent+=t,this.lbMoney&&this.lbMoney.setMoney(this.moneyCurrent))},e.prototype.addHandle=function(t){this.isDestroy||this.listHandle.push(t)},e.prototype.onDestroy=function(){this.isDestroy=!0},e.prototype.removeHandle=function(t){if(!this.isDestroy){var e=this.listHandle.indexOf(t);return e>-1&&this.listHandle.splice(e,1),this.listHandle.length<1&&this.isEnd&&this.actionEnd(),this.listHandle.length<1&&this.isEnd}},e.prototype.end=function(){this.isDestroy||(this.isEnd=!0,this.listHandle.length<1&&this.actionEnd())},e.prototype.actionEnd=function(){var t=this;if(this.playerBD&&this.playerBD.mapNodePanel.delete(this.idGun),this.moneyCurrent<1)this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){t.node.destroy()})));else{var e=u.Windown.FishBongDem.getSound();if(e.playEffect(e.caLonChet),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.scaleTo(.5,1.3),cc.scaleTo(.3,1),cc.delayTime(2.5),cc.fadeOut(.5),cc.callFunc(function(){t.node.destroy()}))),this.playerBD.isMe){var n=c.ConectManager.getIns().getSFSObj();n.putInt("gt",a.default.BongDem),n.putInt("mt",this.moneyCurrent),n.putUtfString("nn",this.playerBD.namePlayer),n.putUtfString("dt",this.byFishType.toString()),c.ConectManager.getIns().sendRequest(s.REQUEST_CODE.AddBigWin,n)}}},r([d(l.default)],e.prototype,"lbMoney",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../../Scritps/Windown":"Windown"}],ParticerDieuThuyen:[function(t,e,n){"use strict";cc._RF.push(e,"bfa89x9ZKVMups0NCSFYhLV","ParticerDieuThuyen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.xoc=null,e.set=null,e.listSfSet=[],e.poolXoc=new cc.NodePool,e.poolSet=new cc.NodePool,e}return i(e,t),e.prototype.onEnable=function(){for(var t=this.node.children,e=0,n=t.length;e<n;e++){var o=t[0];"xoc"==o.name?this.putXoc(o):"set"==o.name?this.putSet(o):s.Windown.DieuThuyen.asset.putXu(o)}for(e=0;e<100;e++)(i=s.Windown.DieuThuyen.asset.getXu()).parent=this.node,i.zIndex=10,this.startXu(i,e%3);for(e=0;e<80;e++)(i=this.getXoc()).parent=this.node,i.zIndex=0,this.startXoc(i,e%3);for(e=0;e<5;e++){var i;(i=this.getSet()).parent=this.node,i.zIndex=15,this.startSet(i,e%3)}},e.prototype.startXu=function(t,e){var n=this;t.opacity=0,t.stopAllActions();var o=cc.v2(0,0),i=s.Windown.RandomNumber(200,400)/1e3,r=s.Windown.RandomNumber(200,500)/1e3;t.scale=i;var a=this.pointsOnCircle({radius:1e3,angle:s.Windown.RandomNumber(0,360),cx:0,cy:0}),c=a[0],l=a[1],u=cc.v2(c,l),p=s.Windown.RandomNumber(1.5,2.5);e+=s.Windown.RandomNumber(0,10)/10,t.angle=s.Windown.RandomNumber(0,360),t.setPosition(o);var h=cc.spawn(cc.scaleTo(.3,r),cc.moveTo(p,u));t.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(){t.opacity=255,t.getComponent(cc.Animation).play("DongXu")}),h,cc.callFunc(function(){n.startXu(t,0)})))},e.prototype.startXoc=function(t,e){var n=this;t.opacity=0,t.stopAllActions();var o=cc.v2(0,0),i=s.Windown.RandomNumber(0,360),r=this.pointsOnCircle({radius:1e3,angle:i,cx:0,cy:0}),a=r[0],c=r[1],l=cc.v2(a,c),u=s.Windown.RandomNumber(2,3.5);e+=s.Windown.RandomNumber(0,10)/10,t.angle=-i-90,t.setPosition(o);var p=cc.moveTo(u,l);t.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(){t.opacity=150}),p,cc.callFunc(function(){n.startXoc(t,0)})))},e.prototype.startSet=function(t,e){var n=this;t.opacity=0,t.stopAllActions(),t.getComponent(cc.Sprite).spriteFrame=this.listSfSet[s.Windown.RandomNumber(0,this.listSfSet.length)];var o=s.Windown.RandomNumber(0,360);e+=s.Windown.RandomNumber(0,10)/10,t.angle=o;var i=cc.delayTime(.2);t.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(){t.opacity=255}),i,cc.callFunc(function(){n.startSet(t,0)})))},e.prototype.setColor=function(t){this.node.children.forEach(function(e){"set"==e.name&&(e.color=t)})},e.prototype.pointsOnCircle=function(t){var e=t.radius,n=t.angle,o=t.cx,i=t.cy;return n*=Math.PI/180,[o+e*Math.sin(n),i+e*Math.cos(n)]},e.prototype.getXoc=function(){var t=null;return this.poolXoc.size()>0?t=this.poolXoc.get():(t=cc.instantiate(this.xoc)).name="xoc",t.active=!0,t},e.prototype.putXoc=function(t){this.poolXoc.put(t)},e.prototype.getSet=function(){var t=null;return this.poolSet.size()>0?t=this.poolSet.get():(t=cc.instantiate(this.set)).name="set",t.active=!0,t},e.prototype.putSet=function(t){this.poolSet.put(t)},e.prototype.onDestroy=function(){this.poolXoc.clear(),this.poolSet.clear()},r([l(cc.Node)],e.prototype,"xoc",void 0),r([l(cc.Node)],e.prototype,"set",void 0),r([l([cc.SpriteFrame])],e.prototype,"listSfSet",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],PathResource:[function(t,e,n){"use strict";cc._RF.push(e,"c04a2ckdZFFVL3KuPJqmogw","PathResource"),Object.defineProperty(n,"__esModule",{value:!0}),n.PathResource=void 0;var o=function(){function t(){}return t.ItemLobbyView="PrefabsItemPopup/ItemLobbyView",t.LobbyView="Popup/LobbyView",t.BtnGame="PrefabsPopup/BtnGame",t.QuestItem="Img/Qeust/%d",t.Avatar="Img/Avatar/%d",t.DangNhap="Popup/DangNhap",t.DangKy="Popup/DangKy",t.HomThu="Popup/HomThu",t.NhiemVu="Popup/NhiemVu",t.NhiemVuNap="Popup/NhiemVuNap",t.SuKien="Popup/SuKien",t.GiftCode="Popup/GiftCode",t.TransferSport="Popup/TransferSport",t.ThongTin="Popup/ThongTin",t.DoiAva="Popup/DoiAvatar",t.DoiTrangThai="Popup/DoiTrangThai",t.CaiDat="Popup/CaiDat",t.TangCap="Popup/TangCap",t.ReviceItem="Popup/ReviceItem",t.BonusNap="Popup/BonusNap",t.BannerTaiApp="Popup/BannerTaiAppIOS",t.ShopView="Popup/Shop",t.XepHang="Popup/XepHang",t.CropImgAva="Popup/CropImgAva",t.HoTro="Popup/HoTro",t.CapNhatTaiKhoan="Popup/CapNhatTaiKhoan",t.LichSuGiaoDich="Popup/LichSuGiaoDich",t.WindownChat="Popup/WindownChat",t.ItemMoveIconChat="Popup/ItemMoveIconChat",t.ItemRemoveChat="Popup/ItemRemoveChat",t.XacThucTele="Popup/XacThucTele",t.VongQuay="Popup/VongQuay",t.ImgChat="Popup/ImgChat",t.QuickShop="Popup/QuickShop",t.TietKiem="Popup/TietKiem",t.Daily="Popup/DaiLy",t.TuiDo="Popup/TuiDo",t.CuaHang="Popup/CuaHang",t.EffectTakeCoin="Popup/NodeTakeCoin",t.HelpCaMap="Prefabs/HelpCaMap",t.CamMay="Prefabs/CamMay",t.MenuIngame="Popup/MenuInGame",t.QuickChat="Popup/QuickChat",t.BubbleChat="Popup/BubbleChat",t.InfoPlayerView="Popup/InGame/InfoPlayerView",t}();n.PathResource=o,cc._RF.pop()},{}],PathSound:[function(t,e,n){"use strict";cc._RF.push(e,"0313bMypgNFUrKjVcboztmN","PathSound"),Object.defineProperty(n,"__esModule",{value:!0}),n.PathSound=void 0;var o=function(){function t(){}return t.EndToNho="Sound/SangHao",t.Hu="Sound/Hu'",t.NenToNho="Sound/NhacNenToNho",t.RandomNumber="Sound/RandomSo",t.TiengCuoi="Sound/TiengCuoi",t.NhacVeVang="Sound/NhacVeVang",t.CauNoiKhiVeVang="Sound/CauNoiKhiVeVang",t.TiengNo="Sound/TiengNo",t.ToNhoX7mp3="Sound/ToNhoX7mp3",t.TuNaiXa="Sound/TuNaiXa`",t.StartXmutilToNho="Sound/StartXmutilToNho",t.Ting="Sound/Ting",t.Ting2="Sound/Ting2",t.SpinNormal="Sound/SpinNormal",t.SpinSpecial="Sound/SpinSpecial",t.NextSoXo="Sound/NextSoXo",t.BatDauQuayTraDiem="Sound/BatDauQuayTraDiem",t.CauNoiTraDiem="Sound/CauNoiTraDiem",t.CauNoiTraDiemXong="Sound/CauNoiTraDiemXong",t.NhacNenTraDiem="Sound/NhacNenTraDiem",t.NhacQuayXoSo="Sound/NhacQuayXoSo",t.ShowResultXoSo="Sound/ShowResultXoSo",t.ShowHeSoRandom="Sound/ShowHeSoRandom",t.MauDo="Sound/MauDo",t.MauVang="Sound/MauVang",t.MauXanhLa="Sound/MauXanhLa",t.XaPe="Sound/XaPe",t.MiOLa="Sound/MiOLa",t.CuocKhungHoang="Sound/CuocKhungHoang",t.VuiMung="Sound/VuiMung",t.DonDap="Sound/DonDap",t.Gong="Sound/Gong",t.Yabe="Sound/Yabe",t.CongTien="Sound/CongTien",t.XiPe="Sound/XiPe",t.CauNoiX3Luon="Sound/CauNoiX3Luon",t.AtOhh="Sound/AtOhh",t.Item=["Sound/Item/ItemTao","Sound/Item/ItemCam","Sound/Item/ItemMangCau","Sound/Item/ItemChuong","Sound/Item/ItemDua","Sound/Item/ItemSao","Sound/Item/ItemSeven","Sound/Item/ItemBar","Sound/Item/ItemBar"],t.NoLienTuc="Sound/NoLienTuc",t.EffectAnRandomItemNhoSau="Sound/EffectAnRandomItemNhoSau",t.CauNoiAnTruoc1CuaX30="Sound/CauNoiAnTruoc1CuaX30",t.TiengKen2="Sound/TiengKen2",t.TiengKen1="Sound/TiengKen1",t.Bip="Sound/Bip",t.CauNoiShowResultAnTruocX30="Sound/CauNoiShowResultAnTruocX30",t.ItemChay1Vong="Sound/ItemChay1Vong",t.TiengNoVaChemKiem="Sound/TiengNoVaChemKiem",t.TiengRandomHesoAnTruocX30="Sound/TiengRandomHesoAnTruocX30",t.StartDapChuot="Sound/StartDapChuot",t}();n.PathSound=o,cc._RF.pop()},{}],PlayerBDManager:[function(t,e,n){"use strict";cc._RF.push(e,"9008165f6NDWKxYeVEX28V8","PlayerBDManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../../Scritps/Windown"),i=t("./PlayerBD"),r=function(){function t(t){this.fishBD=null,this.listPlayer=[],this.vecLat=null,this.isInit=!1,this.fishBD=t}return t.prototype.getPlayerById=function(t){for(var e=0,n=this.listPlayer;e<n.length;e++){var o=n[e];if(o.acountId==t)return o}return null},t.prototype.getPlayerByStingId=function(t){for(var e=0,n=this.listPlayer;e<n.length;e++){var o=n[e];if(o.playerId==t)return o}return null},t.prototype.initListPlayer=function(t){cc.log(o.Windown.SFSArrToJson(t));for(var e=0,n=t.size();e<n;e++)if((r=t.getSFSObject(e)).getInt("id")==o.Windown.User.userId){o.Windown.FishBongDem.playerIdMe=r.getInt("SittingId"),o.Windown.FishBongDem.setVeclat();break}for(e=0,n=t.size();e<n;e++){var r=t.getSFSObject(e),s=this.fishBD.pool.getPlayer();s.parent=this.fishBD.fishBDView.parentPlayer;var a=s.getComponent(i.default);a.setPlayerMng(this),a.initPlayer(r,this.getSiting(r.getInt("SittingId"))),this.listPlayer.push(a)}},t.prototype.addPlayer=function(t){var e=t.getInt("id");if(e!=o.Windown.User.userId&&null!=this.fishBD.playerIdMe&&null==this.getPlayerById(e)){var n=this.fishBD.pool.getPlayer();n.parent=this.fishBD.fishBDView.parentPlayer;var r=n.getComponent(i.default);r.setPlayerMng(this),r.initPlayer(t,this.getSiting(t.getInt("SittingId"))),this.listPlayer.push(r)}},t.prototype.removePlayer=function(t){var e=this.getPlayerByStingId(t);if(e){var n=this.listPlayer.indexOf(e);this.listPlayer.splice(n,1),e.reset()}},t.prototype.putPlayerViewPool=function(t){this.fishBD.pool.putPlayer(t)},t.prototype.destroy=function(){this.listPlayer.forEach(function(t){t.reset()}),this.listPlayer=[]},t.prototype.getSiting=function(t){return t==this.fishBD.playerIdMe?this.convertIdMe(t):this.convertIdOther(t)},t.prototype.convertIdMe=function(t){switch(t){case 3:return 2;case 4:return 1;default:return t}},t.prototype.convertIdOther=function(t){if(this.fishBD.playerIdMe<3)return t;switch(t){case 1:return 4;case 2:return 3;case 3:return 2;case 4:return 1}},t}();n.default=r,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","./PlayerBD":"PlayerBD"}],PlayerBD:[function(t,e,n){"use strict";cc._RF.push(e,"13e32sMUcRKm5YdpqwA/nqC","PlayerBD");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./BasePlayerBD"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([c],e)}(s.default));n.default=l,cc._RF.pop()},{"./BasePlayerBD":"BasePlayerBD"}],PlayerPP:[function(t,e,n){"use strict";cc._RF.push(e,"b865czr2ABA7oPB3fVGmqqG","PlayerPP"),Object.defineProperty(n,"__esModule",{value:!0}),n.PlayerPP=void 0;var o=function(){function t(){}return t.AccountBalance="AccountBalance",t.IsLogin="IsLogin",t.CurrentGunId="CurrentGunId",t.SittingId="SittingId",t.AccountId="AccountId",t.LastLoginTime="LastLoginTime",t.UserName="UserName",t.NickName="NickName",t.ItemFish="ItemFish",t.Lucky="Lucky",t.Captcha="Captcha",t.ERR_MESSAGE="errorMessage",t.MESSAGE="message",t}();n.PlayerPP=o,cc._RF.pop()},{}],PlayerUsingAuto:[function(t,e,n){"use strict";cc._RF.push(e,"bacecolXs5BdYhcELhjX94x","PlayerUsingAuto");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../../Scritps/Windown"),a=t("../../Gun/GUN_TYPE_BD"),c=t("./BaseEffectPlayer"),l=t("./ThuocKeAuto"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentColider=null,e.currentFishTarget=null,e.thuocKe=null,e}return i(e,t),e.prototype.onLoad=function(){this.node.setPosition(0,0),this.thuocKe.ext=this},e.prototype.excuted=function(){this.node.parent=s.Windown.FishBongDem.fishBDView.parentPlayer,this.thuocKe.node.setPosition(this.player.gunFishBd.pointInScreen),s.Windown.FishBongDem.fishBDView.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this)},e.prototype.touchStart=function(t){for(var e=t.getLocation(),n=s.Windown.FishBongDem.fishMng.getMapFish().values(),o=n.next();!o.done;){var i=o.value;o=n.next();for(var r=0,a=i.getListColider();r<a.length;r++){var c=a[r];if(this.currentColider!=c&&c.world&&c.world.points&&cc.Intersection.pointInPolygon(e,c.world.points))return void this.targetFish(i,c)}}},e.prototype.autoGetNewFishTarget=function(){if(this.player.getCanAuto()){var t=s.Windown.FishBongDem.fishMng.getMapFish().values(),e=t.next(),n=null,o=null;if(this.player.gunFishBd.stateGun.type==a.default.SET){for(var i=0;!e.done;){var r=e.value;if(e=t.next(),r.fishType>i){var c=r.getColiderInScreen();c&&(i=r.fishType,n=r,o=c)}}n&&o&&this.targetFish(n,o)}else for(var l=99999;!e.done;){r=e.value,e=t.next();for(var u=0,p=r.getListColider();u<p.length;u++){var h=p[u];if(h!=this.currentColider){var d=r.checkColiderInScreen(h);if(d){var f=cc.Vec2.distance(d,this.player.gunFishBd.pointInScreen);f<l&&(l=f,n=r,o=h)}}}}n&&o&&this.targetFish(n,o)}},e.prototype.targetFish=function(t,e){this.currentFishTarget=t,this.currentColider=e,this.player.gunFishBd.stateGun.type==a.default.SET?this.player.gunFishBd.stateGun.setFishIdTarget(this.currentFishTarget.fishId,this.currentFishTarget.getListColider().indexOf(e)):this.thuocKe.setIdTarget(t.fishId)},e.prototype.getNewColider=function(){var t=this.currentFishTarget.getColiderInScreen(this.currentColider);t?(this.currentColider=t,this.player.gunFishBd.stateGun.type==a.default.SET&&this.player.gunFishBd.stateGun.setFishIdTarget(this.currentFishTarget.fishId,this.currentFishTarget.getListColider().indexOf(t))):this.offTarget()},e.prototype.offTarget=function(){this.currentFishTarget=null,this.currentColider=null,this.player&&this.player.node&&this.player.gunFishBd&&this.player.gunFishBd.node&&(this.player.gunFishBd.stateGun.cancleAtack(),this.player.gunFishBd.stateGun.type==a.default.SET&&this.player&&this.player.node&&this.player.gunFishBd&&this.player.gunFishBd.node&&this.player.gunFishBd.stateGun.offTarget()),this.thuocKe.setIdTarget(-1)},e.prototype.checkColiderInScreen=function(){if(this.currentFishTarget.getCanColision()&&this.player.getCanAuto()){var t=this.currentColider.node.parent.convertToWorldSpaceAR(this.currentColider.node.getPosition()),e=s.Windown.FishBongDem.fishBDView.parentEffect.convertToNodeSpaceAR(t),n=cc.Vec2.distance(e,this.player.gunFishBd.pointInScreen),o=this.player.gunFishBd.stateGun.speedBullet,i=this.currentFishTarget.getPointInFuture(n/o,this.currentColider);i.x>640||i.x<-640||i.y>360||i.y<-360?this.getNewColider():this.player.gunFishBd.stateGun.type!=a.default.SET?(this.player.gunFishBd.stateGun.rotate(i),this.thuocKe.targetPoint(e)):this.player.gunFishBd.stateGun.setFishIdTarget(this.currentFishTarget.fishId,this.currentFishTarget.getListColider().indexOf(this.currentColider))}else this.currentFishTarget=null},e.prototype.update=function(e){e*=cc.director.getScheduler().getTimeScale(),null==this.currentFishTarget&&this.autoGetNewFishTarget(),null!=this.currentColider&&null!=this.currentFishTarget&&this.checkColiderInScreen(),t.prototype.update.call(this,e)},e.prototype.end=function(){this.offTarget(),s.Windown.FishBongDem.fishBDView.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.player.timeItemAuto=0,s.Windown.FishBongDem.fishBDView.camMay.disableToggle(),t.prototype.end.call(this)},r([h(l.default)],e.prototype,"thuocKe",void 0),r([p],e)}(c.default);n.default=d,cc._RF.pop()},{"../../../../../Scritps/Windown":"Windown","../../Gun/GUN_TYPE_BD":"GUN_TYPE_BD","./BaseEffectPlayer":"BaseEffectPlayer","./ThuocKeAuto":"ThuocKeAuto"}],PlayerUsingIce:[function(t,e,n){"use strict";cc._RF.push(e,"048d1seqndAf4o5exYcp2qg","PlayerUsingIce");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../../Scritps/Windown"),a=t("./BaseEffectPlayer"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spIce=null,e}return i(e,t),e.prototype.excuted=function(){var t=this;this.node.parent=s.Windown.FishBongDem.fishBDView.parentEffect,this.node.setPosition(this.player.gunFishBd.pointInScreen),this.node.y+=50,this.spIce.node.active=!0,this.spIce.setAnimation(0,"animation",!1),this.scheduleOnce(function(){t.spIce.node.active=!1},3)},e.prototype.end=function(){t.prototype.end.call(this)},r([u(sp.Skeleton)],e.prototype,"spIce",void 0),r([l],e)}(a.default);n.default=p,cc._RF.pop()},{"../../../../../Scritps/Windown":"Windown","./BaseEffectPlayer":"BaseEffectPlayer"}],PlayerUsingSpeed:[function(t,e,n){"use strict";cc._RF.push(e,"bedc9G4Nu5Lbo6WUp7m5rta","PlayerUsingSpeed");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../../Scritps/Windown"),a=t("./BaseEffectPlayer"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=null,e.spFire=null,e}return i(e,t),e.prototype.excuted=function(){this.node.parent=s.Windown.FishBongDem.fishBDView.parentPlayer,this.node.zIndex=cc.macro.MIN_ZINDEX,this.node.setPosition(this.player.gunFishBd.pointInScreen),this.node.y=this.node.y-10,this.player.playerSiting>2?(this.node.y-=50,this.spFire.node.angle=180,this.title.y=-100):(this.node.y+=50,this.spFire.node.angle=0,this.title.y=100),this.spFire.fillRange=0,cc.Tween.stopAllByTarget(this.spFire),cc.tween(this.spFire).to(.3,{fillRange:1}).start(),this.title.scale=0,this.title.opacity=255,cc.Tween.stopAllByTarget(this.title),cc.tween(this.title).to(.6,{scale:1},{easing:"backOut"}).delay(1).by(1,{y:100,opacity:-500}).start(),this.getComponent(cc.Animation).play("Speed"),this.player.gunFishBd.stateGun.setTimeDelayMax();var t=cc.find("fish_cannon_1_head",this.player.gunFishBd.stateGun.nodeGun),e=cc.find("fish_cannon_1_body",this.player.gunFishBd.stateGun.nodeGun);t&&(t.color=cc.Color.RED),e&&(e.color=cc.Color.RED)},e.prototype.update=function(e){e*=cc.director.getScheduler().getTimeScale(),this.player.gunFishBd.stateGun.setTimeDelayMax(),t.prototype.update.call(this,e)},e.prototype.end=function(){var e=cc.find("fish_cannon_1_head",this.player.gunFishBd.stateGun.nodeGun),n=cc.find("fish_cannon_1_body",this.player.gunFishBd.stateGun.nodeGun);e&&(e.color=cc.Color.WHITE),n&&(n.color=cc.Color.WHITE),this.player.gunFishBd.stateGun.setTimeDelayNormarl(),t.prototype.end.call(this)},r([u(cc.Node)],e.prototype,"title",void 0),r([u(cc.Sprite)],e.prototype,"spFire",void 0),r([l],e)}(a.default);n.default=p,cc._RF.pop()},{"../../../../../Scritps/Windown":"Windown","./BaseEffectPlayer":"BaseEffectPlayer"}],PlayerUsingTarget:[function(t,e,n){"use strict";cc._RF.push(e,"c5914zGNrRKF40+XtxuQrDG","PlayerUsingTarget");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../../Scritps/Windown"),a=t("../../Gun/GUN_TYPE_BD"),c=t("./BaseEffectPlayer"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeEffect=null,e.nodeTitle=null,e.currentColider=null,e.itemTarget=null,e.currentFishTarget=null,e.listImgPointHuong=[],e}return i(e,t),e.prototype.onLoad=function(){this.nodeEffect.runAction(cc.repeatForever(cc.rotateBy(2,360)))},e.prototype.touchStart=function(t){for(var e=t.getLocation(),n=s.Windown.FishBongDem.fishMng.getMapFish().values(),o=n.next();!o.done;){var i=o.value;o=n.next();for(var r=0,a=i.getListColider();r<a.length;r++){var c=a[r];if(this.currentColider!=c&&c.world&&c.world.points&&cc.Intersection.pointInPolygon(e,c.world.points))return cc.log("click dc colider nay"),void this.targetFish(i,c)}}},e.prototype.creatTarget=function(){for(var t=s.Windown.FishBongDem.fishBDView.parentEffect,e=0;e<10;e++){var n=s.Windown.FishBongDem.pool.getItemPointTarget();n.parent=t,n.zIndex=cc.macro.MAX_ZINDEX,this.listImgPointHuong.push(n)}},e.prototype.autoGetNewFishTarget=function(){if(this.player.getCanTarget()){for(var t=s.Windown.FishBongDem.fishMng.getMapFish().values(),e=t.next(),n=null,o=null,i=0;!e.done;){var r=e.value;if(e=t.next(),r.fishType>i){var a=r.getColiderInScreen();a&&(i=r.fishType,n=r,o=a)}}n&&o&&this.targetFish(n,o)}},e.prototype.targetFish=function(t,e){this.currentFishTarget==t&&this.currentColider==e||(this.currentFishTarget=t,this.currentColider=e,null==this.itemTarget&&(this.itemTarget=s.Windown.FishBongDem.pool.getItemTarget()),this.listImgPointHuong.length<1&&this.creatTarget(),this.itemTarget.getComponent(sp.Skeleton).setAnimation(0,"aim",!1),this.itemTarget.stopAllActions(),this.itemTarget.parent=s.Windown.FishBongDem.fishBDView.parentEffect,cc.tween(this.itemTarget).by(1,{angle:-180}).repeatForever().start(),s.Windown.FishBongDem.getSound().playTarget(),this.player.gunFishBd.stateGun.setFishIdTarget(this.currentFishTarget.fishId,this.currentFishTarget.getListColider().indexOf(e)))},e.prototype.checkColiderInScreen=function(){if(this.currentFishTarget.getCanColision()&&this.player.getCanTarget()){var t=this.currentFishTarget.checkColiderInScreen(this.currentColider);if(t){this.player.gunFishBd.stateGun.type==a.default.SET&&this.player.gunFishBd.stateGun.setFishIdTarget(this.currentFishTarget.fishId,this.currentFishTarget.getListColider().indexOf(this.currentColider)),this.itemTarget.setPosition(t);for(var e=this.listImgPointHuong.length,n=0;n<e;n++){var o=this.listImgPointHuong[n],i=cc.v2(0,0);i=cc.Vec2.lerp(i,this.player.gunFishBd.pointInScreen,t,n/e),o.setPosition(i)}this.player.gunFishBd.stateGun.rotate(t)}else this.getNewColider()}else this.offTarget()},e.prototype.getNewColider=function(){var t=this.currentFishTarget.getColiderInScreen(this.currentColider);t&&(this.currentColider=t,this.player.gunFishBd.stateGun.setFishIdTarget(this.currentFishTarget.fishId,this.currentFishTarget.getListColider().indexOf(t))),this.offTarget()},e.prototype.excuted=function(){this.currentFishTarget=null,this.currentColider=null,this.nodeTitle.scale=0,this.player.playerSiting>2?this.nodeTitle.y=-150:this.nodeTitle.y=150,this.nodeTitle.scale=0,this.nodeTitle.opacity=255,cc.Tween.stopAllByTarget(this.nodeTitle),cc.tween(this.nodeTitle).to(.6,{scale:1},{easing:"backOut"}).delay(1).by(1,{y:100,opacity:-500}).start(),this.node.parent=s.Windown.FishBongDem.fishBDView.parentPlayer,this.node.zIndex=cc.macro.MIN_ZINDEX,this.node.setPosition(this.player.gunFishBd.pointInScreen),this.player.isMe&&s.Windown.FishBongDem.fishBDView.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this)},e.prototype.update=function(e){e*=cc.director.getScheduler().getTimeScale(),null==this.currentFishTarget&&this.player.isMe&&this.autoGetNewFishTarget(),null==this.currentColider&&null!=this.itemTarget?this.offTarget():null!=this.currentColider&&null!=this.currentFishTarget&&this.checkColiderInScreen(),t.prototype.update.call(this,e)},e.prototype.offTarget=function(){this.currentFishTarget=null,this.currentColider=null,this.itemTarget&&s.Windown.FishBongDem.pool.putItemTarget(this.itemTarget),this.itemTarget=null;for(var t=0,e=this.listImgPointHuong.length;t<e;t++){var n=this.listImgPointHuong[t];s.Windown.FishBongDem.pool.putItemPointTarget(n)}this.listImgPointHuong.length=0,this.player&&this.player.node&&this.player.gunFishBd&&this.player.gunFishBd.node&&(this.player.gunFishBd.stateGun.cancleAtack(),this.player.gunFishBd.stateGun.setFishIdTarget(-1,-1),this.player.gunFishBd.stateGun.type==a.default.SET&&this.player.gunFishBd.stateGun.offTarget())},e.prototype.end=function(){this.offTarget(),this.player&&this.player.isMe&&s.Windown.FishBongDem.fishBDView.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),t.prototype.end.call(this)},r([p(cc.Node)],e.prototype,"nodeEffect",void 0),r([p(cc.Node)],e.prototype,"nodeTitle",void 0),r([u],e)}(c.default);n.default=h,cc._RF.pop()},{"../../../../../Scritps/Windown":"Windown","../../Gun/GUN_TYPE_BD":"GUN_TYPE_BD","./BaseEffectPlayer":"BaseEffectPlayer"}],PlayerViewTL:[function(t,e,n){"use strict";cc._RF.push(e,"07d1c0ZZwNMsYgKK3OZf9na","PlayerViewTL");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/PathResource"),l=t("../../../Scritps/Windown"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbName=null,e.lbAg=null,e.imgAvatar=null,e.imgBack=null,e.imgTime=null,e.timeTurn=0,e.timeCurrentTurn=0,e.aniLose=null,e.aniWin=null,e.aniPhao=null,e.bkgThanhBar=null,e.listAnimItems=[],e.listSprItems=[],e.fontLb=[],e._isTurn=!1,e.idUser=0,e._indexDynamic=0,e.id=0,e.vectorCard=[],e.displayName="",e.numberCard=0,e.vectorCardD=[],e.ag=0,e.point=0,e.typeWin=-1,e.currentLevel=0,e}return i(e,t),e.prototype.start=function(){},e.prototype.cleanPlayerView=function(){this.vectorCard=[]},e.prototype.update=function(t){if(this._isTurn)if(this.timeCurrentTurn+=t,this.timeCurrentTurn<=this.timeTurn){this.imgTime.fillRange=(this.timeTurn-this.timeCurrentTurn)/this.timeTurn,this.imgTime.fillRange<=.25?this.imgTime.node.color=cc.Color.RED:this.imgTime.fillRange<=.5?this.imgTime.node.color=cc.Color.ORANGE:this.imgTime.node.color=cc.Color.WHITE;var e=-this.timeCurrentTurn*(360/this.timeTurn/180)*Math.PI,n=65*Math.cos(e),o=65*Math.sin(e);this.aniPhao.node.setPosition(cc.v2(n,o))}else this.imgTime.node.active=!1,this._isTurn=!1},e.prototype.effLbName=function(){if(this.lbName.node.stopAllActions(),this.lbName.node.setPosition(cc.v2(0,0)),cc.log("WIDTH LB NAME=="+this.lbName.node.width),2*this.lbName.node.width>this.lbName.node.parent.width-10){var t=(this.lbName.node.width-this.lbName.node.parent.width)/2,e=t/30,n=cc.moveTo(e,t/4,0),o=cc.moveTo(e,-t/4,0);if(cc.log("offset=="+t),e<1&&(e=1),t<3)return;this.lbName.node.anchorX=.5,this.lbName.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(1.5),n,cc.delayTime(1.5),o)))}},e.prototype.setPosThanhBarThisPlayer=function(){this.bkgThanhBar.setPosition(cc.v2(0,0)),this.bkgThanhBar.getComponent(cc.Sprite).enabled=!0,this.lbAg.fontSize=30,this.lbAg.node.parent.setPosition(cc.v2(-190,-25)),this.lbName.fontSize=30,this.lbName.node.parent.setPosition(cc.v2(-140,20))},e.prototype.setName=function(t){var e=this;null!==this.lbName&&(this.lbName.string=t),cc.log("Chay vao ham set name:"+t),this.scheduleOnce(function(){null!=e.node&&void 0!==e.node&&e.effLbName()},.5)},e.prototype.setAg=function(t){null!==this.lbAg&&(this.lbAg.string=this.formatMoney(t),this.lbAg.node.runAction(cc.sequence(cc.scaleTo(.1,1.2),cc.scaleTo(.1,1))))},e.prototype.setAvatar=function(t){this.imgAvatar.spriteFrame=t},e.prototype.setTurn=function(t,e,n,o){void 0===n&&(n=!1),void 0===o&&(o=null),this.imgTime&&this.imgTime.node&&(this.imgTime.node.active=t,this._isTurn=t,t&&(this.timeCurrentTurn=0,this.timeTurn=e,this.imgTime.fillRange=1))},e.prototype.onEnable=function(){this.aniWin.node.active=!1,this.aniLose.node.active=!1},e.prototype.onDisable=function(){this.setTurn(!1,0,!1,null),this.bkgThanhBar.setPosition(cc.v2(0,-70)),this.imgBack.node.active=!1},e.prototype.showEffectWinLose=function(t){var e,n=this;cc.log("Chay vao set EffectWinLose"),1===t?(this.aniWin.node.active=!0,this.aniWin.setSlotsToSetupPose(),this.aniWin.setAnimation(0,"appear",!1),this.aniWin.setCompleteListener(function(){n.aniWin.setAnimation(0,"idle",!0),n.aniWin.setCompleteListener(function(){n.aniWin.setCompleteListener(null)})}),e=this.aniWin.node):(this.aniLose.node.active=!0,this.aniLose.node.active=!0,this.aniLose.setSlotsToSetupPose(),this.aniLose.setAnimation(0,"appear",!1),this.aniLose.setCompleteListener(function(){n.aniLose.setAnimation(0,"idle",!0),n.aniLose.setCompleteListener(function(){n.aniLose.setCompleteListener(null)})}),e=this.aniLose.node),cc.Tween.stopAllByTarget(e),e.scaleX=1,cc.tween(e).delay(2).to(.2,{scaleX:0},{easing:cc.easing.backIn}).call(function(){e.active=!1}).start()},e.prototype.isTurn=function(){return this._isTurn},e.prototype.updateAg=function(t){this.lbAg.string=""+this.formatMoney(t),this.ag=t},e.prototype.updatePlayerView=function(t){var e=this;console.log("updatePlayerView:",t),this.lbName.string=t.nickname,this.scheduleOnce(function(){null!=e.node&&void 0!==e.node&&e.effLbName()},.5),this.lbAg.string=""+this.formatMoney(t.ag)},e.prototype.effectFlyMoney=function(t,e,n,o,i){if(void 0===e&&(e=25),void 0===n&&(n=50),void 0===o&&(o=0),void 0===i&&(i=0),cc.log("money la ",t),"number"==typeof t&&0!=t){var r="",s=null;if(t>=0?(r="+",s=this.fontLb[0]):(r="-",s=this.fontLb[1]),null!=this.node){var a=new cc.Node("TextFly"),c=a.addComponent(cc.Label);c.string=r+this.formatNumber(Math.abs(t)),c.fontSize=e,c.font=s,c.spacingX=-3,this.node.addChild(a,270),cc.tween(c.node).set({scaleX:0,opacity:0,y:60}).to(.2,{scaleX:1,opacity:255},{easing:cc.easing.backOut}).delay(1.8).to(.2,{scaleX:0,opacity:0},{easing:cc.easing.backIn}).call(function(){null!==c.node&&c.node.destroy()}).start()}}},e.prototype.formatMoney=function(t){var e=t<0,n="",o=Math.abs(t);if(t=Math.abs(t),o>=1e9)o/=1e9,n="B";else{if(!(o>=1e6))return(1==e?"-":"")+this.formatNumber(t);o/=1e6,n="M"}for(var i=t.toString()+"0",r=o.toString()+"a",s=0,a=0;a<i.length;a++)if(i[a]!==r[a]){s=a;break}return(1==e?"-":"")+Math.floor(o)+("0"===i.toString()[s]&&"0"===i.toString()[s+1]?"":",")+("0"===i.toString()[s]&&"0"===i.toString()[s+1]?"":i.toString()[s])+("0"===i.toString()[s+1]?"":i.toString()[s+1])+n.toUpperCase()},e.prototype.formatNumber=function(t,e){return void 0===e&&(e=3),t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},e.prototype.onClickPlayer=function(){return s(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:return[4,l.Windown.getPrefabRes(c.PathResource.InfoPlayerView)];case 1:return t=n.sent(),e=cc.instantiate(t),l.Windown.GameView.node.addChild(e,999),e.getComponent("InfoPlayerView").setInfo(this),[2]}})})},e.prototype.showBackExit=function(){this.imgBack.node.active=!this.imgBack.node.active},e.prototype.setBgAvatar=function(){this.node.getChildByName("ParentKhungVip")},e.prototype.clearState=function(){this.numberCard=0},e.prototype.clearVectorCardD=function(){for(var t=l.Windown.GameView.cardPool,e=0;e<this.vectorCardD.length;e++)t.put(this.vectorCardD[e].node);this.vectorCardD=[]},e.prototype.clearAllCard=function(){for(var t=0;t<this.vectorCard.length;t++)this.vectorCard[t].node.destroy();for(t=0;t<this.vectorCardD.length;t++)this.vectorCardD[t].node.destroy();this.vectorCard=[],this.vectorCardD=[]},r([h(cc.Label)],e.prototype,"lbName",void 0),r([h(cc.Label)],e.prototype,"lbAg",void 0),r([h(cc.Sprite)],e.prototype,"imgAvatar",void 0),r([h(cc.Sprite)],e.prototype,"imgBack",void 0),r([h(cc.Sprite)],e.prototype,"imgTime",void 0),r([h(cc.Integer)],e.prototype,"timeTurn",void 0),r([h(cc.Integer)],e.prototype,"timeCurrentTurn",void 0),r([h(sp.Skeleton)],e.prototype,"aniLose",void 0),r([h(sp.Skeleton)],e.prototype,"aniWin",void 0),r([h(sp.Skeleton)],e.prototype,"aniPhao",void 0),r([h(cc.Node)],e.prototype,"bkgThanhBar",void 0),r([h([sp.SkeletonData])],e.prototype,"listAnimItems",void 0),r([h([cc.SpriteFrame])],e.prototype,"listSprItems",void 0),r([h([cc.Font])],e.prototype,"fontLb",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../Scritps/DefineTs/PathResource":"PathResource","../../../Scritps/Windown":"Windown"}],PoolBongDem:[function(t,e,n){"use strict";cc._RF.push(e,"8334028OdNFspwrcIB3AL/z","PoolBongDem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=t("../Player/Effect/PlayerUsingAuto"),c=t("../Player/Effect/PlayerUsingIce"),l=t("../Player/Effect/PlayerUsingSpeed"),u=t("../Player/Effect/PlayerUsingTarget"),p=t("../Player/Effect/TypePlayerEffectBD"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeCoin=null,e.nodeTextMoney=null,e.nodeTextMoneyRd=null,e.nodeTextMoneyMini=null,e.nodePlayer=null,e.nodeEffectIce=null,e.nodeEffectSpeed=null,e.nodeEffectTarget=null,e.nodeEffectAuto=null,e.nodeItemTarget=null,e.nodeItemPoint=null,e.nodeGunNormal=null,e.nodeGunLaze=null,e.nodeGunSet=null,e.nodeGunSongAm=null,e.nodeGunMuiKhoan=null,e.nodeGunFire=null,e.nodePanelPointLaze=null,e.nodePanelPointBoom=null,e.nodePanelPointSongAm=null,e.nodePanelPointMuiKhoan=null,e.nodePanelPointCaXau=null,e.nodePanelPointTruyGai=null,e.nodePanelPointRua=null,e.nodePanelPointHaiThan=null,e.nodePanelPointGunFire=null,e.nodeBulletMuiKhoan=null,e.nodeVaChamMuiKhoan=null,e.nodeEfGiatSet=null,e.nodeEfTrieuHoi=null,e.nodeEfCaXauDead=null,e.nodeEfTruyGaiDead=null,e.nodeEfRuaDead=null,e.listSpItemMiniBoss=[],e.listSpItemFish=[],e.nodeMutilReward=null,e.nodeLocXoay=null,e.nodeBigFish=null,e.nodeEfGunFire=null,e.nodeCrabVongQuay=null,e.countItem=null,e.txtTrieuHoi=null,e.effectSetFish74=null,e.panelFish74=null,e.poolCoin=new cc.NodePool,e.poolTextMoney=new cc.NodePool,e.poolTextMoneyRD=new cc.NodePool,e.poolTextMoneyMini=new cc.NodePool,e.poolPlayer=new cc.NodePool,e.poolEffectIce=new cc.NodePool,e.poolEffectSpeed=new cc.NodePool,e.poolEffectTarget=new cc.NodePool,e.poolEffectAuto=new cc.NodePool,e.poolItemTarget=new cc.NodePool,e.poolItemPoint=new cc.NodePool,e.poolGunLaze=new cc.NodePool,e.poolGunNormal=new cc.NodePool,e.poolGunSongAm=new cc.NodePool,e.poolGunSet=new cc.NodePool,e.poolGunMuiKhoan=new cc.NodePool,e.poolGunFire=new cc.NodePool,e.poolPanelPointLaze=new cc.NodePool,e.poolPanelPointBoom=new cc.NodePool,e.poolPanelPointSongAm=new cc.NodePool,e.poolPanelPointMuiKhoan=new cc.NodePool,e.poolPanelPointGunFire=new cc.NodePool,e.poolPanelPointCaXau=new cc.NodePool,e.poolPanelPointHaiThan=new cc.NodePool,e.poolPanelPointTruyGai=new cc.NodePool,e.poolPanelPointRua=new cc.NodePool,e.poolBulletMuiKhoan=new cc.NodePool,e.poolVaChamMuiKhoan=new cc.NodePool,e.poolEfGiatSet=new cc.NodePool,e.poolEfTrieuHoi=new cc.NodePool,e.poolEfCaXauDead=new cc.NodePool,e.poolEfTruyGaiDead=new cc.NodePool,e.poolEfRuaDead=new cc.NodePool,e.poolItemMiniBoss=new cc.NodePool,e.poolMultilReward=new cc.NodePool,e.poolLocXoay=new cc.NodePool,e.poolBigFish=new cc.NodePool,e.poolEfGunFire=new cc.NodePool,e.poolItemTakeFish=new cc.NodePool,e}return i(e,t),e.prototype.onLoad=function(){s.Windown.FishBongDem&&s.Windown.FishBongDem.setPool(this)},e.prototype.getCoin=function(t){var e=null;e=this.poolCoin.size()>0?this.poolCoin.get():cc.instantiate(this.nodeCoin);var n;return n=t?cc.Material.getBuiltinMaterial("2d-sprite"):cc.Material.getBuiltinMaterial("2d-gray-sprite"),e.getComponent(cc.Sprite).setMaterial(0,n),e.active=!0,e},e.prototype.putCoin=function(t){this.poolCoin.put(t)},e.prototype.getTextMoney=function(t){var e=null;e=this.poolTextMoney.size()>0?this.poolTextMoney.get():cc.instantiate(this.nodeTextMoney);var n;return n=t?cc.Material.getBuiltinMaterial("2d-sprite"):cc.Material.getBuiltinMaterial("2d-gray-sprite"),e.getComponent(cc.Label).setMaterial(0,n),e.active=!0,e},e.prototype.putTextMoney=function(t){this.poolTextMoney.put(t)},e.prototype.getTextMoneyRd=function(t){var e=null;e=this.poolTextMoneyRD.size()>0?this.poolTextMoneyRD.get():cc.instantiate(this.nodeTextMoneyRd);var n;return n=t?cc.Material.getBuiltinMaterial("2d-sprite"):cc.Material.getBuiltinMaterial("2d-gray-sprite"),e.getComponent(cc.Label).setMaterial(0,n),e.active=!0,e},e.prototype.putTextMoneyRd=function(t){this.poolTextMoneyRD.put(t)},e.prototype.getTextMoneyMini=function(t){var e=null;this.poolTextMoneyMini.size()>0?e=this.poolTextMoneyMini.get():(e=cc.instantiate(this.nodeTextMoneyMini)).name="TextMoneyMini";var n;return n=t?cc.Material.getBuiltinMaterial("2d-sprite"):cc.Material.getBuiltinMaterial("2d-gray-sprite"),e.getComponent(cc.Label).setMaterial(0,n),e.active=!0,e},e.prototype.putTextMoneyMini=function(t){this.poolTextMoneyMini.put(t)},e.prototype.getPlayer=function(){var t=null;return(t=this.poolPlayer.size()>0?this.poolPlayer.get():cc.instantiate(this.nodePlayer)).active=!0,t},e.prototype.putPlayer=function(t){this.poolPlayer.put(t)},e.prototype.getItemTarget=function(){var t=null;return(t=this.poolItemTarget.size()>0?this.poolItemTarget.get():cc.instantiate(this.nodeItemTarget)).active=!0,t},e.prototype.putItemTarget=function(t){this.poolItemTarget.put(t)},e.prototype.getItemPointTarget=function(){var t=null;return(t=this.poolItemPoint.size()>0?this.poolItemPoint.get():cc.instantiate(this.nodeItemPoint)).active=!0,t},e.prototype.putItemPointTarget=function(t){this.poolItemPoint.put(t)},e.prototype.getEffectPlayer=function(t){var e=null,n=null,o=null;switch(t){case p.default.ICE:e=this.poolEffectIce,n=this.nodeEffectIce;break;case p.default.SPEED:e=this.poolEffectSpeed,n=this.nodeEffectSpeed;break;case p.default.TARGET:e=this.poolEffectTarget,n=this.nodeEffectTarget;break;case p.default.AUTO:e=this.poolEffectAuto,n=this.nodeEffectAuto}return e?((o=e.size()>0?e.get():cc.instantiate(n.node)).active=!0,o):null},e.prototype.putEffectPlayer=function(t){var e=null;t instanceof c.default?e=this.poolEffectIce:t instanceof l.default?e=this.poolEffectSpeed:t instanceof u.default?e=this.poolEffectTarget:t instanceof a.default&&(e=this.poolEffectAuto),e&&e.put(t.node)},e.prototype.getGunLaze=function(){var t=null;return(t=this.poolGunLaze.size()>0?this.poolGunLaze.get():cc.instantiate(this.nodeGunLaze)).active=!0,t},e.prototype.putGunLaze=function(t){this.poolGunLaze.put(t)},e.prototype.getGunNormal=function(){var t=null;return(t=this.poolGunNormal.size()>0?this.poolGunNormal.get():cc.instantiate(this.nodeGunNormal)).active=!0,t},e.prototype.putGunNormal=function(t){this.poolGunNormal.put(t)},e.prototype.getGunSongAm=function(){var t=null;return(t=this.poolGunSongAm.size()>0?this.poolGunSongAm.get():cc.instantiate(this.nodeGunSongAm)).active=!0,t},e.prototype.putGunSongAm=function(t){this.poolGunSongAm.put(t)},e.prototype.getGunSet=function(){var t=null;return(t=this.poolGunSet.size()>0?this.poolGunSet.get():cc.instantiate(this.nodeGunSet)).active=!0,t},e.prototype.putGunSet=function(t){this.poolGunSet.put(t)},e.prototype.getGunMuiKhoan=function(){var t=null;return(t=this.poolGunMuiKhoan.size()>0?this.poolGunMuiKhoan.get():cc.instantiate(this.nodeGunMuiKhoan)).active=!0,t},e.prototype.putGunMuiKhoan=function(t){this.poolGunMuiKhoan.put(t)},e.prototype.getGunFire=function(){var t=null;return(t=this.poolGunFire.size()>0?this.poolGunFire.get():cc.instantiate(this.nodeGunFire)).active=!0,t},e.prototype.putGunFire=function(t){this.poolGunFire.put(t)},e.prototype.getPanelLaze=function(){var t=null;return(t=this.poolPanelPointLaze.size()>0?this.poolPanelPointLaze.get():cc.instantiate(this.nodePanelPointLaze)).x=0,t.active=!0,t},e.prototype.putPanelLaze=function(t){this.poolPanelPointLaze.put(t)},e.prototype.getPanelBoom=function(){var t=null;return(t=this.poolPanelPointBoom.size()>0?this.poolPanelPointBoom.get():cc.instantiate(this.nodePanelPointBoom)).x=0,t.active=!0,t},e.prototype.putPanelBoom=function(t){this.poolPanelPointBoom.put(t)},e.prototype.getPanelSongAm=function(){var t=null;return(t=this.poolPanelPointSongAm.size()>0?this.poolPanelPointSongAm.get():cc.instantiate(this.nodePanelPointSongAm)).x=0,t.active=!0,t},e.prototype.putPanelSongAm=function(t){this.poolPanelPointSongAm.put(t)},e.prototype.getPanelMuiKhoan=function(){var t=null;return(t=this.poolPanelPointMuiKhoan.size()>0?this.poolPanelPointMuiKhoan.get():cc.instantiate(this.nodePanelPointMuiKhoan)).x=0,t.active=!0,t},e.prototype.putPanelMuiKhoan=function(t){this.poolPanelPointMuiKhoan.put(t)},e.prototype.getPanelGunFire=function(){var t=null;return(t=this.poolPanelPointGunFire.size()>0?this.poolPanelPointGunFire.get():cc.instantiate(this.nodePanelPointGunFire)).x=0,t.active=!0,t},e.prototype.putPanelGunFire=function(t){this.poolPanelPointGunFire.put(t)},e.prototype.getTxtTrieuHoi=function(){var t=cc.instantiate(this.txtTrieuHoi);return t.active=!0,t},e.prototype.getPanelCaXau=function(){var t=null;return(t=this.poolPanelPointCaXau.size()>0?this.poolPanelPointCaXau.get():cc.instantiate(this.nodePanelPointCaXau)).x=0,t.active=!0,t},e.prototype.putPanelCaXau=function(t){this.poolPanelPointCaXau.put(t)},e.prototype.getPanelHaiThan=function(){var t=null;return(t=this.poolPanelPointHaiThan.size()>0?this.poolPanelPointHaiThan.get():cc.instantiate(this.nodePanelPointHaiThan)).x=0,t.active=!0,t},e.prototype.putPanelHaiThan=function(t){this.poolPanelPointHaiThan.put(t)},e.prototype.getPanelTruyGai=function(){var t=null;return(t=this.poolPanelPointTruyGai.size()>0?this.poolPanelPointTruyGai.get():cc.instantiate(this.nodePanelPointTruyGai)).x=0,t.active=!0,t},e.prototype.putPanelTruyGai=function(t){this.poolPanelPointTruyGai.put(t)},e.prototype.getPanelRua=function(){var t=null;return(t=this.poolPanelPointRua.size()>0?this.poolPanelPointRua.get():cc.instantiate(this.nodePanelPointRua)).x=0,t.active=!0,t},e.prototype.putPanelRua=function(t){this.poolPanelPointRua.put(t)},e.prototype.getBulletMuiKhoan=function(){var t=null;return(t=this.poolBulletMuiKhoan.size()>0?this.poolBulletMuiKhoan.get():cc.instantiate(this.nodeBulletMuiKhoan)).x=0,t.active=!0,t},e.prototype.putBulletMuiKhoan=function(t){this.poolBulletMuiKhoan.put(t)},e.prototype.getVaChamMuiKhoan=function(){var t=null;return(t=this.poolVaChamMuiKhoan.size()>0?this.poolVaChamMuiKhoan.get():cc.instantiate(this.nodeVaChamMuiKhoan)).x=0,t.active=!0,t},e.prototype.putVaChamMuiKhoan=function(t){this.poolVaChamMuiKhoan.put(t)},e.prototype.getEfGiatSet=function(){var t=null;return(t=this.poolEfGiatSet.size()>0?this.poolEfGiatSet.get():cc.instantiate(this.nodeEfGiatSet)).x=0,t.active=!0,t},e.prototype.putEfGiatSet=function(t){this.poolEfGiatSet.put(t)},e.prototype.getEfTrieuHoi=function(){var t=null;return(t=this.poolEfTrieuHoi.size()>0?this.poolEfTrieuHoi.get():cc.instantiate(this.nodeEfTrieuHoi)).x=0,t.active=!0,t},e.prototype.putEfTrieuHoi=function(t){this.poolEfTrieuHoi.put(t)},e.prototype.getEfCaXauDead=function(){var t=null;return(t=this.poolEfCaXauDead.size()>0?this.poolEfCaXauDead.get():cc.instantiate(this.nodeEfCaXauDead)).x=0,t.active=!0,t},e.prototype.putEfCaXauDead=function(t){this.poolEfCaXauDead.put(t)},e.prototype.getEfTruyGaiDead=function(){var t=null;return(t=this.poolEfTruyGaiDead.size()>0?this.poolEfTruyGaiDead.get():cc.instantiate(this.nodeEfTruyGaiDead)).x=0,t.active=!0,t},e.prototype.putEfTruyGaiDead=function(t){this.poolEfTruyGaiDead.put(t)},e.prototype.getEfRuaDead=function(){var t=null;return(t=this.poolEfRuaDead.size()>0?this.poolEfRuaDead.get():cc.instantiate(this.nodeEfRuaDead)).x=0,t.active=!0,t},e.prototype.putEfRuaDead=function(t){this.poolEfRuaDead.put(t)},e.prototype.getItemMiniBoss=function(t){var e=null;return this.poolItemMiniBoss.size()>0?e=this.poolItemMiniBoss.get():(e=new cc.Node).addComponent(cc.Sprite),e.getComponent(cc.Sprite).spriteFrame=this.listSpItemMiniBoss[t],e},e.prototype.putItemMiniBoss=function(t){this.poolItemMiniBoss.put(t)},e.prototype.getMutilReward=function(){var t=null;return(t=this.poolMultilReward.size()>0?this.poolMultilReward.get():cc.instantiate(this.nodeMutilReward)).x=0,t.active=!0,t},e.prototype.putMutilReward=function(t){this.poolMultilReward.put(t)},e.prototype.getCrabVongQuay=function(){var t=null;return(t=cc.instantiate(this.nodeCrabVongQuay)).active=!0,t},e.prototype.getLocXoay=function(){var t=null;return(t=this.poolLocXoay.size()>0?this.poolLocXoay.get():cc.instantiate(this.nodeLocXoay)).x=0,t.active=!0,t},e.prototype.putLocXoay=function(t){this.poolLocXoay.put(t)},e.prototype.getBigFish=function(){var t=null;return(t=this.poolBigFish.size()>0?this.poolBigFish.get():cc.instantiate(this.nodeBigFish)).x=0,t.active=!0,t},e.prototype.putBigFish=function(t){this.poolBigFish.put(t)},e.prototype.getEfGunFire=function(){var t=null;return(t=this.poolEfGunFire.size()>0?this.poolEfGunFire.get():cc.instantiate(this.nodeEfGunFire)).x=0,t.active=!0,t},e.prototype.putEfGunFire=function(t){this.poolEfGunFire.put(t)},e.prototype.getItemTakeFish=function(t){var e=null;return this.poolItemTakeFish.size()>0?e=this.poolItemTakeFish.get():((e=new cc.Node).addComponent(cc.Sprite),e.scale=.5),t>=100?(e.getComponent(cc.Sprite).spriteFrame=this.listSpItemFish[t-100+4],e.scale=.5):(e.getComponent(cc.Sprite).spriteFrame=this.listSpItemFish[t-1],e.scale=.5),e},e.prototype.putItemTakeFish=function(t){this.poolItemTakeFish.put(t)},e.prototype.getCountItem=function(){var t=cc.instantiate(this.countItem);return t.active=!0,t},e.prototype.getEffectFishSet74=function(){var t=cc.instantiate(this.effectSetFish74);return t.active=!0,t},e.prototype.getPanelFish74=function(){var t=cc.instantiate(this.panelFish74);return t.active=!0,t},e.prototype.onDestroy=function(){this.poolCoin.clear(),this.poolTextMoney.clear(),this.poolTextMoneyRD.clear(),this.poolTextMoneyMini.clear(),this.poolPlayer.clear(),this.poolEffectIce.clear(),this.poolEffectSpeed.clear(),this.poolEffectTarget.clear(),this.poolEffectAuto.clear(),this.poolItemTarget.clear(),this.poolItemPoint.clear(),this.poolGunLaze.clear(),this.poolGunSongAm.clear(),this.poolGunNormal.clear(),this.poolGunMuiKhoan.clear(),this.poolGunFire.clear(),this.poolPanelPointLaze.clear(),this.poolPanelPointBoom.clear(),this.poolPanelPointSongAm.clear(),this.poolPanelPointMuiKhoan.clear(),this.poolPanelPointGunFire.clear(),this.poolBulletMuiKhoan.clear(),this.poolVaChamMuiKhoan.clear(),this.poolGunSet.clear(),this.poolEfGiatSet.clear(),this.poolPanelPointCaXau.clear(),this.poolPanelPointHaiThan.clear(),this.poolPanelPointTruyGai.clear(),this.poolPanelPointRua.clear(),this.poolEfCaXauDead.clear(),this.poolEfTruyGaiDead.clear(),this.poolEfRuaDead.clear(),this.poolItemMiniBoss.clear(),this.poolMultilReward.clear(),this.poolLocXoay.clear(),this.poolBigFish.clear(),this.poolEfGunFire.clear(),this.poolItemTakeFish.clear(),this.poolEfTrieuHoi.clear()},r([f(cc.Node)],e.prototype,"nodeCoin",void 0),r([f(cc.Node)],e.prototype,"nodeTextMoney",void 0),r([f(cc.Node)],e.prototype,"nodeTextMoneyRd",void 0),r([f(cc.Node)],e.prototype,"nodeTextMoneyMini",void 0),r([f(cc.Node)],e.prototype,"nodePlayer",void 0),r([f(c.default)],e.prototype,"nodeEffectIce",void 0),r([f(l.default)],e.prototype,"nodeEffectSpeed",void 0),r([f(u.default)],e.prototype,"nodeEffectTarget",void 0),r([f(a.default)],e.prototype,"nodeEffectAuto",void 0),r([f(cc.Node)],e.prototype,"nodeItemTarget",void 0),r([f(cc.Node)],e.prototype,"nodeItemPoint",void 0),r([f(cc.Node)],e.prototype,"nodeGunNormal",void 0),r([f(cc.Node)],e.prototype,"nodeGunLaze",void 0),r([f(cc.Node)],e.prototype,"nodeGunSet",void 0),r([f(cc.Node)],e.prototype,"nodeGunSongAm",void 0),r([f(cc.Node)],e.prototype,"nodeGunMuiKhoan",void 0),r([f(cc.Node)],e.prototype,"nodeGunFire",void 0),r([f(cc.Node)],e.prototype,"nodePanelPointLaze",void 0),r([f(cc.Node)],e.prototype,"nodePanelPointBoom",void 0),r([f(cc.Node)],e.prototype,"nodePanelPointSongAm",void 0),r([f(cc.Node)],e.prototype,"nodePanelPointMuiKhoan",void 0),r([f(cc.Node)],e.prototype,"nodePanelPointCaXau",void 0),r([f(cc.Node)],e.prototype,"nodePanelPointTruyGai",void 0),r([f(cc.Node)],e.prototype,"nodePanelPointRua",void 0),r([f(cc.Node)],e.prototype,"nodePanelPointHaiThan",void 0),r([f(cc.Node)],e.prototype,"nodePanelPointGunFire",void 0),r([f(cc.Node)],e.prototype,"nodeBulletMuiKhoan",void 0),r([f(cc.Node)],e.prototype,"nodeVaChamMuiKhoan",void 0),r([f(cc.Node)],e.prototype,"nodeEfGiatSet",void 0),r([f(cc.Node)],e.prototype,"nodeEfTrieuHoi",void 0),r([f(cc.Node)],e.prototype,"nodeEfCaXauDead",void 0),r([f(cc.Node)],e.prototype,"nodeEfTruyGaiDead",void 0),r([f(cc.Node)],e.prototype,"nodeEfRuaDead",void 0),r([f([cc.SpriteFrame])],e.prototype,"listSpItemMiniBoss",void 0),r([f([cc.SpriteFrame])],e.prototype,"listSpItemFish",void 0),r([f(cc.Node)],e.prototype,"nodeMutilReward",void 0),r([f(cc.Node)],e.prototype,"nodeLocXoay",void 0),r([f(cc.Node)],e.prototype,"nodeBigFish",void 0),r([f(cc.Node)],e.prototype,"nodeEfGunFire",void 0),r([f(cc.Node)],e.prototype,"nodeCrabVongQuay",void 0),r([f(cc.Node)],e.prototype,"countItem",void 0),r([f(cc.Node)],e.prototype,"txtTrieuHoi",void 0),r([f(cc.Node)],e.prototype,"effectSetFish74",void 0),r([f(cc.Node)],e.prototype,"panelFish74",void 0),r([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown","../Player/Effect/PlayerUsingAuto":"PlayerUsingAuto","../Player/Effect/PlayerUsingIce":"PlayerUsingIce","../Player/Effect/PlayerUsingSpeed":"PlayerUsingSpeed","../Player/Effect/PlayerUsingTarget":"PlayerUsingTarget","../Player/Effect/TypePlayerEffectBD":"TypePlayerEffectBD"}],PopupSuggestTaiApp:[function(t,e,n){"use strict";cc._RF.push(e,"8d0f7xaDadLPq9tKzbPUO1W","PopupSuggestTaiApp");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.isShowNextFun=!0,e}return i(e,t),e.prototype.start=function(){},e.prototype.onClickClose=function(){var t=this;s.Windown.actionEffectClose(this.node,function(){t.node.parent=null,t.isShowNextFun&&s.Windown.UIManager.showFunFirtLogin()})},r([l(cc.Label)],e.prototype,"label",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Windown":"Windown"}],QuickShop:[function(t,e,n){"use strict";cc._RF.push(e,"3ff49Ot1YdH5p1xmPFRd6kv","QuickShop");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../Windown"),a=t("./BaseItemQuick"),c=cc._decorator,l=c.ccclass,u=c.property,p=(cc.Enum({CARD:0,MOMO:1}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listSptitle=[],e.spTitle=null,e.parentButton=null,e.listItemState=[],e.currentId=0,e.currentMoney=0,e}return i(e,t),e.prototype.onLoad=function(){s.Windown.QuickShop=this},e.prototype.onDestroy=function(){s.Windown.QuickShop=null},e.prototype.onDisable=function(){},e.prototype.show=function(t,e){this.currentId=t,this.currentMoney=e,cc.log(" Windown.QuickShop.currentId="+s.Windown.QuickShop.currentId),s.Windown.actionEffectOpen(this.node)},e.prototype.onClickChooseType=function(t,e){for(var n=Number(e),o=0,i=this.listItemState;o<i.length;o++){var r=i[o];if(r.type==n){r.excuted();break}}},e.prototype.onClickClose=function(){var t=this;this.listItemState.forEach(function(t){t.reset()}),s.Windown.actionEffectClose(this.node,function(){t.node.parent=null})},r([u([cc.SpriteFrame])],e.prototype,"listSptitle",void 0),r([u(cc.Label)],e.prototype,"spTitle",void 0),r([u(cc.Node)],e.prototype,"parentButton",void 0),r([u([a.default])],e.prototype,"listItemState",void 0),r([l],e)}(cc.Component));n.default=p,cc._RF.pop()},{"../../Windown":"Windown","./BaseItemQuick":"BaseItemQuick"}],QuyBaSpeedControl:[function(t,e,n){"use strict";cc._RF.push(e,"e6062Bu8sRJW6+O5BYpzQ0p","QuyBaSpeedControl");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.QuyBaSpeedControl=void 0;var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.normalSpeed=1,e.animation=null,e.spine=null,e.isSpine=!1,e}return i(e,t),e.prototype.onLoad=function(){this.isSpine?this.spine=this.node.getComponent(sp.Skeleton):this.animation=this.node.getComponent(cc.Animation)},e.prototype.start=function(){},e.prototype.onPlay=function(){null!=this.animation&&(this.animation.getAnimationState(this.animation.currentClip.name).speed=s.Windown.QuyBa.stateSpin.isMaxSpeed?3:this.normalSpeed)},e.prototype.onEnable=function(){cc.isValid(this.spine)&&(this.spine.timeScale=s.Windown.QuyBa.stateSpin.isMaxSpeed?3:1)},r([l],e.prototype,"isSpine",void 0),r([c],e)}(cc.Component);n.QuyBaSpeedControl=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],QuyBaView:[function(t,e,n){"use strict";cc._RF.push(e,"8a495TlUTZJK4f3+JcYMrbe","QuyBaView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.QuyBaView=void 0;var c=t("../../../Scritps/Game/GAME_TYPE"),l=t("./EffectQuyBa"),u=t("./SpinNormalQuyBa"),p=t("./ItemSlotQuyBa"),h=t("../../../Scritps/DefineTs/EVENT_MANAGER"),d=t("../../../Scritps/DefineTs/TextDefine"),f=t("../../../Scritps/DefineTs/StateReelSlot"),y=t("./AssetQuyBa"),g=t("./InfoBarControllerQuyBa"),m=t("../../../Scritps/Obs/LbMoneyChange"),v=t("../../../Scritps/Other/LbMonoSpace"),S=t("./BottleControllerQuyBa"),b=t("./LichSuQuyBa"),w=t("./AudioQuyBa"),_=t("../../../Scritps/Windown"),C=t("../../../Scritps/Network/ConectManager"),T=t("../../../Scritps/DefineTs/REQUEST_CODE"),I=t("../../../Scritps/Util"),W=cc._decorator,M=W.ccclass,E=W.property,R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bkgSprite=null,e.effect=null,e.parentMask=null,e.btnSpin=null,e.lb_totalBet=null,e.lb_FSLeft=null,e.asset=null,e.infoBar=null,e.multiBottleControl=null,e._popupLichSu=null,e.audio=null,e.parentItem=null,e.parentItemFront=null,e.parentItemActive=null,e.listNodeDeactive=[],e.parentEffect=null,e.parentMultiEffect=null,e.nearWinNoSap=null,e.labelChipReviceInBox=null,e.lb_CountAuto=null,e.lb_TotalLine=null,e.nodeBtnSeting=null,e.toggleTurbo=null,e.nodeBtnPlay=null,e.nodeChooseAuto=null,e.btnStartAuto=null,e.isDoneStartSpin=!1,e.isShowBtnPlay=!0,e.gameType=-1,e.dataFinish=null,e.stateSpin=null,e.listColum=[],e.roomSFS=null,e.listConfigBet=[],e.listResult=null,e.listResultConvert=[],e.curRoomBet=50,e.totalLineBet=20,e.stateReel=0,e.currentTotalLine=1,e.isMouseEnterSpin=!1,e.sfsObjTest=null,e.sfsObjTest2=null,e.funEnd=null,e.sfs=null,e}return i(e,t),e.prototype.onLoad=function(){_.Windown.QuyBa=this,cc.log("start Quy Ba"),this.gameType=c.default.QuyBa,this.gameType=c.default.QuyBa,this.sfs=C.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(h.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),this.stateReel=f.default.WAITING,this.stateSpin=new u.SpinNormalQuyBa,this.sendJoinRoom(),this.activeMask(!1),this.registerBtnSpinEffect(),cc.game.setFrameRate(60)},e.prototype.start=function(){var t=this;this.setupView(),this.initItem(),this.switchBkgGame(!1),cc.sys.isNative||this.scheduleOnce(function(){return s(t,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,_.Windown.loadBundle(c.default.QuyBa.toString())];case 1:return t.sent().loadDir("Spine",function(){}),[2]}})})},3),this.asset.preloadTakeSymbol()},e.prototype.onJoinRoom=function(t){cc.log("onJoinRoom "+t.room.groupId);var e=t.room;if("SlotBar"==e.groupId){this.roomSFS=e,_.Windown.UIManager.hideLoadingData();var n=e.getVariable("cf").value;cc.log(n);var o=[],i=JSON.parse(n);for(var r in i){var s=Object.create(null);s.bet=parseInt(r),s.perJp=i[r].percentPot/100,o.push(s)}o.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=o,this.curRoomBet=this.listConfigBet[0].bet,this.lb_totalBet.string=_.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),_.Windown.UIManager.hideLoading(),_.Windown.UIManager.hideLoadingData(),_.Windown.Dialog.showLog(d.TextDefine.ERR_JOIN_ROOM),cc.director.loadScene("main")},e.prototype.userExitRoom=function(t){cc.log("user exit room"),"SlotBar"==t.room.groupId&&t.user.isItMe&&cc.director.loadScene("main")},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(e){case T.REQUEST_CODE.SpinQuyBa:this.handleFinish(n);break;case T.REQUEST_CODE.HistoryQuyBa:this._popupLichSu&&this._popupLichSu.responseServer(n);break;case T.REQUEST_CODE.HistoryChiTietQuyBa:this._popupLichSu&&this._popupLichSu.responseServerChiTiet(n);break;case T.REQUEST_CODE.GetIdJoinRoom:cc.log("extResponse:",_.Windown.SFSObjToJson(n))}},e.prototype.onCreateError=function(){cc.log("creat errr"),_.Windown.UIManager.hideLoading(),cc.director.loadScene("main"),_.Windown.Dialog.showLog(d.TextDefine.ERR_JOIN_ROOM)},e.prototype.onJoinGame=function(t){var e=[],n=t;for(var o in n){var i=Object.create(null);i.bet=parseInt(o),i.perJp=n[o].percentPot/100,e.push(i)}e.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=e,this.curRoomBet=this.listConfigBet[0].bet,this.lb_totalBet.string=_.Windown.formatNumber(this.totalLineBet*this.curRoomBet)},e.prototype.sendClickSpin=function(){if(null!=this.sfsObjTest)return C.ConectManager.getIns().sendRequest("testSpin",this.sfsObjTest,this.roomSFS),this.sfsObjTest=null,void cc.log("send test ne");if(null!=this.sfsObjTest2)return C.ConectManager.getIns().sendRequest("testSpin2",this.sfsObjTest2,this.roomSFS),this.sfsObjTest2=null,void cc.log("send test ne");var t=C.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),cc.log("sendClickSpin:",t),C.ConectManager.getIns().sendRequest(T.REQUEST_CODE.SpinQuyBa,t,this.roomSFS),cc.log(T.REQUEST_CODE.SpinQuyBa)},e.prototype.onClickSendFixData=function(){var t=Object.create(null);t.view=[[{i:12},{i:8},{i:5},{i:0},{i:1}],[{i:0,s:2,t:2},{i:12,s:2},{i:9}],[{i:1,s:2,t:2},{i:0,s:2,t:2},{i:1}],[{i:12},{i:0,s:2,t:2},{i:2},{i:6}],[{i:12,s:2},{i:10},{i:7},{i:2}],[{i:10},{i:0},{i:7},{i:10},{i:3}]],t.bet=this.curRoomBet,this.sfsObjTest=t,this.onClickBtnSpin()},e.prototype.handleHistory=function(t){this._popupLichSu&&this._popupLichSu.responseServer(t)},e.prototype.handleHistoryInfoM=function(t){this._popupLichSu&&this._popupLichSu.responseServerChiTiet(t)},e.prototype.registerBtnSpinEffect=function(){},e.prototype.sendJoinRoom=function(){var t=C.ConectManager.getIns().getSFSObj();cc.log("sendJoinRoom:"+c.default.QuyBa),t.putInt("gameType",c.default.QuyBa),t.putInt("roomType",-1),t.putInt("mark",-1),C.ConectManager.getIns().sendRequest(T.REQUEST_CODE.GetIdJoinRoom,t)},e.prototype.onDestroy=function(){_.Windown.QuyBa=null,this.dataFinish&&(_.Windown.MoneyUser.removeDelay(this.gameType),this.dataFinish=null),_.Windown.MoneyUser.endGameMOney(this.gameType),cc.systemEvent.removeAll(this),this.roomSFS=null,this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),this.clearAllMakeDelay()},e.prototype.onDisconnect=function(){cc.log("disconnect"),_.Windown.UIManager.hideLoading(),_.Windown.UIManager.hideLoadingData(),cc.director.loadScene("main")},e.prototype.handleResponse=function(t,e){console.log("handleResponse: "+JSON.stringify(t)),console.log("handleResponse: "+e)},e.prototype.handleFinish=function(t){var e=this,n=JSON.parse(_.Windown.SFSObjToJson(t));if(this.isDoneStartSpin){if(console.log("HandleFinish stringtify: "+JSON.stringify(n)),n.errorMessage)return this.stateSpin.handleErrSpin(),_.Windown.Dialog.showLog(n.errorMessage),this.activeAllBtn(),void this.onClickResetCountAuto();this.dataFinish=n,_.Windown.MoneyUser.pushDelayMoney(this.gameType,this.dataFinish.agUser,n.agWin),this.truTienBet(this.dataFinish.agBet*this.totalLineBet,this.dataFinish.agUser),this.listResult=n.views;var o=n.arrBonus;o="[]"==o?"[[2,2,2,2]]":o,this.listResultConvert=this.convertResult(this.listResult,n.listItemWin,JSON.parse(o)),this.stateSpin.isMaxSpeed,this.stateReel=f.default.CAN_STOP;var i=this.stateSpin.isMaxSpeed?0:.5;this.scheduleOnce(this.funEnd=function(){e.stateSpin.onEnd()},i)}else this.scheduleOnce(function(){e.handleFinish(t)},.05)},e.prototype.resetForNewGame=function(){this.stateReel=f.default.WAITING,this.setStateEffBtnSpin()},e.prototype.activeAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!0,t.node.children.forEach(function(t){t.getComponent(cc.Sprite)&&(t.color=cc.Color.fromHEX(new cc.Color,"#00CCFF"),null!=t.children[0]&&(t.children[0].color=cc.Color.fromHEX(new cc.Color,"#00CCFF")))})})},e.prototype.setCountAuto=function(t){this.lb_CountAuto.node.parent.active=!(t<1),this.lb_CountAuto.string=t.toString()},e.prototype.onClickResetCountAuto=function(){this.stateSpin.countAutoSpin=0,this.lb_CountAuto.node.parent.active=!1,_.Windown.QuyBa.audio.playClick()},e.prototype.truTienBet=function(t,e){0!=t&&_.Windown.MoneyUser.subMoney(t,e)},e.prototype.onClickBtnSpin=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:cc.log("stateReel="+this.stateReel),e.label=1;case 1:return e.trys.push([1,5,,6]),this.stateReel!=f.default.WAITING?[3,3]:(this.audio.playEffect(this.audio.spinBtn),this.stateReel=f.default.RUN,this.setStateEffBtnSpin(),this.offAllBtn(),this.infoBar.reset(),this.isDoneStartSpin=!1,this.sendClickSpin(),0==this.stateSpin.freeSpinLeft&&this.multiBottleControl.resetBottle(),[4,_.Windown.QuyBa.getPromise(this.stateSpin.onStart())]);case 2:return e.sent(),this.isDoneStartSpin=!0,[3,4];case 3:this.stateReel==f.default.CAN_STOP?this.stateSpin.isMaxSpeed||(cc.log("nhay vao forestop ne"),this.stateReel=f.default.RUN,this.unschedule(this.funEnd),this.stateSpin.onForceEnd()):this.stateReel==f.default.STOP||this.stateReel==f.default.SHOW_EFFECT&&(this.audio.playClick(),this.stateSpin.resetForNextNextSpin(),this.onClickBtnSpin()),e.label=4;case 4:return[3,6];case 5:return t=e.sent(),I.Util.ThrowErrProsime(t),[3,6];case 6:return[2]}})})},e.prototype.offAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!1,t.node.children.forEach(function(t){t.getComponent(cc.Sprite)&&(t.color=cc.Color.fromHEX(new cc.Color,"#999999")),null!=t.children[0]&&(t.children[0].color=cc.Color.fromHEX(new cc.Color,"#999999"))})})},e.prototype.setStateEffBtnSpin=function(){var t=this.btnSpin.getComponent(cc.Animation),e=cc.find("sb_arrow",this.btnSpin),n=cc.find("sb_arrow_blur",this.btnSpin);if(this.stateReel!=f.default.STOP){e.color=cc.Color.WHITE;var o=cc.Material.getBuiltinMaterial("2d-sprite");e.getComponent(cc.Sprite).setMaterial(0,o)}if(this.stateReel==f.default.WAITING||this.stateReel==f.default.SHOW_EFFECT)n.active=!1,e.active=!0,_.Windown.stopAllActionByTarget(e),e.runAction(cc.repeatForever(cc.rotateBy(3,-360)));else if(this.stateReel==f.default.RUN)t.play("ButtonSpin_Click"),n.active=!0,_.Windown.stopAllActionByTarget(n),n.runAction(cc.repeatForever(cc.rotateBy(.3,-360))),e.active=!1,this.infoBar.showRdContent();else if(this.stateReel==f.default.STOP){e.active=!0,n.active=!1,_.Windown.stopAllActionByTarget(n),_.Windown.stopAllActionByTarget(e);var i=cc.Material.getBuiltinMaterial("2d-gray-sprite");e.getComponent(cc.Sprite).setMaterial(0,i),e.color=cc.Color.GRAY}},e.prototype.setupView=function(){var t=cc.find("Game",this.node);if(cc.sys.isMobile)e=1280/720;else{var e=cc.view.getDesignResolutionSize().height/1280;t.setScale(e,e,e),this.bkgSprite.setContentSize(cc.winSize),_.Windown.UIManager.changeRotation(!0)}},e.prototype.showBigWin=function(){this.effect.showBigWin(99999,50)},e.prototype.showFreeSpin=function(){this.effect.showTakeFreeSpin(10)},e.prototype.showEndFreeSpin=function(){this.effect.showEndFree(123123)},e.prototype.getMakeDelay=function(t){return _.Windown.CpPromise.getDelay(t,this)},e.prototype.getPromise=function(t){return _.Windown.CpPromise.getDelayByPromise(t,this).prosime},e.prototype.getPromiseAll=function(t){return _.Windown.CpPromise.getDelayPromiseAll(t,this).prosime},e.prototype.clearAllMakeDelay=function(){_.Windown.CpPromise.targetOff(this)},e.prototype.activeMask=function(t,e){var n=this.parentMask.children;t?e?(_.Windown.stopAllActionByTarget(n[e]),n[e].runAction(cc.fadeTo(.3,200))):n.forEach(function(t){_.Windown.stopAllActionByTarget(t),t.runAction(cc.fadeTo(.3,200))}):e?(_.Windown.stopAllActionByTarget(n[e]),n[e].runAction(cc.fadeOut(.3))):n.forEach(function(t){_.Windown.stopAllActionByTarget(t),t.runAction(cc.fadeOut(.3))})},e.prototype.updateNewTotalLine=function(t){this.currentTotalLine*=t,this.lb_TotalLine.string=this.currentTotalLine.toString()},e.prototype.resetLbTotalLine=function(){this.currentTotalLine=1,this.lb_TotalLine.string="..."},e.prototype.initItem=function(){for(var t,e=this.getRdViewFirtGame(),n=this.getRdViewForLoop(0),o=cc.instantiate(this.parentItem.children[0]),i=.6666*o.width,r=(o.height,0);r<6;r++){var s=n[r].pop();e[r].unshift(s),e[r].push(s);var a=null,c=this.parentItem.children[r];null==c&&((c=cc.instantiate(o)).parent=this.parentItem),(a=c.getComponent(p.ItemSlotQuyBa)).node.setPosition(cc.v3(i*r+i/2-6*i/2,0,0)),a.index=r,this.listColum.push(a),n[r].length>0&&(t=a.listResultRandomCache).unshift.apply(t,n[r]),a.setResultFirtGame(e[r])}},e.prototype.getRdViewForLoop=function(t){for(var e,n=[],o=0,i=6-t;o<i;o++){var r=t>0&&5!=t&&_.Windown.RandomNumber(0,100)<20?_.Windown.RandomNumber(3,5):_.Windown.RandomNumber(1,3);n.push([{i:(void 0,e=_.Windown.RandomNumber(0,100),e<5?12:e<10?11:_.Windown.RandomNumber(0,11)),s:r,t:r>1&&_.Windown.RandomNumber(0,100)<30?1:0}])}var s=0;return n.forEach(function(t){var e=t[0].s||1;e>s&&(s=e)}),n.forEach(function(t){for(var e=t[0].s||1,n=0,o=s-e;n<o;n++)t.unshift({i:_.Windown.RandomNumber(0,12),t:0,s:1})}),n},e.prototype.convertResult=function(t,e,n){var o=this,i=[],r=e.slice();return t.forEach(function(s,a){var c=Object.create(null);c.listSFSObj=[];var l=1;if(r.length>0&&r[a]){var u=Math.max.apply(Math,JSON.parse(r[a].lsstack));l=o.caculateMultiInView(t[a],n[a],u)}c.agWin=0,c.listReelMul=n[a],c.mutil=l,c.view=t[a],s.forEach(function(t,n){var o=[];if(t.forEach(function(t){o.push(t)}),o.reverse(),c.listSFSObj.push(o),n==s.length-1){var i=e.shift();i&&(i.lsIdItem=JSON.parse(i.lsIdItem),i.lsstack=JSON.parse(i.lsstack),i.lsAgWin=JSON.parse(i.lsAgWin),i.lsAgWin.length>0&&(c.listItemWin=i,c.isNoSap=!0),i.lsAgWin.forEach(function(t){c.agWin+=t}))}}),c.countScater=o.getCountScater(c.listSFSObj),i.push(c)}),i},e.prototype.switchBkgGame=function(t){var e=this,n=cc.find("Game/BkgGround/FreeSpin",this.node),o=cc.find("Game/BkgGround/freespin_bg",this.node);t?(n.active=!0,this.lb_FSLeft.node.parent.active=!0,o.active=!0,this.nodeBtnPlay.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){e.nodeBtnPlay.active=!1})))):(n.active=!1,o.active=!1,this.lb_FSLeft.node.parent.active=!1,this.nodeBtnPlay.active=!0,this.nodeBtnPlay.opacity=255),this.lb_TotalLine._updateString()},e.prototype.setLbFreeSpinLeft=function(t){var e=this.lb_FSLeft.node.parent;this.lb_FSLeft.string=t.toString(),t<1?(cc.find("last_spin",e).active=!0,cc.find("remaining_spin",e).active=!1,this.lb_FSLeft.node.active=!1):(cc.find("last_spin",e).active=!1,cc.find("remaining_spin",e).active=!0,this.lb_FSLeft.node.active=!0)},e.prototype.caculateMultiInView=function(t,e,n){var o=0;return t.forEach(function(t,i){if(i<=n)for(var r=0;r<t.length;r++)if(11==t[r].i){o+=e[i-1];break}}),o=0==o?1:o},e.prototype.getCountScater=function(t){var e=0;return t.forEach(function(t){t.forEach(function(t){12==t.i&&e++})}),e},e.prototype.getListActiveScaster=function(t){for(var e=[],n=0,o=0;o<t.length;o++)n>=3?e.push(!0):e.push(!1),t[o].forEach(function(t){12==t.i&&n++});return e},e.prototype.showMoneyAllWin=function(t){this.labelChipReviceInBox.setMoney(t),_.Windown.MoneyUser.removeDelay(this.gameType)},e.prototype.getRdViewFirtGame=function(){for(var t,e,n=[],o=0,i=function(){var t=_.Windown.RandomNumber(0,100);return t<10?4:t<30?3:2},r=0;r<6;r++){for(var s=[],a=0;a<5;a++)(l=Object.create(null)).i=(t=a,void 0,(e=_.Windown.RandomNumber(0,100))<3&&o<3?(o++,12):e<6&&t>0&&t<5?11:_.Windown.RandomNumber(0,11)),l.t=1,l.s=1,s.push(l);n.push(s)}var c=function(t,e,n,o){if(!(n+o<=5))return!1;for(var i=n;i<o+n;i++){var r=t[e][i];if(1!=r.s||12==r.i)return!1}return!0};for(n.forEach(function(t,e){t.forEach(function(t,o){if(e>0&&e<5&&12!=t.i&&1==t.s&&_.Windown.RandomNumber(0,100)<30){var r=i();if(c(n,e,o,r))for(var s=t.i,a=_.Windown.RandomNumber(0,100)<50?1:2,l=o;l<r+o;l++)n[e][l].i=s,n[e][l].s=r,n[e][l].t=a}})}),r=0;r<n.length;r++)for(s=n[r],a=0;a<s.length;a++){var l;if((l=s[a])&&1!=l.s)for(var u=a+1,p=a+1+l.s-1;u<p;u++)s[u]=null}for(var h in n)n[h]=n[h].filter(function(t){return null!=t});return n},e.prototype.onClickTest=function(){this.effect.showEndFree(123456)},e.prototype.onClickSeting=function(){if(_.Windown.QuyBa.audio.playClick(),cc.log("click onClickSeting"),this.isShowBtnPlay=!this.isShowBtnPlay,this.isShowBtnPlay)t=cc.v2(0,-750),this.nodeBtnPlay.runAction(cc.fadeIn(.4)),this.nodeBtnSeting.runAction(cc.spawn(cc.fadeOut(.3),cc.moveTo(.3,t)));else{_.Windown.stopAllActionByTarget(this.nodeBtnPlay),_.Windown.stopAllActionByTarget(this.nodeBtnSeting);var t=cc.v2(0,-515.279);this.nodeBtnPlay.runAction(cc.fadeOut(.3)),this.nodeBtnSeting.opacity=0,this.nodeBtnSeting.runAction(cc.spawn(cc.fadeIn(.4),cc.moveTo(.3,t)))}},e.prototype.onClickBackToLobby=function(){_.Windown.QuyBa.audio.playClick(),this.roomSFS?(cc.log("Vao day"),C.ConectManager.getIns().sendLeaveRoom(this.roomSFS)):cc.director.loadScene("main")},e.prototype.onClickTurbo=function(){_.Windown.QuyBa.audio.playClick(),cc.log("clmm onClickTurbo");var t=this.toggleTurbo.isChecked;this.toggleTurbo.node.children[1].active=!t,this.stateSpin.isMaxSpeed=t,t?_.Windown.UIManager.showAlertMini("\u0110\xe3 b\u1eadt quay nhanh"):_.Windown.UIManager.showAlertMini("\u0110\xe3 t\u1eaft quay nhanh")},e.prototype.onClickCloseListAuto=function(){var t=this;cc.log("onClickCloseListAuto"),_.Windown.QuyBa.audio.playClick(),_.Windown.stopAllActionByTarget(this.nodeChooseAuto),this.nodeChooseAuto.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){var e=t.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer);e.allowSwitchOff=!0,e.toggleItems.forEach(function(t){t.isChecked&&(t.isChecked=!1)}),t.nodeChooseAuto.active=!1,t.btnStartAuto.interactable=!1,t.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#00CCFF")})))},e.prototype.onClickItemAutoSpin=function(t){_.Windown.QuyBa.audio.playClick(),this.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer).allowSwitchOff=!1;var e=t.node.name,n=Number(e);this.stateSpin.countAutoSpin=n,this.btnStartAuto.interactable=!0,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#00CCFF")},e.prototype.onClickStartAutoSpin=function(){this.onClickBtnSpin(),this.onClickCloseListAuto(),_.Windown.QuyBa.stateSpin.countAutoSpin>0&&_.Windown.QuyBa.setCountAuto(_.Windown.QuyBa.stateSpin.countAutoSpin)},e.prototype.onClickShowListAuto=function(){_.Windown.QuyBa.audio.playClick(),this.nodeChooseAuto.active=!0,this.nodeChooseAuto.opacity=0,this.nodeChooseAuto.runAction(cc.fadeIn(.3)),this.btnStartAuto.interactable=!1,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#00CCFF")},e.prototype.onClickCachChoi=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return _.Windown.QuyBa.audio.playClick(),_.Windown.UIManager.showLoading(),[4,_.Windown.loadRes(this.gameType.toString(),"Prefabs/CachChoi",cc.Prefab)];case 1:return t=e.sent(),cc.instantiate(t).parent=_.Windown.QuyBa.node.getChildByName("Game"),_.Windown.UIManager.hideLoading(),[2]}})})},e.prototype.onClickLichSu=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return _.Windown.QuyBa.audio.playClick(),_.Windown.UIManager.showLoading(),[4,_.Windown.loadRes(this.gameType.toString(),"Prefabs/LichSu",cc.Prefab)];case 1:return t=e.sent(),this._popupLichSu=cc.instantiate(t).getComponent(b.default),this._popupLichSu.node.parent=_.Windown.QuyBa.node.getChildByName("Game"),this._popupLichSu.show(),[2]}})})},e.prototype.onClickChangeBet=function(t,e){if(_.Windown.QuyBa.audio.playClick(),this.listConfigBet.length<1)_.Windown.Dialog.showLog(d.TextDefine.Error);else{var n=-1;for(var o in this.listConfigBet)if(this.listConfigBet[o].bet==this.curRoomBet){n=parseInt(o);break}0==e?n--:n++,n<0&&(n=this.listConfigBet.length-1),n>this.listConfigBet.length-1&&(n=0),this.curRoomBet=this.listConfigBet[n].bet,this.lb_totalBet.string=_.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},r([E(cc.Node)],e.prototype,"bkgSprite",void 0),r([E(l.EffectQuyBa)],e.prototype,"effect",void 0),r([E(cc.Node)],e.prototype,"parentMask",void 0),r([E(cc.Node)],e.prototype,"btnSpin",void 0),r([E(cc.Label)],e.prototype,"lb_totalBet",void 0),r([E(v.default)],e.prototype,"lb_FSLeft",void 0),r([E(y.AssetQuyBa)],e.prototype,"asset",void 0),r([E(g.InfoBarControllerQuyBa)],e.prototype,"infoBar",void 0),r([E(S.BottleControllerQuyBa)],e.prototype,"multiBottleControl",void 0),r([E(b.default)],e.prototype,"_popupLichSu",void 0),r([E(w.default)],e.prototype,"audio",void 0),r([E(cc.Node)],e.prototype,"parentItem",void 0),r([E(cc.Node)],e.prototype,"parentItemFront",void 0),r([E(cc.Node)],e.prototype,"parentItemActive",void 0),r([E([cc.Button])],e.prototype,"listNodeDeactive",void 0),r([E(cc.Node)],e.prototype,"parentEffect",void 0),r([E(cc.Node)],e.prototype,"parentMultiEffect",void 0),r([E(cc.Node)],e.prototype,"nearWinNoSap",void 0),r([E(m.default)],e.prototype,"labelChipReviceInBox",void 0),r([E(v.default)],e.prototype,"lb_CountAuto",void 0),r([E(v.default)],e.prototype,"lb_TotalLine",void 0),r([E(cc.Node)],e.prototype,"nodeBtnSeting",void 0),r([E(cc.Toggle)],e.prototype,"toggleTurbo",void 0),r([E(cc.Node)],e.prototype,"nodeBtnPlay",void 0),r([E(cc.Node)],e.prototype,"nodeChooseAuto",void 0),r([E(cc.Button)],e.prototype,"btnStartAuto",void 0),r([M],e)}(cc.Component);n.QuyBaView=R,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./AssetQuyBa":"AssetQuyBa","./AudioQuyBa":"AudioQuyBa","./BottleControllerQuyBa":"BottleControllerQuyBa","./EffectQuyBa":"EffectQuyBa","./InfoBarControllerQuyBa":"InfoBarControllerQuyBa","./ItemSlotQuyBa":"ItemSlotQuyBa","./LichSuQuyBa":"LichSuQuyBa","./SpinNormalQuyBa":"SpinNormalQuyBa"}],REQUEST_BONG_DEM:[function(t,e,n){"use strict";cc._RF.push(e,"9aef7Suul9KvYYyZ4ls/U7K","REQUEST_BONG_DEM"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.CreatFish="creatFishBongDem",t.ChangeGun="chanGuneBongDem",t}();n.default=o,cc._RF.pop()},{}],REQUEST_CODE:[function(t,e,n){"use strict";cc._RF.push(e,"cf5e0J4viBMnYhCLyYoW10x","REQUEST_CODE"),Object.defineProperty(n,"__esModule",{value:!0}),n.REQUEST_CODE=void 0;var o=function(){function t(){}return t.SignUp="signUp",t.Login="login",t.LoginFb="loginFb",t.LoginPlaynow="loginPlaynow",t.UpdateAccount="updateAccount",t.GetConfig="getConfig",t.Logout="forceLogout",t.BuyIn="buyIn",t.JoinRoom="joinRoom",t.GetIdJoinRoom="getIdJoinRoom",t.JoinFishRoom="joinFishRoom",t.OtherJoinFishRoom="otherJoinFishRoom",t.PlayerLeaveFishRoom="playerLeaveFishRoom",t.PlayerUsingItemFish="playerUsingItemFish",t.IceAllFish="iceAllFish",t.ChangeGunFish="changeGunFish",t.LeaveRoom="leaveRoom",t.BetToNho="betToNho",t.MakeBet="makeBet",t.GetListRoom="getListRooms",t.SetConfig="setConfig",t.GetTime="getTime",t.GunAtack="gunAtack",t.ChangeAvaInRoom="changeAvaInRoom",t.FishColision="fishColision",t.CreatFish="creatFish",t.PingFish="pingFish",t.RemoveListFish="removeListFish",t.SetTimeFishEffect="setTimeFishEffect",t.TakeGunSpecial="takeGunSpecial",t.UsingGunSpecial="usingGunSpecial",t.FishSpecialColision="fishSpecialColision",t.InfoFishRoom="infoFishRoom",t.NotFindFish="notFindFish",t.RequestCaptcha="requestCaptcha",t.GiftCode="giftCode",t.GetAccountBlance="getAccountBlance",t.Upacingame="upacingame",t.GetEvent="getEvent",t.GetQuest="getQuestAll",t.GetQuestFinish="getRewardQuest",t.Dialog="dialog",t.ForceRestart="forceRestart",t.Dangky="$SignUp.Submit",t.ListRoom="listRoom",t.OtherJoinRoom="otherJoinRoom",t.OtherLeaveRoom="otherLeaveRoom",t.GetMail="getMail",t.GetAvatar="getAvatar",t.DeleteMail="delMail",t.ReadMail="readMail",t.ChangeAvatar="changeAvatar",t.ChangeStatus="changeStatus",t.NotiJackpotFish="notiJackpotFish",t.InfoJackpot="infoJackpot",t.LvlUp="lvlUp",t.GetInfo="getInfoPlayer",t.GetConfigTranfer="getConfigTranfer",t.GetConfigMomo="getConfigMomo",t.GetConfigMomoTuan="getConfigMomoTuan",t.GetConfigBank="getConfigBank",t.GetListBank="getListBank",t.GetListBankOut="getListBankOut",t.UpdateBank="updateBank",t.UpdateBankH="updateBankH",t.GetAgency="ctv",t.InputMGT="nhapmgt",t.GetConfigBankNhat="getConfigBankNhat",t.CashInYen="cashInYen",t.HuyMomo="huyMomo",t.HuyBank="huyBank",t.GetRankWeek="getRankWeek",t.GetRankMonth="getRankMonth",t.GetRankLobby="getRankLobby",t.CashInCardTuan="cashInCardTuan",t.CashInCardNew="cashInCardNew",t.CashOutCard="cashOutCard",t.GetTranscationsShop="getTranscationsShop",t.ReviceListItem="reviceListItem",t.AddMail="addMail",t.PING="ping",t.GetHistoryRank="getHistoryRank",t.UpdateQuest="updateQuest",t.GetListAdminOnline="getListAdminOnline",t.SendMessageToAdmin="sendMessageToAdmin",t.GetListChat="getListChat",t.VeryPhoneTele="veryPhoneTele",t.TimeOutPlay="timeOutPlay",t.LeaveRoomXeng="leaveRoomXeng",t.SetMutiXeng="setMutilXeng",t.GetConfigShopVip="getConfigShopVip",t.ActiveAutoFish="activeAutoFish",t.ActiveGunSet="activeGunSet",t.TakeFirtLogin="TFLI",t.SpinTruTien="spinTruTien",t.SpinDieuThuyen="spinDieuThuyen",t.SpinNgoKhong="spinNgoKhong",t.SpinNeko="spinNeKo",t.SpinInCa="spinInCa",t.SpinRungRam="spinRungRam",t.SpinAsgard="spinCB",t.HistoryTruTien="historyTruTien",t.HistoryDieuThuyen="historyDieuThuyen",t.HistoryNgoKhong="historyNgoKhong",t.HistoryNeko="historyNeKo",t.HistoryInCa="historyInCa",t.HistoryChiTietNeko="historyInfoNeKo",t.HistoryChiTietInCa="historyInfoInCa",t.HistoryRungRam="historyRungRam",t.HistoryAsgard="historyCB",t.HistoryChiTietAsgard="historyInfoCB",t.HistoryChiTietRungRam="historyInfoRungRam",t.REQUEST_GET_LastSpin_SLOT="1_2",t.SelectTypeFree="selectTypeFree",t.HuyDoiThe="huyDoiThe",t.GetListBot="getListBot",t.GetTietKiem="getTietKiem",t.GetHoanTra="TFLI2",t.TakeHoanTra="TFLI1",t.TakeTietKiem="takeTietKiem",t.GetCTV="ctv",t.SignCTV="sigupctv",t.ReceiveCTV="nhanthuongctv",t.GetListBigWin="getListBigWin",t.AddBigWin="addBigWin",t.GetTuiDo="getTuiDo",t.GetConfigCuaHang="getConfigCuaHang",t.BuyItem="buyItem",t.Transfer="tranferAg",t.TXstartGame="startGameTX",t.TXendGame="andGameTX",t.TXbet="betTX",t.TXinfoRoundBetOld="infoRoundBetOldTX",t.TXhistoryGame="historyGameTX",t.TXhistoryBet="historyBetTX",t.TXtopGame="topGameTX",t.TXHisHu="hisHu",t.TXinfoCurrentRoom="infoCurrentRoomTX",t.TXinfoRoom="infoRoomTX",t.TXChat="chat",t.BCRPlayerInfo="d7v",t.BCRInfoRoom="infoRoom",t.BCRStartGame="startGameB",t.BCREndGame="endGameB",t.BCRBet="bet",t.BCRHistoryBet="historyBetBa",t.BCAutoExit="atS",t.XDPlayerInfo="d7v",t.XDInfoRoom="infoRoom",t.XDStartGame="startGameB",t.XDEndGame="endGameB",t.XDBet="bet",t.XDHistoryBet="historyBetBa",t.XDAutoExit="atS",t.SpinMatTroi="spinMatTroi",t.HistoryMatTroi="historyMatTroi",t.HistoryChiTietMatTroi="historyInfoMatTroi",t.GETLISTMARKGAME="getListMarkGame",t.CREATETABLE="crt",t.JOINPLAYNOW="idr",t.FINDTABLE="jid",t.INFOR_ROOM="infoRoom",t.SpinMuaDong="spinMuaDong",t.HistoryMuaDong="historyMuaDong",t.HistoryChiTietMuaDong="historyInfoMuaDong",t.SpinAiCap="spinAiCap",t.HistoryAiCap="historyAiCap",t.HistoryChiTietAiCap="historyInfoAiCap",t.InfoBaseBonus="infoBaseBonus",t.SpinMedusa="spinMedusa",t.HistoryMedusa="historyMedusa",t.HistoryChiTietMedusa="historyInfoMedusa",t.SpinMatChuoc="spinM",t.HistoryMatChuoc="historyM",t.HistoryChiTietMatChuoc="historyInfoM",t.SpinQuyBa="spinB",t.HistoryQuyBa="historyB",t.HistoryChiTietQuyBa="historyInfoB",t.SpinDuaXe="spinD",t.HistoryDuaXe="historyD",t.HistoryChiTietDuaXe="historyInfoD",t.InfoRoomLoDe="infoRoomLD",t.BetLoDe="betLD",t.LichsuLoDe="historyBet",t.SpinCaishen="spinC",t.HistoryCaishen="historyC",t.HistoryChiTietCaishen="historyInfoC",t}();n.REQUEST_CODE=o,cc._RF.pop()},{}],ResponseBetToNho:[function(t,e,n){"use strict";cc._RF.push(e,"46827RwI3lN3ZbgJ27Qa68X","ResponseBetToNho");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scritps/Game/GAME_TYPE"),c=t("../../../../Scritps/Windown"),l=t("../State/StateGame"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.soundMgn=null,e}return i(e,t),e.prototype.handleResponse=function(t){this.soundMgn=this.getSoundMng();var e=null;try{e=JSON.parse(t.getUtfString("data"))}catch(u){}if(null!=e){cc.log(JSON.stringify(e));for(var n=e.result,o=e.listRevice,i=0,r=0,s=o;r<s.length;r++)i+=s[r];if(this.getGameController().moneyCurrent=e.agXeng,c.Windown.MoneyUser.pushDelayMoney(a.default.Xeng,e.agXeng,i),this.getGameController().xengView.offEffectRandomLabelHeso(n),1==e.isSpecial){var l=o[0];1==o.length?this.runEffectXTonho7Lan(l):this.runEffectXTonhoMutil(e.listRevice)}else this.effectNormal(o[0]||0)}},e.prototype.effectNormal=function(t){return r(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,this.soundMgn.playEffectSync(this.soundMgn.SangHao)];case 1:return e.sent(),[4,this.getGameController().makeDelay(.5)];case 2:return e.sent(),this.getGameController().btnChangePointL.setPoint(t),t>0?this.getGameController().setCurrentState(l.default.WATINGPLAYGAMEMINI):(this.getGameController().setCurrentState(l.default.WATING),c.Windown.MoneyUser.removeDelay(a.default.Xeng)),[2]}})})},e.prototype.runEffectXTonho7Lan=function(){return r(this,void 0,void 0,function(){var t,e,n,o,i;return s(this,function(r){switch(r.label){case 0:return(t=this.getGameController()).xengView.lbHeso.string="7",e=t.xengView.lbHeso.node,n=t.btnChangePointL.lbPoint.node,t.runEffectNhapNhay(e,8,36),t.runEffectNhapNhay(n,8,36),[4,this.soundMgn.playEffectSync(this.soundMgn.NhacVeVang)];case 1:return r.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.SoundX7ToNho)];case 2:return r.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.VuiMung)];case 3:return r.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.Gong)];case 4:return r.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.XiPe)];case 5:r.sent(),o=t.btnChangePointL.point,i=0,r.label=6;case 6:return i<6?(this.soundMgn.playEffect(this.soundMgn.TiengNo),t.btnChangePointL.setPointBy(o),t.runEffectNhapNhay1Lan(t.btnChangePointL.lbPoint.node),[4,t.makeDelay(.3)]):[3,9];case 7:r.sent(),r.label=8;case 8:return i++,[3,6];case 9:return[4,t.makeDelay(1)];case 10:return r.sent(),t.setCurrentState(l.default.WATINGPLAYGAMEMINI),[2]}})})},e.prototype.runEffectXTonhoMutil=function(t){return r(this,void 0,void 0,function(){var e,n,o,i,r,a,c;return s(this,function(s){switch(s.label){case 0:return e=this.getGameController(),n=t.length,o=e.btnChangePointL.point,e.runEffectNhapNhay(e.btnChangePointL.lbPoint.node,8,36),[4,this.soundMgn.playEffectSync(this.soundMgn.StartXmutilToNho)];case 1:s.sent(),cc.log(JSON.stringify(t)),i=0,s.label=2;case 2:return i<n?(r=t[i],a=r/o,e.xengView.runEffectRandomLabelHeso(1,10),this.soundMgn.playEffect(this.soundMgn.RandomSo),[4,e.makeDelay(.7)]):[3,12];case 3:return s.sent(),e.xengView.offEffectRandomLabelHeso(a),[4,this.soundMgn.playEffectSync(this.soundMgn.XaPe)];case 4:s.sent(),c=0,s.label=5;case 5:return c<a?(this.soundMgn.playEffect(this.soundMgn.TiengNo),e.btnChangePointL.setPointBy(o),[4,e.makeDelay(.45)]):[3,8];case 6:s.sent(),s.label=7;case 7:return c++,[3,5];case 8:return[4,e.makeDelay(1.5)];case 9:return s.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.TuNaiXa)];case 10:s.sent(),s.label=11;case 11:return i++,[3,2];case 12:return e.xengView.runEffectRandomLabelHeso(1,10),[4,this.soundMgn.playEffectSync(this.soundMgn.RandomSo)];case 13:return s.sent(),e.xengView.offEffectRandomLabelHeso(0),[4,this.soundMgn.playEffectSync(this.soundMgn.MiOLa)];case 14:return s.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.TiengCuoi)];case 15:return s.sent(),e.setCurrentState(l.default.WATINGPLAYGAMEMINI),[2]}})})},e.prototype.getSoundMng=function(){return this.getGameController().getSoundMng()},e}(t("./IServerResponse").default);n.default=u,cc._RF.pop()},{"../../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../../Scritps/Windown":"Windown","../State/StateGame":"StateGame","./IServerResponse":"IServerResponse"}],ResponseLeaveRoom:[function(t,e,n){"use strict";cc._RF.push(e,"ad6d1PY8aVONbWS9gaxxc4j","ResponseLeaveRoom");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.handleResponse=function(){},e}(t("./IServerResponse").default);n.default=r,cc._RF.pop()},{"./IServerResponse":"IServerResponse"}],ResponseMakeBet:[function(t,e,n){"use strict";cc._RF.push(e,"2a451qiKE1C4Jd+B42gqq39","ResponseMakeBet");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Effect/Effect1CuaTo20"),c=t("../Effect/EffectAnJP"),l=t("../Effect/EffectBassNho"),u=t("../Effect/EffectDapChuot"),p=t("../Effect/EffectDoiMau"),h=t("../Effect/EffectEndGame"),d=t("../Effect/EffectEndNormal"),f=t("../Effect/EffectRan8Dot"),y=t("../Effect/EffectRunSpin"),g=t("../Effect/EffectSpecial14"),m=t("../Effect/EffectSpecial2"),v=t("../Effect/EffectSpecial3"),S=t("../Effect/EffectSpecial4"),b=t("../Effect/EffectSpecial5"),w=t("../Effect/EffectSpecial6"),_=t("../Effect/EffectSpecial7"),C=t("../Effect/EffectSpineSoXo"),T=t("../Effect/EffectTraDiem"),I=t("../Effect/EffectVe3CuaXDV"),W=t("../Effect/EffectVeBar"),M=t("../Effect/EffectVeVang"),E=t("../Effect/X10_30_1Cua"),R=t("../Effect/X3_1Cua"),A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.soundMgn=null,e.data=null,e.dataFinishXDV=null,e.dataFinishItemAnTruoc=null,e.dataFinishiItemNomarl=null,e.isStateSpin=!1,e}return i(e,t),e.prototype.handleResponse=function(t){var e=null;try{e=JSON.parse(t.getUtfString("data"))}catch(i){}if(null!=e){cc.log(JSON.stringify(e)),this.soundMgn=this.getSoundMng();var n=e.makebetXDV,o=e.makeBetAnTruoc;e.makeBetNormal,this.data=e,this.dataFinishXDV=n,this.dataFinishItemAnTruoc=o,this.dataFinishiItemNomarl=e.makeBetNormal,n.typeSpecial,n.result,this.execute()}},e.prototype.execute=function(){return r(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,this.checkAndShowAnTruoc()];case 1:return t.sent(),[4,this.checkAndShowStartEffectSpecial()];case 2:return t.sent(),[4,this.runSpinWithIdResult()];case 3:return t.sent(),[4,this.checkAndShowEndEffectSpecial()];case 4:return t.sent(),[4,this.checkAndShowXDVSpecil()];case 5:return t.sent(),[4,this.xuLiTienCuoiGameNomarl()];case 6:return t.sent(),cc.log("done"),[2]}})})},e.prototype.checkAndShowAnTruoc=function(){return r(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return 1!=(t=this.dataFinishItemAnTruoc.typeSpecialAnTruoc)?[3,1]:[2,new R.default(this.getGameController()).intData(this.dataFinishItemAnTruoc).executed()];case 1:return 2!=t?[3,3]:[4,new E.default(this.getGameController()).intData(this.dataFinishItemAnTruoc).executed()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},e.prototype.checkAndShowStartEffectSpecial=function(){return r(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return t=this.dataFinishXDV.typeSpecial,cc.log("type special XDV "+t),e=this.dataFinishiItemNomarl.typeSpecial,this.isStateSpin=!1,1!=t?[3,2]:(this.isStateSpin=!0,[4,new T.default(this.getGameController()).executed()]);case 1:return n.sent(),[3,15];case 2:return 2!=t?[3,4]:[4,new p.default(this.getGameController()).initData(this.dataFinishXDV).executed()];case 3:return n.sent(),[3,15];case 4:return 2!=e?[3,6]:[4,new a.default(this.getGameController()).executed()];case 5:return n.sent(),[3,15];case 6:return 5!=e?[3,7]:(this.isStateSpin=!0,[3,15]);case 7:return 6!=e?[3,9]:(this.isStateSpin=!0,[4,new T.default(this.getGameController()).executed()]);case 8:return n.sent(),[3,15];case 9:return 7!=e&&13!=e&&14!=e&&9!=e?[3,11]:(13==e&&this.getGameController().xengView.activeIcon(this.getGameController().xengView.getNodeJp()),this.isStateSpin=!0,[4,new u.default(this.getGameController()).executed()]);case 10:return n.sent(),[3,15];case 11:return 10!=e?[3,13]:(this.isStateSpin=!0,[4,new W.default(this.getGameController()).executed()]);case 12:return n.sent(),[3,15];case 13:return 8!=e?[3,15]:[4,new T.default(this.getGameController()).executed()];case 14:n.sent(),n.label=15;case 15:return[2]}})})},e.prototype.runSpinWithIdResult=function(){return r(this,void 0,void 0,function(){var t,e,n;return s(this,function(o){switch(o.label){case 0:return t=this.dataFinishiItemNomarl,e=t.objReviceFirtItem.idResult,n=this.dataFinishXDV.result,[4,new y.default(this.getGameController()).spinWithId(e,n,this.isStateSpin)];case 1:return o.sent(),[2]}})})},e.prototype.checkAndShowEndEffectSpecial=function(){return r(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return(t=this.dataFinishiItemNomarl).objReviceFirtItem,e=t.typeSpecial,t.ListObjReviceSub,2!=e?[3,2]:[4,new m.default(this.getGameController()).intiData(this.dataFinishiItemNomarl).executed()];case 1:return n.sent(),[3,24];case 2:return 4!=e?[3,4]:[4,new S.default(this.getGameController()).intiData(this.dataFinishiItemNomarl).executed()];case 3:return n.sent(),[3,24];case 4:return 3!=e?[3,6]:[4,new v.default(this.getGameController()).intiData(this.dataFinishiItemNomarl).executed()];case 5:return n.sent(),[3,24];case 6:return 5!=e?[3,8]:[4,new b.default(this.getGameController()).intiData(this.dataFinishiItemNomarl).executed()];case 7:return n.sent(),[3,24];case 8:return 6!=e?[3,10]:[4,new w.default(this.getGameController()).intiData(this.dataFinishiItemNomarl).executed()];case 9:return n.sent(),[3,24];case 10:return 7!=e?[3,12]:[4,new _.default(this.getGameController()).intiData(this.dataFinishiItemNomarl).executed()];case 11:return n.sent(),[3,24];case 12:return 8!=e?[3,14]:[4,new C.default(this.getGameController()).intiData(this.dataFinishiItemNomarl).executed()];case 13:return n.sent(),[3,24];case 14:return 9!=e?[3,16]:[4,new f.default(this.getGameController()).intiData(this.dataFinishiItemNomarl).executed()];case 15:return n.sent(),[3,24];case 16:return 10!=e?[3,18]:[4,new l.default(this.getGameController()).intiData(this.dataFinishiItemNomarl).executed()];case 17:return n.sent(),[3,24];case 18:return 13!=e?[3,20]:[4,new c.default(this.getGameController()).intiData(this.dataFinishiItemNomarl).executed()];case 19:return n.sent(),[3,24];case 20:return 14!=e?[3,22]:[4,new g.default(this.getGameController()).intiData(this.dataFinishiItemNomarl).executed()];case 21:return n.sent(),[3,24];case 22:return[4,new d.default(this.getGameController()).intiData(this.dataFinishiItemNomarl).executed()];case 23:n.sent(),n.label=24;case 24:return[2]}})})},e.prototype.checkAndShowXDVSpecil=function(){return r(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return t=this.dataFinishXDV.result,e=this.dataFinishXDV.typeSpecial,this.dataFinishXDV.mutilVang,1!=t?[3,2]:[4,new M.default(this.getGameController()).intiData(this.dataFinishXDV).executed()];case 1:return n.sent(),[3,8];case 2:return 1!=e?[3,4]:[4,new I.default(this.getGameController()).intiData(this.dataFinishXDV).executed()];case 3:return n.sent(),[3,8];case 4:return 0!=t?[3,6]:[4,this.soundMgn.playEffectSync(this.soundMgn.MauDo)];case 5:return n.sent(),[3,8];case 6:return 2!=t?[3,8]:[4,this.soundMgn.playEffectSync(this.soundMgn.MauXanhLa)];case 7:n.sent(),n.label=8;case 8:return[2]}})})},e.prototype.xuLiTienCuoiGameNomarl=function(){return r(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,new h.default(this.getGameController()).intiData(this.data).executed()];case 1:return t.sent(),[2]}})})},e.prototype.getSoundMng=function(){return this.getGameController().getSoundMng()},e}(t("./IServerResponse").default);n.default=A,cc._RF.pop()},{"../Effect/Effect1CuaTo20":"Effect1CuaTo20","../Effect/EffectAnJP":"EffectAnJP","../Effect/EffectBassNho":"EffectBassNho","../Effect/EffectDapChuot":"EffectDapChuot","../Effect/EffectDoiMau":"EffectDoiMau","../Effect/EffectEndGame":"EffectEndGame","../Effect/EffectEndNormal":"EffectEndNormal","../Effect/EffectRan8Dot":"EffectRan8Dot","../Effect/EffectRunSpin":"EffectRunSpin","../Effect/EffectSpecial14":"EffectSpecial14","../Effect/EffectSpecial2":"EffectSpecial2","../Effect/EffectSpecial3":"EffectSpecial3","../Effect/EffectSpecial4":"EffectSpecial4","../Effect/EffectSpecial5":"EffectSpecial5","../Effect/EffectSpecial6":"EffectSpecial6","../Effect/EffectSpecial7":"EffectSpecial7","../Effect/EffectSpineSoXo":"EffectSpineSoXo","../Effect/EffectTraDiem":"EffectTraDiem","../Effect/EffectVe3CuaXDV":"EffectVe3CuaXDV","../Effect/EffectVeBar":"EffectVeBar","../Effect/EffectVeVang":"EffectVeVang","../Effect/X10_30_1Cua":"X10_30_1Cua","../Effect/X3_1Cua":"X3_1Cua","./IServerResponse":"IServerResponse"}],ResponseSetMutil:[function(t,e,n){"use strict";cc._RF.push(e,"f37fddYhalLd4i3UmekDp8O","ResponseSetMutil");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.soundMgn=null,e}return i(e,t),e.prototype.handleResponse=function(t){var e=t.get("point");this.getGameController().moneyCurrent=e,this.getGameController().btnChangePointR.reset(),this.getGameController().showDoiDiem(!1),this.getSoundMng().playNhacCho()},e.prototype.getSoundMng=function(){return this.getGameController().getSoundMng()},e}(t("./IServerResponse").default);n.default=r,cc._RF.pop()},{"./IServerResponse":"IServerResponse"}],ReviceItem:[function(t,e,n){"use strict";cc._RF.push(e,"0e08bmGGMpDBJee6Os584zz","ReviceItem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../Windown"),a=t("../TangCap/ItemTangCap"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbInfo=null,e.content=null,e.itemTemplate=null,e}return i(e,t),e.prototype.onLoad=function(){s.Windown.ReviceItem=this},e.prototype.onDestroy=function(){s.Windown.ReviceItem=null},e.prototype.show=function(t){t.containsKey("info")&&(this.lbInfo.string=t.getUtfString("info"));var e=t.getSFSArray("Items");this.initItem(e),s.Windown.UIManager.playSoundWithUrl("LEVELUP")},e.prototype.initItem=function(t){for(var e=this.content,n=e.children,o=0,i=t.size();o<i;o++){var r=n[o],c=t.getSFSObject(o);null==r&&((r=cc.instantiate(this.itemTemplate)).parent=e),r.active=!0,c.putInt("index",o+1),r.getComponent(a.default).initItem(c),null!==s.Windown.FishBongDem&&s.Windown.FishBongDem.fishBDView&&s.Windown.FishBongDem.fishBDView.reviceItemWhenLvlUp(c.getInt("Type"),c.getInt("Value"))}for(o=t.size();o<n.length;o++)n[o].active=!1},e.prototype.onClickClose=function(){var t=this;s.Windown.actionEffectClose(this.node,function(){t.node.parent=null})},r([u(cc.Label)],e.prototype,"lbInfo",void 0),r([u(cc.Node)],e.prototype,"content",void 0),r([u(cc.Node)],e.prototype,"itemTemplate",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Windown":"Windown","../TangCap/ItemTangCap":"ItemTangCap"}],RongAssets:[function(t,e,n){"use strict";cc._RF.push(e,"9cb073xd1NDkKt2yu0Vi4/y","RongAssets");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./RongSymbol"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbol=null,e.symbolAtlas=null,e.symbolBlurAtlas=null,e.paylineAtlas=null,e.nodeNFS=null,e.symbolScatter=null,e.evenBall=null,e.assetParent=null,e.listSkeDataSymbol=[],e.skeDataBg=[],e}var n;return i(e,t),n=e,e.prototype.onLoad=function(){n.instance=this},e.prototype.start=function(){},e.prototype.onDestroy=function(){n.instance=null},e.prototype.getSkeData=function(t){return t<4?this.listSkeDataSymbol[0]:t<11?this.listSkeDataSymbol[1]:this.listSkeDataSymbol[2]},e.instance=null,r([l(s.default)],e.prototype,"symbol",void 0),r([l(cc.SpriteAtlas)],e.prototype,"symbolAtlas",void 0),r([l(cc.SpriteAtlas)],e.prototype,"symbolBlurAtlas",void 0),r([l(cc.SpriteAtlas)],e.prototype,"paylineAtlas",void 0),r([l(cc.Node)],e.prototype,"nodeNFS",void 0),r([l(cc.Node)],e.prototype,"symbolScatter",void 0),r([l(cc.Node)],e.prototype,"evenBall",void 0),r([l(cc.Node)],e.prototype,"assetParent",void 0),r([l([sp.SkeletonData])],e.prototype,"listSkeDataSymbol",void 0),r([l([sp.SkeletonData])],e.prototype,"skeDataBg",void 0),n=r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./RongSymbol":"RongSymbol"}],RongAudio:[function(t,e,n){"use strict";cc._RF.push(e,"21b532lxgpHEpqXUC6CllHM","RongAudio");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Parent/AudioManager"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click=null,e.fsSpin=null,e.bgm_fs=null,e.SE_BigWin=null,e.SE_FreeSpinEnd=null,e.SE_ReelSpeedUp=null,e.SE_Scoring_01=null,e.SE_ScoringEnd=null,e.SE_Base_Hit=[],e}return i(e,t),e.prototype.start=function(){},e.prototype.playClick=function(){this.playEffect(this.click)},e.prototype.playMusic=function(){this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.6))},e.prototype.playIndexTakeLine=function(){},e.prototype.playSmalWin=function(){},e.prototype.playBkgfs=function(){this.stopMusic(),this.playEffect(this.fsSpin),this.playEffect(this.bgm_fs,.6,!0)},e.prototype.stopBkgFs=function(){this.stopEffect(this.bgm_fs,!0),this.playMusic()},r([l(cc.AudioClip)],e.prototype,"click",void 0),r([l(cc.AudioClip)],e.prototype,"fsSpin",void 0),r([l(cc.AudioClip)],e.prototype,"bgm_fs",void 0),r([l(cc.AudioClip)],e.prototype,"SE_BigWin",void 0),r([l(cc.AudioClip)],e.prototype,"SE_FreeSpinEnd",void 0),r([l(cc.AudioClip)],e.prototype,"SE_ReelSpeedUp",void 0),r([l(cc.AudioClip)],e.prototype,"SE_Scoring_01",void 0),r([l(cc.AudioClip)],e.prototype,"SE_ScoringEnd",void 0),r([l([cc.AudioClip])],e.prototype,"SE_Base_Hit",void 0),r([c],e)}(s.default);n.default=u,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":"AudioManager"}],RongCollum:[function(t,e,n){"use strict";cc._RF.push(e,"54765tQUT9GMIUowe9y9MUk","RongCollum");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Windown"),l=t("./RongSymbol"),u=t("./RongView"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.collumIndex=0,e.numberSymbol=4,e.listSymbols=[],e.RongView=null,e.symbolContainer=null,e.initPos=cc.v2(0,0),e.stepMove=148,e.positionReset=289,e.isStop=!1,e.listIDResult=[],e.spineNFS=null,e.isNeerSpin=!1,e.isChangeSpeedNFS=!1,e.speedNFS=.05,e.nodeNFS=null,e.resolveStop=null,e.isSetDarkForNFS=!1,e}return i(e,t),e.prototype.onLoad=function(){for(var t=0;t<this.numberSymbol;t++){var e=cc.instantiate(this.RongView.AssetsRong.symbol.node).getComponent(l.default);this.listSymbols.push(e),this.symbolContainer.addChild(e.node),e.node.setPosition(cc.v2(0,this.initPos.y-t*this.stepMove)),e.node.active=!0,e.collumCtrl=this,e.setRandomSprite(!1),e.indexSymbol=t}},e.prototype.update=function(){},e.prototype.start=function(){},e.prototype.spinSymbol=function(){var t=this;this.listSymbols.forEach(function(e){t.RongView.isTurbo?e.speed=.03:e.speed=.06,e.spin()})},e.prototype.stopCollumCompleted=function(){this.listSymbols.sort(function(t,e){return t.indexSymbol-e.indexSymbol}),4==this.collumIndex&&(this.RongView.activeAllSymbol(),this.RongView.allCollumStopCompleted()),null!=this.nodeNFS&&(this.nodeNFS.active=!1),null!=this.resolveStop&&(this.resolveStop(),this.resolveStop=null)},e.prototype.activeAllSymbol=function(){this.listSymbols.forEach(function(t){t.sprite.node.color=cc.Color.WHITE})},e.prototype.prepareStop=function(){this.hideNFS()},e.prototype.Stop=function(t){return s(this,void 0,void 0,function(){var e=this;return a(this,function(){return this.listIDResult=t,[2,new Promise(function(t){e.isNeerSpin?(e.isChangeSpeedNFS=!0,e.showNFS(),e.RongView.setDarkForNFS(e),e.scheduleOnce(function(){e.isChangeSpeedNFS=!1,e.isStop=!0,e.resolveStop=t},3.5),e.slowDownSpeed()):(e.isStop=!0,e.scheduleOnce(function(){t(null),c.Windown.Rong.audio.playEffect(c.Windown.Rong.audio.SE_Base_Hit[e.collumIndex])},.2))})]})})},e.prototype.showScatter=function(){for(var t=0;t<this.listSymbols.length;t++)12==this.listSymbols[t].id&&this.listSymbols[t].showScatter()},e.prototype.slowDownSpeed=function(t){var e=this;void 0===t&&(t=.5),c.Windown.Rong.audio.playEffect(c.Windown.Rong.audio.SE_ReelSpeedUp);var n={a:.03};cc.tween(n).to(3.5,{a:t},{progress:function(t,n,o,i){e.speedNFS=t+(n-t)*i},easing:cc.easing.quadIn}).start()},e.prototype.showSymbolWin=function(t){this.listSymbols[t].showEffectWin()},e.prototype.getSpeedNFS=function(){return this.speedNFS},e.prototype.showNFS=function(){null==this.nodeNFS&&(this.nodeNFS=cc.instantiate(c.Windown.Rong.AssetsRong.nodeNFS),this.nodeNFS.parent=this.node,this.nodeNFS.x=0,this.nodeNFS.y=0),this.nodeNFS.active=!0},e.prototype.hideNFS=function(){this.spineNFS&&(this.spineNFS.active=!1)},e.prototype.hideAllSymbol=function(t){void 0===t&&(t=-1),this.listSymbols.forEach(function(e){e.sprite.node.color=e.id!=t?cc.Color.GRAY:cc.Color.WHITE,e.spine.node.color=e.id!=t?cc.Color.GRAY:cc.Color.WHITE,e.hideSpine()})},e.prototype.Reset=function(){this.isStop=!1,this.listIDResult=[],this.listSymbols.forEach(function(t){t.Reset()}),this.isNeerSpin=!1,this.speedNFS=.05,this.isChangeSpeedNFS=!1,this.isSetDarkForNFS=!1},r([d],e.prototype,"collumIndex",void 0),r([d],e.prototype,"numberSymbol",void 0),r([d([l.default])],e.prototype,"listSymbols",void 0),r([d(u.default)],e.prototype,"RongView",void 0),r([d(cc.Node)],e.prototype,"symbolContainer",void 0),r([d],e.prototype,"initPos",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../Scritps/Windown":"Windown","./RongSymbol":"RongSymbol","./RongView":"RongView"}],RongEffect:[function(t,e,n){"use strict";cc._RF.push(e,"f52e9X6NglEao6mVn1ZUFJP","RongEffect");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Other/LbMonoSpace"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.effectContainer=null,e.animBigWin=null,e.lbBgWin=null,e.sprBigWin=null,e.listSfWin=[],e.btnConfirm=null,e.btnConfirmFS=null,e.btnCollectFS=null,e.lbTotalFreespin=null,e.lbTotalWinFS=null,e.freeSpin=null,e.animFreeSpin=null,e.animEndFreeSpin=null,e.animChangeScene=null,e.animDongXu=null,e.nodeStartFree=null,e.nodeEndFree=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.showBigWin=function(t){return s(this,void 0,void 0,function(){var e=this;return a(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i=this;return a(this,function(){try{this.node.opacity=255,this.effectContainer.active=!0,this.animBigWin.node.parent.active=!0,this.freeSpin.active=!1,this.lbBgWin.resetLb(),this.lbBgWin.time=3,this.lbBgWin.setMoney(t,!0),e=t/u.Windown.Rong.getCurrentBet(),o="bigwin",e<30?this.sprBigWin.spriteFrame=this.listSfWin[0]:e<50?(o="megawin",this.sprBigWin.spriteFrame=this.listSfWin[1]):(o="supermegawin",this.sprBigWin.spriteFrame=this.listSfWin[2]),this.animBigWin.setAnimation(0,"start_"+o,!1),this.animBigWin.addAnimation(0,"loop_"+o,!0),cc.tween(this.lbBgWin.node).set({y:120,scale:0}).delay(.75).to(.5,{scale:1.7,y:-6},{easing:"backOut"}).start(),this.scheduleOnce(function(){i.animBigWin.setAnimation(0,"end_"+o,!1),cc.tween(i.lbBgWin.node).to(.5,{scale:0},{easing:"backIn"}).start(),i.animBigWin.setCompleteListener(function(){i.animBigWin.node.parent.active=!1,i.effectContainer.active=!1,i.animBigWin.setCompleteListener(null),n(null)})},4)}catch(r){l.Util.ThrowErrProsime(r)}return[2]})})})]})})},e.prototype.showStartFS=function(t){return s(this,void 0,void 0,function(){var e=this;return a(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e=this;return a(this,function(){try{this.freeSpin.opacity=255,this.effectContainer.active=!0,this.freeSpin.active=!0,this.nodeStartFree.active=!0,this.animFreeSpin.setCompleteListener(null),this.animFreeSpin.setAnimation(0,"start",!1),this.animFreeSpin.addAnimation(0,"loop",!0),this.lbTotalFreespin.resetLb(),this.lbTotalFreespin.callBack=function(){e.btnConfirmFS.node.active=!0},this.lbTotalFreespin.string=t+"",this.btnConfirmFS.node.off("click"),this.btnConfirmFS.node.on("click",function(){e.animChangeScene.node.active=!0,e.animChangeScene.setAnimation(0,"light",!1),e.animDongXu.node.active=!0,e.animDongXu.setAnimation(0,"dong xu",!1),cc.tween(e.freeSpin).delay(1.4).to(.1,{opacity:0}).call(function(){n(null),e.animBigWin.node.parent.active=!1,e.freeSpin.active=!1,e.animChangeScene.node.active=!1,e.effectContainer.active=!1,e.animDongXu.node.active=!1,e.nodeStartFree.active=!1}).start()})}catch(o){l.Util.ThrowErrProsime(o)}return[2]})})})]})})},e.prototype.showEndFS=function(t){return s(this,void 0,void 0,function(){var e=this;return a(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e=this;return a(this,function(){try{this.freeSpin.opacity=255,this.effectContainer.active=!0,this.freeSpin.active=!0,this.nodeEndFree.active=!0,this.animEndFreeSpin.setCompleteListener(null),this.animEndFreeSpin.setAnimation(0,"loop",!0),this.btnCollectFS.node.active=!1,this.lbTotalWinFS.callBack=function(){e.btnCollectFS.node.active=!0},this.lbTotalWinFS.time=3,this.lbTotalWinFS.setMoney(t),this.btnCollectFS.node.off("click"),this.btnCollectFS.node.on("click",function(){e.animChangeScene.node.active=!0,e.animChangeScene.setAnimation(0,"light",!1),e.animDongXu.node.active=!0,e.animDongXu.setAnimation(0,"dong xu",!1),cc.tween(e.freeSpin).delay(1.4).to(.1,{opacity:0}).call(function(){n(null),e.animBigWin.node.parent.active=!1,e.freeSpin.active=!1,e.animChangeScene.node.active=!1,e.effectContainer.active=!1,e.animDongXu.node.active=!1,e.nodeEndFree.active=!1}).start()})}catch(o){l.Util.ThrowErrProsime(o)}return[2]})})})]})})},r([d(cc.Node)],e.prototype,"effectContainer",void 0),r([d(sp.Skeleton)],e.prototype,"animBigWin",void 0),r([d(c.default)],e.prototype,"lbBgWin",void 0),r([d(cc.Sprite)],e.prototype,"sprBigWin",void 0),r([d([cc.SpriteFrame])],e.prototype,"listSfWin",void 0),r([d(cc.Button)],e.prototype,"btnConfirm",void 0),r([d(cc.Button)],e.prototype,"btnConfirmFS",void 0),r([d(cc.Button)],e.prototype,"btnCollectFS",void 0),r([d(c.default)],e.prototype,"lbTotalFreespin",void 0),r([d(c.default)],e.prototype,"lbTotalWinFS",void 0),r([d(cc.Node)],e.prototype,"freeSpin",void 0),r([d(sp.Skeleton)],e.prototype,"animFreeSpin",void 0),r([d(sp.Skeleton)],e.prototype,"animEndFreeSpin",void 0),r([d(sp.Skeleton)],e.prototype,"animChangeScene",void 0),r([d(sp.Skeleton)],e.prototype,"animDongXu",void 0),r([d(cc.Node)],e.prototype,"nodeStartFree",void 0),r([d(cc.Node)],e.prototype,"nodeEndFree",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],RongHistoryDetail:[function(t,e,n){"use strict";cc._RF.push(e,"a1428RG26lA9KvuzhAUhV9c","RongHistoryDetail");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTitle=null,e.lbTime=null,e.lbBet=null,e.lbWin=null,e.lbMNUser=null,e.parentItem=null,e.itemPayline=null,e.scrItemPayline=null,e.listItem=[],e.isFreeSpin=!1,e.payLine=[],e}return i(e,t),e.prototype.onLoad=function(){for(var t=0;t<this.parentItem.childrenCount;t++){var e=this.parentItem.children[t];this.listItem.push(e.children)}this.payLine=s.Windown.Rong.payLine},e.prototype.show=function(t){this.node.active=!0,this.node.x=721.812,cc.Tween.stopAllByTarget(this.node),this.node.opacity=0,cc.tween(this.node).to(.2,{x:0,opacity:255},{easing:cc.easing.quadIn}).start();var e=t.get("date"),n=t.get("infolog"),o=JSON.parse(n);this.isFreeSpin=o.freeSpin,this.lbTitle.string=this.isFreeSpin?"QUAY MI\u1ec4N PH\xcd":"QUAY TH\u01af\u1edcNG",this.lbTime.string=s.Windown.formatDate(new Date(e),"dd/MM HH:mm:ss");var i=o.isScarter,r=JSON.parse(o.views),a=0;r.forEach(function(t){t.includes(12)&&a++});for(var c=0;c<5;c++)for(var l=0;l<3;l++){var u=r[c][l];this.listItem[c][l].getComponent(cc.Sprite).spriteFrame=s.Windown.Rong.AssetsRong.symbolAtlas.getSpriteFrame(u.toString()),this.listItem[c][l].color=cc.Color.GRAY,!i&&2!=a||12!=u||(this.listItem[c][l].color=cc.Color.WHITE)}this.lbBet.string=s.Windown.formatNumber(20*o.agBet),this.lbWin.string=s.Windown.formatNumber(o.agWin),this.lbMNUser.string=s.Windown.formatNumber(o.agUser),this.setLineAn(o.listLineWin,r)},e.prototype.onClickClose=function(){var t=this;s.Windown.Rong.audio.playClick(),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.2,{x:720,opacity:0},{easing:cc.easing.quadOut}).call(function(){t.node.active=!1}).start()},e.prototype.setLineAn=function(t){this.scrItemPayline.content.children.forEach(function(t){t.active=!1});for(var e=0,n=t.length;e<n;e++){t[e].symbol;for(var o=t[e].stack,i=s.Windown.Rong.payLine[t[e].id-1],r=0;r<o+1;r++)this.listItem[r][i[r]].color=cc.Color.WHITE;var a=this.scrItemPayline.content.children[e];cc.isValid(a)||((a=cc.instantiate(this.scrItemPayline.content.children[0])).parent=this.scrItemPayline.content),a.active=!0,a.getComponentInChildren(cc.Sprite).spriteFrame=s.Windown.Rong.AssetsRong.paylineAtlas.getSpriteFrame("line_"+t[e].id),a.getChildByName("lbWin").getComponent(cc.Label).string="W: "+s.Windown.formatMoney(t[e].agWinLine),a.getChildByName("lbIdLine").getComponent(cc.Label).string=t[e].id+""}},r([l(cc.Label)],e.prototype,"lbTitle",void 0),r([l(cc.Label)],e.prototype,"lbTime",void 0),r([l(cc.Label)],e.prototype,"lbBet",void 0),r([l(cc.Label)],e.prototype,"lbWin",void 0),r([l(cc.Label)],e.prototype,"lbMNUser",void 0),r([l(cc.Node)],e.prototype,"parentItem",void 0),r([l(cc.Node)],e.prototype,"itemPayline",void 0),r([l(cc.ScrollView)],e.prototype,"scrItemPayline",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],RongHistory:[function(t,e,n){"use strict";cc._RF.push(e,"ad16aftAZNKp67MscpYyvc/","RongHistory");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Network/ConectManager"),c=t("../../../Scritps/Popup/PageData/PageData"),l=t("../../../Scritps/Windown"),u=t("./RongHistoryDetail"),p=t("./RongItemHistory"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.detail=null,e.listData=null,e.maxRow=11,e}return i(e,t),e.prototype.show=function(){this.node.active=!0,this.reset(),this.node.y=-1280,cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.3,{y:0},{easing:cc.easing.quadOut}).start(),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.HistoryInCa,null,l.Windown.Rong.roomSFS),l.Windown.UIManager.showLoading()},e.prototype.start=function(){},e.prototype.reset=function(){this.pageDate.setTotalPage(1),this.pageDate.reset(),this.resetContent()},e.prototype.resetContent=function(){for(var t=this.pageDate.content.children,e=0,n=t.length;e<n;e++)t[e].active=!1},e.prototype.responseServer=function(t){l.Windown.UIManager.hideLoading();var e=t.getSFSArray("history");this.initWithListData(e)},e.prototype.initWithListData=function(t){cc.log("history:"+l.Windown.SFSArrToJson(t)),this.pageDate.content.children;var e=t.size(),n=Math.floor(e/this.maxRow);e%this.maxRow>0&&n++,0==n&&(n=1),this.pageDate.setTotalPage(n),this.listData=t,this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.pageDate.content,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,s=this.maxRow;r<s;r++){var a=n[r];if(i<this.listData.size()){null==a&&(a=cc.instantiate(o),e.addChild(a),a.y=-(r+1)*a.height+a.height/2);var c=this.listData.getSFSObject(i);a.getComponent(p.default).initItem(c),a.active=!0,i++}else{if(!a)break;a.active=!1}}},e.prototype.onClickClose=function(){var t=this;l.Windown.Rong.audio.playClick(),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.2,{y:-1280},{easing:cc.easing.quadIn}).call(function(){t.node.active=!1}).start()},e.prototype.showDetail=function(t){this.detail.show(t)},r([f(c.default)],e.prototype,"pageDate",void 0),r([f(u.default)],e.prototype,"detail",void 0),r([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Popup/PageData/PageData":"PageData","../../../Scritps/Windown":"Windown","./RongHistoryDetail":"RongHistoryDetail","./RongItemHistory":"RongItemHistory"}],RongInfoBar:[function(t,e,n){"use strict";cc._RF.push(e,"36e2faMFbBJYLBizyLPGsID","RongInfoBar");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Other/LbMonoSpace"),a=t("../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTotalWin=null,e.lbInfo=null,e.spineTake=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.prepareSpin=function(){},e.prototype.updateTotalWin=function(t){var e=this;a.Windown.Rong.audio.playEffect(a.Windown.Rong.audio.SE_Scoring_01),this.lbTotalWin.resetLb(),this.lbTotalWin.time=.5,this.lbTotalWin.setMoney(t),this.lbTotalWin.callBack=function(){a.Windown.Rong.audio.stopEffect(a.Windown.Rong.audio.SE_Scoring_01),a.Windown.Rong.audio.playEffect(a.Windown.Rong.audio.SE_ScoringEnd),e.spineTake.setAnimation(0,"animation",!1)},this.lbInfo.node.active=!1,this.lbTotalWin.node.parent.active=!0},e.prototype.updateInfoText=function(t){this.lbInfo.node.active=!0,this.lbInfo.string=t,this.lbTotalWin.node.parent.active=!1},e.prototype.showOneMoreScatter=function(){},r([u(s.default)],e.prototype,"lbTotalWin",void 0),r([u(cc.Label)],e.prototype,"lbInfo",void 0),r([u(sp.Skeleton)],e.prototype,"spineTake",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Windown":"Windown"}],RongItemHistory:[function(t,e,n){"use strict";cc._RF.push(e,"00b37iZ5HxMhZWs62EA21ts","RongItemHistory");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTime=null,e.lbBet=null,e.lbWin=null,e.data=null,e}return i(e,t),e.prototype.initItem=function(t){try{this.data=t;var e=this.data.get("date");this.lbTime.string=s.Windown.formatDate(new Date(e),"dd/MM\nHH:mm:ss");var n=this.data.get("infolog"),o=JSON.parse(n);this.lbBet.string=s.Windown.formatNumber(20*o.agBet),this.lbWin.string=s.Windown.formatNumber(o.agWin)}catch(i){console.error(i)}},e.prototype.onClick=function(){s.Windown.Rong.audio.playClick(),s.Windown.Rong.popupLichSu.showDetail(this.data)},r([l(cc.Label)],e.prototype,"lbTime",void 0),r([l(cc.Label)],e.prototype,"lbBet",void 0),r([l(cc.Label)],e.prototype,"lbWin",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],RongSettingAuto:[function(t,e,n){"use strict";cc._RF.push(e,"f1ac6glvQJFwYOaBlMZt5bL","RongSettingAuto");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnConfirm=null,e.currentTglSession=null,e.lbLoseLitmitedValue=null,e.btnAutoContainer=null,e.listTglLoseLimit=[],e.autoSpinNumber=0,e.loseLimited=0,e.isTurbo=!1,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.onEnable=function(){null!=this.currentTglSession&&(0!=s.Windown.Rong.autoSpinRemain?(this.currentTglSession.checkEvents[0].customEventData=s.Windown.Rong.autoSpinRemain+"",this.currentTglSession.node.active=!0,this.currentTglSession.getComponentInChildren(cc.Label).string="("+s.Windown.Rong.autoSpinRemain+")",this.currentTglSession.isChecked=!0,this.currentTglSession.check()):this.currentTglSession.getComponentInChildren(cc.Label).string="(0)")},e.prototype.onClickClose=function(){var t=this;cc.tween(this.node).to(.3,{y:-cc.winSize.width/2-this.node.height/2,opacity:100},{easing:cc.easing.sineIn}).call(function(){t.node.active=!1}).start()},e.prototype.onClickSelectNumberSession=function(t,e){this.autoSpinNumber=parseInt(e),this.btnConfirm.node.color=cc.Color.WHITE,this.btnConfirm.node.color=(new cc.Color).fromHEX("#dd901e"),this.btnConfirm.interactable=!0,this.btnAutoContainer.children.forEach(function(t){t.getComponentInChildren(cc.Label).node.color=cc.Color.WHITE}),t.target.getComponentInChildren(cc.Label).node.color=(new cc.Color).fromHEX("#dd901e")},e.prototype.onClickClearSession=function(){this.autoSpinNumber=0,this.btnConfirm.interactable=!1,this.btnConfirm.node.color=cc.Color.GRAY,this.btnConfirm.node.children[0].color=cc.Color.GRAY,this.listTglLoseLimit.forEach(function(t){t.interactable=!1,t.node.color=cc.Color.GRAY,t.isChecked=!1})},e.prototype.onClickSelectLoseLimited=function(t,e){this.loseLimited=parseInt(e),cc.log("loseLimited==="+this.loseLimited)},e.prototype.onClickTurbo=function(){this.isTurbo=!this.isTurbo,s.Windown.Rong.isTurbo=this.isTurbo},e.prototype.onClickConfirm=function(){s.Windown.Rong.setAutoSpin(this.autoSpinNumber),this.onClickClose()},r([l(cc.Button)],e.prototype,"btnConfirm",void 0),r([l(cc.Toggle)],e.prototype,"currentTglSession",void 0),r([l(cc.Label)],e.prototype,"lbLoseLitmitedValue",void 0),r([l(cc.Node)],e.prototype,"btnAutoContainer",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],RongSetting:[function(t,e,n){"use strict";cc._RF.push(e,"d1424ThoE9M74NAJqlRtc/8","RongSetting");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.NodeFunction=null,e.NodeBet=null,e.spriteSound=null,e.nodeRule=null,e.scrRule=null,e.sprSoundState=[],e.soundOn=!0,e}return i(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){cc.tween(this.node).set({opacity:0}).to(.3,{opacity:255},{easing:cc.easing.sineOut}).start()},e.prototype.show=function(t){void 0===t&&(t=1);var e=1==t?this.NodeFunction:this.NodeBet,n=1==t?this.NodeBet:this.NodeFunction;e.active=!0,n.active=!1,cc.tween(e).set({y:-this.node.height/2-e.height/2}).to(.3,{y:-this.node.height/2+e.height/2},{easing:cc.easing.sineOut}).start()},e.prototype.setConfigBet=function(t){for(var e=this.NodeBet.getChildByName("TglContainer"),n=0;n<t.length;n++){var o=e.children[n].getComponent(cc.Toggle);o.checkEvents[0].customEventData=t[n]+"",o.node.getComponentInChildren(cc.Label).string=s.Windown.formatNumber(t[n])+""}},e.prototype.onClickHome=function(){s.Windown.Rong.onClickBackToLobby()},e.prototype.onClickSound=function(){this.soundOn=!this.soundOn,this.spriteSound.spriteFrame=this.sprSoundState[this.soundOn?0:1],s.Windown.Rong.audio.isActiveMusic=this.soundOn,s.Windown.Rong.audio.isActiveSound=this.soundOn},e.prototype.onClickRule=function(){this.nodeRule.active=!0,cc.Tween.stopAllByTarget(this.nodeRule),cc.tween(this.nodeRule).set({y:-1280,opacity:0}).to(.3,{y:0,opacity:255},{easing:cc.easing.quadIn}).start(),this.NodeFunction.active=!1},e.prototype.onHideRule=function(){var t=this;this.NodeFunction.active=!0,cc.Tween.stopAllByTarget(this.nodeRule),cc.tween(this.nodeRule).to(.2,{y:-1280},{easing:cc.easing.quadOut}).call(function(){t.nodeRule.active=!1}).start(),this.scrRule.scrollToTop()},e.prototype.onHideSetting=function(){var t=this;cc.tween(this.node).to(.1,{opacity:0},{easing:cc.easing.sineIn}).call(function(){t.node.active=!1}).start()},e.prototype.onClickHistory=function(){s.Windown.Rong.audio.playClick(),s.Windown.Rong.onShowPopupHistory()},e.prototype.onClickSelectBet=function(t,e){s.Windown.Rong.setBetValue(parseInt(e))},r([l(cc.Node)],e.prototype,"NodeFunction",void 0),r([l(cc.Node)],e.prototype,"NodeBet",void 0),r([l(cc.Sprite)],e.prototype,"spriteSound",void 0),r([l(cc.Node)],e.prototype,"nodeRule",void 0),r([l(cc.ScrollView)],e.prototype,"scrRule",void 0),r([l([cc.SpriteFrame])],e.prototype,"sprSoundState",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],RongSymbol:[function(t,e,n){"use strict";cc._RF.push(e,"f6ee0fX3MtK/7NwxW4F2BqU","RongSymbol");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=t("./RongAssets"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.spine=null,e.spineBg=null,e.indexSymbol=0,e.indexStop=-1,e.speed=.1,e.id=0,e.symbolAtlas=null,e.symbolBlurAtlas=null,e.collumCtrl=null,e.spriteAnim=null,e.initSpriteScale=1,e.animScatter=null,e.animWild=null,e}return i(e,t),e.prototype.update=function(){this.collumCtrl.isChangeSpeedNFS&&(this.speed=this.collumCtrl.speedNFS)},e.prototype.onLoad=function(){this.spriteAnim=this.sprite.node.getComponent(cc.Animation),this.symbolAtlas=a.default.instance.symbolAtlas,this.symbolBlurAtlas=a.default.instance.symbolBlurAtlas,this.initSpriteScale=this.sprite.node.scale},e.prototype.start=function(){},e.prototype.setSprite=function(t,e){void 0===e&&(e=!1),this.id=t,this.sprite.spriteFrame=this.symbolAtlas.getSpriteFrame(t+""),this.sprite.sizeMode=cc.Sprite.SizeMode.TRIMMED,11==this.id||12==this.id?this.setSpine(this.id):(this.sprite.node.active=!0,this.spine.node.active=!1),this.collumCtrl.isSetDarkForNFS&&12!=this.id?(this.sprite.node.color=cc.Color.GRAY,this.spine.node.color=cc.Color.GRAY):(this.sprite.node.color=cc.Color.WHITE,this.spine.node.color=cc.Color.WHITE)},e.prototype.setSpine=function(){var t=a.default.instance.getSkeData(this.id);this.sprite.node.active=!1,this.spine.skeletonData=t,this.spine.node.active=!0,this.spine.setAnimation(0,this.getSpineName(),!0)},e.prototype.getSpineName=function(){var t="";switch(this.id){case 0:t="J";break;case 1:t="Q";break;case 2:t="K";break;case 3:t="A";break;case 4:t="orange1x1";break;case 5:t="lucky1x1";break;case 6:t="phao1x1";break;case 7:t="fish1x1";break;case 9:t="drum1x1";break;case 11:t="wild1x1";break;case 12:t="scatter1x1"}return t},e.prototype.setRandomSprite=function(t){var e=s.Windown.RandomNumber(0,12);this.sprite.spriteFrame=(t?this.symbolBlurAtlas:this.symbolAtlas).getSpriteFrame(e.toString()),this.sprite.sizeMode=cc.Sprite.SizeMode.TRIMMED},e.prototype.spin=function(){var t=this,e=this.node.y-this.collumCtrl.stepMove;this.indexSymbol++,cc.tween(this.node).to(.25,{y:e},{easing:cc.easing.backIn}).call(function(){t.loopMove()}).start()},e.prototype.loopMove=function(){var t=this;this.indexSymbol>3&&(this.node.y=this.collumCtrl.positionReset,this.indexSymbol=0,this.setRandomSprite(!0)),this.indexSymbol++,cc.tween(this.node).by(this.speed,{y:-this.collumCtrl.stepMove}).call(function(){t.collumCtrl.isStop?t.stopMove():t.loopMove()}).start()},e.prototype.stopMove=function(){var t=this;if(this.indexSymbol>3)if(this.node.y=this.collumCtrl.positionReset,this.indexSymbol=0,this.collumCtrl.listIDResult.length>0){this.indexStop=this.collumCtrl.listIDResult.length;var e=this.collumCtrl.listIDResult.pop();this.setSprite(e),this.stopMove()}else{this.node.y=this.collumCtrl.positionReset+this.collumCtrl.stepMove;var n=(this.indexSymbol=0)?"backOut":null;cc.tween(this.node).to(this.speed,{y:this.node.y-this.collumCtrl.stepMove},{easing:n}).start(),this.setRandomSprite(!1)}else{n=this.indexSymbol+1==this.indexStop?"backOut":null;var o=this.indexSymbol+1==this.indexStop?3*this.speed:this.speed;this.collumCtrl.isNeerSpin&&(n=null,o=this.speed),this.indexSymbol++,cc.tween(this.node).by(o,{y:-this.collumCtrl.stepMove},{easing:n}).call(function(){t.indexSymbol!=t.indexStop?t.stopMove():3==t.indexSymbol&&t.collumCtrl.stopCollumCompleted()}).start(),3==this.indexSymbol&&this.scheduleOnce(function(){t.collumCtrl.prepareStop()},.85*o)}},e.prototype.showEffectWin=function(){this.spineBg.active=!0,this.spineBg.getComponent(sp.Skeleton).setAnimation(0,"animation",!0),8==this.id||10==this.id?(this.spine.node.active=!1,this.sprite.node.active=!0,this.sprite.node.active=!0,this.sprite.node.color=cc.Color.WHITE,this.spriteAnim.play("SymbolWin")):(this.spine.node.active=!0,this.sprite.node.active=!1,this.spine.node.color=cc.Color.WHITE,this.setSpine(this.id))},e.prototype.Reset=function(){0==this.indexSymbol&&this.setSprite(s.Windown.RandomNumber(0,9)),this.sprite.node.color=cc.Color.WHITE,this.indexStop=-1,this.spriteAnim.stop(),this.sprite.node.scale=this.initSpriteScale,this.sprite.node.active=!0,this.spine.node.active=!1,this.spineBg.active=!1},e.prototype.showScatter=function(){var t=this;this.scheduleOnce(function(){t.spineBg.active=!1},2),this.spineBg.active=!0,this.setSpine(this.id)},e.prototype.hideSpine=function(){null!=this.animScatter&&(this.animScatter.active=!1),null!=this.animWild&&(this.animWild.active=!1)},r([u(cc.Sprite)],e.prototype,"sprite",void 0),r([u(sp.Skeleton)],e.prototype,"spine",void 0),r([u(cc.Node)],e.prototype,"spineBg",void 0),r([u],e.prototype,"indexSymbol",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":"Windown","./RongAssets":"RongAssets"}],RongView:[function(t,e,n){"use strict";cc._RF.push(e,"b6194v7irNPgqRy9z9DjkwS","RongView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.WIN_TYPE=n.GAME_STATE=n.SPINE_TYPE=void 0;var c,l,u,p=t("../../../Scritps/DefineTs/EVENT_MANAGER"),h=t("../../../Scritps/DefineTs/PlayerPP"),d=t("../../../Scritps/DefineTs/REQUEST_CODE"),f=t("../../../Scritps/DefineTs/TextDefine"),y=t("../../../Scritps/Game/GAME_TYPE"),g=t("../../../Scritps/Network/ConectManager"),m=t("../../../Scritps/Obs/LbMoneyChange"),v=t("../../../Scritps/Other/LbMonoSpace"),S=t("../../../Scritps/Other/MakeDelay"),b=t("../../../Scritps/Util"),w=t("../../../Scritps/Windown"),_=t("./RongAssets"),C=t("./RongAudio"),T=t("./RongCollum"),I=t("./RongEffect"),W=t("./RongHistory"),M=t("./RongInfoBar"),E=t("./RongSetting"),R=t("./RongSettingAuto"),A=cc._decorator,B=A.ccclass,O=A.property;(function(t){t[t.NORMAL=0]="NORMAL",t[t.AUTO=1]="AUTO"})(c=n.SPINE_TYPE||(n.SPINE_TYPE={})),function(t){t[t.PREPARE=0]="PREPARE",t[t.SPINNING=1]="SPINNING",t[t.SHOWING_RESULT=2]="SHOWING_RESULT",t[t.JOIN_GAME=3]="JOIN_GAME"}(l=n.GAME_STATE||(n.GAME_STATE={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.BIGWIN=1]="BIGWIN"}(u=n.WIN_TYPE||(n.WIN_TYPE={}));var D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bkgSprite=null,e.collumContainer=null,e.nodeFSLeft=null,e.nodeBottomNormal=null,e.maskEndFS=null,e.maskGetFS=null,e.baseBgSpin=null,e.listSfBGSpin=[],e.animBtnSpin=null,e.animMainBgGame=null,e.btnSpin=null,e.btnAuto=null,e.btnTurbo=null,e.btnStopAuto=null,e.btnPlusBet=null,e.btnMinusBet=null,e.lbAutoSpinRemain=null,e.lbBetValue=null,e.lbBalance=null,e.lbTotalWin=null,e.lbFSGet=null,e.lbFSRemain=null,e.lbFSTotal=null,e.lbFSTotalWin=null,e.AssetsRong=null,e.infoBar=null,e.settingView=null,e.settingAuto=null,e.effectController=null,e.popupLichSu=null,e.audio=null,e.makeDelay=null,e.listCol=[],e.listCollum=[],e.listBetValue=[],e.spinReelView=[],e.isAutoSpin=!1,e.isTurbo=!1,e.isScatter=!1,e.isFreeSpin=!1,e.isWin2Scatter=!1,e.autoSpinRemain=0,e.limitLoseValue=0,e.betValue=1e3,e.gameType=-1,e.winType=0,e.curRoomBet=100,e.curIndexRoom=0,e.totalLineBet=20,e.agWin=0,e.agUser=0,e.freeSpinLeft=0,e.currentFSTurn=0,e.totalFreeSpin=0,e.totalWinFS=0,e.limitAgUserLose=0,e.listBet=[],e.dataFinish=null,e.sfs=null,e.roomSFS=null,e.listConfigBet=[],e.listLineWin=[],e.stopShowLineCB=null,e.spinType=c.NORMAL,e.gameState=l.JOIN_GAME,e.objDelayWaitShowAgWin=null,e.payLine=[[1,1,1,1,1],[0,0,0,0,0],[2,2,2,2,2],[0,1,2,1,0],[2,1,0,1,2],[0,0,1,2,2],[2,2,1,0,0],[1,0,1,2,1],[1,2,1,0,1],[1,0,0,1,0],[1,2,2,1,2],[0,1,0,0,1],[2,1,2,2,1],[0,2,0,2,0],[2,0,2,0,2],[1,0,2,0,1],[1,2,0,2,1],[0,1,1,1,0],[2,1,1,1,2],[0,2,2,2,0]],e.indexSpinTest=0,e.indexSpin=0,e}return i(e,t),e.prototype.onLoad=function(){w.Windown.Rong=this,this.makeDelay=new S.default(this),this.gameType=y.default.Rong,this.sfs=g.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(p.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),this.setupView(),this.gameState=l.JOIN_GAME,this.sendJoinRoom(),this.agUser=w.Windown.User.userAg},e.prototype.sendJoinRoom=function(){cc.log("send creat room");try{var t=g.ConectManager.getIns().getValibleRoomName(),e=new SFS2X.RoomSettings(t),n=new SFS2X.RoomExtension("SlotInCaExtension","ext.Room.SlotInCa.SlotGameView");e.extension=n,e.isGame=!0,e.maxUsers=1,e.groupId="SlotInCa",this.sfs.send(new SFS2X.CreateRoomRequest(e,!0))}catch(o){cc.error(o),this.onDisconnect()}},e.prototype.onDestroy=function(){w.Windown.Rong=null,this.dataFinish&&(w.Windown.MoneyUser.removeDelay(this.gameType),this.dataFinish=null),w.Windown.MoneyUser.endGameMOney(this.gameType),cc.systemEvent.removeAll(this),this.roomSFS=null,this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),this.makeDelay.clear()},e.prototype.onDisconnect=function(){cc.log("disconnect"),w.Windown.UIManager.hideLoading(),w.Windown.UIManager.hideLoadingData(),cc.director.loadScene("main")},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(e){case d.REQUEST_CODE.SpinInCa:cc.log(w.Windown.SFSObjToJson(n)),this.handleFinish(n);break;case d.REQUEST_CODE.HistoryInCa:this.popupLichSu.responseServer(n);break;case d.REQUEST_CODE.HistoryChiTietInCa:}},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),w.Windown.UIManager.hideLoading(),w.Windown.UIManager.hideLoadingData(),w.Windown.Dialog.showLog(f.TextDefine.ERR_JOIN_ROOM),cc.director.loadScene("main")},e.prototype.onJoinRoom=function(t){var e=this,n=t.room;if("SlotInCa"==n.groupId){this.roomSFS=n,w.Windown.UIManager.hideLoadingData();var o=n.getVariable("cf").value;cc.log(o);var i=[],r=JSON.parse(o);for(var s in r){var a=Object.create(null);a.bet=parseInt(s),a.perJp=r[s].percentPot/100,i.push(a)}i.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=i,this.listConfigBet.forEach(function(t,n){n>0&&e.listBet.push(t.bet*e.totalLineBet)}),this.curRoomBet=this.listConfigBet[1].bet,this.setBetValue(this.curRoomBet*this.totalLineBet),this.lbBalance.setMoney(w.Windown.User.userAg),this.lbTotalWin.string="0"}},e.prototype.userExitRoom=function(t){cc.log("user exit room"),"SlotInCa"==t.room.groupId&&t.user.isItMe&&cc.director.loadScene("main")},e.prototype.onCreateError=function(){w.Windown.UIManager.hideLoading(),cc.director.loadScene("main"),w.Windown.Dialog.showLog(f.TextDefine.ERR_JOIN_ROOM)},e.prototype.start=function(){this.listCol=this.collumContainer.children;for(var t=0,e=this.listCol.length;t<e;t++){var n=this.listCol[t].getComponent(T.default);this.listCollum.push(n)}},e.prototype.setBetValue=function(t){this.betValue=t,this.curRoomBet=this.betValue/this.totalLineBet,this.lbBetValue.string=w.Windown.formatNumber(this.betValue)+"",cc.log("curRoomBet="+this.curRoomBet)},e.prototype.setupView=function(){var t=cc.find("Game",this.node);if(cc.sys.isMobile)e=1280/720;else{var e=cc.view.getDesignResolutionSize().height/1280;t.setScale(e,e,e),this.bkgSprite.setContentSize(cc.winSize),w.Windown.UIManager.changeRotation(!0)}},e.prototype.onClickSpin=function(){this.audio.playClick(),this.gameState!=l.SHOWING_RESULT&&(this.infoBar.lbTotalWin.setMoneyNoTime(0),this.totalFreeSpin>0&&(this.currentFSTurn++,this.lbFSRemain.string=this.freeSpinLeft+""),this.startSpin(),this.setStateBtn(),this.effectButtonSpin(),this.sendClickSpin())},e.prototype.onClickSpinTest=function(){this.audio.playClick(),this.gameState!=l.SHOWING_RESULT&&(this.totalFreeSpin>0&&(this.currentFSTurn++,this.lbFSRemain.string=this.freeSpinLeft+""),this.startSpin(),this.setStateBtn(),this.effectButtonSpin(),this.sendClickSpinTest("[[0,4,2],[12,4,0],[3,12,8],[0,5,2],[10,2,7]]"))},e.prototype.sendClickSpinTest=function(t){this.lbBalance.setMoney(this.agUser-this.betValue);var e=g.ConectManager.getIns().getSFSObj();e.putInt("bet",this.curRoomBet),e.putUtfString("arr",t),g.ConectManager.getIns().sendRequest("testSpinInCa",e,this.roomSFS)},e.prototype.sendClickSpin=function(){this.lbBalance.setMoney(this.agUser-this.betValue);var t=g.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),g.ConectManager.getIns().sendRequest(d.REQUEST_CODE.SpinInCa,t,this.roomSFS)},e.prototype.startSpin=function(){this.autoSpinRemain>0&&this.isAutoSpin?(this.autoSpinRemain--,this.lbAutoSpinRemain.node.active=!0,this.lbAutoSpinRemain.string=this.autoSpinRemain+""):(this.autoSpinRemain=0,this.lbAutoSpinRemain.node.active=!1),this.setStateSpin(l.SPINNING),this.listCollum.forEach(function(t){t.spinSymbol()})},e.prototype.activeAllSymbol=function(){this.listCollum.forEach(function(t){t.activeAllSymbol()})},e.prototype.handleFinish=function(t){var e=this;t.containsKey(h.PlayerPP.ERR_MESSAGE)?w.Windown.Dialog.showLog(t.get(h.PlayerPP.ERR_MESSAGE)):(this.dataFinish=t,this.agWin=this.dataFinish.getLong("agWin"),this.agUser=this.dataFinish.getLong("agUser"),this.spinReelView=JSON.parse(t.get("views")),this.isWin2Scatter=this.checkWin2Scatter(),this.isScatter=t.getBool("isScarter"),this.listLineWin=JSON.parse(w.Windown.SFSArrToJson(t.get("listLineWin"))),this.isFreeSpin=t.getBool("freeSpin"),this.freeSpinLeft=t.getInt("numFreeSpin"),this.isScatter&&(this.totalFreeSpin+=15),this.isFreeSpin&&(this.totalWinFS+=this.agWin),this.agWin>15*this.betValue?this.winType=u.BIGWIN:this.winType=u.NORMAL,this.setNearSpinEffect(),this.scheduleOnce(function(){e.handleStopSpin()},this.isTurbo?0:.5))},e.prototype.checkWin2Scatter=function(){var t=0;return this.spinReelView.forEach(function(e){e.includes(12)&&t++}),2==t},e.prototype.getMakeDelay=function(t){return this.makeDelay.getDelay(t)},e.prototype.handleStopSpin=function(){return s(this,void 0,void 0,function(){var t,e,n,o,i;return a(this,function(r){switch(r.label){case 0:r.trys.push([0,8,,9]),t=.1,e=0,n=this.listCollum.length,r.label=1;case 1:return e<n?(o=this.listCollum[e]).isNeerSpin?[4,o.Stop(this.spinReelView[e])]:[3,3]:[3,7];case 2:return r.sent(),[3,4];case 3:o.Stop(this.spinReelView[e]),r.label=4;case 4:return[4,w.Windown.Rong.getMakeDelay(this.isTurbo?0:t).prosime];case 5:r.sent(),t-=.01*e,r.label=6;case 6:return e++,[3,1];case 7:return[3,9];case 8:return i=r.sent(),b.Util.ThrowErrProsime(i),[3,9];case 9:return[2]}})})},e.prototype.allCollumStopCompleted=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(e){switch(e.label){case 0:return this.setStateSpin(l.SHOWING_RESULT),this.effectButtonSpin(),this.isScatter||this.isWin2Scatter?[4,this.showScatterSymbol()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.listLineWin.length>0||this.isWin2Scatter||this.isScatter?(this.infoBar.updateTotalWin(this.agWin),cc.tween(this.node).delay(1.5).call(function(){t.setStateBtn()}).start(),this.lbBalance.setMoney(this.agUser),this.listLineWin.length>0?[4,this.showAllWinLine()]:[3,4]):[3,7];case 3:return e.sent(),[3,6];case 4:return[4,w.Windown.Rong.getMakeDelay(1).prosime];case 5:e.sent(),e.label=6;case 6:return[3,8];case 7:this.setStateBtn(),this.effectButtonSpin(),e.label=8;case 8:return this.isScatter?[4,this.showBgFS()]:[3,10];case 9:e.sent(),e.label=10;case 10:return this.winType!=u.BIGWIN?[3,14]:this.isFreeSpin&&this.currentFSTurn==this.totalFreeSpin?[4,this.effectController.showBigWin(this.totalWinFS)]:[3,12];case 11:return e.sent(),[3,14];case 12:return this.isScatter?[3,14]:[4,this.effectController.showBigWin(this.agWin)];case 13:e.sent(),e.label=14;case 14:return this.currentFSTurn==this.totalFreeSpin&&this.isFreeSpin?[4,this.showTotalWinFreeSPin()]:[3,16];case 15:e.sent(),this.nodeBottomNormal.active=!0,this.nodeFSLeft.active=!1,this.animMainBgGame.skeletonData=this.AssetsRong.skeDataBg[0],this.animMainBgGame.setAnimation(0,"animation",!0),this.infoBar.lbTotalWin.string=w.Windown.formatNumber(this.totalWinFS),e.label=16;case 16:return this.objDelayWaitShowAgWin=w.Windown.Rong.getMakeDelay(this.agWin>0?.5:.25),[4,this.objDelayWaitShowAgWin.prosime];case 17:return e.sent(),this.resetSlotView(),[2]}})})},e.prototype.showScatterSymbol=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){return[2,new Promise(function(e){return s(t,void 0,void 0,function(){var t,n;return a(this,function(o){switch(o.label){case 0:for(o.trys.push([0,2,,3]),this.hideAllSymbol(12),t=0;t<this.listCollum.length;t++)this.listCollum[t].showScatter();return[4,w.Windown.Rong.getMakeDelay((this.isWin2Scatter||this.isFreeSpin,2)).prosime];case 1:for(o.sent(),t=0;t<this.listCollum.length;t++)this.listCollum[t].Reset();return e(null),[3,3];case 2:return n=o.sent(),b.Util.ThrowErrProsime(n),[3,3];case 3:return[2]}})})})]})})},e.prototype.showBgFS=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){return[2,new Promise(function(e){return s(t,void 0,void 0,function(){var t;return a(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),this.isFreeSpin?[3,2]:[4,this.effectController.showStartFS(this.freeSpinLeft)];case 1:return n.sent(),this.animMainBgGame.skeletonData=this.AssetsRong.skeDataBg[1],this.animMainBgGame.setAnimation(0,"animation",!0),[3,2];case 2:return this.nodeBottomNormal.active=!1,this.nodeFSLeft.active=!0,this.baseBgSpin.spriteFrame=this.listSfBGSpin[1],this.lbFSTotal.string=this.totalFreeSpin+"",e(null),[3,4];case 3:return t=n.sent(),b.Util.ThrowErrProsime(t),[3,4];case 4:return[2]}})})})]})})},e.prototype.showAllWinLine=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){return cc.log("showAllWinLine"),[2,new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i;return a(this,function(r){switch(r.label){case 0:for(r.trys.push([0,5,,6]),this.hideAllSymbol(),t=0,n=this.listLineWin.length;t<n;t++)o=this.listLineWin[t],this.effectWinline(o.id,o.symbol,o.stack);return this.isScatter||this.isFreeSpin||this.isAutoSpin?[4,w.Windown.Rong.getMakeDelay(1.5).prosime]:[3,2];case 1:return r.sent(),e(null),[3,4];case 2:return[4,w.Windown.Rong.getMakeDelay(2.5).prosime];case 3:r.sent(),e(null),r.label=4;case 4:return[3,6];case 5:return i=r.sent(),b.Util.ThrowErrProsime(i),[3,6];case 6:return[2]}})})})]})})},e.prototype.stopShowLine=function(t){t(null)},e.prototype.effectWinline=function(t,e,n){for(var o=this.payLine[t-1],i=0;i<n+1;i++)this.listCollum[i].showSymbolWin(o[i]+1)},e.prototype.resetSlotView=function(){this.setStateSpin(l.PREPARE),this.infoBar.prepareSpin(),this.listCollum.forEach(function(t){t.Reset()}),this.isAutoSpin&&this.autoSpinRemain>0?0==this.totalFreeSpin&&this.onClickSpin():(this.lbAutoSpinRemain.node.active=!1,this.btnStopAuto.node.active=!1),this.isScatter&&!this.isFreeSpin&&(this.isAutoSpin=!0),(this.isFreeSpin||this.isScatter)&&(this.currentFSTurn==this.totalFreeSpin?(cc.log("resetFreeSpin"),this.isFreeSpin=!1,this.currentFSTurn=0,this.totalFreeSpin=0,this.totalWinFS=0,this.indexSpinTest=0,this.lbFSRemain.string="0"):this.onClickSpin())},e.prototype.hidePopupClickToFS=function(){this.onClickSpin()},e.prototype.hideAllSymbol=function(t){void 0===t&&(t=-1),this.listCollum.forEach(function(e){e.hideAllSymbol(t)})},e.prototype.setDarkForNFS=function(t){this.listCollum.forEach(function(e){e!=t&&(e.isSetDarkForNFS=!0,e.hideAllSymbol(12))})},e.prototype.setStateSpin=function(t){switch(this.gameState=t,this.gameState){case l.SPINNING:this.animBtnSpin.setAnimation(0,"Spin",!1),this.animBtnSpin.addAnimation(0,"Spin_wait",!0);break;case l.SHOWING_RESULT:this.animBtnSpin.setAnimation(0,"Stops",!0);break;case l.JOIN_GAME:case l.PREPARE:this.animBtnSpin.setAnimation(0,"Idle",!0)}},e.prototype.setStateBtn=function(){this.gameState==l.SPINNING?(this.btnAuto.interactable=!1,this.btnSpin.interactable=!1,this.btnPlusBet.interactable=!1,this.btnMinusBet.interactable=!1,this.btnTurbo.node.getChildByName("On").color=(new cc.Color).fromHEX("#787878"),this.btnTurbo.node.getChildByName("Off").color=(new cc.Color).fromHEX("#787878")):(this.btnAuto.interactable=!0,this.btnSpin.interactable=!0,this.btnPlusBet.interactable=!0,this.btnMinusBet.interactable=!0,this.btnTurbo.node.getChildByName("On").color=(new cc.Color).fromHEX("#FCD185"),this.btnTurbo.node.getChildByName("Off").color=(new cc.Color).fromHEX("#FCD185"))},e.prototype.effectButtonSpin=function(){this.gameState==l.SPINNING?this.animBtnSpin.setAnimation(0,"Spin_wait",!0):this.gameState==l.SHOWING_RESULT&&this.animBtnSpin.setAnimation(0,"Stop",!0)},e.prototype.onClickMenu=function(){this.audio.playClick(),this.settingView.node.active=!0,this.settingView.show(1)},e.prototype.onClickChangeBet=function(t,e){this.audio.playClick(),this.isAutoSpin||("plus"==e?this.curIndexRoom==this.listBet.length-1?this.curIndexRoom=0:this.curIndexRoom++:0==this.curIndexRoom?this.curIndexRoom=this.listBet.length-1:this.curIndexRoom--,this.setBetValue(this.listBet[this.curIndexRoom]))},e.prototype.getCurrentBet=function(){return this.listBet[this.curIndexRoom]},e.prototype.onClickAuto=function(){this.audio.playClick(),this.settingAuto.node.active=!0,cc.tween(this.settingAuto.node).set({y:-this.settingAuto.node.height-this.settingAuto.node.height/2,opacity:150}).to(.3,{y:-cc.winSize.width/2+this.settingAuto.node.height/2,opacity:255},{easing:cc.easing.sineOut}).start(),this.isAutoSpin=!this.isAutoSpin},e.prototype.onClickTurbo=function(){this.isTurbo=!this.isTurbo,this.btnTurbo.node.getChildByName("Off").active=!this.isTurbo,this.btnTurbo.node.getChildByName("On").active=this.isTurbo},e.prototype.onClickStopAuto=function(){this.audio.playClick(),this.btnStopAuto.node.active=!1,this.isAutoSpin=!1,this.lbAutoSpinRemain.node.active=!1},e.prototype.setAutoSpin=function(t){this.isAutoSpin=!0,this.autoSpinRemain=t,this.btnStopAuto.node.active=!0,this.lbAutoSpinRemain.string=this.autoSpinRemain+"",this.lbAutoSpinRemain.node.active=!0,this.onClickSpin()},e.prototype.setNearSpinEffect=function(){var t=this,e=0;this.spinReelView.forEach(function(n){e>=2&&3==t.listCollum[t.spinReelView.indexOf(n)].collumIndex&&(t.listCollum[t.spinReelView.indexOf(n)].isNeerSpin=!0),n.includes(12)&&e++})},e.prototype.showTotalWinFreeSPin=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){return[2,new Promise(function(e){return s(t,void 0,void 0,function(){var t;return a(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),0==this.totalWinFS?[3,2]:[4,this.effectController.showEndFS(this.totalWinFS)];case 1:n.sent(),n.label=2;case 2:return e(null),[3,4];case 3:return t=n.sent(),b.Util.ThrowErrProsime(t),[3,4];case 4:return[2]}})})})]})})},e.prototype.onClickBackToLobby=function(){w.Windown.Rong.audio.playClick(),this.roomSFS?g.ConectManager.getIns().sendLeaveRoom(this.roomSFS):cc.director.loadScene("main")},e.prototype.onShowPopupHistory=function(){this.popupLichSu.show()},e.instance=null,r([O(cc.Node)],e.prototype,"bkgSprite",void 0),r([O(cc.Node)],e.prototype,"collumContainer",void 0),r([O(cc.Node)],e.prototype,"nodeFSLeft",void 0),r([O(cc.Node)],e.prototype,"nodeBottomNormal",void 0),r([O(cc.Node)],e.prototype,"maskEndFS",void 0),r([O(cc.Node)],e.prototype,"maskGetFS",void 0),r([O(cc.Sprite)],e.prototype,"baseBgSpin",void 0),r([O([cc.SpriteFrame])],e.prototype,"listSfBGSpin",void 0),r([O(sp.Skeleton)],e.prototype,"animBtnSpin",void 0),r([O(sp.Skeleton)],e.prototype,"animMainBgGame",void 0),r([O(cc.Button)],e.prototype,"btnSpin",void 0),r([O(cc.Button)],e.prototype,"btnAuto",void 0),r([O(cc.Button)],e.prototype,"btnTurbo",void 0),r([O(cc.Button)],e.prototype,"btnStopAuto",void 0),r([O(cc.Button)],e.prototype,"btnPlusBet",void 0),r([O(cc.Button)],e.prototype,"btnMinusBet",void 0),r([O(v.default)],e.prototype,"lbAutoSpinRemain",void 0),r([O(cc.Label)],e.prototype,"lbBetValue",void 0),r([O(m.default)],e.prototype,"lbBalance",void 0),r([O(cc.Label)],e.prototype,"lbTotalWin",void 0),r([O(v.default)],e.prototype,"lbFSGet",void 0),r([O(v.default)],e.prototype,"lbFSRemain",void 0),r([O(v.default)],e.prototype,"lbFSTotal",void 0),r([O(v.default)],e.prototype,"lbFSTotalWin",void 0),r([O(_.default)],e.prototype,"AssetsRong",void 0),r([O(M.default)],e.prototype,"infoBar",void 0),r([O(E.default)],e.prototype,"settingView",void 0),r([O(R.default)],e.prototype,"settingAuto",void 0),r([O(I.default)],e.prototype,"effectController",void 0),r([O(W.default)],e.prototype,"popupLichSu",void 0),r([O(C.default)],e.prototype,"audio",void 0),r([O([cc.Node])],e.prototype,"listCol",void 0),r([B],e)}(cc.Component);n.default=D,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../../Scritps/DefineTs/PlayerPP":"PlayerPP","../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Other/MakeDelay":"MakeDelay","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./RongAssets":"RongAssets","./RongAudio":"RongAudio","./RongCollum":"RongCollum","./RongEffect":"RongEffect","./RongHistory":"RongHistory","./RongInfoBar":"RongInfoBar","./RongSetting":"RongSetting","./RongSettingAuto":"RongSettingAuto"}],RungRamView:[function(t,e,n){"use strict";cc._RF.push(e,"51d3fIkJF1B8K5pnH6eAGdz","RungRamView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/EVENT_MANAGER"),l=t("../../../Scritps/DefineTs/PlayerPP"),u=t("../../../Scritps/DefineTs/REQUEST_CODE"),p=t("../../../Scritps/DefineTs/StateReelSlot"),h=t("../../../Scritps/DefineTs/TextDefine"),d=t("../../../Scritps/Game/GAME_TYPE"),f=t("../../../Scritps/Network/ConectManager"),y=t("../../../Scritps/Obs/LbMoneyChange"),g=t("../../../Scritps/Other/LbMonoSpace"),m=t("../../../Scritps/Other/MakeDelay"),v=t("../../../Scritps/Util"),S=t("../../../Scritps/Windown"),b=t("./AssetRungRam"),w=t("./AudioRungRam"),_=t("./EffectRungRam"),C=t("./InfoBarControllerRungRam"),T=t("./ItemSlotRungRam"),I=t("./ItemSlotRungRamNgang"),W=t("./LichSuRungRam"),M=t("./MutilControlRungRam"),E=t("./SpinNormalRungRam"),R=cc._decorator,A=R.ccclass,B=R.property,O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.asset=null,e.bkgSprite=null,e.itemSlotRungRamNgang=null,e.parentItem=null,e.parentEffect=null,e.parentItemFront=null,e.parentItemActive=null,e.nodeLine=null,e.effect=null,e.labelChipReviceInBox=null,e.lb_totalBet=null,e.lb_FSLeft=null,e.lb_TotalLine=null,e.lb_CountAuto=null,e.infoBar=null,e.muitlCtr=null,e.btnSpin=null,e.parentMask=null,e.nodeChooseAuto=null,e._popupLichSu=null,e.audio=null,e.listNodeDeactive=[],e.nodeBtnPlay=null,e.nodeBtnSeting=null,e.toggleTurbo=null,e.btnStartAuto=null,e.listColum=[],e.listResult=null,e.listResultConvert=[],e.listConfigBet=[],e.gameType=-1,e.sfs=null,e.roomSFS=null,e.stateReel=0,e.totalLineBet=20,e.curRoomBet=50,e.funEnd=null,e.isShowBtnPlay=!0,e.dataFinish=null,e.sfsObjTest=null,e.sfsObjTest2=null,e.stateSpin=null,e.makeDelay=null,e.isDoneStartSpin=!1,e.currentTotalLine=1,e}return i(e,t),e.prototype.onLoad=function(){S.Windown.RungRam=this,this.makeDelay=new m.default(this),cc.log("start RungRam"),this.gameType=d.default.RungRam,this.sfs=f.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(c.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),cc.systemEvent.on(c.EVENT_MANAGER.LOGIN,this.onLogin,this),this.stateReel=p.default.WAITING,this.stateSpin=new E.default,this.sendJoinRoom(),this.activeMask(!1)},e.prototype.onLogin=function(){this.sendJoinRoom()},e.prototype.sendJoinRoom=function(){var t=f.ConectManager.getIns().getSFSObj();t.putInt("gameType",d.default.RungRam),t.putInt("roomType",-1),t.putInt("mark",-1),f.ConectManager.getIns().sendRequest(u.REQUEST_CODE.GetIdJoinRoom,t)},e.prototype.onDisconnect=function(){cc.log("disconnect"),S.Windown.UIManager.hideLoading(),S.Windown.UIManager.hideLoadingData(),cc.director.loadScene("main")},e.prototype.userExitRoom=function(t){cc.log("user exit room"),"SlotRungRam"==t.room.groupId&&t.user.isItMe&&cc.director.loadScene("main")},e.prototype.onCreateError=function(){cc.log("creat errr"),S.Windown.UIManager.hideLoading(),cc.director.loadScene("main"),S.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM)},e.prototype.onJoinRoom=function(t){var e=t.room;if("SlotRungRam"==e.groupId){this.roomSFS=e,S.Windown.UIManager.hideLoadingData();var n=e.getVariable("cf").value;cc.log(n);var o=[],i=JSON.parse(n);for(var r in i){var s=Object.create(null);s.bet=parseInt(r),s.perJp=i[r].percentPot/100,o.push(s)}o.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=o,this.curRoomBet=this.listConfigBet[0].bet,this.lb_totalBet.string=S.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.switchBkgGame=function(t,e){var n=cc.find("Game/BkgGround/FreeSpin",this.node),o=cc.find("Game/Mid/KhungTopFS",this.node),i=cc.find("Game/Line/ways",this.node),r=cc.find("Game/Line/ways_fs",this.node);t?(i.active=!1,r.active=!0,n.active=!0,this.muitlCtr.startFreeSpin(e),S.Windown.RungRam.lb_FSLeft.node.parent.active=!0,o.active=!0,this.lb_TotalLine.tempReplaceAtlas="_yellow"):(i.active=!0,r.active=!1,n.active=!1,o.active=!1,S.Windown.RungRam.lb_FSLeft.node.parent.active=!1,this.muitlCtr.endFreeSpin(),this.lb_TotalLine.tempReplaceAtlas="_blue"),this.lb_TotalLine._updateString()},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),S.Windown.UIManager.hideLoading(),S.Windown.UIManager.hideLoadingData(),S.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM),cc.director.loadScene("main")},e.prototype.activeMask=function(t,e){var n=this.parentMask.children;t?e?(n[e].stopAllActions(),n[e].runAction(cc.fadeTo(.3,150))):n.forEach(function(t){t.stopAllActions(),t.runAction(cc.fadeTo(.3,150))}):e?(n[e].stopAllActions(),n[e].runAction(cc.fadeOut(.3))):n.forEach(function(t){t.stopAllActions(),t.runAction(cc.fadeOut(.3))})},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(e){case u.REQUEST_CODE.SpinRungRam:this.handleFinish(n);break;case u.REQUEST_CODE.HistoryRungRam:this._popupLichSu&&this._popupLichSu.responseServer(n);break;case u.REQUEST_CODE.HistoryChiTietRungRam:this._popupLichSu&&this._popupLichSu.responseServerChiTiet(n);break;case u.REQUEST_CODE.REQUEST_GET_LastSpin_SLOT:this.handleGetLastSpinSlot(n)}},e.prototype.handleGetLastSpinSlot=function(t){var e=t.get("t"),n=t.get("iF");if(e==d.default.RungRam&&n&&null==this.dataFinish){var o=t.get("d"),i=o.get("numFreeSpin");this.stateSpin.lastFreeSpinLeft=i+1,this.stateSpin.freeSpinLeft=i,this.lb_FSLeft.string=this.stateSpin.lastFreeSpinLeft.toString();var r=o.get("bonusSpin");return cc.log(S.Windown.SFSObjToJson(o)),this.dataFinish=o,this.effect.swidthFS(!0,r[r.length-1]),void this.onClickBtnSpin()}e==d.default.RungRam&&this.stateReel==p.default.RUN&&(!t.containsKey("d")||this.dataFinish&&S.Windown.SFSObjToJson(this.dataFinish)==S.Windown.SFSObjToJson(t.get("d"))?this.sendClickSpin():this.handleFinish(t.get("d")))},e.prototype.handleWaitSPin=function(){},e.prototype.handleFinish=function(t){var e=this;if(this.isDoneStartSpin){if(t.containsKey(l.PlayerPP.ERR_MESSAGE))return this.stateSpin.handleErrSpin(),S.Windown.Dialog.showLog(t.get(l.PlayerPP.ERR_MESSAGE)),this.activeAllBtn(),void this.onClickResetCountAuto();this.dataFinish=t,S.Windown.MoneyUser.pushDelayMoney(this.gameType,this.dataFinish.get("agUser"),t.get("agWin")),this.truTienBet(this.dataFinish.get("agBet")*this.totalLineBet,this.dataFinish.get("agUser")),this.listResult=t.get("views");var n=t.get("bonusSpin");this.listResultConvert=this.convertResult(this.listResult,JSON.parse(S.Windown.SFSArrToJson(t.get("listItemWin"))),n),this.stateSpin.isMaxSpeed,this.stateReel=p.default.CAN_STOP;var o=this.stateSpin.isMaxSpeed?0:.5;this.scheduleOnce(this.funEnd=function(){e.stateSpin.onEnd()},o)}else this.scheduleOnce(function(){e.handleFinish(t)},.05)},e.prototype.onDestroy=function(){S.Windown.RungRam=null,this.dataFinish&&(S.Windown.MoneyUser.removeDelay(this.gameType),this.dataFinish=null),S.Windown.MoneyUser.endGameMOney(this.gameType),cc.systemEvent.removeAll(this),this.roomSFS=null,this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),this.clearAllMakeDelay()},e.prototype.start=function(){var t=this;this.setupView(),this.initItem(),cc.sys.isNative||this.scheduleOnce(function(){return s(t,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,S.Windown.loadBundle(d.default.RungRam.toString())];case 1:return t.sent().loadDir("Spine",function(){}),[2]}})})},3)},e.prototype.initItem=function(){for(var t=cc.instantiate(this.parentItem.children[0]),e=t.width,n=0;n<6;n++){var o=this.parentItem.children[n];null==o&&((o=cc.instantiate(t)).parent=this.parentItem);var i=o.getComponent(T.default);this.listColum.push(i),i.index=n,i.node.x=e*n+e/2-6*e/2,i.node.y=0,i.setResultFirtGame()}this.itemSlotRungRamNgang.index=0,this.itemSlotRungRamNgang.setResultFirtGame()},e.prototype.setupView=function(){var t=cc.find("Game",this.node);if(cc.sys.isMobile)e=1280/720;else{var e=cc.view.getDesignResolutionSize().height/1280;t.setScale(e,e,e),this.bkgSprite.setContentSize(cc.winSize),S.Windown.UIManager.changeRotation(!0)}},e.prototype.sendClickSpin=function(){if(null!=this.sfsObjTest)return f.ConectManager.getIns().sendRequest("testSpin",this.sfsObjTest,this.roomSFS),this.sfsObjTest=null,void cc.log("send test ne");if(null!=this.sfsObjTest2)return f.ConectManager.getIns().sendRequest("testSpin2",this.sfsObjTest2,this.roomSFS),this.sfsObjTest2=null,void cc.log("send test ne");var t=f.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),f.ConectManager.getIns().sendRequest(u.REQUEST_CODE.SpinRungRam,t,this.roomSFS)},e.prototype.onClickBtnSpin=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),this.stateReel!=p.default.WAITING?[3,2]:(this.audio.playEffect(this.audio.spinBtn),this.stateReel=p.default.RUN,this.setStateEffBtnSpin(),this.offAllBtn(),this.infoBar.reset(),this.sendClickSpin(),this.isDoneStartSpin=!1,[4,this.stateSpin.onStart()]);case 1:return e.sent(),this.isDoneStartSpin=!0,[3,3];case 2:this.stateReel==p.default.CAN_STOP?this.stateSpin.isMaxSpeed||(cc.log("nhay vao forestop ne"),this.stateReel=p.default.RUN,this.unschedule(this.funEnd),this.stateSpin.onForceEnd()):this.stateReel==p.default.STOP||this.stateReel==p.default.SHOW_EFFECT&&(this.stateSpin.resetForNextNextSpin(),this.onClickBtnSpin()),e.label=3;case 3:return[3,5];case 4:return t=e.sent(),v.Util.ThrowErrProsime(t),[3,5];case 5:return[2]}})})},e.prototype.showContentTip=function(){},e.prototype.updateNewTotalLine=function(t){this.currentTotalLine*=t,this.lb_TotalLine.string=this.currentTotalLine.toString()},e.prototype.resetForNewGame=function(){this.stateReel=p.default.WAITING,this.setStateEffBtnSpin()},e.prototype.resetLbTotalLine=function(){this.currentTotalLine=1,this.lb_TotalLine.string="..."},e.prototype.setStateEffBtnSpin=function(){var t=cc.find("Paticle",this.btnSpin).getComponent(cc.ParticleSystem),e=cc.find("sb_arrow",this.btnSpin),n=cc.find("sb_arrow_blur",this.btnSpin);if(this.stateReel!=p.default.STOP){var o=cc.Material.getBuiltinMaterial("2d-sprite");e.getComponent(cc.Sprite).setMaterial(0,o)}if(this.stateReel==p.default.WAITING||this.stateReel==p.default.SHOW_EFFECT)n.active=!1,e.active=!0,e.stopAllActions(),e.runAction(cc.repeatForever(cc.rotateBy(3,-360)));else if(this.stateReel==p.default.RUN)cc.log("play anim"),t.resetSystem(),n.active=!0,n.stopAllActions(),n.runAction(cc.repeatForever(cc.rotateBy(.3,-360))),e.active=!1,this.infoBar.showRdContent();else if(this.stateReel==p.default.STOP){e.active=!0,e.stopAllActions(),n.active=!1;var i=cc.Material.getBuiltinMaterial("2d-gray-sprite");e.getComponent(cc.Sprite).setMaterial(0,i)}},e.prototype.setLbFreeSpinLeft=function(t){var e=this.lb_FSLeft.node.parent;this.lb_FSLeft.string=t,t<1?(cc.find("last_spin",e).active=!0,cc.find("remaining_spin",e).active=!1,this.lb_FSLeft.node.active=!1):(cc.find("last_spin",e).active=!1,cc.find("remaining_spin",e).active=!0,this.lb_FSLeft.node.active=!0)},e.prototype.setCountAuto=function(t){this.lb_CountAuto.node.parent.active=!(t<1),this.lb_CountAuto.string=t.toString()},e.prototype.showMoneyAllWin=function(t){cc.log("money win: "+t),this.labelChipReviceInBox.setMoney(t),S.Windown.MoneyUser.removeDelay(this.gameType)},e.prototype.offLbFree=function(){this.lb_FSLeft.node.parent.active=!1},e.prototype.onClickSendObjTest=function(){var t=f.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),t.putUtfString("arr",'[[{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":12},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":1}],\n            [{"size":2,"typeItem":1,"idItem":0},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":11},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":0}],\n            [{"size":1,"typeItem":0,"idItem":12},{"size":2,"typeItem":1,"idItem":0},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":11}],\n            [{"size":1,"typeItem":0,"idItem":12},{"size":3,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":12}],\n            [{"size":4,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":4}],\n            [{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":2}]]'),this.sfsObjTest=t,this.onClickBtnSpin(),cc.log("onClickSendObjTest")},e.prototype.onClickSendFixData=function(){var t=f.ConectManager.getIns().getSFSObj();t.putUtfString("data",'{"agWin":3100,"bonusSpin":[1,2,3,4],"numFreeSpin":0,"listItemWin":[{"lsIdItem":"[7,3]","lsstack":"[2,2]","lsAgWin":"[1600,400]"},{"lsIdItem":"[0]","lsstack":"[2]","lsAgWin":"[100]"},{"lsIdItem":"[1]","lsstack":"[4]","lsAgWin":"[300]"}],"agUser":85520,"Scarter4":false,"agBet":50,"views":[[[{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":4}],[{"size":1,"typeItem":0,"idItem":7},{"size":2,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":4}],[{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":3}],[{"size":3,"typeItem":0,"idItem":1},{"size":2,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":0}],[{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":10}],[{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":10}]],[[{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":0}],[{"size":1,"typeItem":0,"idItem":1},{"size":2,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":10},{"size":1,"typeItem":0,"idItem":4}],[{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":0},{"size":2,"typeItem":1,"idItem":9},{"size":1,"typeItem":0,"idItem":0}],[{"size":3,"typeItem":0,"idItem":1},{"size":2,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":10}],[{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":4}],[{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":10}]],[[{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":2}],[{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":10},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":4}],[{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":6},{"size":2,"typeItem":1,"idItem":9},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":10}],[{"size":3,"typeItem":0,"idItem":1},{"size":2,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":4}],[{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":5}],[{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":10}]],[[{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":1}],[{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":10},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":8},{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":4}],[{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":6},{"size":2,"typeItem":1,"idItem":9},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":10}],[{"size":2,"typeItem":0,"idItem":5},{"size":3,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":4}],[{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":5}],[{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":0},{"size":1,"typeItem":0,"idItem":10}]]]}\n'),this.sfsObjTest2=t,this.onClickBtnSpin()},e.prototype.onClickTest=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(){return(t=f.ConectManager.getIns().getSFSObj()).putInt("bet",this.curRoomBet),t.putUtfString("arr",'[[{"size":1,"typeItem":0,"idItem":4},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":1},{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":1}],[{"size":1,"typeItem":0,"idItem":12},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":0}],[{"size":1,"typeItem":0,"idItem":8},{"size":3,"typeItem":1,"idItem":2},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":2}],[{"size":3,"typeItem":1,"idItem":0},{"size":1,"typeItem":0,"idItem":6},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":9}],[{"size":1,"typeItem":0,"idItem":12},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":2},{"size":1,"typeItem":0,"idItem":9},{"size":1,"typeItem":0,"idItem":3}],[{"size":1,"typeItem":0,"idItem":7},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":5},{"size":1,"typeItem":0,"idItem":3},{"size":1,"typeItem":0,"idItem":7}]]'),this.sfsObjTest=t,this.onClickBtnSpin(),[2]})})},e.prototype.onClickResetCountAuto=function(){this.stateSpin.countAutoSpin=0,this.lb_CountAuto.node.parent.active=!1,S.Windown.RungRam.audio.playClick()},e.prototype.onClickItemAutoSpin=function(t){S.Windown.RungRam.audio.playClick(),this.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer).allowSwitchOff=!1;var e=t.node.name,n=Number(e);this.stateSpin.countAutoSpin=n,this.btnStartAuto.interactable=!0,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#FF8E26")},e.prototype.onClickStartAutoSpin=function(){this.onClickBtnSpin(),this.onClickCloseListAuto(),S.Windown.RungRam.stateSpin.countAutoSpin>0&&S.Windown.RungRam.setCountAuto(S.Windown.RungRam.stateSpin.countAutoSpin)},e.prototype.onClickShowListAuto=function(){S.Windown.RungRam.audio.playClick(),this.nodeChooseAuto.active=!0,this.nodeChooseAuto.opacity=0,this.nodeChooseAuto.runAction(cc.fadeIn(.3)),this.btnStartAuto.interactable=!1,this.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")},e.prototype.onClickCloseListAuto=function(){var t=this;S.Windown.RungRam.audio.playClick(),this.nodeChooseAuto.stopAllActions(),this.nodeChooseAuto.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){var e=t.btnStartAuto.node.parent.getComponentInChildren(cc.ToggleContainer);e.allowSwitchOff=!0,e.toggleItems.forEach(function(t){t.isChecked&&t.uncheck()}),t.nodeChooseAuto.active=!1,t.btnStartAuto.interactable=!1,t.btnStartAuto.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")})))},e.prototype.convertResult=function(t,e,n){var o=this,i=[];return S.Windown.foreachSFSArray(t,function(t,r){var s=Object.create(null);s.listSFSObj=[],s.listSFSObjNgang=[],s.mutil=cc.misc.clampf(n[r],1,9999999),s.agWin=0,S.Windown.foreachSFSArray(t,function(n,o){var i=[];if(S.Windown.foreachSFSArray(n,function(t,e){e==n.size()-1&&o>0&&o<5?s.listSFSObjNgang.push(t):i.push(t)}),i.reverse(),s.listSFSObj.push(i),o==t.size()-1){var r=e.shift();r&&(r.lsIdItem=JSON.parse(r.lsIdItem),r.lsstack=JSON.parse(r.lsstack),r.lsAgWin=JSON.parse(r.lsAgWin),r.lsAgWin.length>0&&(s.listItemWin=r,s.isNoSap=!0),r.lsAgWin.forEach(function(t){s.agWin+=t}))}}),s.countScater=o.getCountScater(s.listSFSObj,s.listSFSObjNgang),s.listSFSObjNgang.reverse(),i.push(s)}),i},e.prototype.setResult=function(){},e.prototype.getListActiveScaster=function(t,e){var n=[],o=0;e.forEach(function(t){12==t.getInt("idItem")&&o++});for(var i=0;i<t.length;i++)o>2?n.push(!0):n.push(!1),t[i].forEach(function(t){12==t.getInt("idItem")&&o++});return n},e.prototype.onClickChangeBet=function(t,e){if(S.Windown.RungRam.audio.playClick(),this.listConfigBet.length<1)S.Windown.Dialog.showLog(h.TextDefine.Error);else{var n=-1;for(var o in this.listConfigBet)if(this.listConfigBet[o].bet==this.curRoomBet){n=parseInt(o);break}0==e?n--:n++,n<0&&(n=this.listConfigBet.length-1),n>this.listConfigBet.length-1&&(n=0),this.curRoomBet=this.listConfigBet[n].bet,this.lb_totalBet.string=S.Windown.formatNumber(this.totalLineBet*this.curRoomBet)}},e.prototype.onClickCachChoi=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return S.Windown.RungRam.audio.playClick(),S.Windown.UIManager.showLoading(),[4,S.Windown.loadRes(this.gameType.toString(),"Frefabs/CachChoi",cc.Prefab)];case 1:return t=e.sent(),cc.instantiate(t).parent=S.Windown.RungRam.node.getChildByName("Game"),S.Windown.UIManager.hideLoading(),[2]}})})},e.prototype.onClickBackToLobby=function(){S.Windown.RungRam.audio.playClick(),this.roomSFS?f.ConectManager.getIns().sendLeaveRoom(this.roomSFS):cc.director.loadScene("main")},e.prototype.onClickTurbo=function(){S.Windown.RungRam.audio.playClick();var t=this.toggleTurbo.isChecked;this.toggleTurbo.node.children[1].active=!t,this.stateSpin.isMaxSpeed=t,t?S.Windown.UIManager.showAlertMini("\u0110\xe3 b\u1eadt Auto"):S.Windown.UIManager.showAlertMini("T\u1eaft Auto")},e.prototype.onClickSeting=function(){if(S.Windown.RungRam.audio.playClick(),cc.log("click onClickSeting"),this.isShowBtnPlay=!this.isShowBtnPlay,this.isShowBtnPlay)t=cc.v2(0,-750),this.nodeBtnPlay.runAction(cc.fadeIn(.4)),this.nodeBtnSeting.runAction(cc.spawn(cc.fadeOut(.3),cc.moveTo(.3,t)));else{this.nodeBtnPlay.stopAllActions(),this.nodeBtnSeting.stopAllActions();var t=cc.v2(0,-525.279);this.nodeBtnPlay.runAction(cc.fadeOut(.3)),this.nodeBtnSeting.opacity=0,this.nodeBtnSeting.runAction(cc.spawn(cc.fadeIn(.4),cc.moveTo(.4,t)))}},e.prototype.getCountScater=function(t,e){var n=0;return t.forEach(function(t){t.forEach(function(t){12==t.getInt("idItem")&&n++})}),e.forEach(function(t){12==t.getInt("idItem")&&n++}),n},e.prototype.getMakeDelay=function(t){return this.makeDelay.getDelay(t)},e.prototype.clearAllMakeDelay=function(){this.makeDelay.clear()},e.prototype.activeAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!0,t.node.children.forEach(function(t){t.color=cc.Color.fromHEX(new cc.Color,"#FFD500")})})},e.prototype.offAllBtn=function(){this.listNodeDeactive.forEach(function(t){t.interactable=!1,t.node.children.forEach(function(t){t.color=cc.Color.fromHEX(new cc.Color,"#999999")})})},e.prototype.truTienBet=function(t,e){0!=t&&S.Windown.MoneyUser.subMoney(t,e)},e.prototype.effectShake=function(t,e){void 0===t&&(t=.2),void 0===e&&(e=10)},e.prototype.onClickLichSu=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){return S.Windown.RungRam.audio.playClick(),S.Windown.UIManager.showLoading(),cc.assetManager.getBundle("42").load("Frefabs/LichSu",cc.Prefab,function(e,n){var o=n;t._popupLichSu=cc.instantiate(o).getComponent(W.default),t._popupLichSu.node.parent=S.Windown.RungRam.node.getChildByName("Game"),t._popupLichSu.show()}),[2]})})},e.prototype.update=function(){},r([B(b.default)],e.prototype,"asset",void 0),r([B(cc.Node)],e.prototype,"bkgSprite",void 0),r([B(I.default)],e.prototype,"itemSlotRungRamNgang",void 0),r([B(cc.Node)],e.prototype,"parentItem",void 0),r([B(cc.Node)],e.prototype,"parentEffect",void 0),r([B(cc.Node)],e.prototype,"parentItemFront",void 0),r([B(cc.Node)],e.prototype,"parentItemActive",void 0),r([B(cc.Node)],e.prototype,"nodeLine",void 0),r([B(_.default)],e.prototype,"effect",void 0),r([B(y.default)],e.prototype,"labelChipReviceInBox",void 0),r([B(cc.Label)],e.prototype,"lb_totalBet",void 0),r([B(cc.Label)],e.prototype,"lb_FSLeft",void 0),r([B(g.default)],e.prototype,"lb_TotalLine",void 0),r([B(cc.Label)],e.prototype,"lb_CountAuto",void 0),r([B(C.default)],e.prototype,"infoBar",void 0),r([B(M.default)],e.prototype,"muitlCtr",void 0),r([B(cc.Node)],e.prototype,"btnSpin",void 0),r([B(cc.Node)],e.prototype,"parentMask",void 0),r([B(cc.Node)],e.prototype,"nodeChooseAuto",void 0),r([B(w.default)],e.prototype,"audio",void 0),r([B([cc.Button])],e.prototype,"listNodeDeactive",void 0),r([B(cc.Node)],e.prototype,"nodeBtnPlay",void 0),r([B(cc.Node)],e.prototype,"nodeBtnSeting",void 0),r([B(cc.Toggle)],e.prototype,"toggleTurbo",void 0),r([B(cc.Button)],e.prototype,"btnStartAuto",void 0),r([A],e)}(cc.Component);n.default=O,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../../Scritps/DefineTs/PlayerPP":"PlayerPP","../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Other/MakeDelay":"MakeDelay","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./AssetRungRam":"AssetRungRam","./AudioRungRam":"AudioRungRam","./EffectRungRam":"EffectRungRam","./InfoBarControllerRungRam":"InfoBarControllerRungRam","./ItemSlotRungRam":"ItemSlotRungRam","./ItemSlotRungRamNgang":"ItemSlotRungRamNgang","./LichSuRungRam":"LichSuRungRam","./MutilControlRungRam":"MutilControlRungRam","./SpinNormalRungRam":"SpinNormalRungRam"}],SYSTEM_EVENT:[function(t,e){"use strict";cc._RF.push(e,"da4e6bb4qxPg4WiDLPIpztl","SYSTEM_EVENT"),cc._RF.pop()},{}],ScaleFish:[function(t,e,n){"use strict";cc._RF.push(e,"823770fg1VFnLNVcOawQmw7","ScaleFish");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.update=function(){this.node.angle<=0&&this.node.angle>=-180?this.node.scaleX=1:this.node.scaleX=-1},r([a],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],SceneFish:[function(t,e,n){"use strict";cc._RF.push(e,"8ba71RWellO3os6akxryIo6","SceneFish");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){var t=this,e=s.Windown.User.currentGameId,n="";switch(e){case s.Windown.GAME_TYPE.FISH_CA_MAP:n="FishCaMap",e=s.Windown.GAME_TYPE.FISH_CA_MAP}cc.assetManager.loadBundle(e+"",function(e,o){e||o.load(n,cc.Prefab,function(t,e){s.Windown.UIManager.setPerData(t/e)},function(e,n){if(s.Windown.UIManager.hideLoadingData(),!e&&null!=t.node){var o=cc.instantiate(n);t.node.addChild(o)}})})},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../Windown":"Windown"}],ScrollViewControl:[function(t,e,n){"use strict";cc._RF.push(e,"d3bf2ynYYNEAq3Y2qXEUfH1","ScrollViewControl");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=cc.Enum({HORIZONTAL:1,VERTICAL:2}),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direction=l.VERTICAL,e.itemTemplate=null,e.itemNodeTemplate=null,e.scrollView=null,e.itemHeight=80,e.itemWidth=80,e.spacing=5,e.totalCount=0,e.initCount=20,e.bufferZone=500,e.isLazyInit=!1,e.items=[],e.updateTimer=0,e.updateInterval=.05,e.lastContentPosY=0,e.lastContentPosX=0,e.initHeight=0,e.listItemRemove=[],e.idKeys=[],e.updateCallback=null,e.setDataCb=null,e.listItemData=[],e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.direction==l.HORIZONTAL&&(this.initCount=Math.floor(this.initCount*(cc.winSize.width/1920))),null!=this.itemNodeTemplate&&(this.itemHeight=this.itemNodeTemplate.height,this.itemWidth=this.itemNodeTemplate.width),this.initialize()},e.prototype.setDataList=function(t,e){var n=this;if(cc.log("setDataList"),this.setDataCb=function(){n.setDataList(t,e)},this.updateCallback=t,this.listItemData=e,this.totalCount=this.listItemData.length,this.direction==l.VERTICAL?this.scrollView.content.height=this.totalCount*(this.itemHeight+this.spacing)+this.spacing:this.scrollView.content.width=this.totalCount*(this.itemWidth+this.spacing)+this.spacing,0===this.totalCount||this.totalCount<=this.items.length)for(var o=this.totalCount;o<this.items.length;o++)this.listItemRemove.push(this.items[o]),this.items[o].parent=null,this.items.splice(o,1),o--;else for(o=0;o<this.listItemRemove.length;o++)this.listItemRemove[o].active=!1,this.items.push(this.listItemRemove[o]),this.listItemRemove[o].parent=this.scrollView.content,this.listItemRemove.splice(o,1),o--;if(this.direction==l.VERTICAL)for(o=0;o<this.items.length;o++)this.items[o].setPosition(0,-this.items[o].height*(.5+o)-this.spacing*(o+1)),this.items[o].itemID=o,null!==this.updateCallback&&o<this.listItemData.length&&(this.listItemData[o].index=o,this.updateCallback(this.items[o],this.listItemData[o]));else for(o=0;o<this.items.length;o++)this.items[o].setPosition(this.items[o].width*(.5+o)+this.spacing*(o+1),0),this.items[o].itemID=o,null!==this.updateCallback&&null!=this.listItemData[o]&&this.updateCallback(this.items[o],this.listItemData[o])},e.prototype.updateDataList=function(t){this.listItemData=t,this.totalCount=this.listItemData.length,this.direction==l.VERTICAL?this.scrollView.content.height=this.totalCount*(this.itemHeight+this.spacing)+this.spacing:this.scrollView.content.width=this.totalCount*(this.itemWidth+this.spacing)+this.spacing},e.prototype.initialize=function(){this.direction==l.VERTICAL?this.scrollView.content.height=this.totalCount*(this.itemHeight+this.spacing)+this.spacing:this.scrollView.content.width=this.totalCount*(this.itemWidth+this.spacing)+this.spacing;for(var t=0;t<this.initCount;++t){var e=void 0;cc.isValid(this.itemTemplate)?(e=cc.instantiate(this.itemTemplate),this.scrollView.content.addChild(e)):0==t?e=this.itemNodeTemplate:cc.isValid(this.scrollView.content.children[t])?e=this.scrollView.content.children[t]:(e=cc.instantiate(this.itemNodeTemplate),this.scrollView.content.addChild(e)),this.direction==l.VERTICAL?e.setPosition(0,-e.height*(.5+t)-this.spacing*(t+1)):e.setPosition(e.width*(.5+t)+this.spacing*(t+1),0),e.itemID=t,this.items.push(e)}this.listItemData.length>0&&this.setDataCb()},e.prototype.getPositionInView=function(t){var e=t.parent.convertToWorldSpaceAR(t.getPosition());return this.scrollView.node.convertToNodeSpaceAR(e)},e.prototype.update=function(t){if(!(this.listItemData.length<=this.initCount||(this.updateTimer+=t,this.updateTimer<this.updateInterval))){this.updateTimer=0;var e,n=this.items,o=this.bufferZone,i=!1;this.direction==l.VERTICAL?(i=this.scrollView.content.y<this.lastContentPosY,e=(this.itemHeight+this.spacing)*n.length):(i=this.scrollView.content.x>this.lastContentPosX,e=(this.itemWidth+this.spacing)*n.length);for(var r=0;r<n.length;++r){var s=this.getPositionInView(n[r]);if(i)if(this.direction==l.VERTICAL){if(s.y<-o&&n[r].y+e<0){n[r].y=n[r].y+e;var a=n[r].itemID-n.length;n[r].itemID=a,null!==this.updateCallback&&this.updateCallback(n[r],this.listItemData[a])}}else s.x>o&&n[r].x-e>0&&(n[r].x=n[r].x-e,a=n[r].itemID-n.length,n[r].itemID=a,null!==this.updateCallback&&this.updateCallback(n[r],this.listItemData[a]));else this.direction===l.VERTICAL?s.y>o&&n[r].y-e>-this.scrollView.content.height&&(n[r].y=n[r].y-e,a=n[r].itemID+n.length,n[r].itemID=a,null!==this.updateCallback&&this.updateCallback(n[r],this.listItemData[a])):s.x<-o&&n[r].x+e<this.scrollView.content.width&&(n[r].x=n[r].x+e,a=n[r].itemID+n.length,n[r].itemID=a,null!==this.updateCallback&&this.updateCallback(n[r],this.listItemData[a]))}this.lastContentPosY=this.scrollView.content.y,this.lastContentPosX=this.scrollView.content.x}},e.prototype.setStateItem=function(t){this.scrollView.content.children.forEach(function(e){e.active=t})},r([c({type:l})],e.prototype,"direction",void 0),r([c(cc.Prefab)],e.prototype,"itemTemplate",void 0),r([c(cc.Node)],e.prototype,"itemNodeTemplate",void 0),r([c(cc.ScrollView)],e.prototype,"scrollView",void 0),r([c],e.prototype,"itemHeight",void 0),r([c],e.prototype,"itemWidth",void 0),r([c],e.prototype,"spacing",void 0),r([c],e.prototype,"initCount",void 0),r([c],e.prototype,"bufferZone",void 0),r([c],e.prototype,"isLazyInit",void 0),r([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],SetingSpinDieuThuyen:[function(t,e,n){"use strict";cc._RF.push(e,"ac009iU6wdM/INsv+aR5c+R","SetingSpinDieuThuyen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mask=null,e.toggleAuto=null,e.btnStart=null,e}return i(e,t),e.prototype.show=function(){var t=this;this.node.active=!0,this.reset(),this.mask.opacity=0,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.moveTo(.3,cc.v2(0,-340)),cc.callFunc(function(){t.mask.runAction(cc.fadeTo(.3,150))})))},e.prototype.onToggleTypeSpin=function(t){cc.log(t.node);var e=t.node.name;s.Windown.DieuThuyen.stateSpin.isMaxSpeed="normal"!=e},e.prototype.onToggleAutoSpin=function(t){cc.log("toggle auto spin: ");var e=t.node.name,n=Number(e);s.Windown.DieuThuyen.stateSpin.countAutoSpin=n,this.btnStart.interactable=!0,this.btnStart.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#FF8E26")},e.prototype.onClickStartSpin=function(){s.Windown.DieuThuyen.onClickBtnSpin(),s.Windown.DieuThuyen.stateSpin.countAutoSpin>0&&s.Windown.DieuThuyen.setCountAuto(s.Windown.DieuThuyen.stateSpin.countAutoSpin),this.onClickClose()},e.prototype.reset=function(){this.toggleAuto.allowSwitchOff=!0,this.toggleAuto.getComponentsInChildren(cc.Toggle).forEach(function(t){t.isChecked&&t.uncheck()}),this.btnStart.interactable=!1,this.btnStart.node.children[0].color=cc.Color.fromHEX(new cc.Color,"#945F00")},e.prototype.onClickClose=function(){var t=this;this.mask.opacity=0,this.node.runAction(cc.sequence(cc.moveTo(.3,cc.v2(0,-958)),cc.callFunc(function(){t.node.active=!1})))},r([l(cc.Node)],e.prototype,"mask",void 0),r([l(cc.ToggleContainer)],e.prototype,"toggleAuto",void 0),r([l(cc.Button)],e.prototype,"btnStart",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],ShopView:[function(t,e,n){"use strict";cc._RF.push(e,"38d27Hpg1hENoD8fYWbLSuM","ShopView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/REQUEST_CODE"),a=t("../../Network/ConectManager"),c=t("../../Windown"),l=t("./DoiTab"),u=t("./NapTab"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.NapTab=null,e.DoiTab=null,e.ToggleNap=null,e.ToggleDoi=null,e.sprTitleNap=null,e.sprTitleRut=null,e.ArrInfoTranfer=null,e.ConfigShop=null,e.cardAmountShow=0,e.idGoi=0,e}return i(e,t),e.prototype.onLoad=function(){c.Windown.ShopView=this},e.prototype.onDestroy=function(){cc.log("onDestroy ShopView"),c.Windown.ShopView=null},e.prototype.show=function(t,e,n){var o=this;this.sprTitleNap.node.active=0!=t,this.sprTitleRut.node.active=0==t,0==t?(this.ToggleNap.check(),this.scheduleOnce(function(){o.NapTab.toggleCard.check()},.5)):2==t?(this.ToggleNap.check(),this.scheduleOnce(function(){o.NapTab.toggleVdt.check()},.5)):3==t?(this.ToggleNap.check(),this.scheduleOnce(function(){o.NapTab.toggleBank.check()},.5)):this.ToggleDoi.check(),null==this.ConfigShop?(c.Windown.UIManager.showLoading(),a.ConectManager.getIns().sendRequestToCallback(s.REQUEST_CODE.GetConfigTranfer,null,this.responseServer.bind(this))):this.responseServer(this.ConfigShop),this.cardAmountShow=e,this.idGoi=n},e.prototype.responseServer=function(t){c.Windown.UIManager.hideLoading(),this.ConfigShop=t,this.ArrInfoTranfer=t.getSFSArray("ListConfig"),this.NapTab.node.active&&(this.sprTitleNap.node.active=!0,this.sprTitleRut.node.active=!1,this.NapTab.emitNewData()),this.DoiTab.node.active&&(this.sprTitleNap.node.active=!1,this.sprTitleRut.node.active=!0,this.DoiTab.emitNewData())},e.prototype.napCheck=function(t){t.isChecked&&(this.NapTab.node.active=!0,this.DoiTab.node.active=!1,this.NapTab.reset(),this.ToggleDoi.uncheck(),this.ToggleNap.interactable=!1,this.ToggleDoi.interactable=!0)},e.prototype.doiCheck=function(t){t.isChecked&&(this.NapTab.node.active=!1,this.DoiTab.node.active=!0,this.DoiTab.reset(),this.ToggleNap.uncheck(),this.ToggleNap.interactable=!0,this.ToggleDoi.interactable=!1)},e.prototype.onClickClose=function(){var t=this;this.idGoi=null,c.Windown.actionEffectClose(this.node,function(){t.node.parent=null})},e.prototype.trangThaiOnClick=function(){c.Windown.UIManager.showInfoTranfer()},r([d(u.default)],e.prototype,"NapTab",void 0),r([d(l.default)],e.prototype,"DoiTab",void 0),r([d(cc.Toggle)],e.prototype,"ToggleNap",void 0),r([d(cc.Toggle)],e.prototype,"ToggleDoi",void 0),r([d(cc.Sprite)],e.prototype,"sprTitleNap",void 0),r([d(cc.Sprite)],e.prototype,"sprTitleRut",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../Network/ConectManager":"ConectManager","../../Windown":"Windown","./DoiTab":"DoiTab","./NapTab":"NapTab"}],ShuffItemAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"d4604AQ3otCcIwLhC/2Xiw1","ShuffItemAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/Util"),l=t("../../../../Scritps/Windown"),u=cc._decorator,p=u.ccclass,h=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.effShuffItem=function(t,e,n){var o=this;return new Promise(function(i){return s(o,void 0,void 0,function(){var o,r,s,u,p,h,d,f,y,g,m,v=this;return a(this,function(S){switch(S.label){case 0:S.trys.push([0,6,,7]),o=cc.find("wild_vfx_a_add_05",this.node),r=cc.find("wild_vfx_g_screen_00",this.node),s=cc.find("wild_vfx_d_add_00",this.node),u=cc.find("khung",this.node),2==n?(o.scaleY=1.916,r.scaleY=1.943,s.scaleY=1.943):3==n?(o.scaleY=2.928,r.scaleY=2.907,s.scaleY=2.907):(o.scaleY=3.959,r.scaleY=3.868,s.scaleY=3.868),u.getComponent(cc.Sprite).spriteFrame=l.Windown.Asgard.asset.getSfKhungSymbol(2,n),p=cc.find("item",this.node),h=function(o){var i,r,s;return a(this,function(a){switch(a.label){case 0:for((i=cc.instantiate(p)).parent=d.node,i.active=!0,r=l.Windown.RandomNumber(1,12);t==r||12==o&&r==e;)r=l.Windown.RandomNumber(1,12);return t=r,s=l.Windown.Asgard.asset.getSfItemSymbol(r,n,!1),i.opacity=150,i.getComponent(cc.Sprite).spriteFrame=s,i.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){i.destroy()}))),l.Windown.Asgard.audio.playEffectNoStop(l.Windown.Asgard.audio.rouletteLoop,1),[4,l.Windown.Asgard.getMakeDelay(.13).prosime];case 1:return a.sent(),[2]}})},d=this,f=0,S.label=1;case 1:return f<13?[5,h(f)]:[3,4];case 2:S.sent(),S.label=3;case 3:return f++,[3,1];case 4:return l.Windown.Asgard.audio.stopEffect(l.Windown.Asgard.audio.rouletteLoop),l.Windown.Asgard.audio.playEffectNoStop(l.Windown.Asgard.audio.rouletteEnd),(y=cc.instantiate(p)).parent=this.node,y.active=!0,g=l.Windown.Asgard.asset.getSfItemSymbol(e,n,!1),y.getComponent(cc.Sprite).spriteFrame=g,this.node.getComponent(cc.Animation).play("Shuff4"),[4,l.Windown.Asgard.getMakeDelay(.2).prosime];case 5:return S.sent(),this.node.runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){v.node.destroy()}))),i(null),[3,7];case 6:return m=S.sent(),c.Util.ThrowErrProsime(m),[3,7];case 7:return[2]}})})})},r([p],e)}(cc.Component));n.default=h,cc._RF.pop()},{"../../../../Scritps/Util":"Util","../../../../Scritps/Windown":"Windown"}],ShuffItemMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"b58d6gt/g5H3IU4ME9nJLEr","ShuffItemMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../../Scritps/Util"),l=t("../../../../Scritps/Windown"),u=cc._decorator,p=u.ccclass,h=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){this.effShuffItem(1,6)},e.prototype.effShuffItem=function(t,e){var n=this;return new Promise(function(o){return s(n,void 0,void 0,function(){var n,i,r,s,u;return a(this,function(p){switch(p.label){case 0:p.trys.push([0,5,,6]),n=cc.find("item",this.node),i=function(o){var i,s,c;return a(this,function(a){switch(a.label){case 0:for((i=cc.instantiate(n)).parent=r.node,i.active=!0,s=l.Windown.RandomNumber(1,9);t==s||10==o&&s==e;)s=l.Windown.RandomNumber(1,8);return t=s,c=l.Windown.MatChuoc.asset.getSfItemSymbol(s,!1),i.opacity=150,i.getComponent(cc.Sprite).spriteFrame=c,cc.tween(i).call(function(){cc.tween(i).to(.3,{opacity:0}).start()}).call(function(){i.destroy()}).start(),l.Windown.MatChuoc.audio.playEffectNoStop(l.Windown.MatChuoc.audio.rouletteLoop,1),[4,l.Windown.MatChuoc.getMakeDelay(.13).prosime];case 1:return a.sent(),[2]}})},r=this,s=0,p.label=1;case 1:return s<9?[5,i(s)]:[3,4];case 2:p.sent(),p.label=3;case 3:return s++,[3,1];case 4:return l.Windown.MatChuoc.audio.stopEffect(l.Windown.MatChuoc.audio.rouletteLoop),l.Windown.MatChuoc.audio.playEffectNoStop(l.Windown.MatChuoc.audio.rouletteEnd),o(null),[3,6];case 5:return u=p.sent(),c.Util.ThrowErrProsime(u),[3,6];case 6:return[2]}})})})},r([p],e)}(cc.Component));n.default=h,cc._RF.pop()},{"../../../../Scritps/Util":"Util","../../../../Scritps/Windown":"Windown"}],SoiCau:[function(t,e,n){"use strict";cc._RF.push(e,"f9f47ytNz5MwZ4VNOHL7XKi","SoiCau");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listSpKetQua=[],e.listSpTaiXiu=[],e.Cau1=null,e.Cau2=null,e.Cau3=null,e.Cau4=null,e.index=0,e}return i(e,t),e.prototype.start=function(){this.emitAllCau()},e.prototype.emitAllCau=function(){this.initCau1(),this.initCau2(),this.initCau3(),this.initCau4()},e.prototype.initCau1=function(){var t=this,e=cc.find("parentItem",this.Cau1),n=-299.35,o=-233.636,i=s.Windown.TaiXiu.history.listHistory.slice(s.Windown.TaiXiu.history.listHistory.length-55,s.Windown.TaiXiu.history.listHistory.length),r=e.children,a=r[0],c=0,l=1,u=0,p=0;i.forEach(function(i,s){cc.log("listResult:",i);var h=i.result;h>10?u++:p++;var d=t.getSpTaiXiu(h),f=r[s];null==f&&((f=cc.instantiate(a)).parent=e),f.setPosition(cc.v2(n,o)),f.getComponent(cc.Sprite).spriteFrame=d,++c>=5?(n+=53.223,l*=-1,c=0):o+=66*l}),cc.find("tai",this.Cau1).getComponentsInChildren(cc.Label)[0].string=""+u,cc.find("xiu",this.Cau1).getComponentsInChildren(cc.Label)[0].string=""+p},e.prototype.initCau2=function(){var t=this,e=cc.find("parentItem",this.Cau2),n=-283.637,o=86.449,i=o,r=s.Windown.TaiXiu.history.listHistory.slice(),a=[],c=0,l=0,u=0,p=[];r.forEach(function(t,e){var n=t.result;n>10?l++:u++;var o=n>10,i=!!(r[e+1]&&r[e+1].result>10);p.push(n),(++c>=5||o!=i)&&(c=0,a.push(p.slice()),p.length=0)}),p.length>0&&a.push(p.slice()),cc.log(JSON.stringify(a)),a=a.slice(cc.misc.clampf(a.length-14,0,a.length),a.length),cc.log(JSON.stringify(a));var h=0,d=e.children,f=d[0];d.forEach(function(t){return t.active=!1}),a.forEach(function(r){r.reverse(),r.forEach(function(i){var r=t.getSpResult(i),s=d[h];null==s&&((s=cc.instantiate(f)).parent=e),s.active=!0,s.setPosition(cc.v2(n,o)),s.getComponent(cc.Sprite).spriteFrame=r,o-=44.2,h++}),o=i,n+=43.5}),cc.find("tai",this.Cau2).getComponentsInChildren(cc.Label)[0].string=""+l,cc.find("xiu",this.Cau2).getComponentsInChildren(cc.Label)[0].string=""+u},e.prototype.initCau3=function(){var t=this,e=cc.find("parentItem",this.Cau3),n=cc.find("Line",this.Cau3).getComponent(cc.Graphics);n.clear(!0);var o=-286.891,i=s.Windown.TaiXiu.history.listHistory.length,r=s.Windown.TaiXiu.history.listHistory.slice(cc.misc.clampf(i-12,0,i),i),a=e.children,c=a[0];n.lineWidth=5,r.forEach(function(i,r){var s=i.result,l=t.getSpResult(s),u=a[r];null==u&&((u=cc.instantiate(c)).parent=e),u.setPosition(cc.v2(o,19.46*(s-3)-129.327)),0==r?n.moveTo(u.x,u.y):n.lineTo(u.x,u.y),u.getComponent(cc.Sprite).spriteFrame=l,o+=51.5}),n.stroke();var l=cc.find("Title",this.Cau3).getComponent(cc.Label),u=r[r.length-1],p=u.result,h=JSON.parse(u.view),d="Phi\xean g\u1ea7n nh\u1ea5t: "+(p>10?"T\xe0i":"X\u1ec9u")+"("+h[0]+"-"+h[1]+"-"+h[2]+")";l.string=d},e.prototype.initCau4=function(){for(var t=s.Windown.TaiXiu.history.listHistory.length,e=s.Windown.TaiXiu.history.listHistory.slice(cc.misc.clampf(t-12,0,t),t),n=function(t){var n=cc.find("parentItem"+t,o.Cau4),i=cc.find("parentItem",n),r=cc.find("Line",n).getComponent(cc.Graphics);r.clear(!0);var s=-286.891,a=i.children,c=a[0];r.lineWidth=4,e.forEach(function(e,n){var o=JSON.parse(e.view)[t-1],l=a[n];null==l&&((l=cc.instantiate(c)).parent=i),l.setPosition(cc.v2(s,51*(o-1)-129.327)),0==n?r.moveTo(l.x,l.y):r.lineTo(l.x,l.y),s+=51.9}),r.stroke()},o=this,i=1;i<4;i++)n(i)},e.prototype.onClickChangePage=function(t,e){"0"==e?(this.Cau1.active=!0,this.Cau2.active=!0,this.Cau3.active=!1,this.Cau4.active=!1):(this.Cau1.active=!1,this.Cau2.active=!1,this.Cau3.active=!0,this.Cau4.active=!0)},e.prototype.onToggleXiNgau=function(t,e){var n=JSON.parse(e);cc.find("parentItem"+n,this.Cau4).active=t.isChecked},e.prototype.getSpTaiXiu=function(t){return t>10?this.listSpTaiXiu[1]:this.listSpTaiXiu[0]},e.prototype.getSpResult=function(t){return this.listSpKetQua[t-3]},e.prototype.onClickClose=function(){s.Windown.TaiXiu&&(s.Windown.TaiXiu.soiCau=null),this.node.destroy()},e.prototype.onClickChangeTab=function(t,e){this.Cau1.active=this.Cau2.active="0"==e,this.Cau3.active=this.Cau4.active="1"==e},r([l([cc.SpriteFrame])],e.prototype,"listSpKetQua",void 0),r([l([cc.SpriteFrame])],e.prototype,"listSpTaiXiu",void 0),r([l(cc.Node)],e.prototype,"Cau1",void 0),r([l(cc.Node)],e.prototype,"Cau2",void 0),r([l(cc.Node)],e.prototype,"Cau3",void 0),r([l(cc.Node)],e.prototype,"Cau4",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],SoundBongDem:[function(t,e,n){"use strict";cc._RF.push(e,"2e28domqj9JGo9og1XHkdhD","SoundBongDem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Parent/AudioManager"),a=t("../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.demTien=null,e.demTienOther=null,e.endDemTienTurn=null,e.endDemTien=null,e.takeFishNormal=null,e.iceAllFish=null,e.nextTurn=null,e.coinBayVe=null,e.coinVeTui=null,e.changeGun=null,e.target=null,e.caLonChet=null,e.anDcNhomCa=null,e.caTranDacBiet=null,e.miniBossRoiItem=null,e.quayRdHeSo=null,e.bgBackTuoc=null,e.set=null,e.banLaze=null,e.soundWave=null,e.watingMuiKhoan=null,e.trungMuiKhoan=null,e.gunAtack=null,e.fishBoom=null,e.nhanMaChet=null,e.ruaXiLua=null,e.ting=null,e.noHu=null,e.tienRoi=null,e.fishJackpot=null,e.multiplyAppear=null,e.comingJackpot=null,e.bkgJackpot=null,e.gunFire=null,e.hitIncredible=null,e.diaGa=null,e.wind=null,e.takeNgocRong=null,e.hopQuaMo=null,e.hopQuaNo=null,e.spinVongQuay=null,e.startBoom=null,e.dropBoom=null,e.matThanAtack=null,e.Electricity=null,e.RuaXoay=null,e.WindShort=null,e.DromDinhBa=null,e.ShowTakeTireuHoi=null,e.PhonixStart=null,e.fish70Start=null,e.startFish72=null,e}return i(e,t),e.prototype.playMusic=function(){if(a.Windown.BotController)return-1;this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(.4))},e.prototype.playEffectNoStop=function(e,n,o){return void 0===n&&(n=1),void 0===o&&(o=!1),t.prototype.playEffectNoStop.call(this,e,n,o)},e.prototype.playClick=function(){this.playEffect(this.audios[0])},e.prototype.playChangeGun=function(){this.playEffect(this.changeGun)},e.prototype.playTarget=function(){this.playEffect(this.target)},r([u(cc.AudioClip)],e.prototype,"demTien",void 0),r([u(cc.AudioClip)],e.prototype,"demTienOther",void 0),r([u(cc.AudioClip)],e.prototype,"endDemTienTurn",void 0),r([u(cc.AudioClip)],e.prototype,"endDemTien",void 0),r([u(cc.AudioClip)],e.prototype,"takeFishNormal",void 0),r([u(cc.AudioClip)],e.prototype,"iceAllFish",void 0),r([u(cc.AudioClip)],e.prototype,"nextTurn",void 0),r([u(cc.AudioClip)],e.prototype,"coinBayVe",void 0),r([u(cc.AudioClip)],e.prototype,"coinVeTui",void 0),r([u(cc.AudioClip)],e.prototype,"changeGun",void 0),r([u(cc.AudioClip)],e.prototype,"target",void 0),r([u(cc.AudioClip)],e.prototype,"caLonChet",void 0),r([u(cc.AudioClip)],e.prototype,"anDcNhomCa",void 0),r([u(cc.AudioClip)],e.prototype,"caTranDacBiet",void 0),r([u(cc.AudioClip)],e.prototype,"miniBossRoiItem",void 0),r([u(cc.AudioClip)],e.prototype,"quayRdHeSo",void 0),r([u(cc.AudioClip)],e.prototype,"bgBackTuoc",void 0),r([u(cc.AudioClip)],e.prototype,"set",void 0),r([u(cc.AudioClip)],e.prototype,"banLaze",void 0),r([u(cc.AudioClip)],e.prototype,"soundWave",void 0),r([u(cc.AudioClip)],e.prototype,"watingMuiKhoan",void 0),r([u(cc.AudioClip)],e.prototype,"trungMuiKhoan",void 0),r([u(cc.AudioClip)],e.prototype,"gunAtack",void 0),r([u(cc.AudioClip)],e.prototype,"fishBoom",void 0),r([u(cc.AudioClip)],e.prototype,"nhanMaChet",void 0),r([u(cc.AudioClip)],e.prototype,"ruaXiLua",void 0),r([u(cc.AudioClip)],e.prototype,"ting",void 0),r([u(cc.AudioClip)],e.prototype,"noHu",void 0),r([u(cc.AudioClip)],e.prototype,"tienRoi",void 0),r([u(cc.AudioClip)],e.prototype,"fishJackpot",void 0),r([u(cc.AudioClip)],e.prototype,"multiplyAppear",void 0),r([u(cc.AudioClip)],e.prototype,"comingJackpot",void 0),r([u(cc.AudioClip)],e.prototype,"bkgJackpot",void 0),r([u(cc.AudioClip)],e.prototype,"gunFire",void 0),r([u(cc.AudioClip)],e.prototype,"hitIncredible",void 0),r([u(cc.AudioClip)],e.prototype,"diaGa",void 0),r([u(cc.AudioClip)],e.prototype,"wind",void 0),r([u(cc.AudioClip)],e.prototype,"takeNgocRong",void 0),r([u(cc.AudioClip)],e.prototype,"hopQuaMo",void 0),r([u(cc.AudioClip)],e.prototype,"hopQuaNo",void 0),r([u(cc.AudioClip)],e.prototype,"spinVongQuay",void 0),r([u(cc.AudioClip)],e.prototype,"startBoom",void 0),r([u(cc.AudioClip)],e.prototype,"dropBoom",void 0),r([u(cc.AudioClip)],e.prototype,"matThanAtack",void 0),r([u(cc.AudioClip)],e.prototype,"Electricity",void 0),r([u(cc.AudioClip)],e.prototype,"RuaXoay",void 0),r([u(cc.AudioClip)],e.prototype,"WindShort",void 0),r([u(cc.AudioClip)],e.prototype,"DromDinhBa",void 0),r([u(cc.AudioClip)],e.prototype,"ShowTakeTireuHoi",void 0),r([u(cc.AudioClip)],e.prototype,"PhonixStart",void 0),r([u(cc.AudioClip)],e.prototype,"fish70Start",void 0),r([u(cc.AudioClip)],e.prototype,"startFish72",void 0),r([l],e)}(s.default);n.default=p,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":"AudioManager","../../../Scritps/Windown":"Windown"}],SoundLobby:[function(t,e,n){"use strict";cc._RF.push(e,"a71e1ecbjxLzYuT+K9IqjT1","SoundLobby");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./Parent/AudioManager"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coinVeTui=null,e.tienRoi=null,e.takeMoney=null,e.cachCach=null,e}return i(e,t),e.prototype.playClick=function(){this.playEffect(this.audios[0])},r([l(cc.AudioClip)],e.prototype,"coinVeTui",void 0),r([l(cc.AudioClip)],e.prototype,"tienRoi",void 0),r([l(cc.AudioClip)],e.prototype,"takeMoney",void 0),r([l(cc.AudioClip)],e.prototype,"cachCach",void 0),r([c],e)}(s.default);n.default=u,cc._RF.pop()},{"./Parent/AudioManager":"AudioManager"}],SoundManager1:[function(t,e,n){"use strict";cc._RF.push(e,"a3a7dXxeN1P3KfDtzqS3ipB","SoundManager1"),n.__esModule=!0,n.default=void 0;var o={},i={},r=cc.Class({extends:cc.Component,properties:{isPlayingMusic:!1},statics:{getIns:function(){return null==this.self&&(this.self=new r),this.self}},stopMusicBackground:function(){this.isPlayingMusic=!1,null!=this.currentCipMusicBackGround&&(cc.log("Stop Bg Music======>DOne"),cc.audioEngine.stop(this.currentCipMusicBackGround))},playMusicBackground:function(t,e){var n=this;void 0===e&&(e=1),this.isPlayingMusic=!0,cc.loader.loadRes(t,cc.AudioClip,function(t,o){t||(null!=n.currentCipMusicBackGround&&cc.audioEngine.stop(n.currentCipMusicBackGround),n.isPlayingMusic&&(n.currentCipMusicBackGround=cc.audioEngine.play(o,!0,e)))})},playEffect:function(t,e,n){var r=this;void 0===e&&(e=!1),void 0===n&&(n=1),null==i[t]&&(i[t]=!0),i[t]&&cc.loader.loadRes(t,cc.AudioClip,function(s,a){s||(null!=o[t]&&cc.audioEngine.stop(o[t]),clearTimeout(r.funInter),o[t]=cc.audioEngine.play(a,e,n),i[t]=!1,r.funInter=setTimeout(function(){i[t]=!0},75))})},playEffectWithCallback:function(t,e,n){var r=this;null==i[t]&&(i[t]=!0),i[t]&&cc.loader.loadRes(t,cc.AudioClip,function(s,a){s?e():(null!=o[t]&&cc.audioEngine.stop(o[t]),clearTimeout(r.funInter),o[t]=cc.audioEngine.play(a,!1,n),cc.audioEngine.setFinishCallback(o[t],e),i[t]=!1,r.funInter=setTimeout(function(){i[t]=!0},75))})},stopEffect:function(t){null!=o[t]&&cc.audioEngine.stop(o[t])},pasauseEffect:function(t){null!=o[t]&&cc.audioEngine.pause(o[t])},resumeEffect:function(t){null!=o[t]&&cc.audioEngine.resume(o[t])},stopAll:function(){cc.audioEngine.stopAll(),o={},i={}}}),s=r;n.default=s,e.exports=n.default,cc._RF.pop()},{}],SoundMiniSlot:[function(t,e,n){"use strict";cc._RF.push(e,"a8bdf97PbdLLqUQVCrBogbQ","SoundMiniSlot");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Other/DragMiniGame"),a=t("../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startSpin=null,e.loopSpin=null,e.stopReel=null,e.takeMoney=null,e}return i(e,t),e.prototype.playStartSpin=function(){a.Windown.AudioManager&&a.Windown.AudioManager.isActiveSound&&!a.Windown.MiniSlot.getComponent(s.default)._isMiniSize&&this.startSpin.play()},e.prototype.playLoopSpin=function(){a.Windown.AudioManager&&a.Windown.AudioManager.isActiveSound&&!a.Windown.MiniSlot.getComponent(s.default)._isMiniSize&&(this.loopSpin.loop=!0,this.loopSpin.play())},e.prototype.stopLoopSpin=function(){this.loopSpin.stop()},e.prototype.playStopReel=function(){a.Windown.AudioManager&&a.Windown.AudioManager.isActiveSound&&!a.Windown.MiniSlot.getComponent(s.default)._isMiniSize&&this.stopReel.play()},e.prototype.playTakeMoney=function(){a.Windown.AudioManager&&a.Windown.AudioManager.isActiveSound&&!a.Windown.MiniSlot.getComponent(s.default)._isMiniSize&&this.takeMoney.play()},r([u(cc.AudioSource)],e.prototype,"startSpin",void 0),r([u(cc.AudioSource)],e.prototype,"loopSpin",void 0),r([u(cc.AudioSource)],e.prototype,"stopReel",void 0),r([u(cc.AudioSource)],e.prototype,"takeMoney",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Other/DragMiniGame":"DragMiniGame","../../../Scritps/Windown":"Windown"}],SoundTaiXiu:[function(t,e,n){"use strict";cc._RF.push(e,"46b169IDq5IRaHLV2Hj8z/l","SoundTaiXiu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click=null,e.ketQua=null,e.lacxiNgau=null,e}return i(e,t),e.prototype.playClick=function(){s.Windown.AudioManager&&s.Windown.AudioManager.isActiveSound&&this.click.play()},e.prototype.playKetQua=function(){s.Windown.AudioManager&&s.Windown.AudioManager.isActiveSound&&this.ketQua.play()},e.prototype.playTungXucXac=function(){s.Windown.AudioManager&&s.Windown.AudioManager.isActiveSound&&this.lacxiNgau.play()},r([l(cc.AudioSource)],e.prototype,"click",void 0),r([l(cc.AudioSource)],e.prototype,"ketQua",void 0),r([l(cc.AudioSource)],e.prototype,"lacxiNgau",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],SoundXeng:[function(t,e,n){"use strict";cc._RF.push(e,"0634cDiJDtA35XbjM1Id9SW","SoundXeng");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Parent/AudioManager"),a=t("../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=t.call(this)||this;return e.AtOhh=null,e.BatDauQuayTraDiem=null,e.Bip=null,e.BonusKhiBet=null,e.CauNoiAnTruoc1CuaX30=null,e.CauNoiDapChuot=null,e.CauNoiKhiVeVang=null,e.CauNoiShowResultAnTruocX30=null,e.CauNoiTraDiem=null,e.CauNoiVeBass=null,e.CauNoiTraDiemXong=null,e.CauNoiX3Luon=null,e.ChayItem=null,e.CongTien=null,e.CuocKhungHoang=null,e.DonDap=null,e.EffectAnRandomItemNhoSau=null,e.ItemChay1Vong=null,e.Gong=null,e.HieuUngAnTatCaCacCua=null,e.Hu=null,e.MauDo=null,e.MauVang=null,e.MauXanhLa=null,e.MiOLa=null,e.NextSoXo=null,e.NhacNenToNho=null,e.NhacNenTraDiem=null,e.NhacDoiMau=null,e.NiChieuSangCieu=null,e.EndDoiMau=null,e.NhacVeVang=null,e.NhacVeBar=null,e.NoLienTuc=null,e.RandomSo=null,e.SangHao=null,e.ShowHeSoRandom=null,e.SpinNormal=null,e.SpinSpecial=null,e.StartDapChuot=null,e.StartXmutilToNho=null,e.TiengCuoi=null,e.TiengKen1=null,e.TiengKen2=null,e.TiengNo=null,e.TiengNoVaChemKiem=null,e.TiengRandomHesoAnTruocX30=null,e.Ting=null,e.Ting2=null,e.SoundX7ToNho=null,e.TuNaiXa=null,e.VuiMung=null,e.XaPe=null,e.XiPe=null,e.Yabe=null,e.Woa=null,e.ThingKaiSun=null,e.TingTingDt=null,e.Item=[],e.ListNhacCho=[],e.currentCountNhac=0,e.currentCountNhac=a.Windown.RandomNumber(0,e.ListNhacCho.length)-1,e}return i(e,t),e.prototype.playClick=function(){this.playEffect(this.audios[0])},e.prototype.playSoundSync=function(t,e,n){return void 0===e&&(e=1),this.playEffectSync(t,e,n)},e.prototype.playNhacCho=function(){this.stopNhacCho(),this.currentCountNhac++,this.currentCountNhac>this.ListNhacCho.length-1&&(this.currentCountNhac=0),this.playEffect(this.ListNhacCho[this.currentCountNhac])},e.prototype.stopNhacCho=function(){this.stopEffect(this.ListNhacCho[this.currentCountNhac])},r([u(cc.AudioClip)],e.prototype,"AtOhh",void 0),r([u(cc.AudioClip)],e.prototype,"BatDauQuayTraDiem",void 0),r([u(cc.AudioClip)],e.prototype,"Bip",void 0),r([u(cc.AudioClip)],e.prototype,"BonusKhiBet",void 0),r([u(cc.AudioClip)],e.prototype,"CauNoiAnTruoc1CuaX30",void 0),r([u(cc.AudioClip)],e.prototype,"CauNoiDapChuot",void 0),r([u(cc.AudioClip)],e.prototype,"CauNoiKhiVeVang",void 0),r([u(cc.AudioClip)],e.prototype,"CauNoiShowResultAnTruocX30",void 0),r([u(cc.AudioClip)],e.prototype,"CauNoiTraDiem",void 0),r([u(cc.AudioClip)],e.prototype,"CauNoiVeBass",void 0),r([u(cc.AudioClip)],e.prototype,"CauNoiTraDiemXong",void 0),r([u(cc.AudioClip)],e.prototype,"CauNoiX3Luon",void 0),r([u(cc.AudioClip)],e.prototype,"ChayItem",void 0),r([u(cc.AudioClip)],e.prototype,"CongTien",void 0),r([u(cc.AudioClip)],e.prototype,"CuocKhungHoang",void 0),r([u(cc.AudioClip)],e.prototype,"DonDap",void 0),r([u(cc.AudioClip)],e.prototype,"EffectAnRandomItemNhoSau",void 0),r([u(cc.AudioClip)],e.prototype,"ItemChay1Vong",void 0),r([u(cc.AudioClip)],e.prototype,"Gong",void 0),r([u(cc.AudioClip)],e.prototype,"HieuUngAnTatCaCacCua",void 0),r([u(cc.AudioClip)],e.prototype,"Hu",void 0),r([u(cc.AudioClip)],e.prototype,"MauDo",void 0),r([u(cc.AudioClip)],e.prototype,"MauVang",void 0),r([u(cc.AudioClip)],e.prototype,"MauXanhLa",void 0),r([u(cc.AudioClip)],e.prototype,"MiOLa",void 0),r([u(cc.AudioClip)],e.prototype,"NextSoXo",void 0),r([u(cc.AudioClip)],e.prototype,"NhacNenToNho",void 0),r([u(cc.AudioClip)],e.prototype,"NhacNenTraDiem",void 0),r([u(cc.AudioClip)],e.prototype,"NhacDoiMau",void 0),r([u(cc.AudioClip)],e.prototype,"NiChieuSangCieu",void 0),r([u(cc.AudioClip)],e.prototype,"EndDoiMau",void 0),r([u(cc.AudioClip)],e.prototype,"NhacVeVang",void 0),r([u(cc.AudioClip)],e.prototype,"NhacVeBar",void 0),r([u(cc.AudioClip)],e.prototype,"NoLienTuc",void 0),r([u(cc.AudioClip)],e.prototype,"RandomSo",void 0),r([u(cc.AudioClip)],e.prototype,"SangHao",void 0),r([u(cc.AudioClip)],e.prototype,"ShowHeSoRandom",void 0),r([u(cc.AudioClip)],e.prototype,"SpinNormal",void 0),r([u(cc.AudioClip)],e.prototype,"SpinSpecial",void 0),r([u(cc.AudioClip)],e.prototype,"StartDapChuot",void 0),r([u(cc.AudioClip)],e.prototype,"StartXmutilToNho",void 0),r([u(cc.AudioClip)],e.prototype,"TiengCuoi",void 0),r([u(cc.AudioClip)],e.prototype,"TiengKen1",void 0),r([u(cc.AudioClip)],e.prototype,"TiengKen2",void 0),r([u(cc.AudioClip)],e.prototype,"TiengNo",void 0),r([u(cc.AudioClip)],e.prototype,"TiengNoVaChemKiem",void 0),r([u(cc.AudioClip)],e.prototype,"TiengRandomHesoAnTruocX30",void 0),r([u(cc.AudioClip)],e.prototype,"Ting",void 0),r([u(cc.AudioClip)],e.prototype,"Ting2",void 0),r([u(cc.AudioClip)],e.prototype,"SoundX7ToNho",void 0),r([u(cc.AudioClip)],e.prototype,"TuNaiXa",void 0),r([u(cc.AudioClip)],e.prototype,"VuiMung",void 0),r([u(cc.AudioClip)],e.prototype,"XaPe",void 0),r([u(cc.AudioClip)],e.prototype,"XiPe",void 0),r([u(cc.AudioClip)],e.prototype,"Yabe",void 0),r([u(cc.AudioClip)],e.prototype,"Woa",void 0),r([u(cc.AudioClip)],e.prototype,"ThingKaiSun",void 0),r([u(cc.AudioClip)],e.prototype,"TingTingDt",void 0),r([u([cc.AudioClip])],e.prototype,"Item",void 0),r([u([cc.AudioClip])],e.prototype,"ListNhacCho",void 0),r([l],e)}(s.default);n.default=p,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":"AudioManager","../../../Scritps/Windown":"Windown"}],SpinCardRunning:[function(t,e,n){"use strict";cc._RF.push(e,"76f98/pdhtBoIYTvZ647UC2","SpinCardRunning");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imgSpin=null,e.imgCard=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.Force=function(){this.imgSpin.active=!1},e.prototype.SetImage=function(t){if(s.Windown.MiniPoker){var e=this.convertCard(t);this.imgCard.spriteFrame=e<10?s.Windown.MiniPoker.getSpriteCard("0"+e.toString()):s.Windown.MiniPoker.getSpriteCard(this.convertCard(t).toString())}},e.prototype.convertCard=function(t){var e=0;switch(t){case 1:e=40;break;case 2:e=41;break;case 3:e=42;break;case 4:e=43;break;case 5:e=44;break;case 6:e=45;break;case 7:e=46;break;case 8:e=47;break;case 9:e=48;break;case 10:e=49;break;case 11:e=50;break;case 12:e=51;break;case 13:e=52;break;case 14:e=27;break;case 15:e=28;break;case 16:e=29;break;case 17:e=30;break;case 18:e=31;break;case 19:e=32;break;case 20:e=33;break;case 21:e=34;break;case 22:e=35;break;case 23:e=36;break;case 24:e=37;break;case 25:e=38;break;case 26:e=39;break;case 27:e=1;break;case 28:e=2;break;case 29:e=3;break;case 30:e=4;break;case 31:e=5;break;case 32:e=6;break;case 33:e=7;break;case 34:e=8;break;case 35:e=9;break;case 36:e=10;break;case 37:e=11;break;case 38:e=12;break;case 39:e=13;break;case 40:e=14;break;case 41:e=15;break;case 42:e=16;break;case 43:e=17;break;case 44:e=18;break;case 45:e=19;break;case 46:e=20;break;case 47:e=21;break;case 48:e=22;break;case 49:e=23;break;case 50:e=24;break;case 51:e=25;break;case 52:e=26}return e},r([l(cc.Node)],e.prototype,"imgSpin",void 0),r([l(cc.Sprite)],e.prototype,"imgCard",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],SpinFreeSpinCaishen:[function(t,e,n){"use strict";cc._RF.push(e,"ba49brzPoFASLLoAGHIU7Gq","SpinFreeSpinCaishen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Game/GAME_TYPE"),a=t("../../../Scritps/Other/LbMonoSpace"),c=t("../../../Scritps/Util"),l=t("../../../Scritps/Windown"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.vongquay=null,e.animation=null,e.btnStart=null,e.lbMulti=null,e.multi=1,e.listGoc=[],e.callback=null,e._map=new Map,e.curRandomAngle=0,e}return i(e,t),e.prototype.onLoad=function(){this._map.set(5,[139,159.222]),this._map.set(6,[109.301,127.659]),this._map.set(7,[79.858,95.519]),this._map.set(8,[47.921,66.995]),this._map.set(9,[15,35]),this._map.set(10,[346.487,363]),this._map.set(11,[317.83,335.564]),this._map.set(12,[288.093,308.047]),this._map.set(13,[258.849,278.07]),this._map.set(14,[229.036,249.242]),this._map.set(15,[202,219.187])},e.prototype.start=function(){cc.assetManager.getBundle(s.default.Caishen+"").preload("Prefabs/StartFreeSpin",function(){})},e.prototype.init=function(t){var e=this;return new Promise(function(n){try{e.multi=t,e.callback=n,e.scheduleOnce(function(){e.onClickStart()},10)}catch(o){c.Util.ThrowErrProsime(o)}})},e.prototype.onClickStart=function(){var t=this;this.unscheduleAllCallbacks(),this.btnStart.getComponent(cc.Button).interactable=!1,this.listGoc=this._map.get(this.multi);var e=l.Windown.RandomFloatNumber(this.listGoc[0],this.listGoc[1]);l.Windown.Caishen.audio.playEffect(l.Windown.Caishen.audio.spinBtn),cc.tween(this.vongquay).by(5,{angle:1800+e},{easing:cc.easing.cubicOut}).delay(.5).call(function(){t.lbMulti.string=t.multi+"";var e=cc.instantiate(t.lbMulti.node.parent);e.setParent(t.lbMulti.node.parent.parent),cc.tween(e).to(.5,{scale:2,opacity:0},{easing:cc.easing.sineOut}).delay(3).call(function(){t.callback(null),t.onClose()}).start();var n=cc.find("Container/g_ui_shine",t.node);n.scale=0,cc.find("Container/f_particle_00",t.node).active=!0,cc.tween(n).set({opacity:0}).call(function(){l.Windown.Caishen.audio.playEffect(l.Windown.Caishen.audio.spinFSStop)}).to(.4,{opacity:200,scale:.7}).to(.35,{opacity:0,scale:.5}).start()}).start();var n=0;cc.tween({startNumber:0}).to(5,{startNumber:1e4},{onUpdate:function(){var e=t.getBonusFromAngle(t.vongquay.angle%360);0!=e&&(t.curRandomAngle=e),t.curRandomAngle!=e&&0==n?(l.Windown.Caishen.audio.playEffect(l.Windown.Caishen.audio.spinFSTick),n=1):n=0,t.lbMulti.string=(0!=e?e:t.curRandomAngle)+""}}).start(),this.btnStart.getComponent(cc.Animation).play("ButtonStartDisable")},e.prototype.getBonusFromAngle=function(t){var e=0;return this._map.forEach(function(n,o){t>n[0]&&t<n[1]&&(e=o)}),e},e.prototype.effectRandomMulti=function(){var t=this;this.lbMulti.node.active=!0,cc.tween({startNumber:0}).to(2,{startNumber:1e3},{progress:function(){t.lbMulti.string=+l.Windown.randomInt(5,16)+""}}).call(function(){t.lbMulti.string=t.multi+"";var e=cc.instantiate(t.lbMulti.node.parent);e.setParent(t.lbMulti.node.parent.parent),cc.tween(e).to(.5,{scale:2,opacity:0},{easing:cc.easing.sineOut}).delay(3).call(function(){t.callback(null),t.onClose()}).start();var n=cc.find("Container/g_ui_shine",t.node);n.scale=0,cc.find("Container/f_particle_00",t.node).active=!0,cc.tween(n).set({opacity:0}).to(.4,{opacity:200,scale:.7}).to(.35,{opacity:0,scale:.5}).start()}).start()},e.prototype.onClose=function(){this.node.destroy()},r([h(cc.Node)],e.prototype,"vongquay",void 0),r([h(cc.Animation)],e.prototype,"animation",void 0),r([h(cc.Node)],e.prototype,"btnStart",void 0),r([h(a.default)],e.prototype,"lbMulti",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],SpinNormalAiCap:[function(t,e,n){"use strict";cc._RF.push(e,"50d69iwJb1H95oSp26AiVxG","SpinNormalAiCap");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),i=0;for(e=0;e<n;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,i++)o[i]=r[s];return o};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/StateReelSlot"),a=t("../../../Scritps/Util"),c=t("../../../Scritps/Windown"),l=t("./SymbolAiCap"),u=[[1,1,1],[0,0,0],[2,2,2],[0,1,2],[2,1,0],[1,0,1],[1,2,1],[0,1,0],[2,1,2]],p=function(){function t(){this.listFunShowOceLine=[],this.funShowOceLine=null,this.listColum=[],this.effect=null,this.isMaxSpeed=!1,this.isAutoSpin=!1,this.lastAutoSpin=!1,this.countAutoSpin=0,this.lastFreeSpinLeft=0,this.freeSpinLeft=0,this.freeSpinCache=0,this.moneyTotalFs=0,this.currentMutilFs=1,this.objAnBonus=null,this.listColum=c.Windown.AiCap.listColum}return t.prototype.onStart=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:o.trys.push([0,5,,6]),t=0,o.label=1;case 1:return t<this.listColum.length?(this.listColum[t].runSpin(t),this.isMaxSpeed?[3,3]:[4,c.Windown.AiCap.getMakeDelay(.015).prosime]):[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return c.Windown.AiCap.audio.playEffect(c.Windown.AiCap.audio.spin_reelspin_loop,.5,!0),[3,6];case 5:return n=o.sent(),a.Util.ThrowErrProsime(n),[3,6];case 6:return e(null),[2]}})})})},t.prototype.onEnd=function(){return o(this,void 0,void 0,function(){var t,e,n,o,r,s,l;return i(this,function(i){switch(i.label){case 0:cc.log("end me roi nay"),t=c.Windown.AiCap.listResultConvert,i.label=1;case 1:i.trys.push([1,11,,12]),e=0,n=[],c.Windown.AiCap.audio.stopEffect(c.Windown.AiCap.audio.spin_reelspin_loop),o=0,r=this.listColum,i.label=2;case 2:return o<r.length?(s=r[o],this.isMaxSpeed?[3,4]:[4,s.stopSpin(!1,t[0].listSFSObj[e])]):[3,7];case 3:return i.sent(),[3,5];case 4:n.push(s.stopSpinWhenFastSpin(t[0].listSFSObj[e])),i.label=5;case 5:e++,i.label=6;case 6:return o++,[3,2];case 7:return this.isMaxSpeed?[4,Promise.all(n)]:[3,9];case 8:i.sent(),i.label=9;case 9:return[4,c.Windown.AiCap.getMakeDelay(.5).prosime];case 10:return i.sent(),this.handleStopAllColum(),[3,12];case 11:return l=i.sent(),a.Util.ThrowErrProsime(l),[3,12];case 12:return[2]}})})},t.prototype.onForceEnd=function(){return o(this,void 0,void 0,function(){var t,e,n,o,r,s,l;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,3,,4]),c.Windown.AiCap.clearAllMakeDelay(),t=c.Windown.AiCap.listResultConvert,e=[],n=0,o=0,r=this.listColum;o<r.length;o++)s=r[o],e.push(s.forceStopSpin(t[0].listSFSObj[n])),n++;return c.Windown.AiCap.audio.playEffectNoStop(c.Windown.AiCap.audio.spin_reelquickstop),[4,Promise.all(e)];case 1:return i.sent(),[4,c.Windown.AiCap.getMakeDelay(.25).prosime];case 2:return i.sent(),this.handleStopAllColum(),[3,4];case 3:return l=i.sent(),a.Util.ThrowErrProsime(l),[3,4];case 4:return[2]}})})},t.prototype.handleErrSpin=function(){return o(this,void 0,void 0,function(){var t,e,n,o;return i(this,function(i){switch(i.label){case 0:c.Windown.AiCap.audio.stopEffect(c.Windown.AiCap.audio.spin_reelspin_loop),i.label=1;case 1:i.trys.push([1,7,,8]),t=0,e=this.listColum,i.label=2;case 2:return t<e.length?(n=e[t],this.isMaxSpeed?[3,4]:[4,n.stopSpin(!1,n.result)]):[3,6];case 3:return i.sent(),[3,5];case 4:n.stopSpin(!1,n.result),i.label=5;case 5:return t++,[3,2];case 6:return[3,8];case 7:return o=i.sent(),a.Util.ThrowErrProsime(o),[3,8];case 8:return c.Windown.AiCap.resetForNewGame(),[2]}})})},t.prototype.handleStopAllColum=function(){return o(this,void 0,void 0,function(){var t,e,n,o,r;return i(this,function(i){switch(i.label){case 0:if(i.trys.push([0,12,,13]),c.Windown.AiCap.stateReel==s.default.STOP)return[2];if(this.objAnBonus=this.checkAnBonus(),c.Windown.AiCap.stateReel=s.default.STOP,c.Windown.AiCap.setStateEffBtnSpin(),t=c.Windown.AiCap.listResultConvert[0],this.itemResult=t,this.activeAllSymbol(),e=0,t.listItemWin)for(n=0;n<t.listItemWin.length;n++)(o=t.listItemWin[n])&&(this.checkAndShowLineAn(o,o.lsAgWin,!1),this.showNodeLines(o.lsIdItem),e+=o.lsAgWin);return[4,this.showPaylines()];case 1:return i.sent(),e>0?this.objAnBonus.isCheck?[3,3]:[4,c.Windown.AiCap.effect.showBigWin(e)]:[3,5];case 2:i.sent(),i.label=3;case 3:return[4,c.Windown.AiCap.infoBar.showTakeMoney(e)];case 4:i.sent(),i.label=5;case 5:return[4,this.checkWinTop()];case 6:return i.sent(),this.objAnBonus.isCheck?[4,c.Windown.AiCap.effect.showBigWin(c.Windown.AiCap.agWin)]:[3,9];case 7:return i.sent(),cc.log("show me tootal win ne----------"),[4,this.showMoneyTotalRevice()];case 8:i.sent(),i.label=9;case 9:return c.Windown.AiCap.showMoneyAllWin(c.Windown.AiCap.agWin),e>0?[4,c.Windown.AiCap.getMakeDelay(.5).prosime]:[3,11];case 10:i.sent(),i.label=11;case 11:return this.resetForNextNextSpin(),[3,13];case 12:return r=i.sent(),a.Util.ThrowErrProsime(r),[3,13];case 13:return[2]}})})},t.prototype.checkWinTop=function(){return o(this,void 0,void 0,function(){var t=this;return i(this,function(){return[2,new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o,s,a,l,u,p,h,d;return i(this,function(i){switch(i.label){case 0:for(t=r(this.itemResult.lineBonus1),n=r(this.itemResult.lineBonus2),o=r(this.itemResult.lineBonus3),s=r(this.itemResult.lineBonus4),a=r(c.Windown.AiCap.lineBonus1),l=r(c.Windown.AiCap.lineBonus2),u=r(c.Windown.AiCap.lineBonus3),p=r(c.Windown.AiCap.lineBonus4),h=-1,d=0;d<t.length;d++)h++,t[d].status!=a[d].status&&0!=t[d].status&&(c.Windown.AiCap.TopSymbolManager.lineBonus1[h].setWinActive(),c.Windown.AiCap.audio.playEffect(c.Windown.AiCap.audio.bingo_block)),n[d].status!=l[d].status&&0!=n[d].status&&(c.Windown.AiCap.TopSymbolManager.lineBonus2[h].setWinActive(),c.Windown.AiCap.audio.playEffect(c.Windown.AiCap.audio.bingo_block)),o[d].status!=u[d].status&&0!=o[d].status&&(c.Windown.AiCap.TopSymbolManager.lineBonus3[h].setWinActive(),c.Windown.AiCap.audio.playEffect(c.Windown.AiCap.audio.bingo_block)),s[d].status!=p[d].status&&0!=s[d].status&&(c.Windown.AiCap.TopSymbolManager.lineBonus4[h].setWinActive(),c.Windown.AiCap.audio.playEffect(c.Windown.AiCap.audio.bingo_block));return c.Windown.AiCap.lineBonus1=r(t),c.Windown.AiCap.lineBonus2=r(n),c.Windown.AiCap.lineBonus3=r(o),c.Windown.AiCap.lineBonus4=r(s),[4,this.showMultipleTop()];case 1:return i.sent(),e(null),[2]}})})})]})})},t.prototype.checkAnBonus=function(){for(var t=c.Windown.AiCap.listMulti,e=0,n=!1,o=0;o<t.length;o++)t[o]>0&&(e++,n=!0);return{listMultiple:t,isCheck:n,count:e}},t.prototype.showMultipleTop=function(){return o(this,void 0,void 0,function(){var t=this;return i(this,function(){return[2,new Promise(function(e){return o(t,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return(t=this.objAnBonus).isCheck?(c.Windown.AiCap.TopSymbolManager._countShowLineWin=0,[4,c.Windown.AiCap.getMakeDelay(1).prosime]):[3,5];case 1:return n.sent(),[4,c.Windown.AiCap.infoBar.showInfobarMultiplier()];case 2:return n.sent(),[4,c.Windown.AiCap.getMakeDelay(1).prosime];case 3:return n.sent(),[4,c.Windown.AiCap.TopSymbolManager.waitShowBonus(t.listMultiple,t.count)];case 4:n.sent(),n.label=5;case 5:return e(null),[2]}})})})]})})},t.prototype.showPaylines=function(){var t=this;cc.log("showPaylines");var e=c.Windown.AiCap.lines,n=this.itemResult.listItemWin,o=[],i=[];o.push(cc.callFunc(function(){for(var e=function(e){i.push(cc.delayTime(2)),i.push(cc.callFunc(function(){t.hideAllLines(),t.listColum.forEach(function(t){t.resetState()}),t.checkAndShowLineAn(n[e],n[e].lsAgWin,!0),t.showNodeLines(n[e].lsIdItem)}))},o=0;o<n.length;o++)e(o)})),o.push(cc.callFunc(function(){i.length>0&&e.runAction(cc.repeatForever(cc.sequence(i)))})),c.Windown.AiCap.audio.node.runAction(cc.sequence(o))},t.prototype.showNodeLines=function(t){c.Windown.AiCap.lines.getChildByName(t+1+"").children[0].active=!0,c.Windown.AiCap.lines.getChildByName(t+1+"").children[0].getComponent(cc.Animation).play()},t.prototype.hideAllLines=function(){c.Windown.AiCap.lines.children.forEach(function(t){t.children[0].active=!1})},t.prototype.moveAllSymbol=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=[],[4,Promise.all(t)];case 1:return o.sent(),e(null),[3,3];case 2:return n=o.sent(),a.Util.ThrowErrProsime(n),[3,3];case 3:return[2]}})})})},t.prototype.offAllSymbol=function(){this.listColum.forEach(function(t){t.offAllSymbol()}),c.Windown.AiCap.activeMask(!0)},t.prototype.activeAllSymbol=function(){this.listColum.forEach(function(t){t.activeAllSymbol()})},t.prototype.checkAndShowLineAn=function(t,e,n){var r=this;return this.offAllSymbol(),new Promise(function(s){return o(r,void 0,void 0,function(){var o,r,a,p;return i(this,function(i){switch(i.label){case 0:o=t.lsstack,r=t.lsIdItem,a=0,i.label=1;case 1:return a<o?(p=this.listColum[a],[4,c.Windown.AiCap.getMakeDelay(.02*a).prosime]):[3,5];case 2:return i.sent(),[4,p.parentItem.children[u[r][a]+1].getComponent(l.default).takeItem(a,e,n)];case 3:i.sent(),i.label=4;case 4:return a++,[3,1];case 5:return s(null),[2]}})})})},t.prototype.resetForNextNextSpin=function(){var t=this;cc.log("reset nor nex"),c.Windown.AiCap.resetForNewGame(),this.freeSpinLeft>0?c.Windown.AiCap.scheduleOnce(function(){c.Windown.AiCap.setLbFreeSpinLeft(t.freeSpinLeft-1),c.Windown.AiCap.onClickBtnSpin()},.5):this.countAutoSpin>0?(c.Windown.AiCap.lines.stopAllActions(),c.Windown.AiCap.audio.node.stopAllActions(),c.Windown.AiCap.stateSpin.hideAllLines(),c.Windown.AiCap.infoBar.reset(),this.listColum.forEach(function(t){t.resetState()}),this.countAutoSpin--,c.Windown.AiCap.setCountAuto(this.countAutoSpin),c.Windown.AiCap.onClickBtnSpin()):c.Windown.AiCap.activeAllBtn()},t.prototype.showMoneyTotalRevice=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return cc.log("showMoneyTotalRevice"),t=c.Windown.AiCap.agWin,c.Windown.AiCap.activeMask(!1),this.listColum.forEach(function(t){t.activeAllSymbol()}),t<1?[4,c.Windown.AiCap.getMakeDelay(.75)]:[3,2];case 1:return o.sent(),e(null),[2];case 2:return o.trys.push([2,4,,5]),[4,c.Windown.AiCap.infoBar.showTotalMoney(t)];case 3:return o.sent(),e(null),[3,5];case 4:return n=o.sent(),a.Util.ThrowErrProsime(n),[3,5];case 5:return[2]}})})})},t}();n.default=p,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./SymbolAiCap":"SymbolAiCap"}],SpinNormalAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"7bebeSUC8hI8JqKn9BPI2MV","SpinNormalAsgard");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Scritps/DefineTs/StateReelSlot"),s=t("../../../Scritps/Util"),a=t("../../../Scritps/Windown"),c=function(){function t(){this.listFunShowOceLine=[],this.funShowOceLine=null,this.listColum=[],this.effect=null,this.isMaxSpeed=!1,this.isAutoSpin=!1,this.lastAutoSpin=!1,this.countAutoSpin=0,this.lastFreeSpinLeft=0,this.freeSpinLeft=0,this.freeSpinCache=0,this.moneyTotalFs=0,this.curentCountScater=0,this.isShowNearWin=!1,this.listColum=a.Windown.Asgard.listColum,this.effect=a.Windown.Asgard.effect}return t.prototype.onStart=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t;return i(this,function(){try{for(this.removeAllMutilAdded(),t=0;t<this.listColum.length;t++)this.listColum[t].runSpin();a.Windown.Asgard.audio.playEffect(a.Windown.Asgard.audio.spinActiveLoop,.3,!0)}catch(n){s.Util.ThrowErrProsime(n)}return e(null),[2]})})})},t.prototype.onEnd=function(){return o(this,void 0,void 0,function(){var t,e,n,o,c,l,u,p,h,d;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,12,,13]),cc.log("onend:========"),t=a.Windown.Asgard.listResultConvert,e=a.Windown.Asgard.getListActiveScaster(t[0].listSFSObj),n=0,o=[],this.isShowNearWin=!1,c=0,l=e;c<l.length;c++)if(h=l[c]){this.isShowNearWin=!0;break}this.curentCountScater=t[0].countScater,a.Windown.Asgard.audio.stopEffect(a.Windown.Asgard.audio.spinActiveLoop),u=0,p=this.listColum,i.label=1;case 1:return u<p.length?(h=p[u],this.isMaxSpeed?[3,3]:[4,a.Windown.Asgard.getPromise(h.stopSpin(e[n],t[0].listSFSObj[n]))]):[3,6];case 2:return i.sent(),[3,4];case 3:o.push(h.stopSpinIsFastSpin(e[n],t[0].listSFSObj[n])),i.label=4;case 4:n++,i.label=5;case 5:return u++,[3,1];case 6:return this.isMaxSpeed?[4,a.Windown.Asgard.getPromiseAll(o)]:[3,9];case 7:return i.sent(),[4,a.Windown.Asgard.getMakeDelay(.1).prosime];case 8:return i.sent(),[3,11];case 9:return[4,a.Windown.Asgard.getMakeDelay(.5).prosime];case 10:i.sent(),i.label=11;case 11:return a.Windown.Asgard.stateReel!=r.default.RUN&&this.handleStopAllColum(),[3,13];case 12:return d=i.sent(),s.Util.ThrowErrProsime(d),[3,13];case 13:return[2]}})})},t.prototype.handleErrSpin=function(){return o(this,void 0,void 0,function(){var t,e,n;return i(this,function(o){switch(o.label){case 0:a.Windown.Asgard.audio.stopEffect(a.Windown.Asgard.audio.spinActiveLoop),t=0,e=this.listColum,o.label=1;case 1:return t<e.length?(n=e[t],this.isMaxSpeed?[3,3]:[4,a.Windown.Asgard.getPromise(n.stopSpin(!1,n.result))]):[3,5];case 2:return o.sent(),[3,4];case 3:n.stopSpin(!1,n.result),o.label=4;case 4:return t++,[3,1];case 5:return a.Windown.Asgard.resetForNewGame(),[2]}})})},t.prototype.onForceEnd=function(){return o(this,void 0,void 0,function(){var t,e,n,o,r,c,l,u;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,3,,4]),a.Windown.Asgard.audio.stopEffect(a.Windown.Asgard.audio.spinActiveLoop),a.Windown.Asgard.clearAllMakeDelay(),t=a.Windown.Asgard.listResultConvert,e=a.Windown.Asgard.getListActiveScaster(t[0].listSFSObj),n=[],o=0,r=0,c=this.listColum;r<c.length;r++)l=c[r],n.push(l.forceStopSpin(e[o],t[0].listSFSObj[o])),o++;return a.Windown.Asgard.audio.playEffect(a.Windown.Asgard.audio.spinStopQuick),[4,a.Windown.Asgard.getPromiseAll(n)];case 1:return i.sent(),[4,a.Windown.Asgard.getMakeDelay(.25).prosime];case 2:return i.sent(),this.handleStopAllColum(),[3,4];case 3:return u=i.sent(),s.Util.ThrowErrProsime(u),[3,4];case 4:return[2]}})})},t.prototype.handleStopAllColum=function(){return o(this,void 0,void 0,function(){var t,e,n,o,c;return i(this,function(i){switch(i.label){case 0:if(i.trys.push([0,12,,13]),a.Windown.Asgard.stateReel==r.default.STOP)return[2];a.Windown.Asgard.stateReel=r.default.STOP,a.Windown.Asgard.setStateEffBtnSpin(),t=a.Windown.Asgard.listResultConvert,this.activeAllSymbol(),a.Windown.Asgard.infoBar.offOneMoreScater(),a.Windown.Asgard.infoBar.showRdContent(),e=0,n=t.length,i.label=1;case 1:return e<n?(o=t[e],this.curentCountScater=o.countScater,o.listItemWin?[4,a.Windown.Asgard.getPromise(this.checkAndShowLineAn(o.listItemWin,o.agWin))]:[3,8]):[3,9];case 2:return i.sent(),[4,a.Windown.Asgard.getPromise(a.Windown.Asgard.muitlCtr.effectTake(o.mutil))];case 3:return i.sent(),a.Windown.Asgard.muitlCtr.mutilUpReel(t[e+1].listReelMul),a.Windown.Asgard.infoBar.showTakeMoneyTurn(o.agWin*o.mutil),this.checkAndRemoveSymbol(o.listItemWin),o.isNoSap?[4,a.Windown.Asgard.getPromise(this.addNewSymbol(t[e+1]))]:[3,8];case 4:return i.sent(),[4,a.Windown.Asgard.getPromise(this.moveSymbolInView())];case 5:return i.sent(),[4,a.Windown.Asgard.getPromise(a.Windown.Asgard.effect.activeNearWinNoSap())];case 6:return i.sent(),a.Windown.Asgard.infoBar.isShowOneMoreScater=!1,[4,a.Windown.Asgard.getPromise(this.moveSymbolNew())];case 7:i.sent(),i.label=8;case 8:return e++,[3,1];case 9:return[4,a.Windown.Asgard.getPromise(this.showMoneyTotalRevice())];case 10:return i.sent(),[4,a.Windown.Asgard.getPromise(this.checkAndShowEffect())];case 11:return i.sent(),this.resetForNextNextSpin(),[3,13];case 12:return c=i.sent(),s.Util.ThrowErrProsime(c),[3,13];case 13:return[2]}})})},t.prototype.checkIsNearFS=function(){return this.isShowNearWin},t.prototype.removeAllMutilAdded=function(){var t=this;return new Promise(function(e){a.Windown.Asgard.resetLbTotalLine(),a.Windown.Asgard.muitlCtr.resetForNextSpin(),t.listColum.forEach(function(t){t.getListSymbol().forEach(function(t){t.removeAddScater(0)})}),e(null)})},t.prototype.checkAndRemoveSymbol=function(t){this.activeAllSymbol();var e=t.lsIdItem,n=t.lsstack;n.length>0&&a.Windown.Asgard.effectShake();for(var o=0,i=e.length;o<i;o++){this.listColum[0].checkAndRemoveItem(e[o],n[o]);for(var r=1;r<n[o]+2;r++)this.listColum[r].checkAndRemoveItem(e[o],null)}},t.prototype.addNewSymbol=function(t){var e=this;return new Promise(function(n){return o(e,void 0,void 0,function(){var e,o,r;return i(this,function(i){switch(i.label){case 0:for(o in i.trys.push([0,2,,3]),e=[],this.listColum)e.push(this.listColum[o].addNewListSymbol(t.listSFSObj[o]));return[4,a.Windown.Asgard.getPromiseAll(e)];case 1:return i.sent(),n(null),[3,3];case 2:return r=i.sent(),s.Util.ThrowErrProsime(r),[3,3];case 3:return[2]}})})})},t.prototype.moveSymbolInView=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:for(n in i.trys.push([0,2,,3]),t=[],this.listColum)t.push(this.listColum[n].moveSymbolInView());return[4,a.Windown.Asgard.getPromiseAll(t)];case 1:return i.sent(),e(null),[3,3];case 2:return o=i.sent(),s.Util.ThrowErrProsime(o),[3,3];case 3:return[2]}})})})},t.prototype.moveSymbolNew=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o,r,c,l;return i(this,function(i){switch(i.label){case 0:for(o in i.trys.push([0,7,,8]),t=[],n=[],this.listColum)n.push(o);r=0,i.label=1;case 1:return r<n.length?(c=n[r],a.Windown.Asgard.nearWinNoSap.active?[4,a.Windown.Asgard.getPromise(this.listColum[c].moveSymbolNew())]:[3,3]):[3,5];case 2:return i.sent(),[3,4];case 3:t.push(this.listColum[c].moveSymbolNew()),i.label=4;case 4:return r++,[3,1];case 5:return[4,a.Windown.Asgard.getPromiseAll(t)];case 6:return i.sent(),a.Windown.Asgard.nearWinNoSap.active=!1,e(null),[3,8];case 7:return l=i.sent(),s.Util.ThrowErrProsime(l),[3,8];case 8:return[2]}})})})},t.prototype.offAllSymbol=function(t){void 0===t&&(t=!0),a.Windown.Asgard.activeMask(!0)},t.prototype.activeAllSymbol=function(){a.Windown.Asgard.activeMask(!1)},t.prototype.checkAndShowLineAn=function(t,e){var n=this;return new Promise(function(r){return o(n,void 0,void 0,function(){var n,o,c,l,u,p,h;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,2,,3]),this.offAllSymbol(),n=t.lsIdItem,o=t.lsstack,c=t.lsAgWin,l=0,u=n.length;l<u;l++){for(this.listColum[0].checkItemWin(n[l],o[l]),p=1;p<o[l]+2;p++)this.listColum[p].checkItemWin(n[l],null);c[l]}return[4,a.Windown.Asgard.getPromise(a.Windown.Asgard.infoBar.showTakeMoney(e))];case 1:return i.sent(),r(null),[3,3];case 2:return h=i.sent(),s.Util.ThrowErrProsime(h),[3,3];case 3:return[2]}})})})},t.prototype.resetForNextNextSpin=function(){var t=this;if(a.Windown.Asgard.resetForNewGame(),this.freeSpinLeft>0)a.Windown.Asgard.scheduleOnce(function(){a.Windown.Asgard.setLbFreeSpinLeft(t.freeSpinLeft-1),a.Windown.Asgard.onClickBtnSpin()},.5);else if(this.countAutoSpin>0){var e=a.Windown.Asgard.stateSpin.isMaxSpeed?2:1;a.Windown.Asgard.scheduleOnce(function(){t.countAutoSpin--,a.Windown.Asgard.setCountAuto(t.countAutoSpin),a.Windown.Asgard.onClickBtnSpin()},.5/e)}else a.Windown.Asgard.activeAllBtn()},t.prototype.checkAndShowEffect=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),t=a.Windown.Asgard.dataFinish.get("Scarter4"),n=a.Windown.Asgard.dataFinish.get("numFreeSpin"),this.freeSpinLeft=n,!t&&this.lastFreeSpinLeft<1?(e(null),[2]):t?[4,a.Windown.Asgard.getPromise(a.Windown.Asgard.effect.showTakeFreeSpin(n))]:[3,2];case 1:i.sent(),i.label=2;case 2:return 1==this.lastFreeSpinLeft&&this.freeSpinLeft<1?[4,a.Windown.Asgard.getPromise(this.effect.showEndFree(this.moneyTotalFs))]:[3,4];case 3:i.sent(),this.moneyTotalFs=0,i.label=4;case 4:return this.lastFreeSpinLeft=this.freeSpinLeft,e(null),[3,6];case 5:return o=i.sent(),s.Util.ThrowErrProsime(o),[3,6];case 6:return[2]}})})})},t.prototype.showMoneyTotalRevice=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=a.Windown.Asgard.dataFinish.get("agWin"),this.lastFreeSpinLeft>0&&(this.moneyTotalFs+=t),a.Windown.Asgard.activeMask(!1),t<1?(e(null),[2]):[4,a.Windown.Asgard.getPromise(a.Windown.Asgard.infoBar.showTotalMoney(t))];case 1:return o.sent(),a.Windown.Asgard.showMoneyAllWin(t),e(null),[3,3];case 2:return n=o.sent(),s.Util.ThrowErrProsime(n),[3,3];case 3:return[2]}})})})},t}();n.default=c,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],SpinNormalCaishen:[function(t,e,n){"use strict";cc._RF.push(e,"50343Z7SBJEIrndDtrn4wyy","SpinNormalCaishen");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Scritps/DefineTs/StateReelSlot"),s=t("../../../Scritps/Util"),a=t("../../../Scritps/Windown"),c=function(){function t(){this.listFunShowOceLine=[],this.funShowOceLine=null,this.listColum=[],this.effect=null,this.isMaxSpeed=!1,this.isAutoSpin=!1,this.lastAutoSpin=!1,this.countAutoSpin=0,this.lastFreeSpinLeft=0,this.freeSpinLeft=0,this.freeSpinCache=0,this.moneyTotalFs=0,this.curentCountScater=0,this.isShowNearWin=!1,this.itemCaishenNang=null,this.listColum=a.Windown.Caishen.listColum,this.itemCaishenNang=a.Windown.Caishen.itemSlotCaishenNgang,this.effect=a.Windown.Caishen.effect}return t.prototype.onStart=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:o.trys.push([0,5,,6]),this.removeAllMutilAdded(),this.itemCaishenNang.runSpin(),t=0,o.label=1;case 1:return t<this.listColum.length?(this.listColum[t].runSpin(),this.isMaxSpeed?[3,3]:[4,a.Windown.Caishen.getMakeDelay(.025).prosime]):[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return[3,6];case 5:return n=o.sent(),s.Util.ThrowErrProsime(n),[3,6];case 6:return e(null),[2]}})})})},t.prototype.onEnd=function(){return o(this,void 0,void 0,function(){var t,e,n,o,c,l,u,p,h,d;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,15,,16]),cc.log("onend:========"),t=a.Windown.Caishen.listResultConvert,e=a.Windown.Caishen.getListActiveScaster(t[0].listSFSObj,t[0].listSFSObjNgang),n=0,o=[],this.isShowNearWin=!1,c=0,l=e;c<l.length;c++)if(h=l[c]){this.isShowNearWin=!0;break}return this.curentCountScater=t[0].countScater,this.isMaxSpeed?[3,2]:(this.itemCaishenNang.stopSpin(!1,t[0].listSFSObjNgang),[4,a.Windown.Caishen.getMakeDelay(.3).prosime]);case 1:return i.sent(),[3,3];case 2:this.itemCaishenNang.stopSpinIsFastSpin(!1,t[0].listSFSObjNgang),i.label=3;case 3:u=0,p=this.listColum,i.label=4;case 4:return u<p.length?(h=p[u],this.isMaxSpeed?[3,6]:[4,h.stopSpin(e[n],t[0].listSFSObj[n])]):[3,9];case 5:return i.sent(),[3,7];case 6:o.push(h.stopSpinIsFastSpin(e[n],t[0].listSFSObj[n])),i.label=7;case 7:n++,i.label=8;case 8:return u++,[3,4];case 9:return this.isMaxSpeed?[4,Promise.all(o)]:[3,12];case 10:return i.sent(),[4,a.Windown.Caishen.getMakeDelay(.1).prosime];case 11:return i.sent(),[3,14];case 12:return[4,a.Windown.Caishen.getMakeDelay(.5).prosime];case 13:i.sent(),i.label=14;case 14:return a.Windown.Caishen.stateReel!=r.default.RUN&&this.handleStopAllColum(),[3,16];case 15:return d=i.sent(),s.Util.ThrowErrProsime(d),[3,16];case 16:return[2]}})})},t.prototype.handleErrSpin=function(){return o(this,void 0,void 0,function(){var t,e,n;return i(this,function(o){switch(o.label){case 0:this.itemCaishenNang.stopSpin(!1,this.itemCaishenNang.result),t=0,e=this.listColum,o.label=1;case 1:return t<e.length?(n=e[t],this.isMaxSpeed?[3,3]:[4,n.stopSpin(!1,n.result)]):[3,5];case 2:return o.sent(),[3,4];case 3:n.stopSpin(!1,n.result),o.label=4;case 4:return t++,[3,1];case 5:return a.Windown.Caishen.resetForNewGame(),[2]}})})},t.prototype.onForceEnd=function(){return o(this,void 0,void 0,function(){var t,e,n,o,r,c,l,u;return i(this,function(i){switch(i.label){case 0:cc.log("onForceEnd"),i.label=1;case 1:for(i.trys.push([1,4,,5]),a.Windown.Caishen.clearAllMakeDelay(),t=a.Windown.Caishen.listResultConvert,e=a.Windown.Caishen.getListActiveScaster(t[0].listSFSObj,t[0].listSFSObjNgang),n=[],o=0,this.itemCaishenNang.forceStopSpin(!1,t[0].listSFSObjNgang),r=0,c=this.listColum;r<c.length;r++)l=c[r],n.push(l.forceStopSpin(e[o],t[0].listSFSObj[o])),o++;return a.Windown.Caishen.audio.playEffect(a.Windown.Caishen.audio.spinStopQuick),[4,Promise.all(n)];case 2:return i.sent(),[4,a.Windown.Caishen.getMakeDelay(.25).prosime];case 3:return i.sent(),this.handleStopAllColum(),[3,5];case 4:return u=i.sent(),s.Util.ThrowErrProsime(u),[3,5];case 5:return[2]}})})},t.prototype.handleStopAllColum=function(){return o(this,void 0,void 0,function(){var t,e,n,o,c,l,u;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,15,,16]),a.Windown.Caishen.stateReel==r.default.STOP?[2]:(a.Windown.Caishen.stateReel=r.default.STOP,a.Windown.Caishen.setStateEffBtnSpin(),t=a.Windown.Caishen.listResultConvert,this.offAllEffectSymbolScater(),this.activeAllSymbol(),a.Windown.Caishen.infoBar.offOneMoreScater(),a.Windown.Caishen.infoBar.showRdContent(),null==this.itemCaishenNang.itemLongWild?[3,2]:(this.itemCaishenNang.activeLongWild(),[4,a.Windown.Caishen.getMakeDelay(2).prosime]));case 1:i.sent(),i.label=2;case 2:e=0,n=t.length,i.label=3;case 3:return e<n?(o=t[e],this.curentCountScater=o.countScater,c=this.checkIsWaitShuffWild(o),l=this.checIsWaitShuffGold(o),o.listItemWin?(o.isNoSap&&this.checkItemShuffle(o.listItemWin,t[e+1]),a.Windown.Caishen.infoBar.showTakeMoneyTurn(o.agWin,o.mutil),[4,this.checkAndShowLineAn(o.listItemWin,o.agWin)]):[3,10]):[3,12];case 4:return i.sent(),[4,this.checkAndRemoveSymbol(o.listItemWin)];case 5:return i.sent(),[4,a.Windown.Caishen.getMakeDelay(c||l?a.Windown.Caishen.stateSpin.isMaxSpeed?.65:.4:0).prosime];case 6:return i.sent(),o.isNoSap?[4,a.Windown.Caishen.getMakeDelay(a.Windown.Caishen.stateSpin.isMaxSpeed?0:.5).prosime]:[3,10];case 7:return i.sent(),[4,this.addNewSymbol(t[e+1])];case 8:return i.sent(),a.Windown.Caishen.infoBar.isShowOneMoreScater=!1,[4,this.moveAllSymbol()];case 9:i.sent(),i.label=10;case 10:a.Windown.Caishen.infoBar.offOneMoreScater(),i.label=11;case 11:return e++,[3,3];case 12:return[4,this.showMoneyTotalRevice()];case 13:return i.sent(),[4,this.checkAndShowEffect()];case 14:return i.sent(),this.resetForNextNextSpin(),[3,16];case 15:return u=i.sent(),s.Util.ThrowErrProsime(u),[3,16];case 16:return[2]}})})},t.prototype.checkIsWaitShuffWild=function(t){var e=!1;if(t.isNoSap)for(var n=0,o=t.listSFSObj.length;n<o;n++)t.listSFSObj[n].forEach(function(n){t.listItemWin.lsIdItem.includes(n.getInt("idItem"))&&2==n.getInt("typeItem")&&(e=!0)});return e},t.prototype.checIsWaitShuffGold=function(t){var e=!1;if(t.isNoSap)for(var n=0,o=t.listSFSObj.length;n<o;n++)t.listSFSObj[n].forEach(function(n){t.listItemWin.lsIdItem.includes(n.getInt("idItem"))&&1==n.getInt("typeItem")&&(e=!0)});return e},t.prototype.checkIsNearFS=function(){return this.isShowNearWin},t.prototype.removeAllMutilAdded=function(){var t=this;return new Promise(function(e){a.Windown.Caishen.resetLbTotalLine(),t.listColum.forEach(function(t){t.getListSymbol().forEach(function(t){t.removeMutilWhenSpin()})}),t.itemCaishenNang.getListSymbol().forEach(function(t){t.removeMutilWhenSpin()}),e(null)})},t.prototype.checkAndRemoveSymbol=function(t){var e=this;return new Promise(function(n){return o(e,void 0,void 0,function(){var e,o,r,a,c,l,u,p;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,2,,3]),this.activeAllSymbol(),e=t.lsIdItem,o=t.lsstack,r=[],a=0,c=e.length;a<c;a++)for(this.itemCaishenNang.checkAndRemoveItem(e[a],o[a]),l=0;l<o[a]+1;l++)u=this.listColum[l],r.push(u.checkAndRemoveItem(e[a],null));return[4,Promise.all(r)];case 1:return i.sent(),n(null),[3,3];case 2:return p=i.sent(),s.Util.ThrowErrProsime(p),[3,3];case 3:return[2]}})})})},t.prototype.addNewSymbol=function(t){var e=this;return new Promise(function(n){return o(e,void 0,void 0,function(){var e,o,r;return i(this,function(i){switch(i.label){case 0:for(o in i.trys.push([0,2,,3]),(e=[]).push(this.itemCaishenNang.addNewListSymbol(t.listSFSObjNgang)),this.listColum)e.push(this.listColum[o].addNewListSymbol(t.listSFSObj[o]));return[4,Promise.all(e)];case 1:return i.sent(),n(null),[3,3];case 2:return r=i.sent(),s.Util.ThrowErrProsime(r),[3,3];case 3:return[2]}})})})},t.prototype.moveAllSymbol=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o,r,c;return i(this,function(i){switch(i.label){case 0:for(r in i.trys.push([0,2,,3]),(t=a.Windown.Caishen.stateSpin.curentCountScater>2)&&a.Windown.Caishen.effect.activeNearWinNoSap(),n=0,(o=[]).push(this.itemCaishenNang.moveAllSymbol(n)),this.itemCaishenNang.checkIsNorSap()&&n++,this.listColum)o.push(this.listColum[r].moveAllSymbol(n)),this.listColum[r].checkIsNorSap()&&n++;return[4,Promise.all(o)];case 1:return i.sent(),t&&a.Windown.Caishen.effect.offNearWinNoSap(),e(null),[3,3];case 2:return c=i.sent(),s.Util.ThrowErrProsime(c),[3,3];case 3:return[2]}})})})},t.prototype.takeMutil=function(){},t.prototype.offAllSymbol=function(t){void 0===t&&(t=!0),a.Windown.Caishen.activeMask(!0)},t.prototype.activeAllSymbol=function(){a.Windown.Caishen.activeMask(!1)},t.prototype.checkItemShuffle=function(t,e){var n=this;return new Promise(function(r){return o(n,void 0,void 0,function(){var n,o,a,c,l,u;return i(this,function(){try{for(n=t.lsIdItem,o=t.lsstack,a=0,c=n.length;a<c;a++)for(l=0;l<o[a]+1;l++)u=this.listColum[l],e.listSFSObj[u.index],cc.log("col:"+u.index),u.checkItemShuffle(n,n[a],o[a],e.listSFSObj[u.index]);r(null)}catch(i){s.Util.ThrowErrProsime(i)}return[2]})})})},t.prototype.checkAndShowLineAn=function(t){var e=this;return new Promise(function(n){return o(e,void 0,void 0,function(){var e,o,r,c,l,u,p;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,2,,3]),this.offAllSymbol(),e=t.lsIdItem,o=t.lsstack,r=t.lsAgWin,c=0,l=e.length;c<l;c++){for(this.itemCaishenNang.checkItemWin(e[c],o[c]),u=0;u<o[c]+1;u++)this.listColum[u].checkItemWin(e[c],null);r[c]}return[4,a.Windown.Caishen.getMakeDelay(.75).prosime];case 1:return i.sent(),n(null),[3,3];case 2:return p=i.sent(),s.Util.ThrowErrProsime(p),[3,3];case 3:return[2]}})})})},t.prototype.effectDropScater=function(){a.Windown.Caishen.infoBar.effectDropOneMorScater(),this.itemCaishenNang.getListSymbolResult().forEach(function(t){t.effectDropScater()}),this.listColum.forEach(function(t){t.getListSymbolResult().forEach(function(t){t.effectDropScater()})})},t.prototype.offAllEffectSymbolScater=function(){this.itemCaishenNang.getListSymbolResult().forEach(function(t){return t.removeAddScater()}),this.listColum.forEach(function(t){t.getListSymbolResult().forEach(function(t){t.removeAddScater()})})},t.prototype.resetForNextNextSpin=function(){var t=this;cc.log("reset nor nex"),this.itemCaishenNang.getListSymbolResult().forEach(function(t){return t.removeAddScater(!0)}),this.listColum.forEach(function(t){t.getListSymbolResult().forEach(function(t){t.removeAddScater(!0)})}),a.Windown.Caishen.resetForNewGame(),this.freeSpinLeft>0?a.Windown.Caishen.scheduleOnce(function(){a.Windown.Caishen.setLbFreeSpinLeft(t.freeSpinLeft-1),a.Windown.Caishen.onClickBtnSpin()},.5):this.countAutoSpin>0?a.Windown.Caishen.scheduleOnce(function(){t.countAutoSpin--,a.Windown.Caishen.setCountAuto(t.countAutoSpin),a.Windown.Caishen.onClickBtnSpin()},.5):a.Windown.Caishen.activeAllBtn()},t.prototype.checkAndShowEffect=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o,r;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),t=a.Windown.Caishen.dataFinish.getBool("Scarter4"),n=a.Windown.Caishen.dataFinish.get("numFreeSpin"),o=a.Windown.Caishen.dataFinish.get("bonusSpin"),this.freeSpinLeft=n,!t&&this.lastFreeSpinLeft<1?(e(null),[2]):t?[4,a.Windown.Caishen.effect.showSpinFreeSpin(o)]:[3,3];case 1:return i.sent(),[4,a.Windown.Caishen.effect.showTakeFreeSpin(n,o)];case 2:i.sent(),i.label=3;case 3:return 1==this.lastFreeSpinLeft&&this.freeSpinLeft<1?[4,this.effect.showEndFree(this.moneyTotalFs)]:[3,5];case 4:i.sent(),this.moneyTotalFs=0,i.label=5;case 5:return this.lastFreeSpinLeft=this.freeSpinLeft,e(null),[3,7];case 6:return r=i.sent(),s.Util.ThrowErrProsime(r),[3,7];case 7:return[2]}})})})},t.prototype.showMoneyTotalRevice=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=a.Windown.Caishen.dataFinish.get("agWin"),this.lastFreeSpinLeft>0&&(this.moneyTotalFs+=t),a.Windown.Caishen.activeMask(!1),t<1?(e(null),[2]):[4,a.Windown.Caishen.infoBar.showTotalMoney(t)];case 1:return o.sent(),a.Windown.Caishen.showMoneyAllWin(t),e(null),[3,3];case 2:return n=o.sent(),s.Util.ThrowErrProsime(n),[3,3];case 3:return[2]}})})})},t}();n.default=c,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],SpinNormalDuaXe:[function(t,e,n){"use strict";cc._RF.push(e,"3da0eMEi5ZEYZB+/4oXUCDq","SpinNormalDuaXe");var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.SpinNormalDuaXe=void 0;var s=t("../../../Scritps/DefineTs/StateReelSlot"),a=t("../../../Scritps/Windown"),c=t("../../../Scritps/Util"),l=cc._decorator,u=l.ccclass,p=(l.property,function(){function t(){this.listFunShowOceLine=[],this.funShowOceLine=null,this.listColum=[],this.effect=null,this.isMaxSpeed=!1,this.isAutoSpin=!1,this.lastAutoSpin=!1,this.countAutoSpin=0,this.lastFreeSpinLeft=0,this.freeSpinLeft=0,this.freeSpinCache=0,this.moneyTotalFs=0,this.curentCountScater=0,this.isShowNearWin=!1,this.listColum=a.Windown.DuaXe.listColum,this.effect=a.Windown.DuaXe.effect}return t.prototype.start=function(){},t.prototype.update=function(){},t.prototype.activeAllSymbol=function(){a.Windown.DuaXe.activeMask(!1)},t.prototype.onStart=function(){var t=this;return new Promise(function(e){return i(t,void 0,void 0,function(){var t,n,o;return r(this,function(i){switch(i.label){case 0:i.trys.push([0,8,,9]),this.removeAllMutilAdded(),t=.05,n=0,i.label=1;case 1:return n<this.listColum.length?(0==n&&a.Windown.DuaXe.audio.playEffect(a.Windown.DuaXe.audio.spinActiveLoop,.7,!0),this.isMaxSpeed?[3,3]:[4,a.Windown.DuaXe.getMakeDelay(t*n).prosime]):[3,5];case 2:i.sent(),i.label=3;case 3:t-=.012,this.listColum[n].runSpin(),i.label=4;case 4:return n++,[3,1];case 5:return this.isMaxSpeed?[4,a.Windown.DuaXe.getMakeDelay(.2).prosime]:[3,7];case 6:i.sent(),i.label=7;case 7:return[3,9];case 8:return o=i.sent(),c.Util.ThrowErrProsime(o),[3,9];case 9:return e(null),[2]}})})})},t.prototype.removeAllMutilAdded=function(){var t=this;return new Promise(function(e){a.Windown.DuaXe.resetLbTotalLine(),t.listColum.forEach(function(t){t.getListSymbol().forEach(function(t){t.removeAddScater(0)})}),e(null)})},t.prototype.checkIsNearFS=function(){return this.isShowNearWin},t.prototype.handleErrSpin=function(){return i(this,void 0,void 0,function(){var t,e,n;return r(this,function(o){switch(o.label){case 0:a.Windown.DuaXe.audio.stopEffect(a.Windown.DuaXe.audio.spinActiveLoop),t=0,e=this.listColum,o.label=1;case 1:return t<e.length?(n=e[t],this.isMaxSpeed?[3,3]:[4,a.Windown.DuaXe.getPromise(n.stopSpin(!1,n.result))]):[3,5];case 2:return o.sent(),[3,4];case 3:n.stopSpin(!1,n.result),o.label=4;case 4:return t++,[3,1];case 5:return a.Windown.DuaXe.resetForNewGame(),[2]}})})},t.prototype.onEnd=function(){return i(this,void 0,void 0,function(){var t,e,n,o,i,l,u,p,h,d;return r(this,function(r){switch(r.label){case 0:for(r.trys.push([0,12,,13]),t=a.Windown.DuaXe.listResultConvert,e=a.Windown.DuaXe.getListActiveScaster(t[0].listSFSObj),n=0,o=[],this.isShowNearWin=!1,i=0,l=e;i<l.length;i++)if(h=l[i]){this.isShowNearWin=!0;break}this.curentCountScater=t[0].countScater,u=0,p=this.listColum,r.label=1;case 1:return u<p.length?(h=p[u],this.isMaxSpeed?[3,3]:[4,a.Windown.DuaXe.getPromise(h.stopSpin(e[n],t[0].listSFSObj[n]))]):[3,6];case 2:return r.sent(),[3,4];case 3:o.push(h.stopSpinIsFastSpin(e[n],t[0].listSFSObj[n])),r.label=4;case 4:n++,r.label=5;case 5:return u++,[3,1];case 6:return this.isMaxSpeed?[4,a.Windown.DuaXe.getPromiseAll(o)]:[3,9];case 7:return r.sent(),[4,a.Windown.DuaXe.getMakeDelay(.1).prosime];case 8:return r.sent(),[3,11];case 9:return[4,a.Windown.DuaXe.getMakeDelay(.5).prosime];case 10:r.sent(),r.label=11;case 11:return a.Windown.DuaXe.stateReel!=s.default.RUN&&this.handleStopAllColum(),[3,13];case 12:return d=r.sent(),c.Util.ThrowErrProsime(d),[3,13];case 13:return[2]}})})},t.prototype.handleStopAllColum=function(){return i(this,void 0,void 0,function(){var t,e,n,o,i,l;return r(this,function(r){switch(r.label){case 0:if(r.trys.push([0,20,,21]),a.Windown.DuaXe.stateReel==s.default.STOP)return[2];a.Windown.DuaXe.audio.stopEffect(a.Windown.DuaXe.audio.spinActiveLoop),a.Windown.DuaXe.stateReel=s.default.STOP,a.Windown.DuaXe.setStateEffBtnSpin(),t=a.Windown.DuaXe.listResultConvert,this.activeAllSymbol(),a.Windown.DuaXe.infoBar.offOneMoreScater(),a.Windown.DuaXe.infoBar.showRdContent(),e=0,n=t.length,r.label=1;case 1:return e<n?(o=t[e],this.curentCountScater=o.countScater,o.listItemWin?[4,a.Windown.DuaXe.getPromise(this.checkAndShowLineAn(o.listItemWin,o.agWin))]:[3,12]):[3,15];case 2:return r.sent(),[4,a.Windown.DuaXe.getPromise(this.checkAndRemoveSymbol(o.listItemWin,o.view))];case 3:return r.sent(),i=[],o.isNoSap?[4,a.Windown.DuaXe.getMakeDelay(a.Windown.DuaXe.stateSpin.isMaxSpeed?.2:0).prosime]:[3,9];case 4:return r.sent(),[4,a.Windown.DuaXe.getPromise(this.addNewSymbol(t[e+1]))];case 5:return r.sent(),[4,a.Windown.DuaXe.getPromise(this.moveSymbolInView())];case 6:return r.sent(),[4,a.Windown.DuaXe.getPromise(a.Windown.DuaXe.effect.activeNearWinNoSap())];case 7:return r.sent(),a.Windown.DuaXe.infoBar.isShowOneMoreScater=!1,[4,a.Windown.DuaXe.getPromise(this.moveSymbolNew())];case 8:r.sent(),r.label=9;case 9:return i.length>0?[4,a.Windown.DuaXe.getPromiseAll(i)]:[3,11];case 10:r.sent(),r.label=11;case 11:return[3,14];case 12:return 0!=a.Windown.DuaXe.bonus&&(0!=a.Windown.DuaXe.dataFinish.agWin||a.Windown.DuaXe.stateSpin.freeSpinLeft>0)?[4,a.Windown.DuaXe.getPromise(this.checkAndShowMulti())]:[3,14];case 13:r.sent(),r.label=14;case 14:return e++,[3,1];case 15:return[4,a.Windown.DuaXe.getPromise(this.showMoneyTotalRevice())];case 16:return r.sent(),this.isMaxSpeed?[3,18]:[4,a.Windown.DuaXe.getMakeDelay(.4).prosime];case 17:r.sent(),r.label=18;case 18:return[4,a.Windown.DuaXe.getPromise(this.checkAndShowEffect())];case 19:return r.sent(),this.resetForNextNextSpin(),[3,21];case 20:return l=r.sent(),c.Util.ThrowErrProsime(l),[3,21];case 21:return[2]}})})},t.prototype.resetForNextNextSpin=function(){var t=this;if(a.Windown.DuaXe.resetForNewGame(),this.freeSpinLeft>0)a.Windown.DuaXe.scheduleOnce(function(){a.Windown.DuaXe.setLbFreeSpinLeft(t.freeSpinLeft-1),a.Windown.DuaXe.onClickBtnSpin()},.5);else if(this.countAutoSpin>0){var e=a.Windown.DuaXe.stateSpin.isMaxSpeed?2:1;a.Windown.DuaXe.scheduleOnce(function(){t.countAutoSpin--,a.Windown.DuaXe.setCountAuto(t.countAutoSpin),a.Windown.DuaXe.onClickBtnSpin()},.5/e)}else a.Windown.DuaXe.activeAllBtn()},t.prototype.showMoneyTotalRevice=function(){var t=this;return new Promise(function(e){return i(t,void 0,void 0,function(){var t,n;return r(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=a.Windown.DuaXe.dataFinish.agWin,this.lastFreeSpinLeft>0&&(this.moneyTotalFs+=t),a.Windown.DuaXe.activeMask(!1),t<1?(e(null),[2]):[4,a.Windown.DuaXe.getPromise(a.Windown.DuaXe.infoBar.showTotalMoney(t))];case 1:return o.sent(),a.Windown.DuaXe.showMoneyAllWin(t),e(null),[3,3];case 2:return n=o.sent(),c.Util.ThrowErrProsime(n),[3,3];case 3:return[2]}})})})},t.prototype.moveSymbolNew=function(){var t=this;return new Promise(function(e){return i(t,void 0,void 0,function(){var t,n,o,i,s,l;return r(this,function(r){switch(r.label){case 0:for(o in r.trys.push([0,7,,8]),t=[],n=[],this.listColum)n.push(o);i=0,r.label=1;case 1:return i<n.length?(s=n[i],a.Windown.DuaXe.nearWinNoSap.active?[4,a.Windown.DuaXe.getPromise(this.listColum[s].moveSymbolNew())]:[3,3]):[3,5];case 2:return r.sent(),[3,4];case 3:t.push(this.listColum[s].moveSymbolNew()),r.label=4;case 4:return i++,[3,1];case 5:return[4,a.Windown.DuaXe.getPromiseAll(t)];case 6:return r.sent(),a.Windown.DuaXe.nearWinNoSap.active=!1,e(null),[3,8];case 7:return l=r.sent(),c.Util.ThrowErrProsime(l),[3,8];case 8:return[2]}})})})},t.prototype.moveSymbolInView=function(){var t=this;return new Promise(function(e){return i(t,void 0,void 0,function(){var t,n,o;return r(this,function(i){switch(i.label){case 0:for(n in i.trys.push([0,2,,3]),t=[],this.listColum)t.push(this.listColum[n].moveSymbolInView());return[4,a.Windown.DuaXe.getPromiseAll(t)];case 1:return i.sent(),e(null),[3,3];case 2:return o=i.sent(),c.Util.ThrowErrProsime(o),[3,3];case 3:return[2]}})})})},t.prototype.addNewSymbol=function(t){var e=this;return new Promise(function(n){return i(e,void 0,void 0,function(){var e,o,i;return r(this,function(r){switch(r.label){case 0:for(o in r.trys.push([0,2,,3]),e=[],this.listColum)e.push(this.listColum[o].addNewListSymbol(t.listSFSObj[o]));return[4,a.Windown.DuaXe.getPromiseAll(e)];case 1:return r.sent(),n(null),[3,3];case 2:return i=r.sent(),c.Util.ThrowErrProsime(i),[3,3];case 3:return[2]}})})})},t.prototype.checkAndRemoveSymbol=function(t){var e=this;return new Promise(function(n){return i(e,void 0,void 0,function(){var e,o,i,s,l;return r(this,function(){try{for(this.activeAllSymbol(),e=t.lsIdItem,(o=t.lsstack).length>0&&a.Windown.DuaXe.effectShake(),i=0,s=e.length;i<s;i++)for(this.listColum[0].checkAndRemoveItem(e[i],o[i]),l=1;l<o[i]+2;l++)this.listColum[l].checkAndRemoveItem(e[i],0);n(null)}catch(r){c.Util.ThrowErrProsime(r)}return[2]})})})},t.prototype.checkAndShowEffect=function(){var t=this;return new Promise(function(e){return i(t,void 0,void 0,function(){var t,n,o;return r(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),t=a.Windown.DuaXe.dataFinish.Scarter4,n=a.Windown.DuaXe.dataFinish.numFreeSpin,this.freeSpinLeft=n,!t&&this.lastFreeSpinLeft<1?(e(null),[2]):t?[4,a.Windown.DuaXe.getPromise(a.Windown.DuaXe.effect.showTakeFreeSpin(n))]:[3,2];case 1:i.sent(),i.label=2;case 2:return 1==this.lastFreeSpinLeft&&this.freeSpinLeft<1?[4,a.Windown.DuaXe.getPromise(this.effect.showEndFree(this.moneyTotalFs))]:[3,4];case 3:i.sent(),this.moneyTotalFs=0,i.label=4;case 4:return this.lastFreeSpinLeft=this.freeSpinLeft,e(null),[3,6];case 5:return o=i.sent(),c.Util.ThrowErrProsime(o),[3,6];case 6:return[2]}})})})},t.prototype.checkAndShowLineAn=function(t,e){var n=this;return new Promise(function(o){return i(n,void 0,void 0,function(){var n,i,s,l,u,p,h,d,f;return r(this,function(r){switch(r.label){case 0:for(r.trys.push([0,3,,4]),this.offAllSymbol(),n=t.lsIdItem,i=t.lsstack,s=t.lsAgWin,l=[],u=0,p=n.length;u<p;u++){for(this.listColum[0].checkItemWin(n[u],i[u]),h=1;h<i[u]+2;h++)d=this.listColum[h],l.push(d.checkItemWin(n[u],i[u]));s[u]}return[4,a.Windown.DuaXe.getPromiseAll(l)];case 1:return r.sent(),[4,a.Windown.DuaXe.getPromise(a.Windown.DuaXe.infoBar.showTakeMoney(e))];case 2:return r.sent(),o(null),[3,4];case 3:return f=r.sent(),c.Util.ThrowErrProsime(f),[3,4];case 4:return[2]}})})})},t.prototype.checkAndShowMulti=function(){var t=this;return new Promise(function(e){return i(t,void 0,void 0,function(){var t,n,o,i,s,l,u;return r(this,function(r){switch(r.label){case 0:for(o in r.trys.push([0,3,,4]),t=[],n=0,this.listColum)for(i=this.listColum[o].getListSymbol(),s=0;s<i.length;s++)(l=i[s]).checkIsInView()&&10==l.result&&(n+=l.bonus,t.push(a.Windown.DuaXe.multiController.checkShowMultiSymbol(l)));return n>0&&(a.Windown.DuaXe.multiController.mergeCurrentMultiTotal(),a.Windown.DuaXe.activeMask(!0),a.Windown.DuaXe.audio.playEffect(a.Windown.DuaXe.audio.symbolBonusMove)),[4,a.Windown.DuaXe.getPromiseAll(t)];case 1:return r.sent(),[4,a.Windown.DuaXe.multiController.checkAndShowTotalMulti()];case 2:return r.sent(),e(null),[3,4];case 3:return u=r.sent(),c.Util.ThrowErrProsime(u),[3,4];case 4:return[2]}})})})},t.prototype.onForceEnd=function(){return i(this,void 0,void 0,function(){var t,e,n,o,i,s,l,u;return r(this,function(r){switch(r.label){case 0:for(r.trys.push([0,3,,4]),a.Windown.DuaXe.clearAllMakeDelay(),t=a.Windown.DuaXe.listResultConvert,e=a.Windown.DuaXe.getListActiveScaster(t[0].listSFSObj),n=[],o=0,i=0,s=this.listColum;i<s.length;i++)l=s[i],n.push(l.forceStopSpin(e[o],t[0].listSFSObj[o])),o++;return a.Windown.DuaXe.audio.playEffect(a.Windown.DuaXe.audio.spinStopQuick),[4,a.Windown.DuaXe.getPromiseAll(n)];case 1:return r.sent(),[4,a.Windown.DuaXe.getMakeDelay(.25).prosime];case 2:return r.sent(),this.handleStopAllColum(),[3,4];case 3:return u=r.sent(),c.Util.ThrowErrProsime(u),[3,4];case 4:return[2]}})})},t.prototype.offAllSymbol=function(t){void 0===t&&(t=!0),a.Windown.DuaXe.activeMask(!0)},o([u],t)}());n.SpinNormalDuaXe=p,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],SpinNormalMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"916db4a5+xHV49ewdl7Ck/I","SpinNormalMatChuoc");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Scritps/DefineTs/StateReelSlot"),s=t("./SymbolMatChuoc"),a=t("./Effect/EffectDragonFS"),c=t("../../../Scritps/Windown"),l=t("../../../Scritps/Util"),u=function(){function t(){this.listFunShowOceLine=[],this.funShowOceLine=null,this.listColum=[],this.effect=null,this.isMaxSpeed=!1,this.isAutoSpin=!1,this.lastAutoSpin=!1,this.countAutoSpin=0,this.lastFreeSpinLeft=0,this.freeSpinLeft=0,this.isLastNoSap=!1,this.speedNormal=1.1,this.freeSpinCache=0,this.moneyTotalFs=0,this.curentCountScater=0,this.isShowNearWin=!1,this.isShowingDragon=!1,this.nodeEffDragon=null,this.listColum=c.Windown.MatChuoc.listColum,this.effect=c.Windown.MatChuoc.effect}return t.prototype.onStart=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:i.trys.push([0,10,,11]),this.removeAllMutilAdded(),t=.06,n=0,i.label=1;case 1:return n<this.listColum.length?this.isMaxSpeed?[3,3]:[4,c.Windown.MatChuoc.getMakeDelay(t).prosime]:[3,5];case 2:i.sent(),i.label=3;case 3:this.listColum[n].runSpin(),t-=.008,i.label=4;case 4:return n++,[3,1];case 5:return c.Windown.MatChuoc.audio.playEffect(c.Windown.MatChuoc.audio.spinActiveLoop,1,!0),this.isCheckShowDragon()?(console.log("Wft: "+this.isLastNoSap),[4,c.Windown.MatChuoc.getPromise(this.showDragonFS())]):[3,7];case 6:i.sent(),i.label=7;case 7:return this.isMaxSpeed?[3,9]:[4,c.Windown.MatChuoc.getMakeDelay(.3).prosime];case 8:i.sent(),i.label=9;case 9:return[3,11];case 10:return o=i.sent(),l.Util.ThrowErrProsime(o),[3,11];case 11:return e(null),[2]}})})})},t.prototype.onEnd=function(){return o(this,void 0,void 0,function(){var t,e,n,o,s,a,u,p,h,d;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,12,,13]),t=c.Windown.MatChuoc.listResultConvert,e=c.Windown.MatChuoc.getListActiveScaster(t[0].listSFSObj),n=0,o=[],this.isShowNearWin=!1,s=0,a=e;s<a.length;s++)if(h=a[s]){this.isShowNearWin=!0;break}this.curentCountScater=t[0].countScater,c.Windown.MatChuoc.audio.stopEffect(c.Windown.MatChuoc.audio.spinActiveLoop),u=0,p=this.listColum,i.label=1;case 1:return u<p.length?(h=p[u],this.isMaxSpeed?[3,3]:[4,c.Windown.MatChuoc.getPromise(h.stopSpin(e[n],t[0].listSFSObj[n]))]):[3,6];case 2:return i.sent(),[3,4];case 3:o.push(h.stopSpinIsFastSpin(e[n],t[0].listSFSObj[n])),i.label=4;case 4:n++,i.label=5;case 5:return u++,[3,1];case 6:return this.isMaxSpeed?[4,c.Windown.MatChuoc.getPromiseAll(o)]:[3,9];case 7:return i.sent(),[4,c.Windown.MatChuoc.getMakeDelay(.1).prosime];case 8:return i.sent(),[3,11];case 9:return[4,c.Windown.MatChuoc.getMakeDelay(.5).prosime];case 10:i.sent(),i.label=11;case 11:return c.Windown.MatChuoc.stateReel!=r.default.RUN&&this.handleStopAllColum(),[3,13];case 12:return d=i.sent(),l.Util.ThrowErrProsime(d),[3,13];case 13:return[2]}})})},t.prototype.handleErrSpin=function(){return o(this,void 0,void 0,function(){var t,e,n;return i(this,function(o){switch(o.label){case 0:c.Windown.MatChuoc.audio.stopEffect(c.Windown.MatChuoc.audio.spinActiveLoop),t=0,e=this.listColum,o.label=1;case 1:return t<e.length?(n=e[t],this.isMaxSpeed?[3,3]:[4,c.Windown.MatChuoc.getPromise(n.stopSpin(!1,n.result))]):[3,5];case 2:return o.sent(),[3,4];case 3:n.stopSpin(!1,n.result),o.label=4;case 4:return t++,[3,1];case 5:return c.Windown.MatChuoc.resetForNewGame(),[2]}})})},t.prototype.onForceEnd=function(){return o(this,void 0,void 0,function(){var t,e,n,o,r,s,a,u;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,3,,4]),c.Windown.MatChuoc.audio.stopEffect(c.Windown.MatChuoc.audio.spinActiveLoop),c.Windown.MatChuoc.clearAllMakeDelay(),t=c.Windown.MatChuoc.listResultConvert,e=c.Windown.MatChuoc.getListActiveScaster(t[0].listSFSObj),n=[],o=0,console.log("onForceEnd: "+JSON.stringify(e)),r=0,s=this.listColum;r<s.length;r++)a=s[r],n.push(a.forceStopSpin(e[o],t[0].listSFSObj[o])),o++;return c.Windown.MatChuoc.audio.playEffect(c.Windown.MatChuoc.audio.spinStopQuick),[4,c.Windown.MatChuoc.getPromiseAll(n)];case 1:return i.sent(),[4,c.Windown.MatChuoc.getMakeDelay(.25).prosime];case 2:return i.sent(),this.handleStopAllColum(),[3,4];case 3:return u=i.sent(),l.Util.ThrowErrProsime(u),[3,4];case 4:return[2]}})})},t.prototype.handleStopAllColum=function(){return o(this,void 0,void 0,function(){var t,e,n,o,s;return i(this,function(i){switch(i.label){case 0:if(i.trys.push([0,14,,15]),c.Windown.MatChuoc.stateReel==r.default.STOP)return[2];c.Windown.MatChuoc.stateReel=r.default.STOP,c.Windown.MatChuoc.setStateEffBtnSpin(),t=c.Windown.MatChuoc.listResultConvert,this.activeAllSymbol(),c.Windown.MatChuoc.infoBar.showRdContent(),this.isLastNoSap=!1,e=0,n=t.length,i.label=1;case 1:return e<n?(o=t[e],this.curentCountScater=o.countScater,o.listItemWin?[4,c.Windown.MatChuoc.getPromise(this.checkAndShowLineAn(o.listItemWin,o.agWin,o))]:[3,8]):[3,9];case 2:return i.sent(),[4,c.Windown.MatChuoc.getPromise(this.checkAndRemoveSymbol(o.listItemWin))];case 3:return i.sent(),o.isNoSap?[4,c.Windown.MatChuoc.getPromise(this.addNewSymbol(t[e+1]))]:[3,8];case 4:return i.sent(),[4,c.Windown.MatChuoc.getPromise(this.moveSymbolInView())];case 5:return i.sent(),[4,c.Windown.MatChuoc.getPromise(this.moveSymbolNew())];case 6:return i.sent(),[4,c.Windown.MatChuoc.getPromise(c.Windown.MatChuoc.muitlCtr.effectTake(t[e+1].mutil))];case 7:i.sent(),this.isLastNoSap=!0,i.label=8;case 8:return e++,[3,1];case 9:return this.isMaxSpeed?[3,11]:[4,c.Windown.MatChuoc.getMakeDelay(.4).prosime];case 10:i.sent(),i.label=11;case 11:return[4,c.Windown.MatChuoc.getPromise(this.showMoneyTotalRevice())];case 12:return i.sent(),[4,c.Windown.MatChuoc.getPromise(this.checkAndShowEffect())];case 13:return i.sent(),this.resetForNextNextSpin(),[3,15];case 14:return s=i.sent(),l.Util.ThrowErrProsime(s),[3,15];case 15:return[2]}})})},t.prototype.checkIsNearFS=function(){return this.isShowNearWin},t.prototype.removeAllMutilAdded=function(){var t=this;return new Promise(function(e){c.Windown.MatChuoc.resetLbTotalLine(),c.Windown.MatChuoc.muitlCtr.resetForNextSpin(),t.listColum.forEach(function(t){t.getListSymbol().forEach(function(t){t.removeAddScater(0)})}),e(null)})},t.prototype.checkAndRemoveSymbol=function(t){var e=this;return new Promise(function(n){return o(e,void 0,void 0,function(){var e,o,r,s,a,u;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,2,,3]),console.log("checkAndRemoveSymbol "),this.activeAllSymbol(),e=t.lsIdItem,o=t.lsstack,r=0,s=e.length;r<s;r++)for(a=0;a<o[r]+1;a++)this.listColum[a].checkAndRemoveItem(e[r],0);return[4,c.Windown.MatChuoc.getPromise(c.Windown.MatChuoc.getMakeDelay(.8/c.Windown.MatChuoc.getDelta()).prosime)];case 1:return i.sent(),n(null),[3,3];case 2:return u=i.sent(),l.Util.ThrowErrProsime(u),[3,3];case 3:return[2]}})})})},t.prototype.addNewSymbol=function(t){var e=this;return new Promise(function(n){return o(e,void 0,void 0,function(){var e,o,r;return i(this,function(i){switch(i.label){case 0:for(o in i.trys.push([0,2,,3]),e=[],this.listColum)e.push(this.listColum[o].addNewListSymbol(t.listSFSObj[o]));return[4,c.Windown.MatChuoc.getPromiseAll(e)];case 1:return i.sent(),n(null),[3,3];case 2:return r=i.sent(),l.Util.ThrowErrProsime(r),[3,3];case 3:return[2]}})})})},t.prototype.moveSymbolInView=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:for(n in i.trys.push([0,2,,3]),t=[],this.listColum)t.push(this.listColum[n].moveSymbolInView());return[4,c.Windown.MatChuoc.getPromiseAll(t)];case 1:return i.sent(),e(null),[3,3];case 2:return o=i.sent(),l.Util.ThrowErrProsime(o),[3,3];case 3:return[2]}})})})},t.prototype.moveSymbolNew=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o,r,s,a;return i(this,function(i){switch(i.label){case 0:for(o in i.trys.push([0,7,,8]),t=[],n=[],this.listColum)n.push(o);r=0,i.label=1;case 1:return r<n.length?(s=n[r],c.Windown.MatChuoc.nearWinNoSap.active?[4,c.Windown.MatChuoc.getPromise(this.listColum[s].moveSymbolNew())]:[3,3]):[3,5];case 2:return i.sent(),[3,4];case 3:t.push(this.listColum[s].moveSymbolNew()),i.label=4;case 4:return r++,[3,1];case 5:return[4,c.Windown.MatChuoc.getPromiseAll(t)];case 6:return i.sent(),e(null),[3,8];case 7:return a=i.sent(),l.Util.ThrowErrProsime(a),[3,8];case 8:return[2]}})})})},t.prototype.offAllSymbol=function(t){void 0===t&&(t=!0),c.Windown.MatChuoc.activeMask(!0)},t.prototype.activeAllSymbol=function(){c.Windown.MatChuoc.activeMask(!1)},t.prototype.checkAndShowLineAn=function(t,e,n){var r=this;return new Promise(function(e){return o(r,void 0,void 0,function(){var o,r,s,a,u,p,h;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,2,,3]),this.offAllSymbol(),o=t.lsIdItem,r=t.lsstack,s=t.lsAgWin,o.length>0&&c.Windown.MatChuoc.audio.playEffectNoStop(c.Windown.MatChuoc.audio.uiCollect),a=0,u=o.length;a<u;a++){for(c.Windown.MatChuoc.audio.playEffect(c.Windown.MatChuoc.audio.voxSymbol[o[a]]),p=0;p<r[a]+1;p++)this.listColum[p].checkItemWin(o[a],r[a]);s[a]}return c.Windown.MatChuoc.infoBar.showTakeMoneyTurn(n.agWin*n.mutil,n.mutil),[4,c.Windown.MatChuoc.getPromise(c.Windown.MatChuoc.getMakeDelay(1/c.Windown.MatChuoc.getDelta()).prosime)];case 1:return i.sent(),e(null),[3,3];case 2:return h=i.sent(),l.Util.ThrowErrProsime(h),[3,3];case 3:return[2]}})})})},t.prototype.resetForNextNextSpin=function(){var t=this;if(c.Windown.MatChuoc.resetForNewGame(),c.Windown.MatChuoc.stateSpin.speedNormal=1,this.freeSpinLeft>0)c.Windown.MatChuoc.stateSpin.speedNormal=.8,c.Windown.MatChuoc.scheduleOnce(function(){c.Windown.MatChuoc.setLbFreeSpinLeft(t.freeSpinLeft-1),c.Windown.MatChuoc.onClickBtnSpin()},.5);else if(this.countAutoSpin>0){var e=c.Windown.MatChuoc.stateSpin.isMaxSpeed?2:1;c.Windown.MatChuoc.scheduleOnce(function(){t.countAutoSpin--,c.Windown.MatChuoc.setCountAuto(t.countAutoSpin),c.Windown.MatChuoc.onClickBtnSpin()},.5/e)}else c.Windown.MatChuoc.activeAllBtn()},t.prototype.checkAndShowEffect=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),t=c.Windown.MatChuoc.dataFinish.Scarter4,n=c.Windown.MatChuoc.dataFinish.numFreeSpin,this.freeSpinLeft=n,!t&&this.lastFreeSpinLeft<1?(e(null),[2]):t?(this.isLastNoSap=!0,[4,c.Windown.MatChuoc.getPromise(c.Windown.MatChuoc.effect.showTakeFreeSpin(n))]):[3,2];case 1:i.sent(),i.label=2;case 2:return 1==this.lastFreeSpinLeft&&this.freeSpinLeft<1?[4,c.Windown.MatChuoc.getPromise(this.effect.showEndFree(this.moneyTotalFs))]:[3,4];case 3:i.sent(),this.moneyTotalFs=0,i.label=4;case 4:return this.lastFreeSpinLeft=this.freeSpinLeft,e(null),[3,6];case 5:return o=i.sent(),l.Util.ThrowErrProsime(o),[3,6];case 6:return[2]}})})})},t.prototype.isCheckShowDragon=function(){return this.lastFreeSpinLeft>0&&1==this.isLastNoSap},t.prototype.showMoneyTotalRevice=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=c.Windown.MatChuoc.dataFinish.agWin,this.lastFreeSpinLeft>0&&(this.moneyTotalFs+=t),c.Windown.MatChuoc.activeMask(!1),t<1?(e(null),[2]):[4,c.Windown.MatChuoc.getPromise(c.Windown.MatChuoc.infoBar.showTotalMoney(t))];case 1:return o.sent(),c.Windown.MatChuoc.showMoneyAllWin(t),e(null),[3,3];case 2:return n=o.sent(),l.Util.ThrowErrProsime(n),[3,3];case 3:return[2]}})})})},t.prototype.showDragonFS=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),t=1,c.Windown.MatChuoc.activeMask(!0,null,180,!0),(n=cc.instantiate(c.Windown.MatChuoc.asset.dragonFS)).parent=c.Windown.MatChuoc.parentEffect,n.getComponent(a.EffectDragonFS).showDragon(),c.Windown.MatChuoc.nearDragonFS.opacity=0,c.Windown.MatChuoc.nearDragonFS.active=!0,[4,c.Windown.MatChuoc.getMakeDelay(.4).prosime];case 1:return i.sent(),c.Windown.MatChuoc.asset.bgDragonFS.opacity=0,c.Windown.MatChuoc.asset.bgDragonFS.runAction(cc.fadeIn(.3)),[4,c.Windown.MatChuoc.getMakeDelay(.4).prosime];case 2:return i.sent(),c.Windown.MatChuoc.activeMask(!1,2,180,!0),c.Windown.MatChuoc.nearDragonFS.runAction(cc.fadeIn(.5)),c.Windown.MatChuoc.listColum[2].getListSymbol().forEach(function(t){t.activeItem(.3),t.typeItem=0,t.setImgResult(!1)}),[4,c.Windown.MatChuoc.getMakeDelay(.5/t).prosime];case 3:return i.sent(),this.effectItemFly(),[4,c.Windown.MatChuoc.getMakeDelay(1.2/t).prosime];case 4:return i.sent(),c.Windown.MatChuoc.nearDragonFS.runAction(cc.fadeOut(.3)),c.Windown.MatChuoc.asset.bgDragonFS.runAction(cc.fadeOut(.3)),c.Windown.MatChuoc.activeMask(!1,null,180,!0),c.Windown.MatChuoc.listColum[2].getListSymbol().forEach(function(t){t.offItem(.2)}),n&&n.runAction(cc.sequence(cc.fadeOut(.3),cc.delayTime(.3),cc.callFunc(function(){n.destroy()}))),e(null),[3,6];case 5:return o=i.sent(),l.Util.ThrowErrProsime(o),[3,6];case 6:return[2]}})})})},t.prototype.effectItemFly=function(){for(var t=cc.v3(0,310,0),e=[],n=0;n<5;n++){var o=cc.instantiate(c.Windown.MatChuoc.asset.itemSymbolMatChuoc);n%2==0?o.setPosition(cc.v3(-550,762,0)):o.setPosition(cc.v3(550,762,0)),o.parent=c.Windown.MatChuoc.parentEffect,o.active=!0,o.getComponent(s.default).result=c.Windown.RandomNumber(0,8),o.getComponent(s.default).typeItem=2,o.getComponent(s.default).setImgResult(!1),o.setScale(cc.v3(2/3-2/15*(n+1),2/3-2/15*(n+1))),e.push(o)}var i=function(n){var o=cc.v2(0,t.y-138.5*n);e[n].runAction(cc.sequence(cc.delayTime(.1*(e.length-1-n)),cc.spawn(cc.moveTo(.35,o).easing(cc.easeSineIn(.35)),cc.scaleTo(.25,2/3)),cc.callFunc(function(){0==n&&(c.Windown.MatChuoc.stateSpin.isShowingDragon=!0,c.Windown.MatChuoc.listColum[2].getListSymbol().forEach(function(t){t.typeItem=2,t.setImgResult(!1)}))}),cc.delayTime(.2+.05*n),cc.moveBy(.8,cc.v2(0,-2e3)),cc.delayTime(.8),cc.callFunc(function(){e[n].destroy()})))};for(n=e.length-1;n>=0;n--)i(n)},t}();n.default=u,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./Effect/EffectDragonFS":"EffectDragonFS","./SymbolMatChuoc":"SymbolMatChuoc"}],SpinNormalMatTroi:[function(t,e,n){"use strict";cc._RF.push(e,"38d83AoChdIjJBpcxkrJ8A5","SpinNormalMatTroi");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Scritps/DefineTs/StateReelSlot"),s=t("../../../Scritps/Util"),a=t("../../../Scritps/Windown"),c=t("./EffectControlMatTroi"),l=function(){function t(){this.listFunShowOceLine=[],this.funShowOceLine=null,this.listColum=[],this.effect=null,this.isMaxSpeed=!1,this.isAutoSpin=!1,this.lastAutoSpin=!1,this.countAutoSpin=0,this.lastFreeSpinLeft=0,this.freeSpinLeft=0,this.freeSpinCache=0,this.moneyTotalFs=0,this.curentCountScater=0,this.currentMutilFs=1,this.isShowNearWin=!1,this.listColum=a.Windown.MatTroiView.listColum,this.effect=a.Windown.MatTroiView.effect}return t.prototype.onStart=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:o.trys.push([0,7,,8]),this.removeAllMutilAdded(),t=0,o.label=1;case 1:return t<this.listColum.length?(this.listColum[t].runSpin(),this.isMaxSpeed?[3,3]:[4,a.Windown.MatTroiView.getMakeDelay(.025).prosime]):[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return this.isMaxSpeed?[4,a.Windown.MatTroiView.getMakeDelay(.1).prosime]:[3,6];case 5:o.sent(),o.label=6;case 6:return a.Windown.MatTroiView.audio.playEffect(a.Windown.MatTroiView.audio.spinActiveLoop,.5,!0),[3,8];case 7:return n=o.sent(),s.Util.ThrowErrProsime(n),[3,8];case 8:return e(null),[2]}})})})},t.prototype.onEnd=function(){return o(this,void 0,void 0,function(){var t,e,n,o,r,c,l,u,p,h;return i(this,function(i){switch(i.label){case 0:t=a.Windown.MatTroiView.listResultConvert,i.label=1;case 1:for(i.trys.push([1,13,,14]),e=a.Windown.MatTroiView.getListActiveScaster(t[0].listSFSObj),n=0,o=[],this.isShowNearWin=!1,r=0,c=e;r<c.length;r++)if(p=c[r]){this.isShowNearWin=!0;break}a.Windown.MatTroiView.audio.stopEffect(a.Windown.MatTroiView.audio.spinActiveLoop),l=0,u=this.listColum,i.label=2;case 2:return l<u.length?(p=u[l],this.isMaxSpeed?[3,4]:[4,p.stopSpin(e[n],t[0].listSFSObj[n])]):[3,7];case 3:return i.sent(),[3,5];case 4:o.push(p.stopSpinIsFastSpin(e[n],t[0].listSFSObj[n])),i.label=5;case 5:n++,i.label=6;case 6:return l++,[3,2];case 7:return this.isMaxSpeed?[4,Promise.all(o)]:[3,10];case 8:return i.sent(),a.Windown.MatTroiView.audio.playEffect(a.Windown.MatTroiView.audio.spinStopQuick),[4,a.Windown.MatTroiView.getMakeDelay(.25).prosime];case 9:return i.sent(),[3,12];case 10:return[4,a.Windown.MatTroiView.getMakeDelay(.5).prosime];case 11:i.sent(),i.label=12;case 12:return cc.log("stop all colum1"),this.handleStopAllColum(),[3,14];case 13:return h=i.sent(),s.Util.ThrowErrProsime(h),[3,14];case 14:return[2]}})})},t.prototype.handleErrSpin=function(){return o(this,void 0,void 0,function(){var t,e,n,o;return i(this,function(i){switch(i.label){case 0:a.Windown.MatTroiView.audio.stopEffect(a.Windown.MatTroiView.audio.spinActiveLoop),i.label=1;case 1:i.trys.push([1,7,,8]),t=0,e=this.listColum,i.label=2;case 2:return t<e.length?(n=e[t],this.isMaxSpeed?[3,4]:[4,n.stopSpin(!1,n.result)]):[3,6];case 3:return i.sent(),[3,5];case 4:n.stopSpin(!1,n.result),i.label=5;case 5:return t++,[3,2];case 6:return a.Windown.MatTroiView.resetForNewGame(),[3,8];case 7:return o=i.sent(),s.Util.ThrowErrProsime(o),[3,8];case 8:return[2]}})})},t.prototype.onForceEnd=function(){return o(this,void 0,void 0,function(){var t,e,n,o,r,c,l,u;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,3,,4]),a.Windown.MatTroiView.clearAllMakeDelay(),t=a.Windown.MatTroiView.listResultConvert,e=a.Windown.MatTroiView.getListActiveScaster(t[0].listSFSObj),n=[],o=0,r=0,c=this.listColum;r<c.length;r++)l=c[r],n.push(l.forceStopSpin(e[o],t[0].listSFSObj[o])),o++;return a.Windown.MatTroiView.audio.playEffect(a.Windown.MatTroiView.audio.spinStopQuick),[4,Promise.all(n)];case 1:return i.sent(),[4,a.Windown.MatTroiView.getMakeDelay(.25).prosime];case 2:return i.sent(),cc.log("stop all colum2"),this.handleStopAllColum(),[3,4];case 3:return u=i.sent(),s.Util.ThrowErrProsime(u),[3,4];case 4:return[2]}})})},t.prototype.handleStopAllColum=function(){return o(this,void 0,void 0,function(){var t,e,n,o,l;return i(this,function(i){switch(i.label){case 0:if(i.trys.push([0,32,,33]),a.Windown.MatTroiView.stateReel==r.default.STOP)return[2];a.Windown.MatTroiView.stateReel=r.default.STOP,a.Windown.MatTroiView.setStateEffBtnSpin(),t=a.Windown.MatTroiView.listResultConvert,this.activeAllSymbol(),e=0,n=t.length,i.label=1;case 1:return e<n?(o=t[e],this.curentCountScater=o.countScater,o.listItemWinL&&o.listItemWinR?(c.default.instance.showAnimLightingSunMoonTotal(10),c.default.instance.showAnimLightingSunMoonTotal(9),[4,this.showItemBonusSpin(10,o.bonusSpinL)]):[3,11]):[3,29];case 2:return i.sent(),c.default.instance.removeEffectLighting(10),[4,this.showItemBonusSpin(9,o.bonusSpinR)];case 3:return i.sent(),c.default.instance.removeEffectLighting(9),[4,a.Windown.MatTroiView.getMakeDelay(.3/a.Windown.MatTroiView.getDelta()).prosime];case 4:return i.sent(),[4,this.checkAndShowLineAn(o.listItemWinL,o.listItemWinR,o.agWin)];case 5:return i.sent(),[4,this.showMultiBonusTotal(o.bonusSpinL+o.bonusSpinR)];case 6:return i.sent(),[4,this.caculateMutilMoney(o.agWin,o.bonusSpinL+o.bonusSpinR)];case 7:return i.sent(),this.checkAndRemoveSymbol(o.listItemWinL,o.listItemWinR),o.isNoSap?[4,this.addNewSymbol(t[e+1])]:[3,10];case 8:return i.sent(),[4,this.moveAllSymbol()];case 9:i.sent(),i.label=10;case 10:return[3,28];case 11:return o.listItemWinR||o.listItemWinL?[4,this.showItemBonusSpin(10,o.bonusSpinL)]:[3,25];case 12:return i.sent(),c.default.instance.removeEffectLighting(10),[4,this.showItemBonusSpin(9,o.bonusSpinR)];case 13:return i.sent(),c.default.instance.removeEffectLighting(9),[4,this.checkAndShowLineAn(o.listItemWinL,o.listItemWinR,o.agWin)];case 14:return i.sent(),[4,a.Windown.MatTroiView.getMakeDelay(.5/a.Windown.MatTroiView.getDelta()).prosime];case 15:return i.sent(),o.bonusSpinL>1&&o.listItemWinL&&o.listItemWinL.lsIdItem.length>0?[4,this.showMutliBonusReceive(10)]:[3,18];case 16:return i.sent(),[4,this.caculateMutilMoney(o.agWin,o.bonusSpinL)];case 17:i.sent(),i.label=18;case 18:return o.bonusSpinR>1&&o.listItemWinR&&o.listItemWinR.lsIdItem.length>0?[4,this.showMutliBonusReceive(9)]:[3,21];case 19:return i.sent(),[4,this.caculateMutilMoney(o.agWin,o.bonusSpinR)];case 20:i.sent(),i.label=21;case 21:return this.checkAndRemoveSymbol(o.listItemWinL,o.listItemWinR),o.isNoSap?[4,this.addNewSymbol(t[e+1])]:[3,24];case 22:return i.sent(),[4,this.moveAllSymbol()];case 23:i.sent(),i.label=24;case 24:return[3,28];case 25:return this.lastFreeSpinLeft>0?[4,this.showItemBonusSpin(10,o.bonusSpinL)]:[3,28];case 26:return i.sent(),c.default.instance.removeEffectLighting(10),[4,this.showItemBonusSpin(9,o.bonusSpinR)];case 27:i.sent(),c.default.instance.removeEffectLighting(9),i.label=28;case 28:return e++,[3,1];case 29:return[4,this.showMoneyTotalRevice()];case 30:return i.sent(),[4,this.checkAndShowEffect()];case 31:return i.sent(),this.resetForNextNextSpin(),[3,33];case 32:return l=i.sent(),s.Util.ThrowErrProsime(l),[3,33];case 33:return[2]}})})},t.prototype.removeAllMutilAdded=function(){var t=this;return new Promise(function(e){a.Windown.MatTroiView.muitlCtr.resetForNextSpin(),t.listColum.forEach(function(t){t.getListSymbol().forEach(function(t){t.removeMutilWhenSpin()})}),e(null)})},t.prototype.checkAndRemoveSymbol=function(t,e){this.activeAllSymbol();var n=[],o=[];if(t&&void 0!==t){n=t.lsIdItem,o=t.lsstack;for(var i=0,r=n.length;i<r;i++)for(var s=0;s<o[i]+1;s++)this.listColum[s].checkAndRemoveItem(n[i])}if(e&&void 0!==e)for(n=e.lsIdItem,o=e.lsstack,i=0,r=n.length;i<r;i++)for(s=this.listColum.length-1;s>=this.listColum.length-(o[i]+1);s--)this.listColum[s].checkAndRemoveItem(n[i])},t.prototype.addNewSymbol=function(t){var e=this;return new Promise(function(n){return o(e,void 0,void 0,function(){var e,o,r;return i(this,function(i){switch(i.label){case 0:for(o in i.trys.push([0,2,,3]),e=[],this.listColum)e.push(this.listColum[o].addNewListSymbol(t.listSFSObj[o]));return[4,Promise.all(e)];case 1:return i.sent(),n(null),[3,3];case 2:return r=i.sent(),s.Util.ThrowErrProsime(r),[3,3];case 3:return[2]}})})})},t.prototype.moveAllSymbol=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o,r;return i(this,function(i){switch(i.label){case 0:for(o in i.trys.push([0,2,,3]),t=0,n=[],this.listColum)n.push(this.listColum[o].moveAllSymbol(t)),this.listColum[o].checkIsNorSap()&&t++;return[4,Promise.all(n)];case 1:return i.sent(),e(null),[3,3];case 2:return r=i.sent(),s.Util.ThrowErrProsime(r),[3,3];case 3:return[2]}})})})},t.prototype.caculateMutilMoney=function(t,e){var n=this;return new Promise(function(r){return o(n,void 0,void 0,function(){return i(this,function(){try{a.Windown.MatTroiView.infoBar.showTakeMoneyTurn(t*e),r(null)}catch(n){s.Util.ThrowErrProsime(n)}return[2]})})})},t.prototype.showItemBonusSpin=function(t,e){var n=this;return new Promise(function(r){return o(n,void 0,void 0,function(){var n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),n=!1,this.listColum.forEach(function(o){o.getListSymbolResult().forEach(function(o){o.result!=t||o.isShowEffectBonus||(n=!0,o.takeBonusSpinSunMoon(e))})}),n?[4,c.default.instance.addMutil(t,e)]:[3,2];case 1:i.sent(),i.label=2;case 2:return r(null),[3,4];case 3:return o=i.sent(),s.Util.ThrowErrProsime(o),[3,4];case 4:return[2]}})})})},t.prototype.offAllSymbol=function(t){void 0===t&&(t=!0),a.Windown.MatTroiView.activeMask(!0)},t.prototype.activeAllSymbol=function(){a.Windown.MatTroiView.activeMask(!1)},t.prototype.checkAndShowLineAn=function(t,e,n){var r=this;return this.offAllSymbol(),new Promise(function(c){return o(r,void 0,void 0,function(){var o,r,l,u,p,h,d;return i(this,function(i){switch(i.label){case 0:if(i.trys.push([0,2,,3]),o=[],r=[],l=[],void 0!==t)for(o=t.lsIdItem,r=t.lsstack,l=t.lsAgWin,u=0,p=o.length;u<p;u++){for(h=0;h<r[u]+1;h++)this.listColum[h].checkItemWin(o[u],0);l[u]}if(void 0!==e)for(o=e.lsIdItem,r=e.lsstack,l=e.lsAgWin,u=0,p=o.length;u<p;u++){for(h=this.listColum.length-1;h>=this.listColum.length-(r[u]+1);h--)this.listColum[h].checkItemWin(o[u],1);l[u]}return[4,a.Windown.MatTroiView.infoBar.showTakeMoney(n)];case 1:return i.sent(),c(null),[3,3];case 2:return d=i.sent(),s.Util.ThrowErrProsime(d),[3,3];case 3:return[2]}})})})},t.prototype.resetForNextNextSpin=function(){var t=this;cc.log("resetForNextNextSpin:"+this.freeSpinLeft),a.Windown.MatTroiView.resetForNewGame(),this.freeSpinLeft>0?a.Windown.MatTroiView.scheduleOnce(function(){a.Windown.MatTroiView.setLbFreeSpinLeft(t.freeSpinLeft-1),a.Windown.MatTroiView.onClickBtnSpin()},.5):this.countAutoSpin>0?a.Windown.MatTroiView.scheduleOnce(function(){t.countAutoSpin--,a.Windown.MatTroiView.setCountAuto(t.countAutoSpin),a.Windown.MatTroiView.onClickBtnSpin()},.5):a.Windown.MatTroiView.activeAllBtn()},t.prototype.checkAndShowEffect=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),t=a.Windown.MatTroiView.dataFinish.getBool("Scarter3"),n=a.Windown.MatTroiView.dataFinish.get("numFreeSpin"),this.freeSpinLeft=n,!t&&this.lastFreeSpinLeft<1?(e(null),[2]):t?[4,a.Windown.MatTroiView.effect.showTakeFreeSpin(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return 1==this.lastFreeSpinLeft&&this.freeSpinLeft<1?[4,this.effect.showEndFree(this.moneyTotalFs)]:[3,4];case 3:i.sent(),this.moneyTotalFs=0,this.currentMutilFs=1,i.label=4;case 4:return this.lastFreeSpinLeft=this.freeSpinLeft,e(null),[3,6];case 5:return o=i.sent(),s.Util.ThrowErrProsime(o),[3,6];case 6:return[2]}})})})},t.prototype.showMoneyTotalRevice=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:cc.log("chay vao show total money"),o.label=1;case 1:return o.trys.push([1,3,,4]),t=a.Windown.MatTroiView.dataFinish.get("agWin"),this.lastFreeSpinLeft>0&&(this.moneyTotalFs+=t),a.Windown.MatTroiView.activeMask(!1),t<1?(e(null),[2]):[4,a.Windown.MatTroiView.infoBar.showTotalMoney(t)];case 2:return o.sent(),a.Windown.MatTroiView.showMoneyAllWin(t),e(null),[3,4];case 3:return n=o.sent(),s.Util.ThrowErrProsime(n),[3,4];case 4:return[2]}})})})},t.prototype.showMutliBonusReceive=function(t){var e=this;return new Promise(function(n){return o(e,void 0,void 0,function(){var e;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,c.default.instance.addMultiBonus(t)];case 1:return o.sent(),n(null),[3,3];case 2:return e=o.sent(),s.Util.ThrowErrProsime(e),[3,3];case 3:return[2]}})})})},t.prototype.showMultiBonusTotal=function(t){var e=this;return new Promise(function(n){return o(e,void 0,void 0,function(){var e;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,c.default.instance.addMultiBonusTotal(t)];case 1:return o.sent(),n(null),[3,3];case 2:return e=o.sent(),s.Util.ThrowErrProsime(e),[3,3];case 3:return[2]}})})})},t}();n.default=l,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./EffectControlMatTroi":"EffectControlMatTroi"}],SpinNormalNeko:[function(t,e,n){"use strict";cc._RF.push(e,"b668c7It9NP8rK/57B/PrDE","SpinNormalNeko");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Scritps/DefineTs/StateReelSlot"),s=t("../../../Scritps/Util"),a=t("../../../Scritps/Windown"),c=function(){function t(){this.listFunShowOceLine=[],this.funShowOceLine=null,this.listColum=[],this.effect=null,this.isMaxSpeed=!1,this.isAutoSpin=!1,this.lastAutoSpin=!1,this.countAutoSpin=0,this.lastFreeSpinLeft=0,this.freeSpinLeft=0,this.freeSpinCache=0,this.moneyTotalFs=0,this.curentCountScater=0,this.currentMutilFs=1,this.itemNekoNang=null,this.listColum=a.Windown.Neko.listColum,this.itemNekoNang=a.Windown.Neko.itemSlotNekoNgang,this.effect=a.Windown.Neko.effect}return t.prototype.onStart=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:o.trys.push([0,7,,8]),this.removeAllMutilAdded(),this.itemNekoNang.runSpin(),t=0,o.label=1;case 1:return t<this.listColum.length?(this.listColum[t].runSpin(),this.isMaxSpeed?[3,3]:[4,a.Windown.Neko.getMakeDelay(.025).prosime]):[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return this.isMaxSpeed?[4,a.Windown.Neko.getMakeDelay(.1).prosime]:[3,6];case 5:o.sent(),o.label=6;case 6:return a.Windown.Neko.audio.playEffect(a.Windown.Neko.audio.spinActiveLoop,.5,!0),e(null),[3,8];case 7:return n=o.sent(),s.Util.ThrowErrProsime(n),[3,8];case 8:return[2]}})})})},t.prototype.onEnd=function(){return o(this,void 0,void 0,function(){var t,e,n,o,r,c,l,u;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,15,,16]),t=a.Windown.Neko.listResultConvert,e=a.Windown.Neko.getListActiveScaster(t[0].listSFSObj,t[0].listSFSObjNgang),n=0,o=[],this.isMaxSpeed?[3,2]:(this.itemNekoNang.stopSpin(!1,t[0].listSFSObjNgang),[4,a.Windown.Neko.getMakeDelay(.3).prosime]);case 1:return i.sent(),[3,3];case 2:this.itemNekoNang.stopSpinIsFastSpin(!1,t[0].listSFSObjNgang),i.label=3;case 3:a.Windown.Neko.audio.stopEffect(a.Windown.Neko.audio.spinActiveLoop),r=0,c=this.listColum,i.label=4;case 4:return r<c.length?(l=c[r],this.isMaxSpeed?[3,6]:[4,l.stopSpin(e[n],t[0].listSFSObj[n])]):[3,9];case 5:return i.sent(),[3,7];case 6:o.push(l.stopSpinIsFastSpin(e[n],t[0].listSFSObj[n])),i.label=7;case 7:n++,i.label=8;case 8:return r++,[3,4];case 9:return this.isMaxSpeed?[4,Promise.all(o)]:[3,12];case 10:return i.sent(),[4,a.Windown.Neko.getMakeDelay(.1).prosime];case 11:return i.sent(),[3,14];case 12:return[4,a.Windown.Neko.getMakeDelay(.5).prosime];case 13:i.sent(),i.label=14;case 14:return this.handleStopAllColum(),[3,16];case 15:return u=i.sent(),s.Util.ThrowErrProsime(u),[3,16];case 16:return[2]}})})},t.prototype.handleErrSpin=function(){return o(this,void 0,void 0,function(){var t,e,n,o;return i(this,function(i){switch(i.label){case 0:i.trys.push([0,6,,7]),a.Windown.Neko.audio.stopEffect(a.Windown.Neko.audio.spinActiveLoop),this.itemNekoNang.stopSpin(!1,this.itemNekoNang.result),t=0,e=this.listColum,i.label=1;case 1:return t<e.length?(n=e[t],this.isMaxSpeed?[3,3]:[4,n.stopSpin(!1,n.result)]):[3,5];case 2:return i.sent(),[3,4];case 3:n.stopSpin(!1,n.result),i.label=4;case 4:return t++,[3,1];case 5:return a.Windown.Neko.resetForNewGame(),[3,7];case 6:return o=i.sent(),s.Util.ThrowErrProsime(o),[3,7];case 7:return[2]}})})},t.prototype.onForceEnd=function(){return o(this,void 0,void 0,function(){var t,e,n,o,r,c,l,u;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,3,,4]),a.Windown.Neko.clearAllMakeDelay(),t=a.Windown.Neko.listResultConvert,e=a.Windown.Neko.getListActiveScaster(t[0].listSFSObj,t[0].listSFSObjNgang),n=[],o=0,this.itemNekoNang.forceStopSpin(!1,t[0].listSFSObjNgang),r=0,c=this.listColum;r<c.length;r++)l=c[r],n.push(l.forceStopSpin(e[o],t[0].listSFSObj[o])),o++;return a.Windown.Neko.audio.playEffect(a.Windown.Neko.audio.spinStopQuick),[4,Promise.all(n)];case 1:return i.sent(),[4,a.Windown.Neko.getMakeDelay(.25).prosime];case 2:return i.sent(),this.handleStopAllColum(),[3,4];case 3:return u=i.sent(),s.Util.ThrowErrProsime(u),[3,4];case 4:return[2]}})})},t.prototype.handleStopAllColum=function(){return o(this,void 0,void 0,function(){var t,e,n,o,c;return i(this,function(i){switch(i.label){case 0:i.trys.push([0,14,,15]),a.Windown.Neko.stateReel=r.default.STOP,a.Windown.Neko.setStateEffBtnSpin(),t=a.Windown.Neko.listResultConvert,this.itemNekoNang.getListSymbolResult().forEach(function(t){return t.removeAddScater()}),this.listColum.forEach(function(t){t.getListSymbolResult().forEach(function(t){t.removeAddScater()})}),this.activeAllSymbol(),e=0,n=t.length,i.label=1;case 1:return e<n?(o=t[e],this.curentCountScater=o.countScater,o.listItemWin?[4,this.checkAndShowLineAn(o.listItemWin,o.agWin)]:[3,8]):[3,9];case 2:return i.sent(),[4,this.checkAndShowMutilMeo()];case 3:return i.sent(),[4,this.caculateMutilMoney()];case 4:return i.sent(),[4,a.Windown.Neko.infoBar.showTakeMoneyTurn(o.agWin*o.mutil)];case 5:return i.sent(),this.checkAndRemoveSymbol(o.listItemWin),o.isNoSap?[4,this.addNewSymbol(t[e+1])]:[3,8];case 6:return i.sent(),[4,this.moveAllSymbol()];case 7:i.sent(),i.label=8;case 8:return e++,[3,1];case 9:return[4,this.showMoneyTotalRevice()];case 10:return i.sent(),[4,this.checkAndShowEffect()];case 11:return i.sent(),this.freeSpinLeft>0&&!a.Windown.Neko.dataFinish.getBool("Scarter4")?[4,this.checkAndShowMutilMeo(!0)]:[3,13];case 12:i.sent(),i.label=13;case 13:return this.resetForNextNextSpin(),[3,15];case 14:return c=i.sent(),s.Util.ThrowErrProsime(c),[3,15];case 15:return[2]}})})},t.prototype.removeAllMutilAdded=function(){var t=this;return new Promise(function(e){a.Windown.Neko.resetLbTotalLine(),a.Windown.Neko.muitlCtr.resetForNextSpin(),t.listColum.forEach(function(t){t.getListSymbol().forEach(function(t){t.removeMutilWhenSpin()})}),t.itemNekoNang.getListSymbol().forEach(function(t){t.removeMutilWhenSpin()}),e(null)})},t.prototype.checkAndRemoveSymbol=function(t){for(var e=t.lsIdItem,n=t.lsstack,o=0,i=e.length;o<i;o++){this.itemNekoNang.checkAndRemoveItem(e[o],n[o]);for(var r=0;r<n[o]+1;r++)this.listColum[r].checkAndRemoveItem(e[o],null)}},t.prototype.addNewSymbol=function(t){var e=this;return new Promise(function(n){return o(e,void 0,void 0,function(){var e,o,r;return i(this,function(i){switch(i.label){case 0:for(o in i.trys.push([0,2,,3]),(e=[]).push(this.itemNekoNang.addNewListSymbol(t.listSFSObjNgang)),this.listColum)e.push(this.listColum[o].addNewListSymbol(t.listSFSObj[o]));return[4,Promise.all(e)];case 1:return i.sent(),n(null),[3,3];case 2:return r=i.sent(),s.Util.ThrowErrProsime(r),[3,3];case 3:return[2]}})})})},t.prototype.moveAllSymbol=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o,r;return i(this,function(i){switch(i.label){case 0:for(o in i.trys.push([0,2,,3]),t=0,(n=[]).push(this.itemNekoNang.moveAllSymbol(t)),this.itemNekoNang.checkIsNorSap()&&t++,this.listColum)n.push(this.listColum[o].moveAllSymbol(t)),this.listColum[o].checkIsNorSap()&&t++;return[4,Promise.all(n)];case 1:return i.sent(),e(null),[3,3];case 2:return r=i.sent(),s.Util.ThrowErrProsime(r),[3,3];case 3:return[2]}})})})},t.prototype.checkAndShowMutilMeo=function(t){var e=this;return new Promise(function(n){return o(e,void 0,void 0,function(){var e;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,a.Windown.Neko.muitlCtr.checkTakeMultil(t)];case 1:return o.sent(),n(null),[3,3];case 2:return e=o.sent(),s.Util.ThrowErrProsime(e),[3,3];case 3:return[2]}})})})},t.prototype.caculateMutilMoney=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,a.Windown.Neko.muitlCtr.endTakeMultil()];case 1:return n.sent(),e(null),[3,3];case 2:return t=n.sent(),s.Util.ThrowErrProsime(t),[3,3];case 3:return[2]}})})})},t.prototype.offAllSymbol=function(t){void 0===t&&(t=!0),this.isMaxSpeed||(this.listColum.forEach(function(e){e.offAllSymbol(t)}),this.itemNekoNang.offAllSymbol(t)),a.Windown.Neko.activeMask(!0)},t.prototype.activeAllSymbol=function(){this.isMaxSpeed||(this.listColum.forEach(function(t){t.activeAllSymbol()}),this.itemNekoNang.activeAllSymbol()),a.Windown.Neko.activeMask(!1)},t.prototype.checkAndShowLineAn=function(t,e){var n=this;return this.offAllSymbol(),new Promise(function(r){return o(n,void 0,void 0,function(){var n,o,c,l,u,p,h;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,3,,4]),n=t.lsIdItem,o=t.lsstack,c=t.lsAgWin,a.Windown.Neko.audio.playEffectNoStop(a.Windown.Neko.audio.prizePayoutHighlightStart),l=0,u=n.length;l<u;l++){for(this.itemNekoNang.checkItemWin(n[l],o[l]),p=0;p<o[l]+1;p++)this.listColum[p].checkItemWin(n[l],null);c[l]}return[4,a.Windown.Neko.getMakeDelay(.5).prosime];case 1:return i.sent(),[4,a.Windown.Neko.infoBar.showTakeMoney(e)];case 2:return i.sent(),r(null),[3,4];case 3:return h=i.sent(),s.Util.ThrowErrProsime(h),[3,4];case 4:return[2]}})})})},t.prototype.resetForNextNextSpin=function(){var t=this;cc.log("reset nor nex"),this.itemNekoNang.getListSymbolResult().forEach(function(t){return t.removeAddScater(!0)}),this.listColum.forEach(function(t){t.getListSymbolResult().forEach(function(t){t.removeAddScater(!0)})}),a.Windown.Neko.resetForNewGame(),this.freeSpinLeft>0?a.Windown.Neko.scheduleOnce(function(){a.Windown.Neko.setLbFreeSpinLeft(t.freeSpinLeft-1),a.Windown.Neko.onClickBtnSpin()},.5):this.countAutoSpin>0?a.Windown.Neko.scheduleOnce(function(){t.countAutoSpin--,a.Windown.Neko.setCountAuto(t.countAutoSpin),a.Windown.Neko.onClickBtnSpin()},.5):a.Windown.Neko.activeAllBtn()},t.prototype.checkAndShowEffect=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),t=a.Windown.Neko.dataFinish.getBool("Scarter4"),n=a.Windown.Neko.dataFinish.get("numFreeSpin"),this.freeSpinLeft=n,!t&&this.lastFreeSpinLeft<1?(e(null),[2]):t?[4,a.Windown.Neko.effect.showTakeFreeSpin(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return 1==this.lastFreeSpinLeft&&this.freeSpinLeft<1?[4,this.effect.showEndFree(this.moneyTotalFs)]:[3,4];case 3:i.sent(),this.moneyTotalFs=0,this.currentMutilFs=1,i.label=4;case 4:return this.lastFreeSpinLeft=this.freeSpinLeft,e(null),[3,6];case 5:return o=i.sent(),s.Util.ThrowErrProsime(o),[3,6];case 6:return[2]}})})})},t.prototype.showMoneyTotalRevice=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=a.Windown.Neko.dataFinish.get("agWin"),this.lastFreeSpinLeft>0&&(this.moneyTotalFs+=t),a.Windown.Neko.activeMask(!1),this.listColum.forEach(function(t){t.activeAllSymbol()}),t<1?(e(null),[2]):[4,a.Windown.Neko.infoBar.showTotalMoney(t)];case 1:return o.sent(),a.Windown.Neko.showMoneyAllWin(t),cc.log("chay vao end show total money"),e(null),[3,3];case 2:return n=o.sent(),s.Util.ThrowErrProsime(n),[3,3];case 3:return[2]}})})})},t}();n.default=c,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],SpinNormalNgoKhong:[function(t,e,n){"use strict";cc._RF.push(e,"5972b8gRddBX6n5S9kpD82t","SpinNormalNgoKhong");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Scritps/DefineTs/StateReelSlot"),s=t("../../../Scritps/Util"),a=t("../../../Scritps/Windown"),c=function(){function t(){this.listFunShowOceLine=[],this.funShowOceLine=null,this.listColum=[],this.effect=null,this.isMaxSpeed=!1,this.isAutoSpin=!1,this.lastAutoSpin=!1,this.countAutoSpin=0,this.lastFreeSpinLeft=0,this.freeSpinLeft=0,this.freeSpinCache=0,this.moneyTotalFs=0,this.curentCountScater=0,this.currentMutilFs=1,this.listColum=a.Windown.NgoKhong.listColum,this.effect=a.Windown.NgoKhong.effect}return t.prototype.onStart=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,8,,9]),a.Windown.NgoKhong.audio.playEffect(a.Windown.NgoKhong.audio.slot_scrolling),[4,this.removeAllSymbolAdded()];case 1:o.sent(),t=0,o.label=2;case 2:return t<this.listColum.length?(this.listColum[t].runSpin(),this.isMaxSpeed?[3,4]:[4,a.Windown.NgoKhong.getMakeDelay(.025).prosime]):[3,5];case 3:o.sent(),o.label=4;case 4:return t++,[3,2];case 5:return this.isMaxSpeed?[4,a.Windown.NgoKhong.getMakeDelay(.1).prosime]:[3,7];case 6:o.sent(),o.label=7;case 7:return e(null),[3,9];case 8:return n=o.sent(),s.Util.ThrowErrProsime(n),[3,9];case 9:return[2]}})})})},t.prototype.onEnd=function(){return o(this,void 0,void 0,function(){var t,e,n,o,r,c,l,u;return i(this,function(i){switch(i.label){case 0:i.trys.push([0,10,,11]),t=a.Windown.NgoKhong.listResultConvert,e=a.Windown.NgoKhong.getListActiveScaster(t[0].listIdSymbol),n=0,o=[],r=0,c=this.listColum,i.label=1;case 1:return r<c.length?(l=c[r],this.isMaxSpeed?[3,3]:[4,l.stopSpin(e[n],t[0].listIdSymbol[n])]):[3,6];case 2:return i.sent(),[3,4];case 3:o.push(l.stopSpin(e[n],t[0].listIdSymbol[n])),i.label=4;case 4:n++,i.label=5;case 5:return r++,[3,1];case 6:return this.isMaxSpeed?[4,Promise.all(o)]:[3,9];case 7:return i.sent(),[4,a.Windown.NgoKhong.getMakeDelay(.25).prosime];case 8:i.sent(),i.label=9;case 9:return a.Windown.NgoKhong.audio.stopEffect(a.Windown.NgoKhong.audio.slot_scrolling),this.handleStopAllColum(),[3,11];case 10:return u=i.sent(),s.Util.ThrowErrProsime(u),[3,11];case 11:return[2]}})})},t.prototype.handleErrSpin=function(){return o(this,void 0,void 0,function(){var t,e,n,o;return i(this,function(i){switch(i.label){case 0:i.trys.push([0,6,,7]),a.Windown.NgoKhong.audio.stopEffect(a.Windown.NgoKhong.audio.slot_scrolling),t=0,e=this.listColum,i.label=1;case 1:return t<e.length?(n=e[t],this.isMaxSpeed?[3,3]:[4,n.stopSpin(!1,n.result)]):[3,5];case 2:return i.sent(),[3,4];case 3:n.stopSpin(!1,n.result),i.label=4;case 4:return t++,[3,1];case 5:return a.Windown.NgoKhong.resetForNewGame(),[3,7];case 6:return o=i.sent(),s.Util.ThrowErrProsime(o),[3,7];case 7:return[2]}})})},t.prototype.handleStopAllColum=function(){return o(this,void 0,void 0,function(){var t,e,n,o,c;return i(this,function(i){switch(i.label){case 0:i.trys.push([0,11,,12]),a.Windown.NgoKhong.stateReel=r.default.STOP,a.Windown.NgoKhong.setStateEffBtnSpin(),t=a.Windown.NgoKhong.listResultConvert,e=0,n=t.length,i.label=1;case 1:return e<n?(o=t[e],this.curentCountScater=o.countScater,o.isNoSap||e==n-1?[3,3]:[4,this.checkAndShowGayNhuY(t[e].listIdSymbol,t[e+1].listIdSymbol)]):[3,8];case 2:return i.sent(),[3,5];case 3:return o.listItemWin?[4,this.checkAndShowLineAn(o.listItemWin)]:[3,5];case 4:i.sent(),i.label=5;case 5:return o.isNoSap?[4,this.effectNoSap(t[e+1].listIdSymbol)]:[3,7];case 6:i.sent(),i.label=7;case 7:return e++,[3,1];case 8:return[4,this.showMoneyTotalRevice()];case 9:return i.sent(),[4,this.checkAndShowEffect()];case 10:return i.sent(),this.resetForNextNextSpin(),[3,12];case 11:return c=i.sent(),s.Util.ThrowErrProsime(c),[3,12];case 12:return[2]}})})},t.prototype.checkAndShowGayNhuY=function(t,e){var n=this;return new Promise(function(r){return o(n,void 0,void 0,function(){var n,o,c,l,u,p,h,d;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,10,,11]),n=a.Windown.NgoKhong.listColum,o=0;o<n.length;o++)n[o].offAllSymbol();for(l in a.Windown.NgoKhong.activeMask(!0),c=[],t)c.push(l);u=0,i.label=1;case 1:return u<c.length?(p=c[u],(h=t[p].indexOf(11))>-1?[4,this.listColum[p].showGayNhuY([e[p][h],e[p][h+1]])]:[3,3]):[3,4];case 2:i.sent(),i.label=3;case 3:return u++,[3,1];case 4:return this.isMaxSpeed?[4,a.Windown.NgoKhong.getMakeDelay(.5).prosime]:[3,6];case 5:return i.sent(),[3,8];case 6:return[4,a.Windown.NgoKhong.getMakeDelay(2).prosime];case 7:i.sent(),i.label=8;case 8:return a.Windown.NgoKhong.activeMask(!1),this.listColum.forEach(function(t){t.activeAllSymbol()}),[4,a.Windown.NgoKhong.getMakeDelay(.3).prosime];case 9:return i.sent(),r(null),[3,11];case 10:return d=i.sent(),s.Util.ThrowErrProsime(d),[3,11];case 11:return[2]}})})})},t.prototype.effectNoSap=function(t){var e=this;return new Promise(function(n){return o(e,void 0,void 0,function(){var e,o,r,c;return i(this,function(i){switch(i.label){case 0:for(r in i.trys.push([0,2,,3]),e=0,o=[],this.listColum)this.listColum[r].checkIsNoSap(t[r])&&(o.push(this.listColum[r].addNewListSymbol(t[r],e)),e++);return[4,Promise.all(o)];case 1:return i.sent(),this.lastFreeSpinLeft>0&&(this.currentMutilFs++,a.Windown.NgoKhong.effect.effectMutilUp(this.currentMutilFs)),n(null),[3,3];case 2:return c=i.sent(),s.Util.ThrowErrProsime(c),[3,3];case 3:return[2]}})})})},t.prototype.checkAndShowLineAn=function(t){var e=this;return cc.log("checkAndShowLineAn"),this.isMaxSpeed||this.listColum.forEach(function(t){t.offAllSymbol()}),a.Windown.NgoKhong.activeMask(!0),new Promise(function(n){return o(e,void 0,void 0,function(){var e,o,r,c,l,u,p,h;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,6,,7]),a.Windown.NgoKhong.audio.playEffect(a.Windown.NgoKhong.audio.prizeSmallwin),e=0,o=t.lsIdItem,r=t.lsstack,c=t.lsAgWin,l=0,u=o.length;l<u;l++){for(p=0;p<r[l]+1;p++)this.listColum[p].checkItemWin(o[l]);e+=c[l]}return a.Windown.NgoKhong.infoBar.showTakeMoneyTurn(e*this.currentMutilFs,this.currentMutilFs),this.isMaxSpeed?[3,3]:(a.Windown.NgoKhong.audio.playIndexTakeLine(),[4,a.Windown.NgoKhong.getMakeDelay(1.2).prosime]);case 1:return i.sent(),a.Windown.NgoKhong.audio.playEffect(a.Windown.NgoKhong.audio.heartbeatSlowdrop,.6),a.Windown.NgoKhong.activeMask(!1),this.listColum.forEach(function(t){t.activeAllSymbol()}),[4,a.Windown.NgoKhong.getMakeDelay(1).prosime];case 2:return i.sent(),[3,5];case 3:return a.Windown.NgoKhong.audio.playEffect(a.Windown.NgoKhong.audio.heartbeatSlowdrop,.6),[4,a.Windown.NgoKhong.getMakeDelay(1).prosime];case 4:i.sent(),i.label=5;case 5:return n(null),[3,7];case 6:return h=i.sent(),s.Util.ThrowErrProsime(h),[3,7];case 7:return[2]}})})})},t.prototype.removeAllSymbolAdded=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),this.listColum.forEach(function(t){t.getListSymbol().forEach(function(t){t.removeNodeScater(!0)})}),this.freeSpinLeft>0&&this.lastFreeSpinLeft==this.freeSpinLeft?(e(null),[2]):(t=a.Windown.NgoKhong.listKhung,n=!1,t.forEach(function(t){0!=t.currentIndex&&(t.currentIndex=0,n=!0)}),n?(a.Windown.NgoKhong.audio.playEffect(a.Windown.NgoKhong.audio.reelReset,.7),this.listColum.forEach(function(t){t.removeAddSymbolAdded()}),t.forEach(function(t){t.emitNewSize()}),a.Windown.NgoKhong.emitNewScale(),[4,a.Windown.NgoKhong.getMakeDelay(.2).prosime]):(e(null),[2]));case 1:return i.sent(),e(null),[3,3];case 2:return o=i.sent(),s.Util.ThrowErrProsime(o),[3,3];case 3:return[2]}})})})},t.prototype.resetForNextNextSpin=function(){var t=this;cc.log("reset nor nex"),this.listFunShowOceLine=[],a.Windown.NgoKhong.resetForNewGame(),this.freeSpinLeft>0?a.Windown.NgoKhong.scheduleOnce(function(){a.Windown.NgoKhong.setLbFreeSpinLeft(t.freeSpinLeft-1),a.Windown.NgoKhong.onClickBtnSpin()},.5):this.countAutoSpin>0?a.Windown.NgoKhong.scheduleOnce(function(){t.countAutoSpin--,a.Windown.NgoKhong.setCountAuto(t.countAutoSpin),a.Windown.NgoKhong.onClickBtnSpin()},.5):a.Windown.NgoKhong.activeAllBtn()},t.prototype.checkAndShowEffect=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),t=a.Windown.NgoKhong.dataFinish.getBool("Scarter3"),n=a.Windown.NgoKhong.dataFinish.get("numFreeSpin"),this.freeSpinLeft=n,!t&&this.lastFreeSpinLeft<1?(e(null),[2]):t?[4,a.Windown.NgoKhong.effect.showTakeFreeSpin(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return 1==this.lastFreeSpinLeft&&this.freeSpinLeft<1?[4,this.effect.showEndFree(this.moneyTotalFs)]:[3,4];case 3:i.sent(),this.moneyTotalFs=0,this.currentMutilFs=1,i.label=4;case 4:return this.lastFreeSpinLeft=this.freeSpinLeft,e(null),[3,6];case 5:return o=i.sent(),s.Util.ThrowErrProsime(o),[3,6];case 6:return[2]}})})})},t.prototype.showMoneyTotalRevice=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=a.Windown.NgoKhong.dataFinish.get("agWin"),this.lastFreeSpinLeft>0&&(this.moneyTotalFs+=t),a.Windown.NgoKhong.activeMask(!1),this.listColum.forEach(function(t){t.activeAllSymbol()}),t<1?(e(null),[2]):[4,a.Windown.NgoKhong.infoBar.showTotalMoney(t)];case 1:return o.sent(),a.Windown.NgoKhong.showMoneyAllWin(t),cc.log("chay vao end show total money"),e(null),[3,3];case 2:return n=o.sent(),s.Util.ThrowErrProsime(n),[3,3];case 3:return[2]}})})})},t.prototype.checkCointainLuBo=function(){},t.prototype.checkContainDongChac=function(){},t}();n.default=c,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],SpinNormalQuyBa:[function(t,e,n){"use strict";cc._RF.push(e,"8efd9R3aZJEQKqNK6qI3Vnw","SpinNormalQuyBa");var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.SpinNormalQuyBa=void 0;var s=t("../../../Scritps/DefineTs/StateReelSlot"),a=t("../../../Scritps/Windown"),c=t("../../../Scritps/Util"),l=cc._decorator,u=l.ccclass,p=(l.property,function(){function t(){this.listFunShowOceLine=[],this.funShowOceLine=null,this.listColum=[],this.effect=null,this.isMaxSpeed=!1,this.isAutoSpin=!1,this.lastAutoSpin=!1,this.countAutoSpin=0,this.lastFreeSpinLeft=0,this.freeSpinLeft=0,this.freeSpinCache=0,this.moneyTotalFs=0,this.curentCountScater=0,this.isShowNearWin=!1,this.listColum=a.Windown.QuyBa.listColum,this.effect=a.Windown.QuyBa.effect}return t.prototype.start=function(){},t.prototype.update=function(){},t.prototype.activeAllSymbol=function(){a.Windown.QuyBa.activeMask(!1)},t.prototype.onStart=function(){var t=this;return new Promise(function(e){return i(t,void 0,void 0,function(){var t,n,o;return r(this,function(i){switch(i.label){case 0:i.trys.push([0,8,,9]),this.removeAllMutilAdded(),t=.05,n=0,i.label=1;case 1:return n<this.listColum.length?(0==n&&a.Windown.QuyBa.audio.playEffect(a.Windown.QuyBa.audio.spinActiveLoop,.7,!0),this.isMaxSpeed?[3,3]:[4,a.Windown.QuyBa.getMakeDelay(t*n).prosime]):[3,5];case 2:i.sent(),i.label=3;case 3:t-=.012,this.listColum[n].runSpin(),i.label=4;case 4:return n++,[3,1];case 5:return this.isMaxSpeed?[4,a.Windown.QuyBa.getMakeDelay(.2).prosime]:[3,7];case 6:i.sent(),i.label=7;case 7:return[3,9];case 8:return o=i.sent(),c.Util.ThrowErrProsime(o),[3,9];case 9:return e(null),[2]}})})})},t.prototype.removeAllMutilAdded=function(){var t=this;return new Promise(function(e){a.Windown.QuyBa.resetLbTotalLine(),t.listColum.forEach(function(t){t.getListSymbol().forEach(function(t){t.removeAddScater(0)})}),e(null)})},t.prototype.checkIsNearFS=function(){return this.isShowNearWin},t.prototype.handleErrSpin=function(){return i(this,void 0,void 0,function(){var t,e,n;return r(this,function(o){switch(o.label){case 0:a.Windown.QuyBa.audio.stopEffect(a.Windown.QuyBa.audio.spinActiveLoop),t=0,e=this.listColum,o.label=1;case 1:return t<e.length?(n=e[t],this.isMaxSpeed?[3,3]:[4,a.Windown.QuyBa.getPromise(n.stopSpin(!1,n.result))]):[3,5];case 2:return o.sent(),[3,4];case 3:n.stopSpin(!1,n.result),o.label=4;case 4:return t++,[3,1];case 5:return a.Windown.QuyBa.resetForNewGame(),[2]}})})},t.prototype.onEnd=function(){return i(this,void 0,void 0,function(){var t,e,n,o,i,l,u,p,h,d;return r(this,function(r){switch(r.label){case 0:for(r.trys.push([0,12,,13]),t=a.Windown.QuyBa.listResultConvert,e=a.Windown.QuyBa.getListActiveScaster(t[0].listSFSObj),n=0,o=[],this.isShowNearWin=!1,i=0,l=e;i<l.length;i++)if(h=l[i]){this.isShowNearWin=!0;break}this.curentCountScater=t[0].countScater,u=0,p=this.listColum,r.label=1;case 1:return u<p.length?(h=p[u],this.isMaxSpeed?[3,3]:[4,a.Windown.QuyBa.getPromise(h.stopSpin(e[n],t[0].listSFSObj[n]))]):[3,6];case 2:return r.sent(),[3,4];case 3:o.push(h.stopSpinIsFastSpin(e[n],t[0].listSFSObj[n])),r.label=4;case 4:n++,r.label=5;case 5:return u++,[3,1];case 6:return this.isMaxSpeed?[4,a.Windown.QuyBa.getPromiseAll(o)]:[3,9];case 7:return r.sent(),[4,a.Windown.QuyBa.getMakeDelay(.1).prosime];case 8:return r.sent(),[3,11];case 9:return[4,a.Windown.QuyBa.getMakeDelay(.5).prosime];case 10:r.sent(),r.label=11;case 11:return a.Windown.QuyBa.stateReel!=s.default.RUN&&this.handleStopAllColum(),[3,13];case 12:return d=r.sent(),c.Util.ThrowErrProsime(d),[3,13];case 13:return[2]}})})},t.prototype.handleStopAllColum=function(){return i(this,void 0,void 0,function(){var t,e,n,o,i,l;return r(this,function(r){switch(r.label){case 0:if(r.trys.push([0,21,,22]),a.Windown.QuyBa.stateReel==s.default.STOP)return[2];a.Windown.QuyBa.audio.stopEffect(a.Windown.QuyBa.audio.spinActiveLoop),a.Windown.QuyBa.stateReel=s.default.STOP,a.Windown.QuyBa.setStateEffBtnSpin(),t=a.Windown.QuyBa.listResultConvert,this.activeAllSymbol(),console.log("handleStopAllColum: "),a.Windown.QuyBa.infoBar.offOneMoreScater(),a.Windown.QuyBa.infoBar.showRdContent(),e=0,n=t.length,r.label=1;case 1:return e<n?(o=t[e],this.curentCountScater=o.countScater,o.listItemWin?(a.Windown.QuyBa.getPromise(a.Windown.QuyBa.multiBottleControl.mutilUpReel(o.listItemWin)),[4,a.Windown.QuyBa.getPromise(this.checkAndShowLineAn(o.listItemWin,o.agWin))]):[3,14]):[3,16];case 2:return r.sent(),[4,a.Windown.QuyBa.getPromise(this.checkAndRemoveSymbol(o.listItemWin,o.view))];case 3:return r.sent(),[4,a.Windown.QuyBa.multiBottleControl.multiTakeEffect(o.view,o.listItemWin)];case 4:return r.sent(),[4,a.Windown.QuyBa.infoBar.showTakeMoneyTurn(o.agWin*o.mutil,o.mutil)];case 5:return r.sent(),i=[],o.isNoSap?[4,a.Windown.QuyBa.getMakeDelay(a.Windown.QuyBa.stateSpin.isMaxSpeed?.2:0).prosime]:[3,11];case 6:return r.sent(),[4,a.Windown.QuyBa.getPromise(this.addNewSymbol(t[e+1]))];case 7:return r.sent(),i.push(a.Windown.QuyBa.multiBottleControl.updatePositionBottle(t[e+1].listReelMul)),[4,a.Windown.QuyBa.getPromise(this.moveSymbolInView())];case 8:return r.sent(),[4,a.Windown.QuyBa.getPromise(a.Windown.QuyBa.effect.activeNearWinNoSap())];case 9:return r.sent(),a.Windown.QuyBa.infoBar.isShowOneMoreScater=!1,[4,a.Windown.QuyBa.getPromise(this.moveSymbolNew())];case 10:r.sent(),r.label=11;case 11:return i.length>0?[4,a.Windown.QuyBa.getPromiseAll(i)]:[3,13];case 12:r.sent(),r.label=13;case 13:return[3,15];case 14:a.Windown.QuyBa.multiBottleControl.updateBonus(t[e].listReelMul),r.label=15;case 15:return e++,[3,1];case 16:return this.isMaxSpeed?[3,18]:[4,a.Windown.QuyBa.getMakeDelay(.4).prosime];case 17:r.sent(),r.label=18;case 18:return[4,a.Windown.QuyBa.getPromise(this.showMoneyTotalRevice())];case 19:return r.sent(),[4,a.Windown.QuyBa.getPromise(this.checkAndShowEffect())];case 20:return r.sent(),this.resetForNextNextSpin(),[3,22];case 21:return l=r.sent(),c.Util.ThrowErrProsime(l),[3,22];case 22:return[2]}})})},t.prototype.resetForNextNextSpin=function(){var t=this;if(a.Windown.QuyBa.resetForNewGame(),this.freeSpinLeft>0)a.Windown.QuyBa.scheduleOnce(function(){a.Windown.QuyBa.setLbFreeSpinLeft(t.freeSpinLeft-1),a.Windown.QuyBa.onClickBtnSpin()},.5);else if(this.countAutoSpin>0){var e=a.Windown.QuyBa.stateSpin.isMaxSpeed?2:1;a.Windown.QuyBa.scheduleOnce(function(){t.countAutoSpin--,a.Windown.QuyBa.setCountAuto(t.countAutoSpin),a.Windown.QuyBa.onClickBtnSpin()},.5/e)}else a.Windown.QuyBa.activeAllBtn()},t.prototype.showMoneyTotalRevice=function(){var t=this;return new Promise(function(e){return i(t,void 0,void 0,function(){var t,n;return r(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=a.Windown.QuyBa.dataFinish.agWin,this.lastFreeSpinLeft>0&&(this.moneyTotalFs+=t),a.Windown.QuyBa.activeMask(!1),t<1?(e(null),[2]):[4,a.Windown.QuyBa.getPromise(a.Windown.QuyBa.infoBar.showTotalMoney(t))];case 1:return o.sent(),a.Windown.QuyBa.showMoneyAllWin(t),e(null),[3,3];case 2:return n=o.sent(),c.Util.ThrowErrProsime(n),[3,3];case 3:return[2]}})})})},t.prototype.moveSymbolNew=function(){var t=this;return new Promise(function(e){return i(t,void 0,void 0,function(){var t,n,o,i,s,l;return r(this,function(r){switch(r.label){case 0:for(o in r.trys.push([0,7,,8]),t=[],n=[],this.listColum)n.push(o);i=0,r.label=1;case 1:return i<n.length?(s=n[i],a.Windown.QuyBa.nearWinNoSap.active?[4,a.Windown.QuyBa.getPromise(this.listColum[s].moveSymbolNew())]:[3,3]):[3,5];case 2:return r.sent(),[3,4];case 3:t.push(this.listColum[s].moveSymbolNew()),r.label=4;case 4:return i++,[3,1];case 5:return[4,a.Windown.QuyBa.getPromiseAll(t)];case 6:return r.sent(),a.Windown.QuyBa.nearWinNoSap.active=!1,e(null),[3,8];case 7:return l=r.sent(),c.Util.ThrowErrProsime(l),[3,8];case 8:return[2]}})})})},t.prototype.moveSymbolInView=function(){var t=this;return new Promise(function(e){return i(t,void 0,void 0,function(){var t,n,o;return r(this,function(i){switch(i.label){case 0:for(n in i.trys.push([0,2,,3]),t=[],this.listColum)t.push(this.listColum[n].moveSymbolInView());return[4,a.Windown.QuyBa.getPromiseAll(t)];case 1:return i.sent(),e(null),[3,3];case 2:return o=i.sent(),c.Util.ThrowErrProsime(o),[3,3];case 3:return[2]}})})})},t.prototype.addNewSymbol=function(t){var e=this;return new Promise(function(n){return i(e,void 0,void 0,function(){var e,o,i;return r(this,function(r){switch(r.label){case 0:for(o in r.trys.push([0,2,,3]),e=[],this.listColum)e.push(this.listColum[o].addNewListSymbol(t.listSFSObj[o]));return[4,a.Windown.QuyBa.getPromiseAll(e)];case 1:return r.sent(),n(null),[3,3];case 2:return i=r.sent(),c.Util.ThrowErrProsime(i),[3,3];case 3:return[2]}})})})},t.prototype.checkAndRemoveSymbol=function(t){var e=this;return new Promise(function(n){return i(e,void 0,void 0,function(){var e,o,i,s,a;return r(this,function(){try{for(this.activeAllSymbol(),e=t.lsIdItem,o=t.lsstack,i=0,s=e.length;i<s;i++)for(a=0;a<o[i]+1;a++)this.listColum[a].checkAndRemoveItem(e[i],0);n(null)}catch(r){c.Util.ThrowErrProsime(r)}return[2]})})})},t.prototype.checkAndShowEffect=function(){var t=this;return new Promise(function(e){return i(t,void 0,void 0,function(){var t,n,o;return r(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),t=a.Windown.QuyBa.dataFinish.Scarter4,n=a.Windown.QuyBa.dataFinish.numFreeSpin,this.freeSpinLeft=n,!t&&this.lastFreeSpinLeft<1?(e(null),[2]):t?[4,a.Windown.QuyBa.getPromise(a.Windown.QuyBa.effect.showTakeFreeSpin(n))]:[3,2];case 1:i.sent(),i.label=2;case 2:return 1==this.lastFreeSpinLeft&&this.freeSpinLeft<1?[4,a.Windown.QuyBa.getPromise(this.effect.showEndFree(this.moneyTotalFs))]:[3,4];case 3:i.sent(),this.moneyTotalFs=0,i.label=4;case 4:return this.lastFreeSpinLeft=this.freeSpinLeft,e(null),[3,6];case 5:return o=i.sent(),c.Util.ThrowErrProsime(o),[3,6];case 6:return[2]}})})})},t.prototype.checkAndShowLineAn=function(t,e){var n=this;return new Promise(function(o){return i(n,void 0,void 0,function(){var n,i,s,l,u,p,h,d,f;return r(this,function(r){switch(r.label){case 0:for(r.trys.push([0,3,,4]),this.offAllSymbol(),n=t.lsIdItem,i=t.lsstack,s=t.lsAgWin,l=[],u=0,p=n.length;u<p;u++){for(h=0;h<i[u]+1;h++)d=this.listColum[h],l.push(d.checkItemWin(n[u],i[u]));s[u]}return[4,a.Windown.QuyBa.getPromiseAll(l)];case 1:return r.sent(),[4,a.Windown.QuyBa.getPromise(a.Windown.QuyBa.infoBar.showTakeMoney(e))];case 2:return r.sent(),o(null),[3,4];case 3:return f=r.sent(),c.Util.ThrowErrProsime(f),[3,4];case 4:return[2]}})})})},t.prototype.onForceEnd=function(){return i(this,void 0,void 0,function(){var t,e,n,o,i,s,l,u;return r(this,function(r){switch(r.label){case 0:for(r.trys.push([0,3,,4]),a.Windown.QuyBa.clearAllMakeDelay(),t=a.Windown.QuyBa.listResultConvert,e=a.Windown.QuyBa.getListActiveScaster(t[0].listSFSObj),n=[],o=0,i=0,s=this.listColum;i<s.length;i++)l=s[i],n.push(l.forceStopSpin(e[o],t[0].listSFSObj[o])),o++;return a.Windown.QuyBa.audio.playEffect(a.Windown.QuyBa.audio.spinStopQuick),[4,a.Windown.QuyBa.getPromiseAll(n)];case 1:return r.sent(),[4,a.Windown.QuyBa.getMakeDelay(.25).prosime];case 2:return r.sent(),this.handleStopAllColum(),[3,4];case 3:return u=r.sent(),c.Util.ThrowErrProsime(u),[3,4];case 4:return[2]}})})},t.prototype.offAllSymbol=function(t){void 0===t&&(t=!0),a.Windown.QuyBa.activeMask(!0)},o([u("SpinNormalQuyBa")],t)}());n.SpinNormalQuyBa=p,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],SpinNormalRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"35b8epwyL5EBaBDt2QI4Jtm","SpinNormalRungRam");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Scritps/DefineTs/StateReelSlot"),s=t("../../../Scritps/Util"),a=t("../../../Scritps/Windown"),c=function(){function t(){this.listFunShowOceLine=[],this.funShowOceLine=null,this.listColum=[],this.effect=null,this.isMaxSpeed=!1,this.isAutoSpin=!1,this.lastAutoSpin=!1,this.countAutoSpin=0,this.lastFreeSpinLeft=0,this.freeSpinLeft=0,this.freeSpinCache=0,this.moneyTotalFs=0,this.curentCountScater=0,this.isShowNearWin=!1,this.itemRungRamNang=null,this.listColum=a.Windown.RungRam.listColum,this.itemRungRamNang=a.Windown.RungRam.itemSlotRungRamNgang,this.effect=a.Windown.RungRam.effect}return t.prototype.onStart=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:o.trys.push([0,5,,6]),this.removeAllMutilAdded(),this.itemRungRamNang.runSpin(),t=0,o.label=1;case 1:return t<this.listColum.length?(this.listColum[t].runSpin(),this.isMaxSpeed?[3,3]:[4,a.Windown.RungRam.getMakeDelay(.025).prosime]):[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return a.Windown.RungRam.audio.playEffect(a.Windown.RungRam.audio.spinActiveLoop,.5,!0),[3,6];case 5:return n=o.sent(),s.Util.ThrowErrProsime(n),[3,6];case 6:return e(null),[2]}})})})},t.prototype.onEnd=function(){return o(this,void 0,void 0,function(){var t,e,n,o,c,l,u,p,h,d;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,15,,16]),cc.log("onend:========"),t=a.Windown.RungRam.listResultConvert,e=a.Windown.RungRam.getListActiveScaster(t[0].listSFSObj,t[0].listSFSObjNgang),n=0,o=[],this.isShowNearWin=!1,c=0,l=e;c<l.length;c++)if(h=l[c]){this.isShowNearWin=!0;break}return this.curentCountScater=t[0].countScater,this.isMaxSpeed?[3,2]:(this.itemRungRamNang.stopSpin(!1,t[0].listSFSObjNgang),[4,a.Windown.RungRam.getMakeDelay(.3).prosime]);case 1:return i.sent(),[3,3];case 2:this.itemRungRamNang.stopSpinIsFastSpin(!1,t[0].listSFSObjNgang),i.label=3;case 3:a.Windown.RungRam.audio.stopEffect(a.Windown.RungRam.audio.spinActiveLoop),u=0,p=this.listColum,i.label=4;case 4:return u<p.length?(h=p[u],this.isMaxSpeed?[3,6]:[4,h.stopSpin(e[n],t[0].listSFSObj[n])]):[3,9];case 5:return i.sent(),[3,7];case 6:o.push(h.stopSpinIsFastSpin(e[n],t[0].listSFSObj[n])),i.label=7;case 7:n++,i.label=8;case 8:return u++,[3,4];case 9:return this.isMaxSpeed?[4,Promise.all(o)]:[3,12];case 10:return i.sent(),[4,a.Windown.RungRam.getMakeDelay(.1).prosime];case 11:return i.sent(),[3,14];case 12:return[4,a.Windown.RungRam.getMakeDelay(.5).prosime];case 13:i.sent(),i.label=14;case 14:return a.Windown.RungRam.stateReel!=r.default.RUN&&this.handleStopAllColum(),[3,16];case 15:return d=i.sent(),s.Util.ThrowErrProsime(d),[3,16];case 16:return[2]}})})},t.prototype.handleErrSpin=function(){return o(this,void 0,void 0,function(){var t,e,n;return i(this,function(o){switch(o.label){case 0:a.Windown.RungRam.audio.stopEffect(a.Windown.RungRam.audio.spinActiveLoop),this.itemRungRamNang.stopSpin(!1,this.itemRungRamNang.result),t=0,e=this.listColum,o.label=1;case 1:return t<e.length?(n=e[t],this.isMaxSpeed?[3,3]:[4,n.stopSpin(!1,n.result)]):[3,5];case 2:return o.sent(),[3,4];case 3:n.stopSpin(!1,n.result),o.label=4;case 4:return t++,[3,1];case 5:return a.Windown.RungRam.resetForNewGame(),[2]}})})},t.prototype.onForceEnd=function(){return o(this,void 0,void 0,function(){var t,e,n,o,r,c,l,u;return i(this,function(i){switch(i.label){case 0:cc.log("onForceEnd"),i.label=1;case 1:for(i.trys.push([1,4,,5]),a.Windown.RungRam.clearAllMakeDelay(),t=a.Windown.RungRam.listResultConvert,e=a.Windown.RungRam.getListActiveScaster(t[0].listSFSObj,t[0].listSFSObjNgang),n=[],o=0,this.itemRungRamNang.forceStopSpin(!1,t[0].listSFSObjNgang),r=0,c=this.listColum;r<c.length;r++)l=c[r],n.push(l.forceStopSpin(e[o],t[0].listSFSObj[o])),o++;return a.Windown.RungRam.audio.playEffect(a.Windown.RungRam.audio.spinStopQuick),[4,Promise.all(n)];case 2:return i.sent(),[4,a.Windown.RungRam.getMakeDelay(.25).prosime];case 3:return i.sent(),this.handleStopAllColum(),[3,5];case 4:return u=i.sent(),s.Util.ThrowErrProsime(u),[3,5];case 5:return[2]}})})},t.prototype.handleStopAllColum=function(){return o(this,void 0,void 0,function(){var t,e,n,o,c;return i(this,function(i){switch(i.label){case 0:if(i.trys.push([0,12,,13]),a.Windown.RungRam.stateReel==r.default.STOP)return[2];a.Windown.RungRam.stateReel=r.default.STOP,a.Windown.RungRam.setStateEffBtnSpin(),t=a.Windown.RungRam.listResultConvert,this.offAllEffectSymbolScater(),this.activeAllSymbol(),a.Windown.RungRam.infoBar.offOneMoreScater(),a.Windown.RungRam.infoBar.showRdContent(),e=0,n=t.length,i.label=1;case 1:return e<n?(o=t[e],this.curentCountScater=o.countScater,o.listItemWin?[4,this.checkAndShowLineAn(o.listItemWin,o.agWin)]:[3,7]):[3,9];case 2:return i.sent(),[4,a.Windown.RungRam.infoBar.showTakeMoneyTurn(o.agWin*o.mutil)];case 3:return i.sent(),this.checkAndRemoveSymbol(o.listItemWin),o.isNoSap?[4,this.addNewSymbol(t[e+1])]:[3,6];case 4:return i.sent(),a.Windown.RungRam.infoBar.isShowOneMoreScater=!1,[4,this.moveAllSymbol()];case 5:i.sent(),i.label=6;case 6:this.takeMutil(),i.label=7;case 7:a.Windown.RungRam.infoBar.offOneMoreScater(),i.label=8;case 8:return e++,[3,1];case 9:return[4,this.showMoneyTotalRevice()];case 10:return i.sent(),[4,this.checkAndShowEffect()];case 11:return i.sent(),this.resetForNextNextSpin(),[3,13];case 12:return c=i.sent(),s.Util.ThrowErrProsime(c),[3,13];case 13:return[2]}})})},t.prototype.checkIsNearFS=function(){return this.isShowNearWin},t.prototype.removeAllMutilAdded=function(){var t=this;return new Promise(function(e){a.Windown.RungRam.resetLbTotalLine(),a.Windown.RungRam.muitlCtr.resetForNextSpin(),t.listColum.forEach(function(t){t.getListSymbol().forEach(function(t){t.removeMutilWhenSpin()})}),t.itemRungRamNang.getListSymbol().forEach(function(t){t.removeMutilWhenSpin()}),e(null)})},t.prototype.checkAndRemoveSymbol=function(t){this.activeAllSymbol();for(var e=t.lsIdItem,n=t.lsstack,o=0,i=e.length;o<i;o++){this.itemRungRamNang.checkAndRemoveItem(e[o],n[o]);for(var r=0;r<n[o]+1;r++)this.listColum[r].checkAndRemoveItem(e[o],null)}},t.prototype.addNewSymbol=function(t){var e=this;return new Promise(function(n){return o(e,void 0,void 0,function(){var e,o,r;return i(this,function(i){switch(i.label){case 0:for(o in i.trys.push([0,2,,3]),(e=[]).push(this.itemRungRamNang.addNewListSymbol(t.listSFSObjNgang)),this.listColum)e.push(this.listColum[o].addNewListSymbol(t.listSFSObj[o]));return[4,Promise.all(e)];case 1:return i.sent(),n(null),[3,3];case 2:return r=i.sent(),s.Util.ThrowErrProsime(r),[3,3];case 3:return[2]}})})})},t.prototype.moveAllSymbol=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o,r;return i(this,function(i){switch(i.label){case 0:for(o in i.trys.push([0,2,,3]),t=0,(n=[]).push(this.itemRungRamNang.moveAllSymbol(t)),this.itemRungRamNang.checkIsNorSap()&&t++,this.listColum)n.push(this.listColum[o].moveAllSymbol(t)),this.listColum[o].checkIsNorSap()&&t++;return[4,Promise.all(n)];case 1:return i.sent(),e(null),[3,3];case 2:return r=i.sent(),s.Util.ThrowErrProsime(r),[3,3];case 3:return[2]}})})})},t.prototype.takeMutil=function(){a.Windown.RungRam.muitlCtr.take()},t.prototype.offAllSymbol=function(t){void 0===t&&(t=!0),a.Windown.RungRam.activeMask(!0)},t.prototype.activeAllSymbol=function(){a.Windown.RungRam.activeMask(!1)},t.prototype.checkAndShowLineAn=function(t,e){var n=this;return new Promise(function(r){return o(n,void 0,void 0,function(){var n,o,c,l,u,p,h;return i(this,function(i){switch(i.label){case 0:for(i.trys.push([0,2,,3]),this.offAllSymbol(),n=t.lsIdItem,o=t.lsstack,c=t.lsAgWin,l=0,u=n.length;l<u;l++){for(this.itemRungRamNang.checkItemWin(n[l],o[l]),p=0;p<o[l]+1;p++)this.listColum[p].checkItemWin(n[l],null);c[l]}return[4,a.Windown.RungRam.infoBar.showTakeMoney(e)];case 1:return i.sent(),r(null),[3,3];case 2:return h=i.sent(),s.Util.ThrowErrProsime(h),[3,3];case 3:return[2]}})})})},t.prototype.effectDropScater=function(){cc.log("effectDropScater"),a.Windown.RungRam.infoBar.effectDropOneMorScater(),this.itemRungRamNang.getListSymbolResult().forEach(function(t){t.effectDropScater()}),this.listColum.forEach(function(t){t.getListSymbolResult().forEach(function(t){t.effectDropScater()})})},t.prototype.offAllEffectSymbolScater=function(){this.itemRungRamNang.getListSymbolResult().forEach(function(t){return t.removeAddScater()}),this.listColum.forEach(function(t){t.getListSymbolResult().forEach(function(t){t.removeAddScater()})})},t.prototype.resetForNextNextSpin=function(){var t=this;this.itemRungRamNang.getListSymbolResult().forEach(function(t){return t.removeAddScater(!0)}),this.listColum.forEach(function(t){t.getListSymbolResult().forEach(function(t){t.removeAddScater(!0)})}),a.Windown.RungRam.resetForNewGame(),this.freeSpinLeft>0?a.Windown.RungRam.scheduleOnce(function(){a.Windown.RungRam.setLbFreeSpinLeft(t.freeSpinLeft-1),a.Windown.RungRam.onClickBtnSpin()},.5):this.countAutoSpin>0?a.Windown.RungRam.scheduleOnce(function(){t.countAutoSpin--,a.Windown.RungRam.setCountAuto(t.countAutoSpin),a.Windown.RungRam.onClickBtnSpin()},.5):a.Windown.RungRam.activeAllBtn()},t.prototype.checkAndShowEffect=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),t=a.Windown.RungRam.dataFinish.getBool("Scarter4"),n=a.Windown.RungRam.dataFinish.get("numFreeSpin"),this.freeSpinLeft=n,!t&&this.lastFreeSpinLeft<1?(e(null),[2]):t?[4,a.Windown.RungRam.effect.showTakeFreeSpin(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return 1==this.lastFreeSpinLeft&&this.freeSpinLeft<1?[4,this.effect.showEndFree(this.moneyTotalFs)]:[3,4];case 3:i.sent(),this.moneyTotalFs=0,i.label=4;case 4:return this.lastFreeSpinLeft=this.freeSpinLeft,e(null),[3,6];case 5:return o=i.sent(),s.Util.ThrowErrProsime(o),[3,6];case 6:return[2]}})})})},t.prototype.showMoneyTotalRevice=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=a.Windown.RungRam.dataFinish.get("agWin"),this.lastFreeSpinLeft>0&&(this.moneyTotalFs+=t),a.Windown.RungRam.activeMask(!1),t<1?(e(null),[2]):[4,a.Windown.RungRam.infoBar.showTotalMoney(t)];case 1:return o.sent(),a.Windown.RungRam.showMoneyAllWin(t),e(null),[3,3];case 2:return n=o.sent(),s.Util.ThrowErrProsime(n),[3,3];case 3:return[2]}})})})},t}();n.default=c,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],SpinNormal:[function(t,e,n){"use strict";cc._RF.push(e,"04dba57PO1Mw6XX1o4+kZ6r","SpinNormal");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/DefineTs/StateReelSlot"),s=t("../../../../Scritps/Util"),a=t("../../../../Scritps/Windown"),c=function(){function t(){this.listFunShowOceLine=[],this.funShowOceLine=null,this.listColum=[],this.effect=null,this.isMaxSpeed=!1,this.isAutoSpin=!1,this.lastAutoSpin=!1,this.countAutoSpin=0,this.lastFreeSpinLeft=0,this.lastTypeFree="BASSIC",this.lastFree3=!1,this.lastFree2=!1,this.freeSpinLeft=0,this.moneyTotalFs=0,this.listColum=a.Windown.DieuThuyen.listColum,this.effect=a.Windown.DieuThuyen.effect}return t.prototype.onStart=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:o.trys.push([0,7,,8]),this.lastFree2?a.Windown.DieuThuyen.audio.playEffect(a.Windown.DieuThuyen.audio.slot_scrolling_two):a.Windown.DieuThuyen.audio.playEffect(a.Windown.DieuThuyen.audio.slot_scrolling),t=0,o.label=1;case 1:return t<this.listColum.length?(this.listColum[t].runSpin(),this.isMaxSpeed?[3,3]:[4,this.makeDelay(.05)]):[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return this.isMaxSpeed?[4,this.makeDelay(.1)]:[3,6];case 5:o.sent(),o.label=6;case 6:return e(null),[3,8];case 7:return n=o.sent(),s.Util.ThrowErrProsime(n),[3,8];case 8:return[2]}})})})},t.prototype.onEnd=function(){return o(this,void 0,void 0,function(){var t,e,n,o,c,l;return i(this,function(i){switch(i.label){case 0:i.trys.push([0,9,,10]),a.Windown.DieuThuyen.stateReel=r.default.STOP,t=a.Windown.DieuThuyen.getListActiveScaster(),e=0,n=0,o=this.listColum,i.label=1;case 1:return n<o.length?(c=o[n],this.isMaxSpeed?[3,3]:[4,c.stopSpin(t[e])]):[3,6];case 2:return i.sent(),[3,4];case 3:c.stopSpin(t[e]),i.label=4;case 4:e++,i.label=5;case 5:return n++,[3,1];case 6:return this.isMaxSpeed?[4,this.makeDelay(.25)]:[3,8];case 7:i.sent(),i.label=8;case 8:return a.Windown.DieuThuyen.audio.stopEffect(a.Windown.DieuThuyen.audio.slot_scrolling),a.Windown.DieuThuyen.audio.stopEffect(a.Windown.DieuThuyen.audio.slot_scrolling_two),this.handleStopAllColum(),[3,10];case 9:return l=i.sent(),s.Util.ThrowErrProsime(l),[3,10];case 10:return[2]}})})},t.prototype.onForceEnd=function(){return o(this,void 0,void 0,function(){var t,e,n;return i(this,function(o){switch(o.label){case 0:for(o.trys.push([0,2,,3]),t=0,e=this.listColum;t<e.length;t++)e[t].forceStopSpin();return a.Windown.DieuThuyen.audio.stopEffect(a.Windown.DieuThuyen.audio.slot_scrolling),a.Windown.DieuThuyen.audio.stopEffect(a.Windown.DieuThuyen.audio.slot_scrolling_two),[4,this.makeDelay(.25)];case 1:return o.sent(),this.handleStopAllColum(),[3,3];case 2:return n=o.sent(),s.Util.ThrowErrProsime(n),[3,3];case 3:return[2]}})})},t.prototype.onShowAllLine=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n,o,r,c;return i(this,function(){try{if((t=a.Windown.DieuThuyen.listIdLineAn).length<1)return e(null),[2];for(n=[],o=function(e){var o=n[e];null==o&&(o=[],n[e]=o),t.forEach(function(t){var n=t.listItem[e];null==n||o.includes(n)||o.push(n)})},r=0;r<5;r++)o(r);c=0,t.forEach(function(t){a.Windown.DieuThuyen.parentLine.children[t.id-1].active=!0}),this.listColum.forEach(function(t){t.activeItem(n[c],!0),c++}),e(null)}catch(i){s.Util.ThrowErrProsime(i)}return[2]})})})},t.prototype.handleStopAllColum=function(){a.Windown.DieuThuyen.stateReel=r.default.STOP,this.checkAndShowEffect(),a.Windown.DieuThuyen.setStateEffBtnSpin()},t.prototype.makeDelay=function(t){return a.Windown.DieuThuyen.makeDelay(t)},t.prototype.setUpShowOnceLine=function(){var t=this,e=a.Windown.DieuThuyen.listIdLineAn;a.Windown.DieuThuyen.stateReel=r.default.SHOW_EFFECT,a.Windown.DieuThuyen.setStateEffBtnSpin(),a.Windown.DieuThuyen.activeAllBtn(),this.listFunShowOceLine=[],e.forEach(function(e){var n=e.listItem;t.listFunShowOceLine.push(function(){a.Windown.DieuThuyen.offAllLineWin(),t.listColum.forEach(function(t){t.offAllItem()}),a.Windown.DieuThuyen.showEffectMoneyPerLine(e.money);for(var o=0,i=n.length;o<i;o++)t.listColum[o].activeItem([n[o]]),a.Windown.DieuThuyen.parentLine.children[e.id-1].active=!0})});var n=0;a.Windown.DieuThuyen.schedule(this.funShowOceLine=function(){var e=t.listFunShowOceLine[n%t.listFunShowOceLine.length];e&&e(),n++},1.5,cc.macro.REPEAT_FOREVER,0)},t.prototype.resetForNextNextSpin=function(){var t=this;cc.log("reset nor nex"),this.listFunShowOceLine=[],a.Windown.DieuThuyen.showContentTip(),a.Windown.DieuThuyen.unschedule(this.funShowOceLine),a.Windown.DieuThuyen.lb_Mn_Per_Line.node.active=!1,this.listColum.forEach(function(t){t.reset()}),a.Windown.DieuThuyen.resetForNewGame(),this.effect.resetFree3NewTurn(),a.Windown.DieuThuyen.infoBar.showRdContent(),this.freeSpinLeft>0?a.Windown.DieuThuyen.scheduleOnce(function(){a.Windown.DieuThuyen.setLbFreeSpinLeft(t.freeSpinLeft-1),a.Windown.DieuThuyen.onClickBtnSpin()},.5):this.countAutoSpin>0?a.Windown.DieuThuyen.scheduleOnce(function(){t.countAutoSpin--,a.Windown.DieuThuyen.setCountAuto(t.countAutoSpin),a.Windown.DieuThuyen.onClickBtnSpin()},.5):a.Windown.DieuThuyen.activeAllBtn()},t.prototype.checkAndShowEffect=function(){return o(this,void 0,void 0,function(){var t,e,n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,16,,17]),null==a.Windown.DieuThuyen.dataFinish?[2]:(t=a.Windown.DieuThuyen.dataFinish.getBool("Scarter2"),e=a.Windown.DieuThuyen.dataFinish.getBool("Scarter3"),this.freeSpinLeft=a.Windown.DieuThuyen.dataFinish.get("numFreeSpin"),n=a.Windown.DieuThuyen.dataFinish.get("typeFreeSpin"),this.lastFree3&&(this.moneyTotalFs+=a.Windown.DieuThuyen.dataFinish.getLong("agWin")),this.lastFree2?[4,this.effect.checkAndShowEffectItemFree2()]:[3,2]);case 1:return i.sent(),[3,4];case 2:return this.lastFree3?[4,this.effect.checkAndShowEffectItemFree3()]:[3,4];case 3:i.sent(),i.label=4;case 4:return e&&(this.lastFree3=e),[4,this.onShowAllLine()];case 5:return i.sent(),a.Windown.DieuThuyen.getBo5()?[4,this.effect.showEffBo5()]:[3,7];case 6:i.sent(),i.label=7;case 7:return[4,this.effect.showBigWin()];case 8:return i.sent(),1==this.lastFreeSpinLeft&&this.freeSpinLeft<1&&this.lastFree3?[4,this.effect.offFree3()]:[3,11];case 9:return i.sent(),cc.log("money total free la: "+this.moneyTotalFs),[4,this.effect.showTtMnFs(this.moneyTotalFs)];case 10:i.sent(),a.Windown.DieuThuyen.audio.playMusic(),a.Windown.DieuThuyen.offLbFree(),this.moneyTotalFs=0,i.label=11;case 11:return this.lastTypeFree=n,this.lastFreeSpinLeft=this.freeSpinLeft,this.lastFree2&&(a.Windown.DieuThuyen.actionShowBtnSpin(),a.Windown.DieuThuyen.effect.offFree2()),this.lastFree2=t,0==this.lastFreeSpinLeft&&(this.lastFree3=e),e?[4,this.effect.showFreeSpin3()]:[3,13];case 12:return i.sent(),[3,15];case 13:return t?[4,this.effect.showFreeSpin2()]:[3,15];case 14:i.sent(),i.label=15;case 15:return a.Windown.DieuThuyen.listIdLineAn.length>0&&this.freeSpinLeft<1&&this.countAutoSpin<1?this.setUpShowOnceLine():this.resetForNextNextSpin(),[3,17];case 16:return o=i.sent(),s.Util.ThrowErrProsime(o),[3,17];case 17:return[2]}})})},t.prototype.showMoneyRevice=function(){var t=this;return new Promise(function(e){return o(t,void 0,void 0,function(){var t,n;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=a.Windown.DieuThuyen.dataFinish.get("agWin"),a.Windown.DieuThuyen.showMoneyAllWin(t),[4,a.Windown.DieuThuyen.infoBar.showTakeMoney(t)];case 1:return o.sent(),e(null),[3,3];case 2:return n=o.sent(),s.Util.ThrowErrProsime(n),[3,3];case 3:return[2]}})})})},t.prototype.checkCointainLuBo=function(){},t.prototype.checkContainDongChac=function(){},t}();n.default=c,cc._RF.pop()},{"../../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../../Scritps/Util":"Util","../../../../Scritps/Windown":"Windown"}],StartFreeSpinAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"2ed2b/LVTtMvaxApWyarzqB","StartFreeSpinAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Other/LbMonoSpace"),a=t("../../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.btnBatDau=null,e}return i(e,t),e.prototype.show=function(t){var e=this;return new Promise(function(n){cc.find("loopHaoQuang",e.node).runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.6,3),cc.scaleTo(.4,1.5)))),a.Windown.Asgard.audio.playBkgfs(),a.Windown.Asgard.audio.playEffect(a.Windown.Asgard.audio.fsTrans),e.label.string=t.toString();var o=function(){a.Windown.Asgard.audio.stopEffect(a.Windown.Asgard.audio.fsTrans),e.node.runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){e.node.destroy()}))),n(null)};e.btnBatDau.interactable=!1,e.scheduleOnce(function(){e.btnBatDau.interactable=!0,e.btnBatDau.node.once("click",o),e.btnBatDau.node.runAction(cc.sequence(cc.delayTime(5),cc.callFunc(o)))},1)})},r([u(s.default)],e.prototype,"label",void 0),r([u(cc.Button)],e.prototype,"btnBatDau",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../../Scritps/Windown":"Windown"}],StartFreeSpinCaishen:[function(t,e,n){"use strict";cc._RF.push(e,"ede25y31TZHVpKsi0ZE++uZ","StartFreeSpinCaishen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.StartFreeSpinCaishen=void 0;var s=t("../../../Scritps/Other/LbMonoSpace"),a=t("../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbFreeSpin=null,e.lbBonus=null,e.btnBatDau=null,e.cb=null,e}return i(e,t),e.prototype.show=function(t,e){var n=this;return new Promise(function(o){n.cb=o,a.Windown.Caishen.audio.playEffect(a.Windown.Caishen.audio.fsTrans),n.lbFreeSpin.string=t.toString(),n.lbBonus.string="x"+e.toString();var i=function(){n.hide()};n.btnBatDau.interactable=!1,n.scheduleOnce(function(){n.btnBatDau.interactable=!0,n.btnBatDau.node.once("click",i),n.btnBatDau.node.runAction(cc.sequence(cc.delayTime(5),cc.callFunc(i)))},1)})},e.prototype.hide=function(){var t=this;this.unscheduleAllCallbacks(),a.Windown.Caishen.audio.stopEffect(a.Windown.Caishen.audio.fsTrans),a.Windown.Caishen.audio.playEffect(a.Windown.Caishen.audio.fsTransClose),this.getComponent(cc.Animation).getAnimationState("StartFreeSpinHide").isPlaying||(this.getComponent(cc.Animation).play("StartFreeSpinHide"),cc.tween(this.node).delay(.5).call(function(){t.cb(null)}).delay(1).call(function(){t.node.destroy()}).start())},r([u(s.default)],e.prototype,"lbFreeSpin",void 0),r([u(s.default)],e.prototype,"lbBonus",void 0),r([u(cc.Button)],e.prototype,"btnBatDau",void 0),r([l],e)}(cc.Component);n.StartFreeSpinCaishen=p,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Windown":"Windown"}],StartFreeSpinDuaXe:[function(t,e,n){"use strict";cc._RF.push(e,"162f1NSEk9K9KsAj2LJt0vG","StartFreeSpinDuaXe");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.StartFreeSpinDuaXe=void 0;var s=t("../../../Scritps/Other/LbMonoSpace"),a=t("../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.btnBatDau=null,e}return i(e,t),e.prototype.show=function(t){var e=this;return new Promise(function(n){a.Windown.DuaXe.audio.playBkgfs(),a.Windown.DuaXe.audio.playEffect(a.Windown.DuaXe.audio.fsTrans),e.label.string=t.toString();var o=function(){a.Windown.DuaXe.audio.stopEffect(a.Windown.DuaXe.audio.fsTrans),e.node.runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){e.node.destroy()}))),n(null)};e.btnBatDau.interactable=!1,e.scheduleOnce(function(){e.btnBatDau.interactable=!0,e.btnBatDau.node.once("click",o),e.btnBatDau.node.runAction(cc.sequence(cc.delayTime(5),cc.callFunc(o)))},1)})},r([u(s.default)],e.prototype,"label",void 0),r([u(cc.Button)],e.prototype,"btnBatDau",void 0),r([l],e)}(cc.Component);n.StartFreeSpinDuaXe=p,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Windown":"Windown"}],StartFreeSpinMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"05c42/QoClJybQkpRokUPK5","StartFreeSpinMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=t("../../../../Scritps/Other/LbMonoSpace"),u=t("../../../../Scritps/Windown"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.btnBatDau=null,e.animStartBtn=null,e}return i(e,t),e.prototype.show=function(t){var e=this;return new Promise(function(n){e.node.opacity=0,e.node.runAction(cc.fadeIn(.2)),e.node.getComponent(cc.Animation).play("effectPopupFS"),cc.tween(e.animStartBtn).set({scale:0,opacity:0}).to(.3,{scale:1,opacity:255},{easing:cc.easing.backOut}).start(),u.Windown.MatChuoc.audio.playBkgfs(),u.Windown.MatChuoc.audio.playEffect(u.Windown.MatChuoc.audio.fsTrans),e.label.string=t.toString();var o=function(){u.Windown.MatChuoc.audio.stopEffect(u.Windown.MatChuoc.audio.fsTrans),e.node.runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){e.node.destroy()}))),n(null)};e.btnBatDau.interactable=!1,e.scheduleOnce(function(){e.btnBatDau.interactable=!0,e.btnBatDau.node.once("click",o),e.btnBatDau.node.runAction(cc.sequence(cc.delayTime(5),cc.callFunc(o)))},1)})},r([c(l.default)],e.prototype,"label",void 0),r([c(cc.Button)],e.prototype,"btnBatDau",void 0),r([c(cc.Node)],e.prototype,"animStartBtn",void 0),r([a],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../../Scritps/Windown":"Windown"}],StartFreeSpinQuyBa:[function(t,e,n){"use strict";cc._RF.push(e,"a5132YuhD9HKbYMJ8po2aBl","StartFreeSpinQuyBa");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.StartFreeSpinQuyBa=void 0;var s=t("../../../Scritps/Other/LbMonoSpace"),a=t("../../../Scritps/Windown"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.btnBatDau=null,e}return i(e,t),e.prototype.show=function(t){var e=this;return new Promise(function(n){a.Windown.QuyBa.audio.playBkgfs(),a.Windown.QuyBa.audio.playEffect(a.Windown.QuyBa.audio.fsTrans),e.label.string=t.toString();var o=function(){a.Windown.QuyBa.audio.stopEffect(a.Windown.QuyBa.audio.fsTrans),e.node.runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){e.node.destroy()}))),n(null)};e.btnBatDau.interactable=!1,e.scheduleOnce(function(){e.btnBatDau.interactable=!0,e.btnBatDau.node.once("click",o),e.btnBatDau.node.runAction(cc.sequence(cc.delayTime(5),cc.callFunc(o)))},1)})},r([u(s.default)],e.prototype,"label",void 0),r([u(cc.Button)],e.prototype,"btnBatDau",void 0),r([l],e)}(cc.Component);n.StartFreeSpinQuyBa=p,cc._RF.pop()},{"../../../Scritps/Other/LbMonoSpace":"LbMonoSpace","../../../Scritps/Windown":"Windown"}],StartFreeSpinRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"47d361ViE1M7ZdSM2x5/Uvv","StartFreeSpinRungRam");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.btnBatDau=null,e.main=null,e.bkg=null,e.vong=null,e.particel=null,e}return i(e,t),e.prototype.show=function(t){var e=this;return new Promise(function(n){s.Windown.RungRam.audio.playBkgfs(),s.Windown.RungRam.audio.playEffect(s.Windown.RungRam.audio.fsTrans),s.Windown.RungRam.audio.playEffect(s.Windown.RungRam.audio.fsTrans),e.label.string=t.toString(),e.bkg.opacity=0,e.bkg.runAction(cc.fadeIn(.5)),e.main.scale=2,e.main.opacity=0,e.btnBatDau.interactable=!1,e.btnBatDau.node.opacity=0,e.main.runAction(cc.spawn(cc.scaleTo(.5,1),cc.fadeIn(.5))),e.vong.scale=3,e.vong.opacity=0,e.vong.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){e.particel.resetSystem(),e.vong.opacity=255}),cc.spawn(cc.scaleTo(1,5).easing(cc.easeElasticOut(3)),cc.sequence(cc.delayTime(.5),cc.fadeOut(.6)))));var o=function(){e.node.runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){e.node.destroy()}))),n(null)};e.scheduleOnce(function(){s.Windown.RungRam.effect.swidthFS(!0),e.btnBatDau.interactable=!0;var t=e.btnBatDau;t.node.opacity=0,t.node.runAction(cc.sequence(cc.fadeIn(1),cc.callFunc(function(){t.node.once("click",o)}),cc.delayTime(5),cc.callFunc(o)))},1)})},r([l(cc.Label)],e.prototype,"label",void 0),r([l(cc.Button)],e.prototype,"btnBatDau",void 0),r([l(cc.Node)],e.prototype,"main",void 0),r([l(cc.Node)],e.prototype,"bkg",void 0),r([l(cc.Node)],e.prototype,"vong",void 0),r([l(cc.ParticleSystem)],e.prototype,"particel",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../../Scritps/Windown":"Windown"}],StateFinishedMini:[function(t,e,n){"use strict";cc._RF.push(e,"071c3C5539FQKV6DT3hySvO","StateFinishedMini");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(){this.xengController.listButton.forEach(function(t){t.offEvent()}),cc.log("off het event nay"),this.xengController.getSoundMng().stopNhacCho()},e}(t("./BaseState").default);n.default=r,cc._RF.pop()},{"./BaseState":"BaseState"}],StateFinished:[function(t,e,n){"use strict";cc._RF.push(e,"8b0f5EuQgtCMau3vDAb9Qyd","StateFinished");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(){this.xengController.listButton.forEach(function(t){t.offEvent()})},e}(t("./BaseState").default);n.default=r,cc._RF.pop()},{"./BaseState":"BaseState"}],StateGame:[function(t,e,n){"use strict";cc._RF.push(e,"45b58lbjplOVINoK0SU3agS","StateGame"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.WATING=0,t.PLAYING=1,t.FINISHED=2,t.PLAYINGMINI=3,t.FINISHEDMINI=4,t.WATINGPLAYGAME=5,t.WATINGPLAYGAMEMINI=6,t}();n.default=o,cc._RF.pop()},{}],StateGunFire:[function(t,e,n){"use strict";cc._RF.push(e,"7e390wNH69FaIvATdxyE8vz","StateGunFire");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Network/ConectManager"),s=t("../../../../Scritps/Windown"),a=t("../Bullet/BulletFire"),c=t("../DeadBevhavior/PanelPoint"),l=t("../Fish/FISH_TYPE"),u=t("../Network/CODE_EVT"),p=t("../Player/TypeItemDragBD"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.particelEfFire=null,e.isGunIdle=!0,e.currenAngle=0,e.isCanAtack=!1,e.timeUse=0,e.timeRemove=0,e.timeOutBackToNormalGun=null,e.timeOutCountDown=null,e.isAtack=!1,e.isCanLook=!1,e.point=null,e.itemDrag=null,e.bulletFire=null,e}return i(e,t),e.prototype.setTimeDelayMax=function(){},e.prototype.setTimeDelayNormarl=function(){this.timeDelay=.22},e.prototype.setMoneyGun=function(){},e.prototype.execute=function(){var t=this;cc.log("excuteGun"),this.gunBD.setActiveBtn(!1),this.gunBD.lbGunValue.string=s.Windown.formatNumber(s.Windown.FishBongDem.getGunValueByType(this.indexMoneyGun)),this.setTimeDelayNormarl();var e=s.Windown.FishBongDem.pool.getGunFire(),n=s.Windown.FishBongDem.pool.getEfGunFire();n.parent=s.Windown.FishBongDem.fishBDView.parentEffect,n.active=!1,this.particelEfFire=n.getComponent(cc.ParticleSystem),this.particelEfFire.resetSystem(),this.particelEfFire.emissionRate=0,e.parent=this.gunBD.bodyGun,e.stopAllActions(),e.scale=0,e.runAction(cc.sequence(cc.delayTime(.3),cc.scaleTo(.3,1),cc.callFunc(function(){n.active=!0,t.updatePosEffGunFire(),t.updateStateGunIdle(),t.sendUsingGun()}))),e.setPosition(0,0),this.nodeGun=e,this.isGunIdle=!0,this.itemDrag=this.gunBD.playerBD.getItemDrag(this.idGunNow),this.bulletFire=e.getComponentInChildren(a.default);var o=r.ConectManager.getIns().getSFSObj();o.putLong("byFish",this.idGunNow),this.bulletFire.creat(o,this.gunBD),this.bulletFire.node.active=!1,this.isCanLook=!1},e.prototype.unLock=function(){var t=this;this.isCanLook=!0,this.countDownTime(this.itemDrag.timeUse),s.Windown.FishBongDem.setTimeout(this.timeOutBackToNormalGun=function(){t.gunBD.playerBD.backToCurrentGun();var e=s.Windown.FishBongDem.getSound();e.stopEffect(e.gunFire),t.removeNodePanel()},this.itemDrag.timeUse),this.creatNodePanel(),this.bulletFire.setPanel(this.gunBD.playerBD.mapNodePanel.get(this.idGunNow).getComponent(c.default))},e.prototype.sendUsingGun=function(){cc.log("send using ne");var t=r.ConectManager.getIns().getSFSObj();t.putInt("Type",p.default.GUN_FIRE),t.putLong("Id",this.idGunNow),s.Windown.FishBongDem.sendRequest(u.default.UsingItemDrag,t)},e.prototype.countDownTime=function(t){var e=this,n=this.gunBD.playerBD.lbTimeCD;n.node.active=!0,t--,n.string="Th\u1eddi gian c\xf2n l\u1ea1i:"+Number.parseInt(t)+"s",s.Windown.FishBongDem.setInterval(this.timeOutCountDown=function(){t--,n.string="Th\u1eddi gian c\xf2n l\u1ea1i:"+Number.parseInt(t)+"s",cc.Tween.stopAllByTarget(n.node),cc.tween(n.node).to(.2,{scale:1.4}).to(.2,{scale:1.1}).start(),t<=0&&(s.Windown.FishBongDem.unschedule(e.timeOutCountDown),n.node.active=!1)},1)},e.prototype.offCountDownTime=function(){s.Windown.FishBongDem.unschedule(this.timeOutCountDown),this.gunBD.playerBD.lbTimeCD.node.active=!1},e.prototype.creatNodePanel=function(){s.Windown.FishBongDem.pool.getPanelGunFire().getComponent(c.default).init(this.gunBD.playerBD,this.idGunNow,l.default.GUN_FIRE)},e.prototype.setFishIdTarget=function(t,e){this.idFishTarget=t,this.indexColider=e},e.prototype.atack=function(){if(this.isCanLook&&this.isGunIdle){var t=s.Windown.FishBongDem.getSound();t.playEffect(t.gunFire,1,!0),this.isGunIdle=!1,this.updateStateGunIdle()}},e.prototype.rotate=function(t){if(this.isCanLook){var e=t.clone().subSelf(this.gunBD.pointInScreen),n=180*Math.atan2(e.x,e.y)/Math.PI;if(this.currenAngle=n,this.gunBD.bodyGun.angle=-n,this.isAtack=!0,this.updatePosEffGunFire(),this.gunBD.playerBD.isMe){var o=r.ConectManager.getIns().getSFSObj(),i=t.clone();s.Windown.FishBongDem.convertVec(i),o.putFloat("x",i.x),o.putFloat("y",i.y),o.putBool("iA",!0),s.Windown.FishBongDem.sendRequest(u.default.RotateGun,o)}}},e.prototype.updatePosEffGunFire=function(){var t=this.nodeGun.convertToWorldSpaceAR(cc.v2(0,109)),e=s.Windown.FishBongDem.fishBDView.parentEffect.convertToNodeSpaceAR(t);this.particelEfFire.node.setPosition(e),this.particelEfFire.angle=this.gunBD.bodyGun.angle+90},e.prototype.updateStateGunIdle=function(){this.isGunIdle?(cc.Tween.stopAllByTarget(this.particelEfFire),this.particelEfFire.emissionRate=0,this.bulletFire.node.active=!1):(this.bulletFire.node.active=!0,cc.Tween.stopAllByTarget(this.particelEfFire),cc.tween(this.particelEfFire).to(.2,{emissionRate:566}).start())},e.prototype.cancleAtack=function(){if(this.timeUpdate=0,this.isAtack=!1,!this.isGunIdle){this.isGunIdle=!0;var t=s.Windown.FishBongDem.getSound();t.stopEffect(t.gunFire),this.updateStateGunIdle()}if(this.gunBD.playerBD.isMe){var e=r.ConectManager.getIns().getSFSObj();e.putBool("iA",!1),s.Windown.FishBongDem.sendRequest(u.default.RotateGun,e)}},e.prototype.reset=function(){var t=this;this.particelEfFire.resetSystem(),this.particelEfFire.emissionRate=0,s.Windown.FishBongDem.unschedule(this.timeOutBackToNormalGun),this.offCountDownTime(),s.Windown.FishBongDem.pool.putEfGunFire(this.particelEfFire.node),this.nodeGun.stopAllActions(),cc.tween(this.nodeGun).to(.3,{scale:0}).call(function(){s.Windown.FishBongDem.pool.putGunFire(t.nodeGun)}).start(),this.idFishTarget=-1,this.indexColider=-1},e.prototype.onClickAdd=function(){var t=this.indexMoneyGun,e=r.ConectManager.getIns().getSFSObj();++t>=s.Windown.FishBongDem.listGunMoney.length&&(t=0),e.putInt("IndexMoneyGun",t),s.Windown.FishBongDem.sendRequest(u.default.ChangeMoneyGun,e)},e.prototype.onClickSub=function(){var t=this.indexMoneyGun,e=r.ConectManager.getIns().getSFSObj();--t<0&&(t=s.Windown.FishBongDem.listGunMoney.length-1),e.putInt("IndexMoneyGun",t),s.Windown.FishBongDem.sendRequest(u.default.ChangeMoneyGun,e)},e.prototype.updateCp=function(t){this.timeUpdate+=t,this.timeUpdate>=this.timeDelay&&this.isAtack&&(this.atack(),this.timeUpdate=0)},e}(t("./BaseStateGunBD").default);n.default=h,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Windown":"Windown","../Bullet/BulletFire":"BulletFire","../DeadBevhavior/PanelPoint":"PanelPoint","../Fish/FISH_TYPE":"FISH_TYPE","../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD","./BaseStateGunBD":"BaseStateGunBD"}],StateGunLaze:[function(t,e,n){"use strict";cc._RF.push(e,"1a010UA4vJJl51LPhnXz3hD","StateGunLaze");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Network/ConectManager"),s=t("../../../../Scritps/Windown"),a=t("../Bullet/BulletLazeBD"),c=t("../DeadBevhavior/PanelPoint"),l=t("../Fish/FISH_TYPE"),u=t("../Network/CODE_EVT"),p=t("../Player/TypeItemDragBD"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currenAngle=0,e.spineLaze=null,e.isCanAtack=!1,e.bulletLaze=null,e.timeUse=0,e.timeRemove=0,e.timeOutBackToNormalGun=null,e.timeOutCountDown=null,e.isAtack=!1,e.isCanLook=!1,e.point=null,e.itemDrag=null,e}return i(e,t),e.prototype.setTimeDelayMax=function(){},e.prototype.setTimeDelayNormarl=function(){},e.prototype.setMoneyGun=function(){},e.prototype.execute=function(){var t=this;this.gunBD.setActiveBtn(!1);var e=s.Windown.FishBongDem.pool.getGunLaze();e.parent=this.gunBD.bodyGun,e.scale=0,e.runAction(cc.sequence(cc.delayTime(.3),cc.scaleTo(.5,1))),e.setPosition(0,0),this.nodeGun=e;var n=cc.find("SungLaser_Text",e);n.active=!0,n.opacity=0,n.scale=2,cc.Tween.stopAllByTarget(n),cc.tween(n).delay(.6).call(function(){t.isCanLook=!0}).to(.2,{opacity:255,scale:1},{easing:"sineIn"}).delay(1.5).to(.5,{opacity:0}).start();var o=cc.find("fxLaser",e);this.spineLaze=o.getComponent(sp.Skeleton),o.opacity=0,cc.Tween.stopAllByTarget(o),cc.tween(o).delay(1.1).to(.5,{opacity:255}).start(),this.spineLaze.setAnimation(0,"Aim",!1),this.bulletLaze=cc.find("BulletLaze",e).getComponent(a.default),this.bulletLaze.node.active=!1,this.itemDrag=this.gunBD.playerBD.getItemDrag(this.idGunNow),s.Windown.FishBongDem.setTimeout(this.timeOutBackToNormalGun=function(){s.Windown.FishBongDem&&(t.gunBD.playerBD.backToCurrentGun(),t.removeNodePanel())},this.itemDrag.timeRemove),this.countDownTime(this.itemDrag.timeRemove),this.creatNodePanel()},e.prototype.creatNodePanel=function(){s.Windown.FishBongDem.pool.getPanelLaze().getComponent(c.default).init(this.gunBD.playerBD,this.idGunNow,l.default.LAZE)},e.prototype.atack=function(){var t=this;this.spineLaze.setAnimation(0,"Shoot",!1),this.gunBD.playerBD.isMe&&this.bulletLaze.init(this.itemDrag.timeUse,this.idGunNow);var e=s.Windown.FishBongDem.getSound();e.playEffect(e.banLaze),s.Windown.FishBongDem.unschedule(this.timeOutBackToNormalGun),this.offCountDownTime(),s.Windown.FishBongDem.setTimeout(this.timeOutBackToNormalGun=function(){t.gunBD.playerBD.backToCurrentGun(),t.removeNodePanel()},this.itemDrag.timeUse)},e.prototype.countDownTime=function(t){var e=this;cc.log("time la: "+t);var n=this.gunBD.playerBD.lbTimeCD;n.node.active=!0,t--,n.string="Th\u1eddi gian c\xf2n l\u1ea1i:"+Number.parseInt(t)+"s",s.Windown.FishBongDem.setInterval(this.timeOutCountDown=function(){t--,n.string="Th\u1eddi gian c\xf2n l\u1ea1i:"+Number.parseInt(t)+"s",cc.Tween.stopAllByTarget(n.node),cc.tween(n.node).to(.2,{scale:1.4}).to(.2,{scale:1.1}).start(),t<=0&&(s.Windown.FishBongDem.unschedule(e.timeOutCountDown),n.node.active=!1),t<=5&&e.gunBD.playerBD.isItemAuto&&(e.rotate(cc.v2(s.Windown.RandomNumber(-400,400),s.Windown.RandomNumber(-180,180))),e.cancleAtack())},1)},e.prototype.offCountDownTime=function(){s.Windown.FishBongDem.unschedule(this.timeOutCountDown),this.gunBD.playerBD.lbTimeCD.node.active=!1},e.prototype.sendUsing=function(){if(null!=this.point){var t=r.ConectManager.getIns().getSFSObj(),e=this.point.clone(),n=s.Windown.FishBongDem.convertVec(e);t.putDouble("PointX",n.x),t.putDouble("PointY",n.y),t.putInt("Type",p.default.LAZE),t.putLong("Id",this.idGunNow),s.Windown.FishBongDem.sendRequest(u.default.UsingItemDrag,t),this.isAtack=!0,this.offCountDownTime()}},e.prototype.rotate=function(t){if(!this.isAtack&&this.isCanLook){var e=t.clone().subSelf(this.gunBD.pointInScreen),n=180*Math.atan2(e.x,e.y)/Math.PI;this.currenAngle=n,this.gunBD.bodyGun.angle=-n,this.point=t}},e.prototype.reset=function(){var t=this;s.Windown.FishBongDem.unschedule(this.timeOutBackToNormalGun),this.offCountDownTime(),cc.Tween.stopAllByTarget(this.nodeGun),cc.tween(this.nodeGun).to(.3,{scale:0}).call(function(){s.Windown.FishBongDem.pool.putGunLaze(t.nodeGun)}).start()},e.prototype.setTimeDelay=function(){},e.prototype.updateCp=function(){},e.prototype.cancleAtack=function(){this.gunBD.playerBD.isMe&&this.isCanLook&&!this.isAtack&&this.sendUsing()},e.prototype.setFishIdTarget=function(){},e.prototype.onClickAdd=function(){},e.prototype.onClickSub=function(){},e}(t("./BaseStateGunBD").default);n.default=h,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Windown":"Windown","../Bullet/BulletLazeBD":"BulletLazeBD","../DeadBevhavior/PanelPoint":"PanelPoint","../Fish/FISH_TYPE":"FISH_TYPE","../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD","./BaseStateGunBD":"BaseStateGunBD"}],StateGunMuiKhoan:[function(t,e,n){"use strict";cc._RF.push(e,"079d2wCnltCFJ9LYEhNFt0k","StateGunMuiKhoan");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Network/ConectManager"),s=t("../../../../Scritps/Windown"),a=t("../Bullet/BulletMuiKhoanBD"),c=t("../DeadBevhavior/PanelPoint"),l=t("../Fish/FISH_TYPE"),u=t("../Network/CODE_EVT"),p=t("../Player/TypeItemDragBD"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currenAngle=0,e.isCanAtack=!1,e.timeUse=0,e.timeRemove=0,e.timeOutBackToNormalGun=null,e.timeOutCountDown=null,e.isAtack=!1,e.isCanLook=!1,e.point=null,e.itemDrag=null,e}return i(e,t),e.prototype.setTimeDelayMax=function(){},e.prototype.setTimeDelayNormarl=function(){},e.prototype.setMoneyGun=function(){},e.prototype.execute=function(){var t=this;this.gunBD.setActiveBtn(!1);var e=s.Windown.FishBongDem.pool.getGunMuiKhoan();e.parent=this.gunBD.bodyGun,e.scale=0,e.runAction(cc.sequence(cc.delayTime(.3),cc.scaleTo(.5,1))),e.setPosition(0,0),this.nodeGun=e;var n=cc.find("bgTitle",e);n.active=!0,n.opacity=0,n.scale=2,cc.Tween.stopAllByTarget(n),cc.tween(n).delay(.6).call(function(){t.isCanLook=!0;var e=s.Windown.FishBongDem.getSound();e.playEffectNoStop(e.watingMuiKhoan,1,!0)}).to(.2,{opacity:255,scale:1},{easing:"sineIn"}).delay(1.5).to(.5,{opacity:0}).start(),this.itemDrag=this.gunBD.playerBD.getItemDrag(this.idGunNow),s.Windown.FishBongDem.setTimeout(this.timeOutBackToNormalGun=function(){t.gunBD.playerBD.backToCurrentGun(),t.removeNodePanel()},this.itemDrag.timeRemove),cc.log("time removela : "+this.itemDrag.timeRemove),this.countDownTime(this.itemDrag.timeRemove),this.creatNodePanel()},e.prototype.creatNodePanel=function(){cc.log("this.idGunNow: "+this.idGunNow),s.Windown.FishBongDem.pool.getPanelMuiKhoan().getComponent(c.default).init(this.gunBD.playerBD,this.idGunNow,l.default.MUI_KHOAN)},e.prototype.atack=function(){cc.log("player atack conme nos");var t=s.Windown.FishBongDem.getSound();t.stopEffect(t.watingMuiKhoan),this.nodeGun.scale=0;var e=this.speedBullet,n=e*Math.sin(this.currenAngle*Math.PI/180),o=e*Math.cos(this.currenAngle*Math.PI/180),i=this.gunBD.getVecStartBullet(),l=r.ConectManager.getIns().getSFSObj();l.putFloat("VelocityX",n),l.putFloat("VelocityY",o),l.putFloat("PositionX",i.x),l.putFloat("PositionY",i.y),l.putInt("FishIdTarget",this.idFishTarget),l.putFloat("Angle",this.currenAngle),l.putInt("Speed",this.speedBullet),l.putLong("byFish",this.idGunNow),l.putFloat("timeTotalLife",this.itemDrag.timeUse);var u=s.Windown.FishBongDem.pool.getBulletMuiKhoan();u.parent=s.Windown.FishBongDem.fishBDView.parentEffect;var p=u.getComponent(a.default);p.creat(l,this.gunBD,this.gunBD.playerBD.isMe),p.setPanel(this.gunBD.playerBD.mapNodePanel.get(this.idGunNow).getComponent(c.default)),s.Windown.FishBongDem.unschedule(this.timeOutBackToNormalGun),this.offCountDownTime(),this.gunBD.playerBD.backToCurrentGun()},e.prototype.countDownTime=function(t){var e=this,n=this.gunBD.playerBD.lbTimeCD;n.node.active=!0,t--,n.string="Th\u1eddi gian c\xf2n l\u1ea1i:"+Number.parseInt(t)+"s",s.Windown.FishBongDem.setInterval(this.timeOutCountDown=function(){t--,n.string="Th\u1eddi gian c\xf2n l\u1ea1i:"+Number.parseInt(t)+"s",cc.Tween.stopAllByTarget(n.node),cc.tween(n.node).to(.2,{scale:1.4}).to(.2,{scale:1.1}).start(),t<=0&&(s.Windown.FishBongDem.unschedule(e.timeOutCountDown),n.node.active=!1),t<=5&&e.gunBD.playerBD.isItemAuto&&(e.rotate(cc.v2(s.Windown.RandomNumber(-400,400),s.Windown.RandomNumber(-180,180))),e.cancleAtack())},1)},e.prototype.offCountDownTime=function(){s.Windown.FishBongDem.unschedule(this.timeOutCountDown),this.gunBD.playerBD.lbTimeCD.node.active=!1},e.prototype.sendUsing=function(){if(null!=this.point){var t=r.ConectManager.getIns().getSFSObj(),e=this.point.clone(),n=s.Windown.FishBongDem.convertVec(e);t.putDouble("PointX",n.x),t.putDouble("PointY",n.y),t.putInt("Type",p.default.MUI_KHOAN),t.putLong("Id",this.idGunNow),s.Windown.FishBongDem.sendRequest(u.default.UsingItemDrag,t),this.isAtack=!0,this.offCountDownTime()}},e.prototype.rotate=function(t){if(!this.isAtack&&this.isCanLook){var e=t.clone().subSelf(this.gunBD.pointInScreen),n=180*Math.atan2(e.x,e.y)/Math.PI;this.currenAngle=n,this.gunBD.bodyGun.angle=-n,this.point=t}},e.prototype.reset=function(){var t=this;s.Windown.FishBongDem.unschedule(this.timeOutBackToNormalGun),this.offCountDownTime(),cc.Tween.stopAllByTarget(this.nodeGun),cc.tween(this.nodeGun).to(.3,{scale:0}).call(function(){s.Windown.FishBongDem.pool.putGunMuiKhoan(t.nodeGun)}).start();var e=s.Windown.FishBongDem.getSound();e.stopEffect(e.watingMuiKhoan)},e.prototype.setTimeDelay=function(){},e.prototype.updateCp=function(){},e.prototype.cancleAtack=function(){this.gunBD.playerBD.isMe&&this.isCanLook&&!this.isAtack&&this.sendUsing()},e.prototype.setFishIdTarget=function(){},e.prototype.onClickAdd=function(){},e.prototype.onClickSub=function(){},e}(t("./BaseStateGunBD").default);n.default=h,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Windown":"Windown","../Bullet/BulletMuiKhoanBD":"BulletMuiKhoanBD","../DeadBevhavior/PanelPoint":"PanelPoint","../Fish/FISH_TYPE":"FISH_TYPE","../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD","./BaseStateGunBD":"BaseStateGunBD"}],StateGunNormal:[function(t,e,n){"use strict";cc._RF.push(e,"ced85gYZYFLb4NxDGQaiyeD","StateGunNormal");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/DefineTs/TextDefine"),s=t("../../../../Scritps/Network/ConectManager"),a=t("../../../../Scritps/Windown"),c=t("../Bullet/BulletNormal"),l=t("../Network/CODE_EVT"),u=t("../Player/Effect/TypePlayerEffectBD"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currenAngle=0,e.isAtack=!1,e}return i(e,t),e.prototype.creatNodePanel=function(){},e.prototype.setTimeDelayMax=function(){this.timeDelay=.05},e.prototype.setTimeDelayNormarl=function(){this.timeDelay=.22},e.prototype.setMoneyGun=function(t){this.indexMoneyGun=t,this.gunBD.lbGunValue.string=a.Windown.formatNumber(a.Windown.FishBongDem.getGunValueByType(t)),a.Windown.FishBongDem.getSound().playChangeGun()},e.prototype.execute=function(){this.gunBD.setActiveBtn(!0),this.gunBD.lbGunValue.string=a.Windown.formatNumber(a.Windown.FishBongDem.getGunValueByType(this.indexMoneyGun)),this.setTimeDelayNormarl();var t=a.Windown.FishBongDem.pool.getGunNormal();t.parent=this.gunBD.bodyGun,t.stopAllActions(),t.scale=0,t.runAction(cc.sequence(cc.delayTime(.3),cc.scaleTo(.3,1))),t.setPosition(0,0),this.nodeGun=t},e.prototype.setFishIdTarget=function(t,e){this.idFishTarget=t,this.indexColider=e},e.prototype.atack=function(){var t=a.Windown.FishBongDem.getGunValueByType(this.indexMoneyGun);if(this.gunBD.playerBD.gold<t){if(this.gunBD.playerBD.isMe){a.Windown.Dialog.showLog(r.TextDefine.NotMoneyFish);var e=a.Windown.FishBongDem.fishBDView.camMay.toggleStart;e.isChecked&&e.uncheck(),a.Windown.BotController&&a.Windown.FishBongDem.setTimeout(function(){a.Windown.restartGame()},a.Windown.RandomNumber(3,30)),this.gunBD.playerBD.forceEndEffect(u.default.TARGET)}}else{this.nodeGun.getComponentInChildren(sp.Skeleton).setAnimation(0,"attack",!1);var n=this.speedBullet,o=n*Math.sin(this.currenAngle*Math.PI/180),i=n*Math.cos(this.currenAngle*Math.PI/180),l=this.gunBD.getVecStartBullet(),p=s.ConectManager.getIns().getSFSObj();if(p.putFloat("VelocityX",o),p.putFloat("VelocityY",i),p.putFloat("PositionX",l.x),p.putFloat("PositionY",l.y),p.putInt("FishIdTarget",this.idFishTarget),p.putInt("IC",this.indexColider),p.putFloat("Angle",this.currenAngle),p.putInt("Speed",this.speedBullet),p.putLong("BulletId",10*Date.now()+this.gunBD.playerBD.playerId),p.putLong("CreatedTime",1),p.putInt("IndexMoneyGun",this.gunBD.playerBD.indexMoneyGun),this.gunBD.getBulletNormalPool().getComponent(c.default).creat(p,this.gunBD,this.gunBD.playerBD.isMe),this.gunBD.playerBD.isMe){var h=cc.v2(o,i);a.Windown.FishBongDem.convertVec(h),a.Windown.FishBongDem.convertVec(l);var d=a.Windown.FishBongDem.conVertAngle(this.currenAngle);p.putFloat("VelocityX",h.x),p.putFloat("VelocityY",h.y),p.putFloat("PositionX",l.x),p.putFloat("PositionY",l.y),p.putFloat("Angle",d),a.Windown.FishBongDem.sendBullet(p);var f=a.Windown.FishBongDem.getSound();f.playEffect(f.gunAtack,.5)}}},e.prototype.rotate=function(t){var e=t.clone().subSelf(this.gunBD.pointInScreen),n=180*Math.atan2(e.x,e.y)/Math.PI;this.currenAngle=n,this.gunBD.bodyGun.angle=-n,this.isAtack=!0,this.timeUpdate>=this.timeDelay&&this.isAtack&&(this.atack(),this.timeUpdate=0)},e.prototype.cancleAtack=function(){this.timeUpdate=0,this.isAtack=!1,this.nodeGun.getComponentInChildren(sp.Skeleton).setAnimation(0,"idle",!0)},e.prototype.reset=function(){var t=this;cc.log("r\u1ebft gun normal"),this.nodeGun.stopAllActions(),cc.tween(this.nodeGun).to(.3,{scale:0}).call(function(){a.Windown.FishBongDem.pool.putGunNormal(t.nodeGun)}).start(),this.idFishTarget=-1,this.indexColider=-1},e.prototype.onClickAdd=function(){var t=this.indexMoneyGun,e=s.ConectManager.getIns().getSFSObj();++t>=a.Windown.FishBongDem.listGunMoney.length&&(t=0),e.putInt("IndexMoneyGun",t),a.Windown.FishBongDem.sendRequest(l.default.ChangeMoneyGun,e)},e.prototype.onClickSub=function(){var t=this.indexMoneyGun,e=s.ConectManager.getIns().getSFSObj();--t<0&&(t=a.Windown.FishBongDem.listGunMoney.length-1),e.putInt("IndexMoneyGun",t),a.Windown.FishBongDem.sendRequest(l.default.ChangeMoneyGun,e)},e.prototype.updateCp=function(t){this.gunBD.playerBD.isMe&&(this.timeUpdate+=t,this.timeUpdate>=this.timeDelay&&this.isAtack&&(this.atack(),this.timeUpdate=0))},e}(t("./BaseStateGunBD").default);n.default=p,cc._RF.pop()},{"../../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Windown":"Windown","../Bullet/BulletNormal":"BulletNormal","../Network/CODE_EVT":"CODE_EVT","../Player/Effect/TypePlayerEffectBD":"TypePlayerEffectBD","./BaseStateGunBD":"BaseStateGunBD"}],StateGunSet:[function(t,e,n){"use strict";cc._RF.push(e,"b117eU6Oa9Il6/2VkBFeo4q","StateGunSet");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/DefineTs/TextDefine"),s=t("../../../../Scritps/Network/ConectManager"),a=t("../../../../Scritps/Windown"),c=t("../Network/CODE_EVT"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currenAngle=0,e.isAtack=!1,e.currentColider=null,e.fishTarget=null,e}return i(e,t),e.prototype.creatNodePanel=function(){},e.prototype.setTimeDelayMax=function(){this.timeDelay=.05},e.prototype.setTimeDelayNormarl=function(){this.timeDelay=.18},e.prototype.setMoneyGun=function(t){this.indexMoneyGun=t,this.gunBD.lbGunValue.string=a.Windown.formatNumber(a.Windown.FishBongDem.getGunValueByType(t)),a.Windown.FishBongDem.getSound().playChangeGun()},e.prototype.execute=function(){this.gunBD.setActiveBtn(!0),this.gunBD.lbGunValue.string=a.Windown.formatNumber(a.Windown.FishBongDem.getGunValueByType(this.indexMoneyGun)),this.gunBD.playerBD.isMe&&a.Windown.FishBongDem.fishBDView.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.nodeGun=a.Windown.FishBongDem.pool.getGunSet(),this.nodeGun.parent=this.gunBD.bodyGun,this.nodeGun.scale=0,this.nodeGun.runAction(cc.sequence(cc.delayTime(.3),cc.scaleTo(.5,1))),this.nodeGun.setPosition(0,0),this.nodeGun.children[0].active=!1,this.nodeGun.children[2].active=!1,this.setTimeDelayNormarl(),this.gunBD.playerBD.playerSiting>2?this.gunBD.bodyGun.angle=180:this.gunBD.bodyGun.angle=0},e.prototype.setFishIdTarget=function(t,e){e=Number(e),this.idFishTarget==t&&this.indexColider==e||(this.fishTarget=a.Windown.FishBongDem.fishMng.getFishById(t),this.fishTarget&&(this.currentColider=this.fishTarget.getListColider()[e],this.currentColider&&(this.nodeGun.children[0].active=!0,this.nodeGun.children[2].active=!0,this.idFishTarget=t,this.indexColider=e)))},e.prototype.atack=function(){if(null!=this.fishTarget){var t=a.Windown.FishBongDem.getGunValueByType(this.indexMoneyGun);if(this.gunBD.playerBD.gold<t){if(this.gunBD.playerBD.isMe){a.Windown.Dialog.showLog(r.TextDefine.NotMoneyFish);var e=a.Windown.FishBongDem.fishBDView.camMay.toggleStart;e.isChecked&&e.uncheck(),a.Windown.BotController&&a.Windown.FishBongDem.setTimeout(function(){a.Windown.restartGame()},a.Windown.RandomNumber(3,30)),this.offTarget()}}else{var n=this.speedBullet,o=n*Math.sin(this.currenAngle*Math.PI/180),i=n*Math.cos(this.currenAngle*Math.PI/180),l=this.gunBD.getVecStartBullet(),u=s.ConectManager.getIns().getSFSObj();if(u.putFloat("VelocityX",o),u.putFloat("VelocityY",i),u.putFloat("PositionX",l.x),u.putFloat("PositionY",l.y),u.putInt("FishIdTarget",this.idFishTarget),u.putInt("IC",this.indexColider),u.putFloat("Angle",this.currenAngle),u.putInt("Speed",this.speedBullet),u.putLong("BulletId",10*Date.now()+this.gunBD.playerBD.playerId),u.putLong("CreatedTime",1),u.putInt("IndexMoneyGun",this.gunBD.playerBD.indexMoneyGun),this.fishTarget.onColision(this.currentColider),this.gunBD.playerBD.isMe){var p=cc.v2(o,i);a.Windown.FishBongDem.convertVec(p),a.Windown.FishBongDem.convertVec(l);var h=a.Windown.FishBongDem.conVertAngle(this.currenAngle);u.putFloat("VelocityX",p.x),u.putFloat("VelocityY",p.y),u.putFloat("PositionX",l.x),u.putFloat("PositionY",l.y),u.putFloat("Angle",h),a.Windown.FishBongDem.sendBullet(u);var d=s.ConectManager.getIns().getSFSObj();d.putLong("BulletId",u.get("BulletId")),d.putInt("FishId",this.fishTarget.fishId),d.putInt("FishType",this.fishTarget.fishType),a.Windown.FishBongDem.sendRequest(c.default.FishColisionBD,d);var f=a.Windown.FishBongDem.getSound();f.playEffect(f.set,.3)}}}},e.prototype.touchStart=function(t){for(var e=t.getLocation(),n=a.Windown.FishBongDem.fishMng.getMapFish().values(),o=n.next();!o.done;){var i=o.value;o=n.next();var r=i.getListColider();for(var s in r){var c=r[s];if(this.currentColider!=c&&c.world&&c.world.points&&cc.Intersection.pointInPolygon(e,c.world.points))return void this.setFishIdTarget(i.fishId,s)}}this.offTarget()},e.prototype.rotate=function(){this.isAtack=!0},e.prototype.cancleAtack=function(){},e.prototype.reset=function(){var t=this;this.gunBD.playerBD.isMe&&a.Windown.FishBongDem.fishBDView.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),cc.Tween.stopAllByTarget(this.nodeGun),cc.tween(this.nodeGun).to(.3,{scale:0}).call(function(){a.Windown.FishBongDem.pool.putGunSet(t.nodeGun)}).start(),this.offTarget()},e.prototype.onClickAdd=function(){var t=this.indexMoneyGun,e=s.ConectManager.getIns().getSFSObj();++t>=a.Windown.FishBongDem.listGunMoney.length&&(t=0),e.putInt("IndexMoneyGun",t),a.Windown.FishBongDem.sendRequest(c.default.ChangeMoneyGun,e)},e.prototype.onClickSub=function(){var t=this.indexMoneyGun,e=s.ConectManager.getIns().getSFSObj();--t<0&&(t=a.Windown.FishBongDem.listGunMoney.length-1),e.putInt("IndexMoneyGun",t),a.Windown.FishBongDem.sendRequest(c.default.ChangeMoneyGun,e)},e.prototype.checkColider=function(){if(this.fishTarget.getCanColision()){var t=this.currentColider.node.parent.convertToWorldSpaceAR(this.currentColider.node.getPosition()),e=a.Windown.FishBongDem.fishBDView.parentFish.convertToNodeSpaceAR(t);if(e.x>640||e.x<-640||e.y>360||e.y<-360)this.getNewColider();else{var n=this.nodeGun.convertToNodeSpaceAR(t),o=this.nodeGun.children[0],i=n.clone().subSelf(o.getPosition()),r=180*Math.atan2(i.x,i.y)/Math.PI,s=cc.Vec2.distance(n,o.getPosition());this.isAtack=!0,o.angle=-r,o.height=s,o.children[0].y=s}}else this.offTarget()},e.prototype.getNewColider=function(){for(var t=0,e=this.fishTarget.getListColider();t<e.length;t++){var n=e[t];if(n!=this.currentColider){var o=n.node.parent.convertToWorldSpaceAR(n.node.getPosition()),i=a.Windown.FishBongDem.fishBDView.parentEffect.convertToNodeSpaceAR(o);if(!(i.x>640||i.x<-640||i.y>360||i.y<-360))return void(this.currentColider=n)}}this.offTarget()},e.prototype.offTarget=function(){this.fishTarget=null,this.idFishTarget=-1,this.currentColider=null,this.indexColider=-1,this.nodeGun.children[0].active=!1,this.nodeGun.children[2].active=!1,this.isAtack=!1},e.prototype.updateCp=function(t){this.fishTarget&&this.currentColider&&this.checkColider(),this.timeUpdate+=t,this.timeUpdate>=this.timeDelay&&this.isAtack&&(this.atack(),this.timeUpdate=0)},e}(t("./BaseStateGunBD").default);n.default=l,cc._RF.pop()},{"../../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Windown":"Windown","../Network/CODE_EVT":"CODE_EVT","./BaseStateGunBD":"BaseStateGunBD"}],StateGunSongAm:[function(t,e,n){"use strict";cc._RF.push(e,"c6e64SynNpBgoJpIgDp7+zt","StateGunSongAm");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Network/ConectManager"),s=t("../../../../Scritps/Windown"),a=t("../Bullet/BulletSongAmBD"),c=t("../DeadBevhavior/PanelPoint"),l=t("../Fish/FISH_TYPE"),u=t("../Network/CODE_EVT"),p=t("../Player/TypeItemDragBD"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currenAngle=0,e.isCanAtack=!1,e.bulletSongAm=null,e.timeUse=0,e.timeRemove=0,e.timeOutBackToNormalGun=null,e.timeOutCountDown=null,e.isAtack=!1,e.isCanLook=!1,e.point=null,e.itemDrag=null,e.idGunNow=-1,e.parentItemTemplate=null,e.itemTempPlate=null,e.funCreatItem=null,e}return i(e,t),e.prototype.setTimeDelayMax=function(){},e.prototype.setTimeDelayNormarl=function(){},e.prototype.setMoneyGun=function(){},e.prototype.execute=function(){var t=this;this.gunBD.setActiveBtn(!1);var e=s.Windown.FishBongDem.pool.getGunSongAm();e.parent=this.gunBD.bodyGun,e.scale=0,e.runAction(cc.sequence(cc.delayTime(.3),cc.scaleTo(.5,1))),e.setPosition(0,0),this.nodeGun=e;var n=cc.find("bgTitle",e);n.active=!0,n.opacity=0,n.scale=2,cc.Tween.stopAllByTarget(n),cc.tween(n).delay(.6).to(.2,{opacity:255,scale:1},{easing:"sineIn"}).delay(1.5).to(.5,{opacity:0}).start();var o=cc.find("imgSongAm",e);o.opacity=0,cc.Tween.stopAllByTarget(o),cc.tween(o).to(.3,{opacity:255}).call(function(){t.isCanLook=!0}).start(),this.parentItemTemplate=cc.find("ParentBulletTemp",e),this.parentItemTemplate.destroyAllChildren(),this.itemTempPlate=cc.find("BulletTemp",e),this.bulletSongAm=cc.find("BulletSongAm",e).getComponent(a.default),this.bulletSongAm.node.active=!1,this.itemDrag=this.gunBD.playerBD.getItemDrag(this.idGunNow),s.Windown.FishBongDem.setTimeout(this.timeOutBackToNormalGun=function(){s.Windown.FishBongDem&&(t.gunBD.playerBD.backToCurrentGun(),t.removeNodePanel())},this.itemDrag.timeRemove),this.countDownTime(this.itemDrag.timeRemove),this.creatNodePanel()},e.prototype.creatNodePanel=function(){s.Windown.FishBongDem.pool.getPanelSongAm().getComponent(c.default).init(this.gunBD.playerBD,this.idGunNow,l.default.SONG_AM)},e.prototype.atack=function(){var t=this;cc.find("imgSongAm",this.nodeGun).opacity=0;var e=0;s.Windown.FishBongDem.setInterval(this.funCreatItem=function(){t.funCreatBullet(),++e>15&&s.Windown.FishBongDem.unschedule(t.funCreatItem)},.2),this.gunBD.playerBD.isMe&&this.bulletSongAm.init(this.itemDrag.timeUse,this.idGunNow),s.Windown.FishBongDem.unschedule(this.timeOutBackToNormalGun),this.offCountDownTime(),s.Windown.FishBongDem.setTimeout(this.timeOutBackToNormalGun=function(){t.gunBD.playerBD.backToCurrentGun(),t.removeNodePanel()},this.itemDrag.timeUse)},e.prototype.funCreatBullet=function(){var t=cc.instantiate(this.itemTempPlate);t.parent=this.parentItemTemplate,t.active=!0,t.scale=0,t.y=0;var e=cc.scaleTo(1.2,3),n=cc.moveTo(1.2,0,950),o=cc.sequence(cc.delayTime(.8),cc.fadeOut(.4));t.runAction(cc.sequence(cc.spawn(e,n,o),cc.callFunc(function(){t.destroy()})));var i=s.Windown.FishBongDem.getSound();i.playEffectNoStop(i.soundWave)},e.prototype.countDownTime=function(t){var e=this;cc.log("time la: "+t);var n=this.gunBD.playerBD.lbTimeCD;n.node.active=!0,t--,n.string="Th\u1eddi gian c\xf2n l\u1ea1i:"+Number.parseInt(t)+"s",s.Windown.FishBongDem.setInterval(this.timeOutCountDown=function(){t--,n.string="Th\u1eddi gian c\xf2n l\u1ea1i:"+Number.parseInt(t)+"s",cc.Tween.stopAllByTarget(n.node),cc.tween(n.node).to(.2,{scale:1.4}).to(.2,{scale:1.1}).start(),t<=0&&(s.Windown.FishBongDem.unschedule(e.timeOutCountDown),n.node.active=!1),t<=5&&e.gunBD.playerBD.isItemAuto&&(e.rotate(cc.v2(s.Windown.RandomNumber(-400,400),s.Windown.RandomNumber(-180,180))),e.cancleAtack())},1)},e.prototype.offCountDownTime=function(){s.Windown.FishBongDem.unschedule(this.timeOutCountDown),this.gunBD.playerBD.lbTimeCD.node.active=!1},e.prototype.sendUsing=function(){if(null!=this.point){var t=r.ConectManager.getIns().getSFSObj(),e=this.point.clone(),n=s.Windown.FishBongDem.convertVec(e);t.putDouble("PointX",n.x),t.putDouble("PointY",n.y),t.putInt("Type",p.default.SONG_AM),t.putLong("Id",this.idGunNow),s.Windown.FishBongDem.sendRequest(u.default.UsingItemDrag,t),this.isAtack=!0,this.offCountDownTime()}},e.prototype.rotate=function(t){if(!this.isAtack&&this.isCanLook){var e=t.clone().subSelf(this.gunBD.pointInScreen),n=180*Math.atan2(e.x,e.y)/Math.PI;this.currenAngle=n,this.gunBD.bodyGun.angle=-n,this.point=t}},e.prototype.reset=function(){var t=this;s.Windown.FishBongDem.unschedule(this.timeOutBackToNormalGun),s.Windown.FishBongDem.unschedule(this.funCreatItem),this.parentItemTemplate.destroyAllChildren(),this.offCountDownTime(),this.gunBD.setActiveBtn(!0),cc.Tween.stopAllByTarget(this.nodeGun),cc.tween(this.nodeGun).to(.3,{scale:0}).call(function(){s.Windown.FishBongDem.pool.putGunSongAm(t.nodeGun)}).start()},e.prototype.setTimeDelay=function(){},e.prototype.updateCp=function(){},e.prototype.cancleAtack=function(){this.gunBD.playerBD.isMe&&this.isCanLook&&!this.isAtack&&this.sendUsing()},e.prototype.setFishIdTarget=function(){},e.prototype.onClickAdd=function(){},e.prototype.onClickSub=function(){},e}(t("./BaseStateGunBD").default);n.default=h,cc._RF.pop()},{"../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Windown":"Windown","../Bullet/BulletSongAmBD":"BulletSongAmBD","../DeadBevhavior/PanelPoint":"PanelPoint","../Fish/FISH_TYPE":"FISH_TYPE","../Network/CODE_EVT":"CODE_EVT","../Player/TypeItemDragBD":"TypeItemDragBD","./BaseStateGunBD":"BaseStateGunBD"}],StateNapCard:[function(t,e,n){"use strict";cc._RF.push(e,"26d9dcN3j9DtLbaoBnCi4sD","StateNapCard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.executed=function(){this.napView.nodeCard.active=!0,this.napView.nodeVDT.active=!1,this.napView.toggleVdt.uncheck(),this.napView.edbSeri.string="",this.napView.edbMaThe.string="",this.napView.lbMenhGia.string="0 VN\u0110",this.napView.currentMenhGia=0,this.napView.lbNoteMenhGia.active=!0},e.prototype.reset=function(){},e}(t("./BaseStateNap").default);n.default=r,cc._RF.pop()},{"./BaseStateNap":"BaseStateNap"}],StateNapMomo:[function(t,e,n){"use strict";cc._RF.push(e,"ed17c9dmhRDfZabjPOWhgO/","StateNapMomo");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../DefineTs/REQUEST_CODE"),s=t("../../../DefineTs/TextDefine"),a=t("../../../InfoERR"),c=t("../../../Network/ConectManager"),l=t("../../../Windown"),u=function(t){function e(e){var n=t.call(this,e)||this;return n.edbMoney=null,n.edbCaptcha=null,n.numberTimeOut=null,n.currentIdMomo=null,n.edbMoney=n.napView.edbMoneyMomo,n.edbCaptcha=n.napView.edbCaptchaMomo,n}return i(e,t),e.prototype.executed=function(){cc.systemEvent.on(r.REQUEST_CODE.GetConfigMomo,this.responseConfigMomo,this),cc.systemEvent.on(r.REQUEST_CODE.HuyMomo,this.responseHuyMomo,this),this.edbMoney.string="",this.edbCaptcha.string="",this.napView.lbStkMomo.string="...",this.napView.lbTtkMomo.string="...",this.napView.lbContentMomo.string="...",this.napView.lbRate.string="...",this.napView.lbRateBonus.string="...",this.napView.nodeCard.active=!1,this.napView.nodeVDT.active=!0,this.napView.toggleCard.uncheck(),this.napView.nodeInfo.active=!0,this.napView.nodeReviceInfoMomo.active=!1,l.Windown.CapchaController.requestCapcha(),null!=l.Windown.ShopView.cardAmountShow&&(this.edbMoney.string=l.Windown.ShopView.cardAmountShow.toString())},e.prototype.onClickNap=function(){var t=l.Windown.splitToInt(this.edbMoney.string),e=this.edbCaptcha.string;try{if(isNaN(t))throw new a.InfoErr(s.TextDefine.NullMenhGia);if(t<1e4)throw new a.InfoErr(s.TextDefine.LonHon10000);if(e.length<1)throw new a.InfoErr(s.TextDefine.NullCaptcha);var n=c.ConectManager.getIns().getSFSObj();n.putInt("amount",t),n.putUtfString("captcha",e),null!=l.Windown.ShopView.idGoi&&n.putInt("napvip",l.Windown.ShopView.idGoi),cc.log("data nap momo:"+l.Windown.SFSObjToJson(n)),c.ConectManager.getIns().sendRequest(r.REQUEST_CODE.GetConfigMomoTuan,n),l.Windown.UIManager.showLoading()}catch(o){l.Windown.Dialog.showLog(o.message.replace("lvd----",""))}},e.prototype.onClickHuy=function(){this.responseHuyMomo()},e.prototype.onEdbChange=function(t){cc.log(t),t=t.replace(/[.]/g,""),t=l.Windown.formatNumber(t),this.edbMoney.string=t,this.edbMoney.focus()},e.prototype.funCountDown=function(t){var e=this;this.numberTimeOut=setInterval(function(){t--,e.napView.lbTimeMomo.string="Th\u1eddi gian c\xf2n l\u1ea1i("+t+")",t<1&&e.responseHuyMomo()},1e3)},e.prototype.responseConfigMomo=function(t){l.Windown.UIManager.hideLoading(),l.Windown.Dialog.checkAndShowLog(t,!0),cc.log(l.Windown.SFSObjToJson(t));var e=t.getUtfString("phoneNum"),n=t.getUtfString("phoneName"),o=t.getUtfString("code"),i=t.getDouble("rate"),r=t.getDouble("rateBonus"),a=t.getDouble("requireBonus");this.napView.lbStkMomo.string=e,this.napView.lbTtkMomo.string=n,this.napView.lbContentMomo.string=o,this.napView.lbRate.string="1:"+i,this.napView.deepLinkMomo=t.getUtfString("deep_link"),this.napView.lbRateBonus.string=r>0?s.TextDefine.RateBonusMomo.formatString(l.Windown.formatNumber(a),10*r):"",this.napView.nodeInfo.active=!1,this.napView.nodeReviceInfoMomo.active=!0,this.funCountDown(t.get("timeToExpired")),this.currentIdMomo=t.get("id")},e.prototype.responseHuyMomo=function(){l.Windown.UIManager.hideLoading(),clearInterval(this.numberTimeOut),this.currentIdMomo=null,this.napView.nodeInfo.active=!0,this.napView.nodeReviceInfoMomo.active=!1,l.Windown.CapchaController.requestCapcha(),this.edbMoney.string=""},e.prototype.reset=function(){clearInterval(this.numberTimeOut),cc.systemEvent.targetOff(this),this.currentIdMomo=null},e}(t("./BaseStateNap").default);n.default=u,cc._RF.pop()},{"../../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../DefineTs/TextDefine":"TextDefine","../../../InfoERR":"InfoERR","../../../Network/ConectManager":"ConectManager","../../../Windown":"Windown","./BaseStateNap":"BaseStateNap"}],StatePlayingMini:[function(t,e,n){"use strict";cc._RF.push(e,"a129f3A8jFOk5LPNRRbIZjX","StatePlayingMini");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(){var t=this;this.xengController.listBtnXDV.forEach(function(t){t.offEvent()}),this.xengController.listBtnItem.forEach(function(t){t.offEvent()}),this.xengController.btnChangePointL.initEvent(),this.xengController.btnChangePointR.initEvent(),this.xengController.listBtnClick.forEach(function(t){t.initEvent()}),this.xengController.listBtnItem.forEach(function(e){e.reset(),t.xengController.offEffect(e.lbPoint.node)}),this.xengController.listBtnXDV.forEach(function(e){e.reset(),t.xengController.offEffect(e.lbPoint.node)}),this.xengController.xengView.getListChildXDV().forEach(function(e){t.xengController.offItem(e)}),this.xengController.xengView.getListChildren().forEach(function(e){t.xengController.offItem(e)}),this.xengController.xengView.runEffectRandomLabelHesoMiniGame(),this.xengController.getSoundMng().stopNhacCho(),this.xengController.getSoundMng().playEffect(this.xengController.getSoundMng().NhacNenToNho)},e}(t("./BaseState").default);n.default=r,cc._RF.pop()},{"./BaseState":"BaseState"}],StatePlaying:[function(t,e,n){"use strict";cc._RF.push(e,"87eed/6USpPlJc9t0TRnp5j","StatePlaying");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(){this.xengController.listBtnClick.forEach(function(t){"all1"!=t.node.name&&t.offEvent()}),this.xengController.btnChangePointL.offEvent(),this.xengController.btnChangePointR.offEvent(),this.xengController.btnGo.initEvent(),this.xengController.getSoundMng().stopNhacCho()},e}(t("./BaseState").default);n.default=r,cc._RF.pop()},{"./BaseState":"BaseState"}],StateReelSlot:[function(t,e,n){"use strict";cc._RF.push(e,"86206jyhURJxJ5Y3BdhbxMb","StateReelSlot"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.WAITING=0,t.RUN=1,t.CAN_STOP=2,t.SHOW_EFFECT=3,t.STOP=4,t.NORMAL=15,t.MAX_SPEED=16,t.AUTO_SPIN=17,t.FREE_SPIN=18,t}();n.default=o,cc._RF.pop()},{}],StateWatingPlayGameMini:[function(t,e,n){"use strict";cc._RF.push(e,"d681e4RLF9ErLm/yr6CnEJx","StateWatingPlayGameMini");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(){t.prototype.execute.call(this),this.xengController.getSoundMng().stopNhacCho(),this.xengController.xengView.runEffectRandomLabelHesoMiniGame(),this.xengController.getSoundMng().playEffect(this.xengController.getSoundMng().NhacNenToNho)},e}(t("./StateWatingPlayGame").default);n.default=r,cc._RF.pop()},{"./StateWatingPlayGame":"StateWatingPlayGame"}],StateWatingPlayGame:[function(t,e,n){"use strict";cc._RF.push(e,"0c2e3nymtRPfqd0JcmUiRiQ","StateWatingPlayGame");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(){this.xengController.listBtnClick.forEach(function(t){t.initEvent()}),this.xengController.listBtnItem.forEach(function(t){t.initEvent()}),this.xengController.btnGo.initEvent(),this.xengController.btnChangePointL.initEvent(),this.xengController.btnChangePointR.initEvent(),this.xengController.getSoundMng().playNhacCho()},e}(t("./BaseState").default);n.default=r,cc._RF.pop()},{"./BaseState":"BaseState"}],StateWating:[function(t,e,n){"use strict";cc._RF.push(e,"0befaq7Go5NKKHpl6lqCkak","StateWating");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../Scritps/Game/GAME_TYPE"),s=t("../../../../Scritps/Windown"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.execute=function(){this.xengController.listButton.forEach(function(t){t.initEvent()}),this.xengController.listBtnClick.forEach(function(t){t.offEvent()}),this.xengController.btnGo.initEvent(),this.xengController.btnChangePointL.reset(),this.xengController.btnChangePointR.reset(),this.xengController.resetEffectAll(),this.xengController.xengView.offEffectLabelHeso(),this.xengController.getSoundMng().stopNhacCho(),this.xengController.getSoundMng().stopEffect(this.xengController.getSoundMng().NhacNenToNho),s.Windown.MoneyUser.removeDelay(r.default.Xeng),s.Windown.MoneyUser.updateMoney()},e}(t("./BaseState").default);n.default=a,cc._RF.pop()},{"../../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../../Scritps/Windown":"Windown","./BaseState":"BaseState"}],StringFormat:[function(t,e,n){"use strict";cc._RF.push(e,"ea42dti/DxEp7qU7N247527","StringFormat"),Object.defineProperty(n,"__esModule",{value:!0}),n.StringFormatFunction=void 0;var o=function(){function t(){}return t.prototype.deal=function(t,e){if(""===e)return t;var n,o=(e=e.toLowerCase().trim()).match(/^[a-z|A-Z]+/gi),i=e.match(/\d+$/gi),r="",s="";if(o&&(r=o[0]),i&&(n=parseInt(i[0])),"number"==typeof t)switch(r){case"int":s=this.int(t);break;case"fix":s=this.fix(t,n);break;case"kmbt":s=this.KMBT(t,null,n);break;case"per":s=this.per(t,n);break;case"sep":s=this.sep(t,n)}else{switch(r){case"limit":s=this.limit(t,n)}s=t}return s},t.prototype.sep=function(t,e){var n=Math.round(t).toString();return e?n.replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1."):n.replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1,")},t.prototype.time_m=function(){},t.prototype.time_s=function(){},t.prototype.time_ms=function(){},t.prototype.timeStamp=function(t){return new Date(t).toString()},t.prototype.per=function(t,e){return Math.round(100*t).toFixed(e)},t.prototype.int=function(t){return Math.round(t)},t.prototype.fix=function(t,e){return t.toFixed(e)},t.prototype.limit=function(t,e){return t.substring(0,e)},t.prototype.KMBT=function(t,e,n){return void 0===e&&(e="en"),void 0===n&&(n=2),this.compressUnit(t,[1e3,1e6,1e9,1e12],["","K","M","B","T"],n)},t.prototype.compressUnit=function(t,e,n,o){void 0===o&&(o=2);var i,r,s=e,a=n;for(r=0;r<s.length;r++)if(t<s[r]){i=r>0?(t/s[r-1]).toFixed(o):t.toFixed(0);break}return i+a[r]},t}();n.StringFormatFunction=new o,cc._RF.pop()},{}],SuKien:[function(t,e,n){"use strict";cc._RF.push(e,"aada6m1Q0VGU7vVl+s+1cYc","SuKien");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=t("./TabSuKien"),u=t("../../Windown"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tabSuKien=null,e.toggleSuKien=null,e.toggleGiftCode=null,e.idSuKienShow=-1,e}return i(e,t),e.prototype.ctor=function(){cc.log("chay vao ham khoi tao")},e.prototype.onLoad=function(){u.Windown.SuKien=this},e.prototype.show=function(t,e){0==t?(this.toggleSuKien.check(),this.tabSuKien.node.active=!0):(this.toggleGiftCode.check(),this.tabSuKien.node.active=!1),e&&(this.idSuKienShow=e),u.Windown.actionEffectOpen(this.node,function(){})},e.prototype.setGiftCode=function(){},e.prototype.onToggle=function(t){cc.log("nhay vao toggle Su Kien"),t==this.toggleSuKien?this.tabSuKien.node.active=!0:(this.tabSuKien.node.active=!1,this.tabSuKien.reset())},e.prototype.onDisable=function(){this.tabSuKien.reset()},e.prototype.onDestroy=function(){u.Windown.SuKien=null},e.prototype.onClickClose=function(){var t=this;u.Windown.actionEffectClose(this.node,function(){t.node.parent=null})},r([c(l.default)],e.prototype,"tabSuKien",void 0),r([c(cc.Toggle)],e.prototype,"toggleSuKien",void 0),r([c(cc.Toggle)],e.prototype,"toggleGiftCode",void 0),r([a],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Windown":"Windown","./TabSuKien":"TabSuKien"}],SymbolAiCap:[function(t,e,n){"use strict";cc._RF.push(e,"9de08J2gY9BuahKX+GmHTOQ","SymbolAiCap");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/StateReelSlot"),l=t("../../../Scritps/Windown"),u=t("./ItemSlotAiCap"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.spriteBkg=null,e.spriteShad=null,e.spriteLight=null,e.wildFrame=null,e.wildAnim=null,e.s_btm_wild_blur=null,e.lbAgWin=null,e.sizeBkg=new cc.Size(208,163),e.size=new cc.Size(208,163),e.itemColum=null,e.result=-1,e.objSFS=null,e.sizeItem=0,e.canRun=!1,e.efWin=null,e.nodeMutil=null,e.lastPos=null,e.isShuff=!1,e.isShowEffectSpawn=!1,e}return i(e,t),e.prototype.setItemColum=function(t){this.itemColum=t},e.prototype.setResult=function(t,e){void 0===e&&(e=null),this.objSFS=t,this.result=t.getInt("idItem")+1,this.sizeItem=t.getInt("size"),this.itemColum.stateWhel==c.default.RUN?this.setImgResult(!0):this.setImgResult(!1),this.isShuff=!1,this.isShowEffectSpawn=!1},e.prototype.setResultHistory=function(t){this.result=t+1,this.setImgResult(!1)},e.prototype.setImgResult=function(t){this.sprite.spriteFrame=this.getSpItem(t),this.spriteBkg.spriteFrame=this.getSpBkg(t),this.spriteShad.spriteFrame=this.getSpItemShad(),this.spriteLight.spriteFrame=this.getSpItem(!1),11==this.result?(this.sprite.node.position=cc.v3(0,-30,0),this.spriteShad.node.active=!1,this.spriteLight.node.opacity=0,t?(this.wildAnim.active=!1,this.s_btm_wild_blur.active=!0):(this.wildAnim.active=!0,this.s_btm_wild_blur.active=!1)):(this.wildAnim.active=!1,this.s_btm_wild_blur.active=!1,this.sprite.node.position=cc.v3(0,0,0),this.spriteShad.node.active=!0,this.spriteLight.node.opacity=255)},e.prototype.getSpBkg=function(t){return t?(this.spriteBkg.node.scale=1.4,this.getAtlas().getSpriteFrame("btm_block_blur")):(this.spriteBkg.node.scale=1,this.getAtlas().getSpriteFrame("btm_block"))},e.prototype.getSpItem=function(t){if(t){if(11==this.result)return;return this.getAtlas().getSpriteFrame(this.convertNameSpineById()+"_blur")}if(11!=this.result)return this.getAtlas().getSpriteFrame(this.convertNameSpineById());this.wildAnim.active=!0},e.prototype.getSpItemShad=function(){return this.getAtlas().getSpriteFrame(this.convertNameSpineById()+"_shad")},e.prototype.getAtlas=function(){return l.Windown.AiCap.asset.atlasSymbol},e.prototype.getIndexOf=function(){return this.itemColum.getListSymbol().indexOf(this)},e.prototype.convertNameSpineById=function(){switch(this.result){case 1:return"btm_jar";case 2:return"btm_ankh";case 3:return"btm_cross";case 4:return"btm_eye";case 5:return"btm_ibis";case 6:return"btm_snake";case 7:return"btm_cat";case 8:return"btm_anubis";case 9:return"btm_horus";case 10:return"btm_pharaoh";case 11:return"s_btm_wild"}},e.prototype.checkIsInView=function(){return this.node.y<0&&this.node.y>-this.size.height*(this.itemColum.sizeSymbol-2)},e.prototype.offItem=function(){this.node.children.forEach(function(t){t.stopActionByTag(999),cc.tween(t).to(.3,{color:cc.Color.GRAY}).tag(999).start()})},e.prototype.activeItem=function(t){void 0===t&&(t=.3),this.node.children.forEach(function(e){e.stopActionByTag(999),cc.tween(e).to(t,{color:cc.Color.WHITE}).tag(999).start()})},e.prototype.resetState=function(){this.activeItem();var t=this.node.getComponent(cc.Animation);t.targetOff(t),t.stop(),this.node.getChildByName("select_glow_a").active=!1,this.node.getChildByName("select_glow_b").active=!1,this.node.getChildByName("particalSymbol").active=!1,this.node.getChildByName("light").active=!1,this.lbAgWin.node.active=!1},e.prototype.runSpin=function(){var t=cc.repeatForever(cc.moveBy(1,0,-2500));this.node.stopAllActions(),this.node.runAction(t),this.canRun=!0,this.resetState()},e.prototype.stopSpin=function(t){var e=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(t,cc.callFunc(function(){e.itemColum.effStopSpin()})))},e.prototype.initPosStartGame=function(){var t,e=this.getIndexOf(),n=this.itemColum.getListSymbol()[e-1],o=null==n?void 0:n.node.y;t=n?o-this.node.height/2-n.node.height/2:this.node.height/2,this.node.y=t},e.prototype.moveWhenListChange=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=null);var o=this.getIndexOf(),i=this.itemColum.getListSymbol()[o+1],r=i.node.y,s=null;t==u.TYPE_MOVE.NORMAL&&(s=r+this.node.height/2+i.node.height/2,this.node.y=s)},e.prototype.takeItem=function(t,e,n){return s(this,void 0,void 0,function(){return a(this,function(){return this.activeItem(),this.removeEfWin(),this.node.getComponent(cc.Animation).play(),1==t&&(this.lbAgWin.node.active=n,this.lbAgWin.string=l.Windown.formatNumber(e,!1)),[2]})})},e.prototype.removeEfWin=function(){if(this.efWin){var t=this.efWin.getComponent(cc.Animation);t.targetOff(t),t.stop()}this.efWin=null},e.prototype.removeItem=function(){var t=this;if(this.node.setPosition(l.Windown.convertNodeInOtherNode(this.node,this.itemColum.node)),this.node.parent=this.itemColum.node,this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){l.Windown.AiCap.asset.putSymbol(t.node)}))),this.efWin){var e=this.efWin.getComponent(cc.Animation);e.play("EndTakeItem"+this.sizeItem),e.once(cc.Animation.EventType.FINISHED,function(){t.removeEfWin()})}},e.prototype.effectSpawnSymbol=function(){return s(this,void 0,void 0,function(){return a(this,function(){return this.isShowEffectSpawn||this.checkIsInView(),[2]})})},e.prototype.unuse=function(){this.itemColum=null,this.isShowEffectSpawn=!1,this.isShuff=!1,this.result=-1,this.node.opacity=255,this.sprite.node.scale=1,this.sprite.node.y=1,this.sprite.node.opacity=255,this.node.stopAllActions()},e.prototype.checkEndCot=function(){if(0==this.getIndexOf()){var t=this.node.height/2;if(this.node.y<=t){var e=this.itemColum.getIdSymbolResult(),n=this.itemColum.getListSymbol(),o=n[n.length-1];o.node.zIndex=0,o.node.setSiblingIndex(0),o.node.parent.sortAllChildren(),o.setResult(e),this.itemColum.emitNewList(),o.moveWhenListChange(u.TYPE_MOVE.NORMAL)}}},e.prototype.update=function(){this.canRun&&this.checkEndCot()},r([d(cc.Sprite)],e.prototype,"sprite",void 0),r([d(cc.Sprite)],e.prototype,"spriteBkg",void 0),r([d(cc.Sprite)],e.prototype,"spriteShad",void 0),r([d(cc.Mask)],e.prototype,"spriteLight",void 0),r([d(cc.SpriteFrame)],e.prototype,"wildFrame",void 0),r([d(cc.Node)],e.prototype,"wildAnim",void 0),r([d(cc.Node)],e.prototype,"s_btm_wild_blur",void 0),r([d(cc.Label)],e.prototype,"lbAgWin",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Windown":"Windown","./ItemSlotAiCap":"ItemSlotAiCap"}],SymbolAsgard:[function(t,e,n){"use strict";cc._RF.push(e,"94594KGpu1PJ5YwbZMOf591","SymbolAsgard");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE_ITEM=void 0;var c,l=t("../../../Scritps/DefineTs/StateReelSlot"),u=t("../../../Scritps/Util"),p=t("../../../Scritps/Windown"),h=t("./Effect/EffectSymbolAsgard"),d=t("./Effect/ItemAddScaterAsgard"),f=t("./Effect/ShuffItemAsgard"),y=t("./ItemSlotAsgard"),g=cc._decorator,m=g.ccclass,v=g.property;(function(t){t[t.NONE=0]="NONE",t[t.BAC=1]="BAC",t[t.VANG=2]="VANG"})(c=n.TYPE_ITEM||(n.TYPE_ITEM={}));var S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.spriteBkg=null,e.spriteKhung=null,e.skeletonItem=null,e.isVectical=!0,e.nodeScater=null,e.sizeBkg=new cc.Size(118,116),e.size=new cc.Size(118,116),e.itemColum=null,e.result=-1,e.objSFS=null,e.typeItem=c.NONE,e.sizeItem=0,e.canRun=!1,e.efWin=null,e.lastPos=null,e.isShuff=!1,e.isShowEffectSpawn=!1,e}return i(e,t),e.prototype.setItemColum=function(t){this.itemColum=t,this.isVectical?(this.node.angle=0,this.size.height=116.4):(this.size.height=116.5,this.node.angle=90)},e.prototype.setResult=function(t){null!=t?(null==t.get("t")&&t.putInt("t",0),null==t.get("s")&&t.putInt("s",1),this.result!=t.getInt("i")+1||this.typeItem!=t.getInt("t")||this.sizeItem!=t.getInt("s")?(this.objSFS=t,this.result=t.getInt("i")+1,this.typeItem=t.getInt("t")||0,this.sizeItem=t.getInt("s")||1,this.setSize(),this.skeletonItem.node.active=!1,this.itemColum.stateWhel==l.default.RUN?this.setImgResult(!0):this.setImgResult(!1),this.isShuff=!1,this.isShowEffectSpawn=!1,13==this.result?this.node.zIndex=100:12==this.result?this.node.zIndex=50:this.node.zIndex=0):this.itemColum.stateWhel==l.default.RUN?this.setImgResult(!0):this.setImgResult(!1)):cc.log("null re sult symbol: "+this.itemColum.index)},e.prototype.setSize=function(){this.node.height=this.size.height*this.sizeItem},e.prototype.setImgResult=function(t){this.sprite.spriteFrame=this.getSpItem(t),this.spriteBkg.spriteFrame=this.getSpBkg(t),this.spriteBkg.spriteFrame,this.spriteKhung.spriteFrame=this.getSpKhung(t),this.node.scale=t?1.32:.66},e.prototype.checkItemFront=function(){!this.checkIsInView()||12!=this.result&&13!=this.result?this.setParentNode(this.itemColum.parentItem):this.setParentNode(this.itemColum.parentItemFront)},e.prototype.offItemFront=function(){this.setParentNode(this.itemColum.parentItem)},e.prototype.getSpKhung=function(t){return 12==this.result?null:p.Windown.Asgard.asset.getSfKhungSymbol(this.typeItem,this.sizeItem,t)},e.prototype.getSpBkg=function(t){return p.Windown.Asgard.asset.getSfBkg(this.result,this.sizeItem,t)},e.prototype.getSpItem=function(t){return p.Windown.Asgard.asset.getSfItemSymbol(this.result,this.sizeItem,t)},e.prototype.getAtlas=function(){return this.result<12?p.Windown.Asgard.asset.atlasSymbol:p.Windown.Asgard.asset.atlasSpecial},e.prototype.getSpin=function(){return p.Windown.Asgard.asset.getSpine(this.result,this.sizeItem)},e.prototype.getIndexOf=function(){return this.itemColum.getListSymbol().indexOf(this)},e.prototype.showSkeleton=function(t){var e;this.result<6||(e=this.getSpin())&&(this.skeletonItem.node.active=!0,this.skeletonItem.skeletonData=e,this.skeletonItem.setAnimation(0,"spawn",!1),t&&this.skeletonItem.addAnimation(0,"idle",!0))},e.prototype.convertNameSpineById=function(){switch(this.result){case 12:return"s_wild";case 13:return"s_scatter"}},e.prototype.convertNameSize=function(){switch(this.sizeItem){case 1:return"_a_atlas_symbols";case 2:return"_b_atlas_symbols";case 3:return this.result<11||13==this.result?"_b_atlas_symbols":11==this.result?"_cd_atlas_symbols":"_c_atlas_symbols";case 4:return this.result<11||13==this.result?"_b_atlas_symbols":11==this.result?"_cd_atlas_symbols":"_d_atlas_symbols"}},e.prototype.convertNameSizeSpine=function(){switch(this.sizeItem){case 1:return"_a_atlas_symbols";case 2:return"_b_atlas_symbols";case 3:return 12==this.result?"_c_atlas_symbols":"_b_atlas_symbols";case 4:return 12==this.result?"_d_atlas_symbols":"_b_atlas_symbols"}},e.prototype.removeAddScater=function(t){null!=this.nodeScater&&(this.nodeScater.remove(t),this.skeletonItem.node.active=!0,this.nodeScater=null)},e.prototype.effectActiveScater=function(){13==this.result&&this.checkIsInView()&&(this.nodeScater=cc.instantiate(p.Windown.Asgard.asset.nodeAddScater).getComponent(d.default),this.nodeScater.init(this),this.nodeScater.node.active=!0,this.skeletonItem.node.active=!1)},e.prototype.effectScaterIdle=function(){13==this.result&&this.checkIsInView()&&this.nodeScater&&(this.nodeScater.node.active=!0,this.skeletonItem.node.active=!1,this.nodeScater.idle())},e.prototype.effectScaterShowFS=function(){13==this.result&&this.checkIsInView()&&this.nodeScater&&(this.activeItem(),this.nodeScater.node.active=!0,this.skeletonItem.node.active=!1,this.nodeScater.showFS())},e.prototype.effectNearWinScater=function(t){13==this.result&&this.checkIsInView()&&this.nodeScater&&(this.activeItem(),this.nodeScater.node.active=!0,this.nodeScater.node.stopAllActions(),this.nodeScater.effectNearWinNoSap(t),this.skeletonItem.node.active=!1)},e.prototype.checkIsInView=function(){return this.node.y<0&&this.node.y>-this.size.height*(this.itemColum.sizeSymbol-2)},e.prototype.offItem=function(){this.node.parent!=this.itemColum.parentItem&&this.checkItemFront()},e.prototype.activeItem=function(t){void 0===t&&(t=.3),this.setParentNode(this.itemColum.parentItemActive)},e.prototype.setParentNode=function(t){this.node.parent=t,this.nodeScater&&this.nodeScater.changParent()},e.prototype.runSpin=function(){this.offItemFront();var t=cc.repeatForever(cc.moveBy(p.Windown.Asgard.stateSpin.isMaxSpeed?.5:1,0,-2500));this.node.stopAllActions(),this.node.runAction(t),this.canRun=!0},e.prototype.stopSpin=function(t){var e=this;this.node.stopAllActions(),this.getIndexOf(),this.node.runAction(cc.sequence(t,cc.callFunc(function(){e.itemColum.effStopSpin()})))},e.prototype.initPosStartGame=function(){var t,e=this.getIndexOf(),n=this.itemColum.getListSymbol()[e-1],o=null==n?void 0:n.node.y;t=n?o-this.node.height/2-n.node.height/2:this.node.height/2,this.node.y=t},e.prototype.setPos=function(t){this.node.setPosition(t)},e.prototype.getPos=function(){return this.node.getPosition()},e.prototype.moveWhenListChange=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=null);var o=this.getIndexOf(),i=this.itemColum.getListSymbol()[o+1],r=i.getPos(),s=r.y,a=null;t==y.TYPE_MOVE.NORMAL&&(a=s+this.node.height/2+i.node.height/2,r.y=a,this.setPos(r))},e.prototype.takeItem=function(){if(!this.efWin){this.skeletonItem.node.active=!1;var t=cc.instantiate(p.Windown.Asgard.asset.listEfTakeSymbol[this.sizeItem-1]);t.parent=p.Windown.Asgard.parentEffect,t.setPosition(p.Windown.convertNodeInOtherNode(this.node,p.Windown.Asgard.parentEffect)),t.getComponent(h.default).effTakeItem(this.result,this.sizeItem,this.node.height),this.activeItem(0),this.efWin=t,t.zIndex=cc.macro.MAX_ZINDEX}},e.prototype.removeItem=function(){var t=this,e=this.getIndexOf();e>-1&&this.itemColum.getListSymbol().splice(e,1),this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){p.Windown.Asgard.asset.putSymbol(t.node)}))),p.Windown.Asgard.audio.playEffect(p.Windown.Asgard.audio.symShrink),this.effectRemoveItem()},e.prototype.effectRemoveItem=function(){if(this.efWin){var t=cc.instantiate(p.Windown.Asgard.asset.effRemoveItem);t.parent=p.Windown.Asgard.parentEffect,t.setPosition(p.Windown.convertNodeInOtherNode(this.node,p.Windown.Asgard.parentEffect)),t.getComponent(h.default).effRemoveItem(this.sizeItem),this.efWin.getComponent(h.default).effectRemoveTakeItem()}this.efWin=null},e.prototype.actionRandomNewResultNextKhung=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,8,,9]),this.isShowEffectSpawn=!1,this.typeItem++,this.typeItem=this.typeItem%3,this.spriteKhung.spriteFrame=this.getSpKhung(!1),e=p.Windown.Asgard.stateSpin.isMaxSpeed?2:1,p.Windown.Asgard.audio.playEffectNoStop(p.Windown.Asgard.audio.rouletteStart),11!=t?[3,3]:(this.sprite.node.opacity=255,this.result=t+1,this.sprite.spriteFrame=this.getSpItem(!1),this.spriteBkg.spriteFrame=this.getSpBkg(!1),this.isShowEffectSpawn=!1,this.effectSpawnSymbol(),1!=e?[3,2]:[4,p.Windown.Asgard.getMakeDelay(.4).prosime]);case 1:r.sent(),r.label=2;case 2:return p.Windown.Asgard.audio.playEffectNoStop(p.Windown.Asgard.audio.rouletteEnd),n(null),[3,7];case 3:return this.node.opacity=0,p.Windown.Asgard.stateSpin.isMaxSpeed?[3,5]:((o=cc.instantiate(p.Windown.Asgard.asset.itemShuffToNormal)).parent=p.Windown.Asgard.parentEffect,o.setPosition(p.Windown.convertNodeInOtherNode(this.node,p.Windown.Asgard.parentEffect)),[4,p.Windown.Asgard.getPromise(o.getComponent(f.default).effShuffItem(this.result,t+1,this.sizeItem))]);case 4:r.sent(),r.label=5;case 5:return this.node.opacity=255,this.result=t+1,this.sprite.spriteFrame=this.getSpItem(!1),this.spriteBkg.spriteFrame=this.getSpBkg(!1),[4,p.Windown.Asgard.getMakeDelay(.2/e).prosime];case 6:r.sent(),n(null),r.label=7;case 7:return[3,9];case 8:return i=r.sent(),u.Util.ThrowErrProsime(i),[3,9];case 9:return[2]}})})})},e.prototype.effectSpawnSymbol=function(t){return void 0===t&&(t=!0),s(this,void 0,void 0,function(){return a(this,function(){try{if(this.isShowEffectSpawn||!this.checkIsInView())return[2];this.isShowEffectSpawn=!0,this.checkItemFront(),13==this.result?(t&&p.Windown.Asgard.audio.playEffectNoStop(p.Windown.Asgard.audio.symScatter),this.effectActiveScater(),p.Windown.Asgard.stateSpin.checkIsNearFS()&&this.effectNearWinScater(!0)):12==this.result?(this.showSkeleton(!0),t&&p.Windown.Asgard.audio.playEffectNoStop(p.Windown.Asgard.audio.symWild)):this.showSkeleton(!0)}catch(e){u.Util.ThrowErrProsime(e)}return[2]})})},e.prototype.unuse=function(){this.skeletonItem.node.active=!1,this.isShowEffectSpawn=!1,this.isShuff=!1,this.result=-1,this.node.opacity=255,this.sprite.node.opacity=255,this.node.x=0,this.node.stopAllActions(),this.removeAddScater(!0)},e.prototype.checkEndCot=function(){if(0==this.getIndexOf()){var t=this.node.height/2;if(this.node.y<=t){var e=this.itemColum.getIdSymbolResult(),n=this.itemColum.getListSymbol(),o=n.pop();n.unshift(o),o.node.zIndex=0,o.setResult(e),o.moveWhenListChange(y.TYPE_MOVE.NORMAL)}}},e.prototype.update=function(){this.canRun&&this.checkEndCot()},r([v(cc.Sprite)],e.prototype,"sprite",void 0),r([v(cc.Sprite)],e.prototype,"spriteBkg",void 0),r([v(cc.Sprite)],e.prototype,"spriteKhung",void 0),r([v(sp.Skeleton)],e.prototype,"skeletonItem",void 0),r([m],e)}(cc.Component);n.default=S,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./Effect/EffectSymbolAsgard":"EffectSymbolAsgard","./Effect/ItemAddScaterAsgard":"ItemAddScaterAsgard","./Effect/ShuffItemAsgard":"ShuffItemAsgard","./ItemSlotAsgard":"ItemSlotAsgard"}],SymbolCaiShen:[function(t,e,n){"use strict";cc._RF.push(e,"22ae8fyEIxDI5tqqG8wKgH3","SymbolCaiShen");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE_ITEM=void 0;var c=t("../../../Scritps/DefineTs/StateReelSlot"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=t("./EffectSymbolCaishen"),h=t("./ItemAddScaterCaishen"),d=t("./ItemSlotCaishen"),f=cc._decorator,y=f.ccclass,g=f.property;(function(t){t[t.NONE=0]="NONE",t[t.BAC=1]="BAC",t[t.VANG=2]="VANG"})(n.TYPE_ITEM||(n.TYPE_ITEM={}));var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.spriteBkg=null,e.spriteKhung=null,e.bgCaishen=null,e.skeletonItem=null,e.listColorBkg=[null,null],e.isVectical=!0,e.nodeScater=null,e.sizeBkg=new cc.Size(185,162),e.size=new cc.Size(180,180),e.itemColum=null,e.result=-1,e.objSFS=null,e.typeItem=0,e.sizeItem=0,e.canRun=!1,e.efWin=null,e.listEffWin=[],e.efShuffWild=null,e.lastPos=null,e.isShuff=!1,e.isSmoke=!1,e.isShowEffectSpawn=!1,e.isHasTakeItem=!1,e.listSpine=[],e.colorBg=["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#BFD17D","#BFD17D","#7DD8B7","#7DD8B7","#B37CC7","#B37CC7"],e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.setItemColum=function(t){this.itemColum=t,this.isVectical?(this.node.angle=0,this.size.height=108):(this.size.height=120,this.node.angle=90)},e.prototype.setResult=function(t){var e=this;this.listSpine.forEach(function(t){t!=e.skeletonItem.node&&t.destroy()}),this.listSpine=[this.skeletonItem.node],this.skeletonItem.node.y=0,null!=t&&(this.result!=t.getInt("idItem")||this.typeItem!=t.getInt("typeItem")||this.sizeItem!=t.getInt("size")?(this.objSFS=t,this.result=t.getInt("idItem"),this.typeItem=t.getInt("typeItem"),this.sizeItem=t.getInt("size"),11==this.result&&this.sizeItem>1?(this.setLongWild(),this.isShuff=!1):(this.skeletonItem.node.active=!1,this.itemColum.stateWhel==c.default.RUN?this.setImgResult(!0):this.setImgResult(!1),this.isShuff=!1,this.isShowEffectSpawn=!1),12==this.result?this.node.zIndex=100:11==this.result?this.node.zIndex=50:this.node.zIndex=0,this.setSize()):this.itemColum.stateWhel==c.default.RUN?this.setImgResult(!0):11==this.result&&this.sizeItem>1?(this.setLongWild(),this.isShuff=!1):this.setImgResult(!1))},e.prototype.setSize=function(){this.node.setContentSize(this.size.width,this.size.height*this.sizeItem),this.sizeItem>1?this.spriteBkg.node.setContentSize(cc.size(this.spriteBkg.node.width,this.spriteBkg.node.height+20)):this.spriteBkg.node.setContentSize(cc.size(this.spriteBkg.node.width,this.spriteBkg.node.height+10)),this.spriteKhung.node.setContentSize(cc.size(this.spriteKhung.node.width,this.spriteKhung.node.height+20)),0!=this.itemColum.node.angle&&this.spriteBkg.node.setContentSize(cc.size(this.spriteBkg.node.width+5,this.spriteBkg.node.height))},e.prototype.setImgResult=function(t){return s(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return this.sprite.spriteFrame=u.Windown.Caishen.asset.getSfItemSymbol(this.result,this.sizeItem,t),this.spriteBkg.spriteFrame=u.Windown.Caishen.asset.getSfBgSymbol(this.result,this.sizeItem,t),0!=this.typeItem?(this.spriteKhung.node.active=this.bgCaishen.node.active=!0,this.spriteKhung.spriteFrame=u.Windown.Caishen.asset.getSfBorderSymbol(this.typeItem,this.sizeItem,t),this.bgCaishen.spriteFrame=u.Windown.Caishen.asset.getSfBgCaishen(this.typeItem,this.sizeItem)):this.spriteKhung.node.active=this.bgCaishen.node.active=!1,this.result<11&&this.result>=0&&(this.spriteBkg.node.color=(new cc.Color).fromHEX(this.colorBg[this.result])),12==this.result||11==this.result?this.spriteBkg.node.active=!1:this.spriteBkg.node.active=!0,t?(this.sprite.node.active=!0,this.sprite.node.scale=2,this.spriteKhung.node.scale=2.1,this.result<5?(this.spriteBkg.node.scaleY=2.2,this.spriteBkg.node.scaleX=2):(this.spriteBkg.node.scaleY=2,this.spriteBkg.node.scaleX=2),[3,4]):[3,1];case 1:return this.sprite.node.scale=1,this.spriteBkg.node.scale=1,this.spriteKhung.node.scale=1,this.result<11||t?(this.sprite.node.active=!0,this.skeletonItem.node.active=!1,[3,4]):[3,2];case 2:return[4,u.Windown.Caishen.asset.getSpine(this.result,this.sizeItem)];case 3:null!=(e=n.sent())&&(this.skeletonItem.skeletonData=e,this.skeletonItem.node.active=!0,this.skeletonItem.setAnimation(0,"idle",!0),this.sprite.node.active=!1,12==this.result&&(this.skeletonItem.node.y=-3)),n.label=4;case 4:return[2]}})})},e.prototype.setLongWild=function(){return s(this,void 0,void 0,function(){var t,e,n,o,i=this;return a(this,function(r){switch(r.label){case 0:return[4,u.Windown.Caishen.asset.getSpine(this.result,this.sizeItem)];case 1:for(t=r.sent(),this.spriteBkg.node.active=this.bgCaishen.node.active=this.spriteKhung.node.active=this.sprite.node.active=!1,e=0;e<this.sizeItem;e++)n=this.listSpine[e],cc.isValid(n)||((n=cc.instantiate(this.skeletonItem.node)).parent=this.node,this.listSpine.push(n)),n.active=!0,(o=n.getComponent(sp.Skeleton)).skeletonData=t,o.setAnimation(0,"idle",!0);return this.listSpine.forEach(function(t,e){t.y=i.sizeBkg.height*i.sizeItem/2-(i.sizeBkg.height/2+e*i.sizeBkg.height)}),[2]}})})},e.prototype.checkItemFront=function(){!this.checkIsInView()||11!=this.result&&12!=this.result?this.node.parent=this.itemColum.parentItem:this.node.parent=this.itemColum.parentItemFront},e.prototype.offItemFront=function(){this.node.parent=this.itemColum.parentItem},e.prototype.getSpKhung=function(t){return u.Windown.Caishen.asset.getSfBorderSymbol(this.typeItem,this.sizeItem,t)},e.prototype.getSpBkg=function(){return u.Windown.Caishen.asset.getSfBgCaishen(this.result,this.sizeItem)},e.prototype.getSpItem=function(t){return u.Windown.Caishen.asset.getSfItemSymbol(this.result,this.sizeItem,t)},e.prototype.getAtlas=function(){return this.result<12?u.Windown.Caishen.asset.atlasSymbol:u.Windown.Caishen.asset.atlasSpecial},e.prototype.getIndexOf=function(){return this.itemColum.getListSymbol().indexOf(this)},e.prototype.getColorBkg=function(){return this.result<4?this.listColorBkg[this.result-1]:this.listColorBkg[3]},e.prototype.showSkeleton=function(t,e){return void 0===e&&(e=!1),s(this,void 0,void 0,function(){var e,n=this;return a(this,function(o){switch(o.label){case 0:return e=null,[4,u.Windown.Caishen.asset.getSpine(this.result,this.sizeItem)];case 1:return(e=o.sent())&&(this.skeletonItem.node.active=!0,this.skeletonItem.skeletonData=e,this.skeletonItem.setAnimation(0,"spawn",!1),this.sprite.node.active=!1,t?this.skeletonItem.addAnimation(0,"idle",!0):this.skeletonItem.setCompleteListener(function(){n.skeletonItem.node.active=!1,n.sprite.node.active=!0,n.skeletonItem.setCompleteListener(null)})),[2]}})})},e.prototype.hideSkeleton=function(){this.skeletonItem.node.active=!1},e.prototype.removeAddScater=function(t){null!=this.nodeScater&&(t?(this.nodeScater&&u.Windown.Caishen.asset.putAddScater(this.nodeScater.node),this.nodeScater=null):this.nodeScater.node.active=!1,this.skeletonItem.node.active=!0,this.offItem())},e.prototype.effectScaterShowFS=function(){12==this.result&&this.checkIsInView()&&cc.isValid(this.nodeScater)&&(this.activeItem(),this.nodeScater.node.active=!0,u.Windown.Caishen.stateReel==c.default.RUN||u.Windown.Caishen.stateReel==c.default.CAN_STOP?this.nodeScater.idle():u.Windown.Caishen.stateReel==c.default.STOP&&this.nodeScater.efWin())},e.prototype.effectNearWinScater=function(t){12==this.result&&(null==this.nodeScater&&(this.nodeScater=u.Windown.Caishen.asset.getAddScater().getComponent(h.default),this.nodeScater.node.parent=this.node,this.nodeScater.node.setPosition(0,0)),this.activeItem(),this.nodeScater.node.active=!0,this.nodeScater.node.stopAllActions(),this.nodeScater.effectNearWinNoSap(t),this.skeletonItem.node.active=!1)},e.prototype.effectScaterIdle=function(){12==this.result&&this.checkIsInView()&&this.nodeScater&&(this.nodeScater.node.active=!0,this.skeletonItem.node.active=!1,this.nodeScater.idle())},e.prototype.effectDropScater=function(){12==this.result&&this.nodeScater&&!u.Windown.Caishen.stateSpin.isMaxSpeed&&this.nodeScater.effectDrop()},e.prototype.showSmoke=function(){},e.prototype.checkIsInView=function(){return this.node.y<0&&this.node.y>-this.size.height*(this.itemColum.sizeSymbol-2)},e.prototype.offItem=function(){this.node.parent!=this.itemColum.parentItem&&this.checkItemFront()},e.prototype.activeItem=function(t){void 0===t&&(t=.3),this.node.parent=this.itemColum.parentItemActive},e.prototype.runSpin=function(){this.offItemFront();var t=cc.repeatForever(cc.moveBy(u.Windown.Caishen.stateSpin.isMaxSpeed?.5:1,0,-2500));this.node.stopAllActions(),this.node.runAction(t),this.canRun=!0},e.prototype.stopSpin=function(t){var e=this;this.node.stopAllActions(),this.getIndexOf(),this.node.runAction(cc.sequence(t,cc.callFunc(function(){e.itemColum.effStopSpin()})))},e.prototype.initPosStartGame=function(){var t,e=this.getIndexOf(),n=this.itemColum.getListSymbol()[e-1],o=null==n?void 0:n.node.y;t=n?o-this.node.height/2-n.node.height/2:this.node.height/2,this.node.y=t},e.prototype.setPos=function(t){this.node.setPosition(t)},e.prototype.getPos=function(){return this.node.getPosition()},e.prototype.moveWhenListChange=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=null);var o=this.getIndexOf(),i=this.itemColum.getListSymbol()[o+1],r=i.getPos(),s=r.y,a=null;t==d.TYPE_MOVE.NORMAL&&(a=s+this.node.height/2+i.node.height/2,r.y=a,this.setPos(r))},e.prototype.takeItem=function(){return s(this,void 0,void 0,function(){var t,e,n,o,i,r,s,c,h;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,7,,8]),this.isHasTakeItem?[2]:(this.isHasTakeItem=!0,11!=this.result||11==this.result&&1==this.sizeItem?(n=(e=cc).instantiate,[4,u.Windown.Caishen.asset.getEffectTakeSymbol(this.sizeItem)]):[3,2]);case 1:return(t=n.apply(e,[a.sent()])).parent=u.Windown.Caishen.parentEffect,cc.isValid(this.node.parent)?(t.setPosition(u.Windown.convertNodeInOtherNode(this.node,u.Windown.Caishen.parentEffect)),t.getComponent(p.EffectSymbolCaishen).effTakeItem(this.result,this.sizeItem,this.typeItem,this.skeletonItem),this.efWin=t,t.setSiblingIndex(9999)):t.destroy(),[3,6];case 2:o=0,a.label=3;case 3:return o<this.sizeItem?(s=(r=cc).instantiate,[4,u.Windown.Caishen.asset.getEffectTakeSymbol(1)]):[3,6];case 4:(i=s.apply(r,[a.sent()])).parent=u.Windown.Caishen.parentEffect,cc.isValid(this.listSpine[o].parent)?(c=u.Windown.convertNodeInOtherNode(this.listSpine[o],u.Windown.Caishen.parentEffect),i.setPosition(c),i.getComponent(p.EffectSymbolCaishen).effTakeItem(this.result,this.sizeItem,this.typeItem,this.skeletonItem),i.setSiblingIndex(9999),this.listEffWin.push(i)):i.destroy(),a.label=5;case 5:return o++,[3,3];case 6:return this.sprite.node.active=!1,this.listSpine.forEach(function(t){t.active=!1}),this.activeItem(0),[3,8];case 7:return h=a.sent(),l.Util.ThrowErrProsime(h),console.error(h),[3,8];case 8:return[2]}})})},e.prototype.removeEfWin=function(){this.efWin&&u.Windown.Caishen.asset.putWinSymbol(this.efWin),this.efWin=null},e.prototype.removeNodeClone=function(){},e.prototype.removeItem=function(){var t=this,e=this.getIndexOf();if(this.itemColum.sizeSymbol>6){var n=this.itemColum.getListSymbol()[e-1];n&&(n.isSmoke=!0)}e>-1&&this.itemColum.getListSymbol().splice(e,1),this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){u.Windown.Caishen.asset.putSymbol(t.node)}))),u.Windown.Caishen.audio.playEffect(u.Windown.Caishen.audio.symShrink),this.effectRemoveItem()},e.prototype.effectRemoveItem=function(){return s(this,void 0,void 0,function(){var t,e,n,o,i=this;return a(this,function(r){switch(r.label){case 0:return this.efWin?(this.efWin.getComponent(p.EffectSymbolCaishen).effectRemoveTakeItem(),t=this.efWin.getSiblingIndex(),o=(n=cc).instantiate,[4,u.Windown.Caishen.asset.getEffRemoveItem(this.sizeItem)]):[3,2];case 1:(e=o.apply(n,[r.sent()])).parent=u.Windown.Caishen.parentEffect,cc.isValid(this.node.parent)?(e.setPosition(u.Windown.convertNodeInOtherNode(this.node,u.Windown.Caishen.parentEffect)),e.getComponent(p.EffectSymbolCaishen).effRemoveItem(),e.setSiblingIndex(t-1)):e.destroy(),r.label=2;case 2:return this.efShuffWild&&(this.efShuffWild.destroy(),this.efShuffWild=null),this.listEffWin.forEach(function(t){return s(i,void 0,void 0,function(){var e,n,o,i;return a(this,function(r){switch(r.label){case 0:return t.getComponent(p.EffectSymbolCaishen).effectRemoveTakeItem(),e=t.getSiblingIndex(),i=(o=cc).instantiate,[4,u.Windown.Caishen.asset.getEffRemoveItem(1)];case 1:return(n=i.apply(o,[r.sent()])).parent=u.Windown.Caishen.parentEffect,cc.isValid(t.parent)?(n.setPosition(u.Windown.convertNodeInOtherNode(t,u.Windown.Caishen.parentEffect)),n.getComponent(p.EffectSymbolCaishen).effRemoveItem(),n.setSiblingIndex(e-1)):(n.destroy(),t.getComponent(p.EffectSymbolCaishen).effectRemoveTakeItem()),[2]}})})}),this.efWin=null,this.isHasTakeItem=!1,[2]}})})},e.prototype.actionRandomNewResultNextKhung=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r=this;return a(this,function(s){switch(s.label){case 0:return s.trys.push([0,9,,10]),this.isShowEffectSpawn=!1,this.typeItem++,this.typeItem=this.typeItem%3,this.spriteKhung.spriteFrame=this.getSpKhung(!1),this.isShuff=!0,11!=t?[3,3]:(this.sprite.node.active=!1,this.result=t,this.activeItem(),e=this.skeletonItem,[4,u.Windown.Caishen.asset.getWildCaishenSpine(this.sizeItem)]);case 1:return e.skeletonData=s.sent(),this.skeletonItem.node.active=!0,this.skeletonItem.timeScale=1,this.skeletonItem.setAnimation(0,"win",!1),this.skeletonItem.setCompleteListener(function(){r.skeletonItem.setCompleteListener(null),r.skeletonItem.setAnimation(0,"break",!1),u.Windown.Caishen.audio.playEffectNoStop(u.Windown.Caishen.audio.wildShrink)}),[4,u.Windown.Caishen.getMakeDelay(.4)];case 2:return s.sent(),n(null),[3,8];case 3:return[4,u.Windown.Caishen.asset.getShuffToNormal(this.sizeItem)];case 4:return(o=s.sent()).parent=u.Windown.Caishen.parentEffect,o.setPosition(u.Windown.convertNodeInOtherNode(this.node,u.Windown.Caishen.parentEffect)),[4,o.getComponent(p.EffectSymbolCaishen).effShuffItem(this.node.height,this.result,t,this.sizeItem)];case 5:return s.sent(),this.spriteBkg.node.active=!0,this.result=t,this.sprite.spriteFrame=u.Windown.Caishen.asset.getSfItemSymbol(this.result,this.sizeItem),this.spriteBkg.spriteFrame=u.Windown.Caishen.asset.getSfBgSymbol(this.result,this.sizeItem),this.spriteBkg.node.color=(new cc.Color).fromHEX(this.colorBg[this.result]),u.Windown.Caishen.stateSpin.isMaxSpeed?[4,u.Windown.Caishen.getMakeDelay(.4)]:[3,7];case 6:s.sent(),s.label=7;case 7:n(null),s.label=8;case 8:return[3,10];case 9:return i=s.sent(),l.Util.ThrowErrProsime(i),[3,10];case 10:return[2]}})})})},e.prototype.removeMutilWhenSpin=function(){this.removeEfWin()},e.prototype.effectSpawnSymbol=function(t){return void 0===t&&(t=!0),s(this,void 0,void 0,function(){return a(this,function(){try{if(this.isShowEffectSpawn||!this.checkIsInView())return[2];this.isShowEffectSpawn=!0,this.checkItemFront(),12==this.result?(t&&u.Windown.Caishen.audio.playEffectNoStop(u.Windown.Caishen.audio.symScatter),u.Windown.Caishen.stateSpin.checkIsNearFS()&&this.effectNearWinScater(!0)):11==this.result&&(this.showSkeleton(!0),t&&u.Windown.Caishen.audio.playEffectNoStop(u.Windown.Caishen.audio.symWild))}catch(e){l.Util.ThrowErrProsime(e)}return[2]})})},e.prototype.unuse=function(){this.skeletonItem.node.active=!1,this.itemColum=null,this.isShowEffectSpawn=!1,this.isShuff=!1,this.result=-1,this.node.opacity=255,this.sprite.node.opacity=255,this.node.x=0,this.node.scale=1,this.node.stopAllActions(),this.removeAddScater(!0),this.isSmoke=!1,this.listEffWin=[],this.isHasTakeItem=!1,this.typeItem=0},e.prototype.checkEndCot=function(){if(0==this.getIndexOf()){var t=this.node.height/2;if(this.node.y<=t){var e=this.itemColum.getIdSymbolResult(),n=this.itemColum.getListSymbol(),o=n.pop();n.unshift(o),o.node.zIndex=0,o.setResult(e),o.moveWhenListChange(d.TYPE_MOVE.NORMAL)}}},e.prototype.update=function(){this.canRun&&this.checkEndCot()},r([g(cc.Sprite)],e.prototype,"sprite",void 0),r([g(cc.Sprite)],e.prototype,"spriteBkg",void 0),r([g(cc.Sprite)],e.prototype,"spriteKhung",void 0),r([g(cc.Sprite)],e.prototype,"bgCaishen",void 0),r([g(sp.Skeleton)],e.prototype,"skeletonItem",void 0),r([g([cc.Color])],e.prototype,"listColorBkg",void 0),r([y],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./EffectSymbolCaishen":"EffectSymbolCaishen","./ItemAddScaterCaishen":"ItemAddScaterCaishen","./ItemSlotCaishen":"ItemSlotCaishen"}],SymbolDuaXe:[function(t,e,n){"use strict";cc._RF.push(e,"c45c4j6CjBL84vq6MKyl40M","SymbolDuaXe");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.SymbolDuaXe=n.TYPE_ITEM=void 0;var c,l=t("./ItemSlotDuaXe"),u=t("../../../Scritps/DefineTs/StateReelSlot"),p=t("./EffectSymbolDuaXe"),h=t("./ItemAddScatterDuaXe"),d=t("../../../Scritps/Windown"),f=t("../../../Scritps/Util"),y=cc._decorator,g=y.ccclass,m=y.property;(function(t){t[t.NONE=1]="NONE",t[t.BONUS=2]="BONUS"})(c=n.TYPE_ITEM||(n.TYPE_ITEM={}));var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.result=-1,e.sizeBkg=new cc.Size(176,183),e.size=new cc.Size(176,183),e.nodeScater=null,e.itemColum=null,e.typeItem=c.NONE,e.spriteItem=null,e.spriteBkg=null,e.bgScatter=null,e.bgEffectMulti=null,e.effTakeMulti=null,e.skeletonItem=null,e.khungWin=[],e.efWin=null,e.efTakeWild=null,e.canRun=!1,e.objSFS=null,e.sizeItem=1,e.bonus=1,e.isShuff=!1,e.isTransToWild=!1,e.isShowEffectSpawn=!1,e.isHasTakeItem=!1,e.isVectical=!1,e}return i(e,t),e.prototype.effectScaterShowFS=function(){12==this.result&&this.checkIsInView()&&cc.isValid(this.nodeScater)&&(this.activeItem(),this.nodeScater.node.active=!0,d.Windown.DuaXe.stateReel==u.default.RUN||d.Windown.DuaXe.stateReel==u.default.CAN_STOP?this.nodeScater.showFS():d.Windown.DuaXe.stateReel==u.default.STOP&&this.nodeScater.winFS())},e.prototype.checkIsInView=function(){return this.node.getPosition().y<0&&this.node.getPosition().y>-this.size.height*(2/3)*(this.itemColum.sizeSymbol-2)},e.prototype.activeItem=function(t){void 0===t&&(t=.3),this.setParentNode(this.itemColum.parentItemActive)},e.prototype.setParentNode=function(t){this.node.parent=t,this.nodeScater&&this.nodeScater.changParent()},e.prototype.setItemColum=function(t){this.itemColum=t,this.isVectical?(this.node.angle=0,this.size.height=183):(this.size.height=183,this.node.angle=90)},e.prototype.setResult=function(t){if(null!=t&&null!=t){var e=t;null!=e&&(null!=e.b&&null!=e.b||(e.b=1),null!=e.s&&null!=e.s||(e.s=1),this.objSFS=e,this.result=e.i,this.typeItem=e.b>1?c.BONUS:c.NONE,this.sizeItem=e.s,this.bonus=10==this.result?e.b:1,this.setSize(),this.itemColum.stateWhel==u.default.RUN?this.setImgResult(!0):this.setImgResult(!1),this.node.opacity=255,this.isShuff=!1,this.isShowEffectSpawn=!1,this.node.setSiblingIndex(12==this.result?100:50),cc.isValid(this.nodeScater)&&this.nodeScater.node.setSiblingIndex(101))}},e.prototype.setImgResult=function(t){return s(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return this.spriteItem.spriteFrame=this.getSpItem(t),this.spriteBkg.spriteFrame=this.getSpBkg(t),this.activeMask(!1),this.spriteBkg.sizeMode=cc.Sprite.SizeMode.RAW,this.spriteBkg.node.active=!0,10==this.result&&d.Windown.DuaXe.stateReel==u.default.WAITING||d.Windown.DuaXe.stateReel==u.default.SHOW_EFFECT?this.setBgBonus():(this.spriteItem.getComponent(cc.Animation)&&this.spriteItem.getComponent(cc.Animation).stop(),this.spriteItem.node.setScale(cc.v3(1,1)),10!=this.result&&(this.bgEffectMulti.active=!1)),cc.isValid(this.itemColum)&&this.itemColum.stateWhel!=u.default.END&&(this.bgScatter.active=!1),t?(0!=this.node.angle?this.node.setScale(cc.v3(1.4,2/3*2,2/3*2)):this.node.setScale(cc.v3(2/3*2,2/3*2,1.2)),this.spriteItem.node.setScale(cc.v3(1,1)),this.bgEffectMulti.active=!1):(this.node.setScale(cc.v3(2/3,2/3,2/3)),this.spriteItem.node.setScale(cc.v3(1,1))),t?[3,4]:this.result<11||12==this.result&&this.itemColum.stateWhel!=u.default.WAITING?(this.spriteItem.node.active=!0,this.skeletonItem.node.active=!1,[3,3]):[3,1];case 1:return[4,this.getSpin()];case 2:null!=(e=n.sent())&&(this.skeletonItem.skeletonData=e,this.skeletonItem.setAnimation(0,"idle",!0),this.skeletonItem.node.active=!0,this.spriteItem.node.active=!1),n.label=3;case 3:return[3,5];case 4:this.spriteItem.node.active=!0,this.skeletonItem.node.active=!1,n.label=5;case 5:return[2]}})})},e.prototype.setSprite=function(){this.spriteItem.node.active=!0,this.spriteItem.spriteFrame=this.getSpItem(!1),this.spriteBkg.spriteFrame=this.getSpBkg(!1),this.spriteBkg.sizeMode=cc.Sprite.SizeMode.RAW,this.spriteBkg.node.active=!0,this.bgScatter.active=!1,this.skeletonItem.node.active=!1,10==this.result||(this.bgEffectMulti.active=!1,this.spriteItem.node.setScale(cc.v3(1,1))),this.node.setScale(cc.v3(2/3,2/3,2/3)),this.spriteItem.node.setScale(cc.v3(1,1))},e.prototype.setSize=function(){this.node.setContentSize(this.size.width,this.size.height*this.sizeItem)},e.prototype.getSpItem=function(t){return d.Windown.DuaXe.asset.getSfItemSymbol(this.result,this.sizeItem,this.bonus,t)},e.prototype.activeMask=function(t){this.bgEffectMulti.opacity=t?150:255,this.spriteItem.node.opacity=t?150:255},e.prototype.runSpin=function(){var t=this;this.offItemFront();var e=cc.repeatForever(cc.moveBy(d.Windown.DuaXe.stateSpin.isMaxSpeed?.4:.8,cc.v2(0,-2500)));d.Windown.stopAllActionByTarget(this.node);var n=.2;d.Windown.DuaXe.stateSpin.isMaxSpeed||(n=.2-.02*this.itemColum.index),this.node.runAction(cc.sequence(cc.moveBy(n,cc.v2(0,50)).easing(cc.easeSineIn()),cc.callFunc(function(){t.canRun=!0,t.node.runAction(e)})))},e.prototype.offAllScatterAndWild=function(){this.skeletonItem.setAnimation(0,d.Windown.DuaXe.stateSpin.isMaxSpeed?"fastspin_exit":"exit",!1);var t=d.Windown.DuaXe.stateSpin.isMaxSpeed?.25:.5;this.nodeScater&&(this.nodeScater.ske.setAnimation(0,d.Windown.DuaXe.stateSpin.isMaxSpeed?"fastspin_exit":"exit",!1),this.nodeScater.bkg.runAction(cc.fadeOut(t))),12==this.result&&this.bgScatter.getChildByName("BgScatter").runAction(cc.fadeOut(t))},e.prototype.getSpBkg=function(t){return 11==this.result?null:d.Windown.DuaXe.asset.getSfBkg(this.result,this.sizeItem,this.typeItem,t)},e.prototype.offItemFront=function(){this.setParentNode(this.itemColum.parentItem)},e.prototype.removeAddScater=function(t){null!=this.nodeScater&&(this.nodeScater.remove(t),this.nodeScater=null)},e.prototype.initPosStartGame=function(){var t=this.getIndexOf(),e=this.itemColum.getListSymbol()[t-1],n=null==e?void 0:e.node.getPosition().y,o=null,i=this.isVectical?this.node.height:this.node.width;o=e?n-i*(2/3)/2-(this.isVectical?e.node.height:e.node.width)*(2/3)/2:i*(2/3)/2,this.node.setPosition(0,o,0),this.checkItemFront()},e.prototype.getIndexOf=function(){return this.itemColum.getListSymbol().indexOf(this)},e.prototype.offItem=function(){this.node.parent!=this.itemColum.parentItem&&this.checkItemFront()},e.prototype.effectSpawnSymbol=function(t){return void 0===t&&(t=!0),s(this,void 0,void 0,function(){return a(this,function(){try{if(this.isShowEffectSpawn||!this.checkIsInView())return[2];this.isShowEffectSpawn=!0,this.checkItemFront(),12==this.result?(t&&d.Windown.DuaXe.audio.playEffectNoStop(d.Windown.DuaXe.audio.symScatter),this.effectActiveScater(),d.Windown.DuaXe.stateSpin.checkIsNearFS()&&this.effectNearWinScater(!0),this.effectScaterShowFS()):11==this.result?this.showSkeleton(!0):this.result<10?this.showSkeleton(!1):this.setBgBonus()}catch(e){f.Util.ThrowErrProsime(e)}return[2]})})},e.prototype.getSpin=function(t){return s(this,void 0,Promise,function(){return a(this,function(e){switch(e.label){case 0:return null==t&&(t=this.result),[4,d.Windown.DuaXe.asset.getSpine(t,this.sizeItem)];case 1:return[2,e.sent()]}})})},e.prototype.showSkeleton=function(t,e){return void 0===e&&(e=!1),s(this,void 0,void 0,function(){var n,o=this;return a(this,function(i){switch(i.label){case 0:return n=null,[4,this.getSpin()];case 1:return(n=i.sent())&&(this.skeletonItem.node.active=!0,this.skeletonItem.skeletonData=n,this.skeletonItem.setAnimation(0,e?"win":"spawn",!1),this.spriteItem.node.active=!1,t?this.skeletonItem.addAnimation(0,"idle",!0):this.skeletonItem.setCompleteListener(function(){o.skeletonItem.node.active=!1,o.spriteItem.node.active=!0,o.skeletonItem.setCompleteListener(null)})),12==this.result?(this.bgScatter.active=!0,this.bgScatter.getComponentInChildren(cc.Animation).play("BgScatter"),this.bgScatter.getChildByName("BgScatter").opacity=255):this.bgScatter.active=!1,[2]}})})},e.prototype.showEffMulti=function(t){return void 0===t&&(t=!1),s(this,void 0,void 0,function(){var e,n,o;return a(this,function(i){switch(i.label){case 0:return this.activeMask(t),cc.log("showEffMulti1"),o=(n=cc).instantiate,[4,d.Windown.DuaXe.asset.getEffectTakeMulti(this.sizeItem)];case 1:return(e=o.apply(n,[i.sent()])).setParent(this.node),cc.tween(e).delay(2).call(function(){e.destroy()}).start(),[2]}})})},e.prototype.removeItem=function(){var t=this;this.effectRemoveItem();var e=this.getIndexOf();e>-1&&this.itemColum.getListSymbol().splice(e,1),this.node.runAction(cc.sequence(cc.fadeOut(.15),cc.callFunc(function(){d.Windown.DuaXe.asset.putSymbol(t.node)}))),d.Windown.DuaXe.audio.playEffect(d.Windown.DuaXe.audio.symShrink)},e.prototype.effectRemoveItem=function(){return s(this,void 0,void 0,function(){var t,e,n,o,i;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),this.efWin?(this.efWin.getComponent(p.EffectSymbolDuaXe).effectRemoveTakeItem(),t=this.efWin.getSiblingIndex(),o=(n=cc).instantiate,[4,d.Windown.DuaXe.asset.getEffRemoveItem(this.sizeItem)]):[3,2];case 1:(e=o.apply(n,[r.sent()])).parent=d.Windown.DuaXe.parentEffect,e.setPosition(d.Windown.convertNodeInOtherNode(this.node,d.Windown.DuaXe.parentEffect)),e.getComponent(p.EffectSymbolDuaXe).effRemoveItem(this.sizeItem),e.setSiblingIndex(t-1),r.label=2;case 2:return this.efWin=null,this.isHasTakeItem=!1,[3,4];case 3:return i=r.sent(),f.Util.ThrowErrProsime(i),console.error(i),[3,4];case 4:return[2]}})})},e.prototype.stopSpin=function(t){var e=this;this.getIndexOf(),d.Windown.stopAllActionByTarget(this.node),this.node.runAction(cc.sequence(t,cc.callFunc(function(){e.itemColum.effStopSpin()})))},e.prototype.effectNearWinScater=function(){12==this.result&&this.checkIsInView()&&this.nodeScater&&(this.activeItem(),this.nodeScater.node.active=!0,d.Windown.stopAllActionByTarget(this.nodeScater.node),this.nodeScater.showFS())},e.prototype.checkItemFront=function(){!this.checkIsInView()||11!=this.result&&12!=this.result?this.setParentNode(this.itemColum.parentItem):this.setParentNode(this.itemColum.parentItemFront)},e.prototype.effectActiveScater=function(){12==this.result&&this.checkIsInView()&&(this.nodeScater=cc.instantiate(d.Windown.DuaXe.asset.nodeAddScater).getComponent(h.ItemAddScatterDuaXe),this.nodeScater.init(this),this.nodeScater.node.active=!0,this.skeletonItem.node.active=!1,this.spriteItem.node.active=!0,this.bgScatter.active=!1,this.nodeScater.node.setScale(2/3,2/3))},e.prototype.effectTransformToWild=function(){return s(this,void 0,void 0,function(){var t,e=this;return a(this,function(n){switch(n.label){case 0:return this.isShuff?(this.spriteBkg.node.active=!1,this.spriteItem.node.active=!1,t=null,[4,this.getSpin(11)]):[3,2];case 1:t=n.sent(),this.skeletonItem.node.active=!0,t&&(cc.isValid(this.efWin)&&(this.efWin.getComponentInChildren(sp.Skeleton).node.active=!1),this.skeletonItem.skeletonData=t,this.skeletonItem.setAnimation(0,"awaken",!1),this.skeletonItem.setCompleteListener(function(){e.skeletonItem.setCompleteListener(null),e.skeletonItem.setAnimation(0,"idle",!0)})),n.label=2;case 2:return[2]}})})},e.prototype.takeItem=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){return[2,new Promise(function(e){return s(t,void 0,void 0,function(){var t,n,o,i;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.isHasTakeItem&&e(null),this.isHasTakeItem=!0,o=(n=cc).instantiate,[4,d.Windown.DuaXe.asset.getEffectTakeSymbol(this.sizeItem)];case 1:return(t=o.apply(n,[r.sent()])).parent=d.Windown.DuaXe.parentEffect,t.setPosition(d.Windown.convertNodeInOtherNode(this.node,d.Windown.DuaXe.parentEffect)),t.getComponent(p.EffectSymbolDuaXe).effTakeItem(this.result,this.sizeItem,this.skeletonItem),this.spriteItem.node.active=!1,this.activeItem(0),this.efWin=t,t.setSiblingIndex(9999),e(null),[3,3];case 2:return i=r.sent(),f.Util.ThrowErrProsime(i),[3,3];case 3:return[2]}})})})]})})},e.prototype.actionRandomNewResultNextKhung=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o;return a(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),this.isShowEffectSpawn=!1,this.typeItem++,this.typeItem=this.typeItem%3,e=d.Windown.DuaXe.stateSpin.isMaxSpeed?2:1,11!=t?[3,3]:(this.result=t,this.spriteItem.node.active=!1,this.isShowEffectSpawn=!1,this.effectTransformToWild(),1!=e?[3,2]:[4,d.Windown.DuaXe.getMakeDelay(.4).prosime]);case 1:i.sent(),i.label=2;case 2:n(null),i.label=3;case 3:return[3,5];case 4:return o=i.sent(),f.Util.ThrowErrProsime(o),[3,5];case 5:return[2]}})})})},e.prototype.update=function(){this.canRun&&this.checkEndCot()},e.prototype.checkEndCot=function(){if(0==this.getIndexOf()){var t=this.node.height*(2/3)/2;if(this.node.position.y<=t){var e=this.itemColum.getIdSymbolResult(),n=this.itemColum.getListSymbol(),o=n.pop();n.unshift(o),o.node.setSiblingIndex(0),o.setResult(e),o.moveWhenListChange(l.TYPE_MOVE.NORMAL)}}},e.prototype.moveWhenListChange=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=null);var o=this.getIndexOf(),i=this.itemColum.getListSymbol()[o+1],r=i.getPos(),s=r.y,a=null;t==l.TYPE_MOVE.NORMAL&&(a=s+this.node.height*(2/3)/2+i.node.height*(2/3)/2,r.y=a,this.setPos(r))},e.prototype.setPos=function(t){this.node.setPosition(t)},e.prototype.setBgBonus=function(){var t=this,e="EffectBgMult"+this.sizeItem;this.bgEffectMulti.active=!0,this.bgEffectMulti.opacity=255,this.spriteItem.getComponent(cc.Animation)&&this.spriteItem.getComponent(cc.Animation).play("MultiSymbolScale"),this.checkIsInView()&&this.activeItem(),this.bgEffectMulti.getComponent(cc.Animation).play(e),this.bgEffectMulti.getComponent(cc.Animation).on(cc.Animation.EventType.FINISHED,function(){t.offItemFront()}),d.Windown.DuaXe.audio.playEffect(d.Windown.DuaXe.audio.symbolBonus),this.showEffMulti()},e.prototype.getPos=function(){return this.node.getPosition()},e.prototype.effectScaterIdle=function(){12==this.result&&this.checkIsInView()&&this.nodeScater&&(this.nodeScater.node.active=!0,this.skeletonItem.node.active=!1,this.nodeScater.idle())},e.prototype.setKhungWin=function(){this.khungWin.forEach(function(t){t.node.active=!1}),this.khungWin[this.sizeItem-1].node.active=!0},r([m(cc.Sprite)],e.prototype,"spriteItem",void 0),r([m(cc.Sprite)],e.prototype,"spriteBkg",void 0),r([m(cc.Node)],e.prototype,"bgScatter",void 0),r([m(cc.Node)],e.prototype,"bgEffectMulti",void 0),r([m(cc.Node)],e.prototype,"effTakeMulti",void 0),r([m(sp.Skeleton)],e.prototype,"skeletonItem",void 0),r([m([cc.Sprite])],e.prototype,"khungWin",void 0),r([g],e)}(cc.Component);n.SymbolDuaXe=v,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./EffectSymbolDuaXe":"EffectSymbolDuaXe","./ItemAddScatterDuaXe":"ItemAddScatterDuaXe","./ItemSlotDuaXe":"ItemSlotDuaXe"}],SymbolMatChuoc:[function(t,e,n){"use strict";cc._RF.push(e,"aeb87BQkjNBrbJmmy8kOwVk","SymbolMatChuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE_ITEM=void 0;var c,l=cc._decorator,u=l.ccclass,p=l.property,h=t("../../../Scritps/DefineTs/StateReelSlot"),d=t("../../../Scritps/Util"),f=t("../../../Scritps/Windown"),y=t("./Effect/EffectSymbolMatChuoc"),g=t("./Effect/ItemAddScaterMatChuoc"),m=t("./Effect/ShuffItemMatChuoc"),v=t("./ItemSlotMatChuoc");(function(t){t[t.NONE=0]="NONE",t[t.VANG=2]="VANG"})(c=n.TYPE_ITEM||(n.TYPE_ITEM={}));var S=2/3,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteItem=null,e.spriteBkg=null,e.nodeSprGold=null,e.bgScatter=null,e.buiSang=null,e.nodeScater=null,e.sizeBkg=new cc.Size(189*S,224*S),e.size=new cc.Size(189*S,224*S),e.itemColum=null,e.result=-1,e.objSFS=null,e.typeItem=c.NONE,e.sizeItem=1,e.canRun=!1,e.efWin=null,e.lastPos=null,e.isShuff=!1,e.isShowEffectSpawn=!1,e}return i(e,t),e.prototype.setItemColum=function(t){this.itemColum=t,this.node.angle=0,this.size.height=138.5},e.prototype.setResult=function(t){if(null!=t&&null!=t){var e=t;null!=e?(null!=e.t&&null!=e.t||(e.t=0),this.objSFS=e,this.result=e.i,this.typeItem=e.t,this.sizeItem=1,this.setSize(),this.itemColum.stateWhel==h.default.RUN?this.setImgResult(!0):this.setImgResult(!1),this.node.opacity=255,this.isShuff=!1,this.isShowEffectSpawn=!1):cc.log("null re sult symbol: "+this.itemColum.index)}},e.prototype.setSize=function(){this.node.setContentSize(this.size.width,this.size.height)},e.prototype.setImgResult=function(t){f.Windown.MatChuoc.stateSpin.isShowingDragon&&this.itemColum&&2==this.itemColum.index&&(t=!1),this.spriteItem.node.children[0].active=!1,this.spriteBkg.node.active=!0,this.spriteItem.node.active=!0,this.bgScatter.active=!1,this.buiSang.active=!1,this.spriteItem.node.children[0].setScale(1,1,1),this.spriteItem.node.setScale(1,1,1),this.spriteItem.node.setPosition(cc.v3(5,5,0)),this.spriteBkg.node.setScale(cc.v3(1,1,1)),this.spriteItem.spriteFrame=this.getSpItem(t),this.spriteBkg.spriteFrame=this.getSpBkg(t),this.result>=9&&(this.spriteItem.node.setPosition(cc.v3(0,0,0)),this.spriteBkg.node.active=!1,9==this.result?this.spriteItem.node.children[0].active=!0:10==this.result&&(this.bgScatter.active=!0),this.buiSang.active=!0),t?this.result<9?(this.node.setScale(cc.v3(2/3*2,2/3*2,2/3*2)),this.spriteBkg.node.setScale(cc.v3(1,1.2,1)),this.spriteItem.node.setScale(.967,.967,.967)):10==this.result&&(this.node.setScale(cc.v3(2/3,2/3,2/3)),this.spriteItem.node.children[0].active=!1,this.spriteItem.node.setScale(cc.v3(1.9,1.9,1.9))):(this.node.setScale(cc.v3(2/3,2/3,2/3)),this.spriteItem.node.setScale(cc.v3(1,1,1)),10==this.result&&(this.node.setScale(cc.v3(2/3,2/3,2/3)),this.spriteItem.node.children[0].active=!1,this.spriteItem.node.setScale(cc.v3(.95,.95,.95)))),this.typeItem==c.NONE?this.nodeSprGold.active=!1:this.nodeSprGold.active=!0},e.prototype.checkItemFront=function(){!this.checkIsInView()||9!=this.result&&10!=this.result?this.setParentNode(this.itemColum.parentItem):this.setParentNode(this.itemColum.parentItemFront)},e.prototype.offItemFront=function(){this.setParentNode(this.itemColum.parentItem)},e.prototype.getSpBkg=function(t){return f.Windown.MatChuoc.asset.getSfBkg(this.result,this.typeItem,t)},e.prototype.getSpItem=function(t){return f.Windown.MatChuoc.asset.getSfItemSymbol(this.result,t)},e.prototype.getAtlas=function(){return this.result<10?f.Windown.MatChuoc.asset.atlasSymbol:f.Windown.MatChuoc.asset.atlasSpecial},e.prototype.getIndexOf=function(){return this.itemColum.getListSymbol().indexOf(this)},e.prototype.getIndexColum=function(){return this.itemColum.index},e.prototype.showSkeleton=function(){},e.prototype.convertNameSpineById=function(){switch(this.result){case 9:return"s_wild";case 10:return"s_scatter"}},e.prototype.removeAddScater=function(t){null!=this.nodeScater&&(this.node.active=!0,this.nodeScater.remove(t),this.nodeScater=null)},e.prototype.effectActiveScater=function(){10==this.result&&this.checkIsInView()&&(this.nodeScater=cc.instantiate(f.Windown.MatChuoc.asset.nodeAddScater).getComponent(g.default),this.nodeScater.init(this),this.nodeScater.node.active=!0,this.node.active=!1)},e.prototype.effectScaterIdle=function(){10==this.result&&this.checkIsInView()&&this.nodeScater&&(this.nodeScater.node.active=!0,this.nodeScater.idle())},e.prototype.effectScaterShowFS=function(){10==this.result&&this.checkIsInView()&&this.nodeScater&&(this.activeItem(),this.nodeScater.node.active=!0,this.nodeScater.showFS())},e.prototype.effectNearWinScater=function(t){10==this.result&&this.checkIsInView()&&this.nodeScater&&(this.activeItem(),this.nodeScater.node.active=!0,this.nodeScater.node.stopAllActions(),this.nodeScater.effectNearWinNoSap(t),this.nodeScater.showFS())},e.prototype.checkIsInView=function(){return this.node.getPosition().y<-70&&this.node.getPosition().y>-this.size.height*this.itemColum.result.length},e.prototype.offItem=function(t){void 0===t&&(t=0),this.node.parent!=this.itemColum.parentItem&&this.checkItemFront()},e.prototype.activeItem=function(t){var e=this;void 0===t&&(t=0),this.itemColum.parentItemActive.runAction(cc.sequence(cc.delayTime(t),cc.callFunc(function(){e.setParentNode(e.itemColum.parentItemActive)})))},e.prototype.setParentNode=function(t){this.node.parent=t,this.nodeScater&&this.nodeScater.changParent()},e.prototype.runSpin=function(){this.offItemFront();var t=cc.repeatForever(cc.moveBy(f.Windown.MatChuoc.stateSpin.isMaxSpeed?.5:f.Windown.MatChuoc.stateSpin.speedNormal,cc.v2(0,-2500)));this.node.stopAllActions(),this.node.runAction(t),this.canRun=!0},e.prototype.stopSpin=function(t){var e=this;this.getIndexOf(),this.node.stopAllActions(),this.node.runAction(cc.sequence(t,cc.callFunc(function(){e.itemColum.effStopSpin()})))},e.prototype.initPosStartGame=function(){var t,e=this.getIndexOf(),n=this.itemColum.getListSymbol()[e-1],o=null==n?void 0:n.node.getPosition().y;t=n?o-this.node.height/2-n.node.height/2:this.node.height/2,this.node.setPosition(this.node.getPosition().x,t,0),this.node.setSiblingIndex(e)},e.prototype.setPos=function(t){this.node.setPosition(t)},e.prototype.getPos=function(){return this.node.getPosition()},e.prototype.moveWhenListChange=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=null);var o=this.getIndexOf(),i=this.itemColum.getListSymbol()[o+1],r=i.getPos(),s=r.y,a=null;t==v.TYPE_MOVE.NORMAL&&(a=s+this.node.height/2+i.node.height/2,r.y=a,this.setPos(r))},e.prototype.takeItem=function(t,e){if(!this.efWin){f.Windown.MatChuoc.stateSpin.isMaxSpeed;var n=cc.instantiate(f.Windown.MatChuoc.asset.efTakeSymbol);n.parent=f.Windown.MatChuoc.parentEffect.children[t],n.setPosition(f.Windown.convertNodeInOtherNode(this.node,f.Windown.MatChuoc.parentEffect.children[t]));var o=f.Windown.convertNodeInOtherNode(this.node,f.Windown.MatChuoc.parentEffect);n.getComponent(y.default).effTakeItem(this.result,this.typeItem,o),n.setSiblingIndex(e),n.priority=e,f.Windown.MatChuoc.parentEffect.children[t].children.forEach(function(t){t.setSiblingIndex(t.priority)}),this.activeItem(0),this.efWin=n}},e.prototype.removeItem=function(t){var e=this.getIndexOf();e>-1&&this.itemColum.getListSymbol().splice(e,1),this.effectRemoveItem(t),f.Windown.MatChuoc.asset.putSymbol(this.node)},e.prototype.effectRemoveItem=function(t){if(this.efWin){var e=cc.instantiate(f.Windown.MatChuoc.asset.effRemoveItem);e.parent=f.Windown.MatChuoc.parentEffect,e.setPosition(f.Windown.convertNodeInOtherNode(this.node,f.Windown.MatChuoc.parentEffect)),this.efWin.getComponent(y.default).effectRemoveTakeItem(t),e.getComponent(y.default).effRemoveItem()}this.efWin=null,t!=c.NONE&&(this.node.active=!0,this.node.opacity=0)},e.prototype.actionRandomNewResultNextKhung=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,8,,9]),this.isShowEffectSpawn=!1,e=f.Windown.MatChuoc.stateSpin.isMaxSpeed?2:1,f.Windown.MatChuoc.audio.playEffectNoStop(f.Windown.MatChuoc.audio.rouletteStart),10!=t?[3,3]:(this.spriteItem.node.opacity=255,this.spriteItem.spriteFrame=this.getSpItem(!1),this.spriteBkg.spriteFrame=this.getSpBkg(!1),this.isShowEffectSpawn=!1,this.effectSpawnSymbol(),1!=e?[3,2]:[4,f.Windown.MatChuoc.getMakeDelay(.4).prosime]);case 1:r.sent(),r.label=2;case 2:return f.Windown.MatChuoc.audio.playEffectNoStop(f.Windown.MatChuoc.audio.rouletteEnd),n(null),[3,7];case 3:return this.node.opacity=0,f.Windown.MatChuoc.stateSpin.isMaxSpeed?[3,5]:((o=cc.instantiate(f.Windown.MatChuoc.asset.itemShuffToNormal)).parent=f.Windown.MatChuoc.parentEffect,o.setPosition(f.Windown.convertNodeInOtherNode(this.node,f.Windown.MatChuoc.parentEffect)),[4,f.Windown.MatChuoc.getPromise(o.getComponent(m.default).effShuffItem(this.result,t+1))]);case 4:r.sent(),r.label=5;case 5:return this.node.opacity=255,this.spriteItem.spriteFrame=this.getSpItem(!1),this.spriteBkg.spriteFrame=this.getSpBkg(!1),[4,f.Windown.MatChuoc.getMakeDelay(.2/e).prosime];case 6:r.sent(),n(null),r.label=7;case 7:return[3,9];case 8:return i=r.sent(),d.Util.ThrowErrProsime(i),[3,9];case 9:return[2]}})})})},e.prototype.effectSpawnSymbol=function(t){return void 0===t&&(t=!0),s(this,void 0,void 0,function(){return a(this,function(){try{if(this.isShowEffectSpawn||!this.checkIsInView())return[2];this.isShowEffectSpawn=!0,this.checkItemFront(),10==this.result?(t&&f.Windown.MatChuoc.audio.playEffectNoStop(f.Windown.MatChuoc.audio.symScatter),this.effectActiveScater(),f.Windown.MatChuoc.stateSpin.checkIsNearFS()&&this.effectNearWinScater(!0)):9==this.result&&t&&f.Windown.MatChuoc.audio.playEffectNoStop(f.Windown.MatChuoc.audio.symWild)}catch(e){d.Util.ThrowErrProsime(e)}return[2]})})},e.prototype.unuse=function(){this.isShowEffectSpawn=!1,this.isShuff=!1,this.result=-1,this.node.opacity=255,this.spriteItem.node.opacity=255,this.node.setPosition(cc.v3(0,this.node.getPosition().y,0)),this.node.stopAllActions(),this.removeAddScater(!0)},e.prototype.checkEndCot=function(){if(0==this.getIndexOf()){var t=this.node.height/2;if(this.node.getPosition().y<=t){var e=this.itemColum.getIdSymbolResult(),n=this.itemColum.getListSymbol(),o=n.pop();n.unshift(o),o.node.setSiblingIndex(0),o.node.zIndex=0,o.setResult(e),o.moveWhenListChange(v.TYPE_MOVE.NORMAL)}}},e.prototype.update=function(){this.canRun&&this.checkEndCot()},r([p(cc.Sprite)],e.prototype,"spriteItem",void 0),r([p(cc.Sprite)],e.prototype,"spriteBkg",void 0),r([p(cc.Node)],e.prototype,"nodeSprGold",void 0),r([p(cc.Node)],e.prototype,"bgScatter",void 0),r([p(cc.Node)],e.prototype,"buiSang",void 0),r([u],e)}(cc.Component);n.default=b,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./Effect/EffectSymbolMatChuoc":"EffectSymbolMatChuoc","./Effect/ItemAddScaterMatChuoc":"ItemAddScaterMatChuoc","./Effect/ShuffItemMatChuoc":"ShuffItemMatChuoc","./ItemSlotMatChuoc":"ItemSlotMatChuoc"}],SymbolMatTroi:[function(t,e,n){"use strict";cc._RF.push(e,"d80dae+pyxLl79se67HbZpV","SymbolMatTroi");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE_ITEM=void 0;var s,a=t("../../../Scritps/DefineTs/StateReelSlot"),c=t("../../../Scritps/Windown"),l=t("./EffectControlMatTroi"),u=t("./EffectScaterMatTroi"),p=t("./ItemSlotMatTroi"),h=cc._decorator,d=h.ccclass,f=h.property;(function(t){t[t.NONE=0]="NONE",t[t.BAC=1]="BAC",t[t.VANG=2]="VANG"})(s=n.TYPE_ITEM||(n.TYPE_ITEM={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.spriteBkg=null,e.spriteKhung=null,e.skeletonItem=null,e.isVectical=!0,e.nodeScater=null,e.sizeBkg=new cc.Size(122,105),e.size=new cc.Size(122,130),e.itemColum=null,e.result=-1,e.objSFS=null,e.typeItem=s.NONE,e.sizeItem=1,e.canRun=!1,e.efWin=null,e.lastPos=null,e.isShuff=!1,e.isShowEffectSpawn=!1,e.isShowEffectBonus=!1,e.isTakeItem=!1,e.typewin=-1,e}return i(e,t),e.prototype.setItemColum=function(t){this.itemColum=t,this.isVectical?(this.node.angle=0,this.size.height=130):(this.size.height=130,this.node.angle=90)},e.prototype.setResult=function(t){this.objSFS=t,this.result=t.getInt("idItem")+1,this.typeItem=t.getInt("typeItem"),this.setSize(),this.skeletonItem.node.active=!1,this.itemColum.stateWhel==a.default.RUN?this.setImgResult(!0):this.setImgResult(!1),this.isShuff=!1,this.isShowEffectSpawn=!1},e.prototype.setSize=function(){this.node.height=this.size.height*this.sizeItem},e.prototype.setImgResult=function(t){this.sprite.node.active=!0,this.sprite.spriteFrame=this.getSpItem(t),this.sprite.node.scale=t?1.3:.65},e.prototype.getSpKhung=function(t){return this.sizeItem==s.NONE?null:t?this.getAtlas().getSpriteFrame("khung_"+this.typeItem+"_"+this.sizeItem+"_blur"):this.getAtlas().getSpriteFrame("khung_"+this.typeItem+"_"+this.sizeItem)},e.prototype.getSpBkg=function(t){return t?this.getAtlas().getSpriteFrame("bkg_"+this.result+"_"+this.sizeItem+"_blur"):this.getAtlas().getSpriteFrame("bkg_"+this.result+"_"+this.sizeItem)},e.prototype.getSpBkgShuff=function(){return this.getAtlas().getSpriteFrame("bkg_"+this.result+"_"+this.sizeItem)},e.prototype.getSpItem=function(t){return this.sizeItem,this.result<12&&cc.misc.clampf(this.sizeItem,1,2),t?this.getAtlas().getSpriteFrame(this.result+"_blur"):this.getAtlas().getSpriteFrame(""+this.result)},e.prototype.checkItemFront=function(){!this.checkIsInView()||12!=this.result&&13!=this.result?this.node.parent=this.itemColum.parentItem:this.node.parent=this.itemColum.parentItemFront},e.prototype.getAtlas=function(){return this.result<11?c.Windown.MatTroiView.asset.atlasSymbol:c.Windown.MatTroiView.asset.atlasSpecial},e.prototype.getSpin=function(){return c.Windown.MatTroiView.asset.listSkeDataSymbol[this.result-1]},e.prototype.getIndexOf=function(){return this.itemColum.getListSymbol().indexOf(this)},e.prototype.convertNameSpineById=function(){switch(this.result){case 1:return"l_j";case 2:return"l_q";case 3:return"l_k";case 4:return"l_a";case 5:return"h_sundial";case 6:return"h_sextant";case 7:return"h_telescope";case 8:return"h_globe";case 9:return"h_moon";case 10:return"h_sun";case 11:return"s_wild";case 12:return"s_scatter"}},e.prototype.convertNameSize=function(){switch(this.sizeItem){case 1:return"_a_atlas_symbols";case 2:return"_b_atlas_symbols";case 3:return this.result<11||13==this.result?"_b_atlas_symbols":11==this.result?"_cd_atlas_symbols":"_c_atlas_symbols";case 4:return this.result<11||13==this.result?"_b_atlas_symbols":11==this.result?"_cd_atlas_symbols":"_d_atlas_symbols"}},e.prototype.convertNameSizeSpine=function(){return this.result<=10?"_atlas_symbols":"_atlas_specials"},e.prototype.removeAddScater=function(t){null!=this.nodeScater&&t&&(this.nodeScater&&this.nodeScater.destroy(),this.nodeScater=null)},e.prototype.effectAddScater=function(){c.Windown.MatTroiView.stateSpin.isShowNearWin&&this.activeItem(),this.nodeScater||(c.Windown.MatTroiView.audio.playEffectNoStop(c.Windown.MatTroiView.audio.symScatter),this.nodeScater=c.Windown.MatTroiView.asset.getEffScater(),this.nodeScater.parent=this.node,this.nodeScater.setPosition(0,0),this.nodeScater.getComponent(u.default).showFs())},e.prototype.effectScaterShowFS=function(){12==this.result&&this.checkIsInView()&&this.nodeScater&&(this.activeItem(),this.nodeScater.getComponent(u.default).showFs())},e.prototype.effectNearWinScater=function(){12==this.result&&this.nodeScater&&(this.activeItem(),this.nodeScater.runAction(cc.repeat(cc.sequence(cc.callFunc(function(){c.Windown.MatTroiView.audio.playEffectNoStop(c.Windown.MatTroiView.audio.heartbeat)}),cc.repeat(cc.sequence(cc.scaleTo(.25,1.2),cc.scaleTo(.15,1)),2),cc.delayTime(.5)),3)))},e.prototype.checkIsInView=function(){return this.node.y<0&&this.node.y>-this.size.height*(this.itemColum.sizeSymbol-2)},e.prototype.offItem=function(){this.node.parent!=this.itemColum.parentItem&&this.checkItemFront()},e.prototype.offItemFront=function(){this.node.parent=this.itemColum.parentItem},e.prototype.activeItem=function(t){void 0===t&&(t=.3),this.node.parent=this.itemColum.parentItemActive},e.prototype.runSpin=function(){this.offItemFront(),this.removeAddScater(!0),this.isShowEffectBonus=!1;var t=cc.repeatForever(cc.moveBy(1,0,-2500));this.node.stopAllActions(),this.node.runAction(t),this.canRun=!0},e.prototype.stopSpin=function(t){var e=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(t,cc.callFunc(function(){e.itemColum.effStopSpin()})))},e.prototype.initPosStartGame=function(){var t,e=this.getIndexOf(),n=this.itemColum.getListSymbol()[e-1],o=null==n?void 0:n.node.y;t=n?o-this.node.height/2-n.node.height/2:this.node.height/2,this.node.y=t},e.prototype.moveWhenListChange=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=null);var o=this.getIndexOf(),i=this.itemColum.getListSymbol()[o+1],r=i.node.y,s=null;t==p.TYPE_MOVE.NORMAL&&(s=r+this.node.height/2+i.node.height/2,this.node.y=s)},e.prototype.takeItem=function(){var t=c.Windown.MatTroiView.stateSpin.isMaxSpeed?2:1,e=c.Windown.MatTroiView.asset.getWinSymbol(this.typewin);e.parent=this.itemColum.parentItemActive,e.setPosition(c.Windown.convertNodeInOtherNode(this.node,this.itemColum.parentItemActive)),e.zIndex=cc.macro.MIN_ZINDEX,this.node.parent=this.itemColum.parentItemActive,this.node.zIndex=cc.macro.MAX_ZINDEX,this.isTakeItem=!0,this.removeEfWin(),e.getComponent(cc.Animation).play("TakeItem1").speed=t,this.activeItem(0),this.efWin=e,this.skeletonItem.setAnimation(0,"win",!0)},e.prototype.takeBonusSpinSunMoon=function(t){this.isShowEffectBonus=!0,cc.tween(this.skeletonItem.node).set({scale:.65}).to(.3/c.Windown.MatTroiView.getDelta(),{scale:.75},{easing:cc.easing.sineOut}).to(.3/c.Windown.MatTroiView.getDelta(),{scale:.65},{easing:cc.easing.sineIn}).start(),(9==this.result?this.node.getChildByName("bgMoonAdd"):this.node.getChildByName("bgSunAdd")).active=!0;var e=c.Windown.convertNodeInOtherNode(this.node,c.Windown.MatTroiView.parentEffect);l.default.instance.effectLightingBonus(e,this.result,t)},e.prototype.removeBkgBonusSpin=function(){var t=null;9==this.result?t=this.node.getChildByName("bgMoonAdd"):10==this.result&&(t=this.node.getChildByName("bgSunAdd")),t&&(t.stopAllActions(),t.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){t.active=!1}))))},e.prototype.removeEfWin=function(){if(this.efWin){var t=this.efWin.getComponent(cc.Animation);t.targetOff(t),t.stop(),c.Windown.MatTroiView.asset.putWinSymbol(this.efWin,this.typewin)}this.efWin=null},e.prototype.removeItem=function(){var t=this,e=c.Windown.MatTroiView.stateSpin.isMaxSpeed?2:1,n=this.getIndexOf();if(n>-1&&this.itemColum.getListSymbol().splice(n,1),this.node.runAction(cc.sequence(cc.fadeOut(.3/c.Windown.MatTroiView.getDelta()),cc.callFunc(function(){c.Windown.MatTroiView.asset.putSymbol(t.node)}))),c.Windown.MatTroiView.audio.playEffect(c.Windown.MatTroiView.audio.symShrink),this.efWin){var o=this.efWin.getComponent(cc.Animation);o.play("TakeItem1End").speed=e,o.once(cc.Animation.EventType.FINISHED,function(){t.removeEfWin()})}},e.prototype.removeMutilWhenSpin=function(){this.removeEfWin()},e.prototype.effectSpawnSymbol=function(){if(!this.isShowEffectSpawn&&this.checkIsInView()){this.checkItemFront(),this.sprite.node.active=!1;var t=this.getSpin();this.skeletonItem.node.active=!0,this.skeletonItem.skeletonData=t,this.skeletonItem.setAnimation(0,"spawn",!1),this.skeletonItem.node.scale=.65,this.isShowEffectSpawn=!0,12==this.result?this.effectAddScater():11==this.result&&c.Windown.MatTroiView.audio.playEffectNoStop(c.Windown.MatTroiView.audio.symWild)}},e.prototype.unuse=function(){this.skeletonItem.node.active=!1,this.itemColum=null,this.isShowEffectSpawn=!1,this.isShowEffectBonus=!1,this.isTakeItem=!1,this.isShuff=!1,this.result=-1,this.node.opacity=255,this.sprite.node.scale=.65,this.sprite.node.y=1,this.node.scale=1,this.sprite.node.opacity=255,this.sprite.node.active=!0,this.skeletonItem.node.active=!1,this.node.stopAllActions(),this.removeAddScater(!0)},e.prototype.checkEndCot=function(){if(0==this.getIndexOf()){var t=-this.node.height/2;if(this.node.y<=t){var e=this.itemColum.getIdSymbolResult(),n=this.itemColum.getListSymbol(),o=n.pop();n.unshift(o),o.node.zIndex=0,o.setResult(e),o.moveWhenListChange(p.TYPE_MOVE.NORMAL)}}},e.prototype.update=function(){this.canRun&&this.checkEndCot()},r([f(cc.Sprite)],e.prototype,"sprite",void 0),r([f(cc.Sprite)],e.prototype,"spriteBkg",void 0),r([f(cc.Sprite)],e.prototype,"spriteKhung",void 0),r([f(sp.Skeleton)],e.prototype,"skeletonItem",void 0),r([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Windown":"Windown","./EffectControlMatTroi":"EffectControlMatTroi","./EffectScaterMatTroi":"EffectScaterMatTroi","./ItemSlotMatTroi":"ItemSlotMatTroi"}],SymbolNeko:[function(t,e,n){"use strict";cc._RF.push(e,"0deabLHIONANZHTW2mzAwP2","SymbolNeko");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE_ITEM=void 0;var c,l=t("../../../Scritps/DefineTs/BUNDLE"),u=t("../../../Scritps/DefineTs/StateReelSlot"),p=t("../../../Scritps/Util"),h=t("../../../Scritps/Windown"),d=t("./ItemMuitlNeko"),f=t("./ItemSlotNeko"),y=cc._decorator,g=y.ccclass,m=y.property;(function(t){t[t.NONE=0]="NONE",t[t.BAC=1]="BAC",t[t.VANG=2]="VANG"})(c=n.TYPE_ITEM||(n.TYPE_ITEM={}));var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.spriteBkg=null,e.spriteKhung=null,e.skeletonItem=null,e.parentMutil=null,e.isVectical=!0,e.nodeScater=null,e.sizeBkg=new cc.Size(122,105),e.size=new cc.Size(127,103),e.itemColum=null,e.result=-1,e.objSFS=null,e.typeItem=c.NONE,e.sizeItem=0,e.canRun=!1,e.efWin=null,e.nodeMutil=null,e.lastPos=null,e.isShuff=!1,e.isShowEffectSpawn=!1,e}return i(e,t),e.prototype.setItemColum=function(t){this.itemColum=t,this.isVectical?(this.node.angle=0,this.size.height=103):(this.size.height=120,this.node.angle=90)},e.prototype.setResult=function(t){null!=t&&(this.objSFS=t,this.result=t.getInt("idItem")+1,this.typeItem=t.getInt("typeItem"),this.sizeItem=t.getInt("size"),this.setSize(),this.skeletonItem.node.active=!1,this.itemColum.stateWhel==u.default.RUN?this.setImgResult(!0):this.setImgResult(!1),this.setNewStateMutil(),this.isShuff=!1,this.isShowEffectSpawn=!1)},e.prototype.setNewStateMutil=function(){11!=this.result||this.isShowEffectSpawn||null!=this.nodeMutil?this.parentMutil.active=!1:this.parentMutil.active=!0,this.parentMutil.active&&(this.parentMutil.y=-this.node.height/2+this.parentMutil.height/2+18)},e.prototype.setSize=function(){this.spriteBkg.node.height=this.sizeBkg.height*this.sizeItem,this.spriteKhung.node.height=this.sizeBkg.height*this.sizeItem,this.node.height=this.size.height*this.sizeItem},e.prototype.setImgResult=function(t){this.sprite.spriteFrame=this.getSpItem(t),this.spriteBkg.spriteFrame=this.getSpBkg(t),this.spriteKhung.spriteFrame=this.getSpKhung(t),t?(this.sprite.node.scale=1.4,this.spriteKhung.node.scale=1.1,this.spriteBkg.node.scale=1.1):(this.sprite.node.scale=.7,this.spriteBkg.node.scale=1,this.spriteKhung.node.scale=1),12==this.result||13==this.result?this.skeletonItem.node.scale=.7:this.skeletonItem.node.scale=.77,12==this.result&&1==this.sizeItem?this.skeletonItem.node.y=-7.4:this.skeletonItem.node.y=0},e.prototype.getSpKhung=function(t){return this.sizeItem==c.NONE?null:t?this.getAtlas().getSpriteFrame("khung_"+this.typeItem+"_"+this.sizeItem+"_blur"):this.getAtlas().getSpriteFrame("khung_"+this.typeItem+"_"+this.sizeItem)},e.prototype.getSpBkg=function(t){return t?this.getAtlas().getSpriteFrame("bkg_"+this.result+"_"+this.sizeItem+"_blur"):this.getAtlas().getSpriteFrame("bkg_"+this.result+"_"+this.sizeItem)},e.prototype.getSpBkgShuff=function(){return this.getAtlas().getSpriteFrame("bkg_"+this.result+"_"+this.sizeItem)},e.prototype.getSpItem=function(t){var e=this.sizeItem;return this.result<12&&(e=cc.misc.clampf(this.sizeItem,1,2)),t?this.getAtlas().getSpriteFrame("item_"+this.result+"_"+e+"_blur"):this.getAtlas().getSpriteFrame("item_"+this.result+"_"+e)},e.prototype.getAtlas=function(){return this.result<12?h.Windown.Neko.asset.atlasSymbol:h.Windown.Neko.asset.atlasSpecial},e.prototype.getSpin=function(){var t=this.convertNameSpineById()+this.convertNameSizeSpine();return 13==this.result&&cc.log("str: "+t),h.Windown.loadRes(l.BUNDLE.Neko,"Spine/"+t,sp.SkeletonData)},e.prototype.getIndexOf=function(){return this.itemColum.getListSymbol().indexOf(this)},e.prototype.convertNameSpineById=function(){switch(this.result){case 1:return"l_10";case 2:return"l_j";case 3:return"l_q";case 4:return"l_k";case 5:return"l_a";case 6:return"h_sushi";case 7:return"h_f_sushi";case 8:return"h_fan";case 9:return"h_lantern";case 10:return"h_drum";case 11:return"h_neko";case 12:return"s_wild";case 13:return"s_scatter"}},e.prototype.convertNameSize=function(){switch(this.sizeItem){case 1:return"_a_atlas_symbols";case 2:return"_b_atlas_symbols";case 3:return this.result<11||13==this.result?"_b_atlas_symbols":11==this.result?"_cd_atlas_symbols":"_c_atlas_symbols";case 4:return this.result<11||13==this.result?"_b_atlas_symbols":11==this.result?"_cd_atlas_symbols":"_d_atlas_symbols"}},e.prototype.convertNameSizeSpine=function(){switch(this.sizeItem){case 1:return"_a_atlas_symbols";case 2:return"_b_atlas_symbols";case 3:return 11==this.result?"_cd_atlas_symbols":12==this.result?"_c_atlas_symbols":"_b_atlas_symbols";case 4:return 11==this.result?"_cd_atlas_symbols":12==this.result?"_d_atlas_symbols":"_b_atlas_symbols"}},e.prototype.removeAddScater=function(t){null!=this.nodeScater&&(t?(this.nodeScater&&h.Windown.Neko.asset.putAddScater(this.nodeScater),this.nodeScater=null):this.nodeScater.active=!1)},e.prototype.effectScaterShowFS=function(){13==this.result&&this.checkIsInView()&&this.nodeScater&&(this.nodeScater.setPosition(h.Windown.convertNodeInOtherNode(this.node,h.Windown.Neko.parentEffect)),this.nodeScater.active=!0,this.nodeScater.stopAllActions(),this.nodeScater.runAction(cc.sequence(cc.scaleTo(.3,1.4),cc.delayTime(1))))},e.prototype.effectNearWinScater=function(){13==this.result&&this.nodeScater&&(this.nodeScater.active=!0,this.nodeScater.setPosition(h.Windown.convertNodeInOtherNode(this.node,h.Windown.Neko.parentEffect)),this.nodeScater.stopAllActions(),this.nodeScater.runAction(cc.repeat(cc.sequence(cc.callFunc(function(){h.Windown.Neko.audio.playEffectNoStop(h.Windown.Neko.audio.heartbeat)}),cc.repeat(cc.sequence(cc.scaleTo(.25,1.2),cc.scaleTo(.15,1)),2),cc.delayTime(.5)),3)))},e.prototype.checkIsInView=function(){return this.node.y<0&&this.node.y>-this.size.height*(this.itemColum.sizeSymbol-2)},e.prototype.offItem=function(){this.node.children.forEach(function(t){t.stopActionByTag(999),cc.tween(t).to(.3,{color:cc.Color.GRAY}).tag(999).start()})},e.prototype.activeItem=function(t){void 0===t&&(t=.3),this.node.children.forEach(function(e){e.stopActionByTag(999),cc.tween(e).to(t,{color:cc.Color.WHITE}).tag(999).start()})},e.prototype.runSpin=function(){var t=cc.repeatForever(cc.moveBy(h.Windown.Neko.stateSpin.isMaxSpeed?.5:1,0,-2500));this.node.stopAllActions(),this.node.runAction(t),this.canRun=!0},e.prototype.stopSpin=function(t){var e=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(t,cc.callFunc(function(){e.itemColum.effStopSpin()})))},e.prototype.initPosStartGame=function(){var t,e=this.getIndexOf(),n=this.itemColum.getListSymbol()[e-1],o=null==n?void 0:n.node.y;t=n?o-this.node.height/2-n.node.height/2:this.node.height/2,this.node.y=t},e.prototype.moveWhenListChange=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=null);var o=this.getIndexOf(),i=this.itemColum.getListSymbol()[o+1],r=i.node.y,s=null;t==f.TYPE_MOVE.NORMAL&&(s=r+this.node.height/2+i.node.height/2,this.node.y=s)},e.prototype.takeItem=function(){return s(this,void 0,void 0,function(){var t,e,n,o,i=this;return a(this,function(r){switch(r.label){case 0:r.trys.push([0,5,,6]),6==this.itemColum.sizeSymbol?h.Windown.Neko.audio.playEffectNoStop(h.Windown.Neko.audio.takeSymTop):h.Windown.Neko.audio.playEffectNoStop(h.Windown.Neko.audio.prizePayoutHighlight),(t=h.Windown.Neko.asset.getWinSymbol(this.sizeItem)).parent=h.Windown.Neko.parentEffect,t.setPosition(h.Windown.convertNodeInOtherNode(this.node,h.Windown.Neko.parentEffect)),e=null,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.getSpin()];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),cc.error(n),[3,4];case 4:return this.removeEfWin(),t&&(t.getComponent(cc.Animation).play("TakeItem"+this.sizeItem),this.activeItem(0),this.efWin=t,this.sprite.node.opacity=0,e&&this.skeletonItem.node&&(this.skeletonItem.node.active=!0,this.skeletonItem.skeletonData=e,this.skeletonItem.setAnimation(0,"win",!1),this.skeletonItem.setCompleteListener(function(){i.skeletonItem.setCompleteListener(null),i.skeletonItem.node.active=!1,i.sprite.node.opacity=255}))),[3,6];case 5:return o=r.sent(),p.Util.ThrowErrProsime(o),[3,6];case 6:return[2]}})})},e.prototype.removeEfWin=function(){if(this.efWin){var t=this.efWin.getComponent(cc.Animation);t.targetOff(t),t.stop(),h.Windown.Neko.asset.putWinSymbol(this.efWin,this.sizeItem)}this.efWin=null},e.prototype.removeItem=function(){var t=this;if(this.node.setPosition(h.Windown.convertNodeInOtherNode(this.node,this.itemColum.node)),this.node.parent=this.itemColum.node,this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){h.Windown.Neko.asset.putSymbol(t.node)}))),this.efWin){var e=this.efWin.getComponent(cc.Animation);e.play("EndTakeItem"+this.sizeItem),e.once(cc.Animation.EventType.FINISHED,function(){t.removeEfWin()})}},e.prototype.actionRandomNewResultNextKhung=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o,i,r,s,c,l,u,d,f,y;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,10,,11]),this.isShowEffectSpawn=!1,this.typeItem++,this.typeItem=this.typeItem%3,this.spriteKhung.spriteFrame=this.getSpKhung(!1),this.removeEfWin(),h.Windown.Neko.audio.playEffectNoStop(h.Windown.Neko.audio.symRouletteStart),11!=t?[3,1]:(this.skeletonItem.node.active=!1,this.sprite.node.opacity=255,this.result=t+1,this.sprite.spriteFrame=this.getSpItem(!1),this.spriteBkg.spriteFrame=this.getSpBkg(!1),e=this.sprite.node.scale,this.sprite.node.scale=0,this.sprite.node.stopAllActions(),this.sprite.node.runAction(cc.sequence(cc.scaleTo(.8,e).easing(cc.easeElasticOut(.3)),cc.callFunc(n))),(o=h.Windown.Neko.asset.getShuffToWild()).parent=h.Windown.Neko.parentEffect,o.setPosition(h.Windown.convertNodeInOtherNode(this.node,h.Windown.Neko.parentEffect)),i=o.getComponent(cc.Animation),2==this.sizeItem?i.play("ShuffToWild2"):i.play("ShuffToWild4"),i.once(cc.Animation.EventType.FINISHED,function(){h.Windown.Neko.asset.putShuffToWild(o)}),[3,9]);case 1:if(h.Windown.Neko.stateSpin.isMaxSpeed)return[3,6];this.spriteBkg.node.active=!1,r=h.Windown.Neko.asset.getBkgShuffSymbol(),this.node.addChild(r,cc.macro.MIN_ZINDEX),r.setContentSize(this.spriteBkg.node.getContentSize()),r.getComponent(cc.Animation).play("Shuff"+this.sizeItem),u=0,a.label=2;case 2:if(!(u<10))return[3,5];for(s=h.Windown.RandomNumber(1,12);this.result==s;)s=h.Windown.RandomNumber(1,12);return h.Windown.Neko.audio.playEffectNoStop(h.Windown.Neko.audio.symRouletteRolling),this.result=s,this.sprite.spriteFrame=this.getSpItem(!1),[4,h.Windown.Neko.getMakeDelay(.09).prosime];case 3:a.sent(),a.label=4;case 4:return u++,[3,2];case 5:h.Windown.Neko.asset.putBkgShuffSymbol(r),a.label=6;case 6:for(this.spriteBkg.node.active=!0,h.Windown.Neko.audio.stopEffect(h.Windown.Neko.audio.symRouletteRolling),this.result=t+1,this.sprite.spriteFrame=this.getSpItem(!1),this.spriteBkg.spriteFrame=this.getSpBkg(!1),h.Windown.Neko.audio.playEffectNoStop(h.Windown.Neko.audio.symRouletteEnd),this.sprite.node.stopAllActions(),c=this.sprite.node.scale,this.setNewStateMutil(),(l=h.Windown.Neko.asset.getShuffToNormal()).parent=h.Windown.Neko.parentEffect,l.setPosition(h.Windown.convertNodeInOtherNode(this.node,h.Windown.Neko.parentEffect)),l.height=this.sizeBkg.height*this.sizeItem,u=1,d=l.children.length;u<d;u++)l.children[u].active=!1;return l.children[this.sizeItem-1].active=!0,(f=l.children[0]).stopAllActions(),f.scale=0,f.runAction(cc.sequence(cc.scaleTo(.4,1.7*(this.sizeItem-1)),cc.callFunc(function(){h.Windown.Neko.asset.putShuffToNormal(l)}))),this.sprite.node.runAction(cc.sequence(cc.scaleTo(.1,c+.2),cc.scaleTo(.1,c))),h.Windown.Neko.stateSpin.isMaxSpeed?[4,h.Windown.Neko.getMakeDelay(.4)]:[3,8];case 7:a.sent(),a.label=8;case 8:n(null),a.label=9;case 9:return[3,11];case 10:return y=a.sent(),p.Util.ThrowErrProsime(y),[3,11];case 11:return[2]}})})})},e.prototype.removeMutilWhenSpin=function(){this.nodeMutil&&(h.Windown.Neko.asset.putSymbolMutil(this.nodeMutil),this.parentMutil.active=!0),this.nodeMutil=null,this.removeEfWin()},e.prototype.effectSpawnSymbol=function(){return s(this,void 0,void 0,function(){var t,e,n,o,i,r,s,c,l=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,8,,9]),cc.isValid(this.node,!0)?this.isShowEffectSpawn||!this.checkIsInView()?[2]:13!=this.result?[3,1]:(h.Windown.Neko.audio.playEffectNoStop(h.Windown.Neko.audio.symScatter),this.isShowEffectSpawn=!0,this.nodeScater?[2]:((t=h.Windown.Neko.asset.getAddScater()).parent=h.Windown.Neko.parentEffect,t.setPosition(h.Windown.convertNodeInOtherNode(this.node,h.Windown.Neko.parentEffect)),this.nodeScater=t,(e=t.getComponent(cc.Animation)).play("AddScater"),e.playAdditive("AddScaterLoop"),this.nodeScater.stopAllActions(),this.nodeScater.runAction(cc.sequence(cc.scaleTo(.3,1.2).easing(cc.easeSineOut()),cc.scaleTo(.3,1).easing(cc.easeSineIn()))),(n=cc.find("Alats8-fs_vfx_c_add",t)).stopAllActions(),n.runAction(cc.repeatForever(cc.rotateBy(1,30))),(o=cc.find("Alats8-mh_vfx_01_add",t)).stopAllActions(),o.scale=1,o.opacity=255,o.runAction(cc.repeatForever(cc.sequence(cc.spawn(cc.scaleTo(.5,1.6).easing(cc.easeQuarticActionOut()),cc.fadeTo(.5,50).easing(cc.easeQuarticActionOut())),cc.callFunc(function(){o.scale=1,o.opacity=255})))),[3,7])):[2];case 1:if(12!=this.result)return[3,6];this.isShowEffectSpawn=!0,i=null,a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.getSpin()];case 3:return i=a.sent(),[3,5];case 4:return r=a.sent(),cc.error(r),[3,5];case 5:return i&&(this.skeletonItem.node.active=!0,this.skeletonItem.skeletonData=i,this.skeletonItem.setAnimation(0,"spawn",!1),this.skeletonItem.setCompleteListener(function(){l.skeletonItem.setCompleteListener(null),l.skeletonItem.node.active=!1})),h.Windown.Neko.audio.playEffectNoStop(h.Windown.Neko.audio.symWild),[3,7];case 6:11==this.result&&(this.isShowEffectSpawn=!0,null==this.nodeMutil&&(s=h.Windown.Neko.muitlCtr.node,this.nodeMutil=h.Windown.Neko.asset.getSymbolMutil(),this.nodeMutil.parent=s,this.nodeMutil.setPosition(h.Windown.convertNodeInOtherNode(this.parentMutil,s))),this.parentMutil.active=!1,this.nodeMutil._components&&this.nodeMutil.getComponent(d.default).onOffEffectMutil(!0)),a.label=7;case 7:return[3,9];case 8:return c=a.sent(),p.Util.ThrowErrProsime(c),[3,9];case 9:return[2]}})})},e.prototype.unuse=function(){this.skeletonItem.node.active=!1,this.itemColum=null,this.isShowEffectSpawn=!1,this.isShuff=!1,this.result=-1,this.node.opacity=255,this.sprite.node.scale=.67,this.sprite.node.y=1,this.sprite.node.opacity=255,this.node.stopAllActions(),this.removeAddScater(!0)},e.prototype.checkEndCot=function(){if(0==this.getIndexOf()){var t=-this.node.height/2;if(this.node.y<=t){var e=this.itemColum.getIdSymbolResult(),n=this.itemColum.getListSymbol(),o=n[n.length-1];o.node.zIndex=0,o.node.setSiblingIndex(0),o.node.parent.sortAllChildren(),o.setResult(e),this.itemColum.emitNewList(),o.moveWhenListChange(f.TYPE_MOVE.NORMAL)}}},e.prototype.update=function(){this.canRun&&this.checkEndCot()},r([m(cc.Sprite)],e.prototype,"sprite",void 0),r([m(cc.Sprite)],e.prototype,"spriteBkg",void 0),r([m(cc.Sprite)],e.prototype,"spriteKhung",void 0),r([m(sp.Skeleton)],e.prototype,"skeletonItem",void 0),r([m(cc.Node)],e.prototype,"parentMutil",void 0),r([g],e)}(cc.Component);n.default=v,cc._RF.pop()},{"../../../Scritps/DefineTs/BUNDLE":"BUNDLE","../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./ItemMuitlNeko":"ItemMuitlNeko","./ItemSlotNeko":"ItemSlotNeko"}],SymbolNgoKhong:[function(t,e,n){"use strict";cc._RF.push(e,"4470ckDRsZD1Io9Mb2Lwx4/","SymbolNgoKhong");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/StateReelSlot"),l=t("../../../Scritps/Util"),u=t("../../../Scritps/Windown"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.spriteBkg=null,e.skeletonItem=null,e.nodeScater=null,e.nodeNhuY=null,e.itemColum=null,e.result=-1,e}return i(e,t),e.prototype.setItemColum=function(t){this.itemColum=t},e.prototype.setResult=function(t){null!=t&&(this.result=t,this.skeletonItem.node.active=!1,this.itemColum.stateWhel==c.default.RUN?this.activeBlur():this.offBlur())},e.prototype.activeBlur=function(){this.sprite.spriteFrame=u.Windown.NgoKhong.asset.listSpItemBlur[this.result],this.spriteBkg.spriteFrame=u.Windown.NgoKhong.asset.listSpBkgSymbolBlur[this.result]},e.prototype.offBlur=function(){this.sprite.spriteFrame=u.Windown.NgoKhong.asset.listSFItem[this.result],this.spriteBkg.spriteFrame=u.Windown.NgoKhong.asset.listSpBkgSymbol[this.result],this.skeletonItem.skeletonData=u.Windown.NgoKhong.asset.listSpItem[this.result]},e.prototype.activeWild=function(){10==this.result&&(this.skeletonItem.node.active=!0,this.skeletonItem.setAnimation(0,"spawn",!1))},e.prototype.effectNearWinScater=function(){this.nodeScater&&12==this.result&&(this.nodeScater.stopAllActions(),this.nodeScater.runAction(cc.repeat(cc.sequence(cc.callFunc(function(){u.Windown.NgoKhong.audio.playEffect(u.Windown.NgoKhong.audio.fsWonTitle)}),cc.repeat(cc.sequence(cc.scaleTo(.25,.75),cc.scaleTo(.25,.67)),2),cc.delayTime(.5)),3)))},e.prototype.effectScaterShowFS=function(){this.nodeScater&&(this.nodeScater.stopAllActions(),this.nodeScater.runAction(cc.sequence(cc.scaleTo(.4,.8),cc.delayTime(3),cc.scaleTo(0,.67))))},e.prototype.offItem=function(){this.node.children.forEach(function(t){t.stopActionByTag(999),cc.tween(t).to(.3,{color:cc.Color.GRAY}).tag(999).start()})},e.prototype.activeItem=function(){this.node.children.forEach(function(t){t.stopActionByTag(999),cc.tween(t).to(.3,{color:cc.Color.WHITE}).tag(999).start()})},e.prototype.removeNodeScater=function(t){var e=this;void 0===t&&(t=!1),this.nodeScater&&(t?(this.nodeScater.stopAllActions(),this.nodeScater.runAction(cc.sequence(cc.fadeOut(.1),cc.callFunc(function(){e.nodeScater.opacity=255,u.Windown.NgoKhong.asset.putSpineScater(e.nodeScater),e.nodeScater=null})))):u.Windown.NgoKhong.asset.putSpineScater(this.nodeScater)),this.nodeNhuY&&(u.Windown.NgoKhong.asset.putSpineGayNhuY(this.nodeNhuY),this.nodeNhuY=null)},e.prototype.addNodeGayNhuY=function(t){var e=this;this.nodeNhuY=u.Windown.NgoKhong.asset.getSpineGayNhuY(),this.nodeNhuY.parent=u.Windown.NgoKhong.parentEffect,this.nodeNhuY.zIndex=101,this.nodeNhuY.setPosition(u.Windown.convertNodeInOtherNode(this.node,u.Windown.NgoKhong.parentEffect));var n=this.nodeNhuY.getComponentInChildren(sp.Skeleton);n.setAnimation(0,"spawn",!1),n.addAnimation(0,"win",!1),this.scheduleOnce(function(){t(),u.Windown.NgoKhong.asset.putSpineGayNhuY(e.nodeNhuY),e.nodeNhuY=null},1.3)},e.prototype.addNodeScater=function(){this.nodeScater||(this.nodeScater=u.Windown.NgoKhong.asset.getSpineScater(),this.nodeScater.parent=u.Windown.NgoKhong.parentEffect,this.nodeScater.zIndex=100,this.nodeScater.scale=.67,this.nodeScater.opacity=255,this.nodeScater.setPosition(u.Windown.convertNodeInOtherNode(this.node,u.Windown.NgoKhong.parentEffect)),this.nodeScater.getComponent(sp.Skeleton).setAnimation(0,"idle",!0))},e.prototype.addEffectBackGround=function(){var t=this,e=u.Windown.NgoKhong.asset.getBkgAddSymbol();e.parent=u.Windown.NgoKhong.parentEffect,e.setPosition(u.Windown.convertNodeInOtherNode(this.node,u.Windown.NgoKhong.parentEffect));var n=e.getComponent(cc.Animation);this.node.on(cc.Node.EventType.POSITION_CHANGED,function(){e.setPosition(u.Windown.convertNodeInOtherNode(t.node,u.Windown.NgoKhong.parentEffect))},e),n.once(cc.Animation.EventType.FINISHED,function(){t.node.targetOff(e),u.Windown.NgoKhong.asset.putBkgAddSymbol(e)},this),n.play("AddSymbol2")},e.prototype.setStateScater=function(t){if(null!=this.nodeScater)if("waitScater"==t)this.nodeScater.getComponent(sp.Skeleton).setAnimation(0,"win_idle",!0),this.nodeScater.stopAllActions(),this.nodeScater.runAction(cc.scaleTo(.3,.75));else if("waitScater2"==t)this.nodeScater.stopAllActions(),this.nodeScater.runAction(cc.repeat(cc.sequence(cc.scaleTo(.2,.75),cc.scaleTo(.2,.67)),2));else if("idle"==t){var e=this.nodeScater.getComponent(sp.Skeleton);this.nodeScater.stopAllActions(),this.nodeScater.runAction(cc.sequence(cc.scaleTo(.2,.67),cc.callFunc(function(){e.setAnimation(0,"spawn",!1),e.addAnimation(0,"idle",!0)})))}},e.prototype.activeSkeleton=function(){},e.prototype.setPosNodeWild=function(){this.nodeNhuY&&this.nodeNhuY.setPosition(u.Windown.convertNodeInOtherNode(this.node,u.Windown.NgoKhong.parentEffect)),this.nodeScater&&this.nodeScater.setPosition(u.Windown.convertNodeInOtherNode(this.node,u.Windown.NgoKhong.parentEffect))},e.prototype.takeItem=function(){return s(this,void 0,void 0,function(){var t,e,n,o,i;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=1.4,(e=u.Windown.NgoKhong.asset.getWinSymbol()).parent=u.Windown.NgoKhong.parentEffect,e.setPosition(u.Windown.convertNodeInOtherNode(this.node,u.Windown.NgoKhong.parentEffect)),n=u.Windown.NgoKhong.asset.listSpItem[this.result],o=e.getComponent(sp.Skeleton),u.Windown.NgoKhong.stateSpin.isMaxSpeed?(e.opacity=255,o.setAnimation(0,"win",!1),o.setCompleteListener(function(){u.Windown.NgoKhong.asset.putWinSymbol(e),o.setCompleteListener(null)}),t=.7):(n?(this.skeletonItem.node.active=!0,this.skeletonItem.skeletonData=n,this.skeletonItem.setAnimation(0,"win",!1)):this.sprite.node.runAction(cc.spawn(cc.scaleTo(.1,.77),cc.sequence(cc.moveTo(.1,0,10),cc.moveTo(.1,0,1)))),10!=this.result?(o.setAnimation(0,"win_idle",!1),e.opacity=255):e.opacity=0,o.scheduleOnce(function(){e.opacity=255,o.setAnimation(0,"win",!1),o.setCompleteListener(function(){u.Windown.NgoKhong.asset.putWinSymbol(e),o.setCompleteListener(null)})},1.4)),this.activeItem(),[4,u.Windown.NgoKhong.getMakeDelay(t).prosime];case 1:return r.sent(),this.removeItem(),[3,3];case 2:return i=r.sent(),l.Util.ThrowErrProsime(i),[3,3];case 3:return[2]}})})},e.prototype.removeItem=function(){var t=this;cc.isValid(this.node,!0)&&this.itemColum&&cc.isValid(this.itemColum.node,!0)&&(this.node.setPosition(u.Windown.convertNodeInOtherNode(this.node,this.itemColum.node)),this.node.parent=this.itemColum.node,this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){u.Windown.NgoKhong.asset.putSymbol(t.node)}))))},e.prototype.unuse=function(){this.skeletonItem.node.active=!1,this.itemColum=null,this.result=-1,this.node.opacity=255,this.sprite.node.scale=.67,this.sprite.node.y=1,this.node.stopAllActions()},e.prototype.checkEndCot=function(){var t=this.node.parent.convertToWorldSpaceAR(this.node.getPosition()),e=this.itemColum.node.convertToNodeSpaceAR(t),n=(this.itemColum.result.length+2+1)*this.node.height/2*-1;if(e.y<=n){this.node.y=this.node.parent.children[0].y+this.node.height,this.node.zIndex=0,this.node.setSiblingIndex(0),this.node.parent.sortAllChildren();var o=this.itemColum.getIdSymbolResult();if(null==o)return void this.itemColum.effStopSpin();this.setResult(o)}},e.prototype.update=function(){this.checkEndCot(),this.setPosNodeWild()},r([d(cc.Sprite)],e.prototype,"sprite",void 0),r([d(cc.Sprite)],e.prototype,"spriteBkg",void 0),r([d(sp.Skeleton)],e.prototype,"skeletonItem",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],SymbolQuyBa:[function(t,e,n){"use strict";cc._RF.push(e,"5ceb54kRyRJkrj9wJPpxtc5","SymbolQuyBa");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.SymbolQuyBa=n.TYPE_ITEM=void 0;var c,l=t("./ItemSlotQuyBa"),u=t("../../../Scritps/DefineTs/StateReelSlot"),p=t("./ItemAddScatterQuyBa"),h=t("./EffectSymbolQuyBa"),d=t("../../../Scritps/Windown"),f=t("../../../Scritps/Util"),y=cc._decorator,g=y.ccclass,m=y.property;(function(t){t[t.NONE=1]="NONE",t[t.WILD=2]="WILD"})(c=n.TYPE_ITEM||(n.TYPE_ITEM={}));var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.result=-1,e.sizeBkg=cc.size(175,165),e.size=cc.size(175,165),e.nodeScater=null,e.itemColum=null,e.typeItem=c.NONE,e.spriteItem=null,e.spriteBkg=null,e.bgScatter=null,e.bgWild=null,e.skeletonItem=null,e.efWin=null,e.efTakeWild=null,e.canRun=!1,e.objSFS=null,e.sizeItem=1,e.isShuff=!1,e.isTransToWild=!1,e.isShowEffectSpawn=!1,e.isHasTakeItem=!1,e}return i(e,t),e.prototype.effectScaterShowFS=function(){12==this.result&&this.checkIsInView()&&cc.isValid(this.nodeScater)&&(this.activeItem(),this.nodeScater.node.active=!0,d.Windown.QuyBa.stateReel==u.default.RUN?this.nodeScater.showFS():d.Windown.QuyBa.stateReel==u.default.STOP&&this.nodeScater.winFS())},e.prototype.checkIsInView=function(){return this.node.getPosition().y<0&&this.node.getPosition().y>-this.size.height*(2/3)*(this.itemColum.sizeSymbol-2)},e.prototype.activeItem=function(t){void 0===t&&(t=.3),this.setParentNode(this.itemColum.parentItemActive)},e.prototype.setParentNode=function(t){this.node.parent=t,this.nodeScater&&this.nodeScater.changParent()},e.prototype.setItemColum=function(t){this.itemColum=t,this.node.angle=0,this.size.height=165},e.prototype.setResult=function(t){if(null!=t&&null!=t){var e=t;null!=e&&(null!=e.t&&null!=e.t||(e.t=1),null!=e.s&&null!=e.s||(e.s=1),this.objSFS=e,this.result=e.i,this.typeItem=e.t,this.sizeItem=e.s,this.setSize(),this.itemColum.stateWhel==u.default.RUN?this.setImgResult(!0):this.setImgResult(!1),this.node.opacity=255,this.isShuff=!1,this.isShowEffectSpawn=!1,this.checkItemFront(),this.node.setSiblingIndex(12==this.result?100:50))}},e.prototype.setImgResult=function(t){return s(this,void 0,void 0,function(){var e,n;return a(this,function(o){switch(o.label){case 0:return e=!(!t||d.Windown.RandomNumber(0,100)<10&&this.result<11),this.spriteItem.spriteFrame=this.getSpItem(e),this.spriteBkg.spriteFrame=this.getSpBkg(t),this.spriteBkg.sizeMode=cc.Sprite.SizeMode.RAW,this.spriteBkg.node.active=!0,this.spriteBkg.spriteFrame,cc.isValid(this.itemColum)&&this.itemColum.stateWhel!=u.default.END&&(this.bgScatter.active=!1),t?(this.node.setScale(cc.v2(2/3*2,2/3*2)),e?this.spriteItem.node.setScale(cc.v3(1,1)):this.spriteItem.node.setScale(cc.v3(.5,1/1.8))):(this.node.setScale(cc.v3(2/3,2/3,2/3)),this.spriteItem.node.setScale(cc.v3(1,1))),t?[3,4]:this.result<11?(this.spriteItem.node.active=!0,this.skeletonItem.node.active=!1,[3,3]):[3,1];case 1:return[4,this.getSpin()];case 2:null!=(n=o.sent())&&(this.skeletonItem.skeletonData=n,this.skeletonItem.node.active=!0,this.spriteItem.node.active=!1),o.label=3;case 3:return[3,5];case 4:this.spriteItem.node.active=!0,this.skeletonItem.node.active=!1,o.label=5;case 5:return[2]}})})},e.prototype.setSize=function(){this.node.setContentSize(this.size.width,this.size.height*this.sizeItem)},e.prototype.getSpItem=function(t){return d.Windown.QuyBa.asset.getSfItemSymbol(this.result,this.sizeItem,t)},e.prototype.runSpin=function(){var t=this;this.offItemFront();var e=cc.repeatForever(cc.moveBy(d.Windown.QuyBa.stateSpin.isMaxSpeed?.4:.8,cc.v2(0,-2500)));d.Windown.stopAllActionByTarget(this.node);var n=.2;d.Windown.QuyBa.stateSpin.isMaxSpeed||(n=.2-.02*this.itemColum.index),this.node.runAction(cc.sequence(cc.moveBy(n,cc.v2(0,50)).easing(cc.easeSineIn()),cc.callFunc(function(){t.canRun=!0,t.node.runAction(e)}))),12==this.result&&this.bgScatter.getComponent(cc.Animation).play("BgScatterHide")},e.prototype.getSpBkg=function(t){return 11==this.result||12==this.result?null:d.Windown.QuyBa.asset.getSfBkg(this.result,this.sizeItem,this.typeItem,t)},e.prototype.offItemFront=function(){this.setParentNode(this.itemColum.parentItem)},e.prototype.removeAddScater=function(t){null!=this.nodeScater&&(this.nodeScater.remove(t),this.nodeScater=null,this.skeletonItem.node.active=!0)},e.prototype.initPosStartGame=function(){var t,e=this.getIndexOf(),n=this.itemColum.getListSymbol()[e-1],o=null==n?void 0:n.node.getPosition().y;t=n?o-this.node.height*(2/3)/2-n.node.height*(2/3)/2:this.node.height*(2/3)/2,this.node.setPosition(0,t,0),this.checkItemFront()},e.prototype.getIndexOf=function(){return this.itemColum.getListSymbol().indexOf(this)},e.prototype.offItem=function(){this.node.parent!=this.itemColum.parentItem&&this.checkItemFront()},e.prototype.effectSpawnSymbol=function(t){return void 0===t&&(t=!0),s(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),this.isShowEffectSpawn||!this.checkIsInView()?[2]:(this.isShowEffectSpawn=!0,this.checkItemFront(),12!=this.result?[3,2]:(t&&d.Windown.QuyBa.audio.playEffectNoStop(d.Windown.QuyBa.audio.symScatter),d.Windown.QuyBa.stateSpin.checkIsNearFS()&&(this.effectActiveScater(),this.effectNearWinScater(!0)),[4,this.showSkeleton(!0)]));case 1:return n.sent(),d.Windown.QuyBa.stateSpin.checkIsNearFS()&&this.effectScaterShowFS(),[3,3];case 2:11==this.result?(this.showSkeleton(!0),t&&d.Windown.QuyBa.audio.playEffectNoStop(d.Windown.QuyBa.audio.symWild)):this.showSkeleton(!1),n.label=3;case 3:return[3,5];case 4:return e=n.sent(),f.Util.ThrowErrProsime(e),[3,5];case 5:return[2]}})})},e.prototype.getSpin=function(t){return s(this,void 0,Promise,function(){return a(this,function(e){switch(e.label){case 0:return null==t&&(t=this.result),[4,d.Windown.QuyBa.asset.getSpine(t,this.sizeItem)];case 1:return[2,e.sent()]}})})},e.prototype.showSkeleton=function(t,e){return void 0===e&&(e=!1),s(this,void 0,void 0,function(){var n,o=this;return a(this,function(i){switch(i.label){case 0:return n=null,[4,this.getSpin()];case 1:return n=i.sent(),this.skeletonItem.premultipliedAlpha=12!=this.result,n&&(this.skeletonItem.node.active=!0,this.skeletonItem.skeletonData=n,this.skeletonItem.setAnimation(0,e?"win":"spawn",!1),this.spriteItem.node.active=!1,t?this.skeletonItem.addAnimation(0,"idle",!0):this.skeletonItem.setCompleteListener(function(){o.skeletonItem.node.active=!1,o.spriteItem.node.active=!0,o.skeletonItem.setCompleteListener(null)})),12==this.result&&(this.bgScatter.active=!0,this.bgScatter.getComponent(cc.Animation).play("BgScatter")),[2]}})})},e.prototype.removeItem=function(){var t=this;this.effectRemoveItem();var e=this.getIndexOf();e>-1&&this.itemColum.getListSymbol().splice(e,1),this.node.runAction(cc.sequence(cc.fadeOut(.15),cc.callFunc(function(){d.Windown.QuyBa.asset.putSymbol(t.node)}))),d.Windown.QuyBa.audio.playEffect(d.Windown.QuyBa.audio.symShrink)},e.prototype.effectRemoveItem=function(){return s(this,void 0,void 0,function(){var t,e,n;return a(this,function(o){switch(o.label){case 0:return cc.isValid(this.efWin)?(n=(e=cc).instantiate,[4,d.Windown.QuyBa.asset.getEffRemoveItem(this.sizeItem)]):[3,2];case 1:t=n.apply(e,[o.sent()]),11==this.result&&(t.getChildByName("wh_vfx_a_screen").active=!1),t.parent=d.Windown.QuyBa.parentEffect,t.setPosition(d.Windown.convertNodeInOtherNode(this.node,d.Windown.QuyBa.parentEffect)),t.getComponent(h.EffectSymbolQuyBa).effRemoveItem(this.sizeItem),cc.isValid(this.efWin)&&this.efWin.getComponent(h.EffectSymbolQuyBa).effectRemoveTakeItem(),o.label=2;case 2:return this.efWin=null,cc.log("chay den eff null"),this.isHasTakeItem=!1,[2]}})})},e.prototype.stopSpin=function(t){var e=this;this.getIndexOf(),d.Windown.stopAllActionByTarget(this.node),this.node.runAction(cc.sequence(t,cc.callFunc(function(){e.itemColum.effStopSpin()})))},e.prototype.effectNearWinScater=function(t){12==this.result&&this.checkIsInView()&&this.nodeScater&&(this.activeItem(),this.nodeScater.node.active=!0,d.Windown.stopAllActionByTarget(this.nodeScater.node),this.nodeScater.effectNearWinNoSap(t),this.nodeScater.showFS())},e.prototype.checkItemFront=function(){!this.checkIsInView()||11!=this.result&&12!=this.result?this.setParentNode(this.itemColum.parentItem):this.setParentNode(this.itemColum.parentItemFront)},e.prototype.effectActiveScater=function(){12==this.result&&this.checkIsInView()&&(this.nodeScater=cc.instantiate(d.Windown.QuyBa.asset.nodeAddScater).getComponent(p.ItemAddScatterQuyBa),this.nodeScater.init(this),this.nodeScater.node.active=!0,this.skeletonItem.node.active=!1,this.nodeScater.node.setScale(2/3,2/3),this.bgScatter.active=!0,this.bgScatter.getComponent(cc.Animation).play("BgScatter"))},e.prototype.effectTransformToWild=function(){return s(this,void 0,void 0,function(){var t,e=this;return a(this,function(n){switch(n.label){case 0:return this.isShuff?(this.spriteBkg.node.active=!1,this.spriteItem.node.active=!1,t=null,[4,this.getSpin(11)]):[3,2];case 1:t=n.sent(),this.skeletonItem.node.active=!0,t&&(cc.isValid(this.efWin)&&(this.efWin.getComponentInChildren(sp.Skeleton).node.active=!1),this.skeletonItem.skeletonData=t,this.skeletonItem.setAnimation(0,"awaken",!1),this.skeletonItem.setCompleteListener(function(){e.skeletonItem.setCompleteListener(null),e.skeletonItem.setAnimation(0,"idle",!0)})),n.label=2;case 2:return[2]}})})},e.prototype.takeItem=function(){return s(this,void 0,void 0,function(){var t,e,n;return a(this,function(o){switch(o.label){case 0:return this.isHasTakeItem?[2]:(this.isHasTakeItem=!0,n=(e=cc).instantiate,[4,d.Windown.QuyBa.asset.getEffectTakeSymbol(this.sizeItem)]);case 1:return(t=n.apply(e,[o.sent()])).parent=d.Windown.QuyBa.parentEffect,t.setPosition(d.Windown.convertNodeInOtherNode(this.node,d.Windown.QuyBa.parentEffect)),t.getComponent(h.EffectSymbolQuyBa).effTakeItem(this.result,this.sizeItem,this.skeletonItem),this.spriteItem.node.active=!1,this.activeItem(0),this.efWin=t,t.setSiblingIndex(9999),11==this.result&&this.setWildBg(),[2]}})})},e.prototype.setWildBg=function(){this.bgWild.active=!0;var t=0;switch(this.sizeItem){case 2:t=295;break;case 3:t=383;break;case 4:t=470.866}cc.tween(this.bgWild.children[0]).set({position:cc.v3(this.bgWild.children[0].position.x,0),opacity:0}).to(.2,{position:cc.v3(this.bgWild.children[0].position.x,t),opacity:255},{easing:"sineOut"}).start(),cc.tween(this.bgWild.children[1]).set({position:cc.v3(this.bgWild.children[0].position.x,0),opacity:0}).to(.2,{position:cc.v3(this.bgWild.children[0].position.x,-t),opacity:255},{easing:"sineOut"}).start()},e.prototype.actionRandomNewResultNextKhung=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o;return a(this,function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),this.isShowEffectSpawn=!1,this.typeItem++,this.typeItem=this.typeItem%3,e=d.Windown.QuyBa.stateSpin.isMaxSpeed?2:1,d.Windown.QuyBa.audio.playEffect(d.Windown.QuyBa.audio.symWildSpawn),11!=t?[3,3]:(this.result=t,this.spriteItem.node.active=!1,this.isShowEffectSpawn=!1,this.effectTransformToWild(),1!=e?[3,2]:[4,d.Windown.QuyBa.getMakeDelay(.4).prosime]);case 1:i.sent(),i.label=2;case 2:n(null),i.label=3;case 3:return[3,5];case 4:return o=i.sent(),f.Util.ThrowErrProsime(o),[3,5];case 5:return[2]}})})})},e.prototype.update=function(){this.canRun&&this.checkEndCot()},e.prototype.checkEndCot=function(){if(0==this.getIndexOf()){var t=this.node.height*(2/3)/2;if(this.node.position.y<=t){var e=this.itemColum.getIdSymbolResult(),n=this.itemColum.getListSymbol(),o=n.pop();n.unshift(o),o.node.setSiblingIndex(0),o.setResult(e),o.moveWhenListChange(l.TYPE_MOVE.NORMAL)}}},e.prototype.moveWhenListChange=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=null);var o=this.getIndexOf(),i=this.itemColum.getListSymbol()[o+1],r=i.getPos(),s=r.y,a=null;t==l.TYPE_MOVE.NORMAL&&(a=s+this.node.height*(2/3)/2+i.node.height*(2/3)/2,r.y=a,this.setPos(r))},e.prototype.setPos=function(t){this.node.setPosition(t)},e.prototype.getPos=function(){return this.node.getPosition()},e.prototype.effectScaterIdle=function(){12==this.result&&this.checkIsInView()&&this.nodeScater&&(this.nodeScater.node.active=!0,this.skeletonItem.node.active=!1,this.nodeScater.idle())},r([m(cc.Sprite)],e.prototype,"spriteItem",void 0),r([m(cc.Sprite)],e.prototype,"spriteBkg",void 0),r([m(cc.Node)],e.prototype,"bgScatter",void 0),r([m(cc.Node)],e.prototype,"bgWild",void 0),r([m(sp.Skeleton)],e.prototype,"skeletonItem",void 0),r([g],e)}(cc.Component);n.SymbolQuyBa=v,cc._RF.pop()},{"../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./EffectSymbolQuyBa":"EffectSymbolQuyBa","./ItemAddScatterQuyBa":"ItemAddScatterQuyBa","./ItemSlotQuyBa":"ItemSlotQuyBa"}],SymbolRungRam:[function(t,e,n){"use strict";cc._RF.push(e,"7615aXa/fpK5bAGKWJbdFr0","SymbolRungRam");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TYPE_ITEM=void 0;var c,l=t("../../../Scritps/DefineTs/BUNDLE"),u=t("../../../Scritps/DefineTs/StateReelSlot"),p=t("../../../Scritps/Util"),h=t("../../../Scritps/Windown"),d=t("./Effect/EffectSymbolRungRam"),f=t("./Effect/ItemAddScaterRungRam"),y=t("./ItemSlotRungRam"),g=cc._decorator,m=g.ccclass,v=g.property;(function(t){t[t.NONE=0]="NONE",t[t.BAC=1]="BAC",t[t.VANG=2]="VANG"})(c=n.TYPE_ITEM||(n.TYPE_ITEM={}));var S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.spriteBkg=null,e.spriteKhung=null,e.skeletonItem=null,e.listColorBkg=[null,null],e.isVectical=!0,e.nodeScater=null,e.sizeBkg=new cc.Size(120,100),e.size=new cc.Size(124,100),e.itemColum=null,e.result=-1,e.objSFS=null,e.typeItem=c.NONE,e.sizeItem=0,e.canRun=!1,e.efWin=null,e.lastPos=null,e.isShuff=!1,e.isSmoke=!1,e.isShowEffectSpawn=!1,e}return i(e,t),e.prototype.setItemColum=function(t){this.itemColum=t,this.isVectical?(this.node.angle=0,this.size.height=100):(this.size.height=122,this.node.angle=90)},e.prototype.setResult=function(t){null!=t&&(this.result!=t.getInt("idItem")+1||this.typeItem!=t.getInt("typeItem")||this.sizeItem!=t.getInt("size")?(this.objSFS=t,this.result=t.getInt("idItem")+1,this.typeItem=t.getInt("typeItem"),this.sizeItem=t.getInt("size"),this.setSize(),this.skeletonItem.node.active=!1,this.itemColum.stateWhel==u.default.RUN?this.setImgResult(!0):this.setImgResult(!1),this.isShuff=!1,this.isShowEffectSpawn=!1,13==this.result?this.node.zIndex=100:12==this.result?this.node.zIndex=50:this.node.zIndex=0):this.itemColum.stateWhel==u.default.RUN?this.setImgResult(!0):this.setImgResult(!1))},e.prototype.setSize=function(){this.spriteBkg.node.height=this.sizeBkg.height*this.sizeItem,this.spriteKhung.node.height=this.sizeBkg.height*this.sizeItem,this.node.height=this.size.height*this.sizeItem},e.prototype.setImgResult=function(t){this.sprite.spriteFrame=this.getSpItem(t),this.spriteBkg.spriteFrame=this.getSpBkg(t),null==this.spriteBkg.spriteFrame&&cc.log("null me bkg blur: "+this.result+"=="+this.sizeItem),this.spriteKhung.spriteFrame=this.getSpKhung(t),this.spriteKhung.node.height=this.node.height,this.spriteBkg.node.color=this.getColorBkg(),t?(this.sprite.node.scale=1.4,this.spriteKhung.node.scale=1.05,this.sizeItem>1?this.spriteBkg.node.scaleY=1.1:this.spriteBkg.node.scaleY=1.2,this.spriteBkg.node.scaleX=1.07):(this.sprite.node.scale=1,this.spriteBkg.node.scale=1,this.spriteKhung.node.scale=1)},e.prototype.checkItemFront=function(){!this.checkIsInView()||12!=this.result&&13!=this.result?this.node.parent=this.itemColum.parentItem:this.node.parent=this.itemColum.parentItemFront},e.prototype.offItemFront=function(){this.node.parent=this.itemColum.parentItem},e.prototype.getSpKhung=function(t){return h.Windown.RungRam.asset.getSfKhungSymbol(this.typeItem,t)},e.prototype.getSpBkg=function(t){return h.Windown.RungRam.asset.getSfBkg(this.result,this.sizeItem,t)},e.prototype.getSpItem=function(t){var e=this.sizeItem;return this.result<11&&(e=1),12!=this.result&&(e=cc.misc.clampf(e,1,2)),h.Windown.RungRam.asset.getSfItemSymbol(this.result,e,t)},e.prototype.getAtlas=function(){return this.result<12?h.Windown.RungRam.asset.atlasSymbol:h.Windown.RungRam.asset.atlasSpecial},e.prototype.getSpin=function(){var t=this.convertNameSpineById()+this.convertNameSizeSpine();return h.Windown.loadRes(l.BUNDLE.RungRam,"Spine/"+t,sp.SkeletonData)},e.prototype.getIndexOf=function(){return this.itemColum.getListSymbol().indexOf(this)},e.prototype.getColorBkg=function(){return this.result<4?this.listColorBkg[this.result-1]:this.listColorBkg[3]},e.prototype.showSkeleton=function(t){return s(this,void 0,void 0,function(){var e=this;return a(this,function(){return[2,new Promise(function(n){return s(e,void 0,void 0,function(){var e,o;return a(this,function(i){switch(i.label){case 0:e=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.getSpin()];case 2:return e=i.sent(),[3,4];case 3:return o=i.sent(),cc.error(o),[3,4];case 4:return e&&(this.skeletonItem.node.active=!0,this.skeletonItem.skeletonData=e,this.skeletonItem.setAnimation(0,"spawn",!1),t&&this.skeletonItem.addAnimation(0,"idle",!0)),n(null),[2]}})})})]})})},e.prototype.hideSkeleton=function(){this.skeletonItem.node.active=!1},e.prototype.convertNameSpineById=function(){switch(this.result){case 12:return"s_wild";case 13:return"s_scatter"}},e.prototype.convertNameSize=function(){switch(this.sizeItem){case 1:return"_a_atlas_symbols";case 2:return"_b_atlas_symbols";case 3:return this.result<11||13==this.result?"_b_atlas_symbols":11==this.result?"_cd_atlas_symbols":"_c_atlas_symbols";case 4:return this.result<11||13==this.result?"_b_atlas_symbols":11==this.result?"_cd_atlas_symbols":"_d_atlas_symbols"}},e.prototype.convertNameSizeSpine=function(){switch(this.sizeItem){case 1:return"_a_atlas_symbols";case 2:return"_b_atlas_symbols";case 3:return 12==this.result?"_c_atlas_symbols":"_b_atlas_symbols";case 4:return 12==this.result?"_d_atlas_symbols":"_b_atlas_symbols"}},e.prototype.removeAddScater=function(t){null!=this.nodeScater&&(t?(this.nodeScater&&h.Windown.RungRam.asset.putAddScater(this.nodeScater.node),this.nodeScater=null):this.nodeScater.node.active=!1,this.skeletonItem.node.active=!0,this.offItem())},e.prototype.effectScaterShowFS=function(){13==this.result&&this.checkIsInView()&&(null==this.nodeScater&&(this.nodeScater=h.Windown.RungRam.asset.getAddScater().getComponent(f.default),this.nodeScater.node.parent=this.node,this.nodeScater.node.setPosition(0,0)),this.activeItem(),this.nodeScater.node.active=!0,this.skeletonItem.node.active=!1,this.nodeScater.show())},e.prototype.effectNearWinScater=function(t){13==this.result&&(null==this.nodeScater&&(this.nodeScater=h.Windown.RungRam.asset.getAddScater().getComponent(f.default),this.nodeScater.node.parent=this.node,this.nodeScater.node.setPosition(0,0)),this.activeItem(),this.nodeScater.node.active=!0,this.nodeScater.node.stopAllActions(),this.nodeScater.effectNearWinNoSap(t),this.skeletonItem.node.active=!1)},e.prototype.effectDropScater=function(){13==this.result&&this.nodeScater&&!h.Windown.RungRam.stateSpin.isMaxSpeed&&(this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.scaleTo(.1,1.18).easing(cc.easeSineOut()),cc.scaleTo(.1,1).easing(cc.easeSineIn()))))},e.prototype.showSmoke=function(){this.isSmoke=!1;var t=h.Windown.RungRam.asset.getSmoke();t.parent=h.Windown.RungRam.parentEffect,t.setPosition(h.Windown.convertPosInOtherNode(cc.v2(0,-this.node.height/2),this.node,h.Windown.RungRam.parentEffect));var e=t.getComponent(cc.Animation);e.stop(),e.once(cc.Animation.EventType.FINISHED,function(){h.Windown.RungRam.asset.putSmoke(t)}),e.play()},e.prototype.checkIsInView=function(){return this.node.y<0&&this.node.y>-this.size.height*(this.itemColum.sizeSymbol-2)},e.prototype.offItem=function(){this.node.parent!=this.itemColum.parentItem&&this.checkItemFront()},e.prototype.activeItem=function(t){void 0===t&&(t=.3),this.node.parent=this.itemColum.parentItemActive},e.prototype.runSpin=function(){this.offItemFront();var t=cc.repeatForever(cc.moveBy(h.Windown.RungRam.stateSpin.isMaxSpeed?.5:1,0,-2500));this.node.stopAllActions(),this.node.runAction(t),this.canRun=!0},e.prototype.stopSpin=function(t){var e=this;this.node.stopAllActions(),this.getIndexOf(),this.node.runAction(cc.sequence(t,cc.callFunc(function(){e.itemColum.effStopSpin()})))},e.prototype.initPosStartGame=function(){var t,e=this.getIndexOf(),n=this.itemColum.getListSymbol()[e-1],o=null==n?void 0:n.node.y;t=n?o-this.node.height/2-n.node.height/2:this.node.height/2,this.node.y=t},e.prototype.setPos=function(t){this.node.setPosition(t)},e.prototype.getPos=function(){return this.node.getPosition()},e.prototype.moveWhenListChange=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=null);var o=this.getIndexOf(),i=this.itemColum.getListSymbol()[o+1],r=i.getPos(),s=r.y,a=null;t==y.TYPE_MOVE.NORMAL&&(a=s+this.node.height/2+i.node.height/2,r.y=a,this.setPos(r))},e.prototype.takeItem=function(){var t=h.Windown.RungRam.asset.getWinSymbol(this.sizeItem);t.parent=h.Windown.RungRam.parentEffect,t.setPosition(h.Windown.convertNodeInOtherNode(this.node,h.Windown.RungRam.parentEffect)),this.removeEfWin(),t.getComponent(d.default).effTakeItem(this.result,this.sizeItem,this.node.height),this.activeItem(0),this.efWin=t,t.zIndex=cc.macro.MAX_ZINDEX},e.prototype.removeEfWin=function(){this.efWin&&h.Windown.RungRam.asset.putWinSymbol(this.efWin),this.efWin=null},e.prototype.removeNodeClone=function(){},e.prototype.removeItem=function(){var t=this,e=this.getIndexOf();if(this.itemColum.sizeSymbol>6){var n=this.itemColum.getListSymbol()[e-1];n&&(n.isSmoke=!0)}e>-1&&this.itemColum.getListSymbol().splice(e,1),this.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){h.Windown.RungRam.asset.putSymbol(t.node)}))),h.Windown.RungRam.audio.playEffect(h.Windown.RungRam.audio.symShrink),this.effectRemoveItem()},e.prototype.effectRemoveItem=function(){this.efWin&&this.efWin.getComponent(d.default).effRemoveItem(this.sizeItem,this.removeEfWin,this)},e.prototype.actionRandomNewResultNextKhung=function(t){var e=this;return new Promise(function(n){return s(e,void 0,void 0,function(){var e,o;return a(this,function(i){switch(i.label){case 0:return i.trys.push([0,8,,9]),this.isShowEffectSpawn=!1,this.typeItem++,this.typeItem=this.typeItem%3,this.spriteKhung.spriteFrame=this.getSpKhung(!1),h.Windown.RungRam.audio.playEffectNoStop(h.Windown.RungRam.audio.symRouletteStart),11!=t?[3,2]:(this.sprite.node.opacity=255,this.result=t+1,this.sprite.spriteFrame=this.getSpItem(!1),this.spriteBkg.spriteFrame=this.getSpBkg(!1),this.isShowEffectSpawn=!1,this.effectSpawnSymbol(),[4,h.Windown.RungRam.getMakeDelay(.4)]);case 1:return i.sent(),n(null),[3,7];case 2:return h.Windown.RungRam.stateSpin.isMaxSpeed?[3,4]:((e=h.Windown.RungRam.asset.getShuffToNormal()).parent=h.Windown.RungRam.parentEffect,e.setPosition(h.Windown.convertNodeInOtherNode(this.node,h.Windown.RungRam.parentEffect)),[4,e.getComponent(d.default).effShuffItem(this.node.height,this.result,t+1,this.sizeItem)]);case 3:i.sent(),i.label=4;case 4:return this.spriteBkg.node.active=!0,this.result=t+1,this.sprite.spriteFrame=this.getSpItem(!1),this.spriteBkg.spriteFrame=this.getSpBkg(!1),h.Windown.RungRam.stateSpin.isMaxSpeed?[4,h.Windown.RungRam.getMakeDelay(.4)]:[3,6];case 5:i.sent(),i.label=6;case 6:n(null),i.label=7;case 7:return[3,9];case 8:return o=i.sent(),p.Util.ThrowErrProsime(o),[3,9];case 9:return[2]}})})})},e.prototype.removeMutilWhenSpin=function(){this.removeEfWin()},e.prototype.effectSpawnSymbol=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return e.trys.push([0,6,,7]),this.isShowEffectSpawn||!this.checkIsInView()?[2]:(this.checkItemFront(),13!=this.result?[3,2]:(h.Windown.RungRam.audio.playEffectNoStop(h.Windown.RungRam.audio.symScatter),this.isShowEffectSpawn=!0,[4,this.showSkeleton(!0)]));case 1:return e.sent(),h.Windown.RungRam.stateSpin.checkIsNearFS()&&this.effectScaterShowFS(),[3,5];case 2:return 12!=this.result?[3,4]:(this.isShowEffectSpawn=!0,this.showSkeleton(!0),[4,h.Windown.RungRam.audio.playEffectNoStop(h.Windown.RungRam.audio.symWild)]);case 3:return e.sent(),[3,5];case 4:11==this.result&&(this.isShowEffectSpawn=!0),e.label=5;case 5:return[3,7];case 6:return t=e.sent(),p.Util.ThrowErrProsime(t),[3,7];case 7:return[2]}})})},e.prototype.unuse=function(){this.skeletonItem.node.active=!1,this.itemColum=null,this.isShowEffectSpawn=!1,this.isShuff=!1,this.result=-1,this.node.opacity=255,this.sprite.node.opacity=255,this.node.x=0,this.node.scale=1,this.node.stopAllActions(),this.removeAddScater(!0),this.isSmoke=!1},e.prototype.checkEndCot=function(){if(0==this.getIndexOf()){var t=this.node.height/2;if(this.node.y<=t){var e=this.itemColum.getIdSymbolResult(),n=this.itemColum.getListSymbol(),o=n.pop();n.unshift(o),o.node.zIndex=0,o.setResult(e),o.moveWhenListChange(y.TYPE_MOVE.NORMAL)}}},e.prototype.update=function(){this.canRun&&this.checkEndCot()},r([v(cc.Sprite)],e.prototype,"sprite",void 0),r([v(cc.Sprite)],e.prototype,"spriteBkg",void 0),r([v(cc.Sprite)],e.prototype,"spriteKhung",void 0),r([v(sp.Skeleton)],e.prototype,"skeletonItem",void 0),r([v([cc.Color])],e.prototype,"listColorBkg",void 0),r([m],e)}(cc.Component);n.default=S,cc._RF.pop()},{"../../../Scritps/DefineTs/BUNDLE":"BUNDLE","../../../Scritps/DefineTs/StateReelSlot":"StateReelSlot","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./Effect/EffectSymbolRungRam":"EffectSymbolRungRam","./Effect/ItemAddScaterRungRam":"ItemAddScaterRungRam","./ItemSlotRungRam":"ItemSlotRungRam"}],TabGiftCode:[function(t,e,n){"use strict";cc._RF.push(e,"2185eyco+lK05jXYZWEnJCU","TabGiftCode");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/PlayerPP"),a=t("../../DefineTs/REQUEST_CODE"),c=t("../../DefineTs/TextDefine"),l=t("../../InfoERR"),u=t("../../Network/ConectManager"),p=t("../../Parent/BaseEditbox"),h=t("../../Windown"),d=cc._decorator,f=d.ccclass,y=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.edbGift=null,e.edbCaptcha=null,e}return i(e,t),e.prototype.onLoad=function(){this.initNodeMove(h.Windown.SuKien.node),this.resignEdb(this.edbGift),this.resignEdb(this.edbCaptcha),this.resignNext(this.edbGift,"edbCaptcha")},e.prototype.onEnable=function(){this.onClickRefeshCaptCha(),h.Windown.actionEffectOpenPopup(this.node)},e.prototype.reset=function(){this.edbCaptcha.string="",this.edbGift.string=""},e.prototype.onClickXacNhan=function(){try{if(""==this.edbCaptcha.string)throw new l.InfoErr(c.TextDefine.NullCaptcha);if(""==this.edbGift.string)throw new l.InfoErr(c.TextDefine.NullCaptcha);var t=u.ConectManager.getIns().getSFSObj();t.putUtfString("giftCode",this.edbGift.string.trim()),t.putUtfString("captcha",this.edbCaptcha.string.trim()),u.ConectManager.getIns().sendRequestToCallback(a.REQUEST_CODE.GiftCode,t,this.responseServer.bind(this))}catch(e){h.Windown.Dialog.showLog(e.message)}},e.prototype.responseServer=function(t){t.containsKey(s.PlayerPP.ERR_MESSAGE)?h.Windown.Dialog.showLog(t.getUtfString(s.PlayerPP.ERR_MESSAGE)):t.containsKey(s.PlayerPP.MESSAGE)&&h.Windown.Dialog.showLog(t.getUtfString(s.PlayerPP.MESSAGE))},e.prototype.onClickRefeshCaptCha=function(){h.Windown.CapchaController.requestCapcha()},e.prototype.onClickClose=function(){var t=this;h.Windown.actionEffectClosePopup(this.node,function(){t.node.destroy()})},r([y(cc.EditBox)],e.prototype,"edbGift",void 0),r([y(cc.EditBox)],e.prototype,"edbCaptcha",void 0),r([f],e)}(p.default);n.default=g,cc._RF.pop()},{"../../DefineTs/PlayerPP":"PlayerPP","../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../DefineTs/TextDefine":"TextDefine","../../InfoERR":"InfoERR","../../Network/ConectManager":"ConectManager","../../Parent/BaseEditbox":"BaseEditbox","../../Windown":"Windown"}],TabSuKien:[function(t,e,n){"use strict";cc._RF.push(e,"deb18QiGilPs7nkdfdzFhVO","TabSuKien");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/REQUEST_CODE"),a=t("../../Network/ConectManager"),c=t("../../Windown"),l=t("./ItemSuKien"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scr=null,e.item=null,e.nodeInfo=null,e.nodeListEvent=null,e.lbInfo=null,e.lbTieuDe=null,e}return i(e,t),e.prototype.onEnable=function(){a.ConectManager.getIns().sendRequestToCallback(s.REQUEST_CODE.GetEvent,null,this.responseServer.bind(this)),this.nodeInfo.active=!1},e.prototype.responseServer=function(t){for(var e=this.scr.content,n=e.children,o=t.getSFSArray("listEvents"),i=0,r=o.size();i<r;i++){var s=o.getSFSObject(i),a=n[i];null==a&&((a=cc.instantiate(this.item.node)).active=!0,e.addChild(a));var c=a.getComponent(l.default);s.putInt("index",i+1),c.init(s)}for(this.checkAndShowId(),i=o.size();i<n.length;i++)n[i].active=!1},e.prototype.checkAndShowId=function(){if(cc.log("id: "+c.Windown.SuKien.idSuKienShow),-1!=c.Windown.SuKien.idSuKienShow){var t=this.getIdSuKien(c.Windown.SuKien.idSuKienShow);t&&t.onClick(),c.Windown.SuKien.idSuKienShow=-1}},e.prototype.getIdSuKien=function(t){var e=this.scr.content.children;for(var n in e){var o=e[n].getComponent(l.default);if(o&&o.objInfo.getInt("id")==t)return o}return null},e.prototype.onClickBackInfo=function(){this.nodeListEvent.active=!0,this.nodeInfo.active=!1},e.prototype.showInfo=function(t){this.nodeInfo.active=!0,this.lbInfo.string=t.getUtfString("moTa"),this.lbTieuDe.string=t.getUtfString("tenSuKien")},e.prototype.reset=function(){this.lbInfo.string="",this.lbTieuDe.string=""},r([h(cc.ScrollView)],e.prototype,"scr",void 0),r([h(l.default)],e.prototype,"item",void 0),r([h(cc.Node)],e.prototype,"nodeInfo",void 0),r([h(cc.Node)],e.prototype,"nodeListEvent",void 0),r([h(cc.Label)],e.prototype,"lbInfo",void 0),r([h(cc.Label)],e.prototype,"lbTieuDe",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../Network/ConectManager":"ConectManager","../../Windown":"Windown","./ItemSuKien":"ItemSuKien"}],TaiXiu:[function(t,e,n){"use strict";cc._RF.push(e,"857dbIExzlDg4uSgzwEaILu","TaiXiu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/EVENT_MANAGER"),l=t("../../../Scritps/DefineTs/REQUEST_CODE"),u=t("../../../Scritps/DefineTs/TextDefine"),p=t("../../../Scritps/Game/GAME_TYPE"),h=t("../../../Scritps/Network/ConectManager"),d=t("../../../Scritps/Obs/LbMoneyChange"),f=t("../../../Scritps/Other/DragMiniGame"),y=t("../../../Scritps/Other/OffMiniGame"),g=t("../../../Scritps/Windown"),m=t("./BanPhimTaiXiu"),v=t("./BatDrag"),S=t("./ChatTaiXiu"),b=t("./ChiTietPhien"),w=t("./HistoryTaiXiu"),_=t("./InfoBetTX"),C=t("./LichSuCuoc"),T=t("./LichSuHu"),I=t("./SoiCau"),W=t("./SoundTaiXiu"),M=t("./TopTaiXiu"),E=cc._decorator,R=E.ccclass,A=E.property,B=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbJackpot=null,e.lbJackpotWinEff=null,e.lbMd5=null,e.lbMd5Raw=null,e.lbPhien=null,e.lbThongBao=null,e.nodeTimeGame=null,e.lbTimeEnd=null,e.listInfo=[],e.banPhim=null,e.history=null,e.lichSuCuoc=null,e.top=null,e.soiCau=null,e.parentResult=null,e.batDrag=null,e.lbAgWin=null,e.spineTungXucXac=null,e.spineNoHu=null,e.animXucXac=null,e.sprDice=[],e.chatView=null,e.sound=null,e.tglChat=null,e.gameType=0,e.jackpot=0,e.sfs=null,e.roomSFS=null,e.objFinish=null,e.chiTietPhien=null,e.histoyHu=null,e.funCountDown=null,e.funDelayUpBat=null,e.funDelayUpBat2=null,e.funAutoBet=null,e.isDelayLeave=!1,e}return i(e,t),e.prototype.start=function(){g.Windown.TaiXiu=this,this.gameType=p.default.TaiXiu,this.sfs=h.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(c.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),cc.systemEvent.on(c.EVENT_MANAGER.CHANG_ROTATION,this.onChangRotate,this),cc.systemEvent.on(cc.game.EVENT_SHOW,this.eventShow,this),this.getComponent(f.default).nomalSize(),this.sendJoinRoom(),this.listInfo.forEach(function(t){t.onHuyBet(),t.setMoneyMeBet(0),t.setMoneyTotalUserBet(0)}),this.lbAgWin.node.active=!1,this.spineTungXucXac.node.active=!1,this.animXucXac.node.active=!1,g.Windown.BtnMiniGame.onActiveTx(),this.onChangRotate(g.Windown.UIManager.isVertical),cc.sys.isNative&&jsb.Device.setKeepScreenOn(!0)},e.prototype.onDestroy=function(){g.Windown.TaiXiu=null},e.prototype.eventShow=function(){this.sendGetInfoRoom()},e.prototype.onChangRotate=function(t){t?(this.node.rotation=0,this.node.scale=.9,this.node.setPosition(cc.v2(0,200)),this.chatView.node.setPosition(cc.v2(-325.102,-758.948)),cc.sys.isMobile||null!=g.Windown.MainView&&0!=g.Windown.MainView.node.active||(this.node.rotation=0,this.node.setPosition(cc.v2(-200,0)),this.node.scale=1.5,this.chatView.node.setPosition(cc.v2(382.72,-111.952)))):(this.node.rotation=-90,this.node.scale=.8,this.node.setPosition(cc.v2(0,-200)),this.chatView.node.setPosition(cc.v2(382.72,-111.952)))},e.prototype.onClickTest=function(){var t=this.batDrag.node.getPosition();this.batDrag.node.setPosition(80,80);var e=this.batDrag.node.getPosition().subSelf(t);e.normalizeSelf().mulSelf(300),cc.log(e.toString()),this.batDrag.node.runAction(cc.moveTo(.3,e))},e.prototype.sendJoinRoom=function(){g.Windown.UIManager.showLoading();var t=this.sfs.roomManager.getRoomListFromGroup("TX").find(function(t){return cc.log("value"+t.getVariable("cj").value),t.containsVariable("cj")&&t.getVariable("cj").value});t?(this.roomSFS=t,t.isJoined?this.sendGetInfoRoom():(cc.log("nhay vao send join rom: "+t),this.sfs.send(new SFS2X.JoinRoomRequest(t,null,-1)))):this.scheduleOnce(this.sendJoinRoom,3)},e.prototype.sendGetInfoRoom=function(){this.sendRequest(l.REQUEST_CODE.TXinfoRoom,h.ConectManager.getIns().getSFSObj())},e.prototype.userExitRoom=function(t){if("TX"==t.room.groupId&&(cc.log("user exit room tx"),t.user.isItMe))return this.clear(),void this.node.destroy()},e.prototype.onJoinRoom=function(t){var e=t.room;cc.log("onJoinRoom :",t),"TX"==e.groupId&&(cc.log("r\xf4m lak "+e.id),g.Windown.UIManager.hideLoading())},e.prototype.sendRequest=function(t,e){h.ConectManager.getIns().sendRequest(t,e,this.roomSFS)},e.prototype.showLog=function(t,e){void 0===e&&(e=2),this.lbThongBao.string=t;var n=this.lbThongBao.node.parent.parent;n.stopAllActions(),n.opacity=0,n.y=150,n.runAction(cc.sequence(cc.spawn(cc.moveTo(.3,0,120).easing(cc.easeQuarticActionOut()),cc.fadeIn(.3).easing(cc.easeQuarticActionOut())),cc.delayTime(e),cc.spawn(cc.moveTo(.3,0,150).easing(cc.easeQuarticActionIn()),cc.fadeOut(.3).easing(cc.easeQuarticActionIn()))))},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),g.Windown.UIManager.hideLoading(),g.Windown.Dialog.showLog(u.TextDefine.ERR_JOIN_ROOM)},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(e){case l.REQUEST_CODE.TXstartGame:this.startGameTaiXiu(n);break;case l.REQUEST_CODE.TXendGame:this.endGameTaiXiu(n);break;case l.REQUEST_CODE.TXbet:this.responseBet(n);break;case l.REQUEST_CODE.TXinfoRoundBetOld:this.chiTietPhien&&this.chiTietPhien.responseServer(n);break;case l.REQUEST_CODE.TXHisHu:this.histoyHu&&this.histoyHu.responseServer(n);break;case l.REQUEST_CODE.TXhistoryGame:break;case l.REQUEST_CODE.TXhistoryBet:this.lichSuCuoc&&this.lichSuCuoc.response(n);break;case l.REQUEST_CODE.TXtopGame:this.top&&this.top.responseServer(n);break;case l.REQUEST_CODE.TXinfoCurrentRoom:this.handleUpdateAllBet(n);break;case l.REQUEST_CODE.TXinfoRoom:this.initGame(n);break;case l.REQUEST_CODE.TXChat:this.chatView.addItemMess(n);break;case l.REQUEST_CODE.InfoJackpot:n.containsKey("huTX")&&(this.jackpot=n.get("huTX"));break;default:cc.log("Khong vao Case Nao ca:"+e+"\n",g.Windown.SFSObjToJson(n))}},e.prototype.miniSize=function(){},e.prototype.normalSize=function(){this.node&&this.parentResult&&cc.log("normal size this.node.opacity:"+this.node.opacity)},e.prototype.initGame=function(t){var e=this;g.Windown.UIManager.hideLoading(),this.animXucXac.node.children.forEach(function(t){t.getComponent(cc.Sprite).spriteFrame=null}),this.listInfo[1].setCountTotaluser(t.get("sizeT")),this.listInfo[1].setMoneyTotalUserBet(t.get("agBetT")),this.listInfo[1].setMoneyMeBet(t.get("UagBetT")),this.listInfo[0].setCountTotaluser(t.get("sizeX")),this.listInfo[0].setMoneyTotalUserBet(t.get("agBetX")),this.listInfo[0].setMoneyMeBet(t.get("UagBetX"));var n=t.get("isGame"),o=t.get("time"),i=t.get("rounds");if(this.setHistory(t.get("history"),n),t.containsKey("dataChat")&&this.chatView.setInfo(t.getSFSArray("dataChat")),t.containsKey("huTX")&&(this.jackpot=t.get("huTX")),this.batDrag.reset(),this.animXucXac.node.active=!1,n)this.botAutoBet(o);else{var r=JSON.parse(t.get("view"));this.batDrag.handleFinish(),this.animXucXac.node.active=!0,this.animXucXac.node.children.forEach(function(t,n){t.active=!0,t.getComponent(cc.Sprite).spriteFrame=e.sprDice[r[n]]})}this.setupByStatusGame(n,o),this.lbPhien.string="#"+i,this.lbAgWin.node.active=!1,this.unschedule(this.funDelayUpBat),this.unschedule(this.funDelayUpBat2),this.spineTungXucXac.node.active=!1;var s=this.lbThongBao.node.parent.parent;s.stopAllActions(),s.opacity=0},e.prototype.setHistory=function(t,e){var n=JSON.parse(LZString.decompressFromBase64(t));this.history.init(n,e)},e.prototype.botAutoBet=function(t){var e=this;g.Windown.BotController&&g.Windown.RandomNumber(0,100)<60&&(this.unschedule(this.funAutoBet),this.scheduleOnce(this.funAutoBet=function(){var n=[1e3,1e4,5e4,1e5,5e5,1e6],o=n.filter(function(t){return t<g.Windown.User.userAg});if(o.length>0){var i=g.Windown.RandomNumber(0,2),r=h.ConectManager.getIns().getSFSObj();r.putInt("type",i),r.putLong("bet",o[g.Windown.RandomNumber(0,o.length)]),g.Windown.TaiXiu.sendRequest(l.REQUEST_CODE.TXbet,r),g.Windown.RandomNumber(0,100)<20&&e.scheduleOnce(function(){if((o=n.filter(function(t){return t<g.Windown.User.userAg})).length>0){var t=h.ConectManager.getIns().getSFSObj();t.putInt("type",i),t.putLong("bet",o[g.Windown.RandomNumber(0,o.length)]),g.Windown.TaiXiu.sendRequest(l.REQUEST_CODE.TXbet,t)}},g.Windown.RandomNumber(1,cc.misc.clampf(5,0,t-2)))}else g.Windown.restartGame()},g.Windown.RandomNumber(1,t-3)))},e.prototype.startGameTaiXiu=function(t){var e,n=this,o=t.get("round"),i=(t.get("MD5"),t.get("time"));this.listInfo.forEach(function(t){t.onHuyBet(),t.setMoneyMeBet(0),t.setMoneyTotalUserBet(0)}),this.lbPhien.string="#"+o,this.setupByStatusGame(!0,i),this.nodeTimeGame.active=!1,this.spineTungXucXac.node.active=!0,this.animXucXac.node.active=!0,this.spineTungXucXac.setAnimation(0,"effect",!1),this.animXucXac.play("dice"),this.scheduleOnce(this.funDelayUpBat=function(){n.scheduleOnce(n.funDelayUpBat2=function(){n.animXucXac.node.active=!1},.5),n.batDrag.startGame(),n.scheduleOnce(function(){n.nodeTimeGame.active=!0},1)},2),this.objFinish=null,this.lbAgWin.node.active=!1,null===(e=this.sound)||void 0===e||e.playTungXucXac(),this.botAutoBet(i),this.isDelayLeave&&this.onClickClose()},e.prototype.endGameTaiXiu=function(t){var e=this;cc.log(g.Windown.SFSObjToJson(t));var n=JSON.parse(t.get("view"));cc.log("view:",n);var o=t.get("agWin"),i=(t.get("MD5"),t.get("time")),r=t.get("agUser");this.unschedule(this.funDelayUpBat),this.unschedule(this.funDelayUpBat2),this.animXucXac.node.active=!0,this.animXucXac.node.children.forEach(function(t,o){t.active=!0,t.getComponent(cc.Sprite).spriteFrame=e.sprDice[n[o]]}),this.setupByStatusGame(!1,i),this.objFinish=t,g.Windown.MoneyUser.pushDelayMoney(this.gameType,r,o),this.batDrag.handleFinish(),this.batDrag.isNan&&this.showLog("Xin m\u1eddi n\u1eb7n!",.5)},e.prototype.handleFinish=function(){var t=this,e=this.objFinish;if(null!=e){var n=JSON.parse(e.get("view")),o=e.get("agWin"),i=e.get("MD5");this.setLbMd5(i);var r=0;n.forEach(function(t){r+=t}),3!==r&&18!=r||(this.spineNoHu.node.active=!0,this.spineNoHu.setAnimation(0,"animation",!1),this.lbJackpotWinEff.setMoney(this.jackpot),this.spineNoHu.setCompleteListener(function(){t.spineNoHu.node.active=!1,t.spineNoHu.setCompleteListener(null)})),r>10?this.listInfo[1].onWin():this.listInfo[0].onWin(),this.history.addResult(r,e.get("view")),this.soiCau&&this.soiCau.emitAllCau(),o>0&&(this.lbAgWin.string="+"+g.Windown.formatNumber(o,!1),this.lbAgWin.node.active=!0,this.lbAgWin.node.opacity=255,this.lbAgWin.node.stopAllActions(),this.lbAgWin.node.y=-18,this.lbAgWin.node.runAction(cc.sequence(cc.moveTo(2,0,50).easing(cc.easeQuadraticActionOut()),cc.delayTime(2),cc.fadeOut(1)))),g.Windown.MoneyUser.removeDelay(this.gameType),g.Windown.TaiXiu.sound.playKetQua(),this.objFinish=null}},e.prototype.responseBet=function(t){g.Windown.Dialog.checkAndShowLog(t);var e=t.getInt("type"),n=t.getLong("bet"),o=t.getLong("ttBet"),i=t.get("ag");g.Windown.MoneyUser.subMoney(n,i),this.getInfoBetByType(e).setMoneyMeBet(o),this.banPhim.reset(),this.listInfo.forEach(function(t){return t.setMoneyTempBet(0)}),this.showLog("\u0110\u1eb7t c\u01b0\u1ee3c th\xe0nh c\xf4ng")},e.prototype.setLbMd5=function(){cc.Tween.stopAllByTarget(this.lbMd5)},e.prototype.setLbMd5Raw=function(t){var e=this;cc.Tween.stopAllByTarget(this.lbMd5Raw),cc.tween(this.lbMd5Raw).to(.3,{time:{value:1,progress:function(n,o,i,r){var s=n+(o-n)*r,a=cc.misc.lerp(0,t.length,s);return e.lbMd5Raw.string=t.substring(0,a),s}}}).start()},e.prototype.onClickCoppyMd5=function(){g.Windown.coppyToClip(this.lbMd5.string)},e.prototype.onClickCoppyMd5Raw=function(){g.Windown.coppyToClip(this.lbMd5Raw.string)},e.prototype.setupByStatusGame=function(t,e){var n=this;if(this.unschedule(this.funCountDown),e=parseInt(e),(e-=2)<0&&(e=0),t){this.nodeTimeGame.active=!0,this.lbTimeEnd.node.parent.active=!1;var o=this.nodeTimeGame.getComponentsInChildren(cc.Label);this.schedule(this.funCountDown=function(){e<10?(o[0].string="0",o[1].string=e):(o[0].string=e.toString()[0],o[1].string=e.toString()[1]),e--},1,e,.01)}else this.lbTimeEnd.string=e,this.nodeTimeGame.active=!1,this.lbTimeEnd.node.parent.active=!0,this.schedule(this.funCountDown=function(){n.lbTimeEnd.string=(e<10?"0":"")+e,--e<5&&n.batDrag.checkOpenBat()},1,e,.01)},e.prototype.handleUpdateAllBet=function(t){this.listInfo[1].setCountTotaluser(t.get("sizeT")),this.listInfo[1].setMoneyTotalUserBet(t.get("agBetT")),this.listInfo[0].setCountTotaluser(t.get("sizeX")),this.listInfo[0].setMoneyTotalUserBet(t.get("agBetX")),t.containsKey("huTX")&&(this.lbJackpot.setMoney(t.get("huTX")),this.jackpot=t.get("huTX"))},e.prototype.clear=function(){cc.systemEvent.targetOff(this),this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),this.objFinish&&(this.objFinish.get("agWin"),g.Windown.MoneyUser.removeDelay(this.gameType)),g.Windown.MoneyUser.endGameMOney(this.gameType)},e.prototype.getInfoBetByType=function(t){return 0==t?this.listInfo[0]:this.listInfo[1]},e.prototype.onDisconnect=function(){cc.log("disconnect"),this.clear(),this.node.destroy()},e.prototype.onToggleBat=function(t){var e=t.isChecked;this.batDrag.setIsNan(e)},e.prototype.onClickClose=function(){if(g.Windown.BtnMiniGame.onDeActiveTx(),g.Windown.UIManager.parentMiniGame.getComponentInChildren(y.default)._touchStart(null),this.checkIsBet())this.node.setPosition(1e4,1e4),this.node.opacity=0,this.isDelayLeave=!0;else{this.node.active=!1,this.node.opacity=255;try{h.ConectManager.getIns().sendLeaveRoom(this.roomSFS)}catch(t){this.clear(),this.node.destroy()}}},e.prototype.checkIsBet=function(){for(var t=0,e=this.listInfo;t<e.length;t++)if(e[t].totalBet>0)return!0;return!1},e.prototype.onClickChiTietPhien=function(){return s(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:return g.Windown.UIManager.showLoading(),[4,g.Windown.loadRes(this.gameType.toString(),"Prefabs/ChiTietPhien",cc.Prefab)];case 1:return t=n.sent(),(e=cc.instantiate(t)).parent=g.Windown.UIManager.parentPopup,this.chiTietPhien=e.getComponent(b.default),[2]}})})},e.prototype.onClickLichSuHu=function(){return s(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:return g.Windown.UIManager.showLoading(),[4,g.Windown.loadRes(this.gameType.toString(),"Prefabs/LichSuHu",cc.Prefab)];case 1:return t=n.sent(),(e=cc.instantiate(t)).parent=g.Windown.UIManager.parentPopup,this.histoyHu=e.getComponent(T.default),[2]}})})},e.prototype.onClickHuongDan=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return g.Windown.UIManager.showLoading(),[4,g.Windown.loadRes(this.gameType.toString(),"Prefabs/HuongDan",cc.Prefab)];case 1:return t=e.sent(),cc.instantiate(t).parent=g.Windown.UIManager.parentPopup,g.Windown.UIManager.hideLoading(),[2]}})})},e.prototype.onClickSoiCau=function(){return s(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:return g.Windown.UIManager.showLoading(),[4,g.Windown.loadRes(this.gameType.toString(),"Prefabs/SoiCau",cc.Prefab)];case 1:return t=n.sent(),(e=cc.instantiate(t)).parent=g.Windown.UIManager.parentPopup,this.soiCau=e.getComponent(I.default),g.Windown.UIManager.hideLoading(),[2]}})})},e.prototype.onClickLichSuCuoc=function(){return s(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:return g.Windown.UIManager.showLoading(),[4,g.Windown.loadRes(this.gameType.toString(),"Prefabs/LichSuCuoc",cc.Prefab)];case 1:return t=n.sent(),(e=cc.instantiate(t)).parent=g.Windown.UIManager.parentPopup,this.lichSuCuoc=e.getComponent(C.default),g.Windown.UIManager.hideLoading(),[2]}})})},e.prototype.onClickTop=function(){return s(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:return g.Windown.UIManager.showLoading(),[4,g.Windown.loadRes(this.gameType.toString(),"Prefabs/TopTaiXiu",cc.Prefab)];case 1:return t=n.sent(),(e=cc.instantiate(t)).parent=g.Windown.UIManager.parentPopup,this.top=e.getComponent(M.default),g.Windown.UIManager.hideLoading(),[2]}})})},e.prototype.onClickCloseChat=function(){this.tglChat.isChecked=!this.tglChat.isChecked},r([A(d.default)],e.prototype,"lbJackpot",void 0),r([A(d.default)],e.prototype,"lbJackpotWinEff",void 0),r([A(cc.Label)],e.prototype,"lbMd5",void 0),r([A(cc.Label)],e.prototype,"lbMd5Raw",void 0),r([A(cc.Label)],e.prototype,"lbPhien",void 0),r([A(cc.Label)],e.prototype,"lbThongBao",void 0),r([A(cc.Node)],e.prototype,"nodeTimeGame",void 0),r([A(cc.Label)],e.prototype,"lbTimeEnd",void 0),r([A(_.default)],e.prototype,"listInfo",void 0),r([A(m.default)],e.prototype,"banPhim",void 0),r([A(w.default)],e.prototype,"history",void 0),r([A(cc.Node)],e.prototype,"parentResult",void 0),r([A(v.default)],e.prototype,"batDrag",void 0),r([A(cc.Label)],e.prototype,"lbAgWin",void 0),r([A(sp.Skeleton)],e.prototype,"spineTungXucXac",void 0),r([A(sp.Skeleton)],e.prototype,"spineNoHu",void 0),r([A(cc.Animation)],e.prototype,"animXucXac",void 0),r([A([cc.SpriteFrame])],e.prototype,"sprDice",void 0),r([A(S.default)],e.prototype,"chatView",void 0),r([A(W.default)],e.prototype,"sound",void 0),r([A(cc.Toggle)],e.prototype,"tglChat",void 0),r([R],e)}(cc.Component);n.default=B,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Other/DragMiniGame":"DragMiniGame","../../../Scritps/Other/OffMiniGame":"OffMiniGame","../../../Scritps/Windown":"Windown","./BanPhimTaiXiu":"BanPhimTaiXiu","./BatDrag":"BatDrag","./ChatTaiXiu":"ChatTaiXiu","./ChiTietPhien":"ChiTietPhien","./HistoryTaiXiu":"HistoryTaiXiu","./InfoBetTX":"InfoBetTX","./LichSuCuoc":"LichSuCuoc","./LichSuHu":"LichSuHu","./SoiCau":"SoiCau","./SoundTaiXiu":"SoundTaiXiu","./TopTaiXiu":"TopTaiXiu"}],TakeJp:[function(t,e,n){"use strict";cc._RF.push(e,"260dctt6kNNOLKdFludBypg","TakeJp");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../../Scritps/Game/GAME_TYPE"),c=t("../../../../Scritps/Network/ConectManager"),l=t("../../../../Scritps/Obs/LbMoneyChange"),u=t("../../../../Scritps/Windown"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coinItem=null,e.parentCoint=null,e}return i(e,t),e.prototype.show=function(t,e){var n=this,o=u.Windown.FishBongDem.getSound();o.playEffect(o.noHu),o.playEffect(o.tienRoi,1,!0);for(var i=0;i<60;i++){var r=i%3+u.Windown.RandomNumber(0,5)/10,p=cc.instantiate(this.coinItem);p.active=!0,p.zIndex=1,p.parent=this.parentCoint,this.startXu(p,r)}this.scheduleOnce(function(){o.playEffect(o.multiplyAppear)},5),this.getComponentInChildren(l.default).resetLb(),this.getComponentInChildren(l.default).setMoney(t),this.scheduleOnce(function(){cc.find("Layer 2",n.node).runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeBackIn()),cc.callFunc(function(){o.stopEffect(o.tienRoi),n.node.destroy();var i=c.ConectManager.getIns().getSFSObj();i.putInt("gt",a.default.BongDem),i.putInt("mt",t),i.putUtfString("nn",e),i.putUtfString("dt","100"),c.ConectManager.getIns().sendRequest(s.REQUEST_CODE.AddBigWin,i)})))},7)},e.prototype.startXu=function(t,e){var n=this;t.opacity=0,t.stopAllActions();var o=cc.v2(u.Windown.RandomNumber(-600,600),400),i=u.Windown.RandomNumber(300,600)/1e3;t.scale=i;var r=cc.v2(o.x,-400),s=u.Windown.RandomNumber(1.5,2.5);e+=u.Windown.RandomNumber(0,10)/10,t.angle=u.Windown.RandomNumber(0,360),t.setPosition(o);var a=cc.spawn(cc.rotateBy(s,u.Windown.RandomNumber(360,1080)),cc.moveTo(s,r));t.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(){t.opacity=255,t.getComponent(cc.Animation).play("Coin")}),a,cc.callFunc(function(){n.startXu(t,0)})))},r([d(cc.Node)],e.prototype,"coinItem",void 0),r([d(cc.Node)],e.prototype,"parentCoint",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../../Scritps/Network/ConectManager":"ConectManager","../../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../../Scritps/Windown":"Windown"}],TangCap:[function(t,e,n){"use strict";cc._RF.push(e,"d495dXaJjFHUbAz51aD+9I+","TangCap");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/EVENT_MANAGER"),a=t("../../Windown"),c=t("./ItemMoKhoa"),l=t("./ItemTangCap"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spine=null,e.lbLvl=null,e.content=null,e.itemTemplate=null,e.itemUnLock=null,e.btnClose=null,e.funActiveClose=null,e}return i(e,t),e.prototype.onLoad=function(){a.Windown.TangCap=this},e.prototype.onDestroy=function(){a.Windown.TangCap=null},e.prototype.show=function(t){var e=this;this.btnClose.active=!1;var n=t.getInt("Lvl");a.Windown.User.currentLevel=n,cc.systemEvent.emit(s.EVENT_MANAGER.LEVEL_UP);var o=t.getSFSArray("Items");this.lbLvl.string=n.toString(),this.lbLvl.node.scale=0,cc.Tween.stopAllByTarget(this.lbLvl.node),cc.tween(this.lbLvl.node).to(.3,{scale:1},{easing:"backOut"}).start(),this.spine.setAnimation(0,"animation",!1),this.initItem(o),this.scheduleOnce(this.funActiveClose=function(){e.btnClose.active=!0},3),a.Windown.UIManager.playSoundWithUrl("LEVELUP")},e.prototype.initItem=function(t){var e=this.content,n=e.children;this.itemUnLock.node.parent=null,this.itemUnLock.node.active=!0;for(var o=0,i=t.size();o<i;o++){var r=n[o],s=t.getSFSObject(o);null==r&&((r=cc.instantiate(this.itemTemplate)).parent=e),r.active=!0,s.putInt("index",o+1),r.getComponent(l.default).initItem(s),null!==a.Windown.FishBongDem&&a.Windown.FishBongDem.fishBDView&&a.Windown.FishBongDem.fishBDView.reviceItemWhenLvlUp(s.getInt("Type"),s.getInt("Value"))}for(o=t.size();o<n.length;o++)n[o].active=!1;var c=a.Windown.getUnLockGunLevelUp();c&&(this.itemUnLock.node.parent=e,this.itemUnLock.initItem(c,e.childrenCount))},e.prototype.onClickClose=function(){var t=this;this.unschedule(this.funActiveClose),a.Windown.actionEffectClose(this.node,function(){t.node.parent=null})},r([h(sp.Skeleton)],e.prototype,"spine",void 0),r([h(cc.Label)],e.prototype,"lbLvl",void 0),r([h(cc.Node)],e.prototype,"content",void 0),r([h(cc.Node)],e.prototype,"itemTemplate",void 0),r([h(c.default)],e.prototype,"itemUnLock",void 0),r([h(cc.Node)],e.prototype,"btnClose",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../Windown":"Windown","./ItemMoKhoa":"ItemMoKhoa","./ItemTangCap":"ItemTangCap"}],"Test - 001":[function(t,e,n){"use strict";cc._RF.push(e,"d0113hG7DxAjo6KhhPN6262","Test - 001");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},r([c(cc.Label)],e.prototype,"label",void 0),r([c],e.prototype,"text",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],"Test - 002":[function(t,e,n){"use strict";cc._RF.push(e,"b4456j/ypBDoaSkUgOSnf0p","Test - 002");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){cc.log("start class test")},r([c(cc.Label)],e.prototype,"label",void 0),r([c],e.prototype,"text",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],TestAnim:[function(t,e,n){"use strict";cc._RF.push(e,"c1636vuF5dHRYdIJYgalAYP","TestAnim");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anim=null,e.animName="hello",e}return i(e,t),e.prototype.start=function(){},e.prototype.onClickTest=function(){this.anim.play(this.animName)},r([c(cc.Animation)],e.prototype,"anim",void 0),r([c],e.prototype,"animName",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],TestTS:[function(t,e,n){"use strict";cc._RF.push(e,"03cdcAxQW1CIKmvBSMJ5lM5","TestTS");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeMain=null,e.nodeVongQuay=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.onClickTest=function(){},r([c(cc.Node)],e.prototype,"nodeMain",void 0),r([c(cc.Node)],e.prototype,"nodeVongQuay",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],Test:[function(t,e,n){"use strict";cc._RF.push(e,"75bf1R0nCdKKZJPT1668HgH","Test");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.executed=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){return s(this,function(){return e(null),[2]})})})},e}(t("./Effect/BaseEffect").default);n.default=a,cc._RF.pop()},{"./Effect/BaseEffect":"BaseEffect"}],TextDefine:[function(t,e,n){"use strict";cc._RF.push(e,"56e78scXuZFwYdiMpP1sznW","TextDefine"),Object.defineProperty(n,"__esModule",{value:!0}),n.TextDefine=void 0,String.prototype.formatString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=this,o=t.length,i=0;i<o;i++){var r=t[i];n=n.replace("%s",r)}return n};var o=function(){function t(){}return t.NeedLogin="B\u1ea1n C\u1ea7n \u0110\u0103ng Nh\u1eadp \u0110\u1ec3\nX\u1eed D\u1ee5ng Ch\u1ee9c N\u0103ng N\xe0y",t.FailCapcha="T\u1ea3i Captcha L\u1ed7i! Vui L\xf2ng Th\u1eed L\u1ea1i",t.NeedOTP="B\u1ea1n C\u1ea7n \u0110\u0103ng K\xfd OTP",t.Error="L\u1ed7i! Vui L\xf2ng Th\u1eed L\u1ea1i",t.ErrorDeviceId="C\xf3 s\u1ef1 c\u1ed1! Vui l\xf2ng \u0111\u0103ng nh\u1eadp l\u1ea1i!",t.TienNhapLonHon0="S\u1ed1 Ti\u1ec1n Ph\u1ea3i L\u1edbn H\u01a1n 0",t.KhongDuocTrong="Kh\xf4ng \u0110\u01b0\u1ee3c \u0110\u1ec3 Tr\u1ed1ng %n",t.UpdatePhoneSuccess="C\u1eadp Nh\u1eadt S\u1ed1 \u0110i\u1ec7n Tho\u1ea1i Th\xe0nh C\xf4ng",t.ClearPhoneSuccess="X\xf3a S\u1ed1 \u0110i\u1ec7n Tho\u1ea1i Th\xe0nh C\xf4ng",t.NeedGoldDoi="S\u1ed1 D\u01b0 C\u1ee7a B\u1ea1n Kh\xf4ng \u0110\u1ee7",t.TranferSuccess="Giao D\u1ecbch Th\xe0nh C\xf4ng",t.MatKhauKhongTrung="M\u1eadt Kh\u1ea9u Kh\xf4ng Gi\u1ed1ng Nhau",t.RequestNewPassSucces="\u0110\u1ed5i M\u1eadt Kh\u1ea9u Th\xe0nh C\xf4ng. Vui L\xf2ng \u0110\u0103ng Nh\u1eadp L\u1ea1i!",t.NeedNetwork="Vui L\xf2ng Ki\u1ec3m Tra L\u1ea1i Internet",t.ErrTranfer="S\u1ed1 Ti\u1ec1n Nh\u1eadp Kh\xf4ng H\u1ee3p L\u1ec7",t.NickNameNhoHon6="T\xean hi\u1ec3n th\u1ecb c\xf3 \u0111\u1ed9 d\xe0i 6-16 k\xfd t\u1ef1",t.RequireRef="M\xe3 gi\u1edbi thi\u1ec7u l\xe0 b\u1eaft bu\u1ed9c",t.MatKhauNhoHon6="M\u1eadt Kh\u1ea9u c\xf3 \u0111\u1ed9 d\xe0i 6-16 k\xfd t\u1ef1",t.DangNhapNhoHon6="T\xean \u0111\u0103ng nh\u1eadp c\xf3 \u0111\u1ed9 d\xe0i 6-16 k\xfd t\u1ef1",t.HetNangLuongFish="B\u1ea1n \u0110\xe3 H\u1ebft N\u0103ng L\u01b0\u1ee3ng !",t.MinJoinRoom="B\u1ea1n c\u1ea7n t\u1ed1i thi\u1ec3u %n \u0111\u1ec3 v\xe0o ph\xf2ng",t.UpVip="Ch\xfac m\u1eebng b\u1ea1n \u0111\xe3 t\u0103ng c\u1ea5p Vip %n",t.OpenURL="X\xe1c nh\u1eadn m\u1edf li\xean k\u1ebft giao d\u1ecbch?",t.XoaMaGioiThieu="B\u1ea1n c\xf3 mu\u1ed1n x\xf3a m\xe3 gi\u1edbi thi\u1ec7u?",t.KhongDuocNhanQuaX2="B\u1ea1n ch\u01b0a tham gia s\u1ef1 ki\u1ec7n n\xe0y!",t.DaNhanQuaX2="B\u1ea1n \u0111\xe3 nh\u1eadn qu\xe0 n\xe0y!",t.NullCaptcha="Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng Captcha",t.NullTrangThai="Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng tr\u1ea1ng th\xe1i",t.Quest_ChuaXong="L\xe0m",t.Quest_Xong="Nh\u1eadn",t.Quest_DaNhan="\u0110\xe3 nh\u1eadn",t.Quest_ChuaKichHoat="N\u1ea1p Ngay",t.Quest_ChuaNhan="Ch\u01b0a nh\u1eadn",t.NullPhone="Th\xeam S\u0110T t\u1eb7ng 10K",t.NotMoneyFish="B\u1ea1n kh\xf4ng \u0111\u1ee7 v\xe0ng \u0111\u1ec3 s\u1eed d\u1ee5ng s\xfang n\xe0y",t.AutoChangeGun="T\u1ef1 \u0111\u1ed9ng ch\u1ecdn m\u1ee9c \u0111\u1ea1n ph\xf9 h\u1ee3p",t.PrivatePhone="S\u0110T \u0111\xe3 b\u1ecb \u1ea9n",t.NullMenhGia="Vui l\xf2ng ch\u1ecdn m\u1ec7nh gi\xe1!",t.NullBank="Vui l\xf2ng ch\u1ecdn ng\xe2n h\xe0ng n\u1ea1p!",t.NullSeri="Vui l\xf2ng nh\u1eadp seri th\u1ebb!",t.BoiSo10000="Ti\u1ec1n n\u1ea1p l\xe0 b\u1ed9i s\u1ed1 c\u1ee7a 10.000",t.BoiSo100="Ti\u1ec1n n\u1ea1p l\xe0 b\u1ed9i s\u1ed1 c\u1ee7a 100 Yen",t.LonHon10000="S\u1ed1 ti\u1ec1n n\u1ea1p l\u1edbn h\u01a1n 10.000",t.LonHon100="S\u1ed1 ti\u1ec1n n\u1ea1p l\u1edbn h\u01a1n 100 Yen",t.NullMaThe="Vui l\xf2ng nh\u1eadp m\xe3 th\u1ebb!",t.NullTtkMomo="Vui l\xf2ng nh\u1eadp t\xean t\xe0i kho\u1ea3n MOMO nh\u1eadn!",t.NullSdtMomo="Vui l\xf2ng nh\u1eadp s\xf4 \u0111i\u1ec7n tho\u1ea1i MOMO nh\u1eadn!",t.NullRefCode="Vui l\xf2ng nh\u1eadp m\xe3 gi\u1edbi thi\u1ec7u!",t.NullTtkBANK="Vui l\xf2ng nh\u1eadp t\xean t\xe0i kho\u1ea3n BANK nh\u1eadn!",t.NullSdtBANK="Vui l\xf2ng nh\u1eadp s\xf4 t\xe0i kho\u1ea3n BANK nh\u1eadn!",t.NullBANK="Vui l\xf2ng ch\u1ecdn BANK nh\u1eadn!",t.NullUserID="Vui l\xf2ng nh\u1eadp User ID!",t.RateBonusMomo="N\u1ea1p tr\xean %s th\xec \u0111\u01b0\u1ee3c th\u01b0\u1edfng th\xeam %s%",t.NEED_OFF_AUTO_FISH="Vui l\xf2ng t\u1eaft t\xednh n\u0103ng C\u1eaeM M\xc1Y",t.END_TIME_AUTO="H\u1ebft th\u1eddi gian c\u1eafm m\xe1y !",t.NEED_LEVEL="B\u1ea1n c\u1ea7n \u0111\u1ea1t c\u1ea5p \u0111\u1ed9 cao h\u01a1n \u0111\u1ec3 s\u1eed d\u1ee5ng ch\u1ee9c n\u0103ng n\xe0y",t.NEED_LEVEL_C_OUT="B\u1ea1n c\u1ea7n \u0111\u1ea1t c\u1ea5p \u0111\u1ed9 %s h\u01a1n \u0111\u1ec3 s\u1eed d\u1ee5ng ch\u1ee9c n\u0103ng n\xe0y",t.ERR_CROP_IMG="Dung l\u01b0\u1ee3ng \u1ea3nh kh\xf4ng \u0111\u01b0\u1ee3c v\u01b0\u1ee3t qu\xe1 5MB",t.ERR_IMG_TYPE="Vui l\xf2ng ch\u1ecdn t\u1ec7p l\xe0 \u1ea3nh",t.NullDeviceId="Kh\xf4ng th\u1ec3 x\xe1c \u0111\u1ecbnh! Vui l\xf2ng m\u1edf l\u1ea1i app",t.CapNhatTk="C\u1eadp nh\u1eadt t\xe0i kho\u1ea3n \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 t\u1ed1t h\u01a1n !",t.ClickDeNhan="Click \u0111\u1ec3 nh\u1eadn!",t.DefaultMessageAdmin="T\xf4i c\u1ea7n h\u1ed7 tr\u1ee3 !",t.ERR_CODE_VERY="Sai m\xe3 code",t.NOTI_REMOVE_BUNDLE="X\xf3a game %s",t.ERR_JOIN_ROOM="Kh\xf4ng th\u1ec3 v\xe0o ph\xf2ng ! Vui l\xf2ng th\u1eed l\u1ea1i",t.CONFIRM_CARD="<color=#FFFFFF>(X\xe1c nh\u1eadn th\xf4ng tin)<br/><color=#FFFFFF>Nh\xe0 m\u1ea1ng: </c><color=#00FF52><b>%s</b></c><br/><color=#FFFFFF>M\u1ec7nh gi\xe1: </color><color=#FF0000><b>%s</b></c><br/><color=#FFFFFF>S\u1ed1 seri: </c><color=#8500FF><b>%s</b></c><br/><color=#FFFFFF>S\u1ed1 th\u1ebb: </c><color=#8500FF><b>%s</b></c>",t.ERR_VONGQUAY="B\u1ea1n kh\xf4ng c\xf3 l\u01b0\u1ee3t quay n\xe0o!",t.ERR_CHANGE_BET_FS="Kh\xf4ng \u0111\u01b0\u1ee3c thay \u0111\u1ed5i m\u1ee9c c\u01b0\u1ee3c khi \u0111ang \u0111\u01b0\u1ee3c FREE SPIN",t.ERR_QUICK_JOIN_GAME="B\u1ea1n c\u1ea7n tho\xe1t game hi\u1ec7n t\u1ea1i \u0111\u1ec3 th\u1ef1c hi\u1ec7n thao t\xe1c n\xe0y!",t.ERR_TIET_KIEM="Ch\u01b0a \u0111\u1ee7 \u0111i\u1ec3m t\xedch l\u0169y !",t.NullValueTrans="Vui l\xf2ng nh\u1eadp s\u1ed1 ti\u1ec1n chuy\u1ec3n!",t.TransferSuccess="Chuy\u1ec3n qu\u1ef9 th\xe0nh c\xf4ng!",t}();n.TextDefine=o,cc._RF.pop()},{}],ThangLon:[function(t,e,n){"use strict";cc._RF.push(e,"c3f78lBriRGGJtMP7eoeqrr","ThangLon");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Game/GAME_TYPE"),c=t("../../../Scritps/Network/ConectManager"),l=t("../../../Scritps/Obs/LbMoneyChange"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listSf=[],e.spImgFish=null,e.lb=null,e.finish=null,e}return i(e,t),e.prototype.init=function(t,e,n){var o=this;return new Promise(function(i){o.getComponent(cc.Animation).play("ThangLon"),o.spImgFish.spriteFrame=o.listSf[t-70],o.lb.time=2,o.lb.setMoney(n);var r=e.gunFishBd.pointInScreen.clone();e.playerSiting>2?r.y-=300:r.y+=70,o.node.setPosition(r),o.scheduleOnce(function(){if(e.isMe&&(28==t||27==t)){var i=c.ConectManager.getIns().getSFSObj();i.putInt("gt",a.default.BongDem),i.putInt("mt",n),i.putUtfString("nn",e.namePlayer),i.putUtfString("dt",t.toString()),c.ConectManager.getIns().sendRequest(s.REQUEST_CODE.AddBigWin,i)}o.node.destroy()},4),o.finish=i})},e.prototype.aniFinish=function(){this.finish&&this.finish()},r([h(cc.SpriteFrame)],e.prototype,"listSf",void 0),r([h(cc.Sprite)],e.prototype,"spImgFish",void 0),r([h(l.default)],e.prototype,"lb",void 0),r([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange"}],ThongTin:[function(t,e,n){"use strict";cc._RF.push(e,"e4fb27f9ghJV4rPeei3eG5e","ThongTin");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/REQUEST_CODE"),a=t("../../DefineTs/TextDefine"),c=t("../../Network/ConectManager"),l=t("../../Windown"),u={BANK_VIET:1,BANK_HAN:2},p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbUserName=null,e.lbVippoint=null,e.lbId=null,e.lbPhone=null,e.lbMoney=null,e.lbStatus=null,e.lbLevel=null,e.lbCurrentNameBank=null,e.lbCurrentBank=null,e.lbProgressLevel=null,e.edbBankCode=null,e.edbAccountName=null,e.edbBankNumber=null,e.spAvatar=null,e.spProgressLevel=null,e.nodeDoiAva=null,e.nodeTrangThai=null,e.btnCapNhat=null,e.btnChangePass=null,e.btnUpdateRef=null,e.scrItemBank=null,e.edbRefCode=null,e.listBankInfo=[],e.listBankHanInfo=[],e.bankCode="",e.currentTabBank=u.BANK_VIET,e}return i(e,t),e.prototype.onLoad=function(){l.Windown.ThongTin=this,this.listBankInfo=JSON.parse('{"listBank":[{"code":"VCB","name":"Vcb Ngoa\u0323i Th\u01b0\u01a1ng VN","id":2},{"code":"BIDV","name":"Bidv \u0110\u1ea7u t\u01b0 v\xe0 Ph\xe1t tri\u1ec3n VN","id":3},{"code":"VBA","name":"Agri N\xf4ng nghi\u1ec7p v\xe0 PT N\xf4ng th\xf4n VN","id":4},{"code":"OCB","name":"Ocb Ph\u01b0\u01a1ng \u0110\xf4ng","id":5},{"code":"MB","name":"MB Qu\xe2n \u0111\u1ed9i","id":6},{"code":"TCB","name":"Tcb K\u1ef9 th\u01b0\u01a1ng VN","id":7},{"code":"ACB","name":"Acb \xc1 Ch\xe2u","id":8},{"code":"VPB","name":"Vpb Vi\u1ec7t Nam Th\u1ecbnh V\u01b0\u1ee3ng","id":9},{"code":"TPB","name":"Tpb Ti\xean Phong","id":10},{"code":"STB","name":"Sacombank S\xe0i G\xf2n Th\u01b0\u01a1ng T\xedn","id":11},{"code":"HDB","name":"HDBank Ph\xe1t tri\u1ec3n Tp HCM","id":12},{"code":"VIETINBANK","name":"Vietin C\xf4ng th\u01b0\u01a1ng VN","id":13},{"code":"SCB","name":"SCB S\xe0i G\xf2n","id":14},{"code":"VIB","name":"Vib Qu\u1ed1c t\u1ebf VN","id":15},{"code":"SHB","name":"Shb S\xe0i G\xf2n - H\xe0 N\u1ed9i","id":16},{"code":"EIB","name":"Eximbank Xu\u1ea5t Nh\u1eadp kh\u1ea9u VN","id":17},{"code":"MSB","name":"Msb Ha\u0300ng Ha\u0309i","id":18},{"code":"CAKE","name":"NH s\u1ed1 CAKE by VPBank","id":19},{"code":"Ubank","name":"NH s\u1ed1 Ubank by VPBank","id":20},{"code":"VTLMONEY","name":"Viettel Money","id":21},{"code":"VNPTMONEY","name":"VNPT Money","id":22},{"code":"SGICB","name":"SaigonBank S\xe0i G\xf2n C\xf4ng Th\u01b0\u01a1ng","id":23},{"code":"BAB","name":"BacABank B\u1eafc \xc1","id":24},{"code":"PVCB","name":"PVcomBank \u0110a\u0323i Chu\u0301ng Vi\xea\u0323t Nam","id":25},{"code":"Oceanbank","name":"Oceanbank \u0110\u1ea1i D\u01b0\u01a1ng","id":26},{"code":"NCB","name":"NCB Qu\u1ed1c D\xe2n","id":27},{"code":"SHBVN","name":"ShinhanBank Shinhan VN","id":28},{"code":"ABBANK","name":"ABBANK An B\xecnh","id":29},{"code":"VAB","name":"VietABank Vi\u1ec7t \xc1","id":30},{"code":"NAB","name":"NamABank Nam \xc1","id":31},{"code":"PGB","name":"PGBank X\u0103ng d\u1ea7u Petrolimex","id":32},{"code":"VIETBANK","name":"VietBank VN Th\u01b0\u01a1ng T\xedn","id":33},{"code":"BVB","name":"BaoVietBank B\u1ea3o Vi\u1ec7t","id":34},{"code":"SEABANK","name":"SeABank \u0110\xf4ng Nam A\u0301","id":35},{"code":"COOPBANK","name":"COOPBANK H\u1ee3p t\xe1c x\xe3 VN","id":36},{"code":"LPB","name":"LPB B\u01b0u \u0110i\u1ec7n Li\xean Vi\u1ec7t","id":37},{"code":"KLB","name":"KLB Ki\xean Long","id":38},{"code":"KBank","name":"KBank \u0110\u1ea1i ch\xfang TNHH Kasikornbank","id":39},{"code":"VRB","name":"VRB Li\xean doanh Vi\u1ec7t - Nga","id":40},{"code":"SCVN","name":"SCVN Standard Chartered Bank VN","id":41},{"code":"NHBHN","name":"NHB Nonghyup - Chi nh\xe1nh H\xe0 N\u1ed9i","id":42},{"code":"IVB","name":"IndovinaBank Indovina","id":43},{"code":"IBKHCM","name":"IBKHCM C\xf4ng nghi\xea\u0323p Ha\u0300n Qu\xf4\u0301c - HCM","id":44},{"code":"KBHCM","name":"KBHCM Kookmin - HCM","id":45},{"code":"KBHN","name":"KBHN Kookmin - Chi nh\xe1nh H\xe0 N\u1ed9i","id":46},{"code":"WVN","name":"WVN Woori Vi\u1ec7t Nam","id":47},{"code":"HSBC","name":"HSBC (Vi\u1ec7t Nam)","id":48},{"code":"CBB","name":"CBB X\xe2y d\u1ef1ng VN","id":49},{"code":"IBKHN","name":"IBKHN C\xf4ng nghi\xea\u0323p Ha\u0300n Qu\xf4\u0301c - Ha\u0300 N\xf4\u0323i","id":50},{"code":"CIMB","name":"CIMB Vi\u1ec7t Nam","id":51},{"code":"DBS","name":"DBS Bank Ltd - HCM","id":52},{"code":"DAB","name":"DongABank \u0110\xf4ng \xc1","id":53},{"code":"GPB","name":"GPBank D\u1ea7u Kh\xed To\xe0n C\u1ea7u","id":54},{"code":"PBVN","name":"PBVN Public Vi\u1ec7t Nam","id":55},{"code":"UOB","name":"UOB United Overseas - HCM","id":56},{"code":"HLBVN","name":"HLBVN Hong Leong VN","id":57},{"code":"CITIBANK","name":"CItiBank VN","id":58},{"code":"VCCB","name":"VCCB Ba\u0309n Vi\xea\u0323t","id":59}]}').listBank,this.listBankHanInfo=JSON.parse('{"listBank":[{"code":"SB","name":"Shinhan Bank","id":1},{"code":"HANA","name":"Hana Bank","id":3},{"code":"BNK","name":"BNK Financial Group","id":4},{"code":"KDB","name":"Korea Development Bank","id":5},{"code":"KB","name":"Kookmin Bank","id":6},{"code":"NH","name":"Nonghyup Bank","id":7},{"code":"IBK","name":"Industrial Bank of Korea","id":8},{"code":"WOORI","name":"Woori Bank","id":9},{"code":"KAKAO","name":"Kakao Bank","id":10},{"code":"SC KOREA","name":"Standard Chartered Korea","id":11},{"code":"KEXIM","name":"Korea Eximbank","id":12}]}').listBank,cc.systemEvent.on(s.REQUEST_CODE.UpdateBank,this.responseUpdateBank,this),cc.systemEvent.on(s.REQUEST_CODE.UpdateBankH,this.responseUpdateBankHan,this),cc.systemEvent.on(s.REQUEST_CODE.InputMGT,this.responseInputMGT,this)},e.prototype.onEnable=function(){this.currentTabBank==u.BANK_VIET?this.setInfoBankViet():this.setInfoBankHan(),this.setListBankSuggest(),this.btnChangePass.interactable=""!=l.Windown.User.phoneNumber&&null!=l.Windown.User.phoneNumber,this.btnUpdateRef.node.active=""==l.Windown.User.madaily,this.edbRefCode.enabled=!0,this.edbRefCode.string=l.Windown.User.madaily||"",this.edbRefCode.enabled=""==l.Windown.User.madaily,cc.log("Ma dai ly:"+l.Windown.User.madaily)},e.prototype.responseUpdateBank=function(t){l.Windown.Dialog.showLog(t.getUtfString("message")),""!=t.getUtfString("bank")&&(l.Windown.User.bankCode=t.getUtfString("bank"),l.Windown.User.bankAcName=t.getUtfString("ttk"),l.Windown.User.bankNumber=t.getUtfString("stk")),cc.find("Container/NodeBankInfo/btnUpdate",this.node).getComponent(cc.Button).interactable=""==l.Windown.User.bankCode,cc.find("Container/NodeBankInfo/btnChooseNganHang",this.node).getComponent(cc.Button).interactable=""==l.Windown.User.bankCode,this.edbBankCode.enabled=this.edbBankNumber.enabled=this.edbAccountName.enabled=""==l.Windown.User.bankCode},e.prototype.responseInputMGT=function(t){cc.log("responseGetAgency:",l.Windown.SFSObjToJson(t)),t.containsKey("errorMessage")&&""!=t.getUtfString("errorMessage")?l.Windown.Dialog.showDialog(t.getUtfString("errorMessage")):(l.Windown.Dialog.showDialog(t.getUtfString("message")),this.edbRefCode.enabled=!1,this.btnUpdateRef.node.active=!1)},e.prototype.responseUpdateBankHan=function(t){l.Windown.Dialog.showLog(t.getUtfString("message")),""!=t.getUtfString("bankH")&&(l.Windown.User.bankHCode=t.getUtfString("bankH"),l.Windown.User.bankHAcName=t.getUtfString("ttkH"),l.Windown.User.bankHNumber=t.getUtfString("stkH")),cc.find("Container/NodeBankInfo/btnUpdate",this.node).getComponent(cc.Button).interactable=""==l.Windown.User.bankHCode,cc.find("Container/NodeBankInfo/btnChooseNganHang",this.node).getComponent(cc.Button).interactable=""==l.Windown.User.bankHCode,this.edbBankCode.enabled=this.edbBankNumber.enabled=this.edbAccountName.enabled=""==l.Windown.User.bankHCode},e.prototype.setListBankSuggest=function(){for(var t=this.currentTabBank==u.BANK_VIET?this.listBankInfo:this.listBankHanInfo,e=0,n=t.length;e<n;e++){var o=t[e],i=this.scrItemBank.content.children[e];cc.isValid(i)||((i=cc.instantiate(this.scrItemBank.content.children[0])).parent=this.scrItemBank.content),i.getComponentInChildren(cc.Label).string=o.code,i.nameBank=o.name}for(e=t.length;e<this.scrItemBank.content.children.length;e++)this.scrItemBank.content.children[e].active=!1},e.prototype.setInfoBankViet=function(){this.edbBankCode.string=l.Windown.User.bankCode,""==l.Windown.User.bankCode?(this.edbBankCode.placeholder="TCB,BIDV,MB Bank...",this.edbBankCode.enabled=this.edbBankNumber.enabled=this.edbAccountName.enabled=!0):this.edbBankCode.enabled=this.edbBankNumber.enabled=this.edbAccountName.enabled=!1,this.edbAccountName.string=""!=l.Windown.User.bankAcName?l.Windown.User.bankAcName:"",this.edbBankNumber.string=""!=l.Windown.User.bankNumber?l.Windown.User.bankNumber:"",cc.find("Container/NodeBankInfo/btnUpdate",this.node).getComponent(cc.Button).interactable=""==l.Windown.User.bankCode,cc.find("Container/NodeBankInfo/btnChooseNganHang",this.node).getComponent(cc.Button).interactable=""==l.Windown.User.bankCode},e.prototype.setInfoBankHan=function(){this.edbBankCode.string=l.Windown.User.bankHCode,""==l.Windown.User.bankHCode?(this.edbBankCode.placeholder="Shinhan,BNK,Hana...",this.edbBankCode.enabled=this.edbBankNumber.enabled=this.edbAccountName.enabled=!0):this.edbBankCode.enabled=this.edbBankNumber.enabled=this.edbAccountName.enabled=!1,this.edbAccountName.string=""!=l.Windown.User.bankHAcName?l.Windown.User.bankHAcName:"",this.edbBankNumber.string=""!=l.Windown.User.bankHNumber?l.Windown.User.bankHNumber:"",cc.find("Container/NodeBankInfo/btnUpdate",this.node).getComponent(cc.Button).interactable=""==l.Windown.User.bankHCode,cc.find("Container/NodeBankInfo/btnChooseNganHang",this.node).getComponent(cc.Button).interactable=""==l.Windown.User.bankHCode},e.prototype.onClickTabBank=function(t,e){parseInt(e)==u.BANK_VIET?(this.currentTabBank=u.BANK_VIET,this.setInfoBankViet()):(this.currentTabBank=u.BANK_HAN,this.setInfoBankHan()),this.setListBankSuggest()},e.prototype.onClickChooseBank=function(){var t=this.scrItemBank.node;t.stopAllActions(),t.active?t.runAction(cc.sequence(cc.scaleTo(.3,1,0).easing(cc.easeBackIn()),cc.callFunc(function(){t.active=!1}))):(t.active=!0,t.runAction(cc.scaleTo(.3,1,1).easing(cc.easeBackOut())))},e.prototype.onClickItemBank=function(t){cc.log(t);var e=t.target,n=e.getComponentInChildren(cc.Label).string,o=e.nameBank;this.onClickChooseBank(),this.edbBankCode.string=o,this.bankCode=n},e.prototype.show=function(t){l.Windown.actionEffectOpen(this.node,null),this.lbMoney.string=l.Windown.formatNumber(t.getLong("ag")),this.lbUserName.string=t.getUtfString("nickname"),this.lbId.string="ID: "+t.getInt("id"),t.getUtfString("phonenumber")?(this.lbPhone.string=t.getUtfString("phonenumber"),this.lbPhone.enableUnderline=!1,this.lbPhone.node.color=cc.Color.WHITE):(this.lbPhone.string=a.TextDefine.NullPhone,this.lbPhone.enableUnderline=!0,this.lbPhone.node.color=cc.Color.YELLOW),this.lbLevel.string=t.getInt("currentlevel")+"",this.lbVippoint.string="VipPoint: "+t.getInt("currentvippoint"),this.lbProgressLevel.string=l.Windown.formatMoney(t.getInt("currentlevelpoint"),0)+"/"+l.Windown.formatMoney(t.getInt("totallevelpoint"),0);var e=t.getInt("currentlevelpoint")/t.getInt("totallevelpoint")*190;this.spProgressLevel.node.width=e,t.getInt("id")==l.Windown.User.userId?(this.nodeDoiAva.active=!0,l.Windown.User.isPlayNow?this.btnCapNhat.active=!0:this.btnCapNhat.active=!1):(this.btnCapNhat.active=!1,this.nodeDoiAva.active=!1,this.nodeTrangThai.active=!1,this.lbPhone.string=a.TextDefine.PrivatePhone,this.lbPhone.enableUnderline=!1,this.lbPhone.node.color=cc.Color.WHITE),this.updateTrangThai(t.getUtfString("status")),this.updateAva(t)},e.prototype.updateAva=function(t){l.Windown.updateAvatar(t,this.spAvatar)},e.prototype.updateTrangThai=function(t){this.lbStatus.string=t},e.prototype.onClickClose=function(){var t=this;l.Windown.actionEffectClose(this.node,function(){t.node.parent=null})},e.prototype.onClickCoppy=function(){var t=this.lbId.string;t=t.replace("ID: ",""),l.Windown.coppyToClip(t)},e.prototype.onClickDoiTrangThai=function(){l.Windown.UIManager.showDoiTrangThai()},e.prototype.onClickDoiAvatar=function(){l.Windown.UIManager.showDoiAva()},e.prototype.onClickCapNhatTaiKhoan=function(){l.Windown.UIManager.showCapNhatTaiKhoan()},e.prototype.onClickUpdateRefCode=function(){var t=this.edbRefCode.string.trim();if(""!=t){var e=c.ConectManager.getIns().getSFSObj();e.putUtfString("mgt",t),c.ConectManager.getIns().sendRequest(s.REQUEST_CODE.InputMGT,e)}else l.Windown.UIManager.showAlertMini(a.TextDefine.NullRefCode)},e.prototype.onClickXacThuc=function(){this.lbPhone.string==a.TextDefine.NullPhone&&l.Windown.UIManager.showXacThucTele()},e.prototype.onClickUpdateBank=function(){if(""!=this.edbBankCode.string)if(""!=this.edbAccountName.string.trim())if(""!=this.edbBankNumber.string.trim()){var t=c.ConectManager.getIns().getSFSObj();this.currentTabBank==u.BANK_VIET?(t.putUtfString("bank",this.bankCode),t.putUtfString("ttk",this.edbAccountName.string),t.putUtfString("stk",this.edbBankNumber.string),c.ConectManager.getIns().sendRequest(s.REQUEST_CODE.UpdateBank,t)):(t.putUtfString("bankH",this.bankCode),t.putUtfString("ttkH",this.edbAccountName.string),t.putUtfString("stkH",this.edbBankNumber.string),c.ConectManager.getIns().sendRequest(s.REQUEST_CODE.UpdateBankH,t),cc.log("Update Bank Han"))}else l.Windown.Dialog.showLog(a.TextDefine.NullSdtBANK);else l.Windown.Dialog.showLog(a.TextDefine.NullTtkBANK);else l.Windown.Dialog.showLog(a.TextDefine.NullBANK)},e.prototype.updatePhone=function(t){l.Windown.User.phoneNumber=t,this.lbPhone.string=t,this.lbPhone.enableUnderline=!1,this.lbPhone.node.color=cc.Color.WHITE},e.prototype.onDestroy=function(){l.Windown.ThongTin=null},e.prototype.onClickQuenPass=function(){cc.sys.openURL(l.Windown.LinkResetPass)},e.prototype.onClickLogout=function(){l.Windown.MainView.onClickThoat()},r([d(cc.Label)],e.prototype,"lbUserName",void 0),r([d(cc.Label)],e.prototype,"lbVippoint",void 0),r([d(cc.Label)],e.prototype,"lbId",void 0),r([d(cc.Label)],e.prototype,"lbPhone",void 0),r([d(cc.Label)],e.prototype,"lbMoney",void 0),r([d(cc.Label)],e.prototype,"lbStatus",void 0),r([d(cc.Label)],e.prototype,"lbLevel",void 0),r([d(cc.Label)],e.prototype,"lbCurrentNameBank",void 0),r([d(cc.Label)],e.prototype,"lbCurrentBank",void 0),r([d(cc.Label)],e.prototype,"lbProgressLevel",void 0),r([d(cc.EditBox)],e.prototype,"edbBankCode",void 0),r([d(cc.EditBox)],e.prototype,"edbAccountName",void 0),r([d(cc.EditBox)],e.prototype,"edbBankNumber",void 0),r([d(cc.Sprite)],e.prototype,"spAvatar",void 0),r([d(cc.Sprite)],e.prototype,"spProgressLevel",void 0),r([d(cc.Node)],e.prototype,"nodeDoiAva",void 0),r([d(cc.Node)],e.prototype,"nodeTrangThai",void 0),r([d(cc.Node)],e.prototype,"btnCapNhat",void 0),r([d(cc.Button)],e.prototype,"btnChangePass",void 0),r([d(cc.Button)],e.prototype,"btnUpdateRef",void 0),r([d(cc.ScrollView)],e.prototype,"scrItemBank",void 0),r([d(cc.EditBox)],e.prototype,"edbRefCode",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../DefineTs/TextDefine":"TextDefine","../../Network/ConectManager":"ConectManager","../../Windown":"Windown"}],ThuocKeAuto:[function(t,e,n){"use strict";cc._RF.push(e,"661bfU/3dZGtYIdrpyfb/DJ","ThuocKeAuto");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../Gun/GUN_TYPE_BD"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listId=[],e.idTarget=-1,e.colider=null,e.ext=null,e.isValibe=!1,e.timeCheck=0,e}return i(e,t),e.prototype.onLoad=function(){this.colider=this.getComponent(cc.BoxCollider)},e.prototype.onCollisionEnter=function(t){var e=t.tag;e==this.idTarget||this.listId.includes(e)||this.listId.push(e)},e.prototype.onCollisionExit=function(t){var e=t.tag;this.listId.indexOf(e)>-1&&this.listId.splice(e,1)},e.prototype.targetPoint=function(t){var e=t.clone().subSelf(this.node.getPosition()),n=180*Math.atan2(e.x,e.y)/Math.PI;this.node.angle=-n;var o=cc.Vec2.distance(t,this.node.getPosition());this.node.height=o,this.colider.size.height=o,this.colider.offset.y=o/2},e.prototype.setIdTarget=function(t){this.idTarget=t,this.reset()},e.prototype.reset=function(){this.listId.length=0,this.isValibe=!0},e.prototype.update=function(t){this.listId.length>0?this.timeCheck+=t:this.timeCheck=0,this.timeCheck>4&&this.ext.player.gunFishBd.stateGun.type!=s.default.SET&&(cc.log("success"),this.ext.offTarget(),this.timeCheck=0)},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../Gun/GUN_TYPE_BD":"GUN_TYPE_BD"}],TienLenGameView:[function(t,e,n){"use strict";cc._RF.push(e,"f3c4fzexQdMz6F3cU0qoZTZ","TienLenGameView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},c=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),i=0;for(e=0;e<n;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,i++)o[i]=r[s];return o};Object.defineProperty(n,"__esModule",{value:!0});var l=t("../../../Scritps/DefineTs/EVENT_MANAGER"),u=t("../../../Scritps/DefineTs/PathResource"),p=t("../../../Scritps/DefineTs/REQUEST_CODE"),h=t("../../../Scritps/DefineTs/TextDefine"),d=t("../../../Scritps/Game/GAME_TYPE"),f=t("../../../Scritps/Network/ConectManager"),y=t("../../../Scritps/Other/MakeDelay"),g=t("../../../Scritps/Windown"),m=t("./AudioTL"),v=t("./LogicManagerTL"),S=t("./PlayerViewTL"),b=cc._decorator,w=b.ccclass,_=b.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bkgSprite=null,e.lbInfo=null,e.listPosView=[],e.listPosCard=[],e.listPosCardDanh=[],e.btnMenu=null,e.btnQuickChat=null,e.btnPass=null,e.btnDiscard=null,e.lbDiscard=null,e.btnSort=null,e.lbTimeStart=null,e.lbNumberCard=[],e.listSpritePass=[],e.listBgScore=[],e.listLbScore=[],e.bgHint=null,e.lbHint=null,e.timerControl=null,e.vtChipFinish=[],e.vtChipDenLang=[],e.listDataPlayerResult=[],e.aniCardSpecial=null,e.aniWinSpecial=null,e.aniStartGame=null,e.aniFinish=null,e.aniChayBai=[],e.lbNameWin=null,e.avtSpecial=null,e.sprWinSpectical=null,e.listSprTextWinSpectical=[],e.icon_chips=null,e.prefabsPlayerView=null,e.cardPrefab=null,e.audio=null,e.thisPlayer=null,e.currenPlayer=null,e.players=[],e.cardSelect=null,e.listCardSuggest=[],e.numCardSelect=0,e.posDefaultCard=cc.v2(0,0),e.posTouchBegan=cc.v2(0,0),e.zOrderCard=0,e.sizeCardW=0,e.zIndexCardD=0,e.touched=!1,e.dangPhatBai=!1,e.turnIdCurrent=0,e.lastTurnId=0,e.timeToStart=0,e.timeTurn=0,e.typeSort=0,e.playerSpecail=null,e.stateGame=0,e.cardPool=null,e.isFinish=!1,e.gameType=-1,e.sfs=null,e.roomSFS=null,e.funEnd=null,e.dataFinish=null,e.sfsObjTest=null,e.sfsObjTest2=null,e.makeDelay=null,e.indexFunc=0,e.markCurrent=0,e.roomIdCurrent=0,e.passRoomCurrent="",e.isAllowClickDownAllCard=!1,e.cardSelectNumberOne=null,e.resultSuggest=[],e.listEvt=[],e}return i(e,t),e.prototype.onLoad=function(){this.node.setContentSize(cc.winSize);var t=this.getComponent(cc.Sprite);t&&(t.sizeMode=0),cc.sys.localStorage.setItem("isBack",!1),this.cardPool=new cc.NodePool("Card");var e=this.getCard();this.sizeCardW=e.node.getContentSize().width,this.initLoad(),this.initInviteNode(),g.Windown.TienLen=this,g.Windown.GameView=this,this.makeDelay=new y.default(this),console.log("start"),this.gameType=d.default.TienLen,this.sfs=f.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(l.EVENT_MANAGER.LOGIN,this.onLogin,this),cc.systemEvent.on(l.EVENT_MANAGER.onDisconnect,this.onDisconnect,this)},e.prototype.start=function(){this.setupView()},e.prototype.setupView=function(){if(cc.sys.isMobile)cc.log("view mobile:",cc.winSize),this.node.angle=90,t=this.node.getComponent(cc.Widget),this.bkgSprite.node.angle=90,this.node.setContentSize(cc.winSize.height,cc.winSize.width),this.bkgSprite.node.setContentSize(cc.winSize.height,cc.winSize.width),cc.log("node size:",this.node.getContentSize()),g.Windown.UIManager.changeRotation(!1);else{cc.log("view web:"+cc.view.getDesignResolutionSize());var t,e=cc.view.getDesignResolutionSize().height/720;this.node.angle=0,this.node.setScale(e,e,e),this.bkgSprite.node.angle=0,this.bkgSprite.node.setContentSize(cc.winSize.width,cc.winSize.height),(t=this.node.getComponent(cc.Widget)).left=0,t.right=0,t.bottom=0,t.top=0,t.updateAlignment(),g.Windown.UIManager.changeRotation(!0)}},e.prototype.onLogin=function(){this.sendJoinRoom(this.roomIdCurrent,this.passRoomCurrent),this.sendGetInfoRoomReconnect()},e.prototype.handleAutoExit=function(t){var e=JSON.parse(t);if(e.status){var n=this.getPlayerWithId(e.id);if(null==n||void 0===n)return;return e.id===g.Windown.User.userId?(cc.sys.localStorage.setItem("isBack",!1),void cc.director.loadScene("main")):(this.removePlayer(e.id),void this.setTimeStart(0))}return-1==e.type?(this.thisPlayer.showBackExit(),void g.Windown.Dialog.showLog("B\u1ea1n \u0111ang trong b\xe0n!")):(this.thisPlayer.showBackExit(),void g.Windown.Dialog.showLog("Kh\xf4ng th\u1ec3 chuy\u1ec3n b\xe0n cho t\u1edbi khi v\xe1n ch\u01a1i k\u1ebft th\xfac!"))},e.prototype.removePlayer=function(t,e){void 0===e&&(e=!1);var n=this.getPlayerWithId(t);null!==n&&(this.players.splice(this.players.indexOf(n),1),n.node.destroy(),n=null,e||this.updatePositionPlayerView())},e.prototype.getMakeDelay=function(t){return this.makeDelay.getDelay(t)},e.prototype.onDestroy=function(){cc.systemEvent.removeAll(this),this.roomSFS=null,this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),g.Windown.GameView=null,g.Windown.TienLen=null},e.prototype.sendJoinRoom=function(t,e){g.Windown.UIManager.showLoading(),cc.log("send join room");try{f.ConectManager.getIns().sendJoinRoom(t,e),this.roomIdCurrent=t,this.passRoomCurrent=e}catch(n){cc.error(n),this.onDisconnect()}},e.prototype.sendGetInfoRoom=function(t){var e=f.ConectManager.getIns().getSFSObj();e.putInt("roomType",0),e.putInt("gameType",d.default.TienLen),e.putInt("mark",t),f.ConectManager.getIns().sendRequest(p.REQUEST_CODE.GetIdJoinRoom,e),cc.systemEvent.once(p.REQUEST_CODE.GetIdJoinRoom,function(t){var e=t.get("idRoom");cc.log("roomId getInfo "+e)},this)},e.prototype.onDisconnect=function(){cc.log("disconnect"),g.Windown.UIManager.hideLoading(),g.Windown.UIManager.hideLoadingData(),cc.director.loadScene("main"),g.Windown.LobbyView&&(g.Windown.LobbyView.node.active=!1)},e.prototype.userExitRoom=function(t){if("TE"==t.room.groupId){var e=t.user;if(cc.log("user exit room: ",e),e.isItMe)return void cc.director.loadScene("main")}},e.prototype.onCreateError=function(){cc.log("creat errr"),g.Windown.UIManager.hideLoading(),cc.director.loadScene("main"),g.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM)},e.prototype.onJoinRoom=function(t){cc.log("onJoinRoom tienLen");var e=t.room;if("TE"==e.groupId){this.roomSFS=e,g.Windown.UIManager.hideLoading(),g.Windown.UIManager.hideLoadingData();var n=e.getVariable("cf").value;cc.log("no vao room nay: "+n)}},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),g.Windown.UIManager.hideLoading(),g.Windown.UIManager.hideLoadingData(),g.Windown.Dialog.showLog(h.TextDefine.ERR_JOIN_ROOM),cc.director.loadScene("main")},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params,o=g.Windown.SFSObjToJson(n);switch(e){case"infoRoomTL":cc.log("extResponse infoRoom:",o),this.handleInfoRoom(o);break;case"st":cc.log("extResponse st:",o),this.handleStartTime(o);break;case"lc":cc.log("extResponse Lc:",o),this.handleLc(o);break;case"uj":cc.log("extResponse Uj:",o),this.handleUserJoin(o);break;case"dc":cc.log("extResponse dc:",o),this.handleDc(o);break;case"pa":cc.log("extResponse pass:",o),this.handlePass(o);break;case"finish":cc.log("extResponse finish:",o),this.handleFinish(o);break;case"autoExit":cc.log("extResponse autoExit:",o),this.handleAutoExit(o);break;case"chat":cc.log("extResponse chat:",o),this.handleChat(o);break;case"chatI":cc.log("extResponse chat:",o),this.handleChatI(o)}},e.prototype.initInviteNode=function(){var t=this;cc.loader.loadRes("inviteBtn",function(e,n){if(e)cc.log(e);else{if(null==t.node)return;for(var o=1;o<t.listPosView.length;o++)if(null!=t.listPosView[o]){var i=cc.instantiate(n).getComponent(cc.Button);i.node.setPosition(t.listPosView[o]),t.node.addChild(i.node,1);var r=new cc.Component.EventHandler;r.target=t.node,r.component="TienLenGameView",r.handler="onClickInvite",r.customEventData="",i.clickEvents.push(r)}}})},e.prototype.initLoad=function(){var t=this,e=this.listPosCard[0],n=this.getCard();this.sizeCardW=n.node.getContentSize().width,this.isFinish=!1;for(var o=0;o<4;o++)this.lbNumberCard[o].node.zIndex=70,this.lbNumberCard[o].node.active=!1,this.listBgScore[o].node.active=!1,this.aniChayBai[o].node.active=!1,this.aniChayBai[o].node.zIndex=200;this.btnSort.node.active=!1,this.btnPass.node.active=!1,this.btnDiscard.node.active=!1,this.bgHint.node.active=!1,this.aniCardSpecial.node.active=!1,this.aniCardSpecial.timeScale=1,this.aniCardSpecial.node.zIndex=200,this.aniWinSpecial.node.active=!0,this.aniWinSpecial.node.zIndex=200,this.aniFinish.node.active=!1,this.aniFinish.animation="finish",this.aniFinish.node.zIndex=1111,this.aniStartGame.node.active=!1,this.aniStartGame.node.zIndex=1111,this.typeSort=2,this.isAllowClickDownAllCard=!1,this.node.setContentSize(cc.winSize),this.node.on(cc.Node.EventType.TOUCH_START,function(e){if(cc.log("ON TOUCH BEGAN"),!(t.touched||t.isFinish||t.dangPhatBai)&&t.thisPlayer&&1===t.stateGame){t.posTouchBegan=cc.v2(e.getLocation());for(var n=t.thisPlayer.vectorCard.length-1;n>=0;n--){var o=t.thisPlayer.vectorCard[n];if(o.node.getBoundingBoxToWorld().contains(t.posTouchBegan)&&o.isTouch){t.cardSelect=o,t.posDefaultCard=o.node.getPosition(),t.zOrderCard=o.node.zIndex,t.touched=!0;var i=o.node.position;o.node.runAction(cc.sequence(cc.delayTime(.2),cc.spawn(cc.scaleTo(.2,1.1).easing(cc.easeCubicActionOut()),cc.moveTo(.2,cc.v2(i.x,-260))))),cc.log("=======click card th\u1ee9 %d ",t.zOrderCard-50);for(var r=n-2;r<=n+2;r++)r>=0&&r<t.thisPlayer.vectorCard.length&&n!=r&&(r==n-1||r==n+1?t.thisPlayer.vectorCard[r].node.runAction(cc.sequence(cc.delayTime(.2),cc.scaleTo(.2,1.08).easing(cc.easeCubicActionOut()))):t.thisPlayer.vectorCard[r].node.runAction(cc.sequence(cc.delayTime(.2),cc.scaleTo(.2,1).easing(cc.easeCubicActionOut()))));return}}}},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(n){if(t.touched&&!t.isFinish&&t.thisPlayer&&1===t.stateGame){for(var o=t.thisPlayer.vectorCard.length/2,i=cc.v2(n.getLocation()),r=0,s=0;s<t.thisPlayer.vectorCard.length;s++)if(t.thisPlayer.vectorCard[s]===t.cardSelect){r=s;break}var a=.4675*t.sizeCardW;if(t.thisPlayer.vectorCard.length%2==0)var c=e.x-a*(o+1);else c=e.x-a*o;var l=e.x+a*o,u=t.posDefaultCard.x+i.x-t.posTouchBegan.x,p=e.y;if(u>l&&(u=l),u<c&&(u=c),t.cardSelect.node.x=u,t.posTouchBegan.sub(i).mag()>=.25*t.sizeCardW){var h=r+1;if(h<t.thisPlayer.vectorCard.length&&(y=t.thisPlayer.vectorCard[h]).node.position.x<u){t.cardSelect.node.zIndex=y.node.zIndex;var d=y.node.position.x-a;y.node.runAction(cc.moveTo(.2,cc.v2(d,p)).easing(cc.easeCubicActionOut())),y.node.zIndex=t.cardSelect.node.zIndex-1;var f=t.thisPlayer.vectorCard[r];t.thisPlayer.vectorCard[r]=t.thisPlayer.vectorCard[h],t.thisPlayer.vectorCard[h]=f,r++,t.macBookCard(r)}var y,g=r-1;if(g>=0&&(y=t.thisPlayer.vectorCard[g]).node.position.x>u){t.cardSelect.node.zIndex=y.node.zIndex;var m=y.node.getPosition().x+a;y.node.runAction(cc.moveTo(.2,cc.v2(m,p)).easing(cc.easeCubicActionOut())),y.node.zIndex=t.cardSelect.node.zIndex+1,f=t.thisPlayer.vectorCard[r],t.thisPlayer.vectorCard[r]=t.thisPlayer.vectorCard[g],t.thisPlayer.vectorCard[g]=f,r--,t.macBookCard(r)}for(var v=0;v<t.thisPlayer.vectorCard.length;v++)t.thisPlayer.vectorCard[v]}}else t.cardSelect=null},this),this.node.on(cc.Node.EventType.TOUCH_END,function(n){if(cc.log("ON TOUCH ENDED"),t.touched&&!t.isFinish&&t.thisPlayer&&1===t.stateGame){t.touched=!1;var o=cc.v2(n.getLocation());if(t.posTouchBegan.sub(o).mag()<=.2*t.sizeCardW){if(0===t.numCardSelect&&(t.cardSelectNumberOne=t.cardSelect),0===t.numCardSelect&&0!==t.lastTurnId){t.suggestOnTouch(t.cardSelect,t.lastTurnId);for(var i=0;i<t.listCardSuggest.length;i++)for(var r=0;r<t.thisPlayer.vectorCard.length;r++){var s=t.thisPlayer.vectorCard[r];if(t.listCardSuggest[i]===s){var a=s.node.position.x;s.node.runAction(cc.scaleTo(.4,.85).easing(cc.easeCubicActionOut())),s.node.runAction(cc.moveTo(.2,cc.v2(a,e.y+30)).easing(cc.easeCubicActionOut())),s.isSelect=!0,t.numCardSelect++,t.numCardSelect>t.thisPlayer.vectorCard.length&&(t.numCardSelect=t.thisPlayer.vectorCard.length)}}}else if(1===t.numCardSelect)if(console.error("Cam la thu 2"),t.resultSuggest=[],a=t.posDefaultCard.x,t.cardSelect.isSelect)t.cardSelect.node.runAction(cc.scaleTo(.4,.85).easing(cc.easeCubicActionOut())),t.cardSelect.node.runAction(cc.moveTo(.2,cc.v2(a,e.y)).easing(cc.easeCubicActionOut())),t.cardSelect.isSelect=!1,t.numCardSelect--,t.numCardSelect<=0&&(t.numCardSelect=0);else{var c=t.thisPlayer.vectorCard.slice(),l=[];for(t.findStraightCard(c).forEach(function(t){return l.push(t)}),t.findTuQuy(c).forEach(function(t){l.push(t)}),t.findFourPairs(c).forEach(function(t){l.push(t)}),t.findThreePairs(c).forEach(function(t){l.push(t)}),t.findThreeCards(c).forEach(function(t){l.push(t)}),t.findTwoPairs(c).forEach(function(t){l.push(t)}),console.error("allResult==="+l.length),i=0;i<t.thisPlayer.vectorCard.length;i++)if((s=t.thisPlayer.vectorCard[i])!==t.cardSelect&&s.isSelect){t.cardSelectNumberOne=s;break}for(t.resultSuggest=t.findContainsTwoCardSelected(l,t.cardSelectNumberOne,t.cardSelect),console.error("Boc2la: ",t.resultSuggest),i=0;i<t.resultSuggest.length;i++)for(r=0;r<t.thisPlayer.vectorCard.length;r++)if(s=t.thisPlayer.vectorCard[r],t.resultSuggest[i]===s){var u=s.node.position.x;s.node.runAction(cc.scaleTo(.4,.85).easing(cc.easeCubicActionOut())),s.node.runAction(cc.moveTo(.2,cc.v2(u,e.y+30)).easing(cc.easeCubicActionOut())),s.isSelect=!0,t.numCardSelect++,t.numCardSelect>t.thisPlayer.vectorCard.length&&(t.numCardSelect=t.thisPlayer.vectorCard.length)}t.cardSelect.node.stopAllActions(),t.cardSelect.node.runAction(cc.scaleTo(.4,.85).easing(cc.easeCubicActionOut())),t.cardSelect.node.runAction(cc.moveTo(.2,cc.v2(a,e.y+30)).easing(cc.easeCubicActionOut())),t.cardSelect.isSelect=!0,t.numCardSelect++,t.numCardSelect>t.thisPlayer.vectorCard.length&&(t.numCardSelect=t.thisPlayer.vectorCard.length)}else a=t.posDefaultCard.x,t.cardSelect.isSelect?(t.cardSelect.node.runAction(cc.scaleTo(.4,.85).easing(cc.easeCubicActionOut())),t.cardSelect.node.runAction(cc.moveTo(.2,cc.v2(a,e.y)).easing(cc.easeCubicActionOut())),t.cardSelect.isSelect=!1,t.numCardSelect--,t.numCardSelect<=0&&(t.numCardSelect=0)):(t.cardSelect.node.runAction(cc.scaleTo(.4,.85).easing(cc.easeCubicActionOut())),t.cardSelect.node.runAction(cc.moveTo(.2,cc.v2(a,e.y+30)).easing(cc.easeCubicActionOut())),t.cardSelect.isSelect=!0,t.numCardSelect++,t.numCardSelect>t.thisPlayer.vectorCard.length&&(t.numCardSelect=t.thisPlayer.vectorCard.length));return cc.log("-=-=-=--==-=-==--==-=> Tienlen numCardSelect",t.numCardSelect),void t.sortCardSelect()}t.cardSelect=null,t.windowCard(),t.sortCardView()}else t.cardSelect=null},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(n){if(cc.log("ON TOUCH CANCEL"),t.touched&&!t.isFinish&&t.thisPlayer&&1===t.stateGame){t.touched=!1;var o=cc.v2(n.getLocation());if(t.posTouchBegan.sub(o).mag()<=.25*t.sizeCardW){if(0===t.numCardSelect&&0!==t.lastTurnId){t.suggestOnTouch(t.cardSelect,t.lastTurnId);for(var i=0;i<t.listCardSuggest.length;i++)for(var r=0;r<t.thisPlayer.vectorCard.length;r++){var s=t.thisPlayer.vectorCard[r];if(t.listCardSuggest[i]===s){var a=s.node.position.x;s.node.runAction(cc.scaleTo(.4,.85).easing(cc.easeCubicActionOut())),s.node.runAction(cc.moveTo(.2,cc.v2(a,e.y+30)).easing(cc.easeCubicActionOut())),s.isSelect=!0,t.numCardSelect++,t.numCardSelect>t.thisPlayer.vectorCard.length&&(t.numCardSelect=t.thisPlayer.vectorCard.length)}}}else{var c=t.posDefaultCard.x;t.cardSelect.isSelect?(t.cardSelect.node.runAction(cc.scaleTo(.4,.85).easing(cc.easeCubicActionOut())),t.cardSelect.node.runAction(cc.moveTo(.2,cc.v2(c,e.y)).easing(cc.easeCubicActionOut())),t.cardSelect.isSelect=!1,t.numCardSelect--,t.numCardSelect<=0&&(t.numCardSelect=0)):(t.cardSelect.node.runAction(cc.scaleTo(.4,.85).easing(cc.easeCubicActionOut())),t.cardSelect.node.runAction(cc.moveTo(.2,cc.v2(c,e.y+30)).easing(cc.easeCubicActionOut())),t.cardSelect.isSelect=!0,t.numCardSelect++,t.numCardSelect>t.thisPlayer.vectorCard.length&&(t.numCardSelect=t.thisPlayer.vectorCard.length))}return cc.log("-=-=-=--==-=-==--==-=> Tienlen numCardSelect",t.numCardSelect),void t.sortCardSelect()}t.cardSelect=null,t.sortCardView(),t.windowCard()}else t.cardSelect=null},this)},e.prototype.sortCardView=function(){var t=this;cc.log("!> sort card view"),this.dangPhatBai=!0;for(var e,n=Math.round(this.thisPlayer.vectorCard.length/2*-1),o=function(t){var o=i.thisPlayer.vectorCard[t];o.node.stopAllActions(),o.node.runAction(cc.scaleTo(.2,.85).easing(cc.easeCubicActionOut())),o.node.zIndex=50+t,o.node.opacity=255,e=i.listPosCard[0].add(cc.v2(.4675*i.sizeCardW*n,0));var r=cc.moveTo(.1,e).easing(cc.easeCubicActionInOut()),s=cc.sequence(r,cc.callFunc(function(){o.isTouch=!0,o.isSelect=!1}));o.node.runAction(s),n++},i=this,r=0;r<this.thisPlayer.vectorCard.length;r++)o(r);this.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){t.dangPhatBai=!1}))),this.numCardSelect=0},e.prototype.sortCardSelect=function(){var t=this;cc.log("!> sort card select");var e=Math.round(this.thisPlayer.vectorCard.length/2*-1);this.numCardSelect=0,this.dangPhatBai=!0;for(var n,o=function(t){var o=i.thisPlayer.vectorCard[t];o.node.stopAllActions(),o.node.zIndex=50+t,o.node.opacity=255,o.isSelect?(n=i.listPosCard[0].add(cc.v2(.4675*i.sizeCardW*e,30)),i.numCardSelect++):n=i.listPosCard[0].add(cc.v2(.4675*i.sizeCardW*e,0));var r=cc.moveTo(.1,n).easing(cc.easeCubicActionInOut()),s=cc.sequence(r,cc.callFunc(function(){o.isTouch=!0}));o.node.runAction(s),e++},i=this,r=0;r<this.thisPlayer.vectorCard.length;r++)o(r);this.windowCard(),this.node.runAction(cc.sequence(cc.delayTime(.01),cc.callFunc(function(){t.dangPhatBai=!1})))},e.prototype.initPrefabs=function(t){return s(this,void 0,void 0,function(){var e,n;return a(this,function(o){switch(o.label){case 0:return[4,g.Windown.loadRes(this.gameType.toString(),"Prefabs/"+t,cc.Prefab)];case 1:return e=o.sent(),(n=cc.instantiate(e)).parent=g.Windown.GameView.node,[2,n]}})})},e.prototype.readDataPlayer=function(t,e){t.id=e.id,t.displayName=e.nickname,t.info=e,t.idUser=e.id,t.ag=e.ag,t.currentLevel=e.clv,t.currentLevel>5&&(t.currentLevel=5),t.setBgAvatar()},e.prototype.handleInfoRoom=function(t){g.Windown.LobbyView&&(g.Windown.LobbyView.node.active=!1);var e=JSON.parse(t).data;this.markCurrent=e.mark,this.roomIdCurrent=e.idRoom,console.log("Ctable: ",e),e.isPass?this.lbInfo.string="ID: "+e.idRoom+"\nBet: "+g.Windown.formatNumber(e.mark):this.lbInfo.string="Bet: "+g.Windown.formatNumber(e.mark);for(var n=e.listUser,o=!0,i=0;i<n.length;i++){var r=cc.instantiate(this.prefabsPlayerView).getComponent("PlayerViewTL");this.players.push(r),this.node.addChild(r.node,9),this.readDataPlayer(r,n[i].info),r.updatePlayerView(n[i].info),g.Windown.updateAvatar(g.Windown.ObjToSFSObj(n[i].info),r.imgAvatar),r.id===g.Windown.User.userId&&(cc.log("ko phai la viewing"),this.thisPlayer=r,o=!1),r.setTurn(!0,0,!1,null)}if(this.stateGame=1,o){r=cc.instantiate(this.prefabsPlayerView).getComponent("PlayerViewTL"),cc.log("viewing: ",g.Windown.SFSObjToJson(g.Windown.SFSInfouser)),this.stateGame=2,this.node.addChild(r.node,99),this.thisPlayer=r,this.players.push(r);var s={ag:g.Windown.User.userAg,clv:g.Windown.User.currentLevel,currentlevelpoint:g.Windown.User.currentLevelPoint,currentvippoint:g.Windown.User.currentVipPoint,id:g.Windown.User.userId,iv:g.Windown.User.avatrId,isFirtLogin:g.Windown.User.isFirtLogin,isFirtNap:g.Windown.User.isFirtNap,isPlayNow:g.Windown.User.isPlayNow,nn:g.Windown.User.nickName,phonenumber:g.Windown.User.phoneNumber,status:g.Windown.User.status,totallevelpoint:g.Windown.User.totalLevelPoint,tv:g.Windown.User.typeAvarta,username:g.Windown.User.userName};this.readDataPlayer(r,s),r.updatePlayerView(s),g.Windown.updateAvatar(g.Windown.ObjToSFSObj(s),r.imgAvatar),r.setTurn(!1,0,!1,null)}this.updatePositionPlayerView(),cc.log("!> rj",e),e.startGame&&this.connectGame(e)},e.prototype.connectGame=function(t){for(var e=t.listUser,n=0;n<e.length;n++)for(var o=this.getPlayerWithId(e[n].info.id),i=0;i<e[n].cards.length;i++)(s=this.getCard()).decodeCard(e[n].cards[i]),o.vectorCard.push(s);this.turnIdCurrent=t.idCurr,this.lastTurnId=t.idlw,this.timeTurn=10;var r=this.getPlayerWithId(t.idlw);if(r)for(n=0;n<t.cardsOut.length;n++){var s;(s=this.getCard()).decodeCard(t.cardsOut[n]),r.vectorCardD.push(s)}this.initPlayerCard(t),this.getPlayerWithId(t.idCurr).setTurn(!0,t.time,!0,null)},e.prototype.initPlayerCard=function(t){1===this.stateGame&&(cc.log("--=-=-==-=--=-=-=-=-=-=-=>>>>>>> Tienlen v\xe0o \u0111\xe2y ch\u01b0a em \u01a1i"),this.btnSort.node.active=!0,this.btnSort.enabled=!0,this.btnSort.interactable=!0,cc.log("--=-=-==-=--=-=-=-=-=-=-=>>>>>>> Tienlen ten palyer cu ->>>"+this.turnIdCurrent),t.idCurr===this.thisPlayer.id&&(this.btnPass.node.active=!0,this.btnDiscard.node.active=!0,this.btnPass.enabled=!0,this.btnDiscard.enabled=!0,this.btnPass.interactable=!0,this.btnDiscard.interactable=!0));var e=Math.round(this.thisPlayer.vectorCard.length/2*-1);cc.log("=-=-=-=-=--=-=-=-=-==--=-=-=-=-=-=-==> Tienlen index : "+e);for(var n=0;n<this.players.length;n++){var o=this.players[n];if(o!==this.thisPlayer||2!==this.stateGame){var i=o.vectorCard.length,r=o.vectorCardD.length;o.numberCard=i;var s=o._indexDynamic,a=this.listPosCard[s],c=this.listPosCardDanh[s];0===s||2===s?c=c.sub(cc.v2(.275*this.sizeCardW*r/2,0)):1===s&&(c=c.sub(cc.v2(.275*this.sizeCardW*r,0)));for(var l=0;l<i;l++)if((p=o.vectorCard[l]).node.active=!0,this.node.addChild(p.node,50+l),p.setTextureWithCode(p.code),o===this.thisPlayer){cc.log("==----------------=============>>> Tienlen abc "+.4675*this.sizeCardW*e);var u=this.listPosCard[0].add(cc.v2(.4675*this.sizeCardW*e,0));p.node.setScale(.85),p.node.setPosition(u.x,u.y),cc.log("--=-=-=-=-=-=-=-=-=-=--=-=-=-=-=-=>>>>>>> Tienlen poscard: "+u),e++,cc.log("=-=-=-=-=--=-=-=-=-==--=-=-=-=-=-=-==> Tienlen index : "+e)}else p.node.setScale(.5),p.node.setPosition(a.x,a.y);for(o!==this.thisPlayer&&o.numberCard>0&&(this.lbNumberCard[s].string=o.numberCard.toString(),this.lbNumberCard[s].node.active=!0),l=0;l<o.vectorCardD.length;l++){var p=o.vectorCardD[l];c=c.add(cc.v2(.225*this.sizeCardW,0)),p.node.active=!0,this.node.addChild(p.node,50+l),p.setTextureWithCode(p.code),p.node.setScale(.5),p.node.setPosition(c.x,c.y)}}}1===this.stateGame&&this.onClickSortCard()},e.prototype.initPlayerView=function(){},e.prototype.handleLc=function(t){return s(this,void 0,void 0,function(){var e,n,o,i,r,s,c,l=this;return a(this,function(){for(e=JSON.parse(t),this.audio.playEffect(this.audio.startGame),this.beforeStartGame(),this.aniStartGame.node.active=!0,this.aniStartGame.setAnimation(0,"startgame",!1),n=JSON.parse(e.arr),this.timeTurn=e.time,this.turnIdCurrent=e.idTurn,o=e.firstRound,i=0;i<this.players.length;i++){for((r=this.players[i]).vectorCard=[],s=0;s<n.length;s++)(c=this.getCard()).node.setScale(.5),c.setTextureWithCode(0),c.node.active=!1,this.node.addChild(c.node,50-s),c.node.setPosition(0,0),r===this.thisPlayer&&c.decodeCard(n[s]),r.vectorCard.push(c);r===this.thisPlayer?r.numberCard=13:r.numberCard=0}return cc.tween(this.node).delay(1).call(function(){l.dealCard()}).delay(2.8).call(function(){if(l.dangPhatBai=!1,l.onClickSortCard(),l.getPlayerWithId(e.idTurn).setTurn(!0,e.time,!0,null),l.turnIdCurrent===l.thisPlayer.id&&o){l.bgHint.node.active=!0;var t=cc.scaleTo(.25,1.1),n=cc.scaleTo(.25,.9),i=cc.sequence(t,n),r=cc.repeat(i,6);l.bgHint.node.runAction(cc.sequence(r,cc.callFunc(function(){l.bgHint.node.active=!1})))}l.turnIdCurrent===l.thisPlayer.id&&(l.btnDiscard.node.active=!0,l.btnDiscard.enabled=!0,l.btnDiscard.interactable=!0,l.btnDiscard.node.setPosition(cc.v2(0,l.btnDiscard.node.position.y)),l.lbDiscard.string="\u0110\xe1nh B\xe0i"),l.btnSort.node.active=!0,l.btnSort.enabled=!0,l.btnSort.interactable=!0}).delay(1).call(function(){l.isAllowClickDownAllCard=!0}).start(),[2]})})},e.prototype.dealCard=function(){var t=this;this.aniStartGame.node.active=!1,this.dangPhatBai=!0;for(var e,n,o,i=function(i){var s=r.players[i],a=s._indexDynamic;e=r.listPosCard[a],n=0,o=-6;for(var c=function(i){var c=s.vectorCard[i];if(c.node.active=!0,c.node.angle=-90,s===r.thisPlayer){e=r.listPosCard[0].add(cc.v2(.4675*r.sizeCardW*o,0));var l=cc.moveTo(.4,e).easing(cc.easeCubicActionOut()),u=cc.scaleTo(.4,.85).easing(cc.easeCubicActionOut()),p=cc.rotateTo(.4,0).easing(cc.easeCubicActionOut()),h=cc.callFunc(function(){c.node.zIndex=50+i}),d=cc.spawn(l,h,u,p),f=cc.spawn(cc.scaleTo(.15,0,.85),cc.skewTo(.15,0,-20)),y=cc.spawn(cc.scaleTo(.15,.85,.85),cc.skewTo(.15,0,0));c.node.runAction(cc.sequence(cc.delayTime(n),d,f,cc.callFunc(function(){t.audio.playEffect(t.audio.dichuyenLabai),c.setTextureWithCode(c.code),c.node.skewY=20}),y)),o++}else l=cc.moveTo(.2,e).easing(cc.easeCubicActionInOut()),h=cc.callFunc(function(){c.node.zIndex=50+i}),p=cc.rotateTo(.4,0).easing(cc.easeCubicActionOut()),d=cc.spawn(l,h,p),c.node.runAction(cc.sequence(cc.delayTime(n),d,cc.callFunc(function(){s.numberCard++,t.lbNumberCard[a].string=s.numberCard.toString(),t.lbNumberCard[a].node.active=!0})));n+=.15},l=0;l<s.vectorCard.length;l++)c(l)},r=this,s=0;s<this.players.length;s++)i(s)},e.prototype.beforeStartGame=function(){this.stateGame=1,this.typeSort=2,this.turnIdCurrent=0,this.lastTurnId=0,this.playerSpecail=null,this.listCardSuggest=[],this.isFinish=!1,this.zIndexCardD=60;for(var t=0;t<this.players.length;t++)this.players[t].clearState();this.updatePositionPlayerView()},e.prototype.handleStartTime=function(t){return s(this,void 0,void 0,function(){var e;return a(this,function(){return e=JSON.parse(t),console.log("st: ",e),this.cleanTable(),this.setTimeStart(e.time),[2]})})},e.prototype.setTimeStart=function(t){var e=this;if(null!==this.timerControl){this.timerControl.stopAllActions(),this.timerControl.active=!0;var n=cc.delayTime(1),o=cc.callFunc(function(){t>0?(e.timerControl.getChildByName("lbTimeStart").getComponent(cc.Label).string=""+t,t--):e.timerControl.active=!1}),i=cc.sequence(o,n),r=cc.repeatForever(i);this.timerControl.runAction(r)}},e.prototype.handleUserJoin=function(t){return s(this,void 0,void 0,function(){var e,n,o,i;return a(this,function(){return e=JSON.parse(t),console.log("UserJoin: ",e),n=e,o=cc.instantiate(this.prefabsPlayerView).getComponent("PlayerViewTL"),this.players.push(o),this.node.addChild(o.node,9),this.readDataPlayer(o,n),g.Windown.updateAvatar(g.Windown.ObjToSFSObj(e),o.imgAvatar),o.setTurn(!1,0,!1,null),o.updatePlayerView(n),i=this.checkIndexPlayerIsExisted(),o._indexDynamic=i,o.node.setPosition(this.listPosView[i]),[2]})})},e.prototype.handleDc=function(t){return s(this,void 0,void 0,function(){var e,n,o,i,r,s,c,l,u,p,h,d,f,y,m,S,b=this;return a(this,function(a){switch(a.label){case 0:return this.audio.playEffect(this.audio.danhBaiVaBocBai),this.dangPhatBai?[4,this.getMakeDelay(3.2).prosime]:[3,2];case 1:a.sent(),a.label=2;case 2:for(e=JSON.parse(t),(n=this.getPlayerWithId(e.pid))&&n.setTurn(!1,0,!1,null),0!=e.idNext&&(e.idNext==g.Windown.User.userId&&this.audio.playEffect(this.audio.denTurn),this.getPlayerWithId(e.idNext).setTurn(!0,this.timeTurn,!0,null)),e.agc>0&&((o=this.getPlayerWithId(e.idc)).effectFlyMoney(e.agic,25),o.ag+=e.agic,o.updateAg(o.ag),(i=this.getPlayerWithId(e.idic)).effectFlyMoney(-e.agc,25),i.ag-=e.agc,i.updateAg(i.ag)),this.turnIdCurrent=e.idNext,this.lastTurnId=e.pid,this.turnIdCurrent===this.thisPlayer.id&&(this.dangPhatBai=!0),this.aniCardSpecial.node.active=!1,this.aniCardSpecial.node.zIndex=1001,d=0;d<this.players.length;d++)this.players[d].clearVectorCardD();if(n===this.thisPlayer&&(this.btnPass.node.active=!1,this.btnDiscard.node.active=!1),r=e.arrD,n===this.thisPlayer){for(d=0;d<r.length;d++)for(s=0;s<this.thisPlayer.vectorCard.length;s++)if(this.thisPlayer.vectorCard[s].code===r[d]){(f=this.thisPlayer.vectorCard[s]).isTouch=!1,n.vectorCardD.push(f),n.vectorCard.splice(s,1);break}}else for(d=0;d<r.length;d++)(f=n.vectorCard[0]).decodeCard(r[d]),f.setTextureWithCode(f.code),n.vectorCardD.push(f),n.vectorCard.splice(0,1);if(n.numberCard-=r.length,c=0,l=n._indexDynamic,u=this.listPosCardDanh[l],0===l||2===l?u=u.sub(cc.v2(.1375*this.sizeCardW*(r.length-1),0)):1===l&&(u=u.sub(cc.v2(.275*this.sizeCardW*r.length,0))),v.default.check3DoiThongTL(n.vectorCardD)||v.default.check4DoiThongTL(n.vectorCardD)||v.default.checkTuQuy(n.vectorCardD)||v.default.checkSetOfTwos(n.vectorCardD)){for(p=(p=cc.v2(0,-20)).sub(cc.v2(.275*this.sizeCardW*(r.length-1),0)),d=0;d<n.vectorCardD.length;d++)f=n.vectorCardD[d],h=f.code,f.setTextureWithCode(0),f.node.zIndex=this.zIndexCardD,f.isTouch=!1,this.zIndexCardD++,y=cc.moveTo(.5,p).easing(cc.easeCubicActionOut()),f.node.runAction(cc.sequence(cc.delayTime(c),y)),this.showSpecialCard(f.node,h,c),c+=.05,p=p.add(cc.v2(.55*this.sizeCardW,0));this.node.runAction(cc.sequence(cc.delayTime(c+.1),cc.callFunc(function(){b.dangPhatBai=!1,v.default.check3DoiThongTL(n.vectorCardD)?(b.aniCardSpecial.node.active=!0,b.aniCardSpecial.setAnimation(0,"3 DOI THONG",!1)):v.default.check4DoiThongTL(n.vectorCardD)?(b.aniCardSpecial.node.active=!0,b.aniCardSpecial.setAnimation(0,"4 DOI THONG",!1)):v.default.checkTuQuy(n.vectorCardD)&&(b.aniCardSpecial.node.active=!0,b.aniCardSpecial.setAnimation(0,"TU QUY 2",!1)),n===b.thisPlayer?b.sortCardView():(b.lbNumberCard[l].string=n.numberCard.toString(),0===n.numberCard&&(b.lbNumberCard[l].node.active=!1))}),cc.delayTime(2),cc.callFunc(function(){for(var t=0;t<n.vectorCardD.length;t++){var e=n.vectorCardD[t];e.node.zIndex=b.zIndexCardD,b.zIndexCardD++;var o=cc.moveTo(.2,u).easing(cc.easeCubicActionInOut()),i=cc.scaleTo(.15,.5),r=cc.spawn(i,o);e.node.runAction(r),u=u.add(cc.v2(.275*b.sizeCardW,0))}b.turnIdCurrent===b.thisPlayer.id&&(b.btnPass.node.active=!0,b.btnDiscard.node.active=!0,b.btnPass.enabled=!0,b.btnDiscard.enabled=!0,b.btnPass.interactable=!0,b.btnDiscard.interactable=!0,b.btnDiscard.node.setPosition(cc.v2(140,b.btnDiscard.node.position.y)),b.lbDiscard.string="\u0110\xe1nh B\xe0i",b.sortCardSelect()),b.aniCardSpecial.node.active=!1})))}else{for(d=0;d<n.vectorCardD.length;d++)(f=n.vectorCardD[d]).node.zIndex=this.zIndexCardD,f.isTouch=!1,this.zIndexCardD++,y=cc.moveTo(.2,u).easing(cc.easeCubicActionInOut()),m=cc.scaleTo(.15,.5),S=cc.spawn(m,y),f.node.runAction(cc.sequence(cc.delayTime(c),S)),c+=.03,u=u.add(cc.v2(.275*this.sizeCardW,0));this.node.runAction(cc.sequence(cc.delayTime(c+.1),cc.callFunc(function(){b.dangPhatBai=!1,n===b.thisPlayer?b.sortCardView():(b.lbNumberCard[l].string=n.numberCard.toString(),0===n.numberCard&&(b.lbNumberCard[l].node.active=!1)),b.turnIdCurrent===b.thisPlayer.id&&(b.btnPass.node.active=!0,b.btnDiscard.node.active=!0,b.btnPass.enabled=!0,b.btnDiscard.enabled=!0,b.btnPass.interactable=!0,b.btnDiscard.interactable=!0,b.btnDiscard.node.setPosition(cc.v2(140,b.btnDiscard.node.position.y)),b.lbDiscard.string="\u0110\xe1nh B\xe0i",b.sortCardSelect())})))}return[2]}})})},e.prototype.onClickTest=function(){this.aniCardSpecial.node.active=!0,this.aniCardSpecial.setAnimation(0,"TU QUY 2",!1)},e.prototype.handlePass=function(t){return s(this,void 0,void 0,function(){var e,n,o,i;return a(this,function(){if(e=JSON.parse(t),(n=this.getPlayerWithId(e.pid))&&n.setTurn(!1,0,!1,null),0!=e.idNext&&this.getPlayerWithId(e.idNext).setTurn(!0,this.timeTurn,!0,null),this.turnIdCurrent=e.idNext,n===this.thisPlayer&&(this.btnPass.node.active=!1,this.btnDiscard.node.active=!1,this.allCardDown()),e.nt){for(this.turnIdCurrent===this.thisPlayer.id&&(cc.log("Tat cai pass di"),this.btnPass.node.active=!1,this.btnDiscard.node.active=!0,this.btnDiscard.enabled=!0,this.btnDiscard.interactable=!0,this.btnDiscard.node.setPosition(cc.v2(0,this.btnDiscard.node.getPosition().y)),this.lbDiscard.string="\u0110\xe1nh B\xe0i"),o=0;o<this.players.length;o++)this.players[o].clearVectorCardD();for(this.lastTurnId=0,this.aniCardSpecial.node.active=!1,o=0;o<this.listSpritePass.length;o++)this.listSpritePass[o].node.active=!1;this.zIndexCardD=60}else this.turnIdCurrent===this.thisPlayer.id&&(this.btnPass.node.active=!0,this.btnDiscard.node.active=!0,this.btnPass.enabled=!0,this.btnDiscard.enabled=!0,this.btnPass.interactable=!0,this.btnDiscard.interactable=!0,this.btnDiscard.node.setPosition(cc.v2(140,this.btnDiscard.node.position.y)),this.lbDiscard.string="\u0110\xe1nh B\xe0i"),(i=this.listSpritePass[n._indexDynamic]).node.active=!0,i.node.setScale(0),i.node.runAction(cc.scaleTo(.2,1));return[2]})})},e.prototype.handleFinish=function(t){return s(this,void 0,void 0,function(){var e,n,o,i,r,s,c,l,u,p,h,d=this;return a(this,function(){for(this.audio.playEffect(this.audio.alert),this.isFinish=!0,e=JSON.parse(t),n=JSON.parse(e.data),cc.log("Handle Finish: ",n),this.listDataPlayerResult=[],this.aniFinish.node.active=!0,this.aniFinish.setAnimation(0,"finish",!1),this.aniCardSpecial.node.active=!1,o=0;o<n.length;o++)if(i=n[o],null!==(r=this.getPlayerWithId(i.playerId))){for(r==this.thisPlayer&&(g.Windown.User.userAg=n[o].ag),r.point=i.score,s={ag:i.ag,point:i.score,typeWin:i.TypeWin,lstDenLang:[],id:i.playerId},this.listDataPlayerResult.push(s),c=i.arr,l=0;l<c.length;l++)null==r.vectorCard[l]&&null==r.vectorCard[l]||r.vectorCard[l].decodeCard(c[l]);if(e.tw>0&&e.wn&&e.idw==i.playerId){for(cc.log("Player Spec:",r.displayName),this.playerSpecail=new S.default,this.playerSpecail.name=r.displayName,this.playerSpecail.info=r.info,this.playerSpecail.typeWin=e.tw,this.playerSpecail.id=r.id,l=0;l<c.length;l++)(u=this.getCard()).decodeCard(c[l]),u.node.setScale(.85),this.playerSpecail.vectorCard.push(u);cc.log("-=--==--=-=-==--=-=--=----=-=--=-==-=>>>>>>> Tienlen win special: "+this.playerSpecail.vectorCard.toString())}}return cc.log("this.playerSpecail=:",this.playerSpecail),this.playerSpecail&&this.node.stopAllActions(),(p=[]).push(cc.delayTime(.5)),p.push(cc.callFunc(function(){d.prepareFinish()})),p.push(cc.delayTime(1)),this.playerSpecail?(p.push(cc.callFunc(function(){d.TienLenCardSpecial()})),p.push(cc.delayTime(2.5)),p.push(cc.callFunc(function(){d.aniWinSpecial.node.parent.active=!1,d.showCard(e)})),p.push(cc.delayTime(2.5))):(p.push(cc.callFunc(function(){d.showCard(e)})),p.push(cc.delayTime(2.5))),p.push(cc.callFunc(function(){d.showExchangeMoney(n)})),p.push(cc.delayTime(4)),p.push(cc.callFunc(function(){d.handleFinishGame()})),h=cc.sequence(p),this.node.runAction(h),[2]})})},e.prototype.getCard=function(){return this.cardPool.size()<1?cc.instantiate(this.cardPrefab).getComponent("CardTL"):this.cardPool.get().getComponent("CardTL")},e.prototype.updatePositionPlayerView=function(){for(var t=0;t<this.players.length;t++){var e=this.getDynamicIndex(this.getIndexOf(this.players[t]));cc.log("index Update Pos: ",e),this.players[t]._indexDynamic=e,this.players[t].node.setPosition(this.listPosView[e])}},e.prototype.getDynamicIndex=function(t){if(0==t)return 0;var e=t;return 2===this.players.length&&e++,e},e.prototype.getIndexOf=function(t){var e=this.getIndexOfPlayer(t),n=this.players.length;return this.thisPlayer&&(n=this.getIndexOfPlayer(this.thisPlayer)),(e+this.players.length-n)%this.players.length},e.prototype.getIndexOfPlayer=function(t){return this.players.indexOf(t)},e.prototype.checkIndexPlayerIsExisted=function(){for(var t=[],e=0;e<this.players.length;e++)this.players[e]._indexDynamic>=0&&this.players[e]._indexDynamic<this.listPosView.length&&t.push(this.players[e]._indexDynamic);var n=[];for(e=0;e<this.listPosView.length;e++)n.push(e);for(e=0;e<n.length;e++)if(!t.includes(e))return cc.log("index fill: ",e),e},e.prototype.getPlayerWithId=function(t){for(var e=0;e<this.players.length;e++)if(t==this.players[e].id)return this.players[e];return null},e.prototype.onClickSortCard=function(){var t=this;this.audio.playEffect(this.audio.click),cc.log("=---=-=-=-=-=-==-=-=-=-=-=-==-=-> Tienlen sort"),this.typeSort=(this.typeSort+1)%3,cc.log("OnClickSort: ",this.typeSort),0===this.typeSort?this.thisPlayer.vectorCard.sort(function(t,e){var n=t.N-e.N;return 0===n&&(n=t.S-e.S),n}):1===this.typeSort?this.thisPlayer.vectorCard.sort(function(t,e){var n=e.N-t.N;return 0===n&&(n=t.S-e.S),n}):this.thisPlayer.vectorCard.sort(function(t,e){var n=t.S-e.S;return 0===n&&(n=t.N-e.N),n}),this.sortCard(),cc.tween(this.node).call(function(){t.btnSort.interactable=!1}).delay(.3).call(function(){t.btnSort.interactable=!0}).start()},e.prototype.sortCard=function(){var t=this,e=Math.round(this.thisPlayer.vectorCard.length/2*-1);this.dangPhatBai=!0,this.numCardSelect=0;for(var n,o=function(t){var o=i.thisPlayer.vectorCard[t];o.node.stopAllActions(),o.node.runAction(cc.scaleTo(.2,.85).easing(cc.easeCubicActionOut())),o.node.zIndex=50+t,o.node.opacity=255,n=i.listPosCard[0].add(cc.v2(.4675*i.sizeCardW*e,0));var r=cc.moveTo(.15,i.listPosCard[0]).easing(cc.easeCubicActionOut()),s=cc.moveTo(.15,n).easing(cc.easeCubicActionOut()),a=cc.sequence(r,s,cc.callFunc(function(){o.isTouch=!0,o.isSelect=!1}));o.node.runAction(a),e++},i=this,r=0;r<this.thisPlayer.vectorCard.length;r++)o(r);this.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){t.dangPhatBai=!1})))},e.prototype.macBookCard=function(t){for(var e=0;e<=this.thisPlayer.vectorCard.length;e++){var n=.85,o=this.thisPlayer.vectorCard[e];e!=t-1&&e!=t+1||(n=1),e!=t-2&&e!=t+2||(n=1),null!=o&&e!=t&&o.node.runAction(cc.scaleTo(.2,n).easing(cc.easeCubicActionOut())),e==t&&o.node.setScale(1.1)}},e.prototype.windowCard=function(){for(var t=0;t<this.thisPlayer.vectorCard.length;t++){var e=this.thisPlayer.vectorCard[t];null!=e&&e.node.runAction(cc.scaleTo(.2,.85).easing(cc.easeCubicActionOut()))}},e.prototype.suggestOnTouch=function(t,e){var n=this.getPlayerWithId(e);if(this.listCardSuggest=[],n){var o=n.vectorCardD,i=o.length,r=this.getTypeCard(o),s=o[i-1];switch(r){case 0:case 1:this.listCardSuggest=this.getlistDoiXam(t,r,s);break;case 2:case 3:this.listCardSuggest=this.getlistSanh(t,r,i,s);break;case 4:if(this.listCardSuggest=this.getTuQuy(t,s),this.listCardSuggest.length>0)break;if(this.listCardSuggest=this.getBonDoiThong(t,s),this.listCardSuggest.length>0)break;this.listCardSuggest=this.getBaDoiThong(t,s),0==this.listCardSuggest.length&&this.listCardSuggest.push(t);break;case 5:if(this.listCardSuggest=this.getBonDoiThong(t,s),this.listCardSuggest.length>0)break;this.listCardSuggest=this.getTuQuy(t,null),0==this.listCardSuggest.length&&this.listCardSuggest.push(t);break;case 6:if(this.listCardSuggest=this.getTuQuy(t,null),this.listCardSuggest.length>0)break;this.listCardSuggest=this.getBaDoiThong(t,s),0==this.listCardSuggest.length&&this.listCardSuggest.push(t);break;case 7:this.listCardSuggest=this.getBonDoiThong(t,s),0==this.listCardSuggest.length&&this.listCardSuggest.push(t);break;case 8:this.listCardSuggest=this.getTuQuy(t,s),0==this.listCardSuggest.length&&this.listCardSuggest.push(t);break;case 9:this.listCardSuggest=this.getHaiDoiThong(t,s),0==this.listCardSuggest.length&&this.listCardSuggest.push(t);break;case-1:this.listCardSuggest.push(t)}}},e.prototype.getTypeCard=function(t){return v.default.checkDoiTL(t)?0:v.default.checkXamTL(t)?1:v.default.ckeckThungPhaSanhTL(t)?3:v.default.checkSanhTL(t)?2:v.default.checkHaiTL(t)?4:v.default.checkDoiHaiTL(t)?5:v.default.check3DoiThongTL(t)?6:v.default.check4DoiThongTL(t)?7:v.default.checkTuQuy(t)?8:-1},e.prototype.getlistDoiXam=function(t,e,n){var o=this.thisPlayer.vectorCard.slice();o.sort(function(t,e){var n=t.S-e.S;return 0===n&&(n=t.N-e.N),n});var i=[],r=1,s=0;if(i.push(t),t.N<n.N&&2!==t.N)return i;if(t.N>n.N&&2===n.N)return i;for(var a=0;a<o.length;a++){if(o[a].N===t.N&&o[a].code!==t.code&&(i.push(o[a]),r++),0===e&&2===r){if(t.N==n.N&&n.N>5)for(var c=0;c<i.length;c++)i[c].S<n.S&&s++;break}if(1===e&&3===r)break}return(0===e&&r<2||1===e&&r<3||2===s)&&(i=[]).push(t),i},e.prototype.getTuQuy=function(t,e){var n=this.thisPlayer.vectorCard.slice(),o=this.findTuQuy(n);console.log("GetTuQuy: ",o);for(var i=[],r=0;r<o.length;r++)for(var s=0;s<o[r].length;s++)if(null!=e){if(o[r][s].N==t.N&&o[r][s].N>e.N){i=o[r];break}}else if(o[r][s].N==t.N){i=o[r];break}return i},e.prototype.getHaiDoiThong=function(t,e){var n=this.thisPlayer.vectorCard.slice(),o=this.findTwoPairs(n);console.log("GetTwoPairs: ",o);for(var i=[],r=0;r<o.length;r++)if(o[r].includes(t)&&o[r][o[r].length-1].N>e.N){i=o[r];break}return i},e.prototype.getBaDoiThong=function(t,e){var n=this.thisPlayer.vectorCard.slice(),o=this.findThreePairs(n);console.log("GetThreePairs: ",o);for(var i=[],r=0;r<o.length;r++)if(o[r].includes(t)&&o[r][o[r].length-1].N>e.N){i=o[r];break}return i},e.prototype.getBonDoiThong=function(t,e){var n=this.thisPlayer.vectorCard.slice(),o=this.findFourPairs(n);console.log("GetFourPairs: ",o);for(var i=[],r=0;r<o.length;r++)if(o[r].includes(t)&&o[r][o[r].length-1].N>e.N){i=o[r];break}return i},e.prototype.getlistSanh=function(t,e,n,o){var i=this.thisPlayer.vectorCard.slice();i.sort(function(t,e){var n=t.N-e.N;return 0===n&&(n=t.S-e.S),n});var r=[],s=1,a=1,c=null;r.push(t);for(var l=0;l<i.length&&(i[l].S===t.S&&i[l].N===t.N+s&&(r.push(i[l]),s++),s!==n);l++);if(s!==n)for(i.sort(function(t,e){var n=e.N-t.N;return 0===n&&(n=t.S-e.S),n}),l=0;l<i.length;l++)if(i[l].N===t.N-a&&i[l].S===t.S&&(r.push(i[l]),a++),a+s-1===n){r.sort(function(t,e){return t.N-e.N});break}if(2===e&&(r.length!==n||r[n-1].N<o.N||r[n-1].N===o.N&&r[n-1].S<o.S&&o.N>5)){for((r=[]).push(t),s=1,a=1,c=null,i.sort(function(t,e){var n=t.N-e.N;return 0===n&&(n=t.S-e.S),n}),l=0;l<i.length;l++)if(i[l].N===t.N+s&&(r.push(i[l]),s++),s===n){c=i[l];for(var u=l+1;u<i.length;u++)i[u].N===c.N&&i[u].S>c.S&&(c=i[u],r.pop(),r.push(c));break}if(s!==n)for(i.sort(function(t,e){var n=e.N-t.N;return 0===n&&(n=t.S-e.S),n}),l=0;l<i.length&&(i[l].N===t.N-a&&(r.push(i[l]),a++),a+s-1!==n);l++);if(r.length===n)for(r.sort(function(t,e){return t.N-e.N}),c=r[n-1],l=0;l<i.length;l++)i[l].N===c.N&&i[l].S>c.S&&(c=i[l],r.pop(),r.push(c))}return r.length!==n?(r=[]).push(t):(r.sort(function(t,e){return t.N-e.N}),(r[n-1].N<o.N||r[n-1].N===o.N&&r[n-1].S<o.S&&o.N>5)&&(r=[]).push(t)),r},e.prototype.findContainsTwoCardSelected=function(t,e,n){var o=[];cc.log("card1:",e),cc.log("card2:",n);for(var i=0;i<t.length;i++)if(t[i].includes(e)&&t[i].includes(n)&&e!==n)return t[i].slice();return o},e.prototype.findThreeCards=function(t){var e=[],n=c(t);if(e.sort(function(t,e){return t.N-e.N}),!v.default.checkXam(t))return e;t.sort(function(t,e){return t.N-e.N});for(var o=n.length-1;o>1;o--){var i=[];n[o].N==n[o-2].N&&(i.push(n[o],n[o-1],n[o-2]),e.push(i))}return e},e.prototype.findFourPairs=function(t){var e=[],n=[],o=[];if(t.length<8)return[];t.sort(function(t,e){return t.N-e.N});for(var i=0;i<t.length-2;i++){var r=t.slice(i,i+3);v.default.checkXam(r)&&(n.push(r),t=t.slice(0,i).concat(t.slice(i+1,t.length).concat(r[0])),o.push(r[0]))}for(i=0;i<t.length-7;i++)r=t.slice(i,i+8),v.default.check4DoiThongTL(r)&&e.push(r);for(var s=0;s<o.length;s++)for(i=0;i<e.length;i++)for(var a=e[i].slice(),c=0;c<a.length;c++)if(a[c].N==o[s].N&&a[c].S!=o[s].S){a[c]=o[s],e.push(a);break}return e},e.prototype.findThreePairs=function(t){var e=[],n=[],o=[];if(t.length<6)return[];t.sort(function(t,e){return t.N-e.N});for(var i=0;i<t.length-2;i++){var r=t.slice(i,i+3);v.default.checkXam(r)&&(n.push(r),t=t.slice(0,i).concat(t.slice(i+1,t.length).concat(r[0])),o.push(r[0]))}for(i=0;i<t.length-5;i++)r=t.slice(i,i+6),v.default.check3DoiThongTL(r)&&e.push(r);for(var s=0;s<o.length;s++)for(i=0;i<e.length;i++)for(var a=e[i].slice(),c=0;c<a.length;c++)if(a[c].N==o[s].N&&a[c].S!=o[s].S){a[c]=o[s],e.push(a);break}return e},e.prototype.findTwoPairs=function(t){var e=[],n=[],o=[];if(t.length<4)return[];t.sort(function(t,e){return t.N-e.N});for(var i=0;i<t.length-2;i++){var r=t.slice(i,i+3);v.default.checkXam(r)&&(n.push(r),t=t.slice(0,i).concat(t.slice(i+1,t.length).concat(r[0])),o.push(r[0]))}for(i=0;i<t.length-3;i++)r=t.slice(i,i+4),console.log("GetTwoPairs: ",v.default.check2DoiThongTL(r)),console.log("GetTwoPairs: ",r),v.default.check2DoiThongTL(r)&&e.push(r);for(var s=0;s<o.length;s++)for(i=0;i<e.length;i++)for(var a=e[i].slice(),c=0;c<a.length;c++)if(a[c].N==o[s].N&&a[c].S!=o[s].S){a[c]=o[s],e.push(a);break}return console.log("GetTwoPairs: ",e),e},e.prototype.findTuQuy=function(t){var e=c(t),n=[];if(!v.default.checkTuQuy(e))return n;e.sort(function(t,e){return t.N-e.N});for(var o=e.length-1;o>2;o--){var i=[];e[o].N===e[o-3].N&&(console.log("check tuquy: ",e),i.push(e[o]),i.push(e[o-1]),i.push(e[o-2]),i.push(e[o-3]),n.push(i))}return console.log("check tuquy2: ",n),n},e.prototype.findStraightCard=function(t){t.sort(function(t,e){var n=t.N-e.N;return 0===n&&(n=t.S-e.S),n});var e=[],n=0,o=[];console.log("SameN sort:  ",t);for(var i=0;i<t.length-1;i++)t[i].N==t[i+1].N&&2!==t[i].N&&(o.includes(t[i+1].N)||o.push(t[i+1]));for(;n<t.length-1;){var r=[],s=0;if(2!=t[n].N){for(r.push(t[n]),i=n+1;i<t.length;i++)t[n].N!=t[i].N&&(r.push(t[i]),this.checkStraightCard(r)||r.pop());r.length>=3&&(e.push(r),s=r.length),n+s<t.length-3&&s>0?n+=s:n++}else n++}console.log("SameN: ",o),console.log("SameN Result: ",e);for(var a=0;a<o.length;a++)for(i=0;i<e.length;i++)for(var c=e[i].slice(),l=0;l<c.length;l++)if(c[l].N==o[a].N&&c[l].S!=o[a].S){c[l]=o[a],e.push(c);break}return console.log("SameN Result2: ",e),e},e.prototype.checkStraightCard=function(t){for(var e=0;e<t.length-1;e++)if(t[e].N+1!=t[e+1].N)return!1;return!0},e.prototype.onClickPass=function(){g.Windown.TienLen.audio.playClick(),this.sendPass(),this.allCardDown()},e.prototype.onClickBeat=function(){g.Windown.TienLen.audio.playClick();for(var t=[],e=0;e<this.thisPlayer.vectorCard.length;e++)this.thisPlayer.vectorCard[e].isSelect&&(cc.log("-=-==--=-=-=-=-=-==---=-=-=->>>>>>>>> Tienlen: "+this.thisPlayer.vectorCard[e].nameCard),t.push(this.thisPlayer.vectorCard[e].code));cc.log("-=-==--=-=-=-=-=-==---=-=-=->>>>>>>>> Tienlen size: "+t.length),this.sendDc(t)},e.prototype.allCardDown=function(){if(!(this.thisPlayer.vectorCard.length<1)&&this.isAllowClickDownAllCard)for(var t=this.listPosCard[0],e=0;e<this.thisPlayer.vectorCard.length;e++){var n=this.thisPlayer.vectorCard[e],o=n.node.position.x;n.node.stopAllActions(),n.node.runAction(cc.scaleTo(.4,.85).easing(cc.easeCubicActionOut())),n.node.runAction(cc.moveTo(.2,cc.v2(o,t.y)).easing(cc.easeCubicActionOut())),n.isSelect=!1,this.numCardSelect=0}},e.prototype.sendDc=function(t){var e=f.ConectManager.getIns().getSFSObj();if(e.putInt("pid",this.thisPlayer.id),e.putIntArray("arr",t),this.sfsObjTest=e,null!=this.sfsObjTest)return f.ConectManager.getIns().sendRequest("dc",this.sfsObjTest,this.roomSFS),cc.log("send dc:",e),void(this.sfsObjTest=null)},e.prototype.sendPass=function(){var t=f.ConectManager.getIns().getSFSObj();if(t.putInt("pid",this.thisPlayer.id),this.sfsObjTest=t,null!=this.sfsObjTest)return f.ConectManager.getIns().sendRequest("pa",this.sfsObjTest,this.roomSFS),cc.log("send pa:",t),this.sfsObjTest=null,void this.thisPlayer.setTurn(!1,0,!1,null)},e.prototype.showSpecialCard=function(t,e,n){t.zIndex=1e3,t.runAction(cc.sequence(cc.delayTime(n),cc.spawn(cc.scaleTo(.15,.01,1.2),cc.skewTo(.15,0,-15)),cc.callFunc(function(){t.skewY=15,t.getComponent("CardTL").setTextureWithCode(e)}),cc.spawn(cc.scaleTo(.15,1.2),cc.skewTo(.15,0,0)),cc.delayTime(.1),cc.scaleTo(.2,1).easing(cc.easeCubicActionIn()),cc.delayTime(.2)))},e.prototype.showBlackCover=function(){},e.prototype.hideBlackCover=function(){},e.prototype.prepareFinish=function(){this.bgHint.node.active=!1,this.btnSort.node.active=!1,this.btnPass.node.active=!1,this.btnDiscard.node.active=!1,this.isAllowClickDownAllCard=!1,this.turnIdCurrent=0,this.lastTurnId=0;for(var t=0;t<this.lbNumberCard.length;t++)this.lbNumberCard[t].node.active=!1;for(t=0;t<this.listSpritePass.length;t++)this.listSpritePass[t].node.active=!1;for(t=0;t<this.players.length;t++){for(var e=this.players[t],n=e.vectorCard.length,o=0;o<n;o++){var i=e.vectorCard[o];i.node.active=!1,i.isTouch=!1}e.clearVectorCardD()}},e.prototype.TienLenCardSpecial=function(){var t=this;cc.log("!> tien len card special"),this.aniFinish.node.active=!1,g.Windown.updateAvatar(g.Windown.ObjToSFSObj(this.playerSpecail.info),this.avtSpecial),this.playerSpecail.vectorCard.sort(function(t,e){var n=t.N-e.N;return 0===n&&(n=t.S-e.S),n});var e=cc.v2(0,-170);e=e.sub(cc.v2(2.805*this.sizeCardW,0));for(var n=0;n<this.playerSpecail.vectorCard.length;n++){var o=this.playerSpecail.vectorCard[n];cc.log("=---==-=--=-=-==-=--==--=>>> Tienlen, card xxxx: ",e),this.node.addChild(o.node),o.setTextureWithCode(o.code),o.node.setPosition(e.x,e.y),o.node.zIndex=300+n,e=e.add(cc.v2(.4675*this.sizeCardW,0))}switch(this.aniWinSpecial.node.active=!0,this.aniWinSpecial.node.parent.active=!0,this.aniWinSpecial.node.zIndex=999,this.lbNameWin.string=this.playerSpecail.name,this.aniWinSpecial.setAnimation(0,"animation",!1),this.playerSpecail.typeWin){case 1:this.sprWinSpectical.spriteFrame=this.listSprTextWinSpectical[0];break;case 2:this.sprWinSpectical.spriteFrame=this.listSprTextWinSpectical[1];break;case 3:this.sprWinSpectical.spriteFrame=this.listSprTextWinSpectical[2];break;case 4:this.sprWinSpectical.spriteFrame=this.listSprTextWinSpectical[3];break;case 5:this.sprWinSpectical.spriteFrame=this.listSprTextWinSpectical[4];break;case 6:this.sprWinSpectical.spriteFrame=this.listSprTextWinSpectical[5]}this.sprWinSpectical.node.active=!1,setTimeout(function(){t.sprWinSpectical.node.active=!0},500)},e.prototype.showCard=function(t){this.aniWinSpecial.node.active=!0,this.aniFinish.node.active=!1,this.playerSpecail&&(this.playerSpecail.clearAllCard(),this.playerSpecail=null);for(var e=0;e<this.players.length;e++){var n=this.players[e],o=n.vectorCard.length,i=n._indexDynamic,r=this.listPosCard[i];if(!(0===o||n.typeWin>0)){cc.log("Show point:",n.point),this.listBgScore[i].node.active=!0,this.listLbScore[i].string=""+n.point,0===i?r=r.sub(cc.v2(.4675*this.sizeCardW*o/2,0)):1!==i&&2!==i||(r=r.sub(cc.v2(.225*this.sizeCardW*(o-1),0)));for(var s=0;s<o;s++){var a=n.vectorCard[s];if(a.node.zIndex=50+s,a.node.active=!0,a.setTextureWithCode(a.code),a.node.setPosition(r),n===this.thisPlayer){var c=r.add(cc.v2(this.sizeCardW*s*.4675+20,0));a.node.setScale(.85)}else c=r.add(cc.v2(this.sizeCardW*s*.225,0));a.node.runAction(cc.moveTo(.2,c).easing(cc.easeCubicActionInOut()))}13===o&&(cc.log("tienlenSpecial: ",n.id+" || 0"),n.id!=t.idw&&(this.aniChayBai[i].node.active=!0,this.aniChayBai[i].setAnimation(0,"animation",!0)))}}},e.prototype.showExchangeMoney=function(t){for(var e=this,n=0;n<this.players.length;n++)this.players[n].clearAllCard();for(n=0;n<this.listBgScore.length;n++)this.listBgScore[n].node.active=!1,this.aniChayBai[n].node.active=!1;for(n=0;n<t.length;n++){var o=this.getPlayerWithId(t[n].playerId);if(t[n].ag-o.ag<0){cc.log("Chip lose: ",t[n].ag-o.ag),o===this.thisPlayer&&this.audio.playEffect(this.audio.Lose),this.audio.playEffect(this.audio.nemxu),o.showEffectWinLose(-1),o.effectFlyMoney(t[n].ag-o.ag,25),o.updateAg(t[n].ag);for(var i=0,r=0;r<10;r++){var s=new cc.Node;s.addComponent(cc.Sprite),s.getComponent(cc.Sprite).spriteFrame=this.icon_chips,this.node.addChild(s),this.vtChipFinish.push(s),s.setPosition(o.node.getPosition());var a=cc.v2(0,0),c=Math.floor(80*Math.random())-40,l=Math.floor(80*Math.random())-40;a=a.add(cc.v2(c,l));var u=cc.moveTo(.25,a).easing(cc.easeCubicActionInOut()),p=cc.delayTime(i);s.runAction(cc.sequence(p,u)),i+=.075}}}this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){for(var n=0;n<t.length;n++){var o=e.getPlayerWithId(t[n].playerId);if(t[n].ag-o.ag>0){cc.log("Chip win: ",t[n].ag-o.ag),e.audio.playEffect(e.audio.nemxu),o===e.thisPlayer&&e.audio.playEffect(e.audio.Win),o.showEffectWinLose(1),o.effectFlyMoney(t[n].ag-o.ag),o.updateAg(t[n].ag);for(var i=0,r=0;r<e.vtChipFinish.length;r++){var s=e.vtChipFinish[r],a=cc.moveTo(.25,o.node.getPosition()).easing(cc.easeCubicActionInOut()),c=cc.fadeTo(.05,0),l=cc.delayTime(i);s.runAction(cc.sequence(l,a,c,cc.callFunc(function(){s.active=!1}))),i+=.05}}}})))},e.prototype.handleFinishGame=function(){for(var t=0;t<this.players.length;t++)this.players[t].clearAllCard();for(var e=0;e<this.vtChipFinish.length;e++)this.vtChipFinish[e].destroy();this.vtChipFinish=[];for(var n=0;n<this.vtChipDenLang.length;n++)this.vtChipDenLang[n].destroy();this.vtChipDenLang=[],this.aniFinish.node.active=!1,this.unscheduleAllCallbacks()},e.prototype.onClickMenuInGame=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return g.Windown.TienLen.audio.playClick(),[4,g.Windown.getPrefabRes(u.PathResource.MenuIngame)];case 1:return t=e.sent(),this.node.addChild(cc.instantiate(t),999),[2]}})})},e.prototype.onClickQuickChat=function(){return s(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:return g.Windown.TienLen.audio.playClick(),[4,g.Windown.getPrefabRes(u.PathResource.QuickChat)];case 1:return t=n.sent(),e=cc.instantiate(t),this.node.addChild(e,999),[2]}})})},e.prototype.handleChat=function(t){var e=JSON.parse(t),n=this.getPlayerWithId(e.id);this.createChat(n.node,e)},e.prototype.sendAutoExit=function(){var t=f.ConectManager.getIns().getSFSObj();if(this.sfsObjTest=t,null!=this.sfsObjTest)return f.ConectManager.getIns().sendRequest("autoExit",this.sfsObjTest,this.roomSFS),this.sfsObjTest=null,void cc.log("send autoExit")},e.prototype.handleChatI=function(t){var e=this,n=JSON.parse(t),o=this.getPlayerWithId(n.idt),i=this.getPlayerWithId(n.id),r=n.idItem,s=null,a=null;switch(r){case 0:s=this.thisPlayer.listAnimItems[0],a=this.thisPlayer.listSprItems[0];break;case 1:s=this.thisPlayer.listAnimItems[1],a=this.thisPlayer.listSprItems[1];break;case 2:s=this.thisPlayer.listAnimItems[2],a=this.thisPlayer.listSprItems[2];break;case 3:s=this.thisPlayer.listAnimItems[3],a=this.thisPlayer.listSprItems[3];break;case 4:s=this.thisPlayer.listAnimItems[4],a=this.thisPlayer.listSprItems[4]}var c=i.node.getPosition();if(o==i)for(var l=function(t){if(u.players[t]!=i){var n=u.players[t].node.getPosition();cc.tween(u.players[t].node).call(function(){e.effectItem(a,s,n,c,null)}).start()}},u=this,p=0;p<this.players.length;p++)l(p);else{var h=o.node.getPosition();cc.tween(o.node).call(function(){e.effectItem(a,s,h,c,null)}).start()}},e.prototype.effectItem=function(t,e,n,o,i){var r=this,s=this.createSprite(t),a=this.createAnimation(e);this.node.addChild(s.node,999),this.node.addChild(a.node,999),a.node.active=!1,s.node.setPosition(o),a.node.setPosition(n),cc.tween(s.node).to(.5,{position:n}).delay(.1).call(function(){s.destroy()}).start(),cc.tween(a.node).delay(.5).call(function(){a.node.active=!0,a.setAnimation(0,"animation",!1),r.audio.playEffect(i)}).delay(2).call(function(){a.node.destroy()}).start()},e.prototype.createAnimation=function(t){var e=new cc.Node("anim").addComponent(sp.Skeleton);return e.premultipliedAlpha=!1,e.skeletonData=t,e},e.prototype.createSprite=function(t){var e=new cc.Node("spr").addComponent(cc.Sprite);return e.spriteFrame=t,e},e.prototype.createChat=function(t,e){return s(this,void 0,void 0,function(){var n,o;return a(this,function(i){switch(i.label){case 0:return[4,g.Windown.getPrefabRes(u.PathResource.BubbleChat)];case 1:return n=i.sent(),(o=cc.instantiate(n)).getComponent("BubbleChat").initChat(e),t.addChild(o,99),[2]}})})},e.prototype.onClickRule=function(){g.Windown.TienLen.audio.playClick()},e.prototype.sendGetInfoRoomReconnect=function(){var t=f.ConectManager.getIns().getSFSObj();if(this.sfsObjTest=t,null!=this.sfsObjTest)return f.ConectManager.getIns().sendRequest("infoRoomTL",this.sfsObjTest,this.roomSFS),this.sfsObjTest=null,void cc.log("send infoRoom")},e.prototype.cleanGame=function(){this.node.stopAllActions(),this.cleanTable(),this.unscheduleAllCallbacks();for(var t=0;t<this.players.length;t++)this.players[t].cleanPlayerView(),this.players[t].node.destroy();this.players=[]},e.prototype.cleanTable=function(){for(var t=0;t<this.players.length;t++)this.players[t].clearAllCard();for(t=0;t<4;t++)this.lbNumberCard[t].node.active=!1,this.aniChayBai[t].node.active=!1,this.listBgScore[t].node.active=!1;this.btnPass.node.active=!1,this.btnDiscard.node.active=!1,this.bgHint.node.active=!1,this.aniCardSpecial.node.active=!1,this.aniFinish.node.active=!1,this.aniStartGame.node.active=!1,this.typeSort=2,this.isAllowClickDownAllCard=!1},r([_(cc.Sprite)],e.prototype,"bkgSprite",void 0),r([_(cc.Label)],e.prototype,"lbInfo",void 0),r([_([cc.Vec2])],e.prototype,"listPosView",void 0),r([_([cc.Vec2])],e.prototype,"listPosCard",void 0),r([_([cc.Vec2])],e.prototype,"listPosCardDanh",void 0),r([_(cc.Button)],e.prototype,"btnMenu",void 0),r([_(cc.Button)],e.prototype,"btnQuickChat",void 0),r([_(cc.Button)],e.prototype,"btnPass",void 0),r([_(cc.Button)],e.prototype,"btnDiscard",void 0),r([_(cc.Label)],e.prototype,"lbDiscard",void 0),r([_(cc.Button)],e.prototype,"btnSort",void 0),r([_(cc.Label)],e.prototype,"lbTimeStart",void 0),r([_([cc.Label])],e.prototype,"lbNumberCard",void 0),r([_([cc.Sprite])],e.prototype,"listSpritePass",void 0),r([_([cc.Sprite])],e.prototype,"listBgScore",void 0),r([_([cc.Label])],e.prototype,"listLbScore",void 0),r([_(cc.Sprite)],e.prototype,"bgHint",void 0),r([_(cc.Label)],e.prototype,"lbHint",void 0),r([_(cc.Node)],e.prototype,"timerControl",void 0),r([_({visible:!1,type:[cc.Node]})],e.prototype,"vtChipFinish",void 0),r([_({visible:!1,type:[cc.Node]})],e.prototype,"vtChipDenLang",void 0),r([_(sp.Skeleton)],e.prototype,"aniCardSpecial",void 0),r([_(sp.Skeleton)],e.prototype,"aniWinSpecial",void 0),r([_(sp.Skeleton)],e.prototype,"aniStartGame",void 0),r([_(sp.Skeleton)],e.prototype,"aniFinish",void 0),r([_([sp.Skeleton])],e.prototype,"aniChayBai",void 0),r([_(cc.Label)],e.prototype,"lbNameWin",void 0),r([_(cc.Sprite)],e.prototype,"avtSpecial",void 0),r([_(cc.Sprite)],e.prototype,"sprWinSpectical",void 0),r([_([cc.SpriteFrame])],e.prototype,"listSprTextWinSpectical",void 0),r([_(cc.SpriteFrame)],e.prototype,"icon_chips",void 0),r([_(cc.Prefab)],e.prototype,"prefabsPlayerView",void 0),r([_(cc.Prefab)],e.prototype,"cardPrefab",void 0),r([_(m.default)],e.prototype,"audio",void 0),r([w],e)}(cc.Component);n.default=C,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../../Scritps/DefineTs/PathResource":"PathResource","../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Other/MakeDelay":"MakeDelay","../../../Scritps/Windown":"Windown","./AudioTL":"AudioTL","./LogicManagerTL":"LogicManagerTL","./PlayerViewTL":"PlayerViewTL"}],TietKiem:[function(t,e,n){"use strict";cc._RF.push(e,"be8b59p8SVCkrl4x8NhdYcT","TietKiem");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../DefineTs/REQUEST_CODE"),l=t("../../Network/ConectManager"),u=t("../../Obs/LbMoneyChange"),p=t("../../Windown"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spineDice1=null,e.spineDice2=null,e.spineDice3=null,e.spineBox=null,e.spineLight=null,e.sprDice1=null,e.sprDice2=null,e.sprDice3=null,e.nodeHuongDan=null,e.lbCurrent=null,e.lbBaseTichLuy=null,e.lbRefundToday=null,e.lbRefundTomorow=null,e.lbBonus=null,e.lbTotal=null,e.spProgress=null,e.listSprDice=[],e.nodeIconPiggky=null,e.btnReceive=null,e.btnReceiveHoanTra=null,e.tabTichLuy=null,e.tabHoanTra=null,e.cur=0,e.max=999,e}return i(e,t),e.prototype.onLoad=function(){p.Windown.TietKiem=this},e.prototype.onDisable=function(){cc.systemEvent.targetOff(this),this.lbBaseTichLuy.node.active=this.lbBonus.node.active=this.lbTotal.node.active=!1,this.spineDice1.node.active=this.spineDice2.node.active=this.spineDice3.node.active=!1,this.spineBox.setAnimation(0,"normal",!1)},e.prototype.show=function(){cc.systemEvent.on(c.REQUEST_CODE.GetTietKiem,this.response,this),cc.systemEvent.on(c.REQUEST_CODE.TakeTietKiem,this.responseTake,this),cc.systemEvent.on(c.REQUEST_CODE.GetHoanTra,this.responseGetHoanTra,this),cc.systemEvent.on(c.REQUEST_CODE.TakeHoanTra,this.responseTakeHoanTra,this),l.ConectManager.getIns().sendRequest(c.REQUEST_CODE.GetTietKiem,null),l.ConectManager.getIns().sendRequest(c.REQUEST_CODE.GetHoanTra,null),p.Windown.actionEffectOpen(this.node)},e.prototype.onClickTakeHoanTra=function(){l.ConectManager.getIns().sendRequest(c.REQUEST_CODE.TakeHoanTra,null),p.Windown.UIManager.showLoading()},e.prototype.onClickTab=function(t,e){this.tabHoanTra.active=1==e,this.tabTichLuy.active=0==e},e.prototype.responseTakeHoanTra=function(t){p.Windown.UIManager.hideLoading(),cc.log("HoanTra:",p.Windown.SFSObjToJson(t));var e="";t.containsKey("message")&&(e=t.getUtfString("message")),t.containsKey("errorMessage")&&(e=t.getUtfString("errorMessage")),p.Windown.Dialog.showDialog(e)},e.prototype.responseGetHoanTra=function(t){cc.log("HoanTra:",p.Windown.SFSObjToJson(t)),this.lbRefundToday.string=p.Windown.formatNumber(t.getInt("mnday")),this.lbRefundTomorow.string=p.Windown.formatNumber(t.getInt("mntor")),this.btnReceiveHoanTra.interactable=!t.getBool("status"),this.btnReceiveHoanTra.getComponentInChildren(cc.Label).string=t.getBool("status")?"\u0110\xe3 nh\u1eadn":"Nh\u1eadn"},e.prototype.response=function(t){cc.log("TietKiem:",p.Windown.SFSObjToJson(t));var e=t.getInt("cr"),n=t.getInt("m");this.lbCurrent.setMoneyNoTime(e),this.spProgress.fillRange=e/n,this.cur=e,this.max=n,e>=n?(this.btnReceive.interactable=!0,this.btnReceive.node.color=cc.Color.WHITE):(this.btnReceive.interactable=!0,this.nodeIconPiggky.active=!1,this.btnReceive.node.color=cc.Color.GRAY),cc.log("nhay vao respinse ne")},e.prototype.setDiceResult=function(t,e,n){var o=this;this.spineDice1.node.active=this.spineDice2.node.active=this.spineDice3.node.active=!0,this.spineBox.setAnimation(0,"ban",!1),this.spineDice1.setAnimation(0,"1_"+t[0],!1),this.spineDice2.setAnimation(0,"2_"+t[1],!1),this.spineDice3.setAnimation(0,"3_"+t[2],!1),this.sprDice1.play("randomSprite1"),this.sprDice2.play("randomSprite2"),this.sprDice3.play("randomSprite3"),this.spineDice1.setCompleteListener(function(){o.sprDice1.stop("randomSprite1"),o.sprDice1.getComponent(cc.Sprite).spriteFrame=o.listSprDice[t[0]-1]}),this.spineDice2.setCompleteListener(function(){o.sprDice2.stop("randomSprite2"),o.sprDice2.getComponent(cc.Sprite).spriteFrame=o.listSprDice[t[1]-1]}),this.spineDice3.setCompleteListener(function(){o.sprDice3.stop("randomSprite3"),o.sprDice3.getComponent(cc.Sprite).spriteFrame=o.listSprDice[t[2]-1],o.setEffectResult(e,n)})},e.prototype.responseTake=function(t){return s(this,void 0,void 0,function(){var e,n,o,i,r,s;return a(this,function(a){switch(a.label){case 0:return cc.log("responseTake:",p.Windown.SFSObjToJson(t)),p.Windown.Dialog.checkAndShowLog(t),e=t.getInt("mt"),n=t.get("mcr"),o=t.getInt("m"),i=t.get("agMiniWin"),this.lbBaseTichLuy.string=p.Windown.formatNumber(o),this.lbBonus.string=p.Windown.formatNumber(i),this.lbTotal.string=p.Windown.formatNumber(i+o),this.cur=0,this.max=o,this.spProgress.fillRange=0,r=JSON.parse(t.get("viewMini")),(s=p.Windown.AudioManager).playEffect(s.takeMoney),this.nodeIconPiggky.active=!1,this.setDiceResult(r,n,e),[4,this.makeDelay(1)];case 1:return a.sent(),[2]}})})},e.prototype.activeSpineLight=function(t){this.spineLight.node.active=!0,this.spineLight.setAnimation(0,"animation",!1),this.spineLight.node.position=t},e.prototype.setEffectResult=function(t,e){return s(this,void 0,void 0,function(){var n,o;return a(this,function(i){switch(i.label){case 0:return this.lbBaseTichLuy.node.active=!0,n=.5,(o=cc.tween().parallel(cc.tween().set({scale:2.5,opacity:0}).to(n,{scale:1,opacity:255},{easing:cc.easing.sineOut}),cc.tween().set({angle:400}).by(n,{angle:-400}))).clone(this.lbBaseTichLuy.node).start(),[4,p.Windown.makeDelay(n)];case 1:return i.sent(),this.activeSpineLight(this.lbBaseTichLuy.node.position),this.lbBonus.node.active=!0,o.clone(this.lbBonus.node).start(),[4,p.Windown.makeDelay(n)];case 2:return i.sent(),this.activeSpineLight(this.lbBonus.node.position),this.lbTotal.node.active=!0,o.clone(this.lbTotal.node).start(),[4,p.Windown.makeDelay(n)];case 3:return i.sent(),this.activeSpineLight(this.lbTotal.node.position),[4,p.Windown.makeDelay(.5)];case 4:return i.sent(),[4,p.Windown.UIManager.getNodeEffectTextCoin()];case 5:return[4,i.sent().show(t,cc.v2(190,-290),e)];case 6:return i.sent(),this.lbCurrent.setMoney(0),[2]}})})},e.prototype.makeDelay=function(t){var e=this;return new Promise(function(n){e.scheduleOnce(n,t)})},e.prototype.onClickNhan=function(){l.ConectManager.getIns().sendRequest(c.REQUEST_CODE.TakeTietKiem,null),p.Windown.UIManager.showLoading()},e.prototype.onClickClose=function(){var t=this;p.Windown.actionEffectClose(this.node,function(){t.node.parent=null})},e.prototype.runEffectTakeMoney=function(){},e.prototype.onClickHuongDan=function(){this.nodeHuongDan.active?this.nodeHuongDan.active=!1:this.nodeHuongDan.active=!0},r([f(sp.Skeleton)],e.prototype,"spineDice1",void 0),r([f(sp.Skeleton)],e.prototype,"spineDice2",void 0),r([f(sp.Skeleton)],e.prototype,"spineDice3",void 0),r([f(sp.Skeleton)],e.prototype,"spineBox",void 0),r([f(sp.Skeleton)],e.prototype,"spineLight",void 0),r([f(cc.Animation)],e.prototype,"sprDice1",void 0),r([f(cc.Animation)],e.prototype,"sprDice2",void 0),r([f(cc.Animation)],e.prototype,"sprDice3",void 0),r([f(cc.Node)],e.prototype,"nodeHuongDan",void 0),r([f(u.default)],e.prototype,"lbCurrent",void 0),r([f(cc.Label)],e.prototype,"lbBaseTichLuy",void 0),r([f(cc.Label)],e.prototype,"lbRefundToday",void 0),r([f(cc.Label)],e.prototype,"lbRefundTomorow",void 0),r([f(cc.Label)],e.prototype,"lbBonus",void 0),r([f(cc.Label)],e.prototype,"lbTotal",void 0),r([f(cc.Sprite)],e.prototype,"spProgress",void 0),r([f([cc.SpriteFrame])],e.prototype,"listSprDice",void 0),r([f(cc.Node)],e.prototype,"nodeIconPiggky",void 0),r([f(cc.Button)],e.prototype,"btnReceive",void 0),r([f(cc.Button)],e.prototype,"btnReceiveHoanTra",void 0),r([f(cc.Node)],e.prototype,"tabTichLuy",void 0),r([f(cc.Node)],e.prototype,"tabHoanTra",void 0),r([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../Network/ConectManager":"ConectManager","../../Obs/LbMoneyChange":"LbMoneyChange","../../Windown":"Windown"}],TimeOut:[function(t,e,n){"use strict";cc._RF.push(e,"89425WWN5NNbq4G6EQ0ePty","TimeOut");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbInfo=null,e.lbTime=null,e.funCD=null,e}return i(e,t),e.prototype.show=function(t){var e=this;this.node.active=!0,this.lbInfo.string=t,this.unschedule(this.funCD);var n=10;this.lbTime.string=n.toString(),this.schedule(this.funCD=function(){n--,e.lbTime.string=n.toString(),n<0&&e.onClickClose()},1)},e.prototype.onClickClose=function(){var t=this;this.unschedule(this.funCD),s.Windown.actionEffectClose(this.node,function(){t.node.active=!1})},r([l(cc.Label)],e.prototype,"lbInfo",void 0),r([l(cc.Label)],e.prototype,"lbTime",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],TopTaiXiu:[function(t,e,n){"use strict";cc._RF.push(e,"c1c17E3ypRP6bi2UeaRmXpr","TopTaiXiu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/Windown"),c=t("./ItemTopTx"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e}return i(e,t),e.prototype.start=function(){a.Windown.TaiXiu.sendRequest(s.REQUEST_CODE.TXtopGame,null)},e.prototype.responseServer=function(t){for(var e=t.getSFSArray("data"),n=this.parentItem.children,o=0,i=cc.misc.clampf(e.size(),0,this.parentItem.childrenCount);o<i;o++){var r=e.getSFSObject(o),s=n[o];s.active=!0,s.getComponent(c.default).initItem(r)}for(o=cc.misc.clampf(e.size(),0,this.parentItem.childrenCount);o<n.length;o++)n[o].active=!1},e.prototype.onClickClose=function(){a.Windown.TaiXiu&&(a.Windown.TaiXiu.top=null),this.node.destroy()},r([p(cc.Node)],e.prototype,"parentItem",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/Windown":"Windown","./ItemTopTx":"ItemTopTx"}],TopThang:[function(t,e,n){"use strict";cc._RF.push(e,"94384eh1ZtOdaaD3zKKCiqd","TopThang");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../Windown"),a=t("./ItemRankMonth"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.top3Item=[],e.infoMe=null,e.isShow=!1,e}return i(e,t),e.prototype.reset=function(){this.isShow=!1;for(var t=0,e=this.top3Item.length;t<e;t++)this.top3Item[t].node.active=!1;this.content.children.forEach(function(t){t.active=!1})},e.prototype.emitNewData=function(){var t=s.Windown.XepHang.dataMonth;if(!this.isShow&&t){var e=t.getSFSArray("Items"),n=this.content.children,o=n[0],i=e.size()-3*o.height;this.content.height=i>0?i:0;for(var r=-o.height/2,c=0,l=e.size();c<l;c++){var u=e.getSFSObject(c);if(u.putInt("index",c+1),c<3)this.top3Item[c].node.active=!0,this.top3Item[c].initItem(u),cc.Tween.stopAllByTarget(this.top3Item[c].node),this.top3Item[c].node.scale=0,cc.tween(this.top3Item[c].node).delay(.15*c).to(.3,{scale:1},{easing:"backOut"}).start();else{var p=n[c-3];null==p&&((p=cc.instantiate(o)).parent=this.content),p.getComponent(a.default).initItem(u),p.active=!0,p.y=r,r-=o.height,cc.Tween.stopAllByTarget(p),p.scale=0,cc.tween(p).delay(.15*c).to(.3,{scale:1},{easing:"backOut"}).start()}}var h=t.getSFSObject("InfoMe");if(h){var d=t.getLong("RankMe");h.putInt("index",d),this.infoMe.initItem(h)}else this.infoMe.node.active=!1;this.isShow=!0}},r([u(cc.Node)],e.prototype,"content",void 0),r([u(a.default)],e.prototype,"top3Item",void 0),r([u(a.default)],e.prototype,"infoMe",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Windown":"Windown","./ItemRankMonth":"ItemRankMonth"}],TopTuan:[function(t,e,n){"use strict";cc._RF.push(e,"121c66uGQlJLqrOYxPsK98H","TopTuan");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../Windown"),a=t("./ItemRankWeek"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.top3Item=[],e.infoMe=null,e.itemNormal=null,e.isShow=!1,e}return i(e,t),e.prototype.reset=function(){this.isShow=!1;for(var t=0,e=this.top3Item.length;t<e;t++)this.top3Item[t].node.active=!1;this.content.children.forEach(function(t){t.active=!1})},e.prototype.emitNewData=function(){var t=s.Windown.XepHang.dataWeek;if(!this.isShow&&t){var e=t.getSFSArray("Items"),n=this.content.children,o=n[3],i=e.size()-3*o.height;this.content.height=i>0?i:0;for(var r=-o.height/2,c=0,l=e.size();c<l;c++){var u=e.getSFSObject(c);if(u.putInt("index",c+1),c<3)this.top3Item[c].node.active=!0,this.top3Item[c].initItem(u),cc.Tween.stopAllByTarget(this.top3Item[c].node),this.top3Item[c].node.scaleY=0,cc.tween(this.top3Item[c].node).delay(.11*c).to(.3,{scaleY:1},{easing:"backOut"}).start();else{var p=n[c];null==p&&((p=cc.instantiate(o)).parent=this.content),p.getComponent(a.default).initItem(u),p.active=!0,p.y=r,r-=o.height,cc.Tween.stopAllByTarget(p),p.scaleY=0,cc.tween(p).delay(.1*c).to(.3,{scaleY:1},{easing:"backOut"}).start()}}var h=t.getSFSObject("InfoMe");if(h){var d=t.getLong("RankMe");h.putInt("index",d),this.infoMe.initItem(h)}else this.infoMe.node.active=!1;this.isShow=!0}},r([u(cc.Node)],e.prototype,"content",void 0),r([u(a.default)],e.prototype,"top3Item",void 0),r([u(a.default)],e.prototype,"infoMe",void 0),r([u(cc.Node)],e.prototype,"itemNormal",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Windown":"Windown","./ItemRankWeek":"ItemRankWeek"}],TransferSportView:[function(t,e,n){"use strict";cc._RF.push(e,"76af5YrfoZBAoDagANafq7A","TransferSportView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/TextDefine"),a=t("../../Network/ConectManager"),c=t("../../Windown"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbGameBalance=null,e.lbSportBalance=null,e.edbTrans=null,e.currentTab=0,e}return i(e,t),e.prototype.onLoad=function(){c.Windown.TransferSport=this},e.prototype.onEnable=function(){},e.prototype.show=function(){c.Windown.actionEffectOpenPopup(this.node),this.getInfoJoinBong()},e.prototype.getInfoJoinBong=function(){a.ConectManager.getIns().sendRequestToCallback("jointBong2",null,this.responeJointBong.bind(this)),cc.log("getInfoJoinBong")},e.prototype.responeMakeTrans=function(t){var e=this;cc.log("responeTest",c.Windown.SFSObjToJson(t)),c.Windown.UIManager.showLoading(),c.Windown.Dialog.showDialog(t.getUtfString("message")),this.scheduleOnce(function(){a.ConectManager.getIns().sendRequestToCallback("jointBong2",null,e.responeJointBong.bind(e))},1)},e.prototype.responeJointBong=function(t){c.Windown.UIManager.hideLoading(),cc.log("responeJointBong",c.Windown.SFSObjToJson(t)),this.lbGameBalance.string=c.Windown.formatNumber(t.getLong("agGame")),this.lbSportBalance.string=c.Windown.formatNumber(t.getDouble("agTheThao"))},e.prototype.onClickClose=function(){var t=this;c.Windown.actionEffectClosePopup(this.node,function(){t.node.parent=null})},e.prototype.onClickLaunchBong=function(){c.Windown.UIManager.showLoading(),a.ConectManager.getIns().sendRequestToCallback("lauchBong",null,this.responeLauchBong.bind(this))},e.prototype.responeLauchBong=function(t){c.Windown.UIManager.hideLoading(),cc.log("responeLauchBong",c.Windown.SFSObjToJson(t)),this.onClickClose(),""!=t.getUtfString("gameUrl")?(cc.sys.openURL(t.getUtfString("gameUrl")),this.onClickClose()):c.Windown.UIManager.showAlertMini(s.TextDefine.Error)},e.prototype.onClickTabTrans=function(t,e){this.currentTab=parseInt(e),parseInt(e)},e.prototype.onClickConfirmTrans=function(){if(""!=this.edbTrans.string.trim()){var t=c.Windown.splitToInt(this.edbTrans.string),e=a.ConectManager.getIns().getSFSObj();e.putInt("type",this.currentTab),e.putDouble("agTran",t),a.ConectManager.getIns().sendRequestToCallback("makeTranfer",e,this.responeMakeTrans.bind(this)),c.Windown.UIManager.showLoading()}else c.Windown.UIManager.showAlertMini(s.TextDefine.NullValueTrans)},r([p(cc.Label)],e.prototype,"lbGameBalance",void 0),r([p(cc.Label)],e.prototype,"lbSportBalance",void 0),r([p(cc.EditBox)],e.prototype,"edbTrans",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../DefineTs/TextDefine":"TextDefine","../../Network/ConectManager":"ConectManager","../../Windown":"Windown"}],TruTienView:[function(t,e,n){"use strict";cc._RF.push(e,"02783TjNEREkYHpGX19BtoY","TruTienView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/EVENT_MANAGER"),l=t("../../../Scritps/DefineTs/PlayerPP"),u=t("../../../Scritps/DefineTs/REQUEST_CODE"),p=t("../../../Scritps/DefineTs/TextDefine"),h=t("../../../Scritps/Game/GAME_TYPE"),d=t("../../../Scritps/Network/ConectManager"),f=t("../../../Scritps/Obs/JackpotItem"),y=t("../../../Scritps/Obs/LbMoneyChange"),g=t("../../../Scritps/Util"),m=t("../../../Scritps/Windown"),v=t("./AssetTruTien"),S=t("./AudioTruTien"),b=t("./EffectTruTien"),w=t("./ItemSlotTruTien"),_=t("./LichSuTruTien"),C=cc._decorator,T=C.ccclass,I=C.property,W=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.asset=null,e.parentItem=null,e.parentLine=null,e.lbJackpot=null,e.labelChipReviceInBox=null,e.effect=null,e.lb_totalBet=null,e.lb_Mn_Per_Line=null,e.lb_totalWin=null,e.lb_Mutil=null,e.spWin=null,e.lb_freeSpinLeft=null,e.toggleAutoSpin=null,e.toggleMaxSpeed=null,e.toggleMusic=null,e.btnSpin=null,e.bangThuong=null,e.cachChoi=null,e.contentTip=null,e.listSpContentTip=[],e.parentMutil=null,e.parentEffMain=null,e.spineEffMain=null,e.spineCharacter=null,e.nodeBtnPlay=null,e.nodeBtnSeting=null,e.popupLichSu=null,e.nodeTest=null,e.audio=null,e.bkgSprite=null,e.isShowBtnPlay=!0,e.stateGame=0,e.listColum=[],e.listNodeItem=[],e.totalLineBet=50,e.curRoomBet=20,e.gameType=null,e.dataFinish=null,e.listPromises=[],e.listFunShowOceLine=[],e.curTimeRemain=0,e.isMaxSpeed=!1,e.vectorCacheLbMoneyLost=cc.v2(20,-10),e.isAutoSpin=!1,e.isAutoSpinCache=!1,e.freeSpinLeft=0,e.lastFreeSpinLeft=0,e.moneyTotalFs=0,e.isFreeSpin=!1,e.isStopColun=!1,e.helpPopup=null,e.funDelaySpin=null,e.funShowOnceLine=null,e.funNextAllWin=null,e.sfs=null,e.roomSFS=null,e.listConfigBet=[],e.listResult=[],e.listIdLineAn=[],e.sfsObjTest=null,e.listConfigLine=[[1,1,1,1,1],[0,0,0,0,0],[2,2,2,2,2],[0,1,2,1,0],[2,1,0,1,2],[0,0,1,0,0],[2,2,1,2,2],[1,2,2,2,1],[1,0,0,0,1],[0,1,1,1,0],[2,1,1,1,2],[0,1,0,1,0],[2,1,2,1,2],[1,0,1,0,1],[1,2,1,2,1],[1,1,0,1,1],[1,1,2,1,1],[0,2,0,2,0],[2,0,2,0,2],[1,0,2,0,1],[1,2,0,2,1],[0,0,2,0,0],[2,2,0,2,2],[0,2,2,2,0],[2,0,0,0,2],[0,2,1,2,0],[2,0,1,0,2],[0,0,1,2,2],[2,2,1,0,0],[1,0,1,2,1],[1,2,1,0,1],[0,2,1,0,2],[2,0,1,2,0],[1,0,2,1,0],[1,2,0,1,2],[0,1,2,0,1],[2,1,0,2,1],[0,0,0,1,2],[2,2,2,1,0],[1,1,1,0,2],[1,1,1,2,0],[0,2,0,1,0],[2,0,2,1,2],[1,0,1,2,0],[2,1,2,0,2],[0,0,2,1,2],[2,2,0,1,0],[0,1,1,1,2],[2,1,1,1,0],[1,0,0,1,2]],e}return i(e,t),e.prototype.onClickTest=function(){0==this.stateGame?this.runSpin():this.stopSpin()},e.prototype.onLoad=function(){m.Windown.TruTien=this,this.gameType=h.default.TruTien,this.stateGame=0,this.sfs=d.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(c.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),this.sendJoinRoom()},e.prototype.start=function(){var t=this;this.initItem(),this.lb_totalBet.string=m.Windown.formatNumber(this.totalLineBet*this.curRoomBet),this.setupView(),this.showContentTip(),this.setupTextMutil(),this.setUpNodeMutil(1),this.setStateEffBtnSpin(),m.Windown.AudioManager.isActiveSound&&m.Windown.AudioManager.isActiveMusic?(this.toggleMusic.isChecked=!0,this.toggleMusic.checkMark.node.active=!0,this.toggleMusic.node.children[0].active=!1):(this.toggleMusic.isChecked=!1,this.toggleMusic.checkMark.node.active=!1,this.toggleMusic.node.children[0].active=!0),this.schedule(function(){t.contentTip.spriteFrame=t.listSpContentTip[m.Windown.RandomNumber(0,t.listSpContentTip.length)]},5)},e.prototype.userExitRoom=function(t){if("TruTien"==t.room.groupId&&t.user.isItMe)return cc.log("user exit room tru tien"),void cc.director.loadScene("main")},e.prototype.onCreateError=function(){cc.log("creat errr"),m.Windown.UIManager.hideLoading(),cc.director.loadScene("main"),m.Windown.Dialog.showLog(p.TextDefine.ERR_JOIN_ROOM)},e.prototype.onJoinRoom=function(t){cc.log("onJoinRoom ");var e=t.room;if("TruTien"==e.groupId){this.roomSFS=e,m.Windown.UIManager.hideLoadingData();var n=e.getVariable("cf").value,o=[],i=JSON.parse(n);for(var r in i){var s=Object.create(null);s.bet=parseInt(r),s.perJp=i[r].percentPot/100,o.push(s)}o.sort(function(t,e){return t.bet-e.bet}),this.listConfigBet=o,this.lbJackpot.reset(),this.lbJackpot.changePer(o[0].perJp),cc.log(JSON.stringify(o))}},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),m.Windown.UIManager.hideLoading(),m.Windown.UIManager.hideLoadingData(),m.Windown.Dialog.showLog(p.TextDefine.ERR_JOIN_ROOM),cc.director.loadScene("main")},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(e){case u.REQUEST_CODE.SpinTruTien:cc.log(m.Windown.SFSObjToJson(n)),this.handleFinish(n);break;case u.REQUEST_CODE.HistoryTruTien:this.popupLichSu.responseServer(n)}},e.prototype.onDisconnect=function(){cc.log("disconnect"),m.Windown.UIManager.hideLoading(),m.Windown.UIManager.hideLoadingData(),cc.director.loadScene("main")},e.prototype.sendJoinRoom=function(){try{var t=d.ConectManager.getIns().getValibleRoomName(),e=new SFS2X.RoomSettings(t),n=new SFS2X.RoomExtension("TruTienExtension","ext.Room.SlotTruTien.SlotGameView");e.extension=n,e.isGame=!0,e.maxUsers=1,e.groupId="TruTien",this.sfs.send(new SFS2X.CreateRoomRequest(e,!0))}catch(o){cc.error(o),this.onDisconnect()}},e.prototype.onDestroy=function(){cc.log("chay me vao ondestroy"),m.Windown.TruTien=null,this.dataFinish&&(m.Windown.MoneyUser.removeDelay(this.gameType),this.dataFinish=null),this.unscheduleAllCallbacks(),m.Windown.MoneyUser.endGameMOney(this.gameType),cc.systemEvent.removeAll(this),this.roomSFS=null,this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),m.Windown.UIManager.changeRotation()},e.prototype.setupView=function(){var t=cc.find("Game",this.node);if(cc.sys.isMobile)e=1280/720;else{var e=cc.view.getDesignResolutionSize().height/1280;t.setScale(e,e,e),this.bkgSprite.setContentSize(cc.winSize),m.Windown.UIManager.changeRotation(!0)}},e.prototype.initItem=function(){for(var t=this.parentItem.children[0],e=0;e<5;e++){var n=this.parentItem.children[e];null==n&&((n=cc.instantiate(t)).parent=this.parentItem);var o=n.getComponent(w.default);this.listColum.push(o),o.randomFirtGame(),o.node.x=o.node.width*e+o.node.width/2,o.node.y=0}},e.prototype.onClickSpin=function(){0==this.stateGame?this.runSpin():2==this.stateGame?this.forceStopSpin():4==this.stateGame||3==this.stateGame&&(this.audio.playClick(),this.resetForNewGame())},e.prototype.checkStateFreeSpin=function(){cc.log("this.freeSpinLeft: "+this.freeSpinLeft),this.lb_freeSpinLeft.string=(this.freeSpinLeft-1).toString(),this.isFreeSpin?(this.lb_freeSpinLeft.node.parent.active=!0,this.toggleAutoSpin.interactable=!1,this.isAutoSpin||(this.toggleAutoSpin.isChecked=!0,this.toggleAutoSpin.checkMark.node.active=!0,this.isAutoSpin=!0)):(this.lb_freeSpinLeft.string=(this.freeSpinLeft-1).toString(),this.freeSpinLeft<1&&(this.lb_freeSpinLeft.node.parent.active=!1,this.isFreeSpin=!1,this.toggleAutoSpin.interactable=!0,!this.isAutoSpinCache&&this.toggleAutoSpin.isChecked&&this.toggleAutoSpin.uncheck()))},e.prototype.handleFinish=function(t){var e=this,n=this.isMaxSpeed?1.4:1;return t.containsKey(l.PlayerPP.ERR_MESSAGE)?(this.stopColum(),m.Windown.Dialog.showLog(t.get(l.PlayerPP.ERR_MESSAGE)),void(this.isAutoSpin&&this.toggleAutoSpin.uncheck())):t.containsKey("agUser")&&t.containsKey("agBet")&&t.containsKey("views")&&t.containsKey("agWin")?(this.dataFinish=t,m.Windown.MoneyUser.pushDelayMoney(this.gameType,this.dataFinish.get("agUser"),this.dataFinish.get("agWin")),void(null!=this.dataFinish&&(this.truTienBet(this.dataFinish.get("agBet")*this.totalLineBet,this.dataFinish.get("agUser")),this.scheduleOnce(this.funDelaySpin=function(){if(null!=e.dataFinish){e.listResult=JSON.parse(e.dataFinish.get("views")),e.getAllLineItem(),e.setResult(),e.setUpShowOceLineWin(),e.stateGame=2;var t=e.isMaxSpeed?.1:.5;e.scheduleOnce(e.stopSpin,t),e.isFreeSpin=e.dataFinish.getBool("isScarter"),e.freeSpinLeft>0&&!e.isFreeSpin?e.moneyTotalFs+=e.dataFinish.getLong("agWin"):e.moneyTotalFs=0}},.7/n)))):(this.stopColum(),m.Windown.Dialog.showLog(p.TextDefine.Error),void(this.isAutoSpin&&this.toggleAutoSpin.uncheck()))},e.prototype.convertSlotId=function(t){var e=t.split(","),n=[],o=e.length;if(e[0]>100)for(var i=0;i<o;i++)e[i]<=103?e[i]=e[i]%100:e[i]=e[i]%100+1;for(var r=0;r<o;r++)for(;r<5;r++){for(var s=[],a=r;a<o;a+=5)s.push(parseInt(e[a]));n.push(s)}return n},e.prototype.setResult=function(){var t=this,e=0;this.listResult.forEach(function(n){t.listColum[e].setResult(n),e++}),this.freeSpinLeft=this.dataFinish.get("numFreeSpin")},e.prototype.sendClickSpin=function(){if(null!=this.sfsObjTest)return d.ConectManager.getIns().sendRequest("testSpin",this.sfsObjTest,this.roomSFS),void(this.sfsObjTest=null);var t=d.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),d.ConectManager.getIns().sendRequest(u.REQUEST_CODE.SpinTruTien,t,this.roomSFS)},e.prototype.setUpNodeMutil=function(t){var e=this.parentMutil.children;e.forEach(function(t){t.getComponent(sp.Skeleton).setAnimation(0,"orb_grey",!0),t.children[0].color=cc.Color.GRAY,t.children[0].getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite"))});var n=this.getIndexByMutil(t);if(-1!=n){var o="x"+(n+1),i="orb_"+o+"_appear",r="orb_"+o+"_in",s="orb_"+o,a=e[n].getComponent(sp.Skeleton);a.setAnimation(0,i,!1),a.addAnimation(0,r,!1),a.addAnimation(0,s,!0);var c=a.node.children[0];c.color=cc.Color.WHITE,c.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),c.stopAllActions(),c.runAction(cc.sequence(cc.scaleTo(.3,1.2),cc.scaleTo(.3,1)));var l=this.parentEffMain;l.children.forEach(function(t){t.stopAllActions(),t.runAction(cc.fadeOut(1))});var u="ef_"+(n+1);if(this.spineEffMain.setAnimation(0,u,!0),l.children[n].runAction(cc.fadeIn(1)),this.freeSpinLeft>0){var p="dark_active"+(n+1);this.spineCharacter.setAnimation(0,p,!1),this.spineCharacter.addAnimation(0,"dark_idle",!0),this.audio.playNextMutilFS(n)}else p="main_active"+n,this.spineCharacter.setAnimation(0,p,!1),n>=3?this.spineCharacter.addAnimation(0,"dark_idle",!0):this.spineCharacter.addAnimation(0,"main_idle",!0),this.audio.playNextMutilNormal(n)}},e.prototype.resetMutilWin=function(){var t=this.parentMutil.children;if(!this.dataFinish||this.dataFinish.get("rankNow")!=this.dataFinish.get("rankWin")||this.isFreeSpin){var e=this.parentEffMain;if(e.children.forEach(function(t){t.stopAllActions(),t.runAction(cc.fadeOut(1))}),this.spineEffMain.setAnimation(0,"ef_1",!0),e.children[0].runAction(cc.fadeIn(1)),t.forEach(function(t){t.getComponent(sp.Skeleton).setAnimation(0,"orb_grey",!0),t.children[0].color=cc.Color.GRAY,t.children[0].getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite"))}),this.freeSpinLeft>0)this.spineCharacter.setAnimation(0,"dark_idle",!0);else{var n=t[0].getComponent(sp.Skeleton);this.spineCharacter.setAnimation(0,"main_idle",!0),n.setAnimation(0,"orb_x1_appear",!1),n.addAnimation(0,"orb_x1_in",!1),n.addAnimation(0,"orb_x1",!0);var o=n.node.children[0];o.color=cc.Color.WHITE,o.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),o.stopAllActions(),o.runAction(cc.sequence(cc.scaleTo(.3,1.2),cc.scaleTo(.3,1)))}}},e.prototype.getIndexByMutil=function(t){if(cc.log("gia tri free spine: "+this.freeSpinLeft+"---"+t),this.freeSpinLeft>0)switch(t){case 3:return 0;case 6:return 1;case 9:return 2;case 20:return 3}else switch(t){case 1:return 0;case 2:return 1;case 3:return 2;case 5:return 3}return-1},e.prototype.setupTextMutil=function(){var t=this,e=this.parentMutil.children,n=0;this.freeSpinLeft>0?(this.spineCharacter.setAnimation(0,"main_transform_dark",!1),this.spineCharacter.addAnimation(0,"dark_idle",!0),e.forEach(function(e){e.children[0].getComponent(cc.Sprite).spriteFrame=t.asset.listSpMutilFS[n],n++})):(this.spineCharacter.setAnimation(0,"dark_transform_main",!1),this.spineCharacter.addAnimation(0,"main_idle",!0),this.spineCharacter.addAnimation(0,"dark_idle",!0),e.forEach(function(e){e.children[0].getComponent(cc.Sprite).spriteFrame=t.asset.listSpMutilNormal[n],n++}))},e.prototype.showContentTip=function(){this.contentTip.node.active=!0,this.lb_totalWin.node.active=!1},e.prototype.offContentTip=function(){this.contentTip.node.active=!1},e.prototype.setStateEffBtnSpin=function(){var t=this.btnSpin.node.children[0].getComponent(sp.Skeleton),e=this.btnSpin.node.children[1];if(4!=this.stateGame){var n=cc.Material.getBuiltinMaterial("2d-sprite");e.getComponent(cc.Sprite).setMaterial(0,n)}if(0==this.stateGame||3==this.stateGame)t.setAnimation(0,"normal",!0),e.children[0].active=!1,e.runAction(cc.repeatForever(cc.rotateBy(3,-360)));else if(1==this.stateGame)this.audio.playEffect(this.audio.clickBtnSpin),t.setAnimation(0,"tap",!1),e.stopAllActions(),e.runAction(cc.repeatForever(cc.rotateBy(.3,-360))),e.children[0].active=!0;else if(4==this.stateGame){e.stopAllActions(),t.setAnimation(0,"disappear",!0),e.children[0].active=!1;var o=cc.Material.getBuiltinMaterial("2d-gray-sprite");e.getComponent(cc.Sprite).setMaterial(0,o)}},e.prototype.runSpin=function(){return s(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:n.trys.push([0,5,,6]),this.stateGame=1,this.setStateEffBtnSpin(),this.sendClickSpin(),t=0,n.label=1;case 1:return t<this.listColum.length?(this.listColum[t].runSpin(),this.isMaxSpeed?[3,3]:[4,this.makeDelay(.1)]):[3,4];case 2:n.sent(),n.label=3;case 3:return t++,[3,1];case 4:return[3,6];case 5:return e=n.sent(),g.Util.ThrowErrProsime(e),[3,6];case 6:return[2]}})})},e.prototype.stopSpin=function(){this.stopColum()},e.prototype.forceStopSpin=function(){return s(this,void 0,void 0,function(){var t,e,n;return a(this,function(o){switch(o.label){case 0:for(o.trys.push([0,2,,3]),this.unschedule(this.stopSpin),this.stateGame=4,this.listPromises=[],t=0,e=this.listColum;t<e.length;t++)e[t].forceStopSpin(!1);return[4,this.makeDelay(.25)];case 1:return o.sent(),this.handleStopAllColum(),[3,3];case 2:return n=o.sent(),g.Util.ThrowErrProsime(n),[3,3];case 3:return[2]}})})},e.prototype.checkAndShowEffect=function(){var t=this;if(null!=this.dataFinish){var e=this.dataFinish.getBool("isTakeJP"),n=this.dataFinish.getBool("isScarter"),o=function(n){e?t.effect.showJackpot(n):n()},i=function(e){n?t.effect.showFreeSpin(e):e()};this.showWild(function(){t.showAllLineWin(function(){o(function(){var n;n=function(){i(function(){var e;e=function(){t.showOnceLine()},1==t.lastFreeSpinLeft&&t.freeSpinLeft<1?(t.effect.showTtMnFs(t.moneyTotalFs,e),t.moneyTotalFs=0):e(),t.lastFreeSpinLeft=t.freeSpinLeft})},e?n():t.effect.showBigWin(n)})})})}else this.stateGame=0},e.prototype.handleStopAllColum=function(){cc.log("handle stop colum"),this.stateGame=4,this.checkAndShowEffect(),this.setStateEffBtnSpin()},e.prototype.stopColum=function(){return s(this,void 0,void 0,function(){var t,e,n,o,i,r;return a(this,function(s){switch(s.label){case 0:s.trys.push([0,9,,10]),t=this.getListActiveScaster(),e=0,n=0,o=this.listColum,s.label=1;case 1:return n<o.length?(i=o[n],this.isMaxSpeed?[3,3]:[4,i.stopSpin(t[e])]):[3,6];case 2:return s.sent(),[3,4];case 3:i.stopSpin(t[e]),s.label=4;case 4:e++,s.label=5;case 5:return n++,[3,1];case 6:return this.isMaxSpeed?[4,this.makeDelay(.25)]:[3,8];case 7:s.sent(),s.label=8;case 8:return this.handleStopAllColum(),[3,10];case 9:return r=s.sent(),g.Util.ThrowErrProsime(r),[3,10];case 10:return[2]}})})},e.prototype.setUpShowOceLineWin=function(){var t=this;this.listFunShowOceLine=[],this.listIdLineAn.length<1||this.listIdLineAn.forEach(function(e){var n=e.listItem;t.listFunShowOceLine.push(function(){t.offMoneyReviceSpin(!0),t.offAllLineWin(),t.lb_Mn_Per_Line.string=m.Windown.formatNumber(e.money),t.lb_Mn_Per_Line.node.active=!0,t.lb_Mn_Per_Line.node.stopAllActions(),t.lb_Mn_Per_Line.node.opacity=255,t.lb_Mn_Per_Line.node.runAction(cc.fadeOut(1.4).easing(cc.easeSineIn()));for(var o=0,i=n.length;o<i;o++)t.listColum[o].activeItem([n[o]])})})},e.prototype.showOnceLine=function(){var t=this;cc.log("chay vao show onceline ne");var e=0;if(this.checkStateFreeSpin(),this.listFunShowOceLine.length<1)this.isMaxSpeed?this.scheduleOnce(function(){t.stateGame=3,t.setStateEffBtnSpin(),t.resetMutilWin(),t.showContentTip(),t.resetForNewGame(),t.labelChipReviceInBox.setMoney(0)},.5):(this.stateGame=3,this.setStateEffBtnSpin(),this.resetMutilWin(),this.showContentTip(),this.resetForNewGame(),this.labelChipReviceInBox.setMoney(0));else{var n=this.dataFinish.get("rankNow")>1?1.5:0;this.showMoneyReviceSpin(),this.scheduleOnce(function(){t.stateGame=3,t.setStateEffBtnSpin()},n),this.isAutoSpin?this.scheduleOnce(this.resetForNewGame,1+n):this.schedule(this.funShowOnceLine=function(){var n=t.listFunShowOceLine[e%t.listFunShowOceLine.length];n&&n(),e++},1.5)}},e.prototype.getListActiveScaster=function(){for(var t=[],e=this.listResult,n=0,o=0;o<e.length;o++)e[o].includes(8)&&n++,4==o&&n>2?t.push(!0):t.push(!1);return t},e.prototype.truTienBet=function(t,e){0!=t&&m.Windown.MoneyUser.subMoney(t,e)},e.prototype.showMoneyReviceSpin=function(){return s(this,void 0,void 0,function(){var t,e,n,o,i,r,s=this;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,5,,6]),t=this.dataFinish.getLong("agWin"),e=this.dataFinish.getInt("rankNow"),n=this.dataFinish.getInt("rankWin"),this.isMaxSpeed?this.labelChipReviceInBox.time=.25:this.labelChipReviceInBox.time=.5,t>0?(o=this.getIndexByMutil(e),cc.log("indexLbMutil: "+o),i=null,o>-1&&(i=this.parentMutil.children[o].children[0]),this.offContentTip(),this.lb_totalWin.node.active=!0,1==e?[3,2]:(this.audio.playEffect(this.audio.showMoneyFirt),this.lb_totalWin.string="#"+t/e,this.labelChipReviceInBox.setMoney(t/e),this.spWin.setAnimation(0,"win",!1),this.lb_Mutil.string="x"+e,this.lb_Mutil.node.opacity=0,this.lb_Mutil.node.stopAllActions(),this.lb_Mutil.node.runAction(cc.sequence(cc.delayTime(.75),cc.fadeIn(0),cc.callFunc(function(){s.audio.playEffect(s.audio.mutilAppear)}),cc.scaleTo(.35,1.2),cc.spawn(cc.scaleTo(.35,1),cc.fadeOut(.35).easing(cc.easeCubicActionIn())))),i&&(i.stopAllActions(),i.runAction(cc.sequence(cc.delayTime(.75),cc.scaleTo(.35,1.2),cc.scaleTo(.35,1)))),[4,this.makeDelay(1.5)])):[3,4];case 1:return a.sent(),this.lb_totalWin.string="^"+t,this.spWin.setAnimation(0,"total_win",!1),this.labelChipReviceInBox.setMoney(t),this.addMoneyUser(t),[3,3];case 2:this.lb_totalWin.string="^"+t,this.spWin.setAnimation(0,"total_win",!1),this.labelChipReviceInBox.setMoney(t),this.addMoneyUser(t),a.label=3;case 3:this.audio.playEffect(this.audio.showMoneyFinal),this.isFreeSpin||this.setUpNodeMutil(n),a.label=4;case 4:return[3,6];case 5:return r=a.sent(),g.Util.ThrowErrProsime(r),[3,6];case 6:return[2]}})})},e.prototype.showTotalMoneyFree=function(t){this.labelChipReviceInBox.setMoney(t),this.lb_totalWin.string="^"+t,this.offContentTip(),this.lb_totalWin.node.active=!0},e.prototype.offMoneyReviceSpin=function(t){void 0===t&&(t=!1),t||this.labelChipReviceInBox.resetLb()},e.prototype.addMoneyUser=function(){m.Windown.MoneyUser.removeDelay(this.gameType)},e.prototype.showWild=function(t){t()},e.prototype.showAllLineWin=function(t){if(this.funNextAllWin=t,this.listIdLineAn.length<1)t();else{this.scheduleOnce(t,1),this.audio.playEffect(this.audio.showwAllLine),this.dataFinish.get("isTakeJP")&&this.audio.playEffect(this.audio.xuatHien3IconJP);for(var e=[],n=(this.dataFinish.getLong("agWin"),function(t){var n=e[t];null==n&&(n=[],e[t]=n),o.listIdLineAn.forEach(function(e){var o=e.listItem[t];null==o||n.includes(o)||n.push(o)})}),o=this,i=0;i<5;i++)n(i);var r=0;this.listColum.forEach(function(t){t.activeItem(e[r],!0),r++})}},e.prototype.getAllLineItem=function(){this.listIdLineAn=[];var t=this.dataFinish.getSFSArray("listLineWin");if(!(t.size()<1)){for(var e=0,n=t.size();e<n;e++){var o=t.getSFSObject(e),i=o.get("id"),r=o.get("agWinLine"),s=Object.create(null);s.id=i,s.money=r,s.listItem=this.getListActiveByIdLine(i,this.listResult),this.listIdLineAn.push(s)}cc.log(JSON.stringify(this.listIdLineAn))}},e.prototype.getListActiveByIdLine=function(t,e){for(var n=[],o=this.getIdItemByIdLine(t,e),i=this.listConfigLine[t-1].slice(),r=0;r<5;r++){var s=e[r][i[r]];if(7!=s&&s!=o)break;n.push(i[r])}return n},e.prototype.getIdItemByIdLine=function(t,e){for(var n=this.listConfigLine[t-1].slice(),o=0,i=n.length;o<i;o++){var r=e[o][n[o]];if(7!=r)return r}return cc.error("loi get id Line"),-1},e.prototype.offAllLineWin=function(){this.lb_Mn_Per_Line.node.active=!1,this.listColum.forEach(function(t){t.offAllItem()})},e.prototype.effectShowItemWithBonusGame=function(){cc.find("bkg",this.node).runAction(cc.fadeIn(.2))},e.prototype.resetForNewGame=function(){var t=this;cc.log("chay vao reset new game "),this.dataFinish=null,this.stateGame=0,this.isStopColun=!1,this.unschedule(this.funNextAllWin),this.unschedule(this.funShowOnceLine),this.unschedule(this.resetForNewGame),this.lb_Mn_Per_Line.node.active=!1,this.listColum.forEach(function(t){t.reset()}),this.isAutoSpin?(this.scheduleOnce(function(){t.offMoneyReviceSpin(!0)},.5),this.onClickSpin()):this.offMoneyReviceSpin()},e.prototype.onClickChooseLine=function(){},e.prototype.setTxtChooseLine=function(){},e.prototype.onClickChooseRoom=function(t,e){if(this.audio.playClick(),this.listConfigBet.length<1&&m.Windown.Dialog.showLog(p.TextDefine.Error),cc.log("click onClickChooseRoom"),!(this.freeSpinLeft>0))if(this.freeSpinLeft>0)m.Windown.Dialog.showLog(p.TextDefine.ERR_CHANGE_BET_FS);else if(this.isAutoSpin&&!this.isFreeSpin&&this.toggleAutoSpin.uncheck(),3!=this.stateGame){if(0==this.stateGame){var n=-1;for(var o in this.listConfigBet)if(this.listConfigBet[o].bet==this.curRoomBet){n=parseInt(o);break}0==e?n--:n++,n<0&&(n=this.listConfigBet.length-1),n>this.listConfigBet.length-1&&(n=0),this.curRoomBet=this.listConfigBet[n].bet,this.lb_totalBet.string=m.Windown.formatNumber(this.totalLineBet*this.curRoomBet),this.lbJackpot.changePer(this.listConfigBet[n].perJp),this.resetMutilWin()}}else this.resetForNewGame()},e.prototype.onClickBackToLobby=function(){this.audio.playClick(),cc.log("click onClickBackToLobby"),this.freeSpinLeft>0||(this.roomSFS?d.ConectManager.getIns().sendLeaveRoom(this.roomSFS):cc.director.loadScene("main"))},e.prototype.onClickSeting=function(){if(this.audio.playClick(),cc.log("click onClickSeting"),!(this.freeSpinLeft>0))if(this.isShowBtnPlay=!this.isShowBtnPlay,this.isShowBtnPlay)t=cc.v2(0,-732.036),this.nodeBtnPlay.runAction(cc.fadeIn(.4)),this.nodeBtnSeting.runAction(cc.spawn(cc.fadeOut(.3),cc.moveTo(.3,t)));else{this.nodeBtnPlay.stopAllActions(),this.nodeBtnSeting.stopAllActions();var t=cc.v2(0,-557.727);this.nodeBtnPlay.runAction(cc.fadeOut(.3)),this.nodeBtnSeting.runAction(cc.spawn(cc.fadeIn(.4),cc.moveTo(.4,t)))}},e.prototype.onClickAutoSpin=function(){this.audio.playClick(),cc.log("click onClickAutoSpin"),this.freeSpinLeft>0||(this.isAutoSpin=this.toggleAutoSpin.isChecked,this.isAutoSpinCache=this.isAutoSpin,this.isAutoSpin&&(0!=this.stateGame&&3!=this.stateGame||this.onClickSpin()))},e.prototype.onClickMusic=function(){this.audio.playClick();var t=this.toggleMusic.isChecked;this.toggleMusic.node.children[0].active=!t,m.Windown.AudioManager?(m.Windown.AudioManager.isActiveSound=t,m.Windown.AudioManager.isActiveMusic=t):t?(m.Windown.setLocalStorage("sound","on"),m.Windown.setLocalStorage("music","on")):(m.Windown.setLocalStorage("sound","off"),m.Windown.setLocalStorage("music","off"))},e.prototype.onClickMaxSpeed=function(){this.audio.playClick(),this.isMaxSpeed=this.toggleMaxSpeed.isChecked,this.toggleMaxSpeed.node.children[0].active=!0,this.isMaxSpeed&&(0!=this.stateGame&&3!=this.stateGame||this.toggleAutoSpin.check(),this.toggleMaxSpeed.node.children[0].active=!1)},e.prototype.onClickLichSu=function(){this.audio.playClick(),this.freeSpinLeft>0||this.popupLichSu.show()},e.prototype.onClichTop=function(){},e.prototype.onClickCachChoi=function(){this.audio.playClick(),this.cachChoi.active=!0,this.cachChoi.y=-1280,this.cachChoi.stopAllActions(),this.cachChoi.runAction(cc.moveTo(.3,0,0))},e.prototype.onCloseCachChoi=function(){var t=this;this.audio.playClick(),this.cachChoi.stopAllActions(),this.cachChoi.runAction(cc.sequence(cc.moveTo(.3,0,-1280),cc.callFunc(function(){t.cachChoi.active=!1})))},e.prototype.closeBangThuong=function(){var t=this;this.audio.playClick(),this.bangThuong.stopAllActions(),this.bangThuong.runAction(cc.sequence(cc.moveTo(.3,0,-1280),cc.callFunc(function(){t.bangThuong.active=!1})))},e.prototype.onClickBangThuong=function(){this.audio.playClick(),this.bangThuong.active=!0,this.bangThuong.y=-1280,this.bangThuong.stopAllActions(),this.bangThuong.runAction(cc.moveTo(.3,0,0))},e.prototype.makeDelay=function(t){var e=this;return new Promise(function(n){e.scheduleOnce(n,t)})},e.prototype.onSetData=function(){var t=d.ConectManager.getIns().getSFSObj();t.putInt("bet",this.curRoomBet),this.sfsObjTest=t,this.onClickSpin()},r([I(v.default)],e.prototype,"asset",void 0),r([I(cc.Node)],e.prototype,"parentItem",void 0),r([I(cc.Node)],e.prototype,"parentLine",void 0),r([I(f.default)],e.prototype,"lbJackpot",void 0),r([I(y.default)],e.prototype,"labelChipReviceInBox",void 0),r([I(b.default)],e.prototype,"effect",void 0),r([I(cc.Label)],e.prototype,"lb_totalBet",void 0),r([I(cc.Label)],e.prototype,"lb_Mn_Per_Line",void 0),r([I(cc.Label)],e.prototype,"lb_totalWin",void 0),r([I(cc.Label)],e.prototype,"lb_Mutil",void 0),r([I(sp.Skeleton)],e.prototype,"spWin",void 0),r([I(cc.Label)],e.prototype,"lb_freeSpinLeft",void 0),r([I(cc.Toggle)],e.prototype,"toggleAutoSpin",void 0),r([I(cc.Toggle)],e.prototype,"toggleMaxSpeed",void 0),r([I(cc.Toggle)],e.prototype,"toggleMusic",void 0),r([I(cc.Button)],e.prototype,"btnSpin",void 0),r([I(cc.Node)],e.prototype,"bangThuong",void 0),r([I(cc.Node)],e.prototype,"cachChoi",void 0),r([I(cc.Sprite)],e.prototype,"contentTip",void 0),r([I([cc.SpriteFrame])],e.prototype,"listSpContentTip",void 0),r([I(cc.Node)],e.prototype,"parentMutil",void 0),r([I(cc.Node)],e.prototype,"parentEffMain",void 0),r([I(sp.Skeleton)],e.prototype,"spineEffMain",void 0),r([I(sp.Skeleton)],e.prototype,"spineCharacter",void 0),r([I(cc.Node)],e.prototype,"nodeBtnPlay",void 0),r([I(cc.Node)],e.prototype,"nodeBtnSeting",void 0),r([I(_.default)],e.prototype,"popupLichSu",void 0),r([I(cc.Node)],e.prototype,"nodeTest",void 0),r([I(S.default)],e.prototype,"audio",void 0),r([I(cc.Node)],e.prototype,"bkgSprite",void 0),r([T],e)}(cc.Component);n.default=W,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../../Scritps/DefineTs/PlayerPP":"PlayerPP","../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Obs/JackpotItem":"JackpotItem","../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./AssetTruTien":"AssetTruTien","./AudioTruTien":"AudioTruTien","./EffectTruTien":"EffectTruTien","./ItemSlotTruTien":"ItemSlotTruTien","./LichSuTruTien":"LichSuTruTien"}],TuiDo:[function(t,e,n){"use strict";cc._RF.push(e,"fde17JoP7tP+7FSV20WRmTo","TuiDo");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../DefineTs/REQUEST_CODE"),a=t("../Network/ConectManager"),c=t("../Windown"),l=t("./BaseCuaHang"),u=cc._decorator,p=u.ccclass,h=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){c.Windown.TuiDo=this},e.prototype.show=function(){var t=this;c.Windown.UIManager.showLoading(),c.Windown.actionEffectOpen(this.node,function(){cc.systemEvent.once(s.REQUEST_CODE.GetTuiDo,t.responseServer,t),a.ConectManager.getIns().sendRequest(s.REQUEST_CODE.GetTuiDo,null)})},e.prototype.responseServer=function(t){c.Windown.UIManager.hideLoading();for(var e=t.getSFSArray("list"),n=this.parentItem.children[0],o="{}",i=0,r=0;r<this.parentItem.childrenCount;r++)this.parentItem.children[r].active=!1;r=0;for(var s=e.size();r<s;r++){var a=e.getSFSObject(r);if(!(a.get("amount")<1)){var l=this.parentItem.children[i];null==l&&((l=cc.instantiate(n)).parent=this.parentItem),l.active=!0,1!=l.scale&&(l.stopAllActions(),l.runAction(cc.sequence(cc.delayTime(.05*i),cc.scaleTo(.2,1).easing(cc.easeBackOut()))));var u=l.getComponentInChildren(cc.Sprite),p=l.getComponentInChildren(cc.Label),h=l.getComponent(cc.Button);u.spriteFrame=this.getSFByType(a.get("type")),p.string=a.get("amount"),h.clickEvents[0].customEventData=c.Windown.SFSObjToJson(a),i++}}e.size()>0&&(o=c.Windown.SFSObjToJson(e.getSFSObject(0))),this.isInit||this.onClickButton({target:n},o),this.isInit=!0},e.prototype.onClickButton=function(t,e){var n=Object.create(null);try{n=JSON.parse(e)}catch(s){console.error(s)}if(null!=n.type&&null!=n.amount){this.nodeInfo.active=!0;var o=c.Windown.listConfigItem.find(function(t){return t.ItemId==n.type});cc.find("img",this.nodeInfo).getComponent(cc.Sprite).spriteFrame=this.getSFByType(o.ItemId);var i=cc.find("parentInfo",this.nodeInfo).getComponentsInChildren(cc.Label);i[0].string=o.ItemName,i[1].string=n.amount,i[2].string=o.Description;var r=t.target;r.color=cc.Color.fromHEX(new cc.Color,"#FFC200"),this.parentItem.children.forEach(function(t){t!=r&&(t.color=cc.Color.WHITE)})}else this.nodeInfo.active=!1},e.prototype.getSFByType=function(t){return t<5?this.listSFItem[t-1]:1e3==t?this.spGunSet:1001==t?this.spAuto:this.listSFItemSpecial[t-100]},e.prototype.onClickClose=function(){var t=this;c.Windown.actionEffectClose(this.node,function(){t.node.parent=null})},r([p],e)}(l.default));n.default=h,cc._RF.pop()},{"../DefineTs/REQUEST_CODE":"REQUEST_CODE","../Network/ConectManager":"ConectManager","../Windown":"Windown","./BaseCuaHang":"BaseCuaHang"}],TypeItemDragBD:[function(t,e,n){"use strict";cc._RF.push(e,"5798agvfBVJKJDydruSrX5M","TypeItemDragBD"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.LAZE=1,t.BOOM=2,t.SONG_AM=3,t.MUI_KHOAN=4,t.END_MUI_KHOAN=5,t.GUN_FIRE=6,t.BOOM_NGUYEN_TU=7,t.MAT_THAN=8,t.DINH_BA=9,t}();n.default=o,cc._RF.pop()},{}],TypePlayerEffectBD:[function(t,e,n){"use strict";cc._RF.push(e,"72479F6p35PsbE+4jL5Yrx9","TypePlayerEffectBD"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.ICE=1,t.SPEED=2,t.TARGET=3,t.AUTO=4,t}();n.default=o,cc._RF.pop()},{}],UIManager:[function(t,e,n){"use strict";cc._RF.push(e,"2fb31HuB+RA47Q8Vm6XG7D+","UIManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./AlertMessage/AlertMessage"),l=t("./Bundle/DownloadProgress"),u=t("./Bundle/UpdateAssetManager"),p=t("./DefineTs/BUNDLE"),h=t("./DefineTs/EVENT_MANAGER"),d=t("./DefineTs/PathResource"),f=t("./DefineTs/REQUEST_CODE"),y=t("./DefineTs/TextDefine"),g=t("./Game/GAME_TYPE"),m=t("./InfoERR"),v=t("./Network/ConectManager"),S=t("./Popup/CaiDat/XacThucTele"),b=t("./Popup/EffectTakeCoin"),w=t("./Popup/NotiTopMesage/NotiTopMesage"),_=t("./Popup/VongQuay/VongQuay"),C=t("./Util"),T=t("./WebViewControl"),I=t("./Windown");window.Global={};var W=cc._decorator,M=W.ccclass,E=W.property,R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.funLoading=null,e.preLoad=0,e.loading=null,e.loadingData=null,e.loadingPerData=null,e.parentPopup=null,e.parentMiniGame=null,e.prarentgame=null,e.timeHide=0,e.nodeNotifyNoHu=null,e.nodeAlertMini=null,e.notiTopMesage=null,e.prefabDownload=null,e.spBanNgay=null,e.spBanDem=null,e.webViewControl=null,e.CA=null,e.isHideTab=!1,e.handleClickNoti=null,e.funPing=null,e.listFunShowFirtLogin=null,e.objGameWating={},e.isVertical=!0,e.currentGameId=-1,e.listMessAlert=["Ch\xe0o m\u1eebng t\u1ea5t c\u1ea3 anh em \u0111\xe3 \u0111\u1ebfn v\u1edbi Big99.bet. Chung tay ph\xe1t tri\u1ec3n m\u1ed9t s\xe2n ch\u01a1i vui v\u1ebb, l\xe0nh m\u1ea1nh nh\xe9 AE!","M\u1eb9o: V\xe0o Group TELEGRAM \u0111\u1ec3 nh\u1eadn code h\xe0ng ng\xe0y nh\xe9 AE!","M\u1eb9o: S\u1eed d\u1ee5ng Telegram \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 nhanh h\u01a1n.","M\u1eb9o: Ch\u01a1i game t\u1eeb tr\xecnh duy\u1ec7t Web n\xean t\u1ea3i l\u1ea1i trang web sau 1 th\u1eddi gian \u0111\u1ec3 tr\u1ea3i nghi\u1ec7m m\u01b0\u1ee3t m\xe0 h\u01a1n.","L\u01b0u \xdd: T\u1ea5t c\u1ea3 c\xe1c l\u1ec7nh r\xfat s\u1ebd \u0111\u01b0\u1ee3c x\u1eed l\xfd t\u1ed1i \u0111a trong 24h.","L\u01b0u \xfd: Giftcode mi\u1ec5n ph\xed s\u1ebd \u0111\u01b0\u1ee3c ph\xe1t trong c\xe1c khung gi\u1edd 12h,20h v\xe0 22h h\xe0ng ng\xe0y trong group TELEGRAM Big99","L\u01b0u \xfd: Admin kh\xf4ng nh\u1eadn n\u1ea1p ti\u1ec1n h\u1ed9 qua th\u1ebb c\xe0o v\xe0 Momo, Vui l\xf2ng n\u1ea1p tr\u1ef1c ti\u1ebfp t\u1eeb c\u1eeda h\xe0ng ho\u1eb7c banner trong game!","L\u01b0u \xdd: C\xe0i game t\u1eeb FILE c\xe0i \u0111\u1eb7t s\u1ebd c\xf3 th\xf4ng b\xe1o b\u1ea3o m\u1eadt, \u0111i\u1ec1u n\xe0y l\xe0 ho\xe0n to\xe0n b\xecnh th\u01b0\u1eddng. \u1ee8ng d\u1ee5ng c\u1ee7a Big99.bet l\xe0 an to\xe0n!","L\u01b0u \xdd: Vui l\xf2ng COPY n\u1ed9i dung chuy\u1ec3n kho\u1ea3n khi th\u1ef1c hi\u1ec7n n\u1ea1p v\xe0ng qua ph\u01b0\u01a1ng th\u1ee9c MOMO/Banking.","Kh\xf4ng t\u1ef1 \xfd chuy\u1ec3n kho\u1ea3n l\u1ea1i giao d\u1ecbch c\u0169 \u0111\xe3 th\u1ef1c hi\u1ec7n tr\u01b0\u1edbc \u0111\xf3, vui l\xf2ng v\xe0o game \u0111\u1ec3 nh\u1eadn \u0111\u01b0\u1ee3c t\xe0i kho\u1ea3n MOMO m\u1edbi nh\u1ea5t!"],e.alertMessageHorizontal=null,e.indexAlert=0,e.actionCheckTanThu=null,e.listConfigShop=null,e}return i(e,t),e.prototype.onLoad=function(){cc.log("type bors: "+cc.sys.os),cc.Toggle._triggerEventInScript_check=!0,Global.Ca=this.CA.nativeUrl;var t=(new Date).getHours();this.loadingData.getComponent(cc.Sprite).spriteFrame=t>=19||t<5?this.spBanDem:this.spBanNgay,I.Windown.UIManager=this,cc.game.addPersistRootNode(this.node),v.ConectManager.getIns().init(),I.Windown.Dialog=cc.find("Dialog",this.node).getComponent("Dialog"),cc.game.on(cc.game.EVENT_HIDE,this.eventHide,this),cc.game.on(cc.game.EVENT_SHOW,this.eventShow,this),cc.systemEvent.on(h.EVENT_MANAGER.onDisconnect,this.handleDisconnect,this),cc.systemEvent.on(h.EVENT_MANAGER.LOGIN,this.handleLogin,this),cc.sys.isNative||window.addEventListener("orientationchange",this.evenResize.bind(this)),I.Windown.init(),I.Windown.loadRes(p.BUNDLE.Main,d.PathResource.EffectTakeCoin,cc.Prefab),I.Windown.BotController&&!cc.sys.isNative&&(window.onerror=function(){window.location=window.location,window.onerror=null}),C.Util.onGetDeviceId(),this.listConfigShop=new SFS2X.SFSArray},e.prototype.onEnable=function(){},e.prototype.test=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return[4,this.getNum()];case 1:return t=e.sent(),cc.log("numla "+t),[2]}})})},e.prototype.getNum=function(){var t=this;return new Promise(function(e,n){return s(t,void 0,void 0,function(){return a(this,function(){return n(null),[2]})})})},e.prototype.getPro=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,this.getNum()];case 1:return t.sent(),setTimeout(e,2e3,2),[2]}})})})},e.prototype.evenResize=function(){cc.log("----------evenResize"),this.node.position=cc.v3(cc.winSize.width/2,cc.winSize.height/2,0)},e.prototype.changeRotation=function(t){if(cc.log("changeRotation:"+t),cc.sys.isMobile)this.isVertical=t,t?(this.parentPopup.angle=0,this.parentPopup.scale=1,I.Windown.Dialog.container.angle=0,I.Windown.Dialog.container.scale=1,I.Windown.UIManager.loading.angle=0,this.nodeAlertMini.parent.angle=0,this.notiTopMesage.node.parent.angle=0):(I.Windown.UIManager.loading.angle=90,this.parentPopup.angle=90,this.parentPopup.scale=.7,I.Windown.Dialog.container.angle=90,I.Windown.Dialog.container.scale=.7,this.notiTopMesage.node.parent.angle=90,this.nodeAlertMini.parent.angle=90),cc.systemEvent.emit(h.EVENT_MANAGER.CHANG_ROTATION,this.isVertical);else if(null!=I.Windown.MainView)this.node.setPosition(cc.v2(360,640)),this.node.setContentSize(cc.size(720,cc.winSize.height));else{var e=cc.director.getScene().getComponentInChildren(cc.Canvas).node.convertToWorldSpaceAR(cc.v2(0,0));this.node.setPosition(e),this.node.setContentSize(cc.winSize)}},e.prototype.checkShowMiniGame=function(t,e){for(var n=this.parentMiniGame.childrenCount,o=!1,i=0;i<n;i++)if(this.parentMiniGame.children[i]==t.node)o=!0;else{var r=this.parentMiniGame.children[i].getComponent("DragMiniGame");r&&r.miniSize()}return t._isMiniSize||t.nomalSize(),null!=t.node.parent&&t.node.setSiblingIndex(n-1),e&&(t.node.position=cc.v2(0,0)),o},e.prototype.eventHide=function(){this.timeHide=Date.now(),this.isHideTab=!0},e.prototype.eventShow=function(){if(this.isHideTab=!1,!(this.timeHide<1)){var t=Date.now()-this.timeHide;t>36e5&&I.Windown.restartGame(),cc.systemEvent.emit(cc.game.EVENT_SHOW,t/1e3),this.timeHide=0}},e.prototype.handleLogin=function(){return s(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.unschedule(this.funPing),this.schedule(this.funPing=function(){v.ConectManager.getIns().sendRequest("ping",null,null)},120),this.handleClickNoti&&this.handleClickNoti(),this.handleClickNoti=null,this.checkNapTanThu(),[4,I.Windown.makeDelay(.5)];case 1:return t.sent(),!cc.sys.isBrowser&&(I.Windown.IsSafe||cc.sys.os!=cc.sys.OS_ANDROID&&cc.sys.os!=cc.sys.OS_IOS)||(console.log("isFirtLogin="+I.Windown.User.isFirtLogin),I.Windown.User.isFirtLogin?this.showVongQuay(!0):this.showSuggetsDauNgay()),this.checkAndSendLogCrash(),[2]}})})},e.prototype.showSuggetsDauNgay=function(){var t=this;if(cc.sys.isBrowser||!I.Windown.IsSafe&&(cc.sys.os==cc.sys.OS_ANDROID||cc.sys.os==cc.sys.OS_IOS)){var e="firtShow_"+I.Windown.User.userId;console.log("showSuggetsDauNgay");var n=I.Windown.getLocalStorage(e),o=(new Date).getDate();null==n||n!=o?(this.setUpFunShowFirtDayLogin(),I.Windown.setLocalStorage(e,o.toString())):(this.listFunShowFirtLogin=[],this.listFunShowFirtLogin.push(function(){t.showBonusNap(!0,null,""!=I.Windown.User.phoneNumber&&null!=I.Windown.User.phoneNumber?1:0)}),this.showFunFirtLogin())}},e.prototype.setUpFunShowFirtDayLogin=function(){var t=this;this.listFunShowFirtLogin=[];var e=null;cc.sys.isBrowser&&cc.sys.os==cc.sys.OS_IOS&&(cc.log("CLMM WEB IOSS"),window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone?(cc.log("\u0110\xe3 add v\xe0o m\xe0n h\xecnh ch\xednh r\u1ed3i"),e=null):e=function(){t.checkShowSuggestTaiAppIOS()});var n=function(){t.showBonusNap(!0,null,""!=I.Windown.User.phoneNumber&&null!=I.Windown.User.phoneNumber?1:0)};null!=e?this.listFunShowFirtLogin.push(e,n):this.listFunShowFirtLogin.push(n),(null==I.Windown.User.phoneNumber||""==I.Windown.User.phoneNumber)&&I.Windown.User.userAg<4e3&&this.listFunShowFirtLogin.push(function(){t.showXacThucTele(!0)}),this.listFunShowFirtLogin.push(this.checkAndShowSuggestDangKy),this.showFunFirtLogin()},e.prototype.showFunFirtLogin=function(){var t=this.listFunShowFirtLogin.shift();null!=t&&t.call(this)},e.prototype.checkAndShowSuggestDangKy=function(){if(I.Windown.User.isPlayNow){var t="signUp_"+I.Windown.User.userId,e=I.Windown.getLocalStorage(t),n=(new Date).getDate();null==e?I.Windown.setLocalStorage(t,n.toString()):e!=n&&I.Windown.Dialog.showLog(y.TextDefine.CapNhatTk,function(){I.Windown.UIManager.showCapNhatTaiKhoan(),I.Windown.setLocalStorage(t,n.toString())})}},e.prototype.canclePing=function(){this.unschedule(this.funPing)},e.prototype.handleDisconnect=function(){this.canclePing(),I.Windown.disconect(),this.parentPopup.removeAllChildren()},e.prototype.showLoadingData=function(t){if(this.preLoad=0,this.loadingData.active=!0,this.loadingPerData.getComponent(cc.Sprite).fillRange=0,cc.find("LoadingPro/per",this.loadingData).getComponent(cc.Label).string="\u0110ang t\u1ea3i game: 0%",t){var e=cc.find("lbVer",this.loadingData).getComponent(cc.Label);e.node.active=!0,e.string="\u0110ang t\u1ea3i game: "+t}},e.prototype.hideLoadingData=function(){this.loadingData.active=!1,this.preLoad=0},e.prototype.setPerData=function(t){if(t){if(t<=this.preLoad)return;this.preLoad=t,this.loadingPerData.getComponent(cc.Sprite).fillRange=t,t=Math.round(100*t),cc.find("LoadingPro/per",this.loadingData).getComponent(cc.Label).string="\u0110ang t\u1ea3i game: "+t+"%"}},e.prototype.showLoading=function(t){var e=this;void 0===t&&(t=15),this.loading.active=!0,this.scheduleOnce(this.funLoading=function(){e.loading.active=!1},t)},e.prototype.hideLoading=function(){this.loading.active=!1,this.unschedule(this.funLoading)},e.prototype.onHideMainView=function(){I.Windown.MainView.node.removeFromParent()},e.prototype.onShowMainView=function(){null==I.Windown.MainView.node.parent&&cc.director.getScene().getChildByName("Canvas").insertChild(I.Windown.MainView.node,1)},e.prototype.showNotiNoHu=function(t){I.Windown.NotiNoHu.show(t)},e.prototype.getNodeEffectTextCoin=function(){var t=this;return new Promise(function(e){return s(t,void 0,void 0,function(){var t,n;return a(this,function(o){switch(o.label){case 0:return[4,I.Windown.getPrefabRes(d.PathResource.EffectTakeCoin)];case 1:return t=o.sent(),(n=cc.instantiate(t).getComponent(b.default)).node.parent=I.Windown.UIManager.parentPopup,e(n),[2]}})})})},e.prototype.showAlertMini=function(t){var e=this;this.nodeAlertMini.getComponentInChildren(cc.Label).string=t,this.nodeAlertMini.opacity=255,this.nodeAlertMini.scale=1,this.nodeAlertMini.active=!0;var n=this.nodeAlertMini.parent.getComponent(cc.Widget);n.top=0,n.bottom=0,n.left=0,n.right=0,n.updateAlignment();var o=0,i=0;cc.Tween.stopAllByTarget(this.nodeAlertMini),I.Windown.UIManager.isVertical?(this.nodeAlertMini.angle=0,o=cc.winSize.height/2-250,i=0,cc.tween(this.nodeAlertMini)):(cc.log("clmmmmm"),i=0,o=150),cc.tween(this.nodeAlertMini).set({y:o,x:i,scaleX:0}).to(.3,{scaleX:1},{easing:"backOut"}).delay(2).to(.3,{scaleX:0},{easing:"backIn"}).call(function(){e.nodeAlertMini.active=!1}).start()},e.prototype.showLvlUp=function(t){return s(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return I.Windown.BotController?[2]:null!=I.Windown.TangCap?[3,2]:[4,I.Windown.getPrefabRes(d.PathResource.TangCap)];case 1:e=n.sent(),this.parentPopup.addChild(cc.instantiate(e)),n.label=2;case 2:return I.Windown.TangCap.node.parent=this.parentPopup,I.Windown.TangCap.show(t),[2]}})})},e.prototype.showReviceItem=function(t){return s(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return I.Windown.BotController?[2]:null!=I.Windown.ReviceItem?[3,2]:[4,I.Windown.getPrefabRes(d.PathResource.ReviceItem)];case 1:e=n.sent(),this.parentPopup.addChild(cc.instantiate(e)),n.label=2;case 2:return I.Windown.ReviceItem.node.parent=this.parentPopup,I.Windown.ReviceItem.show(t),[2]}})})},e.prototype.showBonusNap=function(t,e,n){return void 0===t&&(t=!1),s(this,void 0,void 0,function(){var o;return a(this,function(i){switch(i.label){case 0:return this.checkAndShowDangNhap(),null!=I.Windown.BonusNap?[3,2]:[4,I.Windown.getPrefabRes(d.PathResource.BonusNap)];case 1:o=i.sent(),this.parentPopup.addChild(cc.instantiate(o)),i.label=2;case 2:return I.Windown.BonusNap.node.parent=this.parentPopup,I.Windown.BonusNap.show(t,e,n),[2]}})})},e.prototype.checkShowSuggestTaiAppIOS=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return[4,I.Windown.getPrefabRes(d.PathResource.BannerTaiApp)];case 1:return t=e.sent(),this.parentPopup.addChild(cc.instantiate(t)),[2]}})})},e.prototype.checkNapTanThu=function(){cc.log("checkNapTanThu"),cc.systemEvent.on(f.REQUEST_CODE.GetConfigShopVip,this.responeConfigShop,this),v.ConectManager.getIns().sendRequest(f.REQUEST_CODE.GetConfigShopVip,null)},e.prototype.responeConfigShop=function(t){this.listConfigShop=t.getSFSArray("ListConfig"),this.listConfigShop.size()},e.prototype.showDangNhap=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return this.showLoading(),[4,I.Windown.getPrefabRes(d.PathResource.DangNhap)];case 1:return t=e.sent(),this.parentPopup.addChild(cc.instantiate(t)),this.hideLoading(),[2]}})})},e.prototype.showDangKy=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return this.showLoading(),[4,I.Windown.getPrefabRes(d.PathResource.DangKy)];case 1:return t=e.sent(),this.parentPopup.addChild(cc.instantiate(t)),this.hideLoading(),[2]}})})},e.prototype.showSuKien=function(t){return s(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return this.checkAndShowDangNhap(),this.showLoading(),null!=I.Windown.SuKien?[3,2]:[4,I.Windown.getPrefabRes(d.PathResource.SuKien)];case 1:e=n.sent(),this.parentPopup.addChild(cc.instantiate(e)),n.label=2;case 2:return I.Windown.SuKien.node.parent=this.parentPopup,I.Windown.SuKien.show(0,t),this.hideLoading(),[2]}})})},e.prototype.showCaiDat=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return this.checkAndShowDangNhap(),this.showLoading(),null!=I.Windown.CaiDat?[3,2]:[4,I.Windown.getPrefabRes(d.PathResource.CaiDat)];case 1:t=e.sent(),this.parentPopup.addChild(cc.instantiate(t)),e.label=2;case 2:return I.Windown.CaiDat.node.parent=this.parentPopup,I.Windown.CaiDat.show(),this.hideLoading(),[2]}})})},e.prototype.showCaiDatFish=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return this.checkAndShowDangNhap(),this.showLoading(),null!=I.Windown.CaiDatFish?[3,2]:[4,I.Windown.getPrefabRes(d.PathResource.CaiDat+"Fish")];case 1:t=e.sent(),this.parentPopup.addChild(cc.instantiate(t)),e.label=2;case 2:return I.Windown.CaiDatFish.node.parent=this.parentPopup,I.Windown.CaiDatFish.show(),this.hideLoading(),[2]}})})},e.prototype.showTietKiem=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return this.checkAndShowDangNhap(),this.showLoading(),null!=I.Windown.TietKiem?[3,2]:[4,I.Windown.getPrefabRes(d.PathResource.TietKiem)];case 1:t=e.sent(),this.parentPopup.addChild(cc.instantiate(t)),e.label=2;case 2:return I.Windown.TietKiem.node.parent=this.parentPopup,I.Windown.TietKiem.show(),this.hideLoading(),[2]}})})},e.prototype.showDaiLy=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return this.checkAndShowDangNhap(),this.showLoading(),null!=I.Windown.DaiLy?[3,2]:[4,I.Windown.getPrefabRes(d.PathResource.Daily)];case 1:t=e.sent(),this.parentPopup.addChild(cc.instantiate(t)),e.label=2;case 2:return I.Windown.DaiLy.node.parent=this.parentPopup,I.Windown.DaiLy.show(),this.hideLoading(),[2]}})})},e.prototype.showTuiDo=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return this.checkAndShowDangNhap(),this.showLoading(),null!=I.Windown.TuiDo?[3,2]:[4,I.Windown.getPrefabRes(d.PathResource.TuiDo)];case 1:t=e.sent(),this.parentPopup.addChild(cc.instantiate(t)),e.label=2;case 2:return I.Windown.TuiDo.node.parent=this.parentPopup,I.Windown.TuiDo.show(),this.hideLoading(),[2]}})})},e.prototype.showCuaHang=function(t){return void 0===t&&(t=!1),s(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return this.checkAndShowDangNhap(),this.showLoading(),null!=I.Windown.CuaHang?[3,2]:[4,I.Windown.getPrefabRes(d.PathResource.CuaHang)];case 1:e=n.sent(),this.parentPopup.addChild(cc.instantiate(e)),n.label=2;case 2:return I.Windown.CuaHang.node.parent=this.parentPopup,I.Windown.CuaHang.show(t),this.hideLoading(),[2]}})})},e.prototype.showNhiemVu=function(){return s(this,void 0,void 0,function(){return a(this,function(){return this.checkAndShowDangNhap(),I.Windown.NhiemVuConTroller.showQuest(),[2]})})},e.prototype.showNhiemVuNap=function(){return s(this,void 0,void 0,function(){return a(this,function(){return this.checkAndShowDangNhap(),I.Windown.NhiemVuConTroller.showQuestKM(),[2]})})},e.prototype.showGiftCode=function(t){return void 0===t&&(t=null),s(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return this.checkAndShowDangNhap(),this.showLoading(),null!=I.Windown.GiftCode?[3,2]:[4,I.Windown.getPrefabRes(d.PathResource.GiftCode)];case 1:e=n.sent(),this.parentPopup.addChild(cc.instantiate(e)),n.label=2;case 2:return I.Windown.GiftCode.node.parent=this.parentPopup,I.Windown.GiftCode.show(),t&&I.Windown.GiftCode.setGiftCode(t),this.hideLoading(),[2]}})})},e.prototype.showTransferSport=function(t){return void 0===t&&(t=null),s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return this.checkAndShowDangNhap(),this.showLoading(),null!=I.Windown.TransferSport?[3,2]:[4,I.Windown.getPrefabRes(d.PathResource.TransferSport)];case 1:t=e.sent(),this.parentPopup.addChild(cc.instantiate(t)),e.label=2;case 2:return I.Windown.TransferSport.node.parent=this.parentPopup,I.Windown.TransferSport.show(),this.hideLoading(),[2]}})})},e.prototype.showHomThu=function(t){return s(this,void 0,void 0,function(){return a(this,function(){return this.checkAndShowDangNhap(),I.Windown.HomThuController.showMailView(t),[2]})})},e.prototype.showThongTin=function(t){return s(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return this.checkAndShowDangNhap(),this.showLoading(),null!=I.Windown.ThongTin?[3,2]:[4,I.Windown.getPrefabRes(d.PathResource.ThongTin)];case 1:e=n.sent(),this.parentPopup.addChild(cc.instantiate(e)),n.label=2;case 2:return I.Windown.ThongTin.node.parent=this.parentPopup,I.Windown.ThongTin.show(t),this.hideLoading(),[2]}})})},e.prototype.showDoiAva=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return this.checkAndShowDangNhap(),this.showLoading(),[4,I.Windown.getPrefabRes(d.PathResource.DoiAva)];case 1:return t=e.sent(),this.parentPopup.addChild(cc.instantiate(t)),this.hideLoading(),[2]}})})},e.prototype.showDoiTrangThai=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return this.checkAndShowDangNhap(),this.showLoading(),[4,I.Windown.getPrefabRes(d.PathResource.DoiTrangThai)];case 1:return t=e.sent(),this.parentPopup.addChild(cc.instantiate(t)),this.hideLoading(),[2]}})})},e.prototype.showInfoTranfer=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return this.checkAndShowDangNhap(),this.showLoading(),null!=I.Windown.LichSuGiaoDich?[3,2]:[4,I.Windown.getPrefabRes(d.PathResource.LichSuGiaoDich)];case 1:t=e.sent(),this.parentPopup.addChild(cc.instantiate(t)),e.label=2;case 2:return I.Windown.LichSuGiaoDich.node.parent=this.parentPopup,I.Windown.LichSuGiaoDich.show(),[2]}})})},e.prototype.showShop=function(t,e,n,o){return void 0===t&&(t=2),void 0===o&&(o=!1),s(this,void 0,void 0,function(){var i;return a(this,function(r){switch(r.label){case 0:return this.checkAndShowDangNhap(),this.showLoading(),null!=I.Windown.ShopView?[3,2]:[4,I.Windown.getPrefabRes(d.PathResource.ShopView)];case 1:i=r.sent(),this.parentPopup.addChild(cc.instantiate(i)),r.label=2;case 2:return this.hideLoading(),I.Windown.ShopView.node.parent=this.parentPopup,I.Windown.ShopView.show(t,e,n,o),[2]}})})},e.prototype.showXepHang=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return this.checkAndShowDangNhap(),this.showLoading(),null!=I.Windown.XepHang?[3,2]:[4,I.Windown.getPrefabRes(d.PathResource.XepHang)];case 1:t=e.sent(),this.parentPopup.addChild(cc.instantiate(t)),e.label=2;case 2:return I.Windown.XepHang.node.parent=this.parentPopup,I.Windown.XepHang.show(),[2]}})})},e.prototype.showCapNhatTaiKhoan=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return this.checkAndShowDangNhap(),this.showLoading(),null!=I.Windown.CapNhatTaiKhoan?[3,2]:[4,I.Windown.getPrefabRes(d.PathResource.CapNhatTaiKhoan)];case 1:t=e.sent(),this.parentPopup.addChild(cc.instantiate(t)),e.label=2;case 2:return I.Windown.CapNhatTaiKhoan.node.parent=this.parentPopup,I.Windown.CapNhatTaiKhoan.show(),this.hideLoading(),[2]}})})},e.prototype.showCropImg=function(t){return s(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return this.checkAndShowDangNhap(),this.showLoading(),null!=I.Windown.CropImgAva?[3,2]:[4,I.Windown.getPrefabRes(d.PathResource.CropImgAva)];case 1:e=n.sent(),this.parentPopup.addChild(cc.instantiate(e)),n.label=2;case 2:return I.Windown.CropImgAva.node.parent=this.parentPopup,I.Windown.CropImgAva.show(t),this.hideLoading(),[2]}})})},e.prototype.showHoTro=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return this.checkAndShowDangNhap(),this.showLoading(),null!=I.Windown.HoTro?[3,2]:[4,I.Windown.getPrefabRes(d.PathResource.HoTro)];case 1:t=e.sent(),this.parentPopup.addChild(cc.instantiate(t)),e.label=2;case 2:return I.Windown.HoTro.node.parent=this.parentPopup,I.Windown.HoTro.show(),this.hideLoading(),[2]}})})},e.prototype.showImgChat=function(t){return s(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return this.checkAndShowDangNhap(),this.showLoading(),null!=I.Windown.ImgChat?[3,2]:[4,I.Windown.getPrefabRes(d.PathResource.ImgChat)];case 1:e=n.sent(),this.parentPopup.addChild(cc.instantiate(e)),n.label=2;case 2:return I.Windown.ImgChat.node.parent=this.parentPopup,I.Windown.ImgChat.show(t),this.hideLoading(),[2]}})})},e.prototype.showQuickShop=function(t,e){return s(this,void 0,void 0,function(){var n;return a(this,function(o){switch(o.label){case 0:return this.checkAndShowDangNhap(),this.showLoading(),null!=I.Windown.QuickShop?[3,2]:[4,I.Windown.getPrefabRes(d.PathResource.QuickShop)];case 1:n=o.sent(),this.parentPopup.addChild(cc.instantiate(n)),o.label=2;case 2:return I.Windown.QuickShop.node.parent=this.parentPopup,I.Windown.QuickShop.show(t,e),this.hideLoading(),[2]}})})},e.prototype.showXacThucTele=function(t){return s(this,void 0,void 0,function(){var e,n;return a(this,function(o){switch(o.label){case 0:return this.checkAndShowDangNhap(),this.showLoading(),[4,I.Windown.getPrefabRes(d.PathResource.XacThucTele)];case 1:return e=o.sent(),n=cc.instantiate(e).getComponent(S.default),this.parentPopup.addChild(n.node),n.show(t),this.hideLoading(),[2]}})})},e.prototype.showVongQuay=function(t){return s(this,void 0,void 0,function(){var e,n;return a(this,function(o){switch(o.label){case 0:return this.checkAndShowDangNhap(),null==I.Windown.User.phoneNumber||""==I.Windown.User.phoneNumber?(this.showXacThucTele(),[2]):(this.showLoading(),[4,I.Windown.getPrefabRes(d.PathResource.VongQuay)]);case 1:return e=o.sent(),n=cc.instantiate(e).getComponent(_.default),this.parentPopup.addChild(n.node),n.show(t),this.hideLoading(),[2]}})})},e.prototype.playSoundWithUrl=function(t){return s(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return[4,I.Windown.loadRes(p.BUNDLE.Main,t,cc.AudioClip)];case 1:return e=n.sent(),cc.audioEngine.play(e,!1,1),[2]}})})},e.prototype.checkAssets=function(t,e){var n=this;if(cc.sys.os==cc.sys.OS_WINDOWS)return!1;if(!cc.sys.isNative)return!1;var o=new u.default;if(o.updateAsset(t)){this.removeDownload(t);var i,r=function(){n.removeDownload(t),n.objGameWating[t]=!1,o.onDestroyClass(),e&&(I.Windown.UIManager.hideLoadingData(),e())};if(e)I.Windown.UIManager.showLoadingData(),i=function(t){I.Windown.UIManager.setPerData(t)},o.initProgress(i,r);else o.initProgress(this.downloadProgress(t),r);return o.checkUpdate(),!0}return!1},e.prototype.onClickOpenBigGame=function(){return!1},e.prototype.downloadProgress=function(t){var e=this,n=[];return I.Windown.MainView&&I.Windown.MainView.getItemIconGameByType(t).forEach(function(t){var o=cc.instantiate(e.prefabDownload).getComponent(l.default);o.node.name="ProgressDownload",o.node.active=!0,t.addChild(o.node),n.push(o)}),I.Windown.BtnMiniGame&&I.Windown.BtnMiniGame.getIconByType(t).forEach(function(t){var o=cc.instantiate(e.prefabDownload).getComponent(l.default);o.node.name="ProgressDownload",o.node.active=!0,o.node.scale=.7,t.addChild(o.node),n.push(o)}),function(t){for(var e=0,o=n;e<o.length;e++)o[e].setPercent(t)}},e.prototype.removeDownload=function(t){if(null!=I.Windown.MainView){var e=[];e=I.Windown.MainView.getItemIconGameByType(t),I.Windown.BtnMiniGame&&I.Windown.BtnMiniGame.getIconByType(t).forEach(function(t){e.push(t)}),e.forEach(function(t){var e=t.getChildByName("ProgressDownload");e&&e.destroy()})}},e.prototype.showNotiMesage=function(t){this.notiTopMesage.show(t)},e.prototype.checkAndShowDangNhap=function(){if(!I.Windown.User.isLogin)throw this.showDangNhap(),new m.InfoErr("Need Login")},e.prototype.checkAndSendLogCrash=function(){var t=cc.sys.localStorage.getItem("err");if(null!=t&&""!=t){var e=cc.loader.getXMLHttpRequest(),n=Object.create(null);n.err=t,n.id=I.Windown.User.userId,e.open("POST","http://207.148.90.121:3000/api/crash",!0),e.setRequestHeader("Content-Type","application/json"),e.onreadystatechange=function(){4===e.readyState&&e.status>=200&&e.status},e.send(JSON.stringify(n)),cc.sys.localStorage.setItem("err",""),C.Util.resetListBug()}},e.prototype.initConfig=function(){cc.sys.isNative},e.prototype.onShowLobbyView=function(t,e){return s(this,void 0,void 0,function(){var n;return a(this,function(o){switch(o.label){case 0:return this.showLoading(),null!=I.Windown.LobbyView?[3,2]:[4,I.Windown.getPrefabRes(d.PathResource.LobbyView)];case 1:n=o.sent(),I.Windown.MainView.node.addChild(cc.instantiate(n)),o.label=2;case 2:return I.Windown.LobbyView.node.parent=this.node,I.Windown.LobbyView.node.zIndex=cc.macro.MIN_ZINDEX,I.Windown.LobbyView.setLobbyView(t,e),this.hideLoading(),[2]}})})},e.prototype.showWebView=function(t){this.webViewControl.show(t)},e.prototype.onClickTestPopup=function(){I.Windown.Dialog.showDialog("Bo May Test")},e.prototype.onClickTestMiniMess=function(){this.showAlertMini("Bo May Test")},e.prototype.onClickTestShowNoHu=function(){var t=v.ConectManager.getIns().getSFSObj();t.putLong("MoneyRevice",123123),t.putUtfString("NickName","EMHOAI"),t.putInt("gameType",g.default.BongDem),I.Windown.NotiNoHu.show(t)},e.prototype.onClickTest=function(){cc.log("winsize=",cc.winSize),cc.log(" cc.director.getScene().getComponentInChildren(cc.Canvas).fitHeight="+cc.director.getScene().getComponentInChildren(cc.Canvas).fitHeight),cc.log(" cc.director.getScene().getComponentInChildren(cc.Canvas).fitWidth="+cc.director.getScene().getComponentInChildren(cc.Canvas).fitWidth),cc.log("position=="+this.node.position),this.showLoading()},r([E(cc.Node)],e.prototype,"loading",void 0),r([E(cc.Node)],e.prototype,"loadingData",void 0),r([E(cc.Node)],e.prototype,"loadingPerData",void 0),r([E(cc.Node)],e.prototype,"parentPopup",void 0),r([E(cc.Node)],e.prototype,"parentMiniGame",void 0),r([E(cc.Node)],e.prototype,"prarentgame",void 0),r([E(cc.Node)],e.prototype,"nodeNotifyNoHu",void 0),r([E(cc.Node)],e.prototype,"nodeAlertMini",void 0),r([E(w.default)],e.prototype,"notiTopMesage",void 0),r([E(cc.Node)],e.prototype,"prefabDownload",void 0),r([E(cc.SpriteFrame)],e.prototype,"spBanNgay",void 0),r([E(cc.SpriteFrame)],e.prototype,"spBanDem",void 0),r([E(T.default)],e.prototype,"webViewControl",void 0),r([E(cc.Asset)],e.prototype,"CA",void 0),r([E(c.default)],e.prototype,"alertMessageHorizontal",void 0),r([M],e)}(cc.Component);n.default=R,cc._RF.pop()},{"./AlertMessage/AlertMessage":"AlertMessage","./Bundle/DownloadProgress":"DownloadProgress","./Bundle/UpdateAssetManager":"UpdateAssetManager","./DefineTs/BUNDLE":"BUNDLE","./DefineTs/EVENT_MANAGER":"EVENT_MANAGER","./DefineTs/PathResource":"PathResource","./DefineTs/REQUEST_CODE":"REQUEST_CODE","./DefineTs/TextDefine":"TextDefine","./Game/GAME_TYPE":"GAME_TYPE","./InfoERR":"InfoERR","./Network/ConectManager":"ConectManager","./Popup/CaiDat/XacThucTele":"XacThucTele","./Popup/EffectTakeCoin":"EffectTakeCoin","./Popup/NotiTopMesage/NotiTopMesage":"NotiTopMesage","./Popup/VongQuay/VongQuay":"VongQuay","./Util":"Util","./WebViewControl":"WebViewControl","./Windown":"Windown"}],UpdateAssetManager:[function(t,e,n){"use strict";cc._RF.push(e,"91c19bZx8NC/6Q+IGkg5aUO","UpdateAssetManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Windown"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isInitAssets=!0,e.ForcedUpdate=!0,e.countFail=0,e.isFirtInit=!0,e.funProgress=null,e.funFinish=null,e._am=null,e._updating=!1,e._failCount=0,e._storagePath=null,e.customManifestStr={packageUrl:"",remoteManifestUrl:"",remoteVersionUrl:"",version:"1.0.0",assets:{},searchPaths:[]},e.verBCache="1.0.0",e.gameType=null,e}return i(e,t),e.prototype.onDestroyClass=function(){console.log("chay me vao destroy class update manager"),this._am&&this._am.setEventCallback(null)},e.prototype.dynamicUpdate=function(){if(this._am&&!this._updating){if(this._am.setEventCallback(this.updateCb.bind(this)),this._am.getState()===jsb.AssetsManager.State.UNINITED){var t=new jsb.Manifest(JSON.stringify(this.customManifestStr),this._storagePath);this._am.loadLocalManifest(t,this._storagePath)}this._failCount=0,this._am.update(),this._updating=!0}else{var e=this;this.scheduleOnce(function(){e.dynamicUpdate()},.5)}},e.prototype.checkUpdate=function(){if(console.log("Check Update"),this._updating)console.log("Checking or updating ...");else{if(this._am.getState()===jsb.AssetsManager.State.UNINITED){var t=new jsb.Manifest(JSON.stringify(this.customManifestStr),this._storagePath);this._am.loadLocalManifest(t,this._storagePath)}this._am.getLocalManifest()&&this._am.getLocalManifest().isLoaded()?(this._am.setEventCallback(this.checkCb.bind(this)),this._am.checkUpdate(),this._updating=!0):console.log("Failed to load local manifest ...")}},e.prototype.getManifest=function(){var t=s.Windown.linkBundle,e=this._storagePath+"/project.manifest",n="1.0.0";if(jsb.fileUtils.isFileExist(e)){t=t.replace("%n",this.gameType+"full"),this.isFirtInit=!1;var o=jsb.fileUtils.getStringFromFile(e),i=JSON.parse(o);i.packageUrl=t,i.remoteManifestUrl=t+"project.manifest",i.remoteVersionUrl=t+"version.manifest";var r=JSON.stringify(i);jsb.fileUtils.writeStringToFile(r,this._storagePath+"/project.manifest"),n=i.version}else t=t.replace("%n",this.gameType.toString());var a=s.Windown.verChildGame[this.gameType];return this.customManifestStr.packageUrl=t,this.customManifestStr.remoteManifestUrl=t+"project.manifest",this.customManifestStr.remoteVersionUrl=t+"version.manifest",!(this.versionCompareHandleCheck(n,a)>=0)},e.prototype.updateCb=function(t){var e=!1,n=!1;switch(t.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:n=!0;break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:var o=t.getPercent();isNaN(o)&&(o=0),o>1&&(o=1),this.funProgress&&this.funProgress(o);var i=t.getMessage();i&&console.log("Updated file: "+i);break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:console.log("lo down load == bo qua"),n=!0;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:console.log("phien ban moi nhat"),n=!0;break;case jsb.EventAssetsManager.UPDATE_FINISHED:console.log("Update finished. "+t.getMessage()),e=!0;break;case jsb.EventAssetsManager.UPDATE_FAILED:console.log("Update failed. "+t.getMessage()),this.countFail++,this.countFail<5?(this._am.downloadFailedAssets(),this._updating=!1):(jsb.fileUtils.removeDirectory(this._storagePath),n=!0,this.countFail=0);break;case jsb.EventAssetsManager.ERROR_UPDATING:console.log("Asset update error: "+t.getAssetId()+", "+t.getMessage());break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:console.log("loi la==>"+t.getMessage()),n=!0}if(n&&(this._am.setEventCallback(null),this._updating=!1,this.funFinish()),e){if(this.isFirtInit){var r=this._storagePath+"/assets/project.manifest";if(jsb.fileUtils.isFileExist(r)){var s=jsb.fileUtils.getStringFromFile(r);jsb.fileUtils.writeStringToFile(s,this._storagePath+"/project.manifest")}}var a=jsb.fileUtils.getSearchPaths(),c=this._am.getLocalManifest().getSearchPaths();Array.prototype.unshift.apply(a,c),cc.sys.localStorage.setItem("SearchAssets",JSON.stringify(a));var l="updateResource"+this.gameType;cc.sys.localStorage.setItem(l,!1),jsb.fileUtils.setSearchPaths(a),this._am.setEventCallback(null),this.funFinish()}},e.prototype.checkCb=function(t){var e="updateResource"+this.gameType;switch(console.log("Code: "+t.getEventCode()),t.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:console.log("ko tim thay mainfest file"),this.funFinish&&this.funFinish();break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:this.funFinish&&this.funFinish();break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:console.log("Phien ban moi nhat "+this.verBCache),s.Windown.verChildGame[this.gameType]=this.verBCache,cc.sys.localStorage.setItem(e,!1),this.funFinish&&this.funFinish();break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:console.log("bat dau update"),this.dynamicUpdate();break;case jsb.EventAssetsManager.UPDATE_FINISHED:console.log("ko co gi thay doi ca"),this.funFinish&&this.funFinish();break;default:return}this._am.setEventCallback(null),this._updating=!1},e.prototype.initProgress=function(t,e){this.funProgress=t,this.funFinish=e},e.prototype.versionCompareHandle=function(t,e){console.log("JS Custom Version Compare: version A is "+t+", version B is "+e);var n=t.split("."),o=e.split(".");this.verBCache=e;for(var i=0;i<n.length;++i){var r=parseInt(n[i]),s=parseInt(o[i]||0);if(r!==s)return r-s}return o.length>n.length?-1:0},e.prototype.versionCompareHandleCheck=function(t,e){console.log("JS Custom Version Compare: version A is "+t+", version B is "+e);for(var n=t.split("."),o=e.split("."),i=0;i<n.length;++i){var r=parseInt(n[i]),s=parseInt(o[i]||0);if(r!==s)return r-s}return o.length>n.length?-1:0},e.prototype.updateAsset=function(t){this.gameType=t,this._storagePath=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+"AllGame/"+t;var e=this._storagePath+"/project.manifest";if(jsb.fileUtils.isFileExist(e)){var n=jsb.fileUtils.getStringFromFile(e);JSON.parse(n).version.split(".").length<3&&console.log("game nay bi loi "+jsb.fileUtils.removeDirectory(this._storagePath))}var o=s.Windown.LIST_REMOVE_BUNDLE_GAME[t];if(null!=o){var i=this._storagePath+"/project.manifest";jsb.fileUtils.isFileExist(i)&&(n=jsb.fileUtils.getStringFromFile(i),o==JSON.parse(n).version&&console.log("gia tri la "+jsb.fileUtils.removeDirectory(this._storagePath)))}return!!this.getManifest()&&(this._am=new jsb.AssetsManager("",this._storagePath,this.versionCompareHandle),this._am.setVerifyCallback(function(t,e){var n=e.compressed,o=e.md5,i=e.path;return e.size,n?(console.log("Verification passed : "+i),!0):(console.log("Verification passed : "+i+" ("+o+")"),!0)}),!0)},e.prototype.getIsSuccesUpdate=function(){console.log("hahaha vao destroy class")},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../Windown":"Windown"}],UserModel:[function(t,e,n){"use strict";cc._RF.push(e,"78320P8Yc5NQLTIb+a+eEZw","UserModel"),Object.defineProperty(n,"__esModule",{value:!0}),n.UserData=n.UIGame=n.GlobalData=void 0;var o=t("../Lib/VM/ViewModel"),i=function(){this.isNative=!1};n.GlobalData=i;var r=function(){this.rank={type:3,curentType:0},this.doi={cur:"20 P"},this.nhiemVu={cur:"choiGame",count:{choiGame:0,napNgay:0,tanThu:0}}};n.UIGame=r;var s=function(){this.nickName="",this.userName="",this.userAg=0,this.userId=0,this.email="",this.phoneNumber="null",this.numMailNotRead=0,this.numQuestDone=0,this.isReadMessAd=!1,this.isLogin=!1,this.currentGameId=0,this.currentRoomType=0,this.currentRoomId=0,this.status="",this.typeAvarta=0,this.avatrId=-1,this.currentLevel=0,this.currentLevelPoint=0,this.totalLevelPoint=0,this.currentVipPoint=0,this.tokenFacebook="",this.tietKiem=0,this.maxPigy=0,this.isPlayNow=!1,this.isFirtNap=!1,this.isFirtLogin=!1,this.isOnMusic=!0,this.isOnSound=!0};n.UserData=s;var a=new s,c=new i,l=new r;o.VM.add(a,"user"),o.VM.add(c,"global"),o.VM.add(l,"ui"),cc._RF.pop()},{"../Lib/VM/ViewModel":"ViewModel"}],Util:[function(t,e,n){"use strict";cc._RF.push(e,"2ffa84HMcZDQrgkoz2Y4DtG","Util"),Object.defineProperty(n,"__esModule",{value:!0}),n.Util=void 0;var o=t("./DefineTs/EVENT_MANAGER"),i=t("./InfoERR"),r=t("./Windown"),s=[];function a(t){for(var e=0,n=s;e<n.length;e++){var o=n[e];if(o.localtion==t.localtion&&o.message==t.message&&o.stack==t.stack)return!0}return!1}cc.NativeCallJS=function(t,e){switch(cc.log("iNativeCallJS------------------------\x3e   DEMO "+t+"     "+e),t){case"1":r.Windown.deviceId=e,r.Windown.setLocalStorage("GEN_DEVICEID",e),console.log("Windown.deviceId===="+r.Windown.deviceId);break;case"2":var n=JSON.parse(e);r.Windown.loadNativeBundleCallback(n);break;case"27":r.Windown.UIManager.showAlertMini("\u0110\xe3 Sao Ch\xe9p");break;case"ERR_SHOW":var i=e.split("---ABC---");if(-1!=i[1].indexOf("lvd----"))return;var c=Object.create(null);r.Windown.User.isLogin?c.idP=r.Windown.User.userId:c.idP=null,c.localtion=i[0],c.message=i[1],c.stack=i[2],cc.sys.os==cc.sys.OS_WINDOWS&&(r.Windown.BotController?c.os="WIN_BOT":c.os="WIN"),a(c)||(c.time=(new Date).toLocaleString(),s.push(c),cc.sys.localStorage.setItem("err",JSON.stringify(s)));break;case"GET_IMG_LIBARY":r.Windown.UIManager.showCropImg(e);break;case"CROP_IMG":r.Windown.DoiAva&&r.Windown.DoiAva.reviecNewBase64ToAddCustom(e);break;case"GET_IMG_LIBARY_CHAT":cc.systemEvent.emit(o.EVENT_MANAGER.GET_IMG_CHAT,e);break;case"SCALE_IMG_CHAT":break;case"GET_ISSAFE":r.Windown.IsSafeNative=e}};var c=function(){function t(){}return t.onCallNative=function(t,e){cc.sys.os===cc.sys.OS_ANDROID&&cc.sys.isNative?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","onCallFromJavascript","(Ljava/lang/String;Ljava/lang/String;)V",t,e):cc.sys.os===cc.sys.OS_IOS&&cc.sys.isNative&&jsb.reflection.callStaticMethod("AppController","onCallFromJavaScript:andParams:",t,e)},t.unzipFilePath=function(e,n,o){t.onCallNative("2",JSON.stringify({name:e,path:o,version:n}))},t.resetListBug=function(){s=[]},t.onCoppyToClip=function(e){t.onCallNative("27",e)},t.onGetDeviceId=function(){t.onCallNative("1","")},t.onGetImgInLibary=function(){t.onCallNative("GET_IMG_LIBARY","")},t.onGetImgInLibaryChat=function(){if(cc.sys.isNative)t.onCallNative("GET_IMG_LIBARY_CHAT","");else{var e=null;(e=document.getElementById("file-uploader")).addEventListener("change",function(t){var e=t.target.files[0],n=URL.createObjectURL(e),i=new Image;i.src=n,i.onerror=function(){URL.revokeObjectURL(this.src),console.log("Cannot load image")},i.onload=function(){URL.revokeObjectURL(this.src);var t=document.createElement("canvas"),e=i.width,n=i.height,r=e,s=n;if(e>n)e>650?(r=e*(a=650/e),s=n*a):e<150&&(r=e*(a=150/e),s=n*a);else if(n>650)r=e*(a=650/n),s=n*a;else if(n<150){var a;r=e*(a=150/n),s=n*a}t.width=r,t.height=s,t.getContext("2d").drawImage(i,0,0,r,s);var c=t.toDataURL("image/jpeg");c=c.replace("data:","").replace(/^.+,/,""),cc.systemEvent.emit(o.EVENT_MANAGER.GET_IMG_CHAT,c)}}),e.click()}},t.onSetInfoScale=function(e){t.onCallNative("SET_INFO_SCACLE",e)},t.getImgMiniChat=function(e){t.onCallNative("SCALE_IMG_CHAT",e)},t.onCropImg=function(e){t.onCallNative("CROP_IMG",e)},t.getIsSafe=function(){t.onCallNative("GET_ISSAFE","")},t.ThrowErrProsime=function(t){if(t&&t.stack){if(cc.sys.isNative){var e=t.stack,n="null---ABC---null---ABC---"+(e=e.replace(/[\n]/g,"--"));cc.NativeCallJS("ERR_SHOW",n)}else cc.error(t);throw new i.InfoErr("loi await")}console.error(t)},t}();n.Util=c,cc._RF.pop()},{"./DefineTs/EVENT_MANAGER":"EVENT_MANAGER","./InfoERR":"InfoERR","./Windown":"Windown"}],VMBase:[function(t,e,n){"use strict";cc._RF.push(e,"f4df1c0uM5DR6YArjUAH5JL","VMBase");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./ViewModel"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.watchPath="",e.watchPathArr=[],e.templateMode=!1,e.templateValueArr=[],e.VM=s.VM,e}return i(e,t),e.prototype.onLoad=function(){for(var t=this,e=this.watchPath.split("."),n=1;n<e.length;n++)if("*"==e[n]){(s=this.node.getParent().children.findIndex(function(e){return e===t.node}))<=0&&(s=0),e[n]=s.toString();break}this.watchPath=e.join(".");var o=this.watchPathArr;if(o.length>=1)for(n=0;n<o.length;n++){for(var i=o[n].split("."),r=1;r<i.length;r++)if("*"==i[r]){var s;(s=this.node.getParent().children.findIndex(function(e){return e===t.node}))<=0&&(s=0),i[r]=s.toString();break}this.watchPathArr[n]=i.join(".")}""==this.watchPath&&""==this.watchPathArr.join("")&&cc.log("M\u1ed9t n\xfat c\xf3 th\u1ec3 kh\xf4ng c\xf3 b\u1ed9 \u0111\u01b0\u1eddng d\u1eabn:",this.node.getParent().name+"."+this.node.name)},e.prototype.onEnable=function(){this.templateMode?this.setMultPathEvent(!0):""!=this.watchPath&&this.VM.bindPath(this.watchPath,this.onValueChanged,this),this.onValueInit()},e.prototype.onDisable=function(){this.templateMode?this.setMultPathEvent(!1):""!=this.watchPath&&this.VM.unbindPath(this.watchPath,this.onValueChanged,this)},e.prototype.setMultPathEvent=function(t){void 0===t&&(t=!0);for(var e=this.watchPathArr,n=0;n<e.length;n++){var o=e[n];t?this.VM.bindPath(o,this.onValueChanged,this):this.VM.unbindPath(o,this.onValueChanged,this)}},e.prototype.onValueInit=function(){},e.prototype.onValueChanged=function(){},r([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"./ViewModel":"ViewModel"}],VMCompsEdit:[function(t,e,n){"use strict";cc._RF.push(e,"fc818c0B+JOp4ioOo+taD13","VMCompsEdit");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s,a=cc._decorator,c=a.ccclass,l=a.property,u=a.executeInEditMode,p=a.menu,h=a.help;(function(t){t[t.SEARCH_COMPONENT=0]="SEARCH_COMPONENT",t[t.ENABLE_COMPONENT=1]="ENABLE_COMPONENT",t[t.REPLACE_WATCH_PATH=2]="REPLACE_WATCH_PATH",t[t.DELETE_COMPONENT=3]="DELETE_COMPONENT"})(s||(s={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.findList=["VMBase","VMParent"],e.actionType=s.SEARCH_COMPONENT,e.allowDelete=!1,e.targetPath="game",e.replacePath="*",e.canCollectNodes=!1,e.collectNodes=[],e}return i(e,t),Object.defineProperty(e.prototype,"findTrigger",{get:function(){return!1},set:function(){this.setComponents(0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enableTrigger",{get:function(){return!1},set:function(){this.setComponents(1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disableTrigger",{get:function(){return!1},set:function(){this.setComponents(2)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deleteTrigger",{get:function(){return!1},set:function(){this.setComponents(3)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"replaceTrigger",{get:function(){return!1},set:function(){this.setComponents(4)},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){var t=this.getNodePath(this.node);console.error("you forget delete MVEditFinder,[path]",t)},e.prototype.setComponents=function(t){var e=this,n=this.findList,o="T\xecm ki\u1ebfm c\xe1c th\xe0nh ph\u1ea7n d\u01b0\u1edbi n\xfat hi\u1ec7n t\u1ea1i";switch(t){case 0:o="T\xecm ki\u1ebfm c\xe1c th\xe0nh ph\u1ea7n d\u01b0\u1edbi n\xfat hi\u1ec7n t\u1ea1i";break;case 1:o="K\xedch ho\u1ea1t c\xe1c th\xe0nh ph\u1ea7n c\u1ee7a c\xe1c n\xfat sau";break;case 2:o="T\u1eaft c\xe1c th\xe0nh ph\u1ea7n c\u1ee7a c\xe1c n\xfat sau";break;case 3:o="Lo\u1ea1i b\u1ecf c\xe1c th\xe0nh ph\u1ea7n c\u1ee7a c\xe1c n\xfat sau";break;case 4:o="Thay th\u1ebf \u0111\u01b0\u1eddng d\u1eabn c\u1ee7a c\xe1c n\xfat sau"}cc.log(o),cc.log("______________________"),n.forEach(function(n){e.searchComponent(n,t)}),cc.log("______________________")},e.prototype.searchComponent=function(t,e){var n=this;void 0===e&&(e=0),this.collectNodes=[];var o=this.node.getComponentsInChildren(t);null==o||o.length<1||(cc.log("["+t+"]:"),o.forEach(function(t){var o="";switch(e<=3&&(o=!0===t.templateMode?t.watchPathArr?":[Path:"+t.watchPathArr.join("|")+"]":"":t.watchPath?":[Path:"+t.watchPath+"]":""),cc.log(n.getNodePath(t.node)+o),e){case 0:n.canCollectNodes&&-1===n.collectNodes.indexOf(t.node)&&n.collectNodes.push(t.node);break;case 1:t.enabled=!0;break;case 2:t.enabled=!1;break;case 3:t.node.removeComponent(t);break;case 4:var i=n.targetPath,r=n.replacePath;if(!0===t.templateMode)for(var s=0;s<t.watchPathArr.length;s++){var a=t.watchPathArr[s];t.watchPathArr[s]=n.replaceNodePath(a,i,r)}else t.watchPath=n.replaceNodePath(t.watchPath,i,r)}}))},e.prototype.replaceNodePath=function(t,e,n){for(var o=t.split("."),i=e.split("."),r=n.split("."),s=!0,a=0;a<i.length;a++)if(o[a]!==i[a]){s=!1;break}if(!0===s){for(a=0;a<r.length;a++)o[a]=r[a];cc.log("c\u1eadp nh\u1eadt \u0111\u01b0\u1eddng d\u1eabn:",t,">>>",o.join("."))}return o.join(".")},e.prototype.getNodePath=function(t){for(var e=t,n=[];e;){var o=e.getParent();if(!o)break;n.push(e.name),e=o}return n.reverse().join("/")},r([l({type:[cc.String]})],e.prototype,"findList",void 0),r([l({type:cc.Enum(s)})],e.prototype,"actionType",void 0),r([l({tooltip:"Check xong s\u1ebd t\u1ef1 \u0111\u1ed9ng t\xecm linh ki\u1ec7n \u0111\xe3 \u0111i\u1ec1n trong find list",visible:function(){return this.actionType===s.SEARCH_COMPONENT}})],e.prototype,"findTrigger",null),r([l({tooltip:"Sau khi ki\u1ec3m tra, c\xe1c th\xe0nh ph\u1ea7n \u0111i\u1ec1n v\xe0o danh s\xe1ch t\xecm ki\u1ebfm s\u1ebd \u0111\u01b0\u1ee3c k\xedch ho\u1ea1t h\xe0ng lo\u1ea1t",visible:function(){return this.actionType===s.ENABLE_COMPONENT}})],e.prototype,"enableTrigger",null),r([l({tooltip:"Sau khi ki\u1ec3m tra, c\xe1c th\xe0nh ph\u1ea7n \u0111i\u1ec1n v\xe0o danh s\xe1ch t\xecm ki\u1ebfm s\u1ebd \u0111\u01b0\u1ee3c \u0111\xf3ng l\u1ea1i theo \u0111\u1ee3t",visible:function(){return this.actionType===s.ENABLE_COMPONENT}})],e.prototype,"disableTrigger",null),r([l({tooltip:"\u0110\u01b0\u1ee3c ph\xe9p x\xf3a c\xe1c th\xe0nh ph\u1ea7n c\u1ee7a n\xfat, n\u1ebfu c\u1ea7n x\xf3a vui l\xf2ng ki\u1ec3m tra l\u1ea1i \u0111\u1ec3 tr\xe1nh b\u1ecb l\u1ee3i d\u1ee5ng",visible:function(){return this.actionType===s.DELETE_COMPONENT}})],e.prototype,"allowDelete",void 0),r([l({tooltip:"Sau khi ki\u1ec3m tra, c\xe1c th\xe0nh ph\u1ea7n \u0111i\u1ec1n v\xe0o danh s\xe1ch t\xecm ki\u1ebfm s\u1ebd b\u1ecb x\xf3a h\xe0ng lo\u1ea1t",displayName:"[ X DELETE X ]",visible:function(){return this.allowDelete&&this.actionType===s.DELETE_COMPONENT}})],e.prototype,"deleteTrigger",null),r([l({tooltip:"Sau khi ki\u1ec3m tra, c\xe1c \u0111\u01b0\u1eddng d\u1eabn \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh s\u1ebd \u0111\u01b0\u1ee3c thay th\u1ebf h\xe0ng lo\u1ea1t",visible:function(){return this.actionType===s.REPLACE_WATCH_PATH}})],e.prototype,"replaceTrigger",null),r([l({tooltip:"\u0110\u01b0\u1eddng d\u1eabn ph\xf9 h\u1ee3p, quy t\u1eafc ph\xf9 h\u1ee3p: t\xecm ki\u1ebfm \u0111\u01b0\u1eddng d\u1eabn b\u1eaft \u0111\u1ea7u b\u1eb1ng game",visible:function(){return this.actionType===s.REPLACE_WATCH_PATH}})],e.prototype,"targetPath",void 0),r([l({tooltip:"\u0110\u01b0\u1eddng d\u1eabn \u0111\u1ec3 thay th\u1ebf, thay th\u1ebf \u0111\u01b0\u1eddng d\u1eabn ph\xf9 h\u1ee3p",visible:function(){return this.actionType===s.REPLACE_WATCH_PATH}})],e.prototype,"replacePath",void 0),r([l({tooltip:"C\xf3 thu th\u1eadp c\xe1c n\xfat \u0111\u01b0\u1ee3c li\xean k\u1ebft v\u1edbi c\xe1c th\xe0nh ph\u1ea7n VM hay kh\xf4ng?",visible:function(){return this.actionType===s.SEARCH_COMPONENT}})],e.prototype,"canCollectNodes",void 0),r([l({type:[cc.Node],readonly:!0,tooltip:"C\xe1c n\xfat li\xean quan \u0111\u1ebfn c\xe1c th\xe0nh ph\u1ea7n VM \u0111\u01b0\u1ee3c thu th\u1eadp v\xe0 b\u1ea1n c\xf3 th\u1ec3 t\u1ef1 chuy\u1ec3n \u0111\u1ebfn ch\xfang",visible:function(){return this.canCollectNodes&&this.actionType===s.SEARCH_COMPONENT}})],e.prototype,"collectNodes",void 0),r([c,u,p("ModelViewer/Edit-Comps"),h("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMCompsEdit.md")],e)}(cc.Component);n.default=d,cc._RF.pop()},{}],VMCustom:[function(t,e,n){"use strict";cc._RF.push(e,"f4744MZtP5MS4KqpjY4uLQc","VMCustom");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./VMBase"),a=cc._decorator,c=a.ccclass,l=a.property,u=a.executeInEditMode,p=a.menu,h=a.help,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.controller=!1,e.watchPath="",e.componentName="",e.componentProperty="",e.refreshRate=.1,e._timer=0,e._watchComponent=null,e._canWatchComponent=!1,e._oldValue=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.checkEditorComponent(),this._watchComponent=this.node.getComponent(this.componentName),this.checkComponentState()},e.prototype.onRestore=function(){this.checkEditorComponent()},e.prototype.start=function(){this.onValueInit()},e.prototype.checkEditorComponent=function(){},e.prototype.checkComponentState=function(){this._canWatchComponent=!1,this._watchComponent?this.componentProperty?this.componentProperty in this._watchComponent!=0?this._canWatchComponent=!0:console.error("Thu\u1ed9c t\xednh c\u1ee7a th\xe0nh ph\u1ea7n c\u1ea7n \u0111\u01b0\u1ee3c theo d\xf5i kh\xf4ng t\u1ed3n t\u1ea1i"):console.error("Thu\u1ed9c t\xednh c\u1ee7a th\xe0nh ph\u1ea7n c\u1ea7n \u0111\u01b0\u1ee3c gi\xe1m s\xe1t kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1eb7t"):console.error("Th\xe0nh ph\u1ea7n c\u1ea7n \u0111\u01b0\u1ee3c gi\xe1m s\xe1t ch\u01b0a \u0111\u01b0\u1ee3c \u0111\u1eb7t")},e.prototype.getComponentValue=function(){return this._watchComponent[this.componentProperty]},e.prototype.setComponentValue=function(t){"cc.Toggle"==this.componentName?(1==t&&this.node.getComponent(cc.Toggle).check(),0==t&&this.node.getComponent(cc.Toggle).uncheck()):this._watchComponent[this.componentProperty]=t},e.prototype.onValueInit=function(){this.setComponentValue(this.VM.getValue(this.watchPath))},e.prototype.onValueController=function(t){this.VM.setValue(this.watchPath,t)},e.prototype.onValueChanged=function(t){this.setComponentValue(t)},e.prototype.update=function(t){if(this.controller&&this._canWatchComponent&&!1!==this._watchComponent.enabled&&(this._timer+=t,!(this._timer<this.refreshRate))){this._timer=0;var e=this._oldValue,n=this.getComponentValue();this._oldValue!==n&&(this._oldValue=this.getComponentValue(),this.onValueController(n,e))}},r([l({tooltip:"k\xedch ho\u1ea1t controller,\u0111\u1ec3 b\u1eadt li\xean k\u1ebft hai chi\u1ec1u, n\u1ebfu kh\xf4ng th\xec ch\u1ec9 c\xf3 th\u1ec3 nh\u1eadn \u0111\u01b0\u1ee3c tin nh\u1eafn"})],e.prototype,"controller",void 0),r([l],e.prototype,"watchPath",void 0),r([l({tooltip:"T\xean c\u1ee7a th\xe0nh ph\u1ea7n r\xe0ng bu\u1ed9c"})],e.prototype,"componentName",void 0),r([l({tooltip:"C\xe1c thu\u1ed9c t\xednh c\u1ea7n \u0111\u01b0\u1ee3c gi\xe1m s\xe1t tr\xean th\xe0nh ph\u1ea7n"})],e.prototype,"componentProperty",void 0),r([l({tooltip:"L\xe0m m\u1edbi t\u1ea7n s\u1ed1 kho\u1ea3ng th\u1eddi gian (ch\u1ec9 \u1ea3nh h\u01b0\u1edfng \u0111\u1ebfn t\u1ea7n su\u1ea5t ki\u1ec3m tra b\u1ea9n)",step:.01,range:[0,1],visible:function(){return!0===this.controller}})],e.prototype,"refreshRate",void 0),r([c,u,p("ModelViewer/VM-Custom"),h("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMCustom.md")],e)}(s.default);n.default=d,cc._RF.pop()},{"./VMBase":"VMBase"}],VMEvent:[function(t,e,n){"use strict";cc._RF.push(e,"a3ac79FE+RGVqLNzALmPs8J","VMEvent");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s,a=t("./VMBase"),c=cc._decorator,l=c.ccclass,u=c.property,p=c.executeInEditMode,h=c.menu,d=c.help;(function(t){t[t.none=0]="none",t[t["=="]=1]="==",t[t["!="]=2]="!=",t[t[">"]=3]=">",t[t[">="]=4]=">=",t[t["<"]=5]="<",t[t["<="]=6]="<="})(s||(s={}));var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateMode=!1,e.watchPath="",e.triggerOnce=!1,e.triggerInit=!1,e.watchPathArr=[],e.filterMode=s.none,e.compareValue="",e.changeEvents=[],e}return i(e,t),e.prototype.onValueInit=function(){if(this.triggerInit){var t=this.VM.getValue(this.watchPath);this.onValueChanged(t,t,this.watchPath.split("."))}},e.prototype.onValueChanged=function(t,e,n){this.conditionCheck(t,this.compareValue)&&(Array.isArray(this.changeEvents)&&this.changeEvents.forEach(function(o){o.emit([t,e,n])}),!0===this.triggerOnce&&(this.enabled=!1))},e.prototype.conditionCheck=function(t,e){var n=s;switch(this.filterMode){case n.none:return!0;case n["=="]:if(t==e)return!0;break;case n["!="]:if(t!=e)return!0;break;case n["<"]:if(t<e)return!0;break;case n[">"]:if(t>e)return!0;break;case n[">="]:if(t>=e)return!0;break;case n["<"]:if(t<e)return!0;break;case n["<="]:if(t<=e)return!0}return!1},r([u({tooltip:"S\u1eed d\u1ee5ng ch\u1ebf \u0111\u1ed9 m\u1eabu, b\u1ea1n c\xf3 th\u1ec3 s\u1eed d\u1ee5ng gi\xe1m s\xe1t nhi\u1ec1u \u0111\u01b0\u1eddng"})],e.prototype,"templateMode",void 0),r([u({tooltip:"L\u1eafng nghe \u0111\u01b0\u1eddng d\u1eabn \u0111\u1ec3 nh\u1eadn gi\xe1 tr\u1ecb",visible:function(){return!1===this.templateMode}})],e.prototype,"watchPath",void 0),r([u({tooltip:"S\u1ef1 ki\u1ec7n s\u1ebd t\u1ef1 \u0111\u1ed9ng \u0111\xf3ng sau khi \u0111\u01b0\u1ee3c k\xedch ho\u1ea1t m\u1ed9t l\u1ea7n"})],e.prototype,"triggerOnce",void 0),r([u({tooltip:"S\u1ef1 ki\u1ec7n \u0111\u01b0\u1ee3c k\xedch ho\u1ea1t khi kh\u1edfi t\u1ea1o"})],e.prototype,"triggerInit",void 0),r([u({tooltip:"Nghe nhi\u1ec1u \u0111\u01b0\u1eddng d\u1eabn \u0111\u1ec3 l\u1ea5y gi\xe1 tr\u1ecb. S\u1ef1 thay \u0111\u1ed5i c\u1ee7a c\xe1c gi\xe1 tr\u1ecb n\xe0y s\u1ebd \u0111\u01b0\u1ee3c g\u1ecdi l\u1ea1i th\xf4ng qua h\xe0m n\xe0y. Vui l\xf2ng s\u1eed d\u1ee5ng pathArr \u0111\u1ec3 ph\xe2n bi\u1ec7t c\xe1c gi\xe1 tr\u1ecb thu \u0111\u01b0\u1ee3c ",type:[cc.String],visible:function(){return!0===this.templateMode}})],e.prototype,"watchPathArr",void 0),r([u({tooltip:"Ch\u1ebf \u0111\u1ed9 l\u1ecdc, s\u1ebd l\u1ecdc ra c\xe1c tr\xecnh k\xedch ho\u1ea1t th\u1eddi gian d\u1ef1a tr\xean c\xe1c \u0111i\u1ec1u ki\u1ec7n",type:cc.Enum(s)})],e.prototype,"filterMode",void 0),r([u({visible:function(){return this.filterMode!==s.none}})],e.prototype,"compareValue",void 0),r([u([cc.Component.EventHandler])],e.prototype,"changeEvents",void 0),r([l,p,h("ModelViewer/VM-EventCall"),d("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMEvent.md")],e)}(a.default);n.default=f,cc._RF.pop()},{"./VMBase":"VMBase"}],VMLabel:[function(t,e,n){"use strict";cc._RF.push(e,"b1d4fwY7tFBVZ83/r/4fH6Z","VMLabel");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./VMBase"),a=t("./StringFormat"),c=cc._decorator,l=c.ccclass,u=c.property,p=c.menu,h=c.executeInEditMode,d=c.help,f={CC_LABEL:"cc.Label",CC_RICH_TEXT:"cc.RichText",CC_EDIT_BOX:"cc.EditBox"},y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.watchPath="",e.labelType=f.CC_LABEL,e.templateMode=!1,e.watchPathArr=[],e.templateValueArr=[],e.templateFormatArr=[],e.originText=null,e}return i(e,t),e.prototype.onRestore=function(){this.checkLabel()},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.checkLabel(),this.templateMode&&(this.originText=this.getLabelValue(),this.parseTemplate())},e.prototype.start=function(){this.onValueInit()},e.prototype.parseTemplate=function(){var t=/\{\{(.+?)\}\}/,e=this.originText.match(/\{\{(.+?)\}\}/g);if(null!=e)for(var n=0;n<e.length;n++){var o=e[n].match(t)[1].split(":")[1]||"";this.templateFormatArr[n]=o}},e.prototype.getReplaceText=function(){if(!this.originText)return"";var t=/\{\{(.+?)\}\}/,e=this.originText.match(/\{\{(.+?)\}\}/g);if(null==e)return"";for(var n=this.originText,o=0;o<e.length;o++){var i,r=e[o],s=r.match(t),a=parseInt(s[1]||"0")||0,c=this.templateFormatArr[o];i=this.templateValueArr[a],n=n.replace(r,this.getValueFromFormat(i,c))}return n},e.prototype.getValueFromFormat=function(t,e){return a.StringFormatFunction.deal(t,e)},e.prototype.onValueInit=function(){if(!1===this.templateMode)this.setLabelValue(this.VM.getValue(this.watchPath));else{for(var t=this.watchPathArr.length,e=0;e<t;e++)this.templateValueArr[e]=this.VM.getValue(this.watchPathArr[e],"?");this.setLabelValue(this.getReplaceText())}},e.prototype.onValueChanged=function(t,e,n){if(!1===this.templateMode)this.setLabelValue(t);else{var o=n.join("."),i=this.watchPathArr.findIndex(function(t){return t===o});i>=0&&(this.templateValueArr[i]=t,this.setLabelValue(this.getReplaceText()))}},e.prototype.setLabelValue=function(t){this.getComponent(this.labelType).string=t+""},e.prototype.getLabelValue=function(){return this.getComponent(this.labelType).string},e.prototype.checkLabel=function(){for(var t=["cc.Label","cc.RichText","cc.EditBox"],e=0;e<t.length;e++){var n=t[e];if(this.node.getComponent(n))return this.labelType=n,!0}return cc.error("Kh\xf4ng c\xf3 th\xe0nh ph\u1ea7n label n\xe0o \u0111\u01b0\u1ee3c g\u1eafn"),!1},r([u({visible:function(){return!1===this.templateMode}})],e.prototype,"watchPath",void 0),r([u({readonly:!0})],e.prototype,"labelType",void 0),r([u({tooltip:"Vi\u1ec7c c\xf3 b\u1eadt m\xe3 m\u1eabu hay kh\xf4ng ch\u1ec9 c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c \u0111\u1eb7t tr\u01b0\u1edbc th\u1eddi gian ch\u1ea1y, \n s\u1ebd t\u1ef1 \u0111\u1ed9ng ph\xe2n t\xedch c\xfa ph\xe1p m\u1eabu {{0}} v\xe0 t\u1ef1 \u0111\u1ed9ng \u0111\u1eb7t \u0111\u01b0\u1eddng d\u1eabn gi\xe1m s\xe1t"})],e.prototype,"templateMode",void 0),r([u({type:[cc.String],visible:function(){return!0===this.templateMode}})],e.prototype,"watchPathArr",void 0),r([l,h,p("ModelViewer/VM-Label"),d("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMLabel.md")],e)}(s.default);n.default=y,cc._RF.pop()},{"./StringFormat":"StringFormat","./VMBase":"VMBase"}],VMModify:[function(t,e,n){"use strict";cc._RF.push(e,"26e6bfZGHNEQr5MSKX1DV90","VMModify");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s,a=t("./VMBase"),c=cc._decorator,l=c.ccclass,u=c.property,p=c.menu,h=c.help;(function(t){t[t.MIN=0]="MIN",t[t.MAX=1]="MAX",t[t.MIN_MAX=2]="MIN_MAX"})(s||(s={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.watchPath="",e.valueClamp=!1,e.valueClampMode=s.MIN_MAX,e.valueMin=0,e.valueMax=1,e}return i(e,t),e.prototype.start=function(){},e.prototype.clampValue=function(t){var e=this.valueMin,n=this.valueMax;if(0==this.valueClamp)return t;switch(this.valueClampMode){case s.MIN_MAX:t>n&&(t=n),t<e&&(t=e);break;case s.MIN:t<e&&(t=e);break;case s.MAX:t>n&&(t=n)}return t},e.prototype.vAddInt=function(t,e){this.vAdd(t,e,!0)},e.prototype.vSubInt=function(t,e){this.vSub(t,e,!0)},e.prototype.vMulInt=function(t,e){this.vMul(t,e,!0)},e.prototype.vDivInt=function(t,e){this.vDiv(t,e,!0)},e.prototype.vAdd=function(t,e,n){if(void 0===n&&(n=!1),this.enabled){var o=parseFloat(e),i=this.VM.getValue(this.watchPath,0)+o;n&&(i=Math.round(i)),this.VM.setValue(this.watchPath,this.clampValue(i))}},e.prototype.vSub=function(t,e,n){if(void 0===n&&(n=!1),this.enabled){var o=parseFloat(e),i=this.VM.getValue(this.watchPath,0)-o;n&&(i=Math.round(i)),this.VM.setValue(this.watchPath,this.clampValue(i))}},e.prototype.vMul=function(t,e,n){if(void 0===n&&(n=!1),this.enabled){var o=parseFloat(e),i=this.VM.getValue(this.watchPath,0)*o;n&&(i=Math.round(i)),this.VM.setValue(this.watchPath,this.clampValue(i))}},e.prototype.vDiv=function(t,e,n){if(void 0===n&&(n=!1),this.enabled){var o=parseFloat(e),i=this.VM.getValue(this.watchPath,0)/o;n&&(i=Math.round(i)),this.VM.setValue(this.watchPath,this.clampValue(i))}},e.prototype.vString=function(t,e){if(this.enabled){var n=e;this.VM.setValue(this.watchPath,n)}},e.prototype.vNumberInt=function(t,e){this.enabled&&this.vNumber(t,e,!0)},e.prototype.vNumber=function(t,e,n){if(void 0===n&&(n=!1),this.enabled){var o=parseFloat(e);n&&(o=Math.round(o)),this.VM.setValue(this.watchPath,this.clampValue(o))}},r([u],e.prototype,"watchPath",void 0),r([u()],e.prototype,"valueClamp",void 0),r([u({type:cc.Enum(s),visible:function(){return!0===this.valueClamp}})],e.prototype,"valueClampMode",void 0),r([u({visible:function(){return!0===this.valueClamp&&this.valueClampMode!==s.MAX}})],e.prototype,"valueMin",void 0),r([u({visible:function(){return!0===this.valueClamp&&this.valueClampMode!==s.MIN}})],e.prototype,"valueMax",void 0),r([l,p("ModelViewer/VM-Modify"),h("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMModify.md")],e)}(a.default);n.default=d,cc._RF.pop()},{"./VMBase":"VMBase"}],VMParent:[function(t,e,n){"use strict";cc._RF.push(e,"b672aemUs9KSZbLKGfm7hd/","VMParent");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./ViewModel"),a=cc._decorator,c=a.ccclass,l=(a.property,a.help),u=a.executionOrder,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tag="_temp",e.data={},e.VM=s.VM,e}return i(e,t),e.prototype.onLoad=function(){if(null!=this.data){this.tag="_temp<"+this.node.uuid.replace(".","")+">",s.VM.add(this.data,this.tag);for(var t=this.getVMComponents(),e=0;e<t.length;e++){var n=t[e];this.replaceVMPath(n,this.tag)}this.onBind()}},e.prototype.onBind=function(){},e.prototype.onUnBind=function(){},e.prototype.replaceVMPath=function(t,e){var n=t.watchPath;if(1==t.templateMode){var o=t.watchPathArr;if(o)for(var i=0;i<o.length;i++){var r=o[i];o[i]=r.replace("*",e)}}else"*"===n.split(".")[0]&&(t.watchPath=n.replace("*",e))},e.prototype.getVMComponents=function(){var t=this,e=this.node.getComponentsInChildren("VMBase"),n=this.node.getComponentsInChildren("VMParent").filter(function(e){return e.uuid!==t.uuid}),o=[];return n.forEach(function(t){o=o.concat(t.getComponentsInChildren("VMBase"))}),e.filter(function(t){return o.indexOf(t)<0})},e.prototype.onDestroy=function(){this.onUnBind(),s.VM.remove(this.tag),this.data=null},r([c,u(-1),l("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMParent.md")],e)}(cc.Component);n.default=p,cc._RF.pop()},{"./ViewModel":"ViewModel"}],VMProgress:[function(t,e,n){"use strict";cc._RF.push(e,"2e079QGKD9ORJrfxDSZKZ/t","VMProgress");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./VMCustom"),a=t("./StringFormat"),c=cc._decorator,l=c.ccclass,u=c.property,p=c.menu,h=c.help,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.watchPath="",e.watchPathArr=["[min]","[max]"],e.templateMode=!0,e.stringFormat="",e}return i(e,t),e.prototype.onLoad=function(){(this.watchPathArr.length<2||"[min]"==this.watchPathArr[0]||"[max]"==this.watchPathArr[1])&&console.error("VMProgress must have two values!"),t.prototype.onLoad.call(this)},e.prototype.start=function(){this.onValueInit()},e.prototype.onValueInit=function(){for(var t=this.watchPathArr.length,e=0;e<t;e++)this.templateValueArr[e]=this.VM.getValue(this.watchPathArr[e]);var n=this.templateValueArr[0]/this.templateValueArr[1];this.setComponentValue(n)},e.prototype.setComponentValue=function(e){if(""!==this.stringFormat){var n=a.StringFormatFunction.deal(e,this.stringFormat);t.prototype.setComponentValue.call(this,n)}else t.prototype.setComponentValue.call(this,e)},e.prototype.onValueController=function(t){var e=Math.round(t*this.templateValueArr[1]);Number.isNaN(e)&&(e=0),this.VM.setValue(this.watchPathArr[0],e)},e.prototype.onValueChanged=function(t,e,n){if(!1!==this.templateMode){var o=n.join("."),i=this.watchPathArr.findIndex(function(t){return t===o});i>=0&&(this.templateValueArr[i]=t);var r=this.templateValueArr[0]/this.templateValueArr[1];r>1&&(r=1),(r<0||Number.isNaN(r))&&(r=0),this.setComponentValue(r)}},r([u({visible:!1,override:!0})],e.prototype,"watchPath",void 0),r([u({type:[cc.String],tooltip:"Gi\xe1 tr\u1ecb \u0111\u1ea7u ti\xean l\xe0 gi\xe1 tr\u1ecb t\u1ed1i thi\u1ec3u, gi\xe1 tr\u1ecb th\u1ee9 hai l\xe0 gi\xe1 tr\u1ecb t\u1ed1i \u0111a v\xe0 t\u1ef7 l\u1ec7 c\u1ee7a hai gi\xe1 tr\u1ecb n\xe0y s\u1ebd \u0111\u01b0\u1ee3c t\xednh to\xe1n"})],e.prototype,"watchPathArr",void 0),r([u({visible:function(){return"string"===this.componentProperty},tooltip:"\u0110\u1ecbnh d\u1ea1ng chu\u1ed7i, gi\u1ed1ng nh\u01b0 c\xe1c tr\u01b0\u1eddng c\u1ee7a VMLabel, b\u1ea1n c\u1ea7n \u0111i\u1ec1n chu\u1ed7i \u0111\u1ecbnh d\u1ea1ng t\u01b0\u01a1ng \u1ee9ng"})],e.prototype,"stringFormat",void 0),r([l,p("ModelViewer/VM-Progress"),h("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMProgress.md")],e)}(s.default);n.default=d,cc._RF.pop()},{"./StringFormat":"StringFormat","./VMCustom":"VMCustom"}],VMState:[function(t,e,n){"use strict";cc._RF.push(e,"16c5cz80VdP+rQ+147diMLZ","VMState");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s,a,c,l=t("./ViewModel"),u=t("./VMBase"),p=cc._decorator,h=p.ccclass,d=p.property,f=p.menu,y=p.help;(function(t){t[t["=="]=0]="==",t[t["!="]=1]="!=",t[t[">"]=2]=">",t[t[">="]=3]=">=",t[t["<"]=4]="<",t[t["<="]=5]="<=",t[t.range=6]="range"})(s||(s={})),function(t){t[t.NODE_ACTIVE=0]="NODE_ACTIVE",t[t.NODE_VISIBLE=1]="NODE_VISIBLE",t[t.NODE_OPACITY=2]="NODE_OPACITY",t[t.NODE_COLOR=3]="NODE_COLOR",t[t.COMPONENT_CUSTOM=4]="COMPONENT_CUSTOM"}(a||(a={})),function(t){t[t.NODE_INDEX=0]="NODE_INDEX",t[t.NODE_NAME=1]="NODE_NAME"}(c||(c={}));var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.watchPath="",e.foreachChildMode=!1,e.condition=s["=="],e.foreachChildType=c.NODE_INDEX,e.valueA="0",e.valueB="0",e.valueAction=a.NODE_ACTIVE,e.valueActionOpacity=0,e.valueActionColor=cc.color(155,155,155),e.valueComponentName="",e.valueComponentProperty="",e.valueComponentDefaultValue="",e.valueComponentActionValue="",e.watchNodes=[],e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),0==this.watchNodes.length&&(this.valueAction!==a.NODE_ACTIVE&&!1===this.foreachChildMode&&this.watchNodes.push(this.node),this.watchNodes=this.watchNodes.concat(this.node.children))},e.prototype.start=function(){this.enabled&&this.onValueInit()},e.prototype.onValueInit=function(){var t=l.VM.getValue(this.watchPath);this.checkNodeFromValue(t)},e.prototype.onValueChanged=function(t){this.checkNodeFromValue(t)},e.prototype.checkNodeFromValue=function(t){var e=this;if(this.foreachChildMode)this.watchNodes.forEach(function(n,o){var i=e.foreachChildType===c.NODE_INDEX?o:n.name,r=e.conditionCheck(t,i);e.setNodeState(n,r)});else{var n=this.conditionCheck(t,this.valueA,this.valueB);this.setNodesStates(n)}},e.prototype.setNodesStates=function(t){var e=this,n=this.watchNodes,o=t;n.forEach(function(t){e.setNodeState(t,o)})},e.prototype.setNodeState=function(t,e){var n=this.valueAction,o=e,i=a;switch(n){case i.NODE_ACTIVE:t.active=!!o;break;case i.NODE_VISIBLE:t.opacity=o?255:0;break;case i.NODE_COLOR:t.color=o?this.valueActionColor:cc.color(255,255,255);break;case i.NODE_OPACITY:t.opacity=o?this.valueActionOpacity:255;break;case i.COMPONENT_CUSTOM:var r=t.getComponent(this.valueComponentName);if(null==r)return;this.valueComponentProperty in r&&("boolean"==typeof r[this.valueComponentProperty]&&(this.valueComponentActionValue=parseInt(this.valueComponentActionValue),this.valueComponentDefaultValue=parseInt(this.valueComponentDefaultValue)),r[this.valueComponentProperty]=o?this.valueComponentActionValue:this.valueComponentDefaultValue)}},e.prototype.conditionCheck=function(t,e,n){var o=s;switch(this.condition){case o["=="]:if(t==e)return!0;break;case o["!="]:if(t!=e)return!0;break;case o["<"]:if(t<e)return!0;break;case o[">"]:if(t>e)return!0;break;case o[">="]:if(t>=e)return!0;break;case o["<"]:if(t<e)return!0;break;case o["<="]:if(t<=e)return!0;break;case o.range:if(t>=e&&t<=n)return!0}return!1},r([d],e.prototype,"watchPath",void 0),r([d({tooltip:"Duy\u1ec7t qua c\xe1c n\xfat con, chuy\u1ec3n \u0111\u1ed5i t\xean ho\u1eb7c t\xean c\u1ee7a n\xfat con th\xe0nh m\u1ed9t gi\xe1 tr\u1ecb v\xe0 \u0111\xe1nh gi\xe1 r\u1eb1ng gi\xe1 tr\u1ecb th\u1ecfa m\xe3n \u0111i\u1ec1u ki\u1ec7n \u0111\u1ec3 k\xedch ho\u1ea1t"})],e.prototype,"foreachChildMode",void 0),r([d({type:cc.Enum(s)})],e.prototype,"condition",void 0),r([d({type:cc.Enum(c),tooltip:"Duy\u1ec7t qua c\xe1c n\xfat con, chuy\u1ec3n \u0111\u1ed5i t\xean c\u1ee7a n\xfat con th\xe0nh m\u1ed9t gi\xe1 tr\u1ecb v\xe0 \u0111\xe1nh gi\xe1 r\u1eb1ng gi\xe1 tr\u1ecb th\u1ecfa m\xe3n \u0111i\u1ec1u ki\u1ec7n \u0111\u1ec3 k\xedch ho\u1ea1t",visible:function(){return!0===this.foreachChildMode}})],e.prototype,"foreachChildType",void 0),r([d({displayName:"Value: a",visible:function(){return!1===this.foreachChildMode}})],e.prototype,"valueA",void 0),r([d({displayName:"Value: b",visible:function(){return!1===this.foreachChildMode&&this.condition===s.range}})],e.prototype,"valueB",void 0),r([d({type:cc.Enum(a),tooltip:"Th\u1ef1c hi\u1ec7n m\u1ed9t h\xe0nh \u0111\u1ed9ng tr\xean m\u1ed9t n\xfat khi m\u1ed9t \u0111i\u1ec1u ki\u1ec7n \u0111\u01b0\u1ee3c \u0111\xe1p \u1ee9ng"})],e.prototype,"valueAction",void 0),r([d({visible:function(){return this.valueAction===a.NODE_OPACITY},range:[0,255],type:cc.Integer,displayName:"Action Opacity"})],e.prototype,"valueActionOpacity",void 0),r([d({visible:function(){return this.valueAction===a.NODE_COLOR},displayName:"Action Color"})],e.prototype,"valueActionColor",void 0),r([d({visible:function(){return this.valueAction===a.COMPONENT_CUSTOM},displayName:"Component Name"})],e.prototype,"valueComponentName",void 0),r([d({visible:function(){return this.valueAction===a.COMPONENT_CUSTOM},tooltip:"N\u1ebfu type l\xe0 boolean th\xec value l\xe0 0:false,1:true",displayName:"Component Property"})],e.prototype,"valueComponentProperty",void 0),r([d({visible:function(){return this.valueAction===a.COMPONENT_CUSTOM},displayName:"Default Value"})],e.prototype,"valueComponentDefaultValue",void 0),r([d({visible:function(){return this.valueAction===a.COMPONENT_CUSTOM},displayName:"Action Value"})],e.prototype,"valueComponentActionValue",void 0),r([d({type:[cc.Node],tooltip:"N\xfat c\u1ea7n th\u1ef1c hi\u1ec7n \u0111i\u1ec1u ki\u1ec7n, n\u1ebfu n\xf3 kh\xf4ng \u0111\u01b0\u1ee3c \u0111i\u1ec1n th\xec tr\u1ea1ng th\xe1i c\u1ee7a n\xfat n\xe0y v\xe0 t\u1ea5t c\u1ea3 c\xe1c n\xfat con c\u1ee7a n\xfat n\xe0y s\u1ebd \u0111\u01b0\u1ee3c th\u1ef1c thi theo m\u1eb7c \u0111\u1ecbnh."})],e.prototype,"watchNodes",void 0),r([h,f("ModelViewer/VM-State"),y("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMState.md")],e)}(u.default);n.default=g,cc._RF.pop()},{"./VMBase":"VMBase","./ViewModel":"ViewModel"}],ViewModel:[function(t,e,n){"use strict";cc._RF.push(e,"cdc6cugj1JDY5xrguYpwUms","ViewModel"),Object.defineProperty(n,"__esModule",{value:!0}),n.VM=void 0;var o=t("./JsonOb"),i="VC:";function r(t,e,n,o){void 0===o&&(o="");for(var i=e.split("."),r=0;r<i.length;r++){var s=i[r];if(s in t==0){console.error("["+s+"] not find in "+o+"."+e);break}r==i.length-1?t[s]=n:t=t[s]}}function s(t,e,n,o){void 0===o&&(o="");for(var i=e.split("."),r=0;r<i.length;r++){var s=i[r];if(s in t==0)return console.error("["+s+"] not find in "+o+"."+e),n;t=t[s]}return null==t&&(t=n),t}var a=function(){function t(t,e){this._tag=null,this.active=!0,this.emitToRootPath=!1,new o.JsonOb(t,this._callback.bind(this)),this.$data=t,this._tag=e}return t.prototype._callback=function(t,e,n){if(1==this.active){var o=i+this._tag+"."+n.join(".");if(cc.director.emit(o,t,e,[this._tag].concat(n)),this.emitToRootPath&&cc.director.emit(i+this._tag,t,e,n),n.length>=2)for(var r=0;r<n.length-1;r++)n[r]}},t.prototype.setValue=function(t,e){r(this.$data,t,e,this._tag)},t.prototype.getValue=function(t,e){return s(this.$data,t,e,this._tag)},t}(),c=function(){function t(){this._mvs=[],this.EMIT_HEAD=i,this.setObjValue=r,this.getObjValue=s}return t.prototype.add=function(t,e,n){void 0===e&&(e="global"),void 0===n&&(n=!1);var o=new a(t,e),i=this._mvs.find(function(t){return t.tag===e});e.includes(".")?console.error("cant write . in tag:",e):i?console.error("already set VM tag:"+e):(o.emitToRootPath=n,this._mvs.push({tag:e,vm:o}))},t.prototype.remove=function(t){var e=this._mvs.findIndex(function(e){return e.tag===t});e>=0&&this._mvs.splice(e,1)},t.prototype.get=function(t){var e=this._mvs.find(function(e){return e.tag===t});if(null!=e)return e.vm;console.error("cant find VM from:",t)},t.prototype.addValue=function(t,e){var n=(t=t.trim()).split(".");n.length<2&&console.error("Cant find path:"+t);var o=this.get(n[0]);if(o){var i=n.slice(1).join(".");o.setValue(i,o.getValue(i)+e)}else console.error("Cant Set VM:"+n[0])},t.prototype.getValue=function(t,e){var n=(t=t.trim()).split(".");if(n.length<2)console.error("Get Value Cant find path:"+t);else{var o=this.get(n[0]);if(o)return o.getValue(n.slice(1).join("."),e);console.error("Cant Get VM:"+n[0])}},t.prototype.setValue=function(t,e){var n=(t=t.trim()).split(".");if(n.length<2)console.error("Set Value Cant find path:"+t);else{var o=this.get(n[0]);o?o.setValue(n.slice(1).join("."),e):console.error("Cant Set VM:"+n[0])}},t.prototype.bindPath=function(t,e,n,o){""!=(t=t.trim())?"*"!==t.split(".")[0]?cc.director.on(i+t,e,n,o):console.error(t,"\u8def\u5f84\u4e0d\u5408\u6cd5,\u53ef\u80fd\u9519\u8bef\u8986\u76d6\u4e86 VMParent \u7684onLoad \u65b9\u6cd5, \u6216\u8005\u7236\u8282\u70b9\u5e76\u672a\u6302\u8f7d VMParent \u76f8\u5173\u7684\u7ec4\u4ef6\u811a\u672c"):console.error(n.node.name,"\u8282\u70b9\u7ed1\u5b9a\u7684\u8def\u5f84\u4e3a\u7a7a")},t.prototype.unbindPath=function(t,e,n){"*"!==(t=t.trim()).split(".")[0]?cc.director.off(i+t,e,n):console.error(t,"\u8def\u5f84\u4e0d\u5408\u6cd5,\u53ef\u80fd\u9519\u8bef\u8986\u76d6\u4e86 VMParent \u7684onLoad \u65b9\u6cd5, \u6216\u8005\u7236\u8282\u70b9\u5e76\u672a\u6302\u8f7d VMParent \u76f8\u5173\u7684\u7ec4\u4ef6\u811a\u672c")},t.prototype.targetOff=function(t){cc.director.targetOff(t)},t.prototype.inactive=function(){this._mvs.forEach(function(t){t.vm.active=!1})},t.prototype.active=function(){this._mvs.forEach(function(t){t.vm.active=!0})},t}();n.VM=new c,cc._RF.pop()},{"./JsonOb":"JsonOb"}],VongQuay:[function(t,e,n){"use strict";cc._RF.push(e,"cfe24B4HiJGLIMzAYAN3sYG","VongQuay");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../DefineTs/PlayerPP"),l=t("../../DefineTs/REQUEST_CODE"),u=t("../../Network/ConectManager"),p=t("../../Windown"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeRotate=null,e.btnSpin=null,e.coinItem=null,e.spineChip=null,e.dialog=null,e.textQuay=null,e.animLightSang=null,e.btnClose=null,e.isShowNext=!1,e._map=new Map,e.moneyTake=0,e.isSend=!1,e.lastAngle=22.5,e}return i(e,t),e.prototype.onLoad=function(){this._map.set(1e3,[[222,247],[342,366]]),this._map.set(5e3,[[104,127],[284,306]]),this._map.set(1e4,[[372,398],[193,217]]),this._map.set(2e4,[[42,67],[133,156]]),this._map.set(2e3,[[311,337],[431,456]]),this._map.set(3e3,[[253,277],[74,95]]),cc.systemEvent.on(l.REQUEST_CODE.TakeFirtLogin,this.responseServer,this),this.changeStatus()},e.prototype.onDestroy=function(){cc.systemEvent.removeAll(this)},e.prototype.responseServer=function(t){var e=this;if(cc.log("responseServer:"+p.Windown.SFSObjToJson(t)),t.containsKey(c.PlayerPP.ERR_MESSAGE))p.Windown.Dialog.showLog(t.get(c.PlayerPP.ERR_MESSAGE),function(){e.onClickClose()});else{this.btnClose.active=!1,p.Windown.User.isFirtLogin=!1;var n=t.get("mn");this.moneyTake=n;var o=this._map.get(n),i=o[p.Windown.RandomNumber(0,o.length)];cc.log("moneyTake="+this.moneyTake);var r=p.Windown.RandomNumber(i[0],i[1]+1);cc.log("random goc=",i);var s=cc.rotateBy(7,710+r).easing(cc.easeCubicActionOut()),a=cc.delayTime(1),l=cc.callFunc(function(){e.dialog.active=!0,e.dialog.scale=0,e.dialog.runAction(cc.scaleTo(.5,1).easing(cc.easeBackOut())),cc.find("lbMoney",e.dialog).getComponent(cc.Label).string=p.Windown.formatNumber(n);var t=p.Windown.AudioManager;t.playEffect(t.takeMoney)});this.nodeRotate.runAction(cc.sequence(s,a,l))}},e.prototype.show=function(t){this.isShowNext=t,p.Windown.actionEffectOpenPopup(this.node)},e.prototype.changeStatus=function(){p.Windown.User.isFirtLogin?(this.textQuay.string="(1 L\u01b0\u1ee3t)",this.btnSpin.interactable=!0):(this.textQuay.string="(0 L\u01b0\u1ee3t)",this.btnSpin.interactable=!1)},e.prototype.onClickSpin=function(){this.animLightSang.node.active=!0,this.btnSpin.interactable=!1,p.Windown.User.isFirtLogin=!1,this.changeStatus(),u.ConectManager.getIns().sendRequest(l.REQUEST_CODE.TakeFirtLogin,null)},e.prototype.onClickXacNhan=function(){return s(this,void 0,void 0,function(){var t,e=this;return a(this,function(){return(t=p.Windown.AudioManager).playEffect(t.tienRoi,1,!0),this.spineChip.node.active=!0,this.spineChip.setAnimation(0,"animation",!1),this.spineChip.setCompleteListener(function(){e.onClickClose()}),[2]})})},e.prototype.makeDelay=function(t){var e=this;return new Promise(function(n){e.scheduleOnce(n,t)})},e.prototype.onClickClose=function(){var t=this;p.Windown.actionEffectClosePopup(this.node,function(){t.isShowNext&&p.Windown.UIManager.showSuggetsDauNgay(),t.node.destroy()})},e.prototype.onClickTest=function(){var t=u.ConectManager.getIns().getSFSObj();t.putInt("mn",1e4),this.responseServer(t)},e.prototype.update=function(){var t=this.nodeRotate.angle;if(t>this.lastAngle){var e=p.Windown.AudioManager;e.playEffectNoStop(e.cachCach),this.lastAngle=22.5*(Number(t/22.5)+1)}},r([f(cc.Node)],e.prototype,"nodeRotate",void 0),r([f(cc.Button)],e.prototype,"btnSpin",void 0),r([f(cc.Node)],e.prototype,"coinItem",void 0),r([f(sp.Skeleton)],e.prototype,"spineChip",void 0),r([f(cc.Node)],e.prototype,"dialog",void 0),r([f(cc.Label)],e.prototype,"textQuay",void 0),r([f(sp.Skeleton)],e.prototype,"animLightSang",void 0),r([f(cc.Node)],e.prototype,"btnClose",void 0),r([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../DefineTs/PlayerPP":"PlayerPP","../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../Network/ConectManager":"ConectManager","../../Windown":"Windown"}],WebViewControl:[function(t,e,n){"use strict";cc._RF.push(e,"4dd4cUBTGJJqrhR1+iKzeV8","WebViewControl");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.WebView=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.onCliclClose=function(){this.node.active=!1,s.Windown.UIManager.onShowMainView()},e.prototype.show=function(t){s.Windown.UIManager.onHideMainView(),this.node.active=!0,this.WebView.url=t},r([l(cc.WebView)],e.prototype,"WebView",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./Windown":"Windown"}],WildMutilSymbol:[function(t,e,n){"use strict";cc._RF.push(e,"0a8f6a7QG5EC4zNZ4AI13KS","WildMutilSymbol");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spWild=null,e.ske=null,e.nodeKhung=null,e.listSpWild=[],e.listSkedataWild=[],e.posCache=null,e.isCanRemove=!1,e.lengthWild=0,e.itemColum=null,e.index=0,e}return i(e,t),e.prototype.init=function(t,e,n,o){this.spWild.spriteFrame=this.listSpWild[t-1],this.ske.skeletonData=this.listSkedataWild[t-1],this.node.height=130*t,this.itemColum=e,this.posCache=n,this.index=o},e.prototype.moveWhenGayNhuY=function(t){this.index<t?this.node.runAction(cc.moveBy(.2,0,65)):this.node.runAction(cc.moveBy(.2,0,-65))},e.prototype.playAniTake=function(){var t=this;s.Windown.NgoKhong.audio.playEffect(s.Windown.NgoKhong.audio.symWildSeparate,.6),this.nodeKhung.active=!0,this.ske.node.active=!0,this.ske.setAnimation(0,"win",!1),this.scheduleOnce(function(){s.Windown.NgoKhong.asset.putSymbolMutilWild(t.node)},.8),this.node.runAction(cc.sequence(cc.delayTime(.5),cc.fadeOut(.2)))},e.prototype.effectShow=function(){this.ske.node.active=!0,this.ske.setAnimation(0,"spawn",!1)},e.prototype.isStopColum=function(){this.node.setPosition(this.posCache),this.isCanRemove=!0},e.prototype.unuse=function(){this.node.stopAllActions(),this.node.opacity=255,this.itemColum=null,this.ske.node.active=!1,this.nodeKhung.active=!1,this.isCanRemove=!1},e.prototype.update=function(){if(this.isCanRemove){var t=this.node.parent.convertToWorldSpaceAR(this.node.getPosition()),e=this.itemColum.node.convertToNodeSpaceAR(t),n=(this.itemColum.result.length+2)*this.node.height/2*-1;e.y<=n&&s.Windown.NgoKhong.asset.putSymbolMutilWild(this.node)}},r([l(cc.Sprite)],e.prototype,"spWild",void 0),r([l(sp.Skeleton)],e.prototype,"ske",void 0),r([l(cc.Node)],e.prototype,"nodeKhung",void 0),r([l([cc.SpriteFrame])],e.prototype,"listSpWild",void 0),r([l([sp.SkeletonData])],e.prototype,"listSkedataWild",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],WindownChat:[function(t,e,n){"use strict";cc._RF.push(e,"60d1e6lWZZHfoTFQrnQQux5","WindownChat");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/EVENT_MANAGER"),a=t("../../DefineTs/REQUEST_CODE"),c=t("../../DefineTs/TextDefine"),l=t("../../Network/ConectManager"),u=t("../../Parent/BaseEditbox"),p=t("../../Util"),h=t("../../Windown"),d=t("./ItemChat"),f=cc._decorator,y=f.ccclass,g=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbNameAdmin=null,e.scrChat=null,e.nodeStatus=null,e.edbMess=null,e.itemTemplateOther=null,e.itemTemplateMe=null,e.funGetState=null,e.poolItemChatMe=new cc.NodePool,e.poolItemChatOther=new cc.NodePool,e.sfsArry=null,e.isNeedHelp=!1,e}return i(e,t),e.prototype.onLoad=function(){this.resignEdb(this.edbMess)},e.prototype.onEnable=function(){this.node.setPosition(50,-50),cc.systemEvent.on(s.EVENT_MANAGER.onEnter,this.onClickSend,this),cc.systemEvent.on(s.EVENT_MANAGER.GET_IMG_CHAT,this.getImgChat,this)},e.prototype.onDisable=function(){cc.systemEvent.off(s.EVENT_MANAGER.onEnter,this.onClickSend,this),cc.systemEvent.off(s.EVENT_MANAGER.GET_IMG_CHAT,this.getImgChat,this),this.unschedule(this.funGetState)},e.prototype.getImgChat=function(t){var e=l.ConectManager.getIns().getSFSObj();e.putText("base64Img",t),e.putUtfString("info","img"),e.putUtfString("adminName",this.lbNameAdmin.string),l.ConectManager.getIns().sendRequest(a.REQUEST_CODE.SendMessageToAdmin,e)},e.prototype.reset=function(){for(var t=0,e=this.scrChat.content.children.length;t<e;t++){var n=this.scrChat.content.children[0].getComponent(d.default);n&&(n.isMe?this.poolItemChatMe.put(n.node):this.poolItemChatOther.put(n.node))}},e.prototype.show=function(t,e){var n=this;this.isNeedHelp=e,h.Windown.actionEffectOpen(this.node,function(){null!=n.sfsArry?(n.initListItem(n.sfsArry),h.Windown.ChatAdminController.scheduleGetNewSate(t,!1)):h.Windown.ChatAdminController.scheduleGetNewSate(t,!0)}),this.lbNameAdmin.string=t},e.prototype.onClickClose=function(){var t=this;h.Windown.actionEffectClose(this.node,function(){t.node.parent=null,h.Windown.ChatAdminController.onCloseWindow(t.lbNameAdmin.string)})},e.prototype.initListItem=function(t){var e=this;this.reset(),this.sfsArry=t;for(var n=this.scrChat.content,o=0,i=t.size();o<i;o++){var r=t.getSFSObject(o),s=null;(s=r.getUtfString("sender")==h.Windown.User.nickName?this.getItemMe():this.getItemOther()).active=!0,s.parent=n,s.getComponent(d.default).initItem(r)}if(setTimeout(function(){e.scrChat.scrollToBottom(.3,!0)},1e3),this.isNeedHelp){var u=l.ConectManager.getIns().getSFSObj();u.putUtfString("adminName",this.lbNameAdmin.string),u.putUtfString("info",c.TextDefine.DefaultMessageAdmin),l.ConectManager.getIns().sendRequest(a.REQUEST_CODE.SendMessageToAdmin,u)}h.Windown.ChatAdminController.itemIconChat.emitNewCountNotReadByAdmin(this.lbNameAdmin.string)},e.prototype.addMessage=function(t){var e=this;if(this.node.parent){var n=t.getUtfString("sender"),o=null;cc.log(n),cc.log(h.Windown.User.nickName),(o=n==h.Windown.User.nickName?this.getItemMe():this.getItemOther()).active=!0,o.parent=this.scrChat.content,o.getComponent(d.default).initItem(t),setTimeout(function(){e.scrChat.scrollToBottom(.3,!0)},500)}this.sfsArry.addSFSObject(t)},e.prototype.updateStatusAdmin=function(t){var e=this.nodeStatus.getComponentInChildren(cc.Label),n=this.nodeStatus.children[0];t?(e.string="tr\u1ef1c tuy\u1ebfn",n.color=cc.Color.GREEN):(e.string="ngo\u1ea1i tuy\u1ebfn",n.color=cc.Color.RED)},e.prototype.onClickTaiImg=function(){p.Util.onGetImgInLibaryChat()},e.prototype.onClickSend=function(){var t=this.edbMess.string.trim();if(!(t.length<1)){var e=l.ConectManager.getIns().getSFSObj();e.putUtfString("info",t),e.putUtfString("adminName",this.lbNameAdmin.string),l.ConectManager.getIns().sendRequest(a.REQUEST_CODE.SendMessageToAdmin,e),this.edbMess.string=""}},e.prototype.getItemMe=function(){var t=this.poolItemChatMe.get();return null==t&&(t=cc.instantiate(this.itemTemplateMe)),t},e.prototype.getItemOther=function(){var t=this.poolItemChatOther.get();return null==t&&(t=cc.instantiate(this.itemTemplateOther)),t},r([g(cc.Label)],e.prototype,"lbNameAdmin",void 0),r([g(cc.ScrollView)],e.prototype,"scrChat",void 0),r([g(cc.Node)],e.prototype,"nodeStatus",void 0),r([g(cc.EditBox)],e.prototype,"edbMess",void 0),r([g(cc.Node)],e.prototype,"itemTemplateOther",void 0),r([g(cc.Node)],e.prototype,"itemTemplateMe",void 0),r([y],e)}(u.default);n.default=m,cc._RF.pop()},{"../../DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../DefineTs/TextDefine":"TextDefine","../../Network/ConectManager":"ConectManager","../../Parent/BaseEditbox":"BaseEditbox","../../Util":"Util","../../Windown":"Windown","./ItemChat":"ItemChat"}],Windown:[function(t,e,n){(function(o){"use strict";cc._RF.push(e,"70fbfvU6xtMqozUP9dWV/S/","Windown");var i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.Windown=void 0;var s=t("./Network/ConectManager"),a=t("./DefineTs/PathResource"),c=t("./Util"),l=t("./DefineTs/BUNDLE"),u=t("./DefineTs/OSDefine"),p=t("./Popup/HomThu/HomThuController"),h=t("./Popup/NhiemVu/NhiemVuConTroller"),d=t("./InfoERR"),f=t("./Popup/ChatAdmin/ChatAdminController"),y=t("./Game/GAME_TYPE"),g=t("./Popup/BigWinLobby/BigWinLobby"),m=t("./Network/Http"),v=t("./Game/CpPromise"),S={1:{LevelId:0,GameUnlock:[{GameId:32,RoomType:[1],GunType1:[1],GunType2:[],IdGunUnlock:10}],IsCashout:!0},2:{LevelId:1,GameUnlock:[{GameId:32,RoomType:[1],GunType1:[1,2],GunType2:[],IdGunUnlock:50}],IsCashout:!0},3:{LevelId:2,GameUnlock:[{GameId:32,RoomType:[1],GunType1:[1,2,3],GunType2:[],IdGunUnlock:100}],IsCashout:!0},4:{LevelId:3,GameUnlock:[{GameId:32,RoomType:[1],GunType1:[1,2,3,4],GunType2:[],IdGunUnlock:200}],IsCashout:!0},5:{LevelId:4,GameUnlock:[{GameId:32,RoomType:[1],GunType1:[1,2,3,4,5],GunType2:[],IdGunUnlock:300}],IsCashout:!0},6:{LevelId:5,GameUnlock:[{GameId:32,RoomType:[1],GunType1:[1,2,3,4,5,6],GunType2:[],IdGunUnlock:500}],IsCashout:!0},7:{LevelId:6,GameUnlock:[{GameId:32,RoomType:[1],GunType1:[1,2,3,4,5,6,7],GunType2:[],IdGunUnlock:1e3}],IsCashout:!0},8:{LevelId:7,GameUnlock:[{GameId:32,RoomType:[1],GunType1:[1,2,3,4,5,6,7,8],GunType2:[],IdGunUnlock:2e3}],IsCashout:!0},9:{LevelId:8,GameUnlock:[{GameId:32,RoomType:[1],GunType1:[1,2,3,4,5,6,7,8,9],GunType2:[],IdGunUnlock:3e3}],IsCashout:!0},10:{LevelId:9,GameUnlock:[{GameId:32,RoomType:[1],GunType1:[1,2,3,4,5,6,7,8,9,10],GunType2:[],IdGunUnlock:5e3}],IsCashout:!0},11:{LevelId:10,GameUnlock:[{GameId:32,RoomType:[1],GunType1:[0],GunType2:[],IdGunUnlock:1e4}],IsCashout:!0},12:{LevelId:11,GameUnlock:[{GameId:32,RoomType:[1],GunType1:[0],GunType2:[],IdGunUnlock:0}],IsCashout:!0},13:{LevelId:12,GameUnlock:[{GameId:32,RoomType:[1],GunType1:[0],GunType2:[],IdGunUnlock:0}],IsCashout:!0},14:{LevelId:13,GameUnlock:null,IsCashout:!0}},b=function(){function t(){}return t.init=function(){t.HomThuController=new p.default,t.NhiemVuConTroller=new h.default,t.ChatAdminController=new f.ChatAdminController,t.BigWinLobby=new g.default,this.CpPromise=new v.default(this.UIManager)},t.initUser=function(t){this.SFSInfouser=t;var e=this.SFSInfouser.get("base64Ava");e&&(""!=e&&"null"!=e||this.SFSInfouser.putNull("base64Ava")),this.User.isLogin=!0,this.User.userName=t.getUtfString("username"),this.User.userAg=t.getLong("ag"),this.MoneyUser.moneyCache=this.User.userAg,this.User.nickName=t.getUtfString("nickname"),this.User.userId=t.getInt("id"),this.User.phoneNumber=t.getUtfString("phonenumber"),this.User.avatrId=t.getInt("idava"),this.User.typeAvarta=t.getInt("typeava"),this.User.status=t.getUtfString("status"),this.User.currentLevel=t.getInt("currentlevel"),this.User.totalLevelPoint=t.getInt("totallevelpoint"),this.User.currentLevelPoint=t.getInt("currentlevelpoint"),this.User.currentVipPoint=t.getInt("currentvippoint"),this.User.tokenFacebook=t.getUtfString("tokenfacebook"),this.User.isPlayNow=t.getBool("isPlayNow"),this.User.isFirtLogin=t.getBool("isFirtLogin"),this.User.userNhat=t.getBool("userNhat"),this.User.bankAcName=t.getUtfString("ttk")||"",this.User.bankNumber=t.getUtfString("stk")||"",this.User.bankCode=t.getUtfString("bank")||"",this.User.madaily=t.getUtfString("madaily")||"",this.User.bankHCode=t.getUtfString("bankH")||"",this.User.bankHNumber=t.getUtfString("stkH")||"",this.User.bankHAcName=t.getUtfString("ttkH")||"",this.ListAdminJP.includes(this.User.userName)&&(this.User.userNhat=!0),this.MoneyUser.emitNewMonney()},t.disconect=function(){cc.log("disconnect windown"),this.SFSInfouser=null,this.User={userName:"",nickName:"",userAg:0,userId:0,email:"",phoneNumber:"",numMailNotRead:0,isLogin:!1,currentGameId:0,currentRoomId:0,currentRoomType:0,status:"",typeAvarta:0,avatrId:-1,currentLevel:0,currentLevelPoint:0,totalLevelPoint:0,currentVipPoint:0,tokenFacebook:"",isPlayNow:!1,isFirtNap:!1,isAutoFish:!1,isGunSet:!1,isFirtLogin:!1,bankAcName:"",bankCode:"",bankNumber:"",bankHAcName:"",bankHCode:"",bankHNumber:"",madaily:""}},t.restartGame=function(){cc.log("RestartGame"),cc.sys.isNative?cc.sys.os==cc.sys.OS_WINDOWS?jsb.resetGame():cc.game.restart():cc.sys.isMobile?cc.game.restart():(t.BotController,window.location=window.location)},t.getConfigLevel=function(){var e=S[14];for(var n in t.User.currentLevel,S)if(18==Number.parseInt(n)){e=S[n];break}return e},t.getUnLockGunLevelUp=function(){var t=this.getConfigLevel().GameUnlock;if(t)for(var e=0,n=t;e<n.length;e++){var o=n[e];if(o.GameId==y.default.BongDem){var i=o.GunType1,r=o.GunType2,s=o.IdGunUnlock;return 0==s?null:r.length>0?s:i.length>0?s:null}}return null},t.convertNodeInOtherNode=function(t,e){var n=t.parent.convertToWorldSpaceAR(t.getPosition());return e.convertToNodeSpaceAR(n)},t.convertWorldPointInOtherNode=function(t,e){return e.convertToNodeSpaceAR(t)},t.convertPosInOtherNode=function(t,e,n){var o=e.convertToWorldSpaceAR(t);return n.convertToNodeSpaceAR(o)},t.formatNameBank=function(t){for(var e=t.toLowerCase(),n={"\xe0\xe1\u1ea3\xe3\u1ea1\u0103\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\xe2\u1ea5\u1ea7\u1ea9\u1eab\u1ead":"a","\xf3\xf2\u1ecf\xf5\u1ecd\u01a1\u1edb\u1edd\u1edf\u1ee1\u1ee3\xf4\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9":"o","\xe9\xe8\u1ebb\u1ebd\u1eb9\xea\u1ebf\u1ec1\u1ec3\u1ec5\u1ec7":"e","\xfa\xf9\u1ee7\u0169\u1ee5\u01b0\u1ee9\u1eeb\u1eed\u1eef\u1ef1":"u","\xed\xec\u1ec9\u0129\u1ecb":"i","\xfd\u1ef3\u1ef7\u1ef9\u1ef5":"y","\u0111":"d","~!@#$%^&*()_+`[]{}|;':*-+\",./<>?0123456789":"_"},o=0;o<e.length;o++)for(var i in n)for(var r=0;r<i.length;r++)e[o]==i[r]&&(e=e.replace(e[o],n[i]));return(e=e.replace(/_/g,"")).toUpperCase()},t.formatNickname=function(t){for(var e=t.toLowerCase(),n={"\xe0\xe1\u1ea3\xe3\u1ea1\u0103\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\xe2\u1ea5\u1ea7\u1ea9\u1eab\u1ead":"a","\xf3\xf2\u1ecf\xf5\u1ecd\u01a1\u1edb\u1edd\u1edf\u1ee1\u1ee3\xf4\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9":"o","\xe9\xe8\u1ebb\u1ebd\u1eb9\xea\u1ebf\u1ec1\u1ec3\u1ec5\u1ec7":"e","\xfa\xf9\u1ee7\u0169\u1ee5\u01b0\u1ee9\u1eeb\u1eed\u1eef\u1ef1":"u","\xed\xec\u1ec9\u0129\u1ecb":"i","\xfd\u1ef3\u1ef7\u1ef9\u1ef5":"y","\u0111":"d","~!@#$%^&*()_+`[]{}|;':*-+\",./<>?":"_"},o=0;o<e.length;o++)for(var i in n)for(var r=0;r<i.length;r++)e[o]==i[r]&&(e=e.replace(e[o],n[i]));return e.replace(/_/g,"")},t.getLevelCashOut=function(){for(var t in S)if(S[t].IsCashout)return Number.parseInt(t);return 0},t.initConfig=function(){this.listConfigItem=[{Description:"S\u1eed d\u1ee5ng \u0111\u1ec3 \u0111\xf3ng b\u0103ng c\xe1 trong 10 gi\xe2y",ItemName:"\u0110\xf3ng B\u0103ng",ItemId:1,Duration:10},{Description:"S\u1eed d\u1ee5ng \u0111\u1ec3 t\u0103ng t\u1ed1c \u0111\u1ed9 b\u1eafn s\xfang trong 15 gi\xe2y",ItemName:"T\u0103ng t\u1ed1c",ItemId:2,Duration:15},{Description:"S\u1eed d\u1ee5ng \u0111\u1ec3 x\xe1c \u0111\u1ecbnh m\u1ee5c ti\xeau trong 15 gi\xe2y",ItemName:"M\u1ee5c Ti\xeau",ItemId:3,Duration:15},{Description:"Tri\u1ec7u h\u1ed3i c\xe1 \u0111\u1eb7c bi\u1ec7t(khi c\xe1 \u0111\u1eb7c bi\u1ec7t b\u1ecb ti\xeau di\u1ec7t s\u1ebd ng\u1eabu nhi\xean nh\u1eadn \u0111\u01b0\u1ee3c v\u1eadt ph\u1ea9m nh\u01b0 BOOM,M\u1eaft Th\u1ea7n, v.v.. )",ItemName:"Tri\u1ec7u H\u1ed3i",ItemId:4,Duration:.2},{Description:"S\u1eed d\u1ee5ng BOOM Nguy\xean T\u1eed \u0111\u1ec3 ti\xeau di\u1ec7t c\xe1 nh\u1eadn t\u1eeb 50.000 - 150.000 v\xe0ng",ItemName:"BOOM Nguy\xean T\u1eed",ItemId:100,Duration:0},{Description:"Tri\u1ec7u h\u1ed3i M\u1eaeT TH\u1ea6N \u0111\u1ec3 ti\xeau di\u1ec7t c\xe1 nh\u1eadn t\u1eeb 50.000 - 150.000 v\xe0ng",ItemName:"M\u1eaft Th\u1ea7n",ItemId:101,Duration:0},{Description:"S\u1eed d\u1ee5ng \u0110INH BA \u0111\u1ec3 ti\xeau di\u1ec7t c\xe1 nh\u1eadn t\u1eeb 50.000 - 350.000 v\xe0ng",ItemName:"\u0110inh Ba",ItemId:102,Duration:0},{Description:"S\xfang s\xe9t kh\xf3a m\u1ee5c ti\xeau, t\u0103ng t\u1ed1c \u0111\u1ed9 b\u1eafn 20%, c\xf3 t\u1ec9 l\u1ec7 l\xe0m cho\xe1ng c\xe1 1 gi\xe2y (th\xedch h\u1ee3p s\u0103n BOSS)",ItemName:"S\xfang S\xe9t",ItemId:1e3,Duration:0},{Description:"T\u1ef1 \u0111\u1ed9ng ch\u1ecdn c\xe1 m\u1ee5c ti\xeau v\xe0 b\u1eafn",ItemName:"Auto B\u1eafn",ItemId:1001,Duration:0}]},t.initGameConfig=function(e){var n=JSON.parse(LZString.decompressFromBase64(e)),o=JSON.parse(n.info);t.LinkFanpage=o.Fanpage,t.LinkTele=o.Tele,t.LinkCSKH=o.cskh,t.LinkHotline=o.Hotline,t.LinkMessage=o.Mesenger,t.LinkVeryTele=o.VeryTele,t.LinkResetPass=o.ResetPass,t.LinkEventfanpage=o.EventFanpage,cc.log("initGameConfig:",o)},t.test=function(){cc.log("test thanh con")},t.randomInt=function(t,e){return Math.floor(Math.random()*(e-t)+t)},t.formatMoney=function(t,e,n){if(void 0===e&&(e=1),void 0===n&&(n=1e4),Math.abs(t)<Math.abs(n))return this.formatNumber(t);var o,i=[{value:1,symbol:""},{value:1e3,symbol:"K"},{value:1e6,symbol:"M"},{value:1e9,symbol:"B"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}];for(o=i.length-1;o>0&&!(t>=i[o].value);o--);return(t/i[o].value).toFixed(e).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+i[o].symbol},t.getFullTime=function(t){var e=new Date(t),n=e.getDate();n<10&&(n="0"+n);var o=e.getMonth()+1;o<10&&(o="0"+o);var i=e.getFullYear(),r=e.getHours();r<10&&(r="0"+r);var s=e.getMinutes();s<10&&(s="0"+s);var a=e.getSeconds();return a<10&&(a="0"+a),n+"/"+o+"/"+i+" "+r+":"+s+":"+a},t.getShortTime=function(t){var e=new Date(t),n=e.getDate();n<10&&(n="0"+n);var o=e.getMonth()+1;o<10&&(o="0"+o);var i=e.getHours();i<10&&(i="0"+i);var r=e.getMinutes();return r<10&&(r="0"+r),n+"/"+o+" "+i+":"+r},t.getSpFrameByBase64=function(t){return new Promise(function(e,n){if(cc.sys.isNative){for(var i=new o(t,"base64"),r=i.length,s=new Uint8Array(r),a=0;a<r;a++)s[a]=i[a];var c="base64"+Date.now()+".jpg",l=""+jsb.fileUtils.getWritablePath()+c;jsb.fileUtils.writeDataToFile(s,l)&&cc.assetManager.loadRemote(l,function(t,o){t?n(JSON.stringify(t)):(!t&&o&&e(new cc.SpriteFrame(o)),jsb.fileUtils.removeFile(l))})}else{var u="data:image/png;base64,"+t,p=new Image;p.src=u,setTimeout(function(){var t=new cc.Texture2D;t.initWithElement(p),e(new cc.SpriteFrame(t))},10)}})},t.arrayBufferToString=function(t){var e,n,o,i,r,s;for(e="",o=t.length,n=0;n<o;)switch((i=t[n++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=String.fromCharCode(i);break;case 12:case 13:r=t[n++],e+=String.fromCharCode((31&i)<<6|63&r);break;case 14:r=t[n++],s=t[n++],e+=String.fromCharCode((15&i)<<12|(63&r)<<6|(63&s)<<0)}return e},t.getSpByFb=function(t){var e;return e=cc.js.formatStr("%s",t),cc.log(e),new Promise(function(t,n){cc.assetManager.loadRemote(e,{ext:".png"},function(e,o){e?n(e):t(new cc.SpriteFrame(o))})})},t.getSpByURL=function(t){return cc.log(t),new Promise(function(e,n){cc.assetManager.loadRemote(t,{},function(t,o){t?n(t):e(new cc.SpriteFrame(o))})})},t.getSpFrameRes=function(e){return t.loadRes(l.BUNDLE.Main,e,cc.SpriteFrame)},t.getPrefabRes=function(e){return t.loadRes(l.BUNDLE.Main,e,cc.Prefab)},t.loadRes=function(e,n,o,i){return new Promise(function(r,s){e==l.BUNDLE.Main?cc.loader.loadRes(n,o,function(t,e){i&&i(t,e)},function(t,e){null==t?r(e):s(t)}):cc.assetManager.loadBundle(e,function(a,c){t.getClaseByBundle(e)?a?s(a):c.load(n,o,function(t,e){i&&i(t,e)},function(t,e){t?s(t):r(e)}):s(new d.InfoErr("Null Component"))})})},t.getClaseByBundle=function(e){switch(e){case y.default.BongDem.toString():return!(!t.FishBongDem||!t.FishBongDem.fishBDView);case y.default.DieuThuyen.toString():return t.DieuThuyen;case y.default.NgoKhong.toString():return t.NgoKhong;case y.default.Neko.toString():return t.Neko;case y.default.MatTroi.toString():return t.MatTroiView;case y.default.TaiXiu.toString():case y.default.RungRam.toString():case y.default.MiniPoker.toString():case y.default.MiniSlot.toString():case y.default.Asgard.toString():case y.default.AiCap.toString():case y.default.MuaDong.toString():case y.default.MatChuoc.toString():case y.default.QuyBa.toString():case y.default.Medusa.toString():case y.default.DuaXe.toString():case y.default.Caishen.toString():return!0}return null},t.loadBundle=function(e,n){var o=this;void 0===n&&(n=null);var s={};return cc.log("loadBundle=="+e),!cc.sys.isNative||cc.sys.os!=cc.sys.OS_ANDROID&&cc.sys.os!=cc.sys.OS_IOS?new Promise(function(t,n){cc.assetManager.loadBundle(e,s,function(e,o){if(e)return n(e),null;t(o)})}):(t.BundleVersion[e],new Promise(function(t,a){return i(o,void 0,void 0,function(){var o,i,c=this;return r(this,function(r){switch(r.label){case 0:return[4,this.loadBundleNative(e,n)];case 1:return o=r.sent(),i=o.path+o.name,s={version:o.version},cc.assetManager.loadBundle(i,s,function(n,o){if(n)return a(n),null;c.BundleVersionLocal[e]={hash:s.version,url:i},cc.sys.localStorage.setItem("BundleVersionLocal",JSON.stringify(c.BundleVersionLocal)),t(o)}),[2]}})})}))},t.loadBundleNative=function(e,n){var o=this;void 0===n&&(n=null);try{return new Promise(function(s){return i(o,void 0,void 0,function(){var o,i,a;return r(this,function(r){switch(r.label){case 0:return this.loadNativeBundleCallback=s,o=!1,t.BundleVersionLocal.hasOwnProperty(e)?t.BundleVersionLocal[e].hash!=this.BundleVersion[e].hash?o=!0:(console.log(" BUNDLE DA LOAD O LOCAL,KO CO VERSION MOI"),o=!1):o=!0,!cc.sys.isNative||cc.sys.os!=cc.sys.OS_ANDROID&&cc.sys.os!=cc.sys.OS_IOS?[3,3]:(i=this.BundleVersion[e].hash,a=Object.create({}),o?(console.log("START DOWNLOAD NEW BUNDLE ZIP"),[4,t.downloadZipBundle(this.BundleVersion[e].url,e,this.BundleVersion[e].hash,n)]):[3,2]);case 1:return a=r.sent(),[3,3];case 2:console.log("LOAD BUNDLE FROM LOCAL"),a.name=e,a.path=t.PathSaveLocalBundle,a.version=i,s(a),r.label=3;case 3:return[2]}})})})}catch(s){c.Util.ThrowErrProsime(s)}},t.downloadZipBundle=function(e,n,o,i){void 0===i&&(i=null),e=t.linkBundle+"/assets/"+n;try{return new Promise(function(){var r=e+".zip?t="+(new Date).getTime(),s=t.PathSaveLocalBundle;jsb.fileUtils.createDirectory(s);var a=s+n+".zip",l=new jsb.Downloader;l.setOnFileTaskSuccess(function(){console.log("Download Complete"),c.Util.unzipFilePath(n,o,a)}),l.setOnTaskProgress(function(e,n,o,r){t.UIManager.setPerData(o/r),null!=i&&i(o,r)}),l.setOnTaskError(function(e,o,i){console.log("Error Download:"+o+"/"+i);var r=t.PathSaveLocalBundle+n+".zip.tmp";console.log("delete fileTemp:"+r),t.UIManager.hideLoadingData(),t.Dialog.showLog("L\u1ed7i t\u1ea3i game, Vui l\xf2ng ki\u1ec3m tra l\u1ea1i \u0111\u01b0\u1eddng truy\u1ec1n m\u1ea1ng v\xe0 th\u1eed l\u1ea1i!"),jsb.fileUtils.removeFile(r)}),l.createDownloadFileTask(r,a)})}catch(r){c.Util.ThrowErrProsime(r)}},t.loadConfigBundle=function(){var e=t.linkBundle+"/assets/AssetBundleVersion.json?t="+(new Date).getTime();cc.sys.isBrowser&&(e="https://"+t.Define.configNetwork.hostHttps+"/assets/AssetBundleVersion.json?t="+(new Date).getTime()),cc.log("loadConfigBundle:"+e),m.default.get(e,{},function(e,n){null==e?t.BundleVersion=n:cc.log("Respone BundleVersion err =",e)},!1)},t.getMD5=function(t){return s.ConectManager.getIns().getMD5(t)},t.coppyToClip=function(e){if(cc.sys.isNative)jsb&&(jsb.copyTextToClipboard(e),t.UIManager.showAlertMini("\u0110\xe3 Sao Ch\xe9p"));else{if(!navigator.clipboard){var n=document.createElement("textarea");n.value=e,n.style.top="0",n.style.left="0",n.style.position="fixed",document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy")?t.UIManager.showAlertMini("\u0110\xe3 Sao Ch\xe9p"):t.UIManager.showAlertMini("Kh\xf4ng Th\u1ec3 Sao Ch\xe9p")}catch(o){t.UIManager.showAlertMini("Kh\xf4ng Th\u1ec3 Sao Ch\xe9p ")}return void document.body.removeChild(n)}navigator.clipboard.writeText(e).then(function(){t.UIManager.showAlertMini("\u0110\xe3 Sao Ch\xe9p")},function(){t.UIManager.showAlertMini("Kh\xf4ng Th\u1ec3 Sao Ch\xe9p")})}},t.formatDate=function(t,e,n){var o=["\0","January","February","March","April","May","June","July","August","September","October","November","December"],i=["\x01","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=["\x02","Ch\u1ee7 nh\u1eadt","Th\u1ee9 2","Th\u1ee9 3","Th\u1ee9 4","Th\u1ee9 5","Th\u1ee9 6","Th\u1ee9 7"],s=["\x03","Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=function(t,e){var n=t+"";for(e=e||2;n.length<e;)n="0"+n;return n},c=n?t.getUTCFullYear():t.getFullYear();e=(e=(e=e.replace(/(^|[^\\])yyyy+/g,"$1"+c)).replace(/(^|[^\\])yy/g,"$1"+c.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+c);var l=(n?t.getUTCMonth():t.getMonth())+1;e=(e=(e=(e=e.replace(/(^|[^\\])MMMM+/g,"$1"+o[0])).replace(/(^|[^\\])MMM/g,"$1"+i[0])).replace(/(^|[^\\])MM/g,"$1"+a(l))).replace(/(^|[^\\])M/g,"$1"+l);var u=n?t.getUTCDate():t.getDate()-1;e=(e=(e=(e=e.replace(/(^|[^\\])dddd+/g,"$1"+r[0])).replace(/(^|[^\\])ddd/g,"$1"+s[0])).replace(/(^|[^\\])dd/g,"$1"+a(u))).replace(/(^|[^\\])d/g,"$1"+u);var p=n?t.getUTCHours():t.getHours(),h=p>12?p-12:0==p?12:p;e=(e=(e=(e=e.replace(/(^|[^\\])HH+/g,"$1"+a(p))).replace(/(^|[^\\])H/g,"$1"+p)).replace(/(^|[^\\])hh+/g,"$1"+a(h))).replace(/(^|[^\\])h/g,"$1"+h);var d=n?t.getUTCMinutes():t.getMinutes();e=(e=e.replace(/(^|[^\\])mm+/g,"$1"+a(d))).replace(/(^|[^\\])m/g,"$1"+d);var f=n?t.getUTCSeconds():t.getSeconds();e=(e=e.replace(/(^|[^\\])ss+/g,"$1"+a(f))).replace(/(^|[^\\])s/g,"$1"+f);var y=n?t.getUTCMilliseconds():t.getMilliseconds();e=e.replace(/(^|[^\\])fff+/g,"$1"+a(y,3)),y=Math.round(y/10),e=e.replace(/(^|[^\\])ff/g,"$1"+a(y)),y=Math.round(y/10);var g=p<12?"AM":"PM";e=(e=(e=e.replace(/(^|[^\\])f/g,"$1"+y)).replace(/(^|[^\\])TT+/g,"$1"+g)).replace(/(^|[^\\])T/g,"$1"+g.charAt(0));var m=g.toLowerCase();e=(e=e.replace(/(^|[^\\])tt+/g,"$1"+m)).replace(/(^|[^\\])t/g,"$1"+m.charAt(0));var v=-t.getTimezoneOffset(),S=n||!v?"Z":v>0?"+":"-";if(!n){var b=(v=Math.abs(v))%60;S+=a(Math.floor(v/60))+":"+a(b)}e=e.replace(/(^|[^\\])K/g,"$1"+S);var w=(n?t.getUTCDay():t.getDay())+1;return(e=(e=(e=(e=e.replace(new RegExp(r[0],"g"),r[w])).replace(new RegExp(s[0],"g"),s[w])).replace(new RegExp(o[0],"g"),o[l])).replace(new RegExp(i[0],"g"),i[l])).replace(/\\(.)/g,"$1")},t.formatTimeBySec=function(t,e){var n,o,i;return void 0===e&&(e=!0),t=parseInt(t),e?t<=0?"00:00:00":((n=parseInt(t/3600))>0&&(t-=3600*n),(o=parseInt(t/60))>0&&(t-=60*o),n<10&&(n="0"+n),o<10&&(o="0"+o),(i=t%60)<10&&(i="0"+i),n+":"+o+":"+i):t<=0?"00:00":((n=parseInt(t/3600))>0&&(t-=3600*n),(o=parseInt(t/60))>0&&(t-=60*o),n<10&&(n="0"+n),o<10&&(o="0"+o),(i=t%60)<10&&(i="0"+i),o+":"+i)},t.setLocalStorage=function(e,n){"string"!=typeof n&&(n+=""),n=XXTEA.encryptToBase64(n,t.keyEncrytps),cc.sys.localStorage.setItem(e+t.NAME_GAME,n)},t.getLocalStorage=function(e){var n=cc.sys.localStorage.getItem(e+t.NAME_GAME);return null==n||null==n||""==n||"null"==n?null:XXTEA.decryptFromBase64(n,t.keyEncrytps)},t.updateAvatar=function(e,n){return i(this,void 0,void 0,function(){var o,i,s,c,l,u,p;return r(this,function(r){switch(r.label){case 0:return n.spriteFrame&&cc.path.basename(n.spriteFrame.getTexture().nativeUrl).indexOf("base64",0)- -1&&(cc.assetManager.releaseAsset(n.spriteFrame.getTexture()),cc.assetManager.releaseAsset(n.spriteFrame),n.spriteFrame=null),o=e.getInt("typeava"),i=null,0!=o?[3,2]:(s=e.getInt("idava"),c=a.PathResource.Avatar.replace("%d",s),[4,t.getSpFrameRes(c)]);case 1:return i=r.sent(),[3,6];case 2:return 1!=o?[3,4]:(l=e.get("tokenfacebook"),u=e.get("userFbId"),[4,t.getSpByFb(u,l)]);case 3:return i=r.sent(),[3,6];case 4:return 2!=o?[3,6]:(p=e.get("base64Ava"),e.getInt("id")==t.User.userId&&(t.User.base64Ava=e.get("base64Ava")),[4,t.getSpFrameByBase64(p)]);case 5:i=r.sent(),r.label=6;case 6:return null!=i&&n&&n.node&&(n.spriteFrame=i),[2]}})})},t.getDeviceID=function(){if(!cc.sys.isNative||cc.sys.os!=cc.sys.OS_ANDROID&&cc.sys.os!=cc.sys.OS_IOS){var e=t.getLocalStorage("uuid");if(e)return e;var n=(new Date).getTime(),o="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==t?e:3&e|8).toString(16)});return t.setLocalStorage("uuid",o),t.UIManager.hideLoading(),o}return null==t.deviceId&&t.UIManager.showLoading(),t.deviceId},t.splitToInt=function(t){if(""==t)return 0;var e=t.split(".").join("");return parseInt(e)},t.ToVND=function(t){var e=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".");return null!=e&&"NaN"!=e||(e=0),e},t.getOS=function(){if(!cc.sys.isNative)return cc.sys.isMobile?u.default.WEB_MOBILE:u.default.WEB_PC;switch(cc.sys.os){case cc.sys.OS_ANDROID:return u.default.ANDROID;case cc.sys.OS_IOS:return u.default.IOS}return u.default.OTHER},t.getDeviceName=function(){if(cc.sys.isNative){var t=jsb.Device.getDeviceModel();return null!=t&&""!=t||(t="NULL DEVICE NATIVE"),t}return navigator?navigator.userAgent:"WEB kh\xf4ng x\xe1c \u0111\u1ecbnh"},t.scaleBase64=function(){return cc.sys.isBrowser,""},t.SFSObjToJson=function(e){return JSON.stringify(t.SFSObjToObj(e))},t.SFSArrToJson=function(e){return JSON.stringify(t.SFSArrToArr(e))},t.JsonToSFSObj=function(e){return t.ObjToSFSObj(JSON.parse(e))},t.stringToByteArray=function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e},t.getNameGameByType=function(t){switch(t){case y.default.CaMap:return"C\xe1 R\u1ed3ng";case y.default.TruTien:return"Tru Ti\xean";case y.default.Xeng:return"M\xe1y X\xe8ng";case y.default.DieuThuyen:return"Di\xeau Thuy\u1ec1n";case y.default.NgoKhong:return"Ng\u1ed9 Kh\xf4ng"}},t.foreachSFSArray=function(t,e){for(var n=0,o=t.size();n<o;n++)e(t.get(n),n)},t.ObjToSFSObj=function(e){var n=s.ConectManager.getIns().getSFSObj();for(var o in e){var i=e[o];"string"==typeof i?n.putUtfString(o,i):"number"==typeof i?i%1==0?Math.abs(i)<2147483647?n.putInt(o,i):n.putLong(o,i):n.putFloat(o,i):Array.isArray(i)&&(i.length<1?n.putSFSArray(o,t.ArrToSFSArr(i)):i.every(function(t){return"number"==typeof t&&t%1==0})?n.putIntArray(o,i):i.every(function(t){return"number"==typeof t&&t%1!=0})?n.putFloatArray(o,i):i.every(function(t){return"boolean"==typeof t})?n.putBoolArray(o,i):i.every(function(t){return"string"==typeof t})?n.putUtfStringArray(o,i):n.putSFSArray(o,t.ArrToSFSArr(i)))}return n},t.ArrToSFSArr=function(e){var n=s.ConectManager.getIns().getSFSArray();if(e.length<1)return n;if(e.every(function(t){return"number"==typeof t&&t%1==0}))n.addIntArray(e);else if(e.every(function(t){return"number"==typeof t&&t%1!=0}))n.addFloatArray(e);else if(e.every(function(t){return"boolean"==typeof t}))n.addBoolArray(e);else if(e.every(function(t){return"string"==typeof t}))n.addUtfStringArray(e);else for(var o=0,i=e;o<i.length;o++){var r=i[o];Array.isArray(r)?n.addSFSArray(t.ArrToSFSArr(r)):"string"==typeof r?n.addUtfString(r):"number"==typeof r?r%1==0?Math.abs(r)<2147483647?n.addInt(r):n.addLong(r):n.addFloat(r):"boolean"==typeof r?n.addBool(r):"object"==typeof r?n.addSFSObject(t.ObjToSFSObj(r)):console.warn("Ko con vert dc type: "+typeof r+"---value:"+r)}return n},t.stopAllActionByTarget=function(t){t.stopAllActions()},t.SFSObjToObj=function(e){var n=Object.create(null);return e.getKeysArray().forEach(function(o){18==e.getWrappedItem(o).type?n[o.toString()]=t.SFSObjToObj(e.getSFSObject(o)):17==e.getWrappedItem(o).type?n[o.toString()]=t.SFSArrToArr(e.getSFSArray(o)):n[o.toString()]=e.getWrappedItem(o).value}),n},t.SFSArrToArr=function(e){for(var n=[],o=0,i=e.size();o<i;o++)18==e._dataHolder[o].type?n.push(t.SFSObjToObj(e.getSFSObject(o))):17==e._dataHolder[o].type?n.push(t.SFSArrToArr(e.getSFSArray(o))):n.push(e._dataHolder[o].value);return n},t.makeDelay=function(t){return new Promise(function(e){setTimeout(function(){e(null)},1e3*t)})},t.LagValue=0,t.DangNhap=null,t.UIManager=null,t.Dialog=null,t.MainView=null,t.LobbyView=null,t.CapchaController=null,t.DangKy=null,t.CapNhatTaiKhoan=null,t.MoneyUser=null,t.Firebase=null,t.SuKien=null,t.GiftCode=null,t.TransferSport=null,t.ImgChat=null,t.NhiemVuConTroller=null,t.NhiemVuNap=null,t.BigWinLobby=null,t.HomThuController=null,t.ChatAdminController=null,t.ThongTin=null,t.DoiAva=null,t.DoiThangThai=null,t.AudioManager=null,t.CaiDat=null,t.CaiDatFish=null,t.TietKiem=null,t.DaiLy=null,t.HomThu=null,t.NhiemVu=null,t.TuiDo=null,t.CuaHang=null,t.HoTro=null,t.TangCap=null,t.ShopView=null,t.XepHang=null,t.JackpotManager=null,t.CropImgAva=null,t.LichSuGiaoDich=null,t.ReviceItem=null,t.BonusNap=null,t.QuickShop=null,t.DieuThuyen=null,t.NgoKhong=null,t.Neko=null,t.MatChuoc=null,t.QuyBa=null,t.AiCap=null,t.MuaDongVoTan=null,t.KingKong=null,t.Rong=null,t.MatTroiView=null,t.TaiXiu=null,t.LoDe=null,t.Caishen=null,t.MiniPoker=null,t.MiniSlot=null,t.HuongDanChoiMiniPoker=null,t.HistoryMiniPoker=null,t.GuideMiniSlot=null,t.HistoryMiniSlot=null,t.TienLen=null,t.RungRam=null,t.Asgard=null,t.GameView=null,t.CpPromise=null,t.BtnMiniGame=null,t.BotController=null,t.XengController=null,t.BaccaratController=null,t.XocDiaController=null,t.BaccaratView=null,t.XocDiaView=null,t.FishBongDem=null,t.isFirtConnect=!0,t.isClickBtnLogout=!1,t.EDBController=null,t.keyEncrytps="lvdlatao",t.SFSGameConfig=null,t.NAME_GAME="CA_XENG_1",t.ONESIGNAL_MAIL=1,t.ONESIGNAL_GIFT_CODE=2,t.ONESIGNAL_SU_KIEN=3,t.LinkFanpage=null,t.LinkTele=null,t.LinkCSKH=null,t.LinkMessage=null,t.LinkHotline=null,t.LinkVeryTele=null,t.LinkResetPass=null,t.LinkEventfanpage=null,t.linkBundle="http://45.77.253.107:80/",t.linkFull="https://%s/hotUpdate/Android/",t.linkConfig="https://raw.githubusercontent.com/minhhien22/Big99Build/refs/heads/main/Config/Config.json",t.linkHotUpdate="http://45.77.253.107:80/hotUpdate/Android/",t.linkGame="https://big99.bet",t.listBankVN=JSON.parse('{"listBank":[{"code":"VCB","name":"Vcb Ngoa\u0323i Th\u01b0\u01a1ng VN","id":2},{"code":"BIDV","name":"Bidv \u0110\u1ea7u t\u01b0 v\xe0 Ph\xe1t tri\u1ec3n VN","id":3},{"code":"VBA","name":"Agri N\xf4ng nghi\u1ec7p v\xe0 PT N\xf4ng th\xf4n VN","id":4},{"code":"OCB","name":"Ocb Ph\u01b0\u01a1ng \u0110\xf4ng","id":5},{"code":"MB","name":"MB Qu\xe2n \u0111\u1ed9i","id":6},{"code":"TCB","name":"Tcb K\u1ef9 th\u01b0\u01a1ng VN","id":7},{"code":"ACB","name":"Acb \xc1 Ch\xe2u","id":8},{"code":"VPB","name":"Vpb Vi\u1ec7t Nam Th\u1ecbnh V\u01b0\u1ee3ng","id":9},{"code":"TPB","name":"Tpb Ti\xean Phong","id":10},{"code":"STB","name":"Sacombank S\xe0i G\xf2n Th\u01b0\u01a1ng T\xedn","id":11},{"code":"HDB","name":"HDBank Ph\xe1t tri\u1ec3n Tp HCM","id":12},{"code":"VIETINBANK","name":"Vietin C\xf4ng th\u01b0\u01a1ng VN","id":13},{"code":"SCB","name":"SCB S\xe0i G\xf2n","id":14},{"code":"VIB","name":"Vib Qu\u1ed1c t\u1ebf VN","id":15},{"code":"SHB","name":"Shb S\xe0i G\xf2n - H\xe0 N\u1ed9i","id":16},{"code":"EIB","name":"Eximbank Xu\u1ea5t Nh\u1eadp kh\u1ea9u VN","id":17},{"code":"MSB","name":"Msb Ha\u0300ng Ha\u0309i","id":18},{"code":"CAKE","name":"NH s\u1ed1 CAKE by VPBank","id":19},{"code":"Ubank","name":"NH s\u1ed1 Ubank by VPBank","id":20},{"code":"VTLMONEY","name":"Viettel Money","id":21},{"code":"VNPTMONEY","name":"VNPT Money","id":22},{"code":"SGICB","name":"SaigonBank S\xe0i G\xf2n C\xf4ng Th\u01b0\u01a1ng","id":23},{"code":"BAB","name":"BacABank B\u1eafc \xc1","id":24},{"code":"PVCB","name":"PVcomBank \u0110a\u0323i Chu\u0301ng Vi\xea\u0323t Nam","id":25},{"code":"Oceanbank","name":"Oceanbank \u0110\u1ea1i D\u01b0\u01a1ng","id":26},{"code":"NCB","name":"NCB Qu\u1ed1c D\xe2n","id":27},{"code":"SHBVN","name":"ShinhanBank Shinhan VN","id":28},{"code":"ABBANK","name":"ABBANK An B\xecnh","id":29},{"code":"VAB","name":"VietABank Vi\u1ec7t \xc1","id":30},{"code":"NAB","name":"NamABank Nam \xc1","id":31},{"code":"PGB","name":"PGBank X\u0103ng d\u1ea7u Petrolimex","id":32},{"code":"VIETBANK","name":"VietBank VN Th\u01b0\u01a1ng T\xedn","id":33},{"code":"BVB","name":"BaoVietBank B\u1ea3o Vi\u1ec7t","id":34},{"code":"SEABANK","name":"SeABank \u0110\xf4ng Nam A\u0301","id":35},{"code":"COOPBANK","name":"COOPBANK H\u1ee3p t\xe1c x\xe3 VN","id":36},{"code":"LPB","name":"LPB B\u01b0u \u0110i\u1ec7n Li\xean Vi\u1ec7t","id":37},{"code":"KLB","name":"KLB Ki\xean Long","id":38},{"code":"KBank","name":"KBank \u0110\u1ea1i ch\xfang TNHH Kasikornbank","id":39},{"code":"VRB","name":"VRB Li\xean doanh Vi\u1ec7t - Nga","id":40},{"code":"SCVN","name":"SCVN Standard Chartered Bank VN","id":41},{"code":"NHBHN","name":"NHB Nonghyup - Chi nh\xe1nh H\xe0 N\u1ed9i","id":42},{"code":"IVB","name":"IndovinaBank Indovina","id":43},{"code":"IBKHCM","name":"IBKHCM C\xf4ng nghi\xea\u0323p Ha\u0300n Qu\xf4\u0301c - HCM","id":44},{"code":"KBHCM","name":"KBHCM Kookmin - HCM","id":45},{"code":"KBHN","name":"KBHN Kookmin - Chi nh\xe1nh H\xe0 N\u1ed9i","id":46},{"code":"WVN","name":"WVN Woori Vi\u1ec7t Nam","id":47},{"code":"HSBC","name":"HSBC (Vi\u1ec7t Nam)","id":48},{"code":"CBB","name":"CBB X\xe2y d\u1ef1ng VN","id":49},{"code":"IBKHN","name":"IBKHN C\xf4ng nghi\xea\u0323p Ha\u0300n Qu\xf4\u0301c - Ha\u0300 N\xf4\u0323i","id":50},{"code":"CIMB","name":"CIMB Vi\u1ec7t Nam","id":51},{"code":"DBS","name":"DBS Bank Ltd - HCM","id":52},{"code":"DAB","name":"DongABank \u0110\xf4ng \xc1","id":53},{"code":"GPB","name":"GPBank D\u1ea7u Kh\xed To\xe0n C\u1ea7u","id":54},{"code":"PBVN","name":"PBVN Public Vi\u1ec7t Nam","id":55},{"code":"UOB","name":"UOB United Overseas - HCM","id":56},{"code":"HLBVN","name":"HLBVN Hong Leong VN","id":57},{"code":"CITIBANK","name":"CItiBank VN","id":58},{"code":"VCCB","name":"VCCB Ba\u0309n Vi\xea\u0323t","id":59}]}').listBank,t.domainGame="big99.bet",t.verChildGame={31:"1.0.1",1:"1.0.1"},t.isAPKStore=!0,t.LIST_REMOVE_BUNDLE_GAME={},t.LIST_VERSION_REMOVE=[],t.NotiNoHu=null,t.IsSafe=!0,t.IsSafeNative="-1",t.BundleVersion=null,t.BundleVersionLocal=null,t.loadNativeBundleCallback=null,t.PathSaveLocalBundle=null,t.UserIpAddress="1.1.1.1",t.JackpotTX=2569342,t.ListAdminJP=["hienndmjp","thanhcms","adminjp","admin1jp","vkhamhamjp"],t.User={nickName:"",userName:"",userAg:0,userId:0,email:"",phoneNumber:"",numMailNotRead:0,isLogin:!1,currentGameId:0,currentRoomType:0,currentRoomId:0,status:"",typeAvarta:0,avatrId:-1,base64Ava:"",base:-1,currentLevel:0,currentLevelPoint:0,totalLevelPoint:0,currentVipPoint:0,tokenFacebook:"",isPlayNow:!1,isFirtNap:!1,isAutoFish:!1,isGunSet:!1,isFirtLogin:!1,isOnMusic:!0,isOnSound:!0,userNhat:!1,ipAddress:"1.1.1.1",maxNap:5e5,bankCode:"",bankNumber:"",bankAcName:"",bankHCode:"",bankHNumber:"",bankHAcName:"",madaily:""},t.SFSInfouser=null,t.listCacheGun=null,t.listConfigItem=null,t.deviceId=null,t.Define={configNetwork:{hostHttps:"big99.bet",hostHttpsTest:"45.77.253.107",portWebServer:8080,portWebSServer:8443,portSocket:9933,zoneLogin:"Fish",hostIP:"45.77.253.107"},EVENTRESPONSE:{}},t.GAME_ID={BAUCUA:"BauCua",XOCDIA:"XocDia",FISH_CA_MAP:"CaMap"},t.GAME_TYPE={FISH_CA_MAP:31,XENG:1},t.RandomNumber=function(t,e){var n=Math.random()*(e-t)+t;return Math.floor(n)},t.RandomFloatNumber=function(t,e){return Math.random()*(e-t)+t},t.actionEffectOpen=function(t,e){void 0===e&&(e=null),t.active=!0,t.stopActionByTag(123456),t.x=2e3,t.opacity=0;var n=cc.fadeIn(.25),o=cc.moveTo(.3,cc.v2(0,0)).easing(cc.easeSineIn()),i=cc.spawn(n,o),r=cc.sequence(i,cc.callFunc(e));r.setTag(123456),t.runAction(r)},t.actionEffectClose=function(t,e){t.stopActionByTag(123456);var n=cc.fadeOut(.1),o=cc.moveTo(.5,cc.v2(-2e3,0)).easing(cc.easeSineOut()),i=cc.spawn(n,o),r=cc.callFunc(function(){t.opacity=255,t.x=0}),s=cc.sequence(i,cc.callFunc(function(){}),r,cc.callFunc(e));s.setTag(123456),t.runAction(s)},t.actionEffectOpenPopup=function(t,e){void 0===e&&(e=null),t.active=!0,t.stopActionByTag(7),t.scale=.7,t.opacity=0;var n=cc.fadeIn(.25),o=cc.scaleTo(.3,1).easing(cc.easeBackOut()),i=cc.spawn(n,o),r=cc.sequence(i,cc.callFunc(e));r.setTag(123456),t.runAction(r)},t.actionEffectClosePopup=function(t,e){t.stopActionByTag(123457);var n=cc.fadeOut(.28),o=cc.scaleTo(.3,.7).easing(cc.easeBackIn()),i=cc.spawn(n,o),r=cc.callFunc(function(){t.opacity=255,t.scale=1}),s=cc.sequence(i,cc.callFunc(function(){}),r,cc.callFunc(e));s.setTag(123456),t.runAction(s)},t.formatNumber=function(t,e){return void 0===e&&(e=!0),e?t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1."):t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},t.getResultBuyId=function(t){t=parseInt(t);for(var e=[[5,19],[15,17],[2,3],[21,22],[7,9],[10,11],[13,14],[23,1]],n=0,o=e.length;n<o;n++)if(e[n].includes(t))return n},t.shuffle=function(t){var e,n,o;for(o=t.length-1;o>0;o--)e=Math.floor(Math.random()*(o+1)),n=t[o],t[o]=t[e],t[e]=n;return t},t}();n.Windown=b,cc._RF.pop()}).call(this,t("buffer").Buffer)},{"./DefineTs/BUNDLE":"BUNDLE","./DefineTs/OSDefine":"OSDefine","./DefineTs/PathResource":"PathResource","./Game/CpPromise":"CpPromise","./Game/GAME_TYPE":"GAME_TYPE","./InfoERR":"InfoERR","./Network/ConectManager":"ConectManager","./Network/Http":"Http","./Popup/BigWinLobby/BigWinLobby":"BigWinLobby","./Popup/ChatAdmin/ChatAdminController":"ChatAdminController","./Popup/HomThu/HomThuController":"HomThuController","./Popup/NhiemVu/NhiemVuConTroller":"NhiemVuConTroller","./Util":"Util",buffer:2}],X10_30_1Cua:[function(t,e,n){"use strict";cc._RF.push(e,"a89a1LFTW5ODrjXQJqp/5hl","X10_30_1Cua");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./BaseEffectAnTruoc"),c=t("./EffectAnLuon1Cua"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.executed=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n,o,i,r,a,l,u,p,h,d,f=this;return s(this,function(s){switch(s.label){case 0:return t=this.dataFinishItemAnTruoc.result,n=this.dataFinishItemAnTruoc.mutil,o=this.dataFinishItemAnTruoc.moneyRevice,[4,new c.default(this.xengController).executed()];case 1:s.sent(),this.soundMgn.playEffect(this.soundMgn.ItemChay1Vong),(i=this.getListChildren()).forEach(function(t){f.offItem(t)}),r=0,a=0,l=1,u=!1,s.label=2;case 2:return this.runEffectActiveAndHideWithTime(this.getNodeLbItem(r),.05),r==t&&a>27?[3,4]:((r+=l)>8&&(l*=-1,r=8),-1==r&&(l*=-1,r=0),a++,u?[3,4]:[4,this.makeDelay(.05)]);case 3:return s.sent(),[3,2];case 4:return this.offEffect(this.getNodeLbItem(t)),this.soundMgn.stopEffect(this.soundMgn.ItemChay1Vong),this.runEffectNhapNhay(this.getNodeLbItem(t),10,70),[4,this.soundMgn.playEffectSync(this.soundMgn.CauNoiShowResultAnTruocX30)];case 5:return s.sent(),this.offEffect(this.getNodeLbItem(t)),[4,this.soundMgn.playEffectSync(this.soundMgn.TiengNoVaChemKiem)];case 6:return s.sent(),this.runEffectRandomLabelHesoSpecial(),[4,this.soundMgn.playEffectSync(this.soundMgn.TiengRandomHesoAnTruocX30)];case 7:return s.sent(),this.offEffectRandomLabelHeso(n),[4,this.makeDelay(.5)];case 8:return s.sent(),this.runEffectNhapNhay(this.getNodeLbHeso(),10,70),this.runEffectNhapNhay(this.getNodeLbLeft(),10,70),[4,this.soundMgn.playEffectSync(this.soundMgn.VuiMung)];case 9:return s.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.Item[t])];case 10:return s.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.Gong)];case 11:return s.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.XiPe)];case 12:if(s.sent(),this.offEffect(this.getNodeLbHeso()),this.offEffect(this.getNodeLbLeft()),!(o>0))return[3,18];p=this.getBtnItem(t).point,this.currentBtnTrai.setPointBy(p),h=0,d=n,s.label=13;case 13:return h<d?(n--,this.setStringLbHeSo(n),this.soundMgn.playEffect(this.soundMgn.TiengNo),this.currentBtnTrai.setPointBy(p),[4,this.makeDelay(.45)]):[3,16];case 14:s.sent(),s.label=15;case 15:return h++,[3,13];case 16:return[4,this.makeDelay(1)];case 17:return s.sent(),i.forEach(function(t){t.stopAllActions(),t.opacity=255}),e(null),[3,20];case 18:return[4,this.makeDelay(1)];case 19:s.sent(),e(null),s.label=20;case 20:return[2]}})})})},e}(a.default);n.default=l,cc._RF.pop()},{"./BaseEffectAnTruoc":"BaseEffectAnTruoc","./EffectAnLuon1Cua":"EffectAnLuon1Cua"}],X3_1Cua:[function(t,e,n){"use strict";cc._RF.push(e,"f7ca8Ch1HtFPaH/dAGVsUWf","X3_1Cua");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.executed=function(){var t=this;return new Promise(function(e){return r(t,void 0,void 0,function(){var t,n;return s(this,function(o){switch(o.label){case 0:return t=this.dataFinishItemAnTruoc.result,n=this.dataFinishItemAnTruoc.moneyRevice,this.runEffectNhapNhay(this.getNodeLbItem(t),10,40),[4,this.soundMgn.playEffectSync(this.soundMgn.CauNoiX3Luon)];case 1:return o.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.VuiMung)];case 2:return o.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.Item[t])];case 3:return o.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.Gong)];case 4:return o.sent(),[4,this.soundMgn.playEffectSync(this.soundMgn.XaPe)];case 5:return o.sent(),0!=n?[3,6]:(this.offEffect(this.getNodeLbItem(t)),e(null),[3,8]);case 6:return this.currentBtnTrai.setPoint(n),this.offEffect(this.getNodeLbItem(t)),[4,this.soundMgn.playEffectSync(this.soundMgn.TiengNo)];case 7:o.sent(),e(null),o.label=8;case 8:return[2]}})})})},e}(t("./BaseEffectAnTruoc").default);n.default=a,cc._RF.pop()},{"./BaseEffectAnTruoc":"BaseEffectAnTruoc"}],XacThucTele:[function(t,e,n){"use strict";cc._RF.push(e,"fc964Mga3FD45fieLdNZ7EN","XacThucTele");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeDialog=null,e.isShowNext=!1,e}return i(e,t),e.prototype.show=function(t){this.isShowNext=t,s.Windown.actionEffectOpenPopup(this.node)},e.prototype.onClickXacNhan=function(){cc.sys.openURL(s.Windown.LinkVeryTele+window.btoa(s.Windown.User.userId.toString())),this.onClickClose()},e.prototype.onClickClose=function(){var t=this;s.Windown.actionEffectClosePopup(this.node,function(){t.isShowNext&&s.Windown.UIManager.showFunFirtLogin(),t.node.destroy()})},r([l(cc.Node)],e.prototype,"nodeDialog",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Windown":"Windown"}],XengController:[function(t,e,n){"use strict";cc._RF.push(e,"8952cXBqARBTJ6Eo1zEBJDp","XengController");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Scritps/DefineTs/EVENT_MANAGER"),s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/DefineTs/TextDefine"),c=t("../../../Scritps/Game/GAME_TYPE"),l=t("../../../Scritps/Network/ConectManager"),u=t("../../../Scritps/Windown"),p=t("./Button/BtnBetItem"),h=t("./Button/BtnBetXDV"),d=t("./Button/BtnChangePointLeft"),f=t("./Button/BtnChangePointRight"),y=t("./Button/BtnClick"),g=t("./Button/BtnGo"),m=t("./Event/ResponseBetToNho"),v=t("./Event/ResponseMakeBet"),S=t("./Event/ResponseSetMutil"),b=t("./State/StateFinished"),w=t("./State/StateFinishedMini"),_=t("./State/StateGame"),C=t("./State/StatePlaying"),T=t("./State/StatePlayingMini"),I=t("./State/StateWating"),W=t("./State/StateWatingPlayGame"),M=t("./State/StateWatingPlayGameMini"),E=t("./XengModel"),R=function(){function t(){this.xengModel=new E.default,this.stateGame=null,this.listButton=[],this.listBtnItem=[],this.listBtnXDV=[],this.btnChangePointL=null,this.btnChangePointR=null,this.listBtnClick=[],this.btnGo=null,this.roomSFS=null,this.isCanSendData=!0,this.betCache=null,this.moneyCurrent=0,this.sfs=null,this.listTimeOut=[],this.mutil=1,this.sfs=l.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),u.Windown.XengController=this,cc.systemEvent.on(r.EVENT_MANAGER.onDisconnect,this.onDisconnect,this)}return t.prototype.dangKyEventXeng=function(){u.Windown.MoneyUser.dangKyHandle(this.setGold,this)},t.prototype.setGold=function(t){cc.log("money la: "+t),this.moneyCurrent=t,this.btnChangePointR&&this.btnChangePointR.setPoint(t,!0)},t.prototype.onDisconnect=function(){this.onDestroy(),cc.director.loadScene("main")},t.prototype.userExitRoom=function(t){if("Xeng"==t.room.groupId&&t.user.isItMe)return this.onDestroy(),void cc.director.loadScene("main")},t.prototype.onCreateError=function(){cc.log("creat err"),u.Windown.UIManager.hideLoading(),this.onDestroy(),u.Windown.Dialog.showLog(a.TextDefine.ERR_JOIN_ROOM)},t.prototype.onJoinRoom=function(t){return o(this,void 0,void 0,function(){var e;return i(this,function(n){switch(n.label){case 0:return"Xeng"!=(e=t.room).groupId?[3,2]:(this.roomSFS=e,[4,u.Windown.loadBundle(c.default.Xeng.toString())]);case 1:n.sent().loadScene("XengGame",function(t,e){if(t)return u.Windown.Dialog.showLog(a.TextDefine.Error),void u.Windown.UIManager.hideLoadingData();cc.director.runScene(e,null,function(){u.Windown.UIManager.hideLoadingData()})}),n.label=2;case 2:return[2]}})})},t.prototype.onJoinRoomErr=function(){u.Windown.UIManager.hideLoading(),u.Windown.Dialog.showLog(a.TextDefine.ERR_JOIN_ROOM),this.onDestroy()},t.prototype.extResponse=function(t){var e=null,n=t.cmd,o=t.params;switch(n){case s.REQUEST_CODE.BetToNho:e=new m.default;break;case s.REQUEST_CODE.MakeBet:e=new v.default;break;case s.REQUEST_CODE.SetMutiXeng:e=new S.default}e&&e.handleResponse(o)},t.prototype.onDestroy=function(){u.Windown.UIManager.hideLoadingData(),u.Windown.UIManager.hideLoading(),cc.systemEvent.removeAll(this),this.clearAllTimeOut(),this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),u.Windown.XengController=null,this.roomSFS=null,u.Windown.MoneyUser.targetOff(this),u.Windown.MoneyUser.endGameMOney(c.default.Xeng)},t.prototype.intiGame=function(){return o(this,void 0,void 0,function(){var t,e=this;return i(this,function(n){switch(n.label){case 0:return[4,u.Windown.loadBundle(c.default.Xeng.toString())];case 1:return t=n.sent(),u.Windown.UIManager.showLoadingData(),t.preloadScene("XengGame",{},function(t,e){u.Windown.UIManager.setPerData(t/e)},function(t){t?u.Windown.Dialog.showLog(a.TextDefine.Error):e.sendJoinRoom()}),[2]}})})},t.prototype.initXengView=function(t){this.xengView=t,u.Windown.UIManager.hideLoadingData(),this.dangKyEventXeng()},t.prototype.sendJoinRoom=function(){cc.log("send creat room");var t=l.ConectManager.getIns().getValibleRoomName(),e=new SFS2X.RoomSettings(t),n=new SFS2X.RoomExtension("XengExtension","ext.Room.Xeng.XengGameView");e.extension=n,e.isGame=!0,e.maxUsers=1,e.groupId="Xeng",this.sfs.send(new SFS2X.CreateRoomRequest(e,!0))},t.prototype.initListButton=function(t){var e=this;this.listButton=t,this.listBtnItem=[],this.listBtnXDV=[],this.listButton.forEach(function(t){t instanceof p.default?e.listBtnItem.push(t):t instanceof h.default?e.listBtnXDV.push(t):t instanceof y.default?e.listBtnClick.push(t):t instanceof g.default?e.btnGo=t:t instanceof f.default?e.btnChangePointR=t:t instanceof d.default&&(e.btnChangePointL=t),t.initGameController(e)}),this.setCurrentState(_.default.WATING)},t.prototype.sendToServer=function(t,e){this.isCanSendData&&null!=this.roomSFS&&(this.isCanSendData=!1,l.ConectManager.getIns().sendRequest(t,e,this.roomSFS))},t.prototype.onClickGo=function(){if(this.stateGame.type==_.default.WATINGPLAYGAME||this.stateGame.type==_.default.WATINGPLAYGAMEMINI||this.stateGame.type==_.default.PLAYINGMINI)this.setCurrentState(_.default.WATING);else if(this.stateGame.type==_.default.WATING){if(this.betCache){for(var t in this.getBtnItemXDV(0).onPress(this.betCache.red),this.getBtnItemXDV(1).onPress(this.betCache.yello),this.getBtnItemXDV(2).onPress(this.betCache.green),this.betCache.listBetItem)this.listBtnItem[Number(t)].onPress(this.betCache.listBetItem[t]);this.setCurrentState(_.default.PLAYING)}}else if(this.stateGame.type==_.default.PLAYING){var e=Object.create(null);e.green=this.listBtnXDV[2].point,e.red=this.listBtnXDV[0].point,e.yello=this.listBtnXDV[1].point,e.listBetItem=this.getArryPointItem(),this.betCache=e;var n=l.ConectManager.getIns().getSFSObj();n.putUtfString("data",JSON.stringify(e)),this.sendToServer(s.REQUEST_CODE.MakeBet,n),cc.log("objSend"+JSON.stringify(e)),this.setCurrentState(_.default.FINISHED)}},t.prototype.onClickAllAdd1=function(t){this.listBtnItem.forEach(function(e){e.onPress(t)})},t.prototype.onClick1_6=function(){if(this.resetEffectAll(),!(this.btnChangePointL.point<=0)){cc.log("chay vao click 1_6");var t=l.ConectManager.getIns().getSFSObj();t.putInt("agXengDat",this.btnChangePointL.point),t.putInt("type",1),this.sendToServer("betToNho",t),this.setCurrentState(_.default.FINISHEDMINI),this.getSoundMng().stopEffect(this.getSoundMng().NhacNenToNho)}},t.prototype.onClick8_13=function(){if(this.resetEffectAll(),!(this.btnChangePointL.point<=0)){var t=l.ConectManager.getIns().getSFSObj();t.putInt("agXengDat",this.btnChangePointL.point),t.putInt("type",2),this.sendToServer("betToNho",t),this.setCurrentState(_.default.FINISHEDMINI),this.getSoundMng().stopEffect(this.getSoundMng().NhacNenToNho)}},t.prototype.onClickChan=function(){if(this.resetEffectAll(),!(this.btnChangePointL.point<=0)){var t=l.ConectManager.getIns().getSFSObj();t.putInt("agXengDat",this.btnChangePointL.point),t.putInt("type",4),this.sendToServer("betToNho",t),this.setCurrentState(_.default.FINISHEDMINI),this.getSoundMng().stopEffect(this.getSoundMng().NhacNenToNho)}},t.prototype.onClickLe=function(){if(!(this.btnChangePointL.point<=0)){var t=l.ConectManager.getIns().getSFSObj();t.putInt("agXengDat",this.btnChangePointL.point),t.putInt("type",3),this.sendToServer("betToNho",t),this.setCurrentState(_.default.FINISHEDMINI),this.getSoundMng().stopEffect(this.getSoundMng().NhacNenToNho)}},t.prototype.canSendData=function(t){void 0===t&&(t=!1),this.isCanSendData=t},t.prototype.setCurrentState=function(t){this.stateGame&&this.stateGame.type==t||(this.stateGame=this.getState(t),this.stateGame.initGameController(this),this.stateGame.execute())},t.prototype.getSoundMng=function(){return u.Windown.AudioManager},t.prototype.getArryPointItem=function(){var t=[];return this.listBtnItem.forEach(function(e){t.push(e.point)}),t},t.prototype.getBtnItemXDV=function(t){return this.listBtnXDV[t]},t.prototype.offEffect=function(t){t.opacity=255,t.stopAllActions()},t.prototype.offItem=function(t){t.stopAllActions(),t.opacity=0},t.prototype.runEffectNhapNhay=function(t,e,n){t.stopAllActions(),t.opacity=255,t.runAction(cc.blink(e,n))},t.prototype.runEffectActiveAndHideWithTime=function(t,e){t.stopAllActions(),t.opacity=255,t.runAction(cc.sequence(cc.delayTime(e),cc.fadeOut(0)))},t.prototype.runEffectNhapNhay1Lan=function(t,e){void 0===e&&(e=.1),t.stopAllActions(),t.opacity=0,t.runAction(cc.sequence(cc.delayTime(e),cc.fadeIn(0)))},t.prototype.actionFade=function(t){t.opacity=255},t.prototype.makeDelay=function(t){var e=this;return new Promise(function(n){var o=setTimeout(function(){e.removeTimeOut(o),n(null)},1e3*t);e.addTimeOut(o)})},t.prototype.handleBetToNho=function(t){u.Windown.Dialog.checkAndShowLog(t,!1),(new m.default).handleResponse(t)},t.prototype.handleMakeBet=function(t){u.Windown.Dialog.checkAndShowLog(t,!1),(new v.default).handleResponse(t)},t.prototype.handleSetMutiXeng=function(t){u.Windown.Dialog.checkAndShowLog(t,!1),(new S.default).handleResponse(t)},t.prototype.handleSetConfig=function(t){this.isCanSendData=!0,u.Windown.Dialog.checkAndShowLog(t,!0)},t.prototype.showDoiDiem=function(t){this.xengView.showDoiDiem(t)},t.prototype.resetEffectAll=function(){var t=this;this.offEffect(this.btnChangePointL.lbPoint.node),this.listBtnItem.forEach(function(e){e.reset(),t.offEffect(e.lbPoint.node)}),this.listBtnXDV.forEach(function(e){e.reset(),t.offEffect(e.lbPoint.node)}),this.xengView.getIdListLastResutl().forEach(function(e){t.offEffect(t.xengView.getChildById(e))}),this.xengView.getIdXDVListLastResutl().forEach(function(e){t.offEffect(t.xengView.getChildXDVById(e))}),this.offItem(this.xengView.getNodeJp())},t.prototype.addTimeOut=function(t){this.listTimeOut.includes(t)||this.listTimeOut.push(t)},t.prototype.removeTimeOut=function(t){var e=this.listTimeOut.indexOf(t);e>-1&&this.listTimeOut.splice(e,1)},t.prototype.clearAllTimeOut=function(){this.listTimeOut.forEach(function(t){clearTimeout(t)})},t.prototype.getState=function(t){switch(t){case _.default.PLAYING:return new C.default(_.default.PLAYING);case _.default.PLAYINGMINI:return new T.default(_.default.PLAYINGMINI);case _.default.WATING:return new I.default(_.default.WATING);case _.default.FINISHED:return new b.default(_.default.FINISHED);case _.default.FINISHEDMINI:return new w.default(_.default.FINISHEDMINI);case _.default.WATINGPLAYGAME:return new W.default(_.default.WATINGPLAYGAME);case _.default.WATINGPLAYGAMEMINI:return new M.default(_.default.WATINGPLAYGAMEMINI)}},t}();n.default=R,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Windown":"Windown","./Button/BtnBetItem":"BtnBetItem","./Button/BtnBetXDV":"BtnBetXDV","./Button/BtnChangePointLeft":"BtnChangePointLeft","./Button/BtnChangePointRight":"BtnChangePointRight","./Button/BtnClick":"BtnClick","./Button/BtnGo":"BtnGo","./Event/ResponseBetToNho":"ResponseBetToNho","./Event/ResponseMakeBet":"ResponseMakeBet","./Event/ResponseSetMutil":"ResponseSetMutil","./State/StateFinished":"StateFinished","./State/StateFinishedMini":"StateFinishedMini","./State/StateGame":"StateGame","./State/StatePlaying":"StatePlaying","./State/StatePlayingMini":"StatePlayingMini","./State/StateWating":"StateWating","./State/StateWatingPlayGame":"StateWatingPlayGame","./State/StateWatingPlayGameMini":"StateWatingPlayGameMini","./XengModel":"XengModel"}],XengModel:[function(t,e,n){"use strict";cc._RF.push(e,"db815rfGQlO75Z3et18Soz6","XengModel");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},r([c(cc.Label)],e.prototype,"label",void 0),r([c],e.prototype,"text",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],XengView:[function(t,e,n){"use strict";cc._RF.push(e,"1ce64uuPndBJ7yNMewHOgJ6","XengView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Network/ConectManager"),a=t("../../../Scritps/Windown"),c=t("./Button/BaseButton"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeGame=null,e.lbHeso=null,e.listLbHesoOGiua=[],e.parentItem=null,e.parentHistory=null,e.parentXDV=null,e.parentXoSo=null,e.parentLightMid=null,e.jpNode=null,e.nodeDoiDiem=null,e.funRDHeSo=null,e.handleUpdate=null,e.listIdResult=[0],e.listIdXDVResult=[0,1],e.listHistory=[],e.funUpdate=null,e}return i(e,t),e.prototype.start=function(){if(null!=a.Windown.XengController){a.Windown.XengController.initXengView(this),this.showDoiDiem(!0);var t=cc.find("Game/Bot",this.node).getComponentsInChildren(c.default);a.Windown.XengController.initListButton(t),this.initListHistory(),a.Windown.UIManager.changeRotation(!0),this.setupView(),this.randomLbHeSoOGiua(),cc.log("nhay vao start xeng")}else cc.director.loadScene("main")},e.prototype.setupView=function(){if(!cc.sys.isMobile){var t=cc.winSize.height/1280;this.nodeGame.angle=-90,this.nodeGame.scale=t}},e.prototype.initListHistory=function(){var t=a.Windown.getLocalStorage("historyXDV");if(t)this.listHistory=JSON.parse(t);else{t=[];for(var e=0;e<12;e++){var n=a.Windown.RandomNumber(0,100);n<45?t.push(0):n<90?t.push(2):t.push(1)}this.listHistory=t}this.emitNewHistoryXDV()},e.prototype.showDoiDiem=function(t){this.nodeDoiDiem.active=t},e.prototype.setColor=function(t){var e=this.getColor(t);this.getListChildren().forEach(function(t){t.color=e})},e.prototype.getColor=function(t){return 0==t?cc.Color.RED:2==t?cc.Color.GREEN:cc.Color.ORANGE},e.prototype.initHandleUpdate=function(t){this.handleUpdate=t},e.prototype.getLightMid=function(t){return this.parentLightMid.children[t].children[0]},e.prototype.getListLightMid=function(){var t=[];return this.parentLightMid.children.forEach(function(e){t.push(e.children[0])}),t},e.prototype.getChildById=function(t){return this.parentItem.children[t].children[0]},e.prototype.getChildXDVById=function(t){return this.parentXDV.children[t]},e.prototype.getChildXoSoById=function(t){return this.parentXoSo.children[t].children[0]},e.prototype.getListLastResult=function(){var t=[],e=this.parentItem.children;for(var n in e)this.listIdResult.includes(Number(n))&&t.push(e[n].children[0]);return t},e.prototype.getIdListLastResutl=function(){return this.listIdResult},e.prototype.getIdXDVListLastResutl=function(){return this.listIdXDVResult},e.prototype.getNodeJp=function(){return this.jpNode},e.prototype.getListChildren=function(){var t=[];return this.parentItem.children.forEach(function(e){t.push(e.children[0])}),t},e.prototype.getListChildXDV=function(){var t=[];return this.parentXDV.children.forEach(function(e){t.push(e)}),t},e.prototype.getListChildXoSo=function(){var t=[];return this.parentXoSo.children.forEach(function(e){t.push(e.children[0])}),t},e.prototype.setStringLbHeSo=function(t){var e=t.toString();e.length<2&&(e="0"+e),this.lbHeso.string=e},e.prototype.randomLbHeSoOGiua=function(){this.listLbHesoOGiua.forEach(function(t){var e=a.Windown.RandomNumber(1,100).toString();e.length<1&&(e="0"+e),t.string=e})},e.prototype.randomLbHeSo=function(){var t=a.Windown.RandomNumber(1,100);this.setStringLbHeSo(t)},e.prototype.runEffectRandomLabelHesoMiniGame=function(){var t=this;this.unschedule(this.funRDHeSo),this.schedule(this.funRDHeSo=function(){var e=a.Windown.RandomNumber(1,14);t.setStringLbHeSo(e)},.02)},e.prototype.runEffectRandomLabelHesoSpecial=function(){var t=this,e=11;this.unschedule(this.funRDHeSo),this.schedule(this.funRDHeSo=function(){t.setStringLbHeSo(e),(e+=11)>99&&(e=11)},.07)},e.prototype.runEffectRandomLabelHeso=function(t,e){var n=this;this.unschedule(this.funRDHeSo),this.schedule(this.funRDHeSo=function(){var o=a.Windown.RandomNumber(t,e);n.setStringLbHeSo(o)},.04)},e.prototype.offEffectRandomLabelHeso=function(t){this.unschedule(this.funRDHeSo),this.setStringLbHeSo(t)},e.prototype.offEffectLabelHeso=function(){this.unschedule(this.funRDHeSo)},e.prototype.putIdResult=function(t){this.listIdResult.push(t)},e.prototype.activeIcon=function(t){t.stopAllActions(),t.opacity=255},e.prototype.putIdXDVResult=function(t){this.listIdXDVResult.push(t)},e.prototype.resetIdResult=function(){this.listIdResult.length=0},e.prototype.resetIdXDVResult=function(){this.listIdXDVResult.length=0},e.prototype.onClickBack=function(){s.ConectManager.getIns().sendLeaveRoom(a.Windown.XengController.roomSFS),a.Windown.UIManager.showLoading(30)},e.prototype.onClickSeting=function(){},e.prototype.onClickTest=function(){a.Windown.UIManager.showHomThu()},e.prototype.sendMutilXeng=function(t,e){var n=Number(e);a.Windown.XengController.mutil=n,a.Windown.XengController.btnChangePointR.reset(),a.Windown.XengController.showDoiDiem(!1),a.Windown.XengController.getSoundMng().playNhacCho(),a.Windown.XengController.setGold(a.Windown.User.userAg)},e.prototype.sendConfigBetToNho=function(t,e){var n=parseInt(e);if(null!=n){var o=s.ConectManager.getIns().getSFSObj();o.putInt("dataToNho",n),a.Windown.XengController.sendToServer("setConfig",o)}},e.prototype.sendConfigAnTruoc=function(t,e){var n=parseInt(e);if(null!=n){var o=s.ConectManager.getIns().getSFSObj();o.putInt("dataAnTruoc",n),a.Windown.XengController.sendToServer("setConfig",o)}},e.prototype.sendConfigXDV=function(t,e){var n=parseInt(e);if(null!=n){var o=s.ConectManager.getIns().getSFSObj();o.putInt("dataXDV",n),a.Windown.XengController.sendToServer("setConfig",o)}},e.prototype.addNewHistory=function(t){this.listHistory.unshift(t),this.listHistory.pop(),this.emitNewHistoryXDV()},e.prototype.emitNewHistoryXDV=function(){var t=this,e=JSON.stringify(this.listHistory);a.Windown.setLocalStorage("historyXDV",e);var n=0,o=this.parentHistory.children;this.listHistory.forEach(function(e){o[n].children[0].color=t.getColor(e),n++})},e.prototype.sendConfigBetCua=function(t,e){cc.log("click set config bet cua");var n=parseInt(e);if(null!=n){var o=s.ConectManager.getIns().getSFSObj();o.putInt("dataBetCua",n),a.Windown.XengController.sendToServer("setConfig",o)}},e.prototype.onDestroy=function(){a.Windown.UIManager.changeRotation(),a.Windown.XengController&&a.Windown.XengController.onDestroy()},e.prototype.update=function(t){this.funUpdate&&this.funUpdate(t)},r([p(cc.Node)],e.prototype,"nodeGame",void 0),r([p(cc.Label)],e.prototype,"lbHeso",void 0),r([p([cc.Label])],e.prototype,"listLbHesoOGiua",void 0),r([p(cc.Node)],e.prototype,"parentItem",void 0),r([p(cc.Node)],e.prototype,"parentHistory",void 0),r([p(cc.Node)],e.prototype,"parentXDV",void 0),r([p(cc.Node)],e.prototype,"parentXoSo",void 0),r([p(cc.Node)],e.prototype,"parentLightMid",void 0),r([p(cc.Node)],e.prototype,"jpNode",void 0),r([p(cc.Node)],e.prototype,"nodeDoiDiem",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Windown":"Windown","./Button/BaseButton":"BaseButton"}],XepHang:[function(t,e,n){"use strict";cc._RF.push(e,"66259x1QuRCu5ZRQOsd2EgQ","XepHang");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../DefineTs/EVENT_MANAGER"),a=t("../../DefineTs/REQUEST_CODE"),c=t("../../Network/ConectManager"),l=t("../../Windown"),u=t("./LichSuTraoThuong"),p=t("./TopThang"),h=t("./TopTuan"),d=cc._decorator,f=d.ccclass,y=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TopTuan=null,e.TopThang=null,e.LichSuTraoThuong=null,e.nodeTheLe=null,e.toggleTuan=null,e.dataWeek=null,e.dataMonth=null,e}return i(e,t),e.prototype.onLoad=function(){l.Windown.XepHang=this},e.prototype.onDestroy=function(){l.Windown.XepHang=null},e.prototype.show=function(){l.Windown.actionEffectOpen(this.node),this.TopTuan.reset(),this.TopThang.reset(),this.toggleTuan.check(),this.TopThang.node.active=!1,this.TopTuan.node.active=!0,this.LichSuTraoThuong.node.active=!1,this.TopTuan.node.parent.active=!0,c.ConectManager.getIns().sendRequestToCallback(a.REQUEST_CODE.GetRankWeek,null,this.responseServerWeek.bind(this)),c.ConectManager.getIns().sendRequestToCallback(a.REQUEST_CODE.GetRankMonth,null,this.responseServerMonth.bind(this))},e.prototype.responseServerWeek=function(t){cc.log("TopTuan:",l.Windown.SFSObjToJson(t)),l.Windown.Dialog.checkAndShowLog(t,!1),this.dataWeek=t,this.TopTuan.emitNewData(),l.Windown.UIManager.hideLoading()},e.prototype.responseServerMonth=function(t){cc.log("TopThang:",l.Windown.SFSObjToJson(t)),l.Windown.Dialog.checkAndShowLog(t,!1),this.dataMonth=t},e.prototype.onToggle=function(t){"toggleTuan"==t.node.name?(this.TopTuan.node.active=!0,this.TopThang.node.active=!1,this.TopTuan.emitNewData()):"toggleThang"==t.node.name&&(this.TopTuan.node.active=!1,this.TopThang.node.active=!0,this.TopThang.emitNewData())},e.prototype.onClickClose=function(){var t=this;l.Windown.actionEffectClose(this.node,function(){cc.systemEvent.emit(s.EVENT_MANAGER.onCloseXepHang),t.node.parent=null})},e.prototype.onClickLichSu=function(){this.TopTuan.node.parent.active=!1,this.LichSuTraoThuong.show(0)},e.prototype.onBackLichSu=function(){var t=this;this.TopTuan.node.parent.active=!0,l.Windown.actionEffectClosePopup(this.LichSuTraoThuong.node,function(){t.LichSuTraoThuong.node.active=!1})},e.prototype.onClickRule=function(){this.nodeTheLe.active=!0,l.Windown.actionEffectOpenPopup(this.nodeTheLe)},e.prototype.onClickCloseThele=function(){var t=this;l.Windown.actionEffectClosePopup(this.nodeTheLe,function(){t.nodeTheLe.active=!1})},r([y(h.default)],e.prototype,"TopTuan",void 0),r([y(p.default)],e.prototype,"TopThang",void 0),r([y(u.default)],e.prototype,"LichSuTraoThuong",void 0),r([y(cc.Node)],e.prototype,"nodeTheLe",void 0),r([y(cc.Toggle)],e.prototype,"toggleTuan",void 0),r([f],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../DefineTs/REQUEST_CODE":"REQUEST_CODE","../../Network/ConectManager":"ConectManager","../../Windown":"Windown","./LichSuTraoThuong":"LichSuTraoThuong","./TopThang":"TopThang","./TopTuan":"TopTuan"}],"XocDia.Asset":[function(t,e,n){"use strict";cc._RF.push(e,"07ba9+ZZpJIBKzWUfxN5BRH","XocDia.Asset");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chipBetTemp=null,e.effectWin=null,e.chipBetSprites=[],e.listBetValue=[1,5,10,50,100,500,1e3,2e3,5e3,1e4,5e4,1e5,15e4,2e5],e.chipBetPool=null,e}return i(e,t),e.prototype.onLoad=function(){this.chipBetPool=new cc.NodePool("chipbet")},e.prototype.getChipBet=function(t){var e=null;0==this.chipBetPool.size()&&this.chipBetPool.put(cc.instantiate(this.chipBetTemp)),(e=this.chipBetPool.get()).active=!0,e.opacity=255,e.scale=1,e.value=0,e.gate=-1,e.playerID=0,e.isChipPayOther=null;var n=this.listBetValue.indexOf(t/1e3);return e.getComponent(cc.Sprite).spriteFrame=-1!=n?this.chipBetSprites[n]:this.chipBetSprites[this.chipBetSprites.length-1],e},e.prototype.getEffectWin=function(t,e){void 0===e&&(e=!1),cc.log("get EffectWin:"+t);var n=cc.instantiate(this.effectWin);return n.getChildByName("lbChipWin").getComponent(cc.Label).string=s.Windown.formatMoney(t),n.active=!0,n},r([l(cc.Node)],e.prototype,"chipBetTemp",void 0),r([l(cc.Node)],e.prototype,"effectWin",void 0),r([l([cc.SpriteFrame])],e.prototype,"chipBetSprites",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],"XocDia.Audio":[function(t,e,n){"use strict";cc._RF.push(e,"293a67QZZhAVb+CmWPxfcC1","XocDia.Audio");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Parent/AudioManager"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgm_fs=null,e.click=null,e.youWin=null,e.gateWinEffect=null,e.dealer_startBet=null,e.dealer_endBet=null,e.getChip=null,e.chipMoveToPlayer_turn1=null,e.chipMoveToPlayer_turn2=null,e.throwChip=null,e.openPopup=null,e.shake=null,e.selectChip=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.playClick=function(){this.playEffect(this.click)},e.prototype.playMusic=function(){cc.log("chay vao play music "+this.isActiveMusic),this.isActiveMusic&&this.backgroundMusicAudio&&(cc.audioEngine.playMusic(this.backgroundMusicAudio,!0),cc.audioEngine.setMusicVolume(1))},e.prototype.playIndexTakeLine=function(){},e.prototype.playSmalWin=function(){},e.prototype.playBkgfs=function(){this.stopMusic(),this.playEffect(this.bgm_fs,.6,!0)},e.prototype.stopBkgFs=function(){this.stopEffect(this.bgm_fs,!0),this.playMusic()},r([l(cc.AudioClip)],e.prototype,"bgm_fs",void 0),r([l(cc.AudioClip)],e.prototype,"click",void 0),r([l(cc.AudioClip)],e.prototype,"youWin",void 0),r([l(cc.AudioClip)],e.prototype,"gateWinEffect",void 0),r([l(cc.AudioClip)],e.prototype,"dealer_startBet",void 0),r([l(cc.AudioClip)],e.prototype,"dealer_endBet",void 0),r([l(cc.AudioClip)],e.prototype,"getChip",void 0),r([l(cc.AudioClip)],e.prototype,"chipMoveToPlayer_turn1",void 0),r([l(cc.AudioClip)],e.prototype,"chipMoveToPlayer_turn2",void 0),r([l(cc.AudioClip)],e.prototype,"throwChip",void 0),r([l(cc.AudioClip)],e.prototype,"openPopup",void 0),r([l(cc.AudioClip)],e.prototype,"shake",void 0),r([l(cc.AudioClip)],e.prototype,"selectChip",void 0),r([c],e)}(s.default);n.default=u,cc._RF.pop()},{"../../../Scritps/Parent/AudioManager":"AudioManager"}],"XocDia.ButtonBet":[function(t,e,n){"use strict";cc._RF.push(e,"6daadHpDktO5ZKLZpNabYMQ","XocDia.ButtonBet");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrBtn=null,e.btnX2=null,e.btnRebet=null,e.currbetBtnBet=null,e.chipBorder=null,e.listBetValue=[1,5,10,50,100,500,1e3,2e3,5e3,1e4,5e4,15e4,2e5],e.currentBetValue=1,e}return i(e,t),e.prototype.start=function(){var t=this;this.scrBtn.content.children.forEach(function(e,n){var o=new cc.Component.EventHandler;o.target=t.node,o.component="XocDia.ButtonBet",o.handler="onClickBet",o.customEventData=t.listBetValue[n]+"",e.getComponent(cc.Button).clickEvents.push(o)}),this.currbetBtnBet.y=10},e.prototype.onClickBet=function(t,e){cc.log("clickbet:"+e),s.Windown.XocDiaView.audio.playEffect(s.Windown.XocDiaView.audio.selectChip),cc.tween(this.currbetBtnBet).to(.1,{y:0}).start(),this.currbetBtnBet=t.target,this.chipBorder.parent=this.currbetBtnBet,this.currentBetValue=1e3*parseInt(e),s.Windown.XocDiaView.currentBetValue=this.currentBetValue,cc.tween(this.currbetBtnBet).to(.1,{y:10}).start()},e.prototype.onClickX2=function(){s.Windown.XocDiaView.audio.playEffect(s.Windown.XocDiaView.audio.click);var t=s.Windown.XocDiaView.HistoryBet.getTotalHistoryBet(),e=s.Windown.XocDiaView.HistoryBet.ListGateBet;if(2*t>s.Windown.User.userAg)s.Windown.UIManager.showAlertMini("B\u1ea1n kh\xf4ng \u0111\u1ee7 ti\u1ec1n c\u01b0\u1ee3c X2!");else{for(var n=0;n<5;n++)e[n]>0&&(s.Windown.XocDiaController.sendBet(n+1,2*e[n]),s.Windown.XocDiaController.isCanSendData=!0);this.btnRebet.interactable=!1,this.btnX2.interactable=!1}},e.prototype.onClickRebet=function(){s.Windown.XocDiaView.audio.playEffect(s.Windown.XocDiaView.audio.click);var t=s.Windown.XocDiaView.HistoryBet.getTotalHistoryBet(),e=s.Windown.XocDiaView.HistoryBet.ListGateBet;if(t>s.Windown.User.userAg)s.Windown.UIManager.showAlertMini("B\u1ea1n kh\xf4ng \u0111\u1ee7 ti\u1ec1n c\u01b0\u1ee3c l\u1ea1i!");else{for(var n=0;n<5;n++)e[n]>0&&(s.Windown.XocDiaController.sendBet(n+1,e[n]),s.Windown.XocDiaController.isCanSendData=!0);this.btnRebet.interactable=!1,this.btnX2.interactable=!1}},e.prototype.onChangeListChip=function(t,e){var n=this.scrBtn.getScrollOffset(),o=this.scrBtn.getMaxScrollOffset();"previous"==e?n.x<0&&cc.tween(this.scrBtn.content).to(.3,{x:this.scrBtn.content.x+100}).start():Math.abs(n.x)<o.x&&cc.tween(this.scrBtn.content).to(.3,{x:this.scrBtn.content.x-100}).start()},e.prototype.setStatusBtnBet=function(){var t=s.Windown.XocDiaView.HistoryBet.getTotalHistoryBet();cc.log("setStatusBtnBet:"+t),t>0?(this.btnRebet.interactable=t<=s.Windown.User.userAg,this.btnX2.interactable=2*t<s.Windown.User.userAg):this.btnRebet.interactable=this.btnX2.interactable=!1},r([l(cc.ScrollView)],e.prototype,"scrBtn",void 0),r([l(cc.Button)],e.prototype,"btnX2",void 0),r([l(cc.Button)],e.prototype,"btnRebet",void 0),r([l(cc.Node)],e.prototype,"currbetBtnBet",void 0),r([l(cc.Node)],e.prototype,"chipBorder",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],"XocDia.ChipBet":[function(t,e,n){"use strict";cc._RF.push(e,"c41c3Rg9BNEEbe+xpreKHrd","XocDia.ChipBet");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playerID=0,e.value=0,e.gate=-1,e}return i(e,t),r([a],e)}(cc.Component));n.default=c,cc._RF.pop()},{}],"XocDia.HistoryBet":[function(t,e,n){"use strict";cc._RF.push(e,"0afbaenS3xHFYYrLbhyNI+F","XocDia.HistoryBet");var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=(i.property,function(){function t(){this.BET_C=0,this.BET_L=0,this.BET_4T=0,this.BET_4D=0,this.BET_3T=0,this.BET_3D=0,this.ListGateBet=[this.BET_C,this.BET_L,this.BET_4T,this.BET_4D,this.BET_3T,this.BET_3D]}return t.prototype.resetHistory=function(){this.ListGateBet.forEach(function(){})},t.prototype.getTotalHistoryBet=function(){var t=0;return this.ListGateBet.forEach(function(e){t+=e}),t},o([r],t)}());n.default=s,cc._RF.pop()},{}],"XocDia.HistoryMini":[function(t,e,n){"use strict";cc._RF.push(e,"1c097kcUcBA94D37PyE66ec","XocDia.HistoryMini");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),cc.Enum({CHAN:1,LE:2,BON_TRANG:3,BON_DO:4,BA_TRANG:5,BA_DO:6});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTotalChan=null,e.lbTotalLe=null,e.lbTotal4Trang=null,e.lbTotal4Do=null,e.lbTotal3Trang=null,e.lbTotal3Do=null,e.itemContainer=null,e.itemTemplate=null,e.markRecentMatch=null,e.sprResult=[],e.startPosItem=null,e.spacingY=18.6,e.spacingX=28.067,e.totalChan=0,e.totalLe=0,e.total4Trang=0,e.total4Do=0,e.total3Trang=0,e.total3Do=0,e}return i(e,t),e.prototype.onLoad=function(){this.startPosItem=cc.v2(169.347,36.738)},e.prototype.start=function(){},e.prototype.setInfo=function(t,e){void 0===e&&(e=!1);for(var n=0,o=t.length;n<o;n++){var i=t[n],r=null;if(i<25?(r=this.sprResult[0],this.totalChan++,13==i?this.total4Trang++:14==i&&this.total4Do++):(this.totalLe++,r=this.sprResult[1],25==i?this.total3Trang++:26==i&&this.total3Do++),n<65){var s=void 0,a=this.getPosItem(n);(s=cc.instantiate(this.itemTemplate)).parent=this.itemContainer,s.setPosition(a),s.active=!0,s.setSiblingIndex(n),s.getComponent(cc.Sprite).spriteFrame=r}}this.lbTotalChan.string=this.totalChan+"",this.lbTotalLe.string=this.totalLe+"",this.lbTotal4Trang.string=this.total4Trang+"",this.lbTotal4Do.string=this.total4Do+"",this.lbTotal3Trang.string=this.total3Trang+"",this.lbTotal3Do.string=this.total3Do+"",cc.tween(this.markRecentMatch).sequence(cc.tween().to(.5,{scale:1}),cc.tween().to(.5,{scale:.8})).repeatForever().start()},e.prototype.addItemHistory=function(t){var e=this;this.markRecentMatch.active=!1,t.length>65&&(t=t.slice(0,65));var n,o=cc.instantiate(this.itemTemplate);o.parent=this.itemContainer,o.setSiblingIndex(0),o.active=!0,o.setPosition(cc.v2(this.getPosItem(0).x+100,this.getPosItem(0).y)),t[0]<25?(this.totalChan++,n=this.sprResult[0],13==t[0]?this.total4Trang++:14==t[0]&&this.total4Do++):(this.totalLe++,n=this.sprResult[1],25==t[0]?this.total3Trang++:26==t[0]&&this.total3Do++),o.getComponent(cc.Sprite).spriteFrame=n;for(var i=function(t,n){var o=r.itemContainer.children[t],i=r.getPosItem(t);cc.tween(o).to(.3,{x:i.x,y:i.y}).call(function(){t==n-1&&(e.markRecentMatch.active=!0,cc.tween(e.markRecentMatch).sequence(cc.tween().to(.5,{scale:1}),cc.tween().to(.5,{scale:.8})).repeatForever().start())}).start()},r=this,s=0,a=t.length;s<a;s++)i(s,a);var c=this.itemContainer.children[this.itemContainer.childrenCount-1];cc.tween(c).to(.3,{x:c.x-100}).call(function(){c.destroy()}).start()},e.prototype.getPosItem=function(t){var e=cc.v2(0,0);if(t<5)e=cc.v2(this.startPosItem.x,this.startPosItem.y-t*this.spacingY);else{var n=Math.floor(t/5);e.x=this.startPosItem.x-n*this.spacingX,e.y=n%2==0?this.startPosItem.y-t%5*this.spacingY:this.startPosItem.y-(4-t%5)*this.spacingY}return e},e.prototype.getTypeGate=function(){},r([c(cc.Label)],e.prototype,"lbTotalChan",void 0),r([c(cc.Label)],e.prototype,"lbTotalLe",void 0),r([c(cc.Label)],e.prototype,"lbTotal4Trang",void 0),r([c(cc.Label)],e.prototype,"lbTotal4Do",void 0),r([c(cc.Label)],e.prototype,"lbTotal3Trang",void 0),r([c(cc.Label)],e.prototype,"lbTotal3Do",void 0),r([c(cc.Node)],e.prototype,"itemContainer",void 0),r([c(cc.Node)],e.prototype,"itemTemplate",void 0),r([c(cc.Node)],e.prototype,"markRecentMatch",void 0),r([c([cc.SpriteFrame])],e.prototype,"sprResult",void 0),r([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],"XocDia.MenuView":[function(t,e,n){"use strict";cc._RF.push(e,"740ce0tUW9KXobEp3dFbdo+","XocDia.MenuView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Windown"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.container=null,e.tglSound=null,e.tglMusic=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.tglSound.isChecked=!c.Windown.XocDiaView.audio.isActiveSound,this.tglMusic.isChecked=!c.Windown.XocDiaView.audio.isActiveMusic},e.prototype.onshow=function(){cc.tween(this.node.getChildByName("mask")).to(.3,{opacity:100}).start(),cc.tween(this.container).set({x:-cc.winSize.height/2-this.container.width/2-50}).to(.3,{x:-cc.winSize.height/2+this.container.width/2},{easing:cc.easing.sineIn}).start()},e.prototype.onHide=function(){var t=this;cc.tween(this.node.getChildByName("mask")).to(.3,{opacity:100}).start(),cc.tween(this.container).set({x:-cc.winSize.height/2+this.container.width/2}).to(.3,{x:-cc.winSize.height/2-this.container.width/2-50},{easing:cc.easing.sineOut}).call(function(){t.node.active=!1}).start()},e.prototype.onClickBack=function(){c.Windown.XocDiaView.audio.playClick(),c.Windown.XocDiaController.onClickBackToLobby(),this.onHide()},e.prototype.onClickRule=function(){return s(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:return c.Windown.XocDiaView.audio.playEffect(c.Windown.XocDiaView.audio.openPopup),[4,c.Windown.XocDiaController.loadPrefabBundle("PopupRule")];case 1:return t=n.sent(),(e=cc.instantiate(t)).parent=c.Windown.XocDiaView.node,c.Windown.actionEffectOpenPopup(e),cc.find("Container/btnClose",e).once("click",function(){c.Windown.actionEffectClosePopup(e,function(){e.destroy()})}),this.onHide(),[2]}})})},e.prototype.onClickHistoryBet=function(){return s(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:return[4,c.Windown.XocDiaController.loadPrefabBundle("PopupHistory")];case 1:return t=n.sent(),(e=cc.instantiate(t)).parent=c.Windown.XocDiaView.node,c.Windown.actionEffectOpenPopup(e),this.onHide(),[2]}})})},e.prototype.onClickSetting=function(){return s(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:return c.Windown.XocDiaView.audio.playEffect(c.Windown.XocDiaView.audio.openPopup),[4,c.Windown.XocDiaController.loadPrefabBundle("PopupSetting")];case 1:return t=n.sent(),(e=cc.instantiate(t)).parent=c.Windown.XocDiaView.node,c.Windown.actionEffectOpenPopup(e),this.onHide(),[2]}})})},e.prototype.onClickTglSound=function(){c.Windown.XocDiaView.audio.isActiveSound=!this.tglSound.isChecked},e.prototype.onClickTglMusic=function(){c.Windown.XocDiaView.audio.isActiveMusic=!this.tglMusic.isChecked},r([p(cc.Node)],e.prototype,"container",void 0),r([p(cc.Toggle)],e.prototype,"tglSound",void 0),r([p(cc.Toggle)],e.prototype,"tglMusic",void 0),r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],"XocDia.Player":[function(t,e,n){"use strict";cc._RF.push(e,"16146LwvOZKXrj5ft0gjYRD","XocDia.Player");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/PathResource"),l=t("../../../Scritps/Obs/LbMoneyChange"),u=t("../../../Scritps/Util"),p=t("../../../Scritps/Windown"),h=cc._decorator,d=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbNickName=null,e.lbChips=null,e.avatar=null,e.lbChipWin=null,e.posPayChip=[],e.spineEffectWin=null,e.dynamicIndex=0,e.nickname="Player",e.currentChips=0,e.id=0,e.isThisPlayer=!1,e.listChipBet=[],e.listChipPay=[],e.gateBetted=[],e.effecWin=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.setInfo=function(t,e,n,o){this.setName(e),this.setId(t),this.setChip(n),this.setAvatar(o)},e.prototype.setName=function(t){this.lbNickName.string=t,this.nickname=t,t.length>10&&(this.lbNickName.string=t.slice(0,7)+"...")},e.prototype.setChip=function(t,e){void 0===e&&(e=!0),this.isThisPlayer?this.lbChips.setMoney(t,!1):this.lbChips.setMoney(t,e),this.currentChips=t},e.prototype.setAvatar=function(t){return s(this,void 0,void 0,function(){var e,n;return a(this,function(o){switch(o.label){case 0:return e=c.PathResource.Avatar.replace("%d",t.toString()),[4,p.Windown.getSpFrameRes(e)];case 1:return n=o.sent(),this.avatar.spriteFrame=n,[2]}})})},e.prototype.setId=function(t){this.id=t},e.prototype.getChipBet=function(t){this.listChipBet.forEach(function(e){var n=t.parent.convertToWorldSpaceAR(t.position),o=e.parent.convertToNodeSpaceAR(n);cc.tween(e).to(1,{position:o},{easing:cc.easing.quintOut}).start(),cc.tween(e).to(1,{opacity:0},{easing:cc.easing.sineOut}).start()})},e.prototype.showWinEffect=function(t,e){return void 0===e&&(e=!1),s(this,void 0,void 0,function(){var n=this;return a(this,function(){return[2,new Promise(function(o){return s(n,void 0,void 0,function(){var n,i=this;return a(this,function(){try{null==this.effecWin?(this.effecWin=p.Windown.XocDiaView.assets.getEffectWin(t),this.effecWin.y=20):this.effecWin.getChildByName("lbChipWin").getComponent(cc.Label).string=p.Windown.formatMoney(t),(n=this.effecWin.getComponentInChildren(sp.Skeleton)).setCompleteListener(null),this.effecWin.parent=this.node,this.effecWin.active=!0,e||(n.setSkin("win"),n.setSlotsToSetupPose(),n.setAnimation(0,"appear",!1),n.setCompleteListener(function(){n.setAnimation(0,"idle",!1),n.setCompleteListener(function(){n.setCompleteListener(null)})}),this.scheduleOnce(function(){o(null),i.effecWin.active=!1},3))}catch(r){u.Util.ThrowErrProsime(r)}return[2]})})})]})})},e.prototype.showWinSpineEffect=function(t){var e=this;this.spineEffectWin.node.scale=1,this.spineEffectWin.node.active=!0,this.lbChipWin.string=p.Windown.formatMoney(t),this.lbChipWin.node.parent.active=!0,this.spineEffectWin.setSkin("win"),this.spineEffectWin.setSlotsToSetupPose(),this.spineEffectWin.setAnimation(0,"appear",!1),cc.tween(this.lbChipWin.node.parent).set({scaleX:0}).to(.3,{scaleX:.5},{easing:cc.easing.backOut}).start(),this.spineEffectWin.setCompleteListener(function(){e.spineEffectWin.setAnimation(0,"idle",!1),e.spineEffectWin.setCompleteListener(null)}),this.scheduleOnce(function(){e.hideSpineWin()},3)},e.prototype.hideSpineWin=function(){var t=this;cc.tween(this.spineEffectWin.node).to(.2,{scaleX:0},{easing:cc.easing.backIn}).call(function(){t.spineEffectWin.node.active=!1}).start()},e.prototype.showButtonBet=function(){this.node.getComponent(cc.Animation).play("EffectShowBtnBet"),p.Windown.XocDiaView.buttonBetController.setStatusBtnBet()},e.prototype.hideButtonBet=function(){this.node.getComponent(cc.Animation).play("EffectHideBtnBet")},e.prototype.resetPlayer=function(){this.listChipBet=[],this.listChipPay=[],this.gateBetted=[]},r([f(cc.Label)],e.prototype,"lbNickName",void 0),r([f(l.default)],e.prototype,"lbChips",void 0),r([f(cc.Sprite)],e.prototype,"avatar",void 0),r([f(cc.Label)],e.prototype,"lbChipWin",void 0),r([f([cc.Vec2])],e.prototype,"posPayChip",void 0),r([f(sp.Skeleton)],e.prototype,"spineEffectWin",void 0),r([f],e.prototype,"isThisPlayer",void 0),r([d],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../Scritps/DefineTs/PathResource":"PathResource","../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown"}],"XocDia.PopupHistory":[function(t,e,n){"use strict";cc._RF.push(e,"459b67FXrVD/I05ckH3Ox8M","XocDia.PopupHistory");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../Scritps/Windown"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprGate=[],e.lbSession=null,e.lbScoreP=null,e.lbScoreB=null,e.lbPage=null,e.scrItemHis=null,e.itemHisTemp=null,e.currentIndexSession=0,e.historyData=[],e}return i(e,t),e.prototype.onLoad=function(){s.Windown.XocDiaView.popupHistoryBetView=this},e.prototype.start=function(){s.Windown.XocDiaController.sendGetHistoryBet()},e.prototype.setInfo=function(t){this.historyData=JSON.parse(s.Windown.SFSObjToJson(t)).history,this.historyData.reverse(),cc.log("historyData===",this.historyData),this.historyData.length>0&&this.setInfoSession(this.historyData[this.currentIndexSession]),this.lbPage.string="1/"+this.historyData.length},e.prototype.setInfoSession=function(t){var e=t.round,n=s.Windown.formatDate(new Date(t.time),"HH:mm:ss dd/MM/yyyy");this.lbSession.string=cc.js.formatStr("S\u1ed1 Phi\xean:#%s(%s)",e,n),this.lbPage.string=this.currentIndexSession+1+"/"+this.historyData.length;var o=t.bet;this.scrItemHis.content.children.forEach(function(t){t.active=!1});for(var i=0;i<o.length;i++){var r=o[i],a=this.scrItemHis.content.children[i];cc.isValid(a)||((a=cc.instantiate(this.itemHisTemp)).parent=this.scrItemHis.content),a.active=!0,a.getChildByName("lbGateBet").getComponent(cc.Label).string=this.getNameGate(r.id),a.getChildByName("lbbetValue").getComponent(cc.Label).string=s.Windown.formatMoney(r.agBet,1,100),0==r.agWin?(a.getChildByName("lbWinValue").getComponent(cc.Label).string="-"+s.Windown.formatMoney(r.agBet,1,100),a.getChildByName("lbWinValue").color=cc.Color.RED):(a.getChildByName("lbWinValue").color=cc.Color.GREEN,a.getChildByName("lbWinValue").getComponent(cc.Label).string="+"+s.Windown.formatMoney(r.agWin,1,100))}},e.prototype.getNameGate=function(t){var e="";switch(t){case 1:e="CH\u1eb4N";break;case 2:e="L\u1eba";break;case 3:e="CH\u1eb4N 4 TR\u1eaeNG";break;case 4:e="CH\u1eb4N 4 \u0110\u1ece";break;case 5:e="L\u1eba 3 TR\u1eaeNG";break;case 6:e="L\u1eba 3 \u0110\u1ece"}return e},e.prototype.onClickClose=function(){var t=this;s.Windown.actionEffectClosePopup(this.node,function(){t.node.destroy(),s.Windown.XocDiaView.popupHistoryBetView=null})},e.prototype.onClickChangePage=function(t,e){"next"==e?this.currentIndexSession<=this.historyData.length-2&&this.currentIndexSession++:this.currentIndexSession>0&&this.currentIndexSession--,this.setInfoSession(this.historyData[this.currentIndexSession])},r([l([cc.SpriteFrame])],e.prototype,"sprGate",void 0),r([l(cc.Label)],e.prototype,"lbSession",void 0),r([l(cc.Label)],e.prototype,"lbScoreP",void 0),r([l(cc.Label)],e.prototype,"lbScoreB",void 0),r([l(cc.Label)],e.prototype,"lbPage",void 0),r([l(cc.ScrollView)],e.prototype,"scrItemHis",void 0),r([l(cc.Node)],e.prototype,"itemHisTemp",void 0),r([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":"Windown"}],XocDiaController:[function(t,e,n){"use strict";cc._RF.push(e,"440f3d1eKVPqIHVED0IdO6E","XocDiaController");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Scritps/DefineTs/EVENT_MANAGER"),s=t("../../../Scritps/DefineTs/REQUEST_CODE"),a=t("../../../Scritps/DefineTs/TextDefine"),c=t("../../../Scritps/Game/GAME_TYPE"),l=t("../../../Scritps/Network/ConectManager"),u=t("../../../Scritps/Windown"),p=cc.Enum({BETTING:1,FINISHED:2,WAITTING:3}),h=function(){function t(){this.sfs=null,this.roomSFS=null,this.listTimeOut=[],this.objFinish=null,this.gameType=0,this.isCanSendData=!0,this.joinRoomData=null,this.infoRoom=null,this.startGameData=null,this.sfs=l.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),u.Windown.XocDiaController=this,cc.systemEvent.on(r.EVENT_MANAGER.onDisconnect,this.onDisconnect,this)}return t.prototype.onDisconnect=function(){this.clear(),this.xocDiaView.node.destroy()},t.prototype.clear=function(){cc.systemEvent.targetOff(this),this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),this.objFinish&&(this.objFinish.get("agWin"),u.Windown.MoneyUser.removeDelay(this.gameType)),u.Windown.MoneyUser.endGameMOney(this.gameType),cc.log("CLEAR XD CONTROLLER"),u.Windown.XocDiaController=null},t.prototype.userExitRoom=function(t){if("Xocdia"==t.room.groupId&&t.user.isItMe)return this.onDestroy(),cc.log("C"),void cc.director.loadScene("main")},t.prototype.onCreateError=function(){cc.log("creat err"),u.Windown.UIManager.hideLoading(),this.onDestroy(),u.Windown.Dialog.showLog(a.TextDefine.ERR_JOIN_ROOM)},t.prototype.onDestroy=function(){u.Windown.UIManager.hideLoadingData(),u.Windown.UIManager.hideLoading(),cc.systemEvent.removeAll(this),this.clearAllTimeOut(),this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_CREATION_ERROR,this.onCreateError),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),u.Windown.XocDiaController=null,this.roomSFS=null,u.Windown.MoneyUser.targetOff(this),u.Windown.MoneyUser.endGameMOney(c.default.XocDia),cc.log("REMOVE ALL XD Controller")},t.prototype.clearAllTimeOut=function(){this.listTimeOut.forEach(function(t){clearTimeout(t)})},t.prototype.onJoinRoom=function(t){return o(this,void 0,void 0,function(){return i(this,function(){return cc.log("onJoinRoom:",t),t.room,u.Windown.UIManager.hideLoadingData(),[2]})})},t.prototype.onJoinRoomErr=function(){u.Windown.UIManager.hideLoading(),u.Windown.Dialog.showLog(a.TextDefine.ERR_JOIN_ROOM),this.onDestroy()},t.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(e){case s.REQUEST_CODE.XDPlayerInfo:this.xocDiaView.handlePlayerInfo(n);break;case s.REQUEST_CODE.XDInfoRoom:cc.log("XDVIEW=="+cc.isValid(this.xocDiaView)),this.xocDiaView.handleRoomInfo(n);break;case s.REQUEST_CODE.XDStartGame:cc.log("XDStartGame:",u.Windown.SFSObjToJson(n)),null==this.xocDiaView?this.startGameData=n:this.xocDiaView.handleStartGame(n);break;case s.REQUEST_CODE.XDBet:this.xocDiaView.handlePlayerBet(n);break;case s.REQUEST_CODE.XDEndGame:cc.log("XDEndGame:",u.Windown.SFSObjToJson(n)),this.xocDiaView.handleEndGame(n);break;case s.REQUEST_CODE.XDHistoryBet:this.xocDiaView.popupHistoryBetView.setInfo(n);break;case s.REQUEST_CODE.XDAutoExit:n.getBool("status")&&(cc.director.loadScene("main"),this.onDisconnect())}},t.prototype.sendJoinRoom=function(){var t=this;cc.log("sendJoinRoom XD"),u.Windown.UIManager.showLoading();var e=this.sfs.roomManager.getRoomListFromGroup("X").find(function(t){return cc.log("value"+t.getVariable("cj").value),t.containsVariable("cj")&&t.getVariable("cj").value});e?(this.roomSFS=e,e.isJoined?this.sendGetInfoRoom():(cc.log("nhay vao send join rom: "+e),this.sfs.send(new SFS2X.JoinRoomRequest(e,null,-1)))):setTimeout(function(){t.sendJoinRoom()},3e3)},t.prototype.sendGetInfoRoom=function(){this.sendRequest(s.REQUEST_CODE.XDInfoRoom,l.ConectManager.getIns().getSFSObj())},t.prototype.sendRequest=function(t,e){l.ConectManager.getIns().sendRequest(t,e,this.roomSFS)},t.prototype.sendToServer=function(t,e){this.isCanSendData&&null!=this.roomSFS&&(this.isCanSendData=!1,l.ConectManager.getIns().sendRequest(t,e,this.roomSFS))},t.prototype.sendBet=function(t,e){var n=l.ConectManager.getIns().getSFSObj();n.putLong("bet",e),n.putInt("id",t),this.sendToServer("bet",n)},t.prototype.sendLeaveRoom=function(){cc.log("SendLeaveRoom");var t=l.ConectManager.getIns().getSFSObj();this.sendToServer("atS",t)},t.prototype.intiGame=function(){return o(this,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:return[4,u.Windown.loadBundle(c.default.XocDia.toString())];case 1:return t=e.sent(),u.Windown.UIManager.showLoadingData(),t.preloadScene("XocDia",{},function(t,e){u.Windown.UIManager.setPerData(t/e)},function(e){e?u.Windown.Dialog.showLog(a.TextDefine.Error):t.loadScene("XocDia",function(t,e){if(t)return u.Windown.Dialog.showLog(a.TextDefine.Error),void u.Windown.UIManager.hideLoadingData();cc.director.runScene(e,null,function(){u.Windown.UIManager.hideLoadingData()})})}),[2]}})})},t.prototype.onClickBackToLobby=function(){this.roomSFS?this.xocDiaView.isPlayerBetted?this.xocDiaView.gameState==p.WAITTING?this.sendLeaveRoom():(this.xocDiaView.isAutoExit=!this.xocDiaView.isAutoExit,this.xocDiaView.isAutoExit?u.Windown.UIManager.showAlertMini("\u0110\xe3 \u0111\u0103ng k\xfd r\u1eddi b\xe0n v\xe0o cu\u1ed1i v\xe1n"):u.Windown.UIManager.showAlertMini("\u0110\xe3 h\u1ee7y \u0111\u0103ng k\xfd r\u1eddi b\xe0n")):this.sendLeaveRoom():cc.log("Ko co ROOMSFS")},t.prototype.loadPrefabBundle=function(t){return o(this,void 0,void 0,function(){var e;return i(this,function(){return e=cc.assetManager.getBundle(c.default.XocDia.toString()),[2,new Promise(function(n,o){e.load("Prefab/"+t,function(t,e){if(t)return o(t),null;n(e)})})]})})},t.prototype.sendGetHistoryBet=function(){var t=l.ConectManager.getIns().getSFSObj();this.sendToServer("historyBetBa",t),cc.log("sendToServer historyBetBa :"),u.Windown.XocDiaController.isCanSendData=!0},t}();n.default=h,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":"EVENT_MANAGER","../../../Scritps/DefineTs/REQUEST_CODE":"REQUEST_CODE","../../../Scritps/DefineTs/TextDefine":"TextDefine","../../../Scritps/Game/GAME_TYPE":"GAME_TYPE","../../../Scritps/Network/ConectManager":"ConectManager","../../../Scritps/Windown":"Windown"}],XocDiaView:[function(t,e,n){"use strict";cc._RF.push(e,"bf116bROndNH77eP12k8MTD","XocDiaView");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(e){r(e)}}function a(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Obs/LbMoneyChange"),l=t("../../../Scritps/Other/MakeDelay"),u=t("../../../Scritps/Util"),p=t("../../../Scritps/Windown"),h=t("./XocDia.Asset"),d=t("./XocDia.Audio"),f=t("./XocDia.ButtonBet"),y=t("./XocDia.HistoryBet"),g=t("./XocDia.HistoryMini"),m=t("./XocDia.MenuView"),v=t("./XocDia.Player"),S=t("./XocDia.PopupHistory"),b=cc._decorator,w=b.ccclass,_=b.property,C=cc.Enum({BETTING:1,FINISHED:2,WAITTING:3}),T=cc.Enum({CHAN:1,LE:2,BON_TRANG:3,BON_DO:4,BA_TRANG:5,BA_DO:6}),I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bkgSprite=null,e.players=[],e.thisPlayer=null,e.lbOtherPlayer=null,e.lbTimer=null,e.lbWaitting=null,e.lbSession=null,e.lbTotalBet=null,e.lbTotalGateBetUser=[],e.lbTotalBetC=null,e.lbTotalBetL=null,e.lbTotalBet4T=null,e.lbTotalBet4D=null,e.lbTotalBet3T=null,e.lbTotalBet3D=null,e.buttonBetController=null,e.popupHistoryBetView=null,e.audio=null,e.sprTimeRemainCenter=null,e.sprTimer=null,e.historyMini=null,e.menu=null,e.nodeGroupUser=null,e.nodeGateBet=[],e.nodeGetChip=null,e.chipOnGateContainer=null,e.posPayChipOther=[],e.assets=null,e.listPosChipOnTable=[],e.animDealer=null,e.effectWinOther=null,e.listGateWin=[],e.gateWin=null,e.HistoryBet=null,e.listLbTotalBet=[],e.listChipbetOther=[],e.makeDelay=null,e.agUser=0,e.listValueChip=[.1,1,5,10,50,100,500,1e3,2e3,5e3,1e4,5e4,1e5,15e4,2e5],e.timeInBg=0,e.currentTimer=30,e.totalBetAllGate=0,e.gameState=C.BETTING,e.lastPlayerInfoData=null,e.listDataPlayerOther=[],e.historyTable=[],e.listBtnBet=[],e.listTotalUserBetGate=null,e.listChipBet=[],e.totalBetC=0,e.totalBetL=0,e.totalBet4T=0,e.totalBet4D=0,e.totalBet3T=0,e.totalBet3D=0,e.currentBetValue=1e3,e.listTotalBetValue=null,e.isResetView=!1,e.isPlayerBetted=!1,e.isAutoExit=!1,e.isEndBetting=!1,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.HistoryBet=new y.default,this.listTotalBetValue=[this.totalBetC,this.totalBetL,this.totalBet4T,this.totalBet4D,this.totalBet3T,this.totalBet3D],this.listTotalUserBetGate=[0,0,0,0,0,0],this.listLbTotalBet=[this.lbTotalBetC,this.lbTotalBetL,this.lbTotalBet4T,this.lbTotalBet4D,this.lbTotalBet3T,this.lbTotalBet3D];for(var e=0,n=this.listValueChip.length;e<n;e++)this.listValueChip[e]*=1e3;p.Windown.XocDiaController.xocDiaView=this,p.Windown.XocDiaView=this,this.makeDelay=new l.default(this),this.agUser=p.Windown.User.userAg,this.nodeGateBet.forEach(function(e){t.listBtnBet.push(e.getComponent(cc.Button))}),this.listTotalUserBetGate=[0,0,0,0,0,0]},e.prototype.start=function(){p.Windown.XocDiaController.sendJoinRoom(),this.audio.playMusic(),null!=p.Windown.XocDiaController.startGameData&&(this.handleStartGame(p.Windown.XocDiaController.startGameData),p.Windown.XocDiaController.startGameData=null),this.setupTimeRunInBg(),this.setupView()},e.prototype.setupView=function(){if(cc.sys.isMobile)cc.log("view mobile:",cc.winSize),this.node.angle=90,t=this.node.getComponent(cc.Widget),this.bkgSprite.node.angle=90,this.node.setContentSize(cc.winSize.height,cc.winSize.width),this.bkgSprite.node.setContentSize(cc.winSize.height,cc.winSize.width),p.Windown.UIManager.changeRotation(!1);else{cc.log("view web:"+cc.view.getDesignResolutionSize());var t,e=cc.view.getDesignResolutionSize().height/720;this.node.angle=0,cc.log("SetupView: "+e),this.node.setScale(e,e,e),this.bkgSprite.node.angle=0,this.bkgSprite.node.setContentSize(cc.winSize.width,cc.winSize.height),(t=this.node.getComponent(cc.Widget)).left=0,t.right=0,t.bottom=0,t.top=0,t.updateAlignment(),p.Windown.UIManager.changeRotation(!0)}},e.prototype.onDestroy=function(){cc.log("Set XocdiaView Null"),p.Windown.XocDiaView=null},e.prototype.handleStartGame=function(t){var e=this;this.gameState!=C.BETTING&&(this.audio.playEffect(this.audio.dealer_startBet),this.gameState=C.BETTING,this.isResetView=!1,this.lbSession.string="#"+t.getInt("sision"),this.currentTimer=t.getInt("time")-2,this.audio.playEffect(this.audio.shake),this.setDealerAnim("XOC",!1,function(){e.setDealerAnim("cuoc"),e.setStateBtnGate(!0),e.lbWaitting.node.active=!0,e.lbTimer.string=e.currentTimer+"",e.sprTimer.fillRange=1,e.onCountTimeRemain()}),this.thisPlayer.showButtonBet())},e.prototype.handleRoomInfo=function(t){return s(this,void 0,void 0,function(){var e,n,o,i,r,s,c=this;return a(this,function(a){switch(a.label){case 0:return p.Windown.UIManager.hideLoading(),cc.log("handleRoomInfo XD:"+p.Windown.SFSObjToJson(t)),this.setDealerAnim("idle",!0),this.currentTimer=t.getInt("time"),this.lbSession.string="#"+t.getInt("sision"),e=t.getBool("isG"),n=JSON.parse(p.Windown.SFSArrToJson(t.get("cur"))),this.gameState=e?C.BETTING:C.FINISHED,this.historyTable=JSON.parse(t.get("his")).reverse(),o=this.historyTable[0],this.gameState==C.FINISHED&&this.currentTimer>15&&this.historyTable.splice(0,1),this.setStateBtnGate(this.gameState==C.BETTING),this.historyMini.setInfo(this.historyTable),this.gameState==C.BETTING?this.onCountTimeRemain():this.onCountWaitting(),this.gameState!=C.BETTING?[3,1]:(this.thisPlayer.showButtonBet(),this.setCurBetInfo(n),[3,8]);case 1:return p.Windown.UIManager.showAlertMini("Vui l\xf2ng ch\u1edd  v\xe1n ch\u01a1i k\u1ebft th\xfac!"),i=JSON.parse(p.Windown.SFSArrToJson(t.get("w"))),this.listGateWin=[],i.forEach(function(t){c.listGateWin.push(t.id)}),r=this.getAnimResult(),this.setDealerAnim("idle_"+r,!1,function(){}),this.currentTimer>=15?(s=JSON.parse(p.Windown.SFSArrToJson(t.get("cur"))),this.setCurBetInfo(s),[4,p.Windown.XocDiaView.getMakeDelay(.5).prosime]):[3,8];case 2:return a.sent(),this.listGateWin=[],s.forEach(function(t){t.w&&c.listGateWin.push(t.id)}),this.gateWin=parseInt(this.listGateWin.toString().split(",").join("")),[4,this.showWinResult()];case 3:return a.sent(),this.getAllChipOnTable(),[4,this.getMakeDelay(1.5).prosime];case 4:return a.sent(),this.payChipWinOnTalbe(),[4,this.getMakeDelay(1.5).prosime];case 5:return a.sent(),this.moveChipToPlayer(),[4,this.getMakeDelay(1.5).prosime];case 6:return a.sent(),[4,this.showResultAgWinReconnect(s)];case 7:a.sent(),this.historyTable.unshift(o),this.resetView(),a.label=8;case 8:return[2]}})})},e.prototype.showResultAgWinReconnect=function(t){return void 0===t&&(t=[]),s(this,void 0,void 0,function(){return a(this,function(){return[],[2]})})},e.prototype.moveChipToPlayer=function(){var t=this,e=cc.find("bg/playerContainer",this.node),n=!1;this.players.forEach(function(o){o.listChipBet.forEach(function(i,r){if(r<7){cc.isValid(i.parent)||(cc.log("Chip ko co cha:",i.playerID),i.parent=t.nodeGateBet[i.gate-1]);var s=p.Windown.convertNodeInOtherNode(i,e);i.parent=e,i.setPosition(s),n=!0,cc.tween(i).to(.6,{x:o.posPayChip[0].x,y:o.posPayChip[0].y+5*r,scale:.8*i.scale}).delay(1).to(.3,{position:o.node.position}).call(function(){t.assets.chipBetPool.put(i)}).start()}else cc.tween(i).to(.3,{opacity:0},{easing:cc.easing.sineOut}).call(function(){t.assets.chipBetPool.put(i)}).start()}),o.listChipPay.forEach(function(i,r){if(r<7)if(cc.isValid(i.parent)||(cc.log("Chip ko co cha:",i.playerID),i.parent=t.nodeGateBet[i.gate-1]),cc.isValid(i.parent)){var s=p.Windown.convertNodeInOtherNode(i,e);i.parent=e,i.setPosition(s),n=!0,cc.tween(i).to(.6,{x:o.posPayChip[1].x,y:o.posPayChip[1].y+5*r,scale:.8*i.scale}).delay(.75).to(.3,{position:o.node.position}).call(function(){t.assets.chipBetPool.put(i)}).start()}else cc.tween(i).to(.1,{opacity:0}).call(function(){t.assets.chipBetPool.put(i)});else cc.tween(i).to(.3,{opacity:0},{easing:cc.easing.sineOut}).call(function(){t.assets.chipBetPool.put(i)}).start()})});var o=0;this.listChipbetOther.forEach(function(i,r){if(r<7){n=!0,o+=i.value;var s=p.Windown.convertNodeInOtherNode(i,e);i.parent=e,i.setPosition(s);var a=1==i.isChipPayOther?0:1;cc.tween(i).to(.6,{x:t.posPayChipOther[a].x,y:t.posPayChipOther[a].y+5*r,scale:.8*i.scale}).delay(.75).to(.3,{position:t.nodeGroupUser.position}).call(function(){t.assets.chipBetPool.put(i)}).start()}else o+=i.value,t.assets.chipBetPool.put(i)}),this.listChipbetOther.length>0&&cc.tween(this.node).delay(1.5).call(function(){t.showEffectWinOther(o)}).start(),this.listChipBet.forEach(function(e){cc.isValid(t.getPlayerWithId(e.playerID))||t.listChipbetOther.includes(e)||cc.tween(e).to(.3,{opacity:0},{easing:cc.easing.sineOut}).call(function(){t.assets.chipBetPool.put(e)}).start()}),n&&this.audio.playEffect(this.audio.chipMoveToPlayer_turn1)},e.prototype.showEffectWinOther=function(t){var e=this;null==this.effectWinOther?(this.effectWinOther=this.assets.getEffectWin(t),this.effectWinOther.parent=this.node,this.effectWinOther.position=this.nodeGroupUser.position):this.effectWinOther.getChildByName("lbChipWin").getComponent(cc.Label).string=p.Windown.formatMoney(t),this.effectWinOther.active=!0;var n=this.effectWinOther.getComponentInChildren(sp.Skeleton);n.setSkin("win"),n.setSlotsToSetupPose(),n.setAnimation(0,"appear",!1),n.setCompleteListener(function(){n.setAnimation(0,"idle",!1),n.setCompleteListener(null)}),this.scheduleOnce(function(){cc.tween(e.effectWinOther).to(.2,{scaleX:0},{easing:cc.easing.backIn}).call(function(){e.effectWinOther.active=!1}).start()},3)},e.prototype.onClickShowMenu=function(){this.audio.playClick(),this.menu.node.active=!0,this.menu.onshow()},e.prototype.getChipWinValueOnGate=function(t,e){switch(e){case T.LE:case T.CHAN:t*=1.97;break;case T.BON_DO:case T.BON_TRANG:t*=15;break;case T.BA_TRANG:case T.BA_DO:t*=3.9}return t},e.prototype.effectChipPay=function(t,e,n,o,i){void 0===i&&(i=null);var r=this.assets.getChipBet(t);r.isChipPayOther=o==this.listChipbetOther,o.push(r);var s=this.nodeGateBet[e-1];r.parent=s;var a=e>3?40:60,c=p.Windown.RandomNumber(this.listPosChipOnTable[e-1].x-a,this.listPosChipOnTable[e-1].x+a),l=p.Windown.RandomNumber(this.listPosChipOnTable[e-1].y,this.listPosChipOnTable[e-1].y+a),u=cc.v2(c,l);n=n<.75?n:.75,r.opacity=0,cc.tween(r).set({x:u.x,y:u.y+50,opacity:0}).delay(n).to(.3,{x:u.x,y:u.y,opacity:255},{easing:cc.easing.sineIn}).call(function(){null!=i&&i()}).start()},e.prototype.payChipWinOnTalbe=function(){for(var t=this,e=!1,n=function(n){var i=o.listGateWin[n];o.players.forEach(function(n){n.listChipBet.forEach(function(o,r){if(o.gate==i){e=!0,o.value=t.getChipWinValueOnGate(o.value,i);for(var s=t.getListChipValue(o.value),a=0,c=s.length;a<c;a++)t.effectChipPay(s[a],i,.07*r,n.listChipPay)}})}),o.listChipbetOther.forEach(function(n,o){if(n.gate==i){e=!0,n.value=t.getChipWinValueOnGate(n.value,i);for(var r=t.getListChipValue(n.value),s=0,a=r.length;s<a;s++)t.effectChipPay(r[s],i,.07*o,t.listChipbetOther)}})},o=this,i=0;i<this.listGateWin.length;i++)n(i);e&&this.audio.playEffect(this.audio.chipMoveToPlayer_turn1)},e.prototype.getAllChipOnTable=function(){var t=this;this.audio.playEffect(this.audio.getChip),this.listChipBet.forEach(function(e){if(!t.listGateWin.includes(e.gate)){cc.isValid(e.parent)||(cc.log("Chip ko co cha:",e.playerID),e.parent=t.nodeGateBet[e.gate-1]);var n=t.nodeGetChip.parent.convertToWorldSpaceAR(t.nodeGetChip.position),o=p.Windown.convertPosInOtherNode(e.getPosition(),e.parent,t.chipOnGateContainer);e.parent=t.chipOnGateContainer,e.setPosition(o);var i=e.parent.convertToNodeSpaceAR(n);cc.tween(e).delay(p.Windown.RandomNumber(0,3)/10).to(1.5,{x:i.x,y:i.y+50},{easing:cc.easing.quintOut}).to(.1,{opacity:0}).call(function(){t.assets.chipBetPool.put(e);var n=t.getPlayerWithId(e.playerID);null!=n&&n.listChipBet.splice(n.listChipBet.indexOf(e),1),t.listChipbetOther.includes(e)&&t.listChipbetOther.splice(t.listChipbetOther.indexOf(e),1)}).start()}})},e.prototype.showWinResult=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){return[2,new Promise(function(e){return s(t,void 0,void 0,function(){var t,n=this;return a(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),this.audio.playEffect(this.audio.gateWinEffect),this.listGateWin.forEach(function(t){n.listBtnBet[t-1].getComponentInChildren(cc.Animation).node.active=!0}),[4,this.getMakeDelay(1.5).prosime];case 1:return o.sent(),e(null),[3,3];case 2:return t=o.sent(),u.Util.ThrowErrProsime(t),[3,3];case 3:return[2]}})})})]})})},e.prototype.getAnimResult=function(){return this.listGateWin.includes(3)?"4trang":this.listGateWin.includes(4)?"4den":this.listGateWin.includes(5)?"3trang":this.listGateWin.includes(6)?"3den":"2_2"},e.prototype.getGateWinNormal=function(){var t=0,e=[1,3,4];return this.listGateWin.some(function(t){return e.includes(t)})?(t=T.CHAN,cc.log("RESULT-----\x3e CHAN")):(t=T.LE,cc.log("RESULT-----\x3e LE")),t},e.prototype.getMakeDelay=function(t){return this.makeDelay.getDelay(t)},e.prototype.handlePlayerBet=function(t){cc.log("handlePlayerBet:"+p.Windown.SFSObjToJson(t));var e=t.getInt("pid");this.audio.playEffect(this.audio.throwChip);var n=t.getInt("id"),o=this.getPlayerWithId(e),i=t.getLong("bet");if(null!=o&&o==this.thisPlayer){if(t.containsKey("errorMessage")&&""!=t.getUtfString("errorMessage"))return void p.Windown.UIManager.showAlertMini(t.getUtfString("errorMessage"));this.isPlayerBetted=!0,this.totalBetAllGate+=i,this.listTotalUserBetGate[n-1]+=i,this.lbTotalBet.setMoney(this.totalBetAllGate,!0),this.lbTotalGateBetUser[n-1].string=p.Windown.formatMoney(this.listTotalUserBetGate[n-1]),this.lbTotalGateBetUser[n-1].node.parent.active=!0}for(var r=this.getListChipValue(i),s=0,a=r.length;s<a;s++){var c=this.assets.getChipBet(r[s]);c.active=!0,this.listChipBet.push(c);var l=this.nodeGateBet[n-1],u=null;null!=o?(u=l.convertToNodeSpaceAR(o.node.parent.convertToWorldSpaceAR(o.node.position)),o.setChip(t.getLong("ag")),o.listChipBet.push(c),c.playerID=o.id,o.gateBetted.includes(n)||o.gateBetted.push(n)):(u=l.convertToNodeSpaceAR(this.nodeGroupUser.parent.convertToWorldSpaceAR(this.nodeGroupUser.position)),this.listChipbetOther.push(c),c.playerID=-1),c.parent=l,c.gate=n,c.value=r[s],c.setPosition(u);var h=n>3?40:60,d=p.Windown.RandomNumber(this.listPosChipOnTable[n-1].x-h,this.listPosChipOnTable[n-1].x+h),f=p.Windown.RandomNumber(0,this.listPosChipOnTable[n-1].y+h),y=cc.v2(d,f);cc.tween(c).set({position:u}).delay(.05*s).to(.3,{x:y.x,y:y.y},{easing:cc.easing.sineOut}).start()}this.listTotalBetValue[n-1]=t.getLong("ttB"),this.listLbTotalBet[n-1].setMoney(this.listTotalBetValue[n-1],!0)},e.prototype.setupTimeRunInBg=function(){var t=this;cc.game.on(cc.game.EVENT_HIDE,function(){t.timeInBg=cc.sys.now()}),cc.game.on(cc.game.EVENT_SHOW,function(){var e=cc.sys.now(),n=t.timeInBg;cc.director.getActionManager().update((e-n)/1e3),cc.Tween.stopAllByTag(1),(e-n)/1e3>15&&null!=p.Windown.XocDiaController&&p.Windown.XocDiaController.onClickBackToLobby()})},e.prototype.handlePlayerInfo=function(t){if(cc.log("handlePlayerInfo:"+p.Windown.SFSObjToJson(t)),this.gameState!=C.FINISHED){this.listDataPlayerOther=[];var e=JSON.parse(p.Windown.SFSArrToJson(t.get("data"))),n=e.find(function(t){return t.id==p.Windown.User.userId});null!=n&&(cc.log("Co this player trong listPlayer, xoa no di"),e.splice(e.indexOf(n),1)),7==e.length&&(this.listDataPlayerOther.push(e.pop()),cc.log("Co 7 player trong listPlayer, xoa 1 thang  di:"+e.length)),this.thisPlayer.setAvatar(p.Windown.User.avatrId),this.thisPlayer.setName(p.Windown.User.nickName),this.thisPlayer.setChip(this.agUser,!1),this.thisPlayer.setId(p.Windown.User.userId);for(var o=1,i=0,r=e.length;i<r;i++){var s=e[i],a=this.players[o];cc.isValid(a)&&a!=this.thisPlayer?(a.node.active=!0,a.resetPlayer(),a.setInfo(s.id,s.nn,s.ag,s.iv),o++):cc.error(" ko du player de hien thi")}for(i=o;i<this.players.length;i++)this.players[i].node.active=!1,this.players[i].resetPlayer();this.lbOtherPlayer.string=t.getInt("so")+this.listDataPlayerOther.length+""}else this.lastPlayerInfoData=t},e.prototype.onCountWaitting=function(){var t=this;this.lbTimer.node.active=!1,this.sprTimeRemainCenter.node.parent.active=!0,this.lbWaitting.node.active=!0,this.sprTimer.fillRange=0,this.sprTimeRemainCenter.fillRange=1,cc.Tween.stopAllByTarget(this.lbWaitting),cc.Tween.stopAllByTarget(this.sprTimeRemainCenter),cc.tween(this.lbWaitting).repeatForever(cc.tween().set({string:"Ch\u1edd V\xe1n M\u1edbi"}).delay(.5).set({string:"Ch\u1edd V\xe1n M\u1edbi."}).delay(.5).set({string:"Ch\u1edd V\xe1n M\u1edbi.."}).delay(.5).set({string:"Ch\u1edd V\xe1n M\u1edbi..."}).delay(.5)).start(),cc.tween(this.sprTimeRemainCenter).to(this.currentTimer,{fillRange:0}).call(function(){t.lbWaitting.node.active=!1,t.sprTimeRemainCenter.node.parent.active=!1}).start()},e.prototype.onCountTimeRemain=function(){var t=this;this.lbTimer.node.active=!0,this.lbWaitting.node.active=!0,this.lbWaitting.string="Ch\u1edd \u0110\u1eb7t C\u01b0\u1ee3c",this.sprTimer.node.parent.active=!0,cc.Tween.stopAllByTarget(this.lbWaitting),cc.Tween.stopAllByTarget(this.lbTimer),cc.Tween.stopAllByTarget(this.sprTimeRemainCenter),cc.Tween.stopAllByTarget(this.sprTimer),this.unscheduleAllCallbacks(),this.lbTimer.string=this.currentTimer+"",this.schedule(function(){t.currentTimer>0?(t.currentTimer--,t.currentTimer<4&&t.gameState==C.BETTING&&!t.isEndBetting&&(t.isEndBetting=!0,t.setDealerAnim("dungcuoc",!1)),t.lbTimer.string=t.currentTimer+"",t.currentTimer<6&&cc.tween(t.lbTimer.node).to(.3,{scale:1.2},{easing:cc.easing.sineOut}).to(.3,{scale:1},{easing:cc.easing.sineIn}).start()):t.lbTimer.string="0"},1,this.currentTimer),cc.tween(this.sprTimer).set({fillRange:1}).to(this.currentTimer,{fillRange:0}).start(),this.sprTimeRemainCenter.node.parent.active=!0,cc.tween(this.sprTimeRemainCenter).set({fillRange:1}).to(this.currentTimer,{fillRange:0}).call(function(){t.sprTimeRemainCenter.node.parent.active=!1,t.lbWaitting.node.active=!1}).start()},e.prototype.setStateBtnGate=function(t){this.listBtnBet.forEach(function(e){e.interactable=t})},e.prototype.setCurBetInfo=function(t){for(var e=0;e<t.length;e++){for(var n=t[e],o=n.id,i=n.b,r=0;r<i.length;r++)for(var s=i[r].bet,a=this.getPlayerWithId(i[r].idP),c=this.getListChipValue(s),l=0,u=c.length;l<u;l++){var h=this.assets.getChipBet(c[l]);cc.isValid(a)?(a.id==p.Windown.User.userId&&(this.totalBetAllGate+=s,this.listTotalUserBetGate[o-1]+=s,this.lbTotalBet.setMoney(this.totalBetAllGate,!0),this.lbTotalGateBetUser[o-1].string=p.Windown.formatMoney(this.listTotalUserBetGate[o-1]),this.lbTotalGateBetUser[o-1].node.parent.active=!0),a.listChipBet.push(h),h.playerID=a.id):(this.listChipbetOther.push(h),h.playerID=-1),this.listChipBet.push(h),h.parent=this.nodeGateBet[o-1],h.gate=o,h.value=c[l];var d=o>3?40:60,f=p.Windown.RandomNumber(this.listPosChipOnTable[o-1].x-d,this.listPosChipOnTable[o-1].x+d),y=p.Windown.RandomNumber(0,this.listPosChipOnTable[o-1].y+d);h.setPosition(cc.v2(f,y))}switch(o){case T.CHAN:this.totalBetC=n.t;break;case T.LE:this.totalBetL=n.t;break;case T.BON_TRANG:this.totalBet4T=n.t;break;case T.BON_DO:this.totalBet4D=n.t;break;case T.BA_TRANG:this.totalBet3T=n.t;break;case T.BA_DO:this.totalBet3D=n.t}this.lbTotalBetC.setMoney(this.totalBetC,!0),this.lbTotalBetL.setMoney(this.totalBetL,!0),this.lbTotalBet4T.setMoney(this.totalBet4T,!0),this.lbTotalBet4D.setMoney(this.totalBet4D,!0),this.lbTotalBet3T.setMoney(this.totalBet3T,!0),this.lbTotalBet3D.setMoney(this.totalBet3D,!0)}},e.prototype.getPlayerWithId=function(t){return t==p.Windown.User.userId?this.thisPlayer:this.players.find(function(e){return e.id==t})},e.prototype.getListChipValue=function(t){var e=[];return this.getNameChip(t,e),e},e.prototype.getNameChip=function(t,e){var n,o,i=0;cc.log;for(var r=0;r<this.listValueChip.length;r++)if(this.listValueChip[r]>t){i=this.listValueChip[r-1];break}if(0==i)for(r=this.listValueChip.length-1;r>=0;r++)if(t>=this.listValueChip[r]){i=this.listValueChip[r];break}if(n=Math.floor(t/i),t=o=t%i,i>=1e3)for(r=0;r<n;r++)e.push(i);o>0&&this.getNameChip(t,e)},e.prototype.onClickSendBet=function(t,e){p.Windown.XocDiaController.sendBet(parseInt(e),this.currentBetValue),setTimeout(function(){p.Windown.XocDiaController.isCanSendData=!0},500)},e.prototype.handleEndGame=function(t){return s(this,void 0,void 0,function(){var e,n,o,i,r,s=this;return a(this,function(a){switch(a.label){case 0:return cc.log("handleEndGame"),this.setStateBtnGate(!1),this.currentTimer=15,this.onCountWaitting(),this.sprTimer.fillRange=0,this.gameState=C.FINISHED,this.thisPlayer.hideButtonBet(),this.audio.playEffect(this.audio.dealer_endBet),this.historyTable=JSON.parse(t.get("his")).reverse(),e=JSON.parse(p.Windown.SFSArrToJson(t.get("d7"))),n=t.getLong("agW"),this.agUser=t.getLong("ag"),p.Windown.User.userAg=this.agUser,o=JSON.parse(p.Windown.SFSArrToJson(t.get("w"))),this.listGateWin=[],o.forEach(function(t){s.listGateWin.push(t.id)}),i=this.getAnimResult(),this.setDealerAnim("mo_"+i,!1,function(){s.setDealerAnim("win_"+i,!1,function(){})}),r=this.animDealer.findAnimation("mo_"+i).duration,[4,p.Windown.XocDiaView.getMakeDelay(r+.5).prosime];case 1:return a.sent(),this.gateWin=parseInt(this.listGateWin.toString().split(",").join("")),[4,this.showWinResult()];case 2:return a.sent(),this.getAllChipOnTable(),[4,this.getMakeDelay(1.5).prosime];case 3:return a.sent(),this.payChipWinOnTalbe(),[4,this.getMakeDelay(1.5).prosime];case 4:return a.sent(),this.moveChipToPlayer(),[4,this.getMakeDelay(1.5).prosime];case 5:return a.sent(),[4,this.showResultAgWin(e,n)];case 6:return a.sent(),this.resetView(),[2]}})})},e.prototype.setDealerAnim=function(t,e,n){var o=this;void 0===e&&(e=!1),void 0===n&&(n=null),this.animDealer.setAnimation(0,t,e),this.animDealer.setCompleteListener(null),null!=n?this.animDealer.setCompleteListener(n):this.animDealer.setCompleteListener(function(){o.animDealer.setAnimation(0,"idle",!0)})},e.prototype.showResultAgWin=function(t,e){return void 0===t&&(t=[]),s(this,void 0,void 0,function(){var n,o,i=this;return a(this,function(r){switch(r.label){case 0:return n=[],o=!1,t.forEach(function(t){var e=t.id,r=i.getPlayerWithId(e);cc.isValid(r)&&t.agw>0&&r!=i.thisPlayer&&(o=!0,n.push(r.showWinEffect(t.agw)),r.setChip(t.ag))}),0!=e&&(n.push(this.thisPlayer.showWinSpineEffect(e)),this.thisPlayer.setChip(this.agUser),this.audio.playEffect(this.audio.youWin)),o&&this.audio.playEffect(this.audio.chipMoveToPlayer_turn2),[4,Promise.all(n)];case 1:return r.sent(),[4,this.getMakeDelay(.25).prosime];case 2:return r.sent(),[2]}})})},e.prototype.resetView=function(){var t=this;this.isResetView||(this.isEndBetting=!1,this.isPlayerBetted=!1,this.isResetView=!0,this.totalBetAllGate=0,this.lbTotalBet.setMoney(0),this.listChipBet.forEach(function(e){t.assets.chipBetPool.put(e)}),this.listChipBet=[],this.listChipbetOther.forEach(function(e){t.assets.chipBetPool.put(e)}),this.listChipbetOther=[],this.totalBetC=this.totalBetL=this.totalBet4D=this.totalBet4T=this.totalBet3D=this.totalBet3T=0,this.listBtnBet.forEach(function(t){t.getComponentInChildren(cc.Animation).node.active=!1}),this.players.forEach(function(t){t.resetPlayer()}),this.gameState=C.WAITTING,null!=this.lastPlayerInfoData&&(this.handlePlayerInfo(this.lastPlayerInfoData),this.lastPlayerInfoData=null),this.listLbTotalBet.forEach(function(t){t.setMoneyNoTime(0)}),this.lbTotalGateBetUser.forEach(function(e,n){e.node.parent.active=!1,t.HistoryBet.ListGateBet[n]=t.listTotalUserBetGate[n],t.listTotalUserBetGate[n]=0}),this.historyMini.addItemHistory(this.historyTable),1==this.isAutoExit&&p.Windown.XocDiaController.onClickBackToLobby())},r([_(cc.Sprite)],e.prototype,"bkgSprite",void 0),r([_([v.default])],e.prototype,"players",void 0),r([_(v.default)],e.prototype,"thisPlayer",void 0),r([_(cc.Label)],e.prototype,"lbOtherPlayer",void 0),r([_(cc.Label)],e.prototype,"lbTimer",void 0),r([_(cc.Label)],e.prototype,"lbWaitting",void 0),r([_(cc.Label)],e.prototype,"lbSession",void 0),r([_(c.default)],e.prototype,"lbTotalBet",void 0),r([_([cc.Label])],e.prototype,"lbTotalGateBetUser",void 0),r([_(c.default)],e.prototype,"lbTotalBetC",void 0),r([_(c.default)],e.prototype,"lbTotalBetL",void 0),r([_(c.default)],e.prototype,"lbTotalBet4T",void 0),r([_(c.default)],e.prototype,"lbTotalBet4D",void 0),r([_(c.default)],e.prototype,"lbTotalBet3T",void 0),r([_(c.default)],e.prototype,"lbTotalBet3D",void 0),r([_(f.default)],e.prototype,"buttonBetController",void 0),r([_(S.default)],e.prototype,"popupHistoryBetView",void 0),r([_(d.default)],e.prototype,"audio",void 0),r([_(cc.Sprite)],e.prototype,"sprTimeRemainCenter",void 0),r([_(cc.Sprite)],e.prototype,"sprTimer",void 0),r([_(g.default)],e.prototype,"historyMini",void 0),r([_(m.default)],e.prototype,"menu",void 0),r([_(cc.Node)],e.prototype,"nodeGroupUser",void 0),r([_([cc.Node])],e.prototype,"nodeGateBet",void 0),r([_(cc.Node)],e.prototype,"nodeGetChip",void 0),r([_(cc.Node)],e.prototype,"chipOnGateContainer",void 0),r([_([cc.Vec2])],e.prototype,"posPayChipOther",void 0),r([_(h.default)],e.prototype,"assets",void 0),r([_([cc.Vec2])],e.prototype,"listPosChipOnTable",void 0),r([_(sp.Skeleton)],e.prototype,"animDealer",void 0),r([w],e)}(cc.Component);n.default=I,cc._RF.pop()},{"../../../Scritps/Obs/LbMoneyChange":"LbMoneyChange","../../../Scritps/Other/MakeDelay":"MakeDelay","../../../Scritps/Util":"Util","../../../Scritps/Windown":"Windown","./XocDia.Asset":"XocDia.Asset","./XocDia.Audio":"XocDia.Audio","./XocDia.ButtonBet":"XocDia.ButtonBet","./XocDia.HistoryBet":"XocDia.HistoryBet","./XocDia.HistoryMini":"XocDia.HistoryMini","./XocDia.MenuView":"XocDia.MenuView","./XocDia.Player":"XocDia.Player","./XocDia.PopupHistory":"XocDia.PopupHistory"}],"mesh-texture-flagBD":[function(t,e){"use strict";function n(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=o(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}cc._RF.push(e,"1724a2FqpdE7qCv7UxkuWZo","mesh-texture-flagBD");var r=cc.gfx;cc.Class({extends:cc.Component,properties:{_offset:cc.v2(0,0),offset:{get:function(){return this._offset},set:function(t){this._offset=t,this._applyVertexes()},type:cc.Vec2},_spriteFrame:{default:null,type:cc.SpriteFrame},spriteFrame:{get:function(){return this._spriteFrame},set:function(t){this._spriteFrame=t,this._applySpriteFrame()},type:cc.SpriteFrame},_row:10,row:{tooltip:"\u7f51\u683c\u884c\u6570",get:function(){return this._row},set:function(t){t<=0&&(t=1),this._row!==t&&(this._row=t,this._updateMesh(),this._applyVertexes())},min:1,step:1},_col:20,col:{tooltip:"\u7f51\u683c\u5217\u6570",get:function(){return this._col},set:function(t){t<=0&&(t=1),this._col!==t&&(this._col=t,this._updateMesh(),this._applyVertexes())},min:1,step:1},_speed:10,speed:{tooltip:"\u901f\u5ea6",get:function(){return this._speed},set:function(t){t<=0&&(t=.1),this._speed!==t&&(this._speed=t,this._updateMaterial())},min:.1,step:.1},_amplitude:5,amplitude:{tooltip:"\u5e45\u5ea6",get:function(){return this._amplitude},set:function(t){t<=0&&(t=.1),this._amplitude!==t&&(this._amplitude=t,this._updateMaterial())},min:.1,step:1},_wave:5,wave:{tooltip:"\u6ce2\u6d6a",get:function(){return this._wave},set:function(t){t<=0&&(t=0),this._wave!==t&&(this._wave=t,this._updateMaterial())},min:0,step:1},mat:cc.Material},onLoad:function(){var t=this;this._meshCache={},this._vertexes=[];var e=this.node.getComponent(cc.MeshRenderer);e||(e=this.node.addComponent(cc.MeshRenderer)),e.mesh=null,this.renderer=e,cc.Material.create(this.mat.effectAsset,this.mat.techniqueIndex),this.renderer.setMaterial(0,this.mat),this._updateMaterial(),this._updateMesh(),this._applySpriteFrame(),this._applyVertexes(),this.node.on("size-changed",function(){t._updateMesh(),t._applyVertexes()},this),this.node.on("anchor-changed",function(){t._updateMesh(),t._applyVertexes()},this)},_updateMesh:function(){this._vertexes=[];for(var t=this.node.width,e=this.node.height,n=0;n<this._row+1;n++)for(var o=0;o<this._col+1;o++){var i=(o-this._col*this.node.anchorX)*t/this._col,s=(n-this._row*this.node.anchorY)*e/this._row;this._vertexes.push(cc.v2(i,s))}var a=this._meshCache[this._vertexes.length];a||((a=new cc.Mesh).init(new r.VertexFormat([{name:r.ATTR_POSITION,type:r.ATTR_TYPE_FLOAT32,num:2},{name:r.ATTR_UV0,type:r.ATTR_TYPE_FLOAT32,num:2}]),this._vertexes.length,!0),this._meshCache[this._vertexes.length]=a),this.mesh=a,this._updateMaterial()},_applyVertexes:function(){var t=this,e=this.mesh;if(e.setVertices(r.ATTR_POSITION,this._vertexes),this.texture){for(var o,i=[],s=n(this._vertexes);!(o=s()).done;){var a=o.value,c=(a.x+this.texture.width*this.node.anchorX+this.offset.x)/this.texture.width,l=1-(a.y+this.texture.height*this.node.anchorY+this.offset.y)/this.texture.height;i.push(cc.v2(c,l))}e.setVertices(r.ATTR_UV0,i)}if(this._vertexes.length>=3){for(var u=[],p=function(e,n){return e*(t._col+1)+n},h=0;h<this._row;h++)for(var d=0;d<this._col;d++)u.push(p(h,d),p(h,d+1),p(h+1,d)),u.push(p(h+1,d),p(h+1,d+1),p(h,d+1));e.setIndices(u),this.renderer.mesh!=e&&(this.renderer.mesh=e)}},_applySpriteFrame:function(){if(this.spriteFrame){var t=this.spriteFrame.getTexture();this.texture=t,this._updateMaterial()}},_updateMaterial:function(){var t=this.renderer._materials[0];t&&(this.texture&&(t.define("USE_TEXTURE",!0),t.setProperty("texture",this.texture)),t.setProperty("textureWidth",this.node.width),t.setProperty("speed",this.speed),t.setProperty("amplitude",this.amplitude),t.setProperty("wave",this.wave),this._vertexes.length>0&&t.setProperty("startPos",this._vertexes[0]))}}),cc._RF.pop()},{}],"mesh-texture-flag":[function(t,e){"use strict";function n(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=o(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}cc._RF.push(e,"d7955isD2pAy5KxbPkIzekN","mesh-texture-flag");var r=cc.gfx;cc.Class({extends:cc.Component,properties:{_offset:cc.v2(0,0),offset:{get:function(){return this._offset},set:function(t){this._offset=t,this._applyVertexes()},type:cc.Vec2},_spriteFrame:{default:null,type:cc.SpriteFrame},spriteFrame:{get:function(){return this._spriteFrame},set:function(t){this._spriteFrame=t,this._applySpriteFrame()},type:cc.SpriteFrame},_row:10,row:{tooltip:"\u7f51\u683c\u884c\u6570",get:function(){return this._row},set:function(t){t<=0&&(t=1),this._row!==t&&(this._row=t,this._updateMesh(),this._applyVertexes())},min:1,step:1},_col:20,col:{tooltip:"\u7f51\u683c\u5217\u6570",get:function(){return this._col},set:function(t){t<=0&&(t=1),this._col!==t&&(this._col=t,this._updateMesh(),this._applyVertexes())},min:1,step:1},_speed:10,speed:{tooltip:"\u901f\u5ea6",get:function(){return this._speed},set:function(t){t<=0&&(t=.1),this._speed!==t&&(this._speed=t,this._updateMaterial())},min:.1,step:.1},_amplitude:5,amplitude:{tooltip:"\u5e45\u5ea6",get:function(){return this._amplitude},set:function(t){t<=0&&(t=.1),this._amplitude!==t&&(this._amplitude=t,this._updateMaterial())},min:.1,step:1},_wave:5,wave:{tooltip:"\u6ce2\u6d6a",get:function(){return this._wave},set:function(t){t<=0&&(t=0),this._wave!==t&&(this._wave=t,this._updateMaterial())},min:0,step:1},mat:cc.Material},onLoad:function(){var t=this;this._meshCache={},this._vertexes=[];var e=this.node.getComponent(cc.MeshRenderer);e||(e=this.node.addComponent(cc.MeshRenderer)),e.mesh=null,this.renderer=e,cc.Material.create(this.mat.effectAsset,this.mat.techniqueIndex),this.renderer.setMaterial(0,this.mat),this._updateMaterial(),this._updateMesh(),this._applySpriteFrame(),this._applyVertexes(),this.node.on("size-changed",function(){t._updateMesh(),t._applyVertexes()},this),this.node.on("anchor-changed",function(){t._updateMesh(),t._applyVertexes()},this)},_updateMesh:function(){this._vertexes=[];for(var t=this.node.width,e=this.node.height,n=0;n<this._row+1;n++)for(var o=0;o<this._col+1;o++){var i=(o-this._col*this.node.anchorX)*t/this._col,s=(n-this._row*this.node.anchorY)*e/this._row;this._vertexes.push(cc.v2(i,s))}var a=this._meshCache[this._vertexes.length];a||((a=new cc.Mesh).init(new r.VertexFormat([{name:r.ATTR_POSITION,type:r.ATTR_TYPE_FLOAT32,num:2},{name:r.ATTR_UV0,type:r.ATTR_TYPE_FLOAT32,num:2}]),this._vertexes.length,!0),this._meshCache[this._vertexes.length]=a),this.mesh=a,this._updateMaterial()},_applyVertexes:function(){var t=this,e=this.mesh;if(e.setVertices(r.ATTR_POSITION,this._vertexes),this.texture){for(var o,i=[],s=n(this._vertexes);!(o=s()).done;){var a=o.value,c=(a.x+this.texture.width*this.node.anchorX+this.offset.x)/this.texture.width,l=1-(a.y+this.texture.height*this.node.anchorY+this.offset.y)/this.texture.height;i.push(cc.v2(c,l))}e.setVertices(r.ATTR_UV0,i)}if(this._vertexes.length>=3){for(var u=[],p=function(e,n){return e*(t._col+1)+n},h=0;h<this._row;h++)for(var d=0;d<this._col;d++)u.push(p(h,d),p(h,d+1),p(h+1,d)),u.push(p(h+1,d),p(h+1,d+1),p(h,d+1));e.setIndices(u),this.renderer.mesh!=e&&(this.renderer.mesh=e)}},_applySpriteFrame:function(){if(this.spriteFrame){var t=this.spriteFrame.getTexture();this.texture=t,this._updateMaterial()}},_updateMaterial:function(){var t=this.renderer._materials[0];t&&(this.texture&&(t.define("USE_TEXTURE",!0),t.setProperty("texture",this.texture)),t.setProperty("textureWidth",this.node.width),t.setProperty("speed",this.speed),t.setProperty("amplitude",this.amplitude),t.setProperty("wave",this.wave),this._vertexes.length>0&&t.setProperty("startPos",this._vertexes[0]))}}),cc._RF.pop()},{}],use_reversed_rotateBy:[function(t,e){"use strict";cc._RF.push(e,"95de20O4KdHw5ShSjjJeTTB","use_reversed_rotateBy"),cc.RotateBy._reverse=!0,cc._RF.pop()},{}]},{},["AssetTruTien","AudioTruTien","BonusTruTien","DetailHistoryTruTien","EffectTruTien","HelpTruTien","ItemLichSuTruTien","ItemSlotTruTien","LichSuTruTien","Test - 002","TruTienView","AsgardView","AssetAsgard","AudioAsgard","BaseItemMutilAsgard","CachChoiAsgard","DetailHistoryAsgard","EffectAsgard","BigwinAsgard","BkgFs","EffectSymbolAsgard","EndFreeSpinAsgard","ItemAddScaterAsgard","NearFsAsgard","ShuffItemAsgard","StartFreeSpinAsgard","InfoBarControllerAsgard","ItemDetalAsgard","ItemLichSuAsgard","ItemMutilFsAsgard","ItemMutilNomalAsgard","ItemResultDetailAsgard","ItemSlotAsgard","ItemSlotAsgardNgang","LichSuAsgard","MutilControlAsgard","SpinNormalAsgard","SymbolAsgard","Baccarat.Assets","Baccarat.Audio","Baccarat.BigRoad","Baccarat.ButtonBet","Baccarat.Card","Baccarat.ChipBet","Baccarat.DishRoadBoard","Baccarat.HistoryBet","Baccarat.HistoryMini","Baccarat.MenuView","Baccarat.Player","Baccarat.PopupHistory","Baccarat.ScoreBoard","Baccarat.SettingView","Baccarat.SoiCauView","BaccaratController","BaccaratView","AiCapMultiTop","AiCapRibbonWin","AiCapSymbolTop","AiCapTopSymbolManager","AiCapView","AssetAiCap","AudioAiCap","DetailHistoryAiCap","EffectAiCap","InfoBarControllerAiCap","ItemLichSuAiCap","ItemSlotAiCap","LichSuAiCap","SpinNormalAiCap","SymbolAiCap","AssetDieuThuyen","AudioDieuThuyen","DetailHistoryDieuThuyen","DieuThuyenView","EffectDieuThuyen","FreeController","FreeDT","FreeDTR","FreeLuBo","InfoBarController","ItemLichSuDieuThuyen","ItemLine","ItemSlotDieuThuyen","LichSuDieuThuyen","NodeChooseFS","ParticerDieuThuyen","SetingSpinDieuThuyen","SpinNormal","AssetDuaXe","AudioDuaXe","BigWinDuaXe","CachChoiDuaXe","DetailHistoryDuaXe","DuaXeEffect","DuaXeSpeedControl","DuaXeView","EffectSymbolDuaXe","EffectTakeTotalMulti","EndFreeSpinDuaXe","InfoBarControllerDuaXe","ItemAddScatterDuaXe","ItemLichSuDuaXe","ItemResultDetailDuaXe","ItemSlotDuaXe","ItemSlotDuaXeNgang","LichSuDuaXe","MultiEffectDuaXe","NearFSDuaXe","SpinNormalDuaXe","StartFreeSpinDuaXe","SymbolDuaXe","DinhBa","DropBoom","ItemBoom","BaseBulletBD","BulletFire","BulletLazeBD","BulletMatThan","BulletMuiKhoanBD","BulletNormal","BulletSongAmBD","CamMayBongDem","BaseFishColision","BaseFishDeaditemDrag","ColisionBoomNguyenTu","ColisionCrab","ColisionCrabBoom","ColisionCrabEndMuiKhoan","ColisionCrabGunFire","ColisionCrabMuiKhoan","ColisionCrabSongAm","ColisionDinhBa","ColisionFish74","ColisionHaiThanDead","ColisionItemHaiThan","ColisionLocXoay","ColisionMatThan","ColisionNormal","PanelPoint","BaseFishBD","BaseFishDead","FISH_DEAD_BD_TYPE","FishDeadBoom","FishDeadCaXau","FishDeadChildHT","FishDeadGroup","FishDeadGroup4","FishDeadHaiThan","FishDeadJackpot","FishDeadMutilReward","FishDeadNoEffect","FishDeadNormal","FishDeadNormalRd","FishDeadRua","FishDeadTrieuHoi","FishDeadTruyGai","FishDeadVongQuay","BaseEffectFish","EffectSet","FISH_TYPE","FishBD70View","FishBDBoomView","FishBDCaTran","FishBDCaTranView","FishBDCaXau","FishBDChildHaiThanView","FishBDGroup","FishBDGroup3View ","FishBDGroup4","FishBDGroup4View","FishBDHaiThan","FishBDHaiThanView","FishBDJackpotView","FishBDManager","FishBDMuiKhoanView","FishBDMutil","FishBDNormal","FishBDNormalView","FishBDRua","FishBDSongAmView","FishBDTruyGaiView","FishBdMutilView","FishStateBD","ScaleFish","FishBDView","FishBongDem","ItemBongDem","PoolBongDem","BaseStateGunBD","GUN_TYPE_BD","GunFishBD","MatThan","StateGunFire","StateGunLaze","StateGunMuiKhoan","StateGunNormal","StateGunSet","StateGunSongAm","HelpBongDem","ItemLichSuJackpot","ItemNhiemVuFish","LichSuJackpot","CODE_EVT","HandleAddItemDrag","HandleChangeBD","HandleChangeMoneyGunFishBD","HandleCreatFishBD","HandleCreatTrieuHoi","HandleFishColisionBD","HandleGunAtackBD","HandleIceAllFishBD","HandleInfoFishRoomBD","HandleNotFindFishBD","HandleOtherJoinRoom","HandlePlayerUsingItemFishBD","HandleRemoveAllListFishBD","HandleRemoveListFishBD","HandleRotateGunBD","HandleSetTimeFishEffectBD","HandleTakeItemFish","HandleTimeOutPlayBD","HandleUsingItemDrag","IResponseBD","CrabVongQuay","NotiFish","TakeJp","BaseItemDrag","BasePlayerBD","DefineSpeedGunBD","BaseEffectPlayer","PlayerUsingAuto","PlayerUsingIce","PlayerUsingSpeed","PlayerUsingTarget","ThuocKeAuto","TypePlayerEffectBD","PlayerBD","PlayerBDManager","TypeItemDragBD","SoundBongDem","ThangLon","TimeOut","mesh-texture-flagBD","mesh-texture-flag","KingKongAssets","KingKongAudio","KingKongCollum","KingKongEffect","KingKongHistory","KingKongHistoryDetail","KingKongInfoBar","KingKongItemHistory","KingKongSetting","KingKongSettingAuto","KingKongSymbol","KingKongView","EdbLoDeController","ItemLichSuLoDe","LichSuLoDe","LoDeConfirmPopup","LoDeController","LoDeView","AssetMatChuoc","AudioMatChuoc","CachChoiMatChuoc","DetailHistoryMatChuoc","EffectMatChuoc","BigwinMatChuoc","EffectDragonFS","EffectSymbolMatChuoc","EndFreeSpinMatChuoc","ItemAddScaterMatChuoc","NearFsMatChuoc","ShuffItemMatChuoc","StartFreeSpinMatChuoc","InfoBarControllerMatChuoc","ItemLichSuMatChuoc","ItemResultDetailMatChuoc","ItemSlotMatChuoc","LichSuMatChuoc","MatChuocView","MutilControlMatChuoc","SpinNormalMatChuoc","SymbolMatChuoc","AssetMatTroi","AudioMatTroi","CachChoiMatTroi","DetailHistoryMatTroi","EffectControlMatTroi","EffectMatTroi","EffectScaterMatTroi","InfoBarControllerMatTroi","ItemLichSuMatTroi","ItemMuitlMatTroi","ItemResultDetaiMatTroi","ItemSlotMatTroi","ItemWinDetailHistory","LichSuMatTroi","MatTroiView","MultiControlMatTroi","SpinNormalMatTroi","SymbolMatTroi","AssetNeko","AudioNeko","DetailHistoryNeko","EffectNeko","InfoBarControllerNeko","ItemDetalNeko","ItemLichSuNeko","ItemMuitlNeko","ItemResultDetailNeko","ItemSlotNeko","ItemSlotNekoNgang","LichSuNeko","MutilControlNeko","NekoSpeedControl","NekoView","SpinNormalNeko","SymbolNeko","HelpMiniPoker","HistoryMiniPoker","ItemMiniPoker","ListennerEventSpin","MiniPokerHistoryItem","MiniPokerView","SpinCardRunning","AssetCandy","EffectCandy","ItemSlotCandy","MiniSlotView","MiniSlot_Guide","MiniSlot_History","MiniSlot_ItemHistory","MiniSlot_ItemRank","MiniSlot_Rank","SoundMiniSlot","EffectItemMuaDong","MuaDongCachChoi","MuaDongEffectScater","MuaDongItemTakeFS","MuaDongVoTanAsset","MuaDongVoTanAudio","MuaDongVoTanDetailHistory","MuaDongVoTanEffect","MuaDongVoTanInfoBarController","MuaDongVoTanItemLichSu","MuaDongVoTanItemSlot","MuaDongVoTanLichSu","MuaDongVoTanPopupFreespin","MuaDongVoTanSpinNormal","MuaDongVoTanSymbol","MuaDongVoTanTopWin","MuaDongVoTanTotalWin","MuaDongVoTanView","AssetNgoKhong","AudioNgoKhong","DetailHistoryNgoKhong","EffectNgoKhong","InfoBarControllerNgoKhong","ItemKhung","ItemLichSuNgoKhong","ItemResultDetail","ItemSlotNgoKhong","LichSuNgoKhong","NgoKhongView","SpinNormalNgoKhong","SymbolNgoKhong","WildMutilSymbol","AssetQuyBa","AudioQuyBa","BigWinQuyBa","BottleControllerQuyBa","BottleItemQuyBa","CachChoiQuyBa","DetailHistoryQuyBa","EffectQuyBa","EffectSymbolQuyBa","EndFreeSpinQuyBa","InfoBarControllerQuyBa","ItemAddScatterQuyBa","ItemLichSuQuyBa","ItemResultDetailQuyBa","ItemSlotQuyBa","LichSuQuyBa","NearFSQuyBa","QuyBaSpeedControl","QuyBaView","SpinNormalQuyBa","StartFreeSpinQuyBa","SymbolQuyBa","RongAssets","RongAudio","RongCollum","RongEffect","RongHistory","RongHistoryDetail","RongInfoBar","RongItemHistory","RongSetting","RongSettingAuto","RongSymbol","RongView","AssetRungRam","AudioRungRam","BaseItemMutil","CachChoiRungRam","DetailHistoryRungRam","EffectRungRam","EffectSymbolRungRam","EndFreeSpinRungRam","ItemAddScaterRungRam","StartFreeSpinRungRam","InfoBarControllerRungRam","ItemDetalRungRam","ItemLichSuRungRam","ItemMutilFs","ItemMutilNomal","ItemResultDetailRungRam","ItemSlotRungRam","ItemSlotRungRamNgang","LichSuRungRam","MutilControlRungRam","RungRamView","SpinNormalRungRam","SymbolRungRam","BanPhimTaiXiu","BatDrag","ChatTaiXiu","ChiTietPhien","HistoryTaiXiu","HuongDan","InfoBetTX","ItemChiTietPhien","ItemHistoryHuTX","ItemTopTx","LichSuCuoc","LichSuHu","SoiCau","SoundTaiXiu","TaiXiu","TopTaiXiu","AssetCaishen","AudioCaishen","BigWinCaiShen","CachChoiCaishen","CaishenSpeedControl","CaishenView","DetailHistoryCaishen","EffectCaishen","EffectSymbolCaishen","EndFreeSpinCaishen","InfoBarControllerCaishen","ItemAddScaterCaishen","ItemLichSuCaishen","ItemResultDetailCaishen","ItemSlotCaishen","ItemSlotCaishenNgang","LichSuCaishen","NearFSCaishen","SpinFreeSpinCaishen","SpinNormalCaishen","StartFreeSpinCaishen","SymbolCaiShen","TestAnim","AudioTL","CardTL","LogicManagerTL","PlayerViewTL","TienLenGameView","BaseButton","BtnAll+1","BtnBetItem","BtnBetXDV","BtnChangePointLeft","BtnChangePointRight","BtnClick","BtnGo","BaseEffect","BaseEffectAnTruoc","BaseEffectEnd","BaseEffectXDVEnd","Effect1CuaTo20","EffectAnJP","EffectAnLuon1Cua","EffectBassNho","EffectDapChuot","EffectDoiMau","EffectEndGame","EffectEndNormal","EffectRan8Dot","EffectRunSpin","EffectSpecial14","EffectSpecial2","EffectSpecial3","EffectSpecial4","EffectSpecial5","EffectSpecial6","EffectSpecial7","EffectSpineSoXo","EffectTraDiem","EffectVe3CuaXDV","EffectVeBar","EffectVeVang","EffectX8ChuyenMau","IDataFinish","X10_30_1Cua","X3_1Cua","IServerResponse","ResponseBetToNho","ResponseLeaveRoom","ResponseMakeBet","ResponseSetMutil","SoundXeng","BaseState","StateFinished","StateFinishedMini","StateGame","StatePlaying","StatePlayingMini","StateWating","StateWatingPlayGame","StateWatingPlayGameMini","Test","XengController","XengModel","XengView","XocDia.Asset","XocDia.Audio","XocDia.ButtonBet","XocDia.ChipBet","XocDia.HistoryBet","XocDia.HistoryMini","XocDia.MenuView","XocDia.Player","XocDia.PopupHistory","XocDiaController","XocDiaView","DevDatePicker","DevItemDay","DropBoxView","AlertMessage","ItemAlertMessage","BotControler","CreatBot","DownloadProgress","UpdateAssetManager","ClearCacheBase64","ConfigScence","BUNDLE","EVENT_MANAGER","FIREBASE_CODE","REQUEST_BONG_DEM","ModelLevel","OSDefine","PathResource","PathSound","PlayerPP","REQUEST_CODE","StateReelSlot","TextDefine","FirebaseController","FullHeight","FullSize","CardResultType","CpPromise","GAME_TYPE","SYSTEM_EVENT","InfoERR","ItemGame","ActiveChildren","BhvButtonGroup","BhvFrameIndex","BhvRollNumber","BhvSwitchPage","CanvasControl","FromDataNative","JsonOb","StringFormat","VMBase","VMCompsEdit","VMCustom","VMEvent","VMLabel","VMModify","VMParent","VMProgress","VMState","ViewModel","CheckPass","CreateTable","EffectIconKhoBau","ItemBetRoom","ItemBtnGame","LobbyView","MainView","NativeCallJs","ConectManager","Http","NotiNoHu","CaptchaController","CaptchaItem","EditboxFormatter","Editboxcontroller","ItemCoppy","ItemLevelController","JackpotItem","JackpotManager","LbMoneyChange","MoneyUser","MoneyUserController","AniFrameByFrame","AnimationRunState","BtnMiniGame","ButtonExpand","DragMiniGame","ItemSafe","LayoutScale","LbMonoSpace","MakeDelay","ObjMakeDelay","OffMiniGame","OpenDefaultAnimClip","AudioManager","BaseEditbox","BaseScrollView","ScrollViewControl","ItemHangLobby","ItemLichSuTraoThuong","ItemRankMonth","ItemRankWeek","LichSuTraoThuong","TopThang","TopTuan","XepHang","BigWinLobby","BigWinLobbyView","ItemBigWin","BonusNap","CaiDat","HoTro","ItemAdminOnline","XacThucTele","ChanSuKien","ChatAdminController","ItemChat","ItemIconAdmin","ItemMoveIconChat","ItemRemoveIconChat","WindownChat","CropImgAva","DaiLy","CapNhatTaiKhoan","DangKy","IconShowPass","DangNhap","Dialog","EffectTakeCoin","HomThu","HomThuController","ItemHomThu","ImgChat","ItemLichSuGiaoDich","LichSuGiaoDich","Loading","MenuInGame","NhiemVuNap","ItemNhiemVu","NhiemVu","NhiemVuConTroller","NotiTopMesage","ItemIndicator","PageData","PageViewEvent","BaseItemQuick","ItemBank","ItemCard","ItemMomo","QuickShop","ReviceItem","DoiTab","ChuyenTien","DoiBank","DoiBankJP","ItemIAP","NapBank","NapBankJP","NapTab","ShopView","BaseStateNap","StateNapCard","StateNapMomo","GiftCode","ItemSuKien","SuKien","TabGiftCode","TabSuKien","PopupSuggestTaiApp","ItemMoKhoa","ItemTangCap","TangCap","DoiAva","DoiThangThai","ItemDoiAva","ThongTin","TietKiem","TransferSportView","VongQuay","SceneFish","SoundLobby","SoundManager1","TestTS","GenDataTest","InfoSpin","ItemSpin","Test - 001","BaseCuaHang","CuaHang","TuiDo","UIManager","UserModel","Util","WebViewControl","Windown","use_reversed_rotateBy"]);